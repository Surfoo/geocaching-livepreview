function W2(Z){let $=-1;for(let J of Z)$+=J.length+1;return $}function z7(Z,$,J=0,Q=1e9){for(let X=0,K=0,Y=!0;K<Z.length&&X<=Q;K++){let U=Z[K],q=X+U.length;if(q>=J){if(q>Q)U=U.slice(0,Q-X);if(X<J)U=U.slice(J-X);if(Y)$[$.length-1]+=U,Y=!1;else $.push(U)}X=q+1}return $}function b8(Z,$,J){return z7(Z,[""],$,J)}function r9(Z,$,J){return $=Math.max(0,Math.min(Z.length,$)),[$,Math.max($,Math.min(Z.length,J))]}function z2(Z){for(let $=1;$<n9.length;$+=2)if(n9[$]>Z)return n9[$-1]<=Z;return!1}function k8(Z){return Z>=127462&&Z<=127487}function Q3(Z,$,J=!0,Q=!0){return(J?g8:j2)(Z,$,Q)}function g8(Z,$,J){if($==Z.length)return $;if($&&l8(Z.charCodeAt($))&&p8(Z.charCodeAt($-1)))$--;let Q=C3(Z,$);$+=c3(Q);while($<Z.length){let X=C3(Z,$);if(Q==x8||X==x8||J&&z2(X))$+=c3(X),Q=X;else if(k8(X)){let K=0,Y=$-2;while(Y>=0&&k8(C3(Z,Y)))K++,Y-=2;if(K%2==0)break;else $+=2}else break}return $}function j2(Z,$,J){while($>0){let Q=g8(Z,$-2,J);if(Q<$)return Q;$--}return 0}function l8(Z){return Z>=56320&&Z<57344}function p8(Z){return Z>=55296&&Z<56320}function C3(Z,$){let J=Z.charCodeAt($);if(!p8(J)||$+1==Z.length)return J;let Q=Z.charCodeAt($+1);if(!l8(Q))return J;return(J-55296<<10)+(Q-56320)+65536}function d8(Z){if(Z<=65535)return String.fromCharCode(Z);return Z-=65536,String.fromCharCode((Z>>10)+55296,(Z&1023)+56320)}function c3(Z){return Z<65536?1:2}function U3(Z,$,J,Q=!1){if($==0&&J<=0)return;let X=Z.length-2;if(X>=0&&J<=0&&J==Z[X+1])Z[X]+=$;else if($==0&&Z[X]==0)Z[X+1]+=J;else if(Q)Z[X]+=$,Z[X+1]+=J;else Z.push($,J)}function _9(Z,$,J){if(J.length==0)return;let Q=$.length-2>>1;if(Q<Z.length)Z[Z.length-1]=Z[Z.length-1].append(J);else{while(Z.length<Q)Z.push(b.empty);Z.push(J)}}function OZ(Z,$,J){let Q=Z.inserted;for(let X=0,K=0,Y=0;Y<Z.sections.length;){let U=Z.sections[Y++],q=Z.sections[Y++];if(q<0)X+=U,K+=U;else{let W=X,G=K,z=b.empty;for(;;){if(W+=U,G+=q,q&&Q)z=z.append(Q[Y-2>>1]);if(J||Y==Z.sections.length||Z.sections[Y+1]<0)break;U=Z.sections[Y++],q=Z.sections[Y++]}$(X,W,K,G,z),X=W,K=G}}}function HZ(Z,$,J,Q=!1){let X=[],K=Q?[]:null,Y=new o9(Z),U=new o9($);for(let q=-1;;)if(Y.ins==-1&&U.ins==-1){let W=Math.min(Y.len,U.len);U3(X,W,-1),Y.forward(W),U.forward(W)}else if(U.ins>=0&&(Y.ins<0||q==Y.i||Y.off==0&&(U.len<Y.len||U.len==Y.len&&!J))){let W=U.len;U3(X,U.ins,-1);while(W){let G=Math.min(Y.len,W);if(Y.ins>=0&&q<Y.i&&Y.len<=G){if(U3(X,0,Y.ins),K)_9(K,X,Y.text);q=Y.i}Y.forward(G),W-=G}U.next()}else if(Y.ins>=0){let W=0,G=Y.len;while(G)if(U.ins==-1){let z=Math.min(G,U.len);W+=z,G-=z,U.forward(z)}else if(U.ins==0&&U.len<G)G-=U.len,U.next();else break;if(U3(X,W,q<Y.i?Y.ins:0),K&&q<Y.i)_9(K,X,Y.text);q=Y.i,Y.forward(Y.len-G)}else if(Y.done&&U.done)return K?e.createSet(X,K):h3.create(X);else throw new Error("Mismatched change set lengths")}function c8(Z,$,J=!1){let Q=[],X=J?[]:null,K=new o9(Z),Y=new o9($);for(let U=!1;;)if(K.done&&Y.done)return X?e.createSet(Q,X):h3.create(Q);else if(K.ins==0)U3(Q,K.len,0,U),K.next();else if(Y.len==0&&!Y.done){if(U3(Q,0,Y.ins,U),X)_9(X,Q,Y.text);Y.next()}else if(K.done||Y.done)throw new Error("Mismatched change set lengths");else{let q=Math.min(K.len2,Y.len),W=Q.length;if(K.ins==-1){let G=Y.ins==-1?-1:Y.off?0:Y.ins;if(U3(Q,q,G,U),X&&G)_9(X,Q,Y.text)}else if(Y.ins==-1){if(U3(Q,K.off?0:K.len,q,U),X)_9(X,Q,K.textBit(q))}else if(U3(Q,K.off?0:K.len,Y.off?0:Y.ins,U),X&&!Y.off)_9(X,Q,Y.text);U=(K.ins>q||Y.ins>=0&&Y.len>q)&&(U||Q.length>W),K.forward2(q),Y.forward(q)}}function s8(Z,$){for(let J of Z.ranges)if(J.to>$)throw new RangeError("Selection points outside of document")}function BZ(Z,$){return Z==$||Z.length==$.length&&Z.every((J,Q)=>J===$[Q])}function w8(Z,$,J){if(Z.length!=$.length)return!1;for(let Q=0;Q<Z.length;Q++)if(!J(Z[Q],$[Q]))return!1;return!0}function FZ(Z,$){let J=!1;for(let Q of $)if(A5(Z,Q)&1)J=!0;return J}function _2(Z,$,J){let Q=J.map((q)=>Z[q.id]),X=J.map((q)=>q.type),K=Q.filter((q)=>!(q&1)),Y=Z[$.id]>>1;function U(q){let W=[];for(let G=0;G<Q.length;G++){let z=O7(q,Q[G]);if(X[G]==2)for(let j of z)W.push(j);else W.push(z)}return $.combine(W)}return{create(q){for(let W of Q)A5(q,W);return q.values[Y]=U(q),1},update(q,W){if(!FZ(q,K))return 0;let G=U(q);if($.compare(G,q.values[Y]))return 0;return q.values[Y]=G,1},reconfigure(q,W){let G=FZ(q,Q),z=W.config.facets[$.id],j=W.facet($);if(z&&!G&&BZ(J,z))return q.values[Y]=j,0;let _=U(q);if($.compare(_,j))return q.values[Y]=j,0;return q.values[Y]=_,1}}}function I5(Z){return($)=>new EZ($,Z)}function O2(Z,$,J){let Q=[[],[],[],[],[]],X=new Map;function K(Y,U){let q=X.get(Y);if(q!=null){if(q<=U)return;let W=Q[q].indexOf(Y);if(W>-1)Q[q].splice(W,1);if(Y instanceof j7)J.delete(Y.compartment)}if(X.set(Y,U),Array.isArray(Y))for(let W of Y)K(W,U);else if(Y instanceof j7){if(J.has(Y.compartment))throw new RangeError("Duplicate use of compartment in extensions");let W=$.get(Y.compartment)||Y.inner;J.set(Y.compartment,W),K(W,U)}else if(Y instanceof EZ)K(Y.inner,Y.prec);else if(Y instanceof F3){if(Q[U].push(Y),Y.provides)K(Y.provides,U)}else if(Y instanceof M5){if(Q[U].push(Y),Y.facet.extensions)K(Y.facet.extensions,P9.default)}else{let W=Y.extension;if(!W)throw new Error(`Unrecognized extension value in extension set (${Y}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);K(W,U)}}return K(Z,P9.default),Q.reduce((Y,U)=>Y.concat(U))}function A5(Z,$){if($&1)return 2;let J=$>>1,Q=Z.status[J];if(Q==4)throw new Error("Cyclic dependency between fields and/or facets");if(Q&2)return Q;Z.status[J]=4;let X=Z.computeSlot(Z,Z.config.dynamicSlots[J]);return Z.status[J]=2|X}function O7(Z,$){return $&1?Z.config.staticValues[$>>1]:Z.values[$>>1]}function H2(Z,$){let J=[];for(let Q=0,X=0;;){let K,Y;if(Q<Z.length&&(X==$.length||$[X]>=Z[Q]))K=Z[Q++],Y=Z[Q++];else if(X<$.length)K=$[X++],Y=$[X++];else return J;if(!J.length||J[J.length-1]<K)J.push(K,Y);else if(J[J.length-1]<Y)J[J.length-1]=Y}}function $0(Z,$,J){var Q;let X,K,Y;if(J)X=$.changes,K=e.empty($.changes.length),Y=Z.changes.compose($.changes);else X=$.changes.map(Z.changes),K=Z.changes.mapDesc($.changes,!0),Y=Z.changes.compose(X);return{changes:Y,selection:$.selection?$.selection.map(K):(Q=Z.selection)===null||Q===void 0?void 0:Q.map(X),effects:v.mapEffects(Z.effects,X).concat(v.mapEffects($.effects,K)),annotations:Z.annotations.length?Z.annotations.concat($.annotations):$.annotations,scrollIntoView:Z.scrollIntoView||$.scrollIntoView}}function DZ(Z,$,J){let Q=$.selection,X=a9($.annotations);if($.userEvent)X=X.concat(a.userEvent.of($.userEvent));return{changes:$.changes instanceof e?$.changes:e.of($.changes||[],J,Z.facet(n8)),selection:Q&&(Q instanceof R?Q:R.single(Q.anchor,Q.head)),effects:a9($.effects),annotations:X,scrollIntoView:!!$.scrollIntoView}}function J0(Z,$,J){let Q=DZ(Z,$.length?$[0]:{},Z.doc.length);if($.length&&$[0].filter===!1)J=!1;for(let K=1;K<$.length;K++){if($[K].filter===!1)J=!1;let Y=!!$[K].sequential;Q=$0(Q,DZ(Z,$[K],Y?Q.changes.newLength:Z.doc.length),Y)}let X=a.create(Z,Q.changes,Q.selection,Q.effects,Q.annotations,Q.scrollIntoView);return N2(J?F2(X):X)}function F2(Z){let $=Z.startState,J=!0;for(let X of $.facet(a8)){let K=X(Z);if(K===!1){J=!1;break}if(Array.isArray(K))J=J===!0?K:H2(J,K)}if(J!==!0){let X,K;if(J===!1)K=Z.changes.invertedDesc,X=e.empty($.doc.length);else{let Y=Z.changes.filter(J);X=Y.changes,K=Y.filtered.mapDesc(Y.changes).invertedDesc}Z=a.create($,X,Z.selection&&Z.selection.map(K),v.mapEffects(Z.effects,K),Z.annotations,Z.scrollIntoView)}let Q=$.facet(r8);for(let X=Q.length-1;X>=0;X--){let K=Q[X](Z);if(K instanceof a)Z=K;else if(Array.isArray(K)&&K.length==1&&K[0]instanceof a)Z=K[0];else Z=J0($,a9(K),!1)}return Z}function N2(Z){let $=Z.startState,J=$.facet(o8),Q=Z;for(let X=J.length-1;X>=0;X--){let K=J[X](Z);if(K&&Object.keys(K).length)Q=$0(Q,DZ($,K,Z.changes.newLength),!0)}return Q==Z?Z:a.create($,Z.changes,Z.selection,Q.effects,Q.annotations,Q.scrollIntoView)}function a9(Z){return Z==null?D2:Array.isArray(Z)?Z:[Z]}function V2(Z){if(RZ)return RZ.test(Z);for(let $=0;$<Z.length;$++){let J=Z[$];if(/\w/.test(J)||J>"\x80"&&(J.toUpperCase()!=J.toLowerCase()||R2.test(J)))return!0}return!1}function I2(Z){return($)=>{if(!/\S/.test($))return P3.Space;if(V2($))return P3.Word;for(let J=0;J<Z.length;J++)if($.indexOf(Z[J])>-1)return P3.Word;return P3.Other}}function y9(Z,$,J={}){let Q={};for(let X of Z)for(let K of Object.keys(X)){let Y=X[K],U=Q[K];if(U===void 0)Q[K]=Y;else if(U===Y||Y===void 0);else if(Object.hasOwnProperty.call(J,K))Q[K]=J[K](U,Y);else throw new Error("Config merge conflict for field "+K)}for(let X in $)if(Q[X]===void 0)Q[X]=$[X];return Q}function VZ(Z,$){return Z.from-$.from||Z.value.startSide-$.value.startSide}function M2(Z){if(Z.length>1)for(let $=Z[0],J=1;J<Z.length;J++){let Q=Z[J];if(VZ($,Q)>0)return Z.slice().sort(VZ);$=Q}return Z}function h8(Z,$,J){let Q=new Map;for(let K of Z)for(let Y=0;Y<K.chunk.length;Y++)if(K.chunk[Y].maxPoint<=0)Q.set(K.chunk[Y],K.chunkPos[Y]);let X=new Set;for(let K of $)for(let Y=0;Y<K.chunk.length;Y++){let U=Q.get(K.chunk[Y]);if(U!=null&&(J?J.mapPos(U):U)==K.chunkPos[Y]&&!(J===null||J===void 0?void 0:J.touchesRange(U,U+K.chunk[Y].length)))X.add(K.chunk[Y])}return X}function jZ(Z,$){for(let J=Z[$];;){let Q=($<<1)+1;if(Q>=Z.length)break;let X=Z[Q];if(Q+1<Z.length&&X.compare(Z[Q+1])>=0)X=Z[Q+1],Q++;if(J.compare(X)<0)break;Z[Q]=J,Z[$]=X,$=Q}}function m8(Z,$,J,Q,X,K){Z.goto($),J.goto(Q);let Y=Q+X,U=Q,q=Q-$;for(;;){let W=Z.to+q-J.to||Z.endSide-J.endSide,G=W<0?Z.to+q:J.to,z=Math.min(G,Y);if(Z.point||J.point){if(!(Z.point&&J.point&&(Z.point==J.point||Z.point.eq(J.point))&&IZ(Z.activeForPoint(Z.to),J.activeForPoint(J.to))))K.comparePoint(U,z,Z.point,J.point)}else if(z>U&&!IZ(Z.active,J.active))K.compareRange(U,z,Z.active,J.active);if(G>Y)break;if(U=G,W<=0)Z.next();if(W>=0)J.next()}}function IZ(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++)if(Z[J]!=$[J]&&!Z[J].eq($[J]))return!1;return!0}function G7(Z,$){for(let J=$,Q=Z.length-1;J<Q;J++)Z[J]=Z[J+1];Z.pop()}function W7(Z,$,J){for(let Q=Z.length-1;Q>=$;Q--)Z[Q+1]=Z[Q];Z[$]=J}function u8(Z,$){let J=-1,Q=1e9;for(let X=0;X<$.length;X++)if(($[X]-Q||Z[X].endSide-Z[J].endSide)<0)J=X,Q=$[X];return J}function S9(Z,$,J=Z.length){let Q=0;for(let X=0;X<J;)if(Z.charCodeAt(X)==9)Q+=$-Q%$,X++;else Q++,X=Q3(Z,X);return Q}function Q0(Z,$,J,Q){for(let X=0,K=0;;){if(K>=$)return X;if(X==Z.length)break;K+=Z.charCodeAt(X)==9?J-K%J:1,X=Q3(Z,X)}return Q===!0?-1:Z.length}class b{lineAt(Z){if(Z<0||Z>this.length)throw new RangeError(`Invalid position ${Z} in document of length ${this.length}`);return this.lineInner(Z,!1,1,0)}line(Z){if(Z<1||Z>this.lines)throw new RangeError(`Invalid line number ${Z} in ${this.lines}-line document`);return this.lineInner(Z,!0,1,0)}replace(Z,$,J){[Z,$]=r9(this,Z,$);let Q=[];if(this.decompose(0,Z,Q,2),J.length)J.decompose(0,J.length,Q,3);return this.decompose($,this.length,Q,1),d3.from(Q,this.length-($-Z)+J.length)}append(Z){return this.replace(this.length,this.length,Z)}slice(Z,$=this.length){[Z,$]=r9(this,Z,$);let J=[];return this.decompose(Z,$,J,0),d3.from(J,$-Z)}eq(Z){if(Z==this)return!0;if(Z.length!=this.length||Z.lines!=this.lines)return!1;let $=this.scanIdentical(Z,1),J=this.length-this.scanIdentical(Z,-1),Q=new i9(this),X=new i9(Z);for(let K=$,Y=$;;){if(Q.next(K),X.next(K),K=0,Q.lineBreak!=X.lineBreak||Q.done!=X.done||Q.value!=X.value)return!1;if(Y+=Q.value.length,Q.done||Y>=J)return!0}}iter(Z=1){return new i9(this,Z)}iterRange(Z,$=this.length){return new MZ(this,Z,$)}iterLines(Z,$){let J;if(Z==null)J=this.iter();else{if($==null)$=this.lines+1;let Q=this.line(Z).from;J=this.iterRange(Q,Math.max(Q,$==this.lines+1?this.length:$<=1?0:this.line($-1).to))}return new AZ(J)}toString(){return this.sliceString(0)}toJSON(){let Z=[];return this.flatten(Z),Z}constructor(){}static of(Z){if(Z.length==0)throw new RangeError("A document must have at least one line");if(Z.length==1&&!Z[0])return b.empty;return Z.length<=32?new t(Z):d3.from(t.split(Z,[]))}}class t extends b{constructor(Z,$=W2(Z)){super();this.text=Z,this.length=$}get lines(){return this.text.length}get children(){return null}lineInner(Z,$,J,Q){for(let X=0;;X++){let K=this.text[X],Y=Q+K.length;if(($?J:Y)>=Z)return new f8(Q,Y,J,K);Q=Y+1,J++}}decompose(Z,$,J,Q){let X=Z<=0&&$>=this.length?this:new t(b8(this.text,Z,$),Math.min($,this.length)-Math.max(0,Z));if(Q&1){let K=J.pop(),Y=z7(X.text,K.text.slice(),0,X.length);if(Y.length<=32)J.push(new t(Y,K.length+X.length));else{let U=Y.length>>1;J.push(new t(Y.slice(0,U)),new t(Y.slice(U)))}}else J.push(X)}replace(Z,$,J){if(!(J instanceof t))return super.replace(Z,$,J);[Z,$]=r9(this,Z,$);let Q=z7(this.text,z7(J.text,b8(this.text,0,Z)),$),X=this.length+J.length-($-Z);if(Q.length<=32)return new t(Q,X);return d3.from(t.split(Q,[]),X)}sliceString(Z,$=this.length,J="\n"){[Z,$]=r9(this,Z,$);let Q="";for(let X=0,K=0;X<=$&&K<this.text.length;K++){let Y=this.text[K],U=X+Y.length;if(X>Z&&K)Q+=J;if(Z<U&&$>X)Q+=Y.slice(Math.max(0,Z-X),$-X);X=U+1}return Q}flatten(Z){for(let $ of this.text)Z.push($)}scanIdentical(){return 0}static split(Z,$){let J=[],Q=-1;for(let X of Z)if(J.push(X),Q+=X.length+1,J.length==32)$.push(new t(J,Q)),J=[],Q=-1;if(Q>-1)$.push(new t(J,Q));return $}}class d3 extends b{constructor(Z,$){super();this.children=Z,this.length=$,this.lines=0;for(let J of Z)this.lines+=J.lines}lineInner(Z,$,J,Q){for(let X=0;;X++){let K=this.children[X],Y=Q+K.length,U=J+K.lines-1;if(($?U:Y)>=Z)return K.lineInner(Z,$,J,Q);Q=Y+1,J=U+1}}decompose(Z,$,J,Q){for(let X=0,K=0;K<=$&&X<this.children.length;X++){let Y=this.children[X],U=K+Y.length;if(Z<=U&&$>=K){let q=Q&((K<=Z?1:0)|(U>=$?2:0));if(K>=Z&&U<=$&&!q)J.push(Y);else Y.decompose(Z-K,$-K,J,q)}K=U+1}}replace(Z,$,J){if([Z,$]=r9(this,Z,$),J.lines<this.lines)for(let Q=0,X=0;Q<this.children.length;Q++){let K=this.children[Q],Y=X+K.length;if(Z>=X&&$<=Y){let U=K.replace(Z-X,$-X,J),q=this.lines-K.lines+U.lines;if(U.lines<q>>4&&U.lines>q>>6){let W=this.children.slice();return W[Q]=U,new d3(W,this.length-($-Z)+J.length)}return super.replace(X,Y,U)}X=Y+1}return super.replace(Z,$,J)}sliceString(Z,$=this.length,J="\n"){[Z,$]=r9(this,Z,$);let Q="";for(let X=0,K=0;X<this.children.length&&K<=$;X++){let Y=this.children[X],U=K+Y.length;if(K>Z&&X)Q+=J;if(Z<U&&$>K)Q+=Y.sliceString(Z-K,$-K,J);K=U+1}return Q}flatten(Z){for(let $ of this.children)$.flatten(Z)}scanIdentical(Z,$){if(!(Z instanceof d3))return 0;let J=0,[Q,X,K,Y]=$>0?[0,0,this.children.length,Z.children.length]:[this.children.length-1,Z.children.length-1,-1,-1];for(;;Q+=$,X+=$){if(Q==K||X==Y)return J;let U=this.children[Q],q=Z.children[X];if(U!=q)return J+U.scanIdentical(q,$);J+=U.length+1}}static from(Z,$=Z.reduce((J,Q)=>J+Q.length+1,-1)){let J=0;for(let j of Z)J+=j.lines;if(J<32){let j=[];for(let _ of Z)_.flatten(j);return new t(j,$)}let Q=Math.max(32,J>>5),X=Q<<1,K=Q>>1,Y=[],U=0,q=-1,W=[];function G(j){let _;if(j.lines>X&&j instanceof d3)for(let H of j.children)G(H);else if(j.lines>K&&(U>K||!U))z(),Y.push(j);else if(j instanceof t&&U&&(_=W[W.length-1])instanceof t&&j.lines+_.lines<=32)U+=j.lines,q+=j.length+1,W[W.length-1]=new t(_.text.concat(j.text),_.length+1+j.length);else{if(U+j.lines>Q)z();U+=j.lines,q+=j.length+1,W.push(j)}}function z(){if(U==0)return;Y.push(W.length==1?W[0]:d3.from(W,q)),q=-1,U=W.length=0}for(let j of Z)G(j);return z(),Y.length==1?Y[0]:new d3(Y,$)}}b.empty=new t([""],0);class i9{constructor(Z,$=1){this.dir=$,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Z],this.offsets=[$>0?1:(Z instanceof t?Z.text.length:Z.children.length)<<1]}nextInner(Z,$){this.done=this.lineBreak=!1;for(;;){let J=this.nodes.length-1,Q=this.nodes[J],X=this.offsets[J],K=X>>1,Y=Q instanceof t?Q.text.length:Q.children.length;if(K==($>0?Y:0)){if(J==0)return this.done=!0,this.value="",this;if($>0)this.offsets[J-1]++;this.nodes.pop(),this.offsets.pop()}else if((X&1)==($>0?0:1)){if(this.offsets[J]+=$,Z==0)return this.lineBreak=!0,this.value="\n",this;Z--}else if(Q instanceof t){let U=Q.text[K+($<0?-1:0)];if(this.offsets[J]+=$,U.length>Math.max(0,Z))return this.value=Z==0?U:$>0?U.slice(Z):U.slice(0,U.length-Z),this;Z-=U.length}else{let U=Q.children[K+($<0?-1:0)];if(Z>U.length)Z-=U.length,this.offsets[J]+=$;else{if($<0)this.offsets[J]--;this.nodes.push(U),this.offsets.push($>0?1:(U instanceof t?U.text.length:U.children.length)<<1)}}}}next(Z=0){if(Z<0)this.nextInner(-Z,-this.dir),Z=this.value.length;return this.nextInner(Z,this.dir)}}class MZ{constructor(Z,$,J){this.value="",this.done=!1,this.cursor=new i9(Z,$>J?-1:1),this.pos=$>J?Z.length:0,this.from=Math.min($,J),this.to=Math.max($,J)}nextInner(Z,$){if($<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Z+=Math.max(0,$<0?this.pos-this.to:this.from-this.pos);let J=$<0?this.pos-this.from:this.to-this.pos;if(Z>J)Z=J;J-=Z;let{value:Q}=this.cursor.next(Z);return this.pos+=(Q.length+Z)*$,this.value=Q.length<=J?Q:$<0?Q.slice(Q.length-J):Q.slice(0,J),this.done=!this.value,this}next(Z=0){if(Z<0)Z=Math.max(Z,this.from-this.pos);else if(Z>0)Z=Math.min(Z,this.to-this.pos);return this.nextInner(Z,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class AZ{constructor(Z){this.inner=Z,this.afterBreak=!0,this.value="",this.done=!1}next(Z=0){let{done:$,lineBreak:J,value:Q}=this.inner.next(Z);if($&&this.afterBreak)this.value="",this.afterBreak=!1;else if($)this.done=!0,this.value="";else if(J)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=Q,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol!="undefined")b.prototype[Symbol.iterator]=function(){return this.iter()},i9.prototype[Symbol.iterator]=MZ.prototype[Symbol.iterator]=AZ.prototype[Symbol.iterator]=function(){return this};class f8{constructor(Z,$,J,Q){this.from=Z,this.to=$,this.number=J,this.text=Q}get length(){return this.to-this.from}}var n9="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((Z)=>Z?parseInt(Z,36):1);for(let Z=1;Z<n9.length;Z++)n9[Z]+=n9[Z-1];var x8=8205,_Z=/\r\n?|\n/,J3=function(Z){return Z[Z.Simple=0]="Simple",Z[Z.TrackDel=1]="TrackDel",Z[Z.TrackBefore=2]="TrackBefore",Z[Z.TrackAfter=3]="TrackAfter",Z}(J3||(J3={}));class h3{constructor(Z){this.sections=Z}get length(){let Z=0;for(let $=0;$<this.sections.length;$+=2)Z+=this.sections[$];return Z}get newLength(){let Z=0;for(let $=0;$<this.sections.length;$+=2){let J=this.sections[$+1];Z+=J<0?this.sections[$]:J}return Z}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Z){for(let $=0,J=0,Q=0;$<this.sections.length;){let X=this.sections[$++],K=this.sections[$++];if(K<0)Z(J,Q,X),Q+=X;else Q+=K;J+=X}}iterChangedRanges(Z,$=!1){OZ(this,Z,$)}get invertedDesc(){let Z=[];for(let $=0;$<this.sections.length;){let J=this.sections[$++],Q=this.sections[$++];if(Q<0)Z.push(J,Q);else Z.push(Q,J)}return new h3(Z)}composeDesc(Z){return this.empty?Z:Z.empty?this:c8(this,Z)}mapDesc(Z,$=!1){return Z.empty?this:HZ(this,Z,$)}mapPos(Z,$=-1,J=J3.Simple){let Q=0,X=0;for(let K=0;K<this.sections.length;){let Y=this.sections[K++],U=this.sections[K++],q=Q+Y;if(U<0){if(q>Z)return X+(Z-Q);X+=Y}else{if(J!=J3.Simple&&q>=Z&&(J==J3.TrackDel&&Q<Z&&q>Z||J==J3.TrackBefore&&Q<Z||J==J3.TrackAfter&&q>Z))return null;if(q>Z||q==Z&&$<0&&!Y)return Z==Q||$<0?X:X+U;X+=U}Q=q}if(Z>Q)throw new RangeError(`Position ${Z} is out of range for changeset of length ${Q}`);return X}touchesRange(Z,$=Z){for(let J=0,Q=0;J<this.sections.length&&Q<=$;){let X=this.sections[J++],K=this.sections[J++],Y=Q+X;if(K>=0&&Q<=$&&Y>=Z)return Q<Z&&Y>$?"cover":!0;Q=Y}return!1}toString(){let Z="";for(let $=0;$<this.sections.length;){let J=this.sections[$++],Q=this.sections[$++];Z+=(Z?" ":"")+J+(Q>=0?":"+Q:"")}return Z}toJSON(){return this.sections}static fromJSON(Z){if(!Array.isArray(Z)||Z.length%2||Z.some(($)=>typeof $!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new h3(Z)}static create(Z){return new h3(Z)}}class e extends h3{constructor(Z,$){super(Z);this.inserted=$}apply(Z){if(this.length!=Z.length)throw new RangeError("Applying change set to a document with the wrong length");return OZ(this,($,J,Q,X,K)=>Z=Z.replace(Q,Q+(J-$),K),!1),Z}mapDesc(Z,$=!1){return HZ(this,Z,$,!0)}invert(Z){let $=this.sections.slice(),J=[];for(let Q=0,X=0;Q<$.length;Q+=2){let K=$[Q],Y=$[Q+1];if(Y>=0){$[Q]=Y,$[Q+1]=K;let U=Q>>1;while(J.length<U)J.push(b.empty);J.push(K?Z.slice(X,X+K):b.empty)}X+=K}return new e($,J)}compose(Z){return this.empty?Z:Z.empty?this:c8(this,Z,!0)}map(Z,$=!1){return Z.empty?this:HZ(this,Z,$,!0)}iterChanges(Z,$=!1){OZ(this,Z,$)}get desc(){return h3.create(this.sections)}filter(Z){let $=[],J=[],Q=[],X=new o9(this);Z:for(let K=0,Y=0;;){let U=K==Z.length?1e9:Z[K++];while(Y<U||Y==U&&X.len==0){if(X.done)break Z;let W=Math.min(X.len,U-Y);U3(Q,W,-1);let G=X.ins==-1?-1:X.off==0?X.ins:0;if(U3($,W,G),G>0)_9(J,$,X.text);X.forward(W),Y+=W}let q=Z[K++];while(Y<q){if(X.done)break Z;let W=Math.min(X.len,q-Y);U3($,W,-1),U3(Q,W,X.ins==-1?-1:X.off==0?X.ins:0),X.forward(W),Y+=W}}return{changes:new e($,J),filtered:h3.create(Q)}}toJSON(){let Z=[];for(let $=0;$<this.sections.length;$+=2){let J=this.sections[$],Q=this.sections[$+1];if(Q<0)Z.push(J);else if(Q==0)Z.push([J]);else Z.push([J].concat(this.inserted[$>>1].toJSON()))}return Z}static of(Z,$,J){let Q=[],X=[],K=0,Y=null;function U(W=!1){if(!W&&!Q.length)return;if(K<$)U3(Q,$-K,-1);let G=new e(Q,X);Y=Y?Y.compose(G.map(Y)):G,Q=[],X=[],K=0}function q(W){if(Array.isArray(W))for(let G of W)q(G);else if(W instanceof e){if(W.length!=$)throw new RangeError(`Mismatched change set length (got ${W.length}, expected ${$})`);U(),Y=Y?Y.compose(W.map(Y)):W}else{let{from:G,to:z=G,insert:j}=W;if(G>z||G<0||z>$)throw new RangeError(`Invalid change range ${G} to ${z} (in doc of length ${$})`);let _=!j?b.empty:typeof j=="string"?b.of(j.split(J||_Z)):j,H=_.length;if(G==z&&H==0)return;if(G<K)U();if(G>K)U3(Q,G-K,-1);U3(Q,z-G,H),_9(X,Q,_),K=z}}return q(Z),U(!Y),Y}static empty(Z){return new e(Z?[Z,-1]:[],[])}static fromJSON(Z){if(!Array.isArray(Z))throw new RangeError("Invalid JSON representation of ChangeSet");let $=[],J=[];for(let Q=0;Q<Z.length;Q++){let X=Z[Q];if(typeof X=="number")$.push(X,-1);else if(!Array.isArray(X)||typeof X[0]!="number"||X.some((K,Y)=>Y&&typeof K!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");else if(X.length==1)$.push(X[0],0);else{while(J.length<Q)J.push(b.empty);J[Q]=b.of(X.slice(1)),$.push(X[0],J[Q].length)}}return new e($,J)}static createSet(Z,$){return new e(Z,$)}}class o9{constructor(Z){this.set=Z,this.i=0,this.next()}next(){let{sections:Z}=this.set;if(this.i<Z.length)this.len=Z[this.i++],this.ins=Z[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Z}=this.set,$=this.i-2>>1;return $>=Z.length?b.empty:Z[$]}textBit(Z){let{inserted:$}=this.set,J=this.i-2>>1;return J>=$.length&&!Z?b.empty:$[J].slice(this.off,Z==null?void 0:this.off+Z)}forward(Z){if(Z==this.len)this.next();else this.len-=Z,this.off+=Z}forward2(Z){if(this.ins==-1)this.forward(Z);else if(Z==this.ins)this.next();else this.ins-=Z,this.off+=Z}}class C9{constructor(Z,$,J){this.from=Z,this.to=$,this.flags=J}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Z=this.flags&7;return Z==7?null:Z}get goalColumn(){let Z=this.flags>>6;return Z==16777215?void 0:Z}map(Z,$=-1){let J,Q;if(this.empty)J=Q=Z.mapPos(this.from,$);else J=Z.mapPos(this.from,1),Q=Z.mapPos(this.to,-1);return J==this.from&&Q==this.to?this:new C9(J,Q,this.flags)}extend(Z,$=Z){if(Z<=this.anchor&&$>=this.anchor)return R.range(Z,$);let J=Math.abs(Z-this.anchor)>Math.abs($-this.anchor)?Z:$;return R.range(this.anchor,J)}eq(Z,$=!1){return this.anchor==Z.anchor&&this.head==Z.head&&(!$||!this.empty||this.assoc==Z.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Z){if(!Z||typeof Z.anchor!="number"||typeof Z.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return R.range(Z.anchor,Z.head)}static create(Z,$,J){return new C9(Z,$,J)}}class R{constructor(Z,$){this.ranges=Z,this.mainIndex=$}map(Z,$=-1){if(Z.empty)return this;return R.create(this.ranges.map((J)=>J.map(Z,$)),this.mainIndex)}eq(Z,$=!1){if(this.ranges.length!=Z.ranges.length||this.mainIndex!=Z.mainIndex)return!1;for(let J=0;J<this.ranges.length;J++)if(!this.ranges[J].eq(Z.ranges[J],$))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new R([this.main],0)}addRange(Z,$=!0){return R.create([Z].concat(this.ranges),$?0:this.mainIndex+1)}replaceRange(Z,$=this.mainIndex){let J=this.ranges.slice();return J[$]=Z,R.create(J,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((Z)=>Z.toJSON()),main:this.mainIndex}}static fromJSON(Z){if(!Z||!Array.isArray(Z.ranges)||typeof Z.main!="number"||Z.main>=Z.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new R(Z.ranges.map(($)=>C9.fromJSON($)),Z.main)}static single(Z,$=Z){return new R([R.range(Z,$)],0)}static create(Z,$=0){if(Z.length==0)throw new RangeError("A selection needs at least one range");for(let J=0,Q=0;Q<Z.length;Q++){let X=Z[Q];if(X.empty?X.from<=J:X.from<J)return R.normalized(Z.slice(),$);J=X.to}return new R(Z,$)}static cursor(Z,$=0,J,Q){return C9.create(Z,Z,($==0?0:$<0?8:16)|(J==null?7:Math.min(6,J))|(Q!==null&&Q!==void 0?Q:16777215)<<6)}static range(Z,$,J,Q){let X=(J!==null&&J!==void 0?J:16777215)<<6|(Q==null?7:Math.min(6,Q));return $<Z?C9.create($,Z,48|X):C9.create(Z,$,($>Z?8:0)|X)}static normalized(Z,$=0){let J=Z[$];Z.sort((Q,X)=>Q.from-X.from),$=Z.indexOf(J);for(let Q=1;Q<Z.length;Q++){let X=Z[Q],K=Z[Q-1];if(X.empty?X.from<=K.to:X.from<K.to){let Y=K.from,U=Math.max(X.to,K.to);if(Q<=$)$--;Z.splice(--Q,2,X.anchor>X.head?R.range(U,Y):R.range(Y,U))}}return new R(Z,$)}}var LZ=0;class B{constructor(Z,$,J,Q,X){this.combine=Z,this.compareInput=$,this.compare=J,this.isStatic=Q,this.id=LZ++,this.default=Z([]),this.extensions=typeof X=="function"?X(this):X}get reader(){return this}static define(Z={}){return new B(Z.combine||(($)=>$),Z.compareInput||(($,J)=>$===J),Z.compare||(!Z.combine?BZ:($,J)=>$===J),!!Z.static,Z.enables)}of(Z){return new M5([],this,0,Z)}compute(Z,$){if(this.isStatic)throw new Error("Can't compute a static facet");return new M5(Z,this,1,$)}computeN(Z,$){if(this.isStatic)throw new Error("Can't compute a static facet");return new M5(Z,this,2,$)}from(Z,$){if(!$)$=(J)=>J;return this.compute([Z],(J)=>$(J.field(Z)))}}class M5{constructor(Z,$,J,Q){this.dependencies=Z,this.facet=$,this.type=J,this.value=Q,this.id=LZ++}dynamicSlot(Z){var $;let J=this.value,Q=this.facet.compareInput,X=this.id,K=Z[X]>>1,Y=this.type==2,U=!1,q=!1,W=[];for(let G of this.dependencies)if(G=="doc")U=!0;else if(G=="selection")q=!0;else if(((($=Z[G.id])!==null&&$!==void 0?$:1)&1)==0)W.push(Z[G.id]);return{create(G){return G.values[K]=J(G),1},update(G,z){if(U&&z.docChanged||q&&(z.docChanged||z.selection)||FZ(G,W)){let j=J(G);if(Y?!w8(j,G.values[K],Q):!Q(j,G.values[K]))return G.values[K]=j,1}return 0},reconfigure:(G,z)=>{let j,_=z.config.address[X];if(_!=null){let H=O7(z,_);if(this.dependencies.every((F)=>{return F instanceof B?z.facet(F)===G.facet(F):F instanceof F3?z.field(F,!1)==G.field(F,!1):!0})||(Y?w8(j=J(G),H,Q):Q(j=J(G),H)))return G.values[K]=H,0}else j=J(G);return G.values[K]=j,1}}}}var v8=B.define({static:!0});class F3{constructor(Z,$,J,Q,X){this.id=Z,this.createF=$,this.updateF=J,this.compareF=Q,this.spec=X,this.provides=void 0}static define(Z){let $=new F3(LZ++,Z.create,Z.update,Z.compare||((J,Q)=>J===Q),Z);if(Z.provide)$.provides=Z.provide($);return $}create(Z){let $=Z.facet(v8).find((J)=>J.field==this);return(($===null||$===void 0?void 0:$.create)||this.createF)(Z)}slot(Z){let $=Z[this.id]>>1;return{create:(J)=>{return J.values[$]=this.create(J),1},update:(J,Q)=>{let X=J.values[$],K=this.updateF(X,Q);if(this.compareF(X,K))return 0;return J.values[$]=K,1},reconfigure:(J,Q)=>{if(Q.config.address[this.id]!=null)return J.values[$]=Q.field(this),0;return J.values[$]=this.create(J),1}}}init(Z){return[this,v8.of({field:this,create:Z})]}get extension(){return this}}var P9={lowest:4,low:3,default:2,high:1,highest:0},Q9={highest:I5(P9.highest),high:I5(P9.high),default:I5(P9.default),low:I5(P9.low),lowest:I5(P9.lowest)};class EZ{constructor(Z,$){this.inner=Z,this.prec=$}}class H7{of(Z){return new j7(this,Z)}reconfigure(Z){return H7.reconfigure.of({compartment:this,extension:Z})}get(Z){return Z.config.compartments.get(this)}}class j7{constructor(Z,$){this.compartment=Z,this.inner=$}}class _7{constructor(Z,$,J,Q,X,K){this.base=Z,this.compartments=$,this.dynamicSlots=J,this.address=Q,this.staticValues=X,this.facets=K,this.statusTemplate=[];while(this.statusTemplate.length<J.length)this.statusTemplate.push(0)}staticFacet(Z){let $=this.address[Z.id];return $==null?Z.default:this.staticValues[$>>1]}static resolve(Z,$,J){let Q=[],X=Object.create(null),K=new Map;for(let z of O2(Z,$,K))if(z instanceof F3)Q.push(z);else(X[z.facet.id]||(X[z.facet.id]=[])).push(z);let Y=Object.create(null),U=[],q=[];for(let z of Q)Y[z.id]=q.length<<1,q.push((j)=>z.slot(j));let W=J===null||J===void 0?void 0:J.config.facets;for(let z in X){let j=X[z],_=j[0].facet,H=W&&W[z]||[];if(j.every((F)=>F.type==0))if(Y[_.id]=U.length<<1|1,BZ(H,j))U.push(J.facet(_));else{let F=_.combine(j.map((N)=>N.value));U.push(J&&_.compare(F,J.facet(_))?J.facet(_):F)}else{for(let F of j)if(F.type==0)Y[F.id]=U.length<<1|1,U.push(F.value);else Y[F.id]=q.length<<1,q.push((N)=>F.dynamicSlot(N));Y[_.id]=q.length<<1,q.push((F)=>_2(F,_,j))}}let G=q.map((z)=>z(Y));return new _7(Z,K,G,Y,U,X)}}var i8=B.define(),NZ=B.define({combine:(Z)=>Z.some(($)=>$),static:!0}),n8=B.define({combine:(Z)=>Z.length?Z[0]:void 0,static:!0}),a8=B.define(),r8=B.define(),o8=B.define(),t8=B.define({combine:(Z)=>Z.length?Z[0]:!1});class V3{constructor(Z,$){this.type=Z,this.value=$}static define(){return new e8}}class e8{of(Z){return new V3(this,Z)}}class Z0{constructor(Z){this.map=Z}of(Z){return new v(this,Z)}}class v{constructor(Z,$){this.type=Z,this.value=$}map(Z){let $=this.type.map(this.value,Z);return $===void 0?void 0:$==this.value?this:new v(this.type,$)}is(Z){return this.type==Z}static define(Z={}){return new Z0(Z.map||(($)=>$))}static mapEffects(Z,$){if(!Z.length)return Z;let J=[];for(let Q of Z){let X=Q.map($);if(X)J.push(X)}return J}}v.reconfigure=v.define();v.appendConfig=v.define();class a{constructor(Z,$,J,Q,X,K){if(this.startState=Z,this.changes=$,this.selection=J,this.effects=Q,this.annotations=X,this.scrollIntoView=K,this._doc=null,this._state=null,J)s8(J,$.newLength);if(!X.some((Y)=>Y.type==a.time))this.annotations=X.concat(a.time.of(Date.now()))}static create(Z,$,J,Q,X,K){return new a(Z,$,J,Q,X,K)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(Z){for(let $ of this.annotations)if($.type==Z)return $.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Z){let $=this.annotation(a.userEvent);return!!($&&($==Z||$.length>Z.length&&$.slice(0,Z.length)==Z&&$[Z.length]=="."))}}a.time=V3.define();a.userEvent=V3.define();a.addToHistory=V3.define();a.remote=V3.define();var D2=[],P3=function(Z){return Z[Z.Word=0]="Word",Z[Z.Space=1]="Space",Z[Z.Other=2]="Other",Z}(P3||(P3={})),R2=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,RZ;try{RZ=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Z){}class m{constructor(Z,$,J,Q,X,K){if(this.config=Z,this.doc=$,this.selection=J,this.values=Q,this.status=Z.statusTemplate.slice(),this.computeSlot=X,K)K._state=this;for(let Y=0;Y<this.config.dynamicSlots.length;Y++)A5(this,Y<<1);this.computeSlot=null}field(Z,$=!0){let J=this.config.address[Z.id];if(J==null){if($)throw new RangeError("Field is not present in this state");return}return A5(this,J),O7(this,J)}update(...Z){return J0(this,Z,!0)}applyTransaction(Z){let $=this.config,{base:J,compartments:Q}=$;for(let Y of Z.effects)if(Y.is(H7.reconfigure)){if($)Q=new Map,$.compartments.forEach((U,q)=>Q.set(q,U)),$=null;Q.set(Y.value.compartment,Y.value.extension)}else if(Y.is(v.reconfigure))$=null,J=Y.value;else if(Y.is(v.appendConfig))$=null,J=a9(J).concat(Y.value);let X;if(!$)$=_7.resolve(J,Q,this),X=new m($,this.doc,this.selection,$.dynamicSlots.map(()=>null),(U,q)=>q.reconfigure(U,this),null).values;else X=Z.startState.values.slice();let K=Z.startState.facet(NZ)?Z.newSelection:Z.newSelection.asSingle();new m($,Z.newDoc,K,X,(Y,U)=>U.update(Y,Z),Z)}replaceSelection(Z){if(typeof Z=="string")Z=this.toText(Z);return this.changeByRange(($)=>({changes:{from:$.from,to:$.to,insert:Z},range:R.cursor($.from+Z.length)}))}changeByRange(Z){let $=this.selection,J=Z($.ranges[0]),Q=this.changes(J.changes),X=[J.range],K=a9(J.effects);for(let Y=1;Y<$.ranges.length;Y++){let U=Z($.ranges[Y]),q=this.changes(U.changes),W=q.map(Q);for(let z=0;z<Y;z++)X[z]=X[z].map(W);let G=Q.mapDesc(q,!0);X.push(U.range.map(G)),Q=Q.compose(W),K=v.mapEffects(K,W).concat(v.mapEffects(a9(U.effects),G))}return{changes:Q,selection:R.create(X,$.mainIndex),effects:K}}changes(Z=[]){if(Z instanceof e)return Z;return e.of(Z,this.doc.length,this.facet(m.lineSeparator))}toText(Z){return b.of(Z.split(this.facet(m.lineSeparator)||_Z))}sliceDoc(Z=0,$=this.doc.length){return this.doc.sliceString(Z,$,this.lineBreak)}facet(Z){let $=this.config.address[Z.id];if($==null)return Z.default;return A5(this,$),O7(this,$)}toJSON(Z){let $={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Z)for(let J in Z){let Q=Z[J];if(Q instanceof F3&&this.config.address[Q.id]!=null)$[J]=Q.spec.toJSON(this.field(Z[J]),this)}return $}static fromJSON(Z,$={},J){if(!Z||typeof Z.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let Q=[];if(J){for(let X in J)if(Object.prototype.hasOwnProperty.call(Z,X)){let K=J[X],Y=Z[X];Q.push(K.init((U)=>K.spec.fromJSON(Y,U)))}}return m.create({doc:Z.doc,selection:R.fromJSON(Z.selection),extensions:$.extensions?Q.concat([$.extensions]):Q})}static create(Z={}){let $=_7.resolve(Z.extensions||[],new Map),J=Z.doc instanceof b?Z.doc:b.of((Z.doc||"").split($.staticFacet(m.lineSeparator)||_Z)),Q=!Z.selection?R.single(0):Z.selection instanceof R?Z.selection:R.single(Z.selection.anchor,Z.selection.head);if(s8(Q,J.length),!$.staticFacet(NZ))Q=Q.asSingle();return new m($,J,Q,$.dynamicSlots.map(()=>null),(X,K)=>K.create(X),null)}get tabSize(){return this.facet(m.tabSize)}get lineBreak(){return this.facet(m.lineSeparator)||"\n"}get readOnly(){return this.facet(t8)}phrase(Z,...$){for(let J of this.facet(m.phrases))if(Object.prototype.hasOwnProperty.call(J,Z)){Z=J[Z];break}if($.length)Z=Z.replace(/\$(\$|\d*)/g,(J,Q)=>{if(Q=="$")return"$";let X=+(Q||1);return!X||X>$.length?J:$[X-1]});return Z}languageDataAt(Z,$,J=-1){let Q=[];for(let X of this.facet(i8))for(let K of X(this,$,J))if(Object.prototype.hasOwnProperty.call(K,Z))Q.push(K[Z]);return Q}charCategorizer(Z){return I2(this.languageDataAt("wordChars",Z).join(""))}wordAt(Z){let{text:$,from:J,length:Q}=this.doc.lineAt(Z),X=this.charCategorizer(Z),K=Z-J,Y=Z-J;while(K>0){let U=Q3($,K,!1);if(X($.slice(U,K))!=P3.Word)break;K=U}while(Y<Q){let U=Q3($,Y);if(X($.slice(Y,U))!=P3.Word)break;Y=U}return K==Y?null:R.range(K+J,Y+J)}}m.allowMultipleSelections=NZ;m.tabSize=B.define({combine:(Z)=>Z.length?Z[0]:4});m.lineSeparator=n8;m.readOnly=t8;m.phrases=B.define({compare(Z,$){let J=Object.keys(Z),Q=Object.keys($);return J.length==Q.length&&J.every((X)=>Z[X]==$[X])}});m.languageData=i8;m.changeFilter=a8;m.transactionFilter=r8;m.transactionExtender=o8;H7.reconfigure=v.define();class s3{eq(Z){return this==Z}range(Z,$=Z){return L5.create(Z,$,this)}}s3.prototype.startSide=s3.prototype.endSide=0;s3.prototype.point=!1;s3.prototype.mapMode=J3.TrackDel;class L5{constructor(Z,$,J){this.from=Z,this.to=$,this.value=J}static create(Z,$,J){return new L5(Z,$,J)}}class PZ{constructor(Z,$,J,Q){this.from=Z,this.to=$,this.value=J,this.maxPoint=Q}get length(){return this.to[this.to.length-1]}findIndex(Z,$,J,Q=0){let X=J?this.to:this.from;for(let K=Q,Y=X.length;;){if(K==Y)return K;let U=K+Y>>1,q=X[U]-Z||(J?this.value[U].endSide:this.value[U].startSide)-$;if(U==K)return q>=0?K:Y;if(q>=0)Y=U;else K=U+1}}between(Z,$,J,Q){for(let X=this.findIndex($,-1e9,!0),K=this.findIndex(J,1e9,!1,X);X<K;X++)if(Q(this.from[X]+Z,this.to[X]+Z,this.value[X])===!1)return!1}map(Z,$){let J=[],Q=[],X=[],K=-1,Y=-1;for(let U=0;U<this.value.length;U++){let q=this.value[U],W=this.from[U]+Z,G=this.to[U]+Z,z,j;if(W==G){let _=$.mapPos(W,q.startSide,q.mapMode);if(_==null)continue;if(z=j=_,q.startSide!=q.endSide){if(j=$.mapPos(W,q.endSide),j<z)continue}}else if(z=$.mapPos(W,q.startSide),j=$.mapPos(G,q.endSide),z>j||z==j&&q.startSide>0&&q.endSide<=0)continue;if((j-z||q.endSide-q.startSide)<0)continue;if(K<0)K=z;if(q.point)Y=Math.max(Y,j-z);J.push(q),Q.push(z-K),X.push(j-K)}return{mapped:J.length?new PZ(Q,X,J,Y):null,pos:K}}}class w{constructor(Z,$,J,Q){this.chunkPos=Z,this.chunk=$,this.nextLayer=J,this.maxPoint=Q}static create(Z,$,J,Q){return new w(Z,$,J,Q)}get length(){let Z=this.chunk.length-1;return Z<0?0:Math.max(this.chunkEnd(Z),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Z=this.nextLayer.size;for(let $ of this.chunk)Z+=$.value.length;return Z}chunkEnd(Z){return this.chunkPos[Z]+this.chunk[Z].length}update(Z){let{add:$=[],sort:J=!1,filterFrom:Q=0,filterTo:X=this.length}=Z,K=Z.filter;if($.length==0&&!K)return this;if(J)$=$.slice().sort(VZ);if(this.isEmpty)return $.length?w.of($):this;let Y=new CZ(this,null,-1).goto(0),U=0,q=[],W=new T9;while(Y.value||U<$.length)if(U<$.length&&(Y.from-$[U].from||Y.startSide-$[U].value.startSide)>=0){let G=$[U++];if(!W.addInner(G.from,G.to,G.value))q.push(G)}else if(Y.rangeIndex==1&&Y.chunkIndex<this.chunk.length&&(U==$.length||this.chunkEnd(Y.chunkIndex)<$[U].from)&&(!K||Q>this.chunkEnd(Y.chunkIndex)||X<this.chunkPos[Y.chunkIndex])&&W.addChunk(this.chunkPos[Y.chunkIndex],this.chunk[Y.chunkIndex]))Y.nextChunk();else{if(!K||Q>Y.to||X<Y.from||K(Y.from,Y.to,Y.value)){if(!W.addInner(Y.from,Y.to,Y.value))q.push(L5.create(Y.from,Y.to,Y.value))}Y.next()}return W.finishInner(this.nextLayer.isEmpty&&!q.length?w.empty:this.nextLayer.update({add:q,filter:K,filterFrom:Q,filterTo:X}))}map(Z){if(Z.empty||this.isEmpty)return this;let $=[],J=[],Q=-1;for(let K=0;K<this.chunk.length;K++){let Y=this.chunkPos[K],U=this.chunk[K],q=Z.touchesRange(Y,Y+U.length);if(q===!1)Q=Math.max(Q,U.maxPoint),$.push(U),J.push(Z.mapPos(Y));else if(q===!0){let{mapped:W,pos:G}=U.map(Y,Z);if(W)Q=Math.max(Q,W.maxPoint),$.push(W),J.push(G)}}let X=this.nextLayer.map(Z);return $.length==0?X:new w(J,$,X||w.empty,Q)}between(Z,$,J){if(this.isEmpty)return;for(let Q=0;Q<this.chunk.length;Q++){let X=this.chunkPos[Q],K=this.chunk[Q];if($>=X&&Z<=X+K.length&&K.between(X,Z-X,$-X,J)===!1)return}this.nextLayer.between(Z,$,J)}iter(Z=0){return B5.from([this]).goto(Z)}get isEmpty(){return this.nextLayer==this}static iter(Z,$=0){return B5.from(Z).goto($)}static compare(Z,$,J,Q,X=-1){let K=Z.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=X),Y=$.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=X),U=h8(K,Y,J),q=new s9(K,U,X),W=new s9(Y,U,X);if(J.iterGaps((G,z,j)=>m8(q,G,W,z,j,Q)),J.empty&&J.length==0)m8(q,0,W,0,0,Q)}static eq(Z,$,J=0,Q){if(Q==null)Q=999999999;let X=Z.filter((W)=>!W.isEmpty&&$.indexOf(W)<0),K=$.filter((W)=>!W.isEmpty&&Z.indexOf(W)<0);if(X.length!=K.length)return!1;if(!X.length)return!0;let Y=h8(X,K),U=new s9(X,Y,0).goto(J),q=new s9(K,Y,0).goto(J);for(;;){if(U.to!=q.to||!IZ(U.active,q.active)||U.point&&(!q.point||!U.point.eq(q.point)))return!1;if(U.to>Q)return!0;U.next(),q.next()}}static spans(Z,$,J,Q,X=-1){let K=new s9(Z,null,X).goto($),Y=$,U=K.openStart;for(;;){let q=Math.min(K.to,J);if(K.point){let W=K.activeForPoint(K.to),G=K.pointFrom<$?W.length+1:K.point.startSide<0?W.length:Math.min(W.length,U);Q.point(Y,q,K.point,W,G,K.pointRank),U=Math.min(K.openEnd(q),W.length)}else if(q>Y)Q.span(Y,q,K.active,U),U=K.openEnd(q);if(K.to>J)return U+(K.point&&K.to>J?1:0);Y=K.to,K.next()}}static of(Z,$=!1){let J=new T9;for(let Q of Z instanceof L5?[Z]:$?M2(Z):Z)J.add(Q.from,Q.to,Q.value);return J.finish()}static join(Z){if(!Z.length)return w.empty;let $=Z[Z.length-1];for(let J=Z.length-2;J>=0;J--)for(let Q=Z[J];Q!=w.empty;Q=Q.nextLayer)$=new w(Q.chunkPos,Q.chunk,$,Math.max(Q.maxPoint,$.maxPoint));return $}}w.empty=new w([],[],null,-1);w.empty.nextLayer=w.empty;class T9{finishChunk(Z){if(this.chunks.push(new PZ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Z)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Z,$,J){if(!this.addInner(Z,$,J))(this.nextLayer||(this.nextLayer=new T9)).add(Z,$,J)}addInner(Z,$,J){let Q=Z-this.lastTo||J.startSide-this.last.endSide;if(Q<=0&&(Z-this.lastFrom||J.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");if(Q<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=Z;if(this.from.push(Z-this.chunkStart),this.to.push($-this.chunkStart),this.last=J,this.lastFrom=Z,this.lastTo=$,this.value.push(J),J.point)this.maxPoint=Math.max(this.maxPoint,$-Z);return!0}addChunk(Z,$){if((Z-this.lastTo||$.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,$.maxPoint),this.chunks.push($),this.chunkPos.push(Z);let J=$.value.length-1;return this.last=$.value[J],this.lastFrom=$.from[J]+Z,this.lastTo=$.to[J]+Z,!0}finish(){return this.finishInner(w.empty)}finishInner(Z){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return Z;let $=w.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Z):Z,this.setMaxPoint);return this.from=null,$}}class CZ{constructor(Z,$,J,Q=0){this.layer=Z,this.skip=$,this.minPoint=J,this.rank=Q}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Z,$=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Z,$,!1),this}gotoInner(Z,$,J){while(this.chunkIndex<this.layer.chunk.length){let Q=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(Q)||this.layer.chunkEnd(this.chunkIndex)<Z||Q.maxPoint<this.minPoint))break;this.chunkIndex++,J=!1}if(this.chunkIndex<this.layer.chunk.length){let Q=this.layer.chunk[this.chunkIndex].findIndex(Z-this.layer.chunkPos[this.chunkIndex],$,!0);if(!J||this.rangeIndex<Q)this.setRangeIndex(Q)}this.next()}forward(Z,$){if((this.to-Z||this.endSide-$)<0)this.gotoInner(Z,$,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Z=this.layer.chunkPos[this.chunkIndex],$=this.layer.chunk[this.chunkIndex],J=Z+$.from[this.rangeIndex];if(this.from=J,this.to=Z+$.to[this.rangeIndex],this.value=$.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Z){if(Z==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Z}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Z){return this.from-Z.from||this.startSide-Z.startSide||this.rank-Z.rank||this.to-Z.to||this.endSide-Z.endSide}}class B5{constructor(Z){this.heap=Z}static from(Z,$=null,J=-1){let Q=[];for(let X=0;X<Z.length;X++)for(let K=Z[X];!K.isEmpty;K=K.nextLayer)if(K.maxPoint>=J)Q.push(new CZ(K,$,J,X));return Q.length==1?Q[0]:new B5(Q)}get startSide(){return this.value?this.value.startSide:0}goto(Z,$=-1e9){for(let J of this.heap)J.goto(Z,$);for(let J=this.heap.length>>1;J>=0;J--)jZ(this.heap,J);return this.next(),this}forward(Z,$){for(let J of this.heap)J.forward(Z,$);for(let J=this.heap.length>>1;J>=0;J--)jZ(this.heap,J);if((this.to-Z||this.value.endSide-$)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Z=this.heap[0];if(this.from=Z.from,this.to=Z.to,this.value=Z.value,this.rank=Z.rank,Z.value)Z.next();jZ(this.heap,0)}}}class s9{constructor(Z,$,J){this.minPoint=J,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=B5.from(Z,$,J)}goto(Z,$=-1e9){return this.cursor.goto(Z,$),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Z,this.endSide=$,this.openStart=-1,this.next(),this}forward(Z,$){while(this.minActive>-1&&(this.activeTo[this.minActive]-Z||this.active[this.minActive].endSide-$)<0)this.removeActive(this.minActive);this.cursor.forward(Z,$)}removeActive(Z){G7(this.active,Z),G7(this.activeTo,Z),G7(this.activeRank,Z),this.minActive=u8(this.active,this.activeTo)}addActive(Z){let $=0,{value:J,to:Q,rank:X}=this.cursor;while($<this.activeRank.length&&(X-this.activeRank[$]||Q-this.activeTo[$])>0)$++;if(W7(this.active,$,J),W7(this.activeTo,$,Q),W7(this.activeRank,$,X),Z)W7(Z,$,this.cursor.from);this.minActive=u8(this.active,this.activeTo)}next(){let Z=this.to,$=this.point;this.point=null;let J=this.openStart<0?[]:null;for(;;){let Q=this.minActive;if(Q>-1&&(this.activeTo[Q]-this.cursor.from||this.active[Q].endSide-this.cursor.startSide)<0){if(this.activeTo[Q]>Z){this.to=this.activeTo[Q],this.endSide=this.active[Q].endSide;break}if(this.removeActive(Q),J)G7(J,Q)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>Z){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let X=this.cursor.value;if(!X.point)this.addActive(J),this.cursor.next();else if($&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=X,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=X.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(J){this.openStart=0;for(let Q=J.length-1;Q>=0&&J[Q]<Z;Q--)this.openStart++}}activeForPoint(Z){if(!this.active.length)return this.active;let $=[];for(let J=this.active.length-1;J>=0;J--){if(this.activeRank[J]<this.pointRank)break;if(this.activeTo[J]>Z||this.activeTo[J]==Z&&this.active[J].endSide>=this.point.endSide)$.push(this.active[J])}return $.reverse()}openEnd(Z){let $=0;for(let J=this.activeTo.length-1;J>=0&&this.activeTo[J]>Z;J--)$++;return $}}var X0=typeof Symbol=="undefined"?"__"+"\u037C":Symbol.for("\u037C"),TZ=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),K0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class m3{constructor(Z,$){this.rules=[];let{finish:J}=$||{};function Q(K){return/^@/.test(K)?[K]:K.split(/,\s*/)}function X(K,Y,U,q){let W=[],G=/^@(\w+)\b/.exec(K[0]),z=G&&G[1]=="keyframes";if(G&&Y==null)return U.push(K[0]+";");for(let j in Y){let _=Y[j];if(/&/.test(j))X(j.split(/,\s*/).map((H)=>K.map((F)=>H.replace(/&/,F))).reduce((H,F)=>H.concat(F)),_,U);else if(_&&typeof _=="object"){if(!G)throw new RangeError("The value of a property ("+j+") should be a primitive value.");X(Q(j),_,W,z)}else if(_!=null)W.push(j.replace(/_.*/,"").replace(/[A-Z]/g,(H)=>"-"+H.toLowerCase())+": "+_+";")}if(W.length||z)U.push((J&&!G&&!q?K.map(J):K).join(", ")+" {"+W.join(" ")+"}")}for(let K in Z)X(Q(K),Z[K],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let Z=K0[X0]||1;return K0[X0]=Z+1,"\u037C"+Z.toString(36)}static mount(Z,$,J){let Q=Z[TZ],X=J&&J.nonce;if(!Q)Q=new U0(Z,X);else if(X)Q.setNonce(X);Q.mount(Array.isArray($)?$:[$],Z)}}var Y0=new Map;class U0{constructor(Z,$){let J=Z.ownerDocument||Z,Q=J.defaultView;if(!Z.head&&Z.adoptedStyleSheets&&Q.CSSStyleSheet){let X=Y0.get(J);if(X)return Z[TZ]=X;this.sheet=new Q.CSSStyleSheet,Y0.set(J,this)}else if(this.styleTag=J.createElement("style"),$)this.styleTag.setAttribute("nonce",$);this.modules=[],Z[TZ]=this}mount(Z,$){let J=this.sheet,Q=0,X=0;for(let K=0;K<Z.length;K++){let Y=Z[K],U=this.modules.indexOf(Y);if(U<X&&U>-1)this.modules.splice(U,1),X--,U=-1;if(U==-1){if(this.modules.splice(X++,0,Y),J)for(let q=0;q<Y.rules.length;q++)J.insertRule(Y.rules[q],Q++)}else{while(X<U)Q+=this.modules[X++].rules.length;Q+=Y.rules.length,X++}}if(J){if($.adoptedStyleSheets.indexOf(this.sheet)<0)$.adoptedStyleSheets=[this.sheet,...$.adoptedStyleSheets]}else{let K="";for(let U=0;U<this.modules.length;U++)K+=this.modules[U].getRules()+"\n";this.styleTag.textContent=K;let Y=$.head||$;if(this.styleTag.parentNode!=Y)Y.insertBefore(this.styleTag,Y.firstChild)}}setNonce(Z){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=Z)this.styleTag.setAttribute("nonce",Z)}}function q0(Z){var $=A2&&Z.metaKey&&Z.shiftKey&&!Z.ctrlKey&&!Z.altKey||L2&&Z.shiftKey&&Z.key&&Z.key.length==1||Z.key=="Unidentified",J=!$&&Z.key||(Z.shiftKey?t9:X9)[Z.keyCode]||Z.key||"Unidentified";if(J=="Esc")J="Escape";if(J=="Del")J="Delete";if(J=="Left")J="ArrowLeft";if(J=="Up")J="ArrowUp";if(J=="Right")J="ArrowRight";if(J=="Down")J="ArrowDown";return J}var X9={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t9={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:"\""},A2=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),L2=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Z3=0;Z3<10;Z3++)X9[48+Z3]=X9[96+Z3]=String(Z3);var Z3;for(Z3=1;Z3<=24;Z3++)X9[Z3+111]="F"+Z3;var Z3;for(Z3=65;Z3<=90;Z3++)X9[Z3]=String.fromCharCode(Z3+32),t9[Z3]=String.fromCharCode(Z3);var Z3;for(F7 in X9)if(!t9.hasOwnProperty(F7))t9[F7]=X9[F7];var F7;function x5(Z){let $;if(Z.nodeType==11)$=Z.getSelection?Z:Z.ownerDocument;else $=Z;return $.getSelection()}function hZ(Z,$){return $?Z==$||Z.contains($.nodeType!=1?$.parentNode:$):!1}function B2(Z){let $=Z.activeElement;while($&&$.shadowRoot)$=$.shadowRoot.activeElement;return $}function B7(Z,$){if(!$.anchorNode)return!1;try{return hZ(Z,$.anchorNode)}catch(J){return!1}}function w5(Z){if(Z.nodeType==3)return x9(Z,0,Z.nodeValue.length).getClientRects();else if(Z.nodeType==1)return Z.getClientRects();else return[]}function b5(Z,$,J,Q){return J?G0(Z,$,J,Q,-1)||G0(Z,$,J,Q,1):!1}function k9(Z){for(var $=0;;$++)if(Z=Z.previousSibling,!Z)return $}function b7(Z){return Z.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(Z.nodeName)}function G0(Z,$,J,Q,X){for(;;){if(Z==J&&$==Q)return!0;if($==(X<0?0:U9(Z))){if(Z.nodeName=="DIV")return!1;let K=Z.parentNode;if(!K||K.nodeType!=1)return!1;$=k9(Z)+(X<0?0:1),Z=K}else if(Z.nodeType==1){if(Z=Z.childNodes[$+(X<0?-1:0)],Z.nodeType==1&&Z.contentEditable=="false")return!1;$=X<0?U9(Z):0}else return!1}}function U9(Z){return Z.nodeType==3?Z.nodeValue.length:Z.childNodes.length}function m7(Z,$){let J=$?Z.left:Z.right;return{left:J,right:J,top:Z.top,bottom:Z.bottom}}function E2(Z){let $=Z.visualViewport;if($)return{left:0,right:$.width,top:0,bottom:$.height};return{left:0,right:Z.innerWidth,top:0,bottom:Z.innerHeight}}function d0(Z,$){let J=$.width/Z.offsetWidth,Q=$.height/Z.offsetHeight;if(J>0.995&&J<1.005||!isFinite(J)||Math.abs($.width-Z.offsetWidth)<1)J=1;if(Q>0.995&&Q<1.005||!isFinite(Q)||Math.abs($.height-Z.offsetHeight)<1)Q=1;return{scaleX:J,scaleY:Q}}function P2(Z,$,J,Q,X,K,Y,U){let q=Z.ownerDocument,W=q.defaultView||window;for(let G=Z,z=!1;G&&!z;)if(G.nodeType==1){let j,_=G==q.body,H=1,F=1;if(_)j=E2(W);else{if(/^(fixed|sticky)$/.test(getComputedStyle(G).position))z=!0;if(G.scrollHeight<=G.clientHeight&&G.scrollWidth<=G.clientWidth){G=G.assignedSlot||G.parentNode;continue}let M=G.getBoundingClientRect();({scaleX:H,scaleY:F}=d0(G,M)),j={left:M.left,right:M.left+G.clientWidth*H,top:M.top,bottom:M.top+G.clientHeight*F}}let N=0,D=0;if(X=="nearest"){if($.top<j.top){if(D=-(j.top-$.top+Y),J>0&&$.bottom>j.bottom+D)D=$.bottom-j.bottom+D+Y}else if($.bottom>j.bottom){if(D=$.bottom-j.bottom+Y,J<0&&$.top-D<j.top)D=-(j.top+D-$.top+Y)}}else{let M=$.bottom-$.top,V=j.bottom-j.top;D=(X=="center"&&M<=V?$.top+M/2-V/2:X=="start"||X=="center"&&J<0?$.top-Y:$.bottom-V+Y)-j.top}if(Q=="nearest"){if($.left<j.left){if(N=-(j.left-$.left+K),J>0&&$.right>j.right+N)N=$.right-j.right+N+K}else if($.right>j.right){if(N=$.right-j.right+K,J<0&&$.left<j.left+N)N=-(j.left+N-$.left+K)}}else N=(Q=="center"?$.left+($.right-$.left)/2-(j.right-j.left)/2:Q=="start"==U?$.left-K:$.right-(j.right-j.left)+K)-j.left;if(N||D)if(_)W.scrollBy(N,D);else{let M=0,V=0;if(D){let I=G.scrollTop;G.scrollTop+=D/F,V=(G.scrollTop-I)*F}if(N){let I=G.scrollLeft;G.scrollLeft+=N/H,M=(G.scrollLeft-I)*H}if($={left:$.left-M,top:$.top-V,right:$.right-M,bottom:$.bottom-V},M&&Math.abs(M-N)<1)Q="nearest";if(V&&Math.abs(V-D)<1)X="nearest"}if(_)break;G=G.assignedSlot||G.parentNode}else if(G.nodeType==11)G=G.host;else break}function C2(Z){let $=Z.ownerDocument,J,Q;for(let X=Z.parentNode;X;)if(X==$.body||J&&Q)break;else if(X.nodeType==1){if(!Q&&X.scrollHeight>X.clientHeight)Q=X;if(!J&&X.scrollWidth>X.clientWidth)J=X;X=X.assignedSlot||X.parentNode}else if(X.nodeType==11)X=X.host;else break;return{x:J,y:Q}}function s0(Z){if(Z.setActive)return Z.setActive();if(e9)return Z.focus(e9);let $=[];for(let J=Z;J;J=J.parentNode)if($.push(J,J.scrollTop,J.scrollLeft),J==J.ownerDocument)break;if(Z.focus(e9==null?{get preventScroll(){return e9={preventScroll:!0},!0}}:void 0),!e9){e9=!1;for(let J=0;J<$.length;){let Q=$[J++],X=$[J++],K=$[J++];if(Q.scrollTop!=X)Q.scrollTop=X;if(Q.scrollLeft!=K)Q.scrollLeft=K}}}function x9(Z,$,J=$){let Q=W0||(W0=document.createRange());return Q.setEnd(Z,J),Q.setStart(Z,$),Q}function $5(Z,$,J,Q){let X={key:$,code:$,keyCode:J,which:J,cancelable:!0};if(Q)({altKey:X.altKey,ctrlKey:X.ctrlKey,shiftKey:X.shiftKey,metaKey:X.metaKey}=Q);let K=new KeyboardEvent("keydown",X);K.synthetic=!0,Z.dispatchEvent(K);let Y=new KeyboardEvent("keyup",X);return Y.synthetic=!0,Z.dispatchEvent(Y),K.defaultPrevented||Y.defaultPrevented}function T2(Z){while(Z){if(Z&&(Z.nodeType==9||Z.nodeType==11&&Z.host))return Z;Z=Z.assignedSlot||Z.parentNode}return null}function i0(Z){while(Z.attributes.length)Z.removeAttributeNode(Z.attributes[0])}function y2(Z,$){let{focusNode:J,focusOffset:Q}=$;if(!J||$.anchorNode!=J||$.anchorOffset!=Q)return!1;Q=Math.min(Q,U9(J));for(;;)if(Q){if(J.nodeType!=1)return!1;let X=J.childNodes[Q-1];if(X.contentEditable=="false")Q--;else J=X,Q=U9(J)}else if(J==Z)return!0;else Q=k9(J),J=J.parentNode}function n0(Z){return Z.scrollTop>Math.max(1,Z.scrollHeight-Z.clientHeight-4)}function a0(Z,$){for(let J=Z,Q=$;;)if(J.nodeType==3&&Q>0)return{node:J,offset:Q};else if(J.nodeType==1&&Q>0){if(J.contentEditable=="false")return null;J=J.childNodes[Q-1],Q=U9(J)}else if(J.parentNode&&!b7(J))Q=k9(J),J=J.parentNode;else return null}function r0(Z,$){for(let J=Z,Q=$;;)if(J.nodeType==3&&Q<J.nodeValue.length)return{node:J,offset:Q};else if(J.nodeType==1&&Q<J.childNodes.length){if(J.contentEditable=="false")return null;J=J.childNodes[Q],Q=0}else if(J.parentNode&&!b7(J))Q=k9(J)+1,J=J.parentNode;else return null}function z0(Z){let $=Z.nextSibling;return Z.parentNode.removeChild(Z),$}function o0(Z,$,J,Q,X,K,Y,U,q){let{children:W}=Z,G=W.length?W[$]:null,z=K.length?K[K.length-1]:null,j=z?z.breakAfter:Y;if($==Q&&G&&!Y&&!j&&K.length<2&&G.merge(J,X,K.length?z:null,J==0,U,q))return;if(Q<W.length){let _=W[Q];if(_&&(X<_.length||_.breakAfter&&(z===null||z===void 0?void 0:z.breakAfter))){if($==Q)_=_.split(X),X=0;if(!j&&z&&_.merge(0,X,z,!0,0,q))K[K.length-1]=_;else{if(X||_.children.length&&!_.children[0].length)_.merge(0,X,null,!1,0,q);K.push(_)}}else if(_===null||_===void 0?void 0:_.breakAfter)if(z)z.breakAfter=1;else Y=1;Q++}if(G){if(G.breakAfter=Y,J>0){if(!Y&&K.length&&G.merge(J,G.length,K[0],!1,U,0))G.breakAfter=K.shift().breakAfter;else if(J<G.length||G.children.length&&G.children[G.children.length-1].length==0)G.merge(J,G.length,null,!1,U,0);$++}}while($<Q&&K.length)if(W[Q-1].become(K[K.length-1]))Q--,K.pop(),q=K.length?0:U;else if(W[$].become(K[0]))$++,K.shift(),U=K.length?0:q;else break;if(!K.length&&$&&Q<W.length&&!W[$-1].breakAfter&&W[Q].merge(0,0,W[$-1],!1,U,q))$--;if($<Q||K.length)Z.replaceChildren($,Q,K)}function t0(Z,$,J,Q,X,K){let Y=Z.childCursor(),{i:U,off:q}=Y.findPos(J,1),{i:W,off:G}=Y.findPos($,-1),z=$-J;for(let j of Q)z+=j.length;Z.length+=z,o0(Z,W,G,U,q,Q,0,X,K)}function b2(Z,$,J){let Q=Z.nodeValue.length;if($>Q)$=Q;let X=$,K=$,Y=0;if($==0&&J<0||$==Q&&J>=0){if(!(L.chrome||L.gecko)){if($)X--,Y=1;else if(K<Q)K++,Y=-1}}else if(J<0)X--;else if(K<Q)K++;let U=x9(Z,X,K).getClientRects();if(!U.length)return null;let q=U[(Y?Y<0:J>=0)?0:U.length-1];if(L.safari&&!Y&&q.width==0)q=Array.prototype.find.call(U,(W)=>W.width)||q;return Y?m7(q,Y<0):q||null}function $6(Z,$){let J=Z.dom,{children:Q}=Z,X=0;for(let K=0;X<Q.length;X++){let Y=Q[X],U=K+Y.length;if(U==K&&Y.getSide()<=0)continue;if($>K&&$<U&&Y.dom.parentNode==J)return Y.domAtPos($-K);if($<=K)break;K=U}for(let K=X;K>0;K--){let Y=Q[K-1];if(Y.dom.parentNode==J)return Y.domAtPos(Y.length)}for(let K=X;K<Q.length;K++){let Y=Q[K];if(Y.dom.parentNode==J)return Y.domAtPos(0)}return new q3(J,0)}function J6(Z,$,J){let Q,{children:X}=Z;if(J>0&&$ instanceof q9&&X.length&&(Q=X[X.length-1])instanceof q9&&Q.mark.eq($.mark))J6(Q,$.children[0],J-1);else X.push($),$.setParent(Z);Z.length+=$.length}function Q6(Z,$,J){let Q=null,X=-1,K=null,Y=-1;function U(W,G){for(let z=0,j=0;z<W.children.length&&j<=G;z++){let _=W.children[z],H=j+_.length;if(H>=G){if(_.children.length)U(_,G-j);else if((!K||K.isHidden&&J>0)&&(H>G||j==H&&_.getSide()>0))K=_,Y=G-j;else if(j<G||j==H&&_.getSide()<0&&!_.isHidden)Q=_,X=G-j}j=H}}U(Z,$);let q=(J<0?Q:K)||Q||K;if(q)return q.coordsAt(Math.max(0,q==Q?X:Y),J);return k2(Z)}function k2(Z){let $=Z.dom.lastChild;if(!$)return Z.dom.getBoundingClientRect();let J=w5($);return J[J.length-1]||null}function gZ(Z,$){for(let J in Z)if(J=="class"&&$.class)$.class+=" "+Z.class;else if(J=="style"&&$.style)$.style+=";"+Z.style;else $[J]=Z[J];return $}function k7(Z,$,J){if(Z==$)return!0;if(!Z)Z=H0;if(!$)$=H0;let Q=Object.keys(Z),X=Object.keys($);if(Q.length-(J&&Q.indexOf(J)>-1?1:0)!=X.length-(J&&X.indexOf(J)>-1?1:0))return!1;for(let K of Q)if(K!=J&&(X.indexOf(K)==-1||Z[K]!==$[K]))return!1;return!0}function lZ(Z,$,J){let Q=!1;if($){for(let X in $)if(!(J&&(X in J)))if(Q=!0,X=="style")Z.style.cssText="";else Z.removeAttribute(X)}if(J){for(let X in J)if(!($&&$[X]==J[X]))if(Q=!0,X=="style")Z.style.cssText=J[X];else Z.setAttribute(X,J[X])}return Q}function x2(Z){let $=Object.create(null);for(let J=0;J<Z.attributes.length;J++){let Q=Z.attributes[J];$[Q.name]=Q.value}return $}function X6(Z,$=!1){let{inclusiveStart:J,inclusiveEnd:Q}=Z;if(J==null)J=Z.inclusive;if(Q==null)Q=Z.inclusive;return{start:J!==null&&J!==void 0?J:$,end:Q!==null&&Q!==void 0?Q:$}}function w2(Z,$){return Z==$||!!(Z&&$&&Z.compare($))}function pZ(Z,$,J,Q=0){let X=J.length-1;if(X>=0&&J[X]+Q>=Z)J[X]=Math.max(J[X],$);else J.push(Z,$)}function N7(Z,$){for(let J of $)Z=new q9(J,[Z],Z.length);return Z}function K6(Z){let $=[];for(let J=0;J<Z.length;J++)$.push(1<<+Z[J]);return $}function Y6(Z){return Z<=247?v2[Z]:1424<=Z&&Z<=1524?2:1536<=Z&&Z<=1785?h2[Z-1536]:1774<=Z&&Z<=2220?4:8192<=Z&&Z<=8204?256:64336<=Z&&Z<=65023?4:1}function U6(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++){let Q=Z[J],X=$[J];if(Q.from!=X.from||Q.to!=X.to||Q.direction!=X.direction||!U6(Q.inner,X.inner))return!1}return!0}function u2(Z,$,J,Q,X){for(let K=0;K<=Q.length;K++){let Y=K?Q[K-1].to:$,U=K<Q.length?Q[K].from:J,q=K?256:X;for(let W=Y,G=q,z=q;W<U;W++){let j=Y6(Z.charCodeAt(W));if(j==512)j=G;else if(j==8&&z==4)j=16;if(g[W]=j==4?2:j,j&7)z=j;G=j}for(let W=Y,G=q,z=q;W<U;W++){let j=g[W];if(j==128)if(W<U-1&&G==g[W+1]&&G&24)j=g[W]=G;else g[W]=256;else if(j==64){let _=W+1;while(_<U&&g[_]==64)_++;let H=W&&G==8||_<J&&g[_]==8?z==1?1:8:256;for(let F=W;F<_;F++)g[F]=H;W=_-1}else if(j==8&&z==1)g[W]=1;if(G=j,j&7)z=j}}}function f2(Z,$,J,Q,X){let K=X==1?2:1;for(let Y=0,U=0,q=0;Y<=Q.length;Y++){let W=Y?Q[Y-1].to:$,G=Y<Q.length?Q[Y].from:J;for(let z=W,j,_,H;z<G;z++)if(_=dZ[j=Z.charCodeAt(z)])if(_<0){for(let F=U-3;F>=0;F-=3)if(i3[F+1]==-_){let N=i3[F+2],D=N&2?X:!(N&4)?0:N&1?K:X;if(D)g[z]=g[i3[F]]=D;U=F;break}}else if(i3.length==189)break;else i3[U++]=z,i3[U++]=j,i3[U++]=q;else if((H=g[z])==2||H==1){let F=H==X;q=F?0:1;for(let N=U-3;N>=0;N-=3){let D=i3[N+2];if(D&2)break;if(F)i3[N+2]|=2;else{if(D&4)break;i3[N+2]|=4}}}}}function g2(Z,$,J,Q){for(let X=0,K=Q;X<=J.length;X++){let Y=X?J[X-1].to:Z,U=X<J.length?J[X].from:$;for(let q=Y;q<U;){let W=g[q];if(W==256){let G=q+1;for(;;)if(G==U){if(X==J.length)break;G=J[X++].to,U=X<J.length?J[X].from:$}else if(g[G]==256)G++;else break;let z=K==1,j=(G<$?g[G]:Q)==1,_=z==j?z?1:2:Q;for(let H=G,F=X,N=F?J[F-1].to:Z;H>q;){if(H==N)H=J[--F].from,N=F?J[F-1].to:Z;g[--H]=_}q=G}else K=W,q++}}}function cZ(Z,$,J,Q,X,K,Y){let U=Q%2?2:1;if(Q%2==X%2)for(let q=$,W=0;q<J;){let G=!0,z=!1;if(W==K.length||q<K[W].from){let F=g[q];if(F!=U)G=!1,z=F==16}let j=!G&&U==1?[]:null,_=G?Q:Q+1,H=q;Z:for(;;)if(W<K.length&&H==K[W].from){if(z)break Z;let F=K[W];if(!G)for(let N=F.to,D=W+1;;){if(N==J)break Z;if(D<K.length&&K[D].from==N)N=K[D++].to;else if(g[N]==U)break Z;else break}if(W++,j)j.push(F);else{if(F.from>q)Y.push(new K9(q,F.from,_));let N=F.direction==v9!=!(_%2);sZ(Z,N?Q+1:Q,X,F.inner,F.from,F.to,Y),q=F.to}H=F.to}else if(H==J||(G?g[H]!=U:g[H]==U))break;else H++;if(j)cZ(Z,q,H,Q+1,X,j,Y);else if(q<H)Y.push(new K9(q,H,_));q=H}else for(let q=J,W=K.length;q>$;){let G=!0,z=!1;if(!W||q>K[W-1].to){let F=g[q-1];if(F!=U)G=!1,z=F==16}let j=!G&&U==1?[]:null,_=G?Q:Q+1,H=q;Z:for(;;)if(W&&H==K[W-1].to){if(z)break Z;let F=K[--W];if(!G)for(let N=F.from,D=W;;){if(N==$)break Z;if(D&&K[D-1].to==N)N=K[--D].from;else if(g[N-1]==U)break Z;else break}if(j)j.push(F);else{if(F.to<q)Y.push(new K9(F.to,q,_));let N=F.direction==v9!=!(_%2);sZ(Z,N?Q+1:Q,X,F.inner,F.from,F.to,Y),q=F.from}H=F.from}else if(H==$||(G?g[H-1]!=U:g[H-1]==U))break;else H--;if(j)cZ(Z,H,q,Q+1,X,j,Y);else if(H<q)Y.push(new K9(H,q,_));q=H}}function sZ(Z,$,J,Q,X,K,Y){let U=$%2?2:1;u2(Z,X,K,Q,U),f2(Z,X,K,Q,U),g2(X,K,Q,U),cZ(Z,X,K,$,J,Q,Y)}function l2(Z,$,J){if(!Z)return[new K9(0,0,$==q4?1:0)];if($==v9&&!J.length&&!m2.test(Z))return q6(Z.length);if(J.length)while(Z.length>g.length)g[g.length]=256;let Q=[],X=$==v9?0:1;return sZ(Z,X,X,J,0,Z.length,Q),Q}function q6(Z){return[new K9(0,Z,0)]}function p2(Z,$,J,Q,X){var K;let Y=Q.head-Z.from,U=K9.find($,Y,(K=Q.bidiLevel)!==null&&K!==void 0?K:-1,Q.assoc),q=$[U],W=q.side(X,J);if(Y==W){let j=U+=X?1:-1;if(j<0||j>=$.length)return null;q=$[U=j],Y=q.side(!X,J),W=q.side(X,J)}let G=Q3(Z.text,Y,q.forward(X,J));if(G<q.from||G>q.to)G=W;G6=Z.text.slice(Math.min(Y,G),Math.max(Y,G));let z=U==(X?$.length-1:0)?null:$[U+(X?1:-1)];if(z&&G==W&&z.level+(X?0:1)<q.level)return R.cursor(z.side(!X,J)+Z.from,z.forward(X,J)?1:-1,z.level);return R.cursor(G+Z.from,q.forward(X,J)?-1:1,q.level)}function d2(Z,$,J){for(let Q=$;Q<J;Q++){let X=Y6(Z.charCodeAt(Q));if(X==1)return v9;if(X==2||X==4)return q4}return v9}function z3(Z,$,J){let Q=Z.facet(_6);if(Q.length)Q[0]($);else if(window.onerror)window.onerror(String($),J,void 0,void 0,$);else if(J)console.error(J+":",$);else console.error($)}function F0(Z,$){let J=Z.state.facet(I6);if(!J.length)return J;let Q=J.map((K)=>K instanceof Function?K(Z):K),X=[];return w.spans(Q,$.from,$.to,{point(){},span(K,Y,U,q){let W=K-$.from,G=Y-$.from,z=X;for(let j=U.length-1;j>=0;j--,q--){let _=U[j].spec.bidiIsolate,H;if(_==null)_=d2($.text,W,G);if(q>0&&z.length&&(H=z[z.length-1]).to==W&&H.direction==_)H.to=G,z=H.inner;else{let F={from:W,to:G,direction:_,inner:[]};z.push(F),z=F.inner}}}}),X}function A6(Z){let $=0,J=0,Q=0,X=0;for(let K of Z.state.facet(M6)){let Y=K(Z);if(Y){if(Y.left!=null)$=Math.max($,Y.left);if(Y.right!=null)J=Math.max(J,Y.right);if(Y.top!=null)Q=Math.max(Q,Y.top);if(Y.bottom!=null)X=Math.max(X,Y.bottom)}}return{left:$,right:J,top:Q,bottom:X}}function i2(Z){return Z.node.nodeType==1&&Z.node.firstChild&&(Z.offset==0||Z.node.childNodes[Z.offset-1].contentEditable=="false")&&(Z.offset==Z.node.childNodes.length||Z.node.childNodes[Z.offset].contentEditable=="false")}function L6(Z,$){let J=Z.observer.selectionRange;if(!J.focusNode)return null;let Q=a0(J.focusNode,J.focusOffset),X=r0(J.focusNode,J.focusOffset),K=Q||X;if(X&&Q&&X.node!=Q.node){let U=l.get(X.node);if(!U||U instanceof u3&&U.text!=X.node.nodeValue)K=X;else if(Z.docView.lastCompositionAfterCursor){let q=l.get(Q.node);if(!(!q||q instanceof u3&&q.text!=Q.node.nodeValue))K=X}}if(Z.docView.lastCompositionAfterCursor=K!=Q,!K)return null;let Y=$-K.offset;return{from:Y,to:Y+K.node.nodeValue.length,node:K.node}}function n2(Z,$,J){let Q=L6(Z,J);if(!Q)return null;let{node:X,from:K,to:Y}=Q,U=X.nodeValue;if(/[\n\r]/.test(U))return null;if(Z.state.doc.sliceString(Q.from,Q.to)!=U)return null;let q=$.invertedDesc,W=new y3(q.mapPos(K),q.mapPos(Y),K,Y),G=[];for(let z=X.parentNode;;z=z.parentNode){let j=l.get(z);if(j instanceof q9)G.push({node:z,deco:j.mark});else if(j instanceof $3||z.nodeName=="DIV"&&z.parentNode==Z.contentDOM)return{range:W,text:X,marks:G,line:z};else if(z!=Z.contentDOM)G.push({node:z,deco:new h5({inclusive:!0,attributes:x2(z),tagName:z.tagName.toLowerCase()})});else return null}}function a2(Z,$){if(Z.nodeType!=1)return 0;return($&&Z.childNodes[$-1].contentEditable=="false"?1:0)|($<Z.childNodes.length&&Z.childNodes[$].contentEditable=="false"?2:0)}function o2(Z,$,J){let Q=new r2;return w.compare(Z,$,J,Q),Q.changes}function t2(Z,$){for(let J=Z;J&&J!=$;J=J.assignedSlot||J.parentNode)if(J.nodeType==1&&J.contentEditable=="false")return!0;return!1}function e2(Z,$){let J=!1;if($)Z.iterChangedRanges((Q,X)=>{if(Q<$.to&&X>$.from)J=!0});return J}function ZQ(Z,$,J=1){let Q=Z.charCategorizer($),X=Z.doc.lineAt($),K=$-X.from;if(X.length==0)return R.cursor($);if(K==0)J=1;else if(K==X.length)J=-1;let Y=K,U=K;if(J<0)Y=Q3(X.text,K,!1);else U=Q3(X.text,K);let q=Q(X.text.slice(Y,U));while(Y>0){let W=Q3(X.text,Y,!1);if(Q(X.text.slice(W,Y))!=q)break;Y=W}while(U<X.length){let W=Q3(X.text,U);if(Q(X.text.slice(U,W))!=q)break;U=W}return R.range(Y+X.from,U+X.from)}function $Q(Z,$){return $.left>Z?$.left-Z:Math.max(0,Z-$.right)}function JQ(Z,$){return $.top>Z?$.top-Z:Math.max(0,Z-$.bottom)}function SZ(Z,$){return Z.top<$.bottom-1&&Z.bottom>$.top+1}function N0(Z,$){return $<Z.top?{top:$,left:Z.left,right:Z.right,bottom:Z.bottom}:Z}function D0(Z,$){return $>Z.bottom?{top:Z.top,left:Z.left,right:Z.right,bottom:$}:Z}function aZ(Z,$,J){let Q,X,K,Y,U=!1,q,W,G,z;for(let H=Z.firstChild;H;H=H.nextSibling){let F=w5(H);for(let N=0;N<F.length;N++){let D=F[N];if(X&&SZ(X,D))D=N0(D0(D,X.bottom),X.top);let M=$Q($,D),V=JQ(J,D);if(M==0&&V==0)return H.nodeType==3?R0(H,$,J):aZ(H,$,J);if(!Q||Y>V||Y==V&&K>M){Q=H,X=D,K=M,Y=V;let I=V?J<D.top?-1:1:M?$<D.left?-1:1:0;U=!I||(I>0?N<F.length-1:N>0)}if(M==0){if(J>D.bottom&&(!G||G.bottom<D.bottom))q=H,G=D;else if(J<D.top&&(!z||z.top>D.top))W=H,z=D}else if(G&&SZ(G,D))G=D0(G,D.bottom);else if(z&&SZ(z,D))z=N0(z,D.top)}}if(G&&G.bottom>=J)Q=q,X=G;else if(z&&z.top<=J)Q=W,X=z;if(!Q)return{node:Z,offset:0};let j=Math.max(X.left,Math.min(X.right,$));if(Q.nodeType==3)return R0(Q,j,J);if(U&&Q.contentEditable!="false")return aZ(Q,j,J);let _=Array.prototype.indexOf.call(Z.childNodes,Q)+($>=(X.left+X.right)/2?1:0);return{node:Z,offset:_}}function R0(Z,$,J){let Q=Z.nodeValue.length,X=-1,K=1e9,Y=0;for(let U=0;U<Q;U++){let q=x9(Z,U,U+1).getClientRects();for(let W=0;W<q.length;W++){let G=q[W];if(G.top==G.bottom)continue;if(!Y)Y=$-G.left;let z=(G.top>J?G.top-J:J-G.bottom)-1;if(G.left-1<=$&&G.right+1>=$&&z<K){let j=$>=(G.left+G.right)/2,_=j;if(L.chrome||L.gecko){if(x9(Z,U).getBoundingClientRect().left==G.right)_=!j}if(z<=0)return{node:Z,offset:U+(_?1:0)};X=U+(_?1:0),K=z}}}return{node:Z,offset:X>-1?X:Y>0?Z.nodeValue.length:0}}function B6(Z,$,J,Q=-1){var X,K;let Y=Z.contentDOM.getBoundingClientRect(),U=Y.top+Z.viewState.paddingTop,q,{docHeight:W}=Z.viewState,{x:G,y:z}=$,j=z-U;if(j<0)return 0;if(j>W)return Z.state.doc.length;for(let I=Z.viewState.heightOracle.textHeight/2,C=!1;;){if(q=Z.elementAtHeight(j),q.type==T3.Text)break;for(;;){if(j=Q>0?q.bottom+I:q.top-I,j>=0&&j<=W)break;if(C)return J?null:0;C=!0,Q=-Q}}z=U+j;let _=q.from;if(_<Z.viewport.from)return Z.viewport.from==0?0:J?null:V0(Z,Y,q,G,z);if(_>Z.viewport.to)return Z.viewport.to==Z.state.doc.length?Z.state.doc.length:J?null:V0(Z,Y,q,G,z);let H=Z.dom.ownerDocument,F=Z.root.elementFromPoint?Z.root:H,N=F.elementFromPoint(G,z);if(N&&!Z.contentDOM.contains(N))N=null;if(!N){if(G=Math.max(Y.left+1,Math.min(Y.right-1,G)),N=F.elementFromPoint(G,z),N&&!Z.contentDOM.contains(N))N=null}let D,M=-1;if(N&&((X=Z.docView.nearest(N))===null||X===void 0?void 0:X.isEditable)!=!1){if(H.caretPositionFromPoint){let I=H.caretPositionFromPoint(G,z);if(I)({offsetNode:D,offset:M}=I)}else if(H.caretRangeFromPoint){let I=H.caretRangeFromPoint(G,z);if(I){if({startContainer:D,startOffset:M}=I,!Z.contentDOM.contains(D)||L.safari&&QQ(D,M,G)||L.chrome&&XQ(D,M,G))D=void 0}}}if(!D||!Z.docView.dom.contains(D)){let I=$3.find(Z.docView,_);if(!I)return j>q.top+q.height/2?q.to:q.from;({node:D,offset:M}=aZ(I.dom,G,z))}let V=Z.docView.nearest(D);if(!V)return null;if(V.isWidget&&((K=V.dom)===null||K===void 0?void 0:K.nodeType)==1){let I=V.dom.getBoundingClientRect();return $.y<I.top||$.y<=I.bottom&&$.x<=(I.left+I.right)/2?V.posAtStart:V.posAtEnd}else return V.localPosFromDOM(D,M)+V.posAtStart}function V0(Z,$,J,Q,X){let K=Math.round((Q-$.left)*Z.defaultCharacterWidth);if(Z.lineWrapping&&J.height>Z.defaultLineHeight*1.5){let U=Z.viewState.heightOracle.textHeight,q=Math.floor((X-J.top-(Z.defaultLineHeight-U)*0.5)/U);K+=q*Z.viewState.heightOracle.lineLength}let Y=Z.state.sliceDoc(J.from,J.to);return J.from+Q0(Y,K,Z.state.tabSize)}function QQ(Z,$,J){let Q;if(Z.nodeType!=3||$!=(Q=Z.nodeValue.length))return!1;for(let X=Z.nextSibling;X;X=X.nextSibling)if(X.nodeType!=1||X.nodeName!="BR")return!1;return x9(Z,Q-1,Q).getBoundingClientRect().left>J}function XQ(Z,$,J){if($!=0)return!1;for(let X=Z;;){let K=X.parentNode;if(!K||K.nodeType!=1||K.firstChild!=X)return!1;if(K.classList.contains("cm-line"))break;X=K}let Q=Z.nodeType==1?Z.getBoundingClientRect():x9(Z,0,Math.max(Z.nodeValue.length,1)).getBoundingClientRect();return J-Q.left>5}function KQ(Z,$){let J=Z.lineBlockAt($);if(Array.isArray(J.type)){for(let Q of J.type)if(Q.to>$||Q.to==$&&(Q.to==J.to||Q.type==T3.Text))return Q}return J}function YQ(Z,$,J,Q){let X=KQ(Z,$.head),K=!Q||X.type!=T3.Text||!(Z.lineWrapping||X.widgetLineBreaks)?null:Z.coordsAtPos($.assoc<0&&$.head>X.from?$.head-1:$.head);if(K){let Y=Z.dom.getBoundingClientRect(),U=Z.textDirectionAt(X.from),q=Z.posAtCoords({x:J==(U==i.LTR)?Y.right-1:Y.left+1,y:(K.top+K.bottom)/2});if(q!=null)return R.cursor(q,J?-1:1)}return R.cursor(J?X.to:X.from,J?-1:1)}function I0(Z,$,J,Q){let X=Z.state.doc.lineAt($.head),K=Z.bidiSpans(X),Y=Z.textDirectionAt(X.from);for(let U=$,q=null;;){let W=p2(X,K,Y,U,J),G=G6;if(!W){if(X.number==(J?Z.state.doc.lines:1))return U;G="\n",X=Z.state.doc.line(X.number+(J?1:-1)),K=Z.bidiSpans(X),W=Z.visualLineSide(X,!J)}if(!q){if(!Q)return W;q=Q(G)}else if(!q(G))return U;U=W}}function UQ(Z,$,J){let Q=Z.state.charCategorizer($),X=Q(J);return(K)=>{let Y=Q(K);if(X==P3.Space)X=Y;return X==Y}}function qQ(Z,$,J,Q){let X=$.head,K=J?1:-1;if(X==(J?Z.state.doc.length:0))return R.cursor(X,$.assoc);let Y=$.goalColumn,U,q=Z.contentDOM.getBoundingClientRect(),W=Z.coordsAtPos(X,$.assoc||-1),G=Z.documentTop;if(W){if(Y==null)Y=W.left-q.left;U=K<0?W.top:W.bottom}else{let _=Z.viewState.lineBlockAt(X);if(Y==null)Y=Math.min(q.right-q.left,Z.defaultCharacterWidth*(X-_.from));U=(K<0?_.top:_.bottom)+G}let z=q.left+Y,j=Q!==null&&Q!==void 0?Q:Z.viewState.heightOracle.textHeight>>1;for(let _=0;;_+=10){let H=U+(j+_)*K,F=B6(Z,{x:z,y:H},!1,K);if(H<q.top||H>q.bottom||(K<0?F<X:F>X)){let N=Z.docView.coordsForChar(F),D=!N||H<N.top?-1:1;return R.cursor(F,D,void 0,Y)}}}function P7(Z,$,J){for(;;){let Q=0;for(let X of Z)X.between($-1,$+1,(K,Y,U)=>{if($>K&&$<Y){let q=Q||J||($-K<Y-$?-1:1);$=q<0?K:Y,Q=q}});if(!Q)return $}}function bZ(Z,$,J){let Q=P7(Z.state.facet(j4).map((X)=>X(Z)),J.from,$.head>J.from?-1:1);return Q==J.from?J:R.cursor(Q,Q<J.from?1:-1)}function GQ(Z,$,J){for(;;){if(!$||J<U9($))return!1;if($==Z)return!0;J=k9($)+1,$=$.parentNode}}function C6(Z,$){let J,{newSel:Q}=$,X=Z.state.selection.main,K=Z.inputState.lastKeyTime>Date.now()-100?Z.inputState.lastKeyCode:-1;if($.bounds){let{from:Y,to:U}=$.bounds,q=X.from,W=null;if(K===8||L.android&&$.text.length<U-Y)q=X.to,W="end";let G=zQ(Z.state.doc.sliceString(Y,U,T5),$.text,q-Y,W);if(G){if(L.chrome&&K==13&&G.toB==G.from+2&&$.text.slice(G.from,G.toB)==T5+T5)G.toB--;J={from:Y+G.from,to:Y+G.toA,insert:b.of($.text.slice(G.from,G.toB).split(T5))}}}else if(Q&&(!Z.hasFocus&&Z.state.facet(O9)||Q.main.eq(X)))Q=null;if(!J&&!Q)return!1;if(!J&&$.typeOver&&!X.empty&&Q&&Q.main.empty)J={from:X.from,to:X.to,insert:Z.state.doc.slice(X.from,X.to)};else if(J&&J.from>=X.from&&J.to<=X.to&&(J.from!=X.from||J.to!=X.to)&&X.to-X.from-(J.to-J.from)<=4)J={from:X.from,to:X.to,insert:Z.state.doc.slice(X.from,J.from).append(J.insert).append(Z.state.doc.slice(J.to,X.to))};else if((L.mac||L.android)&&J&&J.from==J.to&&J.from==X.head-1&&/^\. ?$/.test(J.insert.toString())&&Z.contentDOM.getAttribute("autocorrect")=="off"){if(Q&&J.insert.length==2)Q=R.single(Q.main.anchor-1,Q.main.head-1);J={from:X.from,to:X.to,insert:b.of([" "])}}else if(L.chrome&&J&&J.from==J.to&&J.from==X.head&&J.insert.toString()=="\n "&&Z.lineWrapping){if(Q)Q=R.single(Q.main.anchor-1,Q.main.head-1);J={from:X.from,to:X.to,insert:b.of([" "])}}if(J)return _4(Z,J,Q,K);else if(Q&&!Q.main.eq(X)){let Y=!1,U="select";if(Z.inputState.lastSelectionTime>Date.now()-50){if(Z.inputState.lastSelectionOrigin=="select")Y=!0;U=Z.inputState.lastSelectionOrigin}return Z.dispatch({selection:Q,scrollIntoView:Y,userEvent:U}),!0}else return!1}function _4(Z,$,J,Q=-1){if(L.ios&&Z.inputState.flushIOSKey($))return!0;let X=Z.state.selection.main;if(L.android&&($.to==X.to&&($.from==X.from||$.from==X.from-1&&Z.state.sliceDoc($.from,X.from)==" ")&&$.insert.length==1&&$.insert.lines==2&&$5(Z.contentDOM,"Enter",13)||($.from==X.from-1&&$.to==X.to&&$.insert.length==0||Q==8&&$.insert.length<$.to-$.from&&$.to>X.head)&&$5(Z.contentDOM,"Backspace",8)||$.from==X.from&&$.to==X.to+1&&$.insert.length==0&&$5(Z.contentDOM,"Delete",46)))return!0;let K=$.insert.toString();if(Z.inputState.composing>=0)Z.inputState.composing++;let Y,U=()=>Y||(Y=WQ(Z,$,J));if(!Z.state.facet(O6).some((q)=>q(Z,$.from,$.to,K,U)))Z.dispatch(U());return!0}function WQ(Z,$,J){let Q,X=Z.state,K=X.selection.main;if($.from>=K.from&&$.to<=K.to&&$.to-$.from>=(K.to-K.from)/3&&(!J||J.main.empty&&J.main.from==$.from+$.insert.length)&&Z.inputState.composing<0){let U=K.from<$.from?X.sliceDoc(K.from,$.from):"",q=K.to>$.to?X.sliceDoc($.to,K.to):"";Q=X.replaceSelection(Z.state.toText(U+$.insert.sliceString(0,void 0,Z.state.lineBreak)+q))}else{let U=X.changes($),q=J&&J.main.to<=U.newLength?J.main:void 0;if(X.selection.ranges.length>1&&Z.inputState.composing>=0&&$.to<=K.to&&$.to>=K.to-10){let W=Z.state.sliceDoc($.from,$.to),G,z=J&&L6(Z,J.main.head);if(z){let H=$.insert.length-($.to-$.from);G={from:z.from,to:z.to-H}}else G=Z.state.doc.lineAt(K.head);let j=K.to-$.to,_=K.to-K.from;Q=X.changeByRange((H)=>{if(H.from==K.from&&H.to==K.to)return{changes:U,range:q||H.map(U)};let F=H.to-j,N=F-W.length;if(H.to-H.from!=_||Z.state.sliceDoc(N,F)!=W||H.to>=G.from&&H.from<=G.to)return{range:H};let D=X.changes({from:N,to:F,insert:$.insert}),M=H.to-K.to;return{changes:D,range:!q?H.map(D):R.range(Math.max(0,q.anchor+M),Math.max(0,q.head+M))}})}else Q={changes:U,selection:q&&X.selection.replaceRange(q)}}let Y="input.type";if(Z.composing||Z.inputState.compositionPendingChange&&Z.inputState.compositionEndedAt>Date.now()-50){if(Z.inputState.compositionPendingChange=!1,Y+=".compose",Z.inputState.compositionFirstChange)Y+=".start",Z.inputState.compositionFirstChange=!1}return X.update(Q,{userEvent:Y,scrollIntoView:!0})}function zQ(Z,$,J,Q){let X=Math.min(Z.length,$.length),K=0;while(K<X&&Z.charCodeAt(K)==$.charCodeAt(K))K++;if(K==X&&Z.length==$.length)return null;let Y=Z.length,U=$.length;while(Y>0&&U>0&&Z.charCodeAt(Y-1)==$.charCodeAt(U-1))Y--,U--;if(Q=="end"){let q=Math.max(0,K-Math.min(Y,U));J-=Y+q-K}if(Y<K&&Z.length<$.length){let q=J<=K&&J>=Y?K-J:0;K-=q,U=K+(U-Y),Y=K}else if(U<K){let q=J<=K&&J>=U?K-J:0;K-=q,Y=K+(Y-U),U=K}return{from:K,toA:Y,toB:U}}function jQ(Z){let $=[];if(Z.root.activeElement!=Z.contentDOM)return $;let{anchorNode:J,anchorOffset:Q,focusNode:X,focusOffset:K}=Z.observer.selectionRange;if(J){if($.push(new rZ(J,Q)),X!=J||K!=Q)$.push(new rZ(X,K))}return $}function _Q(Z,$){if(Z.length==0)return null;let J=Z[0].pos,Q=Z.length==2?Z[1].pos:J;return J>-1&&Q>-1?R.single(J+$,Q+$):null}function M0(Z,$){return(J,Q)=>{try{return $.call(Z,Q,J)}catch(X){z3(J.state,X)}}}function OQ(Z){let $=Object.create(null);function J(Q){return $[Q]||($[Q]={observers:[],handlers:[]})}for(let Q of Z){let X=Q.spec;if(X&&X.domEventHandlers)for(let K in X.domEventHandlers){let Y=X.domEventHandlers[K];if(Y)J(K).handlers.push(M0(Q.value,Y))}if(X&&X.domEventObservers)for(let K in X.domEventObservers){let Y=X.domEventObservers[K];if(Y)J(K).observers.push(M0(Q.value,Y))}}for(let Q in f3)J(Q).handlers.push(f3[Q]);for(let Q in b3)J(Q).observers.push(b3[Q]);return $}function V7(Z){return Math.max(0,Z)*0.7+8}function FQ(Z,$){return Math.max(Math.abs(Z.clientX-$.clientX),Math.abs(Z.clientY-$.clientY))}function NQ(Z,$){let J=Z.state.facet(W6);return J.length?J[0]($):L.mac?$.metaKey:$.ctrlKey}function DQ(Z,$){let J=Z.state.facet(z6);return J.length?J[0]($):L.mac?!$.altKey:!$.ctrlKey}function RQ(Z,$){let{main:J}=Z.state.selection;if(J.empty)return!1;let Q=x5(Z.root);if(!Q||Q.rangeCount==0)return!0;let X=Q.getRangeAt(0).getClientRects();for(let K=0;K<X.length;K++){let Y=X[K];if(Y.left<=$.clientX&&Y.right>=$.clientX&&Y.top<=$.clientY&&Y.bottom>=$.clientY)return!0}return!1}function VQ(Z,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let J=$.target,Q;J!=Z.contentDOM;J=J.parentNode)if(!J||J.nodeType==11||(Q=l.get(J))&&Q.ignoreEvent($))return!1;return!0}function IQ(Z){let $=Z.dom.parentNode;if(!$)return;let J=$.appendChild(document.createElement("textarea"));J.style.cssText="position: fixed; left: -10000px; top: 10px",J.focus(),setTimeout(()=>{Z.focus(),J.remove(),x6(Z,J.value)},50)}function f7(Z,$,J){for(let Q of Z.facet($))J=Q(J,Z);return J}function x6(Z,$){$=f7(Z.state,G4,$);let{state:J}=Z,Q,X=1,K=J.toText($),Y=K.lines==J.selection.ranges.length;if(oZ!=null&&J.selection.ranges.every((q)=>q.empty)&&oZ==K.toString()){let q=-1;Q=J.changeByRange((W)=>{let G=J.doc.lineAt(W.from);if(G.from==q)return{range:W};q=G.from;let z=J.toText((Y?K.line(X++).text:$)+J.lineBreak);return{changes:{from:G.from,insert:z},range:R.cursor(W.from+z.length)}})}else if(Y)Q=J.changeByRange((q)=>{let W=K.line(X++);return{changes:{from:q.from,to:q.to,insert:W.text},range:R.cursor(q.from+W.length)}});else Q=J.replaceSelection(K);Z.dispatch(Q,{userEvent:"input.paste",scrollIntoView:!0})}function A0(Z,$,J,Q){if(Q==1)return R.cursor($,J);else if(Q==2)return ZQ(Z.state,$,J);else{let X=$3.find(Z.docView,$),K=Z.state.doc.lineAt(X?X.posAtEnd:$),Y=X?X.posAtStart:K.from,U=X?X.posAtEnd:K.to;if(U<Z.state.doc.length&&U==K.to)U++;return R.range(Y,U)}}function MQ(Z,$,J,Q){let X=$3.find(Z.docView,$);if(!X)return 1;let K=$-X.posAtStart;if(K==0)return 1;if(K==X.length)return-1;let Y=X.coordsAt(K,-1);if(Y&&L0(J,Q,Y))return-1;let U=X.coordsAt(K,1);if(U&&L0(J,Q,U))return 1;return Y&&Y.bottom>=Q?-1:1}function B0(Z,$){let J=Z.posAtCoords({x:$.clientX,y:$.clientY},!1);return{pos:J,bias:MQ(Z,J,$.clientX,$.clientY)}}function w6(Z){if(!AQ)return Z.detail;let $=E0,J=C0;return E0=Z,C0=Date.now(),P0=!$||J>Date.now()-400&&Math.abs($.clientX-Z.clientX)<2&&Math.abs($.clientY-Z.clientY)<2?(P0+1)%3:1}function LQ(Z,$){let J=B0(Z,$),Q=w6($),X=Z.state.selection;return{update(K){if(K.docChanged)J.pos=K.changes.mapPos(J.pos),X=X.map(K.changes)},get(K,Y,U){let q=B0(Z,K),W,G=A0(Z,q.pos,q.bias,Q);if(J.pos!=q.pos&&!Y){let z=A0(Z,J.pos,J.bias,Q),j=Math.min(z.from,G.from),_=Math.max(z.to,G.to);G=j<G.from?R.range(j,_):R.range(_,j)}if(Y)return X.replaceRange(X.main.extend(G.from,G.to));else if(U&&Q==1&&X.ranges.length>1&&(W=BQ(X,q.pos)))return W;else if(U)return X.addRange(G);else return R.create([G])}}}function BQ(Z,$){for(let J=0;J<Z.ranges.length;J++){let{from:Q,to:X}=Z.ranges[J];if(Q<=$&&X>=$)return R.create(Z.ranges.slice(0,J).concat(Z.ranges.slice(J+1)),Z.mainIndex==J?0:Z.mainIndex-(Z.mainIndex>J?1:0))}return null}function T0(Z,$,J,Q){if(J=f7(Z.state,G4,J),!J)return;let X=Z.posAtCoords({x:$.clientX,y:$.clientY},!1),{draggedContent:K}=Z.inputState,Y=Q&&K&&DQ(Z,$)?{from:K.from,to:K.to}:null,U={from:X,insert:J},q=Z.state.changes(Y?[Y,U]:U);Z.focus(),Z.dispatch({changes:q,selection:{anchor:q.mapPos(X,-1),head:q.mapPos(X,1)},userEvent:Y?"move.drop":"input.drop"}),Z.inputState.draggedContent=null}function EQ(Z,$){let J=Z.dom.parentNode;if(!J)return;let Q=J.appendChild(document.createElement("textarea"));Q.style.cssText="position: fixed; left: -10000px; top: 10px",Q.value=$,Q.focus(),Q.selectionEnd=$.length,Q.selectionStart=0,setTimeout(()=>{Q.remove(),Z.focus()},50)}function PQ(Z){let $=[],J=[],Q=!1;for(let X of Z.selection.ranges)if(!X.empty)$.push(Z.sliceDoc(X.from,X.to)),J.push(X);if(!$.length){let X=-1;for(let{from:K}of Z.selection.ranges){let Y=Z.doc.lineAt(K);if(Y.number>X)$.push(Y.text),J.push({from:Y.from,to:Math.min(Z.doc.length,Y.to+1)});X=Y.number}Q=!0}return{text:f7(Z,W4,$.join(Z.lineBreak)),ranges:J,linewise:Q}}function h6(Z,$){let J=[];for(let Q of Z.facet(H6)){let X=Q(Z,$);if(X)J.push(X)}return J?Z.update({effects:J,annotations:v6.of(!0)}):null}function m6(Z){setTimeout(()=>{let $=Z.hasFocus;if($!=Z.inputState.notifiedFocused){let J=h6(Z.state,$);if(J)Z.dispatch(J);else Z.update([])}},10)}function CQ(Z){if(!y0.has(Z))y0.add(Z),Z.addEventListener("copy",()=>{}),Z.addEventListener("cut",()=>{})}function b0(){X5=!1}function v7(Z,$){if(Z==$)return Z;if(Z.constructor!=$.constructor)X5=!0;return $}function k0(Z,$){let J,Q;if(Z[$]==null&&(J=Z[$-1])instanceof X3&&(Q=Z[$+1])instanceof X3)Z.splice($-1,3,new X3(J.length+1+Q.length))}function yQ(Z,$,J){let Q=new l6;return w.compare(Z,$,J,Q,0),Q.changes}function SQ(Z,$){let J=Z.getBoundingClientRect(),Q=Z.ownerDocument,X=Q.defaultView||window,K=Math.max(0,J.left),Y=Math.min(X.innerWidth,J.right),U=Math.max(0,J.top),q=Math.min(X.innerHeight,J.bottom);for(let W=Z.parentNode;W&&W!=Q.body;)if(W.nodeType==1){let G=W,z=window.getComputedStyle(G);if((G.scrollHeight>G.clientHeight||G.scrollWidth>G.clientWidth)&&z.overflow!="visible"){let j=G.getBoundingClientRect();K=Math.max(K,j.left),Y=Math.min(Y,j.right),U=Math.max(U,j.top),q=Math.min(W==Z.parentNode?X.innerHeight:q,j.bottom)}W=z.position=="absolute"||z.position=="fixed"?G.offsetParent:G.parentNode}else if(W.nodeType==11)W=W.host;else break;return{left:K-J.left,right:Math.max(K,Y)-J.left,top:U-(J.top+$),bottom:Math.max(U,q)-(J.top+$)}}function bQ(Z,$){let J=Z.getBoundingClientRect();return{left:0,right:J.right-J.left,top:$,bottom:J.bottom-(J.top+$)}}function kQ(Z,$,J){let Q=[],X=Z,K=0;if(w.spans(J,Z,$,{span(){},point(Y,U){if(Y>X)Q.push({from:X,to:Y}),K+=Y-X;X=U}},20),X<$)Q.push({from:X,to:$}),K+=$-X;return{total:K,ranges:Q}}function I7({total:Z,ranges:$},J){if(J<=0)return $[0].from;if(J>=1)return $[$.length-1].to;let Q=Math.floor(Z*J);for(let X=0;;X++){let{from:K,to:Y}=$[X],U=Y-K;if(Q<=U)return K+Q;Q-=U}}function M7(Z,$){let J=0;for(let{from:Q,to:X}of Z.ranges){if($<=X){J+=$-Q;break}J+=X-Q}return J/Z.total}function xQ(Z,$){for(let J of Z)if($(J))return J;return}function S5(Z,$){if($.scale==1)return Z;let J=$.toDOM(Z.top),Q=$.toDOM(Z.bottom);return new n3(Z.from,Z.length,J,Q-J,Array.isArray(Z._content)?Z._content.map((X)=>S5(X,$)):Z._content)}function $4(Z,$,J){return new m3($,{finish(Q){return/&/.test(Q)?Q.replace(/&\w*/,(X)=>{if(X=="&")return Z;if(!J||!J[X])throw new RangeError(`Unsupported selector: ${X}`);return J[X]}):Z+" "+Q}})}function w0(Z,$,J){while($){let Q=l.get($);if(Q&&Q.parent==Z)return Q;let X=$.parentNode;$=X!=Z.dom?X:J>0?$.nextSibling:$.previousSibling}return null}function v0(Z,$){let{startContainer:J,startOffset:Q,endContainer:X,endOffset:K}=$,Y=Z.docView.domAtPos(Z.state.selection.main.anchor);if(b5(Y.node,Y.offset,X,K))[J,Q,X,K]=[X,K,J,Q];return{anchorNode:J,anchorOffset:Q,focusNode:X,focusOffset:K}}function hQ(Z,$){if($.getComposedRanges){let X=$.getComposedRanges(Z.root)[0];if(X)return v0(Z,X)}let J=null;function Q(X){X.preventDefault(),X.stopImmediatePropagation(),J=X.getTargetRanges()[0]}return Z.contentDOM.addEventListener("beforeinput",Q,!0),Z.dom.ownerDocument.execCommand("indent"),Z.contentDOM.removeEventListener("beforeinput",Q,!0),J?v0(Z,J):null}function m0(Z,$,J){for(let Q=Z.state.facet($),X=Q.length-1;X>=0;X--){let K=Q[X],Y=typeof K=="function"?K(Z):K;if(Y)gZ(Y,J)}return J}function fQ(Z,$){const J=Z.split(/-(?!$)/);let Q=J[J.length-1];if(Q=="Space")Q=" ";let X,K,Y,U;for(let q=0;q<J.length-1;++q){const W=J[q];if(/^(cmd|meta|m)$/i.test(W))U=!0;else if(/^a(lt)?$/i.test(W))X=!0;else if(/^(c|ctrl|control)$/i.test(W))K=!0;else if(/^s(hift)?$/i.test(W))Y=!0;else if(/^mod$/i.test(W))if($=="mac")U=!0;else K=!0;else throw new Error("Unrecognized modifier name: "+W)}if(X)Q="Alt-"+Q;if(K)Q="Ctrl-"+Q;if(U)Q="Meta-"+Q;if(Y)Q="Shift-"+Q;return Q}function L7(Z,$,J){if($.altKey)Z="Alt-"+Z;if($.ctrlKey)Z="Ctrl-"+Z;if($.metaKey)Z="Meta-"+Z;if(J!==!1&&$.shiftKey)Z="Shift-"+Z;return Z}function lQ(Z){let $=Z.facet(K5),J=u0.get($);if(!J)u0.set($,J=dQ($.reduce((Q,X)=>Q.concat(X),[])));return J}function dQ(Z,$=uQ){let J=Object.create(null),Q=Object.create(null),X=(Y,U)=>{let q=Q[Y];if(q==null)Q[Y]=U;else if(q!=U)throw new Error("Key binding "+Y+" is used both as a regular binding and as a multi-stroke prefix")},K=(Y,U,q,W,G)=>{var z,j;let _=J[Y]||(J[Y]=Object.create(null)),H=U.split(/ (?!$)/).map((D)=>fQ(D,$));for(let D=1;D<H.length;D++){let M=H.slice(0,D).join(" ");if(X(M,!0),!_[M])_[M]={preventDefault:!0,stopPropagation:!1,run:[(V)=>{let I=H9={view:V,prefix:M,scope:Y};return setTimeout(()=>{if(H9==I)H9=null},pQ),!0}]}}let F=H.join(" ");X(F,!1);let N=_[F]||(_[F]={preventDefault:!1,stopPropagation:!1,run:((j=(z=_._any)===null||z===void 0?void 0:z.run)===null||j===void 0?void 0:j.slice())||[]});if(q)N.run.push(q);if(W)N.preventDefault=!0;if(G)N.stopPropagation=!0};for(let Y of Z){let U=Y.scope?Y.scope.split(" "):["editor"];if(Y.any)for(let W of U){let G=J[W]||(J[W]=Object.create(null));if(!G._any)G._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:z}=Y;for(let j in G)G[j].run.push((_)=>z(_,J4))}let q=Y[$]||Y.key;if(!q)continue;for(let W of U)if(K(W,q,Y.run,Y.preventDefault,Y.stopPropagation),Y.shift)K(W,"Shift-"+q,Y.shift,Y.preventDefault,Y.stopPropagation)}return J}function cQ(Z,$,J,Q){J4=$;let X=q0($),K=C3(X,0),Y=c3(K)==X.length&&X!=" ",U="",q=!1,W=!1,G=!1;if(H9&&H9.view==J&&H9.scope==Q){if(U=H9.prefix+" ",S6.indexOf($.keyCode)<0)W=!0,H9=null}let z=new Set,j=(N)=>{if(N){for(let D of N.run)if(!z.has(D)){if(z.add(D),D(J)){if(N.stopPropagation)G=!0;return!0}}if(N.preventDefault){if(N.stopPropagation)G=!0;W=!0}}return!1},_=Z[Q],H,F;if(_){if(j(_[U+L7(X,$,!Y)]))q=!0;else if(Y&&($.altKey||$.metaKey||$.ctrlKey)&&!(L.windows&&$.ctrlKey&&$.altKey)&&(H=X9[$.keyCode])&&H!=X){if(j(_[U+L7(H,$,!0)]))q=!0;else if($.shiftKey&&(F=t9[$.keyCode])!=X&&F!=H&&j(_[U+L7(F,$,!1)]))q=!0}else if(Y&&$.shiftKey&&j(_[U+L7(X,$,!0)]))q=!0;if(!q&&j(_._any))q=!0}if(W)q=!0;if(q&&G)$.stopPropagation();return J4=null,q}function iQ(Z){let{win:$}=Z;return{top:0,left:0,bottom:$.innerHeight,right:$.innerWidth}}function D4(Z,$){let J=Z.plugin(r6);if(!J)return null;let Q=J.manager.tooltips.indexOf($);return Q<0?null:J.manager.tooltipViews[Q]}function oQ(Z){let $=[tQ];if(Z&&Z.fixed===!1)$.push(Q4.of(!0));return $}function l0(Z){return Array.isArray(Z)?Z:[Z]}function X4(Z,$,J){while(Z.value&&Z.from<=J){if(Z.from==J)$.push(Z.value);Z.next()}}function eQ(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++)if(!Z[J].compare($[J]))return!1;return!0}function vZ(Z,$){return Z.state.facet(Z5).formatNumber($,Z.state)}function t6(Z={}){return[Z5.of(Z),oQ(),JX]}function p0(Z){let $=9;while($<Z)$=$*10+9;return $}class c0{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Z){return this.anchorNode==Z.anchorNode&&this.anchorOffset==Z.anchorOffset&&this.focusNode==Z.focusNode&&this.focusOffset==Z.focusOffset}setRange(Z){let{anchorNode:$,focusNode:J}=Z;this.set($,Math.min(Z.anchorOffset,$?U9($):0),J,Math.min(Z.focusOffset,J?U9(J):0))}set(Z,$,J,Q){this.anchorNode=Z,this.anchorOffset=$,this.focusNode=J,this.focusOffset=Q}}var e9=null,W0;class q3{constructor(Z,$,J=!0){this.node=Z,this.offset=$,this.precise=J}static before(Z,$){return new q3(Z.parentNode,k9(Z),$)}static after(Z,$){return new q3(Z.parentNode,k9(Z)+1,$)}}var Y4=[];class l{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Z){let $=this.posAtStart;for(let J of this.children){if(J==Z)return $;$+=J.length+J.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(Z){return this.posBefore(Z)+Z.length}sync(Z,$){if(this.flags&2){let J=this.dom,Q=null,X;for(let K of this.children){if(K.flags&7){if(!K.dom&&(X=Q?Q.nextSibling:J.firstChild)){let Y=l.get(X);if(!Y||!Y.parent&&Y.canReuseDOM(K))K.reuseDOM(X)}K.sync(Z,$),K.flags&=-8}if(X=Q?Q.nextSibling:J.firstChild,$&&!$.written&&$.node==J&&X!=K.dom)$.written=!0;if(K.dom.parentNode==J)while(X&&X!=K.dom)X=z0(X);else J.insertBefore(K.dom,X);Q=K.dom}if(X=Q?Q.nextSibling:J.firstChild,X&&$&&$.node==J)$.written=!0;while(X)X=z0(X)}else if(this.flags&1){for(let J of this.children)if(J.flags&7)J.sync(Z,$),J.flags&=-8}}reuseDOM(Z){}localPosFromDOM(Z,$){let J;if(Z==this.dom)J=this.dom.childNodes[$];else{let Q=U9(Z)==0?0:$==0?-1:1;for(;;){let X=Z.parentNode;if(X==this.dom)break;if(Q==0&&X.firstChild!=X.lastChild)if(Z==X.firstChild)Q=-1;else Q=1;Z=X}if(Q<0)J=Z;else J=Z.nextSibling}if(J==this.dom.firstChild)return 0;while(J&&!l.get(J))J=J.nextSibling;if(!J)return this.length;for(let Q=0,X=0;;Q++){let K=this.children[Q];if(K.dom==J)return X;X+=K.length+K.breakAfter}}domBoundsAround(Z,$,J=0){let Q=-1,X=-1,K=-1,Y=-1;for(let U=0,q=J,W=J;U<this.children.length;U++){let G=this.children[U],z=q+G.length;if(q<Z&&z>$)return G.domBoundsAround(Z,$,q);if(z>=Z&&Q==-1)Q=U,X=q;if(q>$&&G.dom.parentNode==this.dom){K=U,Y=W;break}W=z,q=z+G.breakAfter}return{from:X,to:Y<0?J+this.length:Y,startDOM:(Q?this.children[Q-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:K<this.children.length&&K>=0?this.children[K].dom:null}}markDirty(Z=!1){this.flags|=2,this.markParentsDirty(Z)}markParentsDirty(Z){for(let $=this.parent;$;$=$.parent){if(Z)$.flags|=2;if($.flags&1)return;$.flags|=1,Z=!1}}setParent(Z){if(this.parent!=Z){if(this.parent=Z,this.flags&7)this.markParentsDirty(!0)}}setDOM(Z){if(this.dom==Z)return;if(this.dom)this.dom.cmView=null;this.dom=Z,Z.cmView=this}get rootView(){for(let Z=this;;){let $=Z.parent;if(!$)return Z;Z=$}}replaceChildren(Z,$,J=Y4){this.markDirty();for(let Q=Z;Q<$;Q++){let X=this.children[Q];if(X.parent==this&&J.indexOf(X)<0)X.destroy()}this.children.splice(Z,$-Z,...J);for(let Q=0;Q<J.length;Q++)J[Q].setParent(this)}ignoreMutation(Z){return!1}ignoreEvent(Z){return!1}childCursor(Z=this.length){return new U4(this.children,Z,this.children.length)}childPos(Z,$=1){return this.childCursor().findPos(Z,$)}toString(){let Z=this.constructor.name.replace("View","");return Z+(this.children.length?"("+this.children.join()+")":this.length?"["+(Z=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(Z){return Z.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(Z,$,J,Q,X,K){return!1}become(Z){return!1}canReuseDOM(Z){return Z.constructor==this.constructor&&!((this.flags|Z.flags)&8)}getSide(){return 0}destroy(){for(let Z of this.children)if(Z.parent==this)Z.destroy();this.parent=null}}l.prototype.breakAfter=0;class U4{constructor(Z,$,J){this.children=Z,this.pos=$,this.i=J,this.off=0}findPos(Z,$=1){for(;;){if(Z>this.pos||Z==this.pos&&($>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=Z-this.pos,this;let J=this.children[--this.i];this.pos-=J.length+J.breakAfter}}}var N3=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},mZ=typeof document!="undefined"?document:{documentElement:{style:{}}},uZ=/Edge\/(\d+)/.exec(N3.userAgent),e0=/MSIE \d/.test(N3.userAgent),fZ=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(N3.userAgent),u7=!!(e0||fZ||uZ),j0=!u7&&/gecko\/(\d+)/i.test(N3.userAgent),yZ=!u7&&/Chrome\/(\d+)/.exec(N3.userAgent),_0="webkitFontSmoothing"in mZ.documentElement.style,Z6=!u7&&/Apple Computer/.test(N3.vendor),O0=Z6&&(/Mobile\/\w+/.test(N3.userAgent)||N3.maxTouchPoints>2),L={mac:O0||/Mac/.test(N3.platform),windows:/Win/.test(N3.platform),linux:/Linux|X11/.test(N3.platform),ie:u7,ie_version:e0?mZ.documentMode||6:fZ?+fZ[1]:uZ?+uZ[1]:0,gecko:j0,gecko_version:j0?+(/Firefox\/(\d+)/.exec(N3.userAgent)||[0,0])[1]:0,chrome:!!yZ,chrome_version:yZ?+yZ[1]:0,ios:O0,android:/Android\b/.test(N3.userAgent),webkit:_0,safari:Z6,webkit_version:_0?+(/\bAppleWebKit\/(\d+)/.exec(N3.userAgent)||[0,0])[1]:0,tabSize:mZ.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},S2=256;class u3 extends l{constructor(Z){super();this.text=Z}get length(){return this.text.length}createDOM(Z){this.setDOM(Z||document.createTextNode(this.text))}sync(Z,$){if(!this.dom)this.createDOM();if(this.dom.nodeValue!=this.text){if($&&$.node==this.dom)$.written=!0;this.dom.nodeValue=this.text}}reuseDOM(Z){if(Z.nodeType==3)this.createDOM(Z)}merge(Z,$,J){if(this.flags&8||J&&(!(J instanceof u3)||this.length-($-Z)+J.length>S2||J.flags&8))return!1;return this.text=this.text.slice(0,Z)+(J?J.text:"")+this.text.slice($),this.markDirty(),!0}split(Z){let $=new u3(this.text.slice(Z));return this.text=this.text.slice(0,Z),this.markDirty(),$.flags|=this.flags&8,$}localPosFromDOM(Z,$){return Z==this.dom?$:$?this.text.length:0}domAtPos(Z){return new q3(this.dom,Z)}domBoundsAround(Z,$,J){return{from:J,to:J+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(Z,$){return b2(this.dom,Z,$)}}class q9 extends l{constructor(Z,$=[],J=0){super();this.mark=Z,this.children=$,this.length=J;for(let Q of $)Q.setParent(this)}setAttrs(Z){if(i0(Z),this.mark.class)Z.className=this.mark.class;if(this.mark.attrs)for(let $ in this.mark.attrs)Z.setAttribute($,this.mark.attrs[$]);return Z}canReuseDOM(Z){return super.canReuseDOM(Z)&&!((this.flags|Z.flags)&8)}reuseDOM(Z){if(Z.nodeName==this.mark.tagName.toUpperCase())this.setDOM(Z),this.flags|=6}sync(Z,$){if(!this.dom)this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));else if(this.flags&4)this.setAttrs(this.dom);super.sync(Z,$)}merge(Z,$,J,Q,X,K){if(J&&(!(J instanceof q9&&J.mark.eq(this.mark))||Z&&X<=0||$<this.length&&K<=0))return!1;return t0(this,Z,$,J?J.children.slice():[],X-1,K-1),this.markDirty(),!0}split(Z){let $=[],J=0,Q=-1,X=0;for(let Y of this.children){let U=J+Y.length;if(U>Z)$.push(J<Z?Y.split(Z-J):Y);if(Q<0&&J>=Z)Q=X;J=U,X++}let K=this.length-Z;if(this.length=Z,Q>-1)this.children.length=Q,this.markDirty();return new q9(this.mark,$,K)}domAtPos(Z){return $6(this,Z)}coordsAt(Z,$){return Q6(this,Z,$)}}class b9 extends l{static create(Z,$,J){return new b9(Z,$,J)}constructor(Z,$,J){super();this.widget=Z,this.length=$,this.side=J,this.prevWidget=null}split(Z){let $=b9.create(this.widget,this.length-Z,this.side);return this.length-=Z,$}sync(Z){if(!this.dom||!this.widget.updateDOM(this.dom,Z)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);if(this.prevWidget=null,this.setDOM(this.widget.toDOM(Z)),!this.widget.editable)this.dom.contentEditable="false"}}getSide(){return this.side}merge(Z,$,J,Q,X,K){if(J&&(!(J instanceof b9)||!this.widget.compare(J.widget)||Z>0&&X<=0||$<this.length&&K<=0))return!1;return this.length=Z+(J?J.length:0)+(this.length-$),!0}become(Z){if(Z instanceof b9&&Z.side==this.side&&this.widget.constructor==Z.widget.constructor){if(!this.widget.compare(Z.widget))this.markDirty(!0);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;return this.widget=Z.widget,this.length=Z.length,!0}return!1}ignoreMutation(){return!0}ignoreEvent(Z){return this.widget.ignoreEvent(Z)}get overrideDOMText(){if(this.length==0)return b.empty;let Z=this;while(Z.parent)Z=Z.parent;let{view:$}=Z,J=$&&$.state.doc,Q=this.posAtStart;return J?J.slice(Q,Q+this.length):b.empty}domAtPos(Z){return(this.length?Z==0:this.side>0)?q3.before(this.dom):q3.after(this.dom,Z==this.length)}domBoundsAround(){return null}coordsAt(Z,$){let J=this.widget.coordsAt(this.dom,Z,$);if(J)return J;let Q=this.dom.getClientRects(),X=null;if(!Q.length)return null;let K=this.side?this.side<0:Z>0;for(let Y=K?Q.length-1:0;;Y+=K?-1:1)if(X=Q[Y],Z>0?Y==0:Y==Q.length-1||X.top<X.bottom)break;return m7(X,!K)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){if(super.destroy(),this.dom)this.widget.destroy(this.dom)}}class Q5 extends l{constructor(Z){super();this.side=Z}get length(){return 0}merge(){return!1}become(Z){return Z instanceof Q5&&Z.side==this.side}split(){return new Q5(this.side)}sync(){if(!this.dom){let Z=document.createElement("img");Z.className="cm-widgetBuffer",Z.setAttribute("aria-hidden","true"),this.setDOM(Z)}}getSide(){return this.side}domAtPos(Z){return this.side>0?q3.before(this.dom):q3.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(Z){return this.dom.getBoundingClientRect()}get overrideDOMText(){return b.empty}get isHidden(){return!0}}u3.prototype.children=b9.prototype.children=Q5.prototype.children=Y4;var H0=Object.create(null);class h9{eq(Z){return!1}updateDOM(Z,$){return!1}compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Z){return!0}coordsAt(Z,$,J){return null}get isHidden(){return!1}get editable(){return!1}destroy(Z){}}var T3=function(Z){return Z[Z.Text=0]="Text",Z[Z.WidgetBefore=1]="WidgetBefore",Z[Z.WidgetAfter=2]="WidgetAfter",Z[Z.WidgetRange=3]="WidgetRange",Z}(T3||(T3={}));class c extends s3{constructor(Z,$,J,Q){super();this.startSide=Z,this.endSide=$,this.widget=J,this.spec=Q}get heightRelevant(){return!1}static mark(Z){return new h5(Z)}static widget(Z){let $=Math.max(-1e4,Math.min(1e4,Z.side||0)),J=!!Z.block;return $+=J&&!Z.inlineOrder?$>0?300000000:-400000000:$>0?1e8:-1e8,new F9(Z,$,$,J,Z.widget||null,!1)}static replace(Z){let $=!!Z.block,J,Q;if(Z.isBlockGap)J=-500000000,Q=400000000;else{let{start:X,end:K}=X6(Z,$);J=(X?$?-300000000:-1:500000000)-1,Q=(K?$?200000000:1:-600000000)+1}return new F9(Z,J,Q,$,Z.widget||null,!0)}static line(Z){return new m5(Z)}static set(Z,$=!1){return w.of(Z,$)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}c.none=w.empty;class h5 extends c{constructor(Z){let{start:$,end:J}=X6(Z);super($?-1:500000000,J?1:-600000000,null,Z);this.tagName=Z.tagName||"span",this.class=Z.class||"",this.attrs=Z.attributes||null}eq(Z){var $,J;return this==Z||Z instanceof h5&&this.tagName==Z.tagName&&(this.class||(($=this.attrs)===null||$===void 0?void 0:$.class))==(Z.class||((J=Z.attrs)===null||J===void 0?void 0:J.class))&&k7(this.attrs,Z.attrs,"class")}range(Z,$=Z){if(Z>=$)throw new RangeError("Mark decorations may not be empty");return super.range(Z,$)}}h5.prototype.point=!1;class m5 extends c{constructor(Z){super(-200000000,-200000000,null,Z)}eq(Z){return Z instanceof m5&&this.spec.class==Z.spec.class&&k7(this.spec.attributes,Z.spec.attributes)}range(Z,$=Z){if($!=Z)throw new RangeError("Line decoration ranges must be zero-length");return super.range(Z,$)}}m5.prototype.mapMode=J3.TrackBefore;m5.prototype.point=!0;class F9 extends c{constructor(Z,$,J,Q,X,K){super($,J,X,Z);this.block=Q,this.isReplace=K,this.mapMode=!Q?J3.TrackDel:$<=0?J3.TrackBefore:J3.TrackAfter}get type(){return this.startSide!=this.endSide?T3.WidgetRange:this.startSide<=0?T3.WidgetBefore:T3.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Z){return Z instanceof F9&&w2(this.widget,Z.widget)&&this.block==Z.block&&this.startSide==Z.startSide&&this.endSide==Z.endSide}range(Z,$=Z){if(this.isReplace&&(Z>$||Z==$&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&$!=Z)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(Z,$)}}F9.prototype.point=!0;class $3 extends l{constructor(){super(...arguments);this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(Z,$,J,Q,X,K){if(J){if(!(J instanceof $3))return!1;if(!this.dom)J.transferDOM(this)}if(Q)this.setDeco(J?J.attrs:null);return t0(this,Z,$,J?J.children.slice():[],X,K),!0}split(Z){let $=new $3;if($.breakAfter=this.breakAfter,this.length==0)return $;let{i:J,off:Q}=this.childPos(Z);if(Q)$.append(this.children[J].split(Q),0),this.children[J].merge(Q,this.children[J].length,null,!1,0,0),J++;for(let X=J;X<this.children.length;X++)$.append(this.children[X],0);while(J>0&&this.children[J-1].length==0)this.children[--J].destroy();return this.children.length=J,this.markDirty(),this.length=Z,$}transferDOM(Z){if(!this.dom)return;this.markDirty(),Z.setDOM(this.dom),Z.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null}setDeco(Z){if(!k7(this.attrs,Z)){if(this.dom)this.prevAttrs=this.attrs,this.markDirty();this.attrs=Z}}append(Z,$){J6(this,Z,$)}addLineDeco(Z){let $=Z.spec.attributes,J=Z.spec.class;if($)this.attrs=gZ($,this.attrs||{});if(J)this.attrs=gZ({class:J},this.attrs||{})}domAtPos(Z){return $6(this,Z)}reuseDOM(Z){if(Z.nodeName=="DIV")this.setDOM(Z),this.flags|=6}sync(Z,$){var J;if(!this.dom)this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0;else if(this.flags&4)i0(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0;if(this.prevAttrs!==void 0)lZ(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0;super.sync(Z,$);let Q=this.dom.lastChild;while(Q&&l.get(Q)instanceof q9)Q=Q.lastChild;if(!Q||!this.length||Q.nodeName!="BR"&&((J=l.get(Q))===null||J===void 0?void 0:J.isEditable)==!1&&(!L.ios||!this.children.some((X)=>X instanceof u3))){let X=document.createElement("BR");X.cmIgnore=!0,this.dom.appendChild(X)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let Z=0,$;for(let J of this.children){if(!(J instanceof u3)||/[^ -~]/.test(J.text))return null;let Q=w5(J.dom);if(Q.length!=1)return null;Z+=Q[0].width,$=Q[0].height}return!Z?null:{lineHeight:this.dom.getBoundingClientRect().height,charWidth:Z/this.length,textHeight:$}}coordsAt(Z,$){let J=Q6(this,Z,$);if(!this.children.length&&J&&this.parent){let{heightOracle:Q}=this.parent.view.viewState,X=J.bottom-J.top;if(Math.abs(X-Q.lineHeight)<2&&Q.textHeight<X){let K=(X-Q.textHeight)/2;return{top:J.top+K,bottom:J.bottom-K,left:J.left,right:J.left}}}return J}become(Z){return Z instanceof $3&&this.children.length==0&&Z.children.length==0&&k7(this.attrs,Z.attrs)&&this.breakAfter==Z.breakAfter}covers(){return!0}static find(Z,$){for(let J=0,Q=0;J<Z.children.length;J++){let X=Z.children[J],K=Q+X.length;if(K>=$){if(X instanceof $3)return X;if(K>$)break}Q=K+X.breakAfter}return null}}class Y9 extends l{constructor(Z,$,J){super();this.widget=Z,this.length=$,this.deco=J,this.breakAfter=0,this.prevWidget=null}merge(Z,$,J,Q,X,K){if(J&&(!(J instanceof Y9)||!this.widget.compare(J.widget)||Z>0&&X<=0||$<this.length&&K<=0))return!1;return this.length=Z+(J?J.length:0)+(this.length-$),!0}domAtPos(Z){return Z==0?q3.before(this.dom):q3.after(this.dom,Z==this.length)}split(Z){let $=this.length-Z;this.length=Z;let J=new Y9(this.widget,$,this.deco);return J.breakAfter=this.breakAfter,J}get children(){return Y4}sync(Z){if(!this.dom||!this.widget.updateDOM(this.dom,Z)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);if(this.prevWidget=null,this.setDOM(this.widget.toDOM(Z)),!this.widget.editable)this.dom.contentEditable="false"}}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):b.empty}domBoundsAround(){return null}become(Z){if(Z instanceof Y9&&Z.widget.constructor==this.widget.constructor){if(!Z.widget.compare(this.widget))this.markDirty(!0);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;return this.widget=Z.widget,this.length=Z.length,this.deco=Z.deco,this.breakAfter=Z.breakAfter,!0}return!1}ignoreMutation(){return!0}ignoreEvent(Z){return this.widget.ignoreEvent(Z)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(Z,$){let J=this.widget.coordsAt(this.dom,Z,$);if(J)return J;if(this.widget instanceof x7)return null;return m7(this.dom.getBoundingClientRect(),this.length?Z==0:$<=0)}destroy(){if(super.destroy(),this.dom)this.widget.destroy(this.dom)}covers(Z){let{startSide:$,endSide:J}=this.deco;return $==J?!1:Z<0?$<0:J>0}}class x7 extends h9{constructor(Z){super();this.height=Z}toDOM(){let Z=document.createElement("div");return Z.className="cm-gap",this.updateDOM(Z),Z}eq(Z){return Z.height==this.height}updateDOM(Z){return Z.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class k5{constructor(Z,$,J,Q){this.doc=Z,this.pos=$,this.end=J,this.disallowBlockEffectsFor=Q,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=Z.iter(),this.skip=$}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let Z=this.content[this.content.length-1];return!(Z.breakAfter||Z instanceof Y9&&Z.deco.endSide<0)}getLine(){if(!this.curLine)this.content.push(this.curLine=new $3),this.atCursorPos=!0;return this.curLine}flushBuffer(Z=this.bufferMarks){if(this.pendingBuffer)this.curLine.append(N7(new Q5(-1),Z),Z.length),this.pendingBuffer=0}addBlockWidget(Z){this.flushBuffer(),this.curLine=null,this.content.push(Z)}finish(Z){if(this.pendingBuffer&&Z<=this.bufferMarks.length)this.flushBuffer();else this.pendingBuffer=0;if(!this.posCovered()&&!(Z&&this.content.length&&this.content[this.content.length-1]instanceof Y9))this.getLine()}buildText(Z,$,J){while(Z>0){if(this.textOff==this.text.length){let{value:X,lineBreak:K,done:Y}=this.cursor.next(this.skip);if(this.skip=0,Y)throw new Error("Ran out of text content when drawing inline views");if(K){if(!this.posCovered())this.getLine();if(this.content.length)this.content[this.content.length-1].breakAfter=1;else this.breakAtStart=1;this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,Z--;continue}else this.text=X,this.textOff=0}let Q=Math.min(this.text.length-this.textOff,Z,512);this.flushBuffer($.slice($.length-J)),this.getLine().append(N7(new u3(this.text.slice(this.textOff,this.textOff+Q)),$),J),this.atCursorPos=!0,this.textOff+=Q,Z-=Q,J=0}}span(Z,$,J,Q){if(this.buildText($-Z,J,Q),this.pos=$,this.openStart<0)this.openStart=Q}point(Z,$,J,Q,X,K){if(this.disallowBlockEffectsFor[K]&&J instanceof F9){if(J.block)throw new RangeError("Block decorations may not be specified via plugins");if($>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let Y=$-Z;if(J instanceof F9)if(J.block){if(J.startSide>0&&!this.posCovered())this.getLine();this.addBlockWidget(new Y9(J.widget||w9.block,Y,J))}else{let U=b9.create(J.widget||w9.inline,Y,Y?0:J.startSide),q=this.atCursorPos&&!U.isEditable&&X<=Q.length&&(Z<$||J.startSide>0),W=!U.isEditable&&(Z<$||X>Q.length||J.startSide<=0),G=this.getLine();if(this.pendingBuffer==2&&!q&&!U.isEditable)this.pendingBuffer=0;if(this.flushBuffer(Q),q)G.append(N7(new Q5(1),Q),X),X=Q.length+Math.max(0,X-Q.length);if(G.append(N7(U,Q),X),this.atCursorPos=W,this.pendingBuffer=!W?0:Z<$||X>Q.length?1:2,this.pendingBuffer)this.bufferMarks=Q.slice()}else if(this.doc.lineAt(this.pos).from==this.pos)this.getLine().addLineDeco(J);if(Y){if(this.textOff+Y<=this.text.length)this.textOff+=Y;else this.skip+=Y-(this.text.length-this.textOff),this.text="",this.textOff=0;this.pos=$}if(this.openStart<0)this.openStart=X}static build(Z,$,J,Q,X){let K=new k5(Z,$,J,X);if(K.openEnd=w.spans(Q,$,J,K),K.openStart<0)K.openStart=K.openEnd;return K.finish(K.openEnd),K}}class w9 extends h9{constructor(Z){super();this.tag=Z}eq(Z){return Z.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Z){return Z.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}w9.inline=new w9("span");w9.block=new w9("div");var i=function(Z){return Z[Z.LTR=0]="LTR",Z[Z.RTL=1]="RTL",Z}(i||(i={})),v9=i.LTR,q4=i.RTL,v2=K6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),h2=K6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),dZ=Object.create(null),i3=[];for(let Z of["()","[]","{}"]){let $=Z.charCodeAt(0),J=Z.charCodeAt(1);dZ[$]=J,dZ[J]=-$}var m2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class K9{get dir(){return this.level%2?q4:v9}constructor(Z,$,J){this.from=Z,this.to=$,this.level=J}side(Z,$){return this.dir==$==Z?this.to:this.from}forward(Z,$){return Z==(this.dir==$)}static find(Z,$,J,Q){let X=-1;for(let K=0;K<Z.length;K++){let Y=Z[K];if(Y.from<=$&&Y.to>=$){if(Y.level==J)return K;if(X<0||(Q!=0?Q<0?Y.from<$:Y.to>$:Z[X].level>Y.level))X=K}}if(X<0)throw new RangeError("Index out of range");return X}}var g=[],G6="",W6=B.define(),z6=B.define(),j6=B.define(),_6=B.define(),iZ=B.define(),O6=B.define(),H6=B.define(),G4=B.define(),W4=B.define(),F6=B.define({combine:(Z)=>Z.some(($)=>$)}),c2=B.define({combine:(Z)=>Z.some(($)=>$)}),N6=B.define();class J5{constructor(Z,$="nearest",J="nearest",Q=5,X=5,K=!1){this.range=Z,this.y=$,this.x=J,this.yMargin=Q,this.xMargin=X,this.isSnapshot=K}map(Z){return Z.empty?this:new J5(this.range.map(Z),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Z){return this.range.to<=Z.doc.length?this:new J5(R.cursor(Z.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var D7=v.define({map:(Z,$)=>Z.map($)}),D6=v.define(),O9=B.define({combine:(Z)=>Z.length?Z[0]:!0}),s2=0,P5=B.define();class S3{constructor(Z,$,J,Q,X){this.id=Z,this.create=$,this.domEventHandlers=J,this.domEventObservers=Q,this.extension=X(this)}static define(Z,$){const{eventHandlers:J,eventObservers:Q,provide:X,decorations:K}=$||{};return new S3(s2++,Z,J,Q,(Y)=>{let U=[P5.of(Y)];if(K)U.push(v5.of((q)=>{let W=q.plugin(Y);return W?K(W):c.none}));if(X)U.push(X(Y));return U})}static fromClass(Z,$){return S3.define((J)=>new Z(J),$)}}class E7{constructor(Z){this.spec=Z,this.mustUpdate=null,this.value=null}update(Z){if(!this.value){if(this.spec)try{this.value=this.spec.create(Z)}catch($){z3(Z.state,$,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let $=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update($)}catch(J){if(z3($.state,J,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(Q){}this.deactivate()}}return this}destroy(Z){var $;if(($=this.value)===null||$===void 0?void 0:$.destroy)try{this.value.destroy()}catch(J){z3(Z.state,J,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var R6=B.define(),z4=B.define(),v5=B.define(),V6=B.define(),j4=B.define(),I6=B.define(),M6=B.define(),C5=B.define();class y3{constructor(Z,$,J,Q){this.fromA=Z,this.toA=$,this.fromB=J,this.toB=Q}join(Z){return new y3(Math.min(this.fromA,Z.fromA),Math.max(this.toA,Z.toA),Math.min(this.fromB,Z.fromB),Math.max(this.toB,Z.toB))}addToSet(Z){let $=Z.length,J=this;for(;$>0;$--){let Q=Z[$-1];if(Q.fromA>J.toA)continue;if(Q.toA<J.fromA)break;J=J.join(Q),Z.splice($-1,1)}return Z.splice($,0,J),Z}static extendWithRanges(Z,$){if($.length==0)return Z;let J=[];for(let Q=0,X=0,K=0,Y=0;;Q++){let U=Q==Z.length?null:Z[Q],q=K-Y,W=U?U.fromB:1e9;while(X<$.length&&$[X]<W){let G=$[X],z=$[X+1],j=Math.max(Y,G),_=Math.min(W,z);if(j<=_)new y3(j+q,_+q,j,_).addToSet(J);if(z>W)break;else X+=2}if(!U)return J;new y3(U.fromA,U.toA,U.fromB,U.toB).addToSet(J),K=U.toA,Y=U.toB}}}class w7{constructor(Z,$,J){this.view=Z,this.state=$,this.transactions=J,this.flags=0,this.startState=Z.state,this.changes=e.empty(this.startState.doc.length);for(let X of J)this.changes=this.changes.compose(X.changes);let Q=[];this.changes.iterChangedRanges((X,K,Y,U)=>Q.push(new y3(X,K,Y,U))),this.changedRanges=Q}static create(Z,$,J){return new w7(Z,$,J)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((Z)=>Z.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class nZ extends l{get length(){return this.view.state.doc.length}constructor(Z){super();this.view=Z,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=c.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(Z.contentDOM),this.children=[new $3],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new y3(0,0,0,Z.state.doc.length)],0,null)}update(Z){var $;let J=Z.changedRanges;if(this.minWidth>0&&J.length)if(!J.every(({fromA:q,toA:W})=>W<this.minWidthFrom||q>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=Z.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Z.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(Z);let Q=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if(($=this.domChanged)===null||$===void 0?void 0:$.newSel)Q=this.domChanged.newSel.head;else if(!e2(Z.changes,this.hasComposition)&&!Z.selectionSet)Q=Z.state.selection.main.head}let X=Q>-1?n2(this.view,Z.changes,Q):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:q,to:W}=this.hasComposition;J=new y3(q,W,Z.changes.mapPos(q,-1),Z.changes.mapPos(W,1)).addToSet(J.slice())}if(this.hasComposition=X?{from:X.range.fromB,to:X.range.toB}:null,(L.ie||L.chrome)&&!X&&Z&&Z.state.doc.lines!=Z.startState.doc.lines)this.forceSelection=!0;let K=this.decorations,Y=this.updateDeco(),U=o2(K,Y,Z.changes);if(J=y3.extendWithRanges(J,U),!(this.flags&7)&&J.length==0)return!1;else{if(this.updateInner(J,Z.startState.doc.length,X),Z.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(Z,$,J){this.view.viewState.mustMeasureContent=!0,this.updateChildren(Z,$,J);let{observer:Q}=this.view;Q.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let K=L.chrome||L.ios?{node:Q.selectionRange.focusNode,written:!1}:void 0;if(this.sync(this.view,K),this.flags&=-8,K&&(K.written||Q.selectionRange.focusNode!=K.node))this.forceSelection=!0;this.dom.style.height=""}),this.markedForComposition.forEach((K)=>K.flags&=-9);let X=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let K of this.children)if(K instanceof Y9&&K.widget instanceof x7)X.push(K.dom)}Q.updateGaps(X)}updateChildren(Z,$,J){let Q=J?J.range.addToSet(Z.slice()):Z,X=this.childCursor($);for(let K=Q.length-1;;K--){let Y=K>=0?Q[K]:null;if(!Y)break;let{fromA:U,toA:q,fromB:W,toB:G}=Y,z,j,_,H;if(J&&J.range.fromB<G&&J.range.toB>W){let V=k5.build(this.view.state.doc,W,J.range.fromB,this.decorations,this.dynamicDecorationMap),I=k5.build(this.view.state.doc,J.range.toB,G,this.decorations,this.dynamicDecorationMap);j=V.breakAtStart,_=V.openStart,H=I.openEnd;let C=this.compositionView(J);if(I.breakAtStart)C.breakAfter=1;else if(I.content.length&&C.merge(C.length,C.length,I.content[0],!1,I.openStart,0))C.breakAfter=I.content[0].breakAfter,I.content.shift();if(V.content.length&&C.merge(0,0,V.content[V.content.length-1],!0,0,V.openEnd))V.content.pop();z=V.content.concat(C).concat(I.content)}else({content:z,breakAtStart:j,openStart:_,openEnd:H}=k5.build(this.view.state.doc,W,G,this.decorations,this.dynamicDecorationMap));let{i:F,off:N}=X.findPos(q,1),{i:D,off:M}=X.findPos(U,-1);o0(this,D,M,F,N,z,j,_,H)}if(J)this.fixCompositionDOM(J)}updateEditContextFormatting(Z){this.editContextFormatting=this.editContextFormatting.map(Z.changes);for(let $ of Z.transactions)for(let J of $.effects)if(J.is(D6))this.editContextFormatting=J.value}compositionView(Z){let $=new u3(Z.text.nodeValue);$.flags|=8;for(let{deco:Q}of Z.marks)$=new q9(Q,[$],$.length);let J=new $3;return J.append($,0),J}fixCompositionDOM(Z){let $=(X,K)=>{K.flags|=8|(K.children.some((U)=>U.flags&7)?1:0),this.markedForComposition.add(K);let Y=l.get(X);if(Y&&Y!=K)Y.dom=null;K.setDOM(X)},J=this.childPos(Z.range.fromB,1),Q=this.children[J.i];$(Z.line,Q);for(let X=Z.marks.length-1;X>=-1;X--)J=Q.childPos(J.off,1),Q=Q.children[J.i],$(X>=0?Z.marks[X].node:Z.text,Q)}updateSelection(Z=!1,$=!1){if(Z||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let J=this.view.root.activeElement,Q=J==this.dom,X=!Q&&B7(this.dom,this.view.observer.selectionRange)&&!(J&&this.dom.contains(J));if(!(Q||$||X))return;let K=this.forceSelection;this.forceSelection=!1;let Y=this.view.state.selection.main,U=this.moveToLine(this.domAtPos(Y.anchor)),q=Y.empty?U:this.moveToLine(this.domAtPos(Y.head));if(L.gecko&&Y.empty&&!this.hasComposition&&i2(U)){let G=document.createTextNode("");this.view.observer.ignore(()=>U.node.insertBefore(G,U.node.childNodes[U.offset]||null)),U=q=new q3(G,0),K=!0}let W=this.view.observer.selectionRange;if(K||!W.focusNode||(!b5(U.node,U.offset,W.anchorNode,W.anchorOffset)||!b5(q.node,q.offset,W.focusNode,W.focusOffset))&&!this.suppressWidgetCursorChange(W,Y))this.view.observer.ignore(()=>{if(L.android&&L.chrome&&this.dom.contains(W.focusNode)&&t2(W.focusNode,this.dom))this.dom.blur(),this.dom.focus({preventScroll:!0});let G=x5(this.view.root);if(!G);else if(Y.empty){if(L.gecko){let z=a2(U.node,U.offset);if(z&&z!=3){let j=(z==1?a0:r0)(U.node,U.offset);if(j)U=new q3(j.node,j.offset)}}if(G.collapse(U.node,U.offset),Y.bidiLevel!=null&&G.caretBidiLevel!==void 0)G.caretBidiLevel=Y.bidiLevel}else if(G.extend){G.collapse(U.node,U.offset);try{G.extend(q.node,q.offset)}catch(z){}}else{let z=document.createRange();if(Y.anchor>Y.head)[U,q]=[q,U];z.setEnd(q.node,q.offset),z.setStart(U.node,U.offset),G.removeAllRanges(),G.addRange(z)}if(X&&this.view.root.activeElement==this.dom){if(this.dom.blur(),J)J.focus()}}),this.view.observer.setSelectionRange(U,q);this.impreciseAnchor=U.precise?null:new q3(W.anchorNode,W.anchorOffset),this.impreciseHead=q.precise?null:new q3(W.focusNode,W.focusOffset)}suppressWidgetCursorChange(Z,$){return this.hasComposition&&$.empty&&b5(Z.focusNode,Z.focusOffset,Z.anchorNode,Z.anchorOffset)&&this.posFromDOM(Z.focusNode,Z.focusOffset)==$.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Z}=this,$=Z.state.selection.main,J=x5(Z.root),{anchorNode:Q,anchorOffset:X}=Z.observer.selectionRange;if(!J||!$.empty||!$.assoc||!J.modify)return;let K=$3.find(this,$.head);if(!K)return;let Y=K.posAtStart;if($.head==Y||$.head==Y+K.length)return;let U=this.coordsAt($.head,-1),q=this.coordsAt($.head,1);if(!U||!q||U.bottom>q.top)return;let W=this.domAtPos($.head+$.assoc);J.collapse(W.node,W.offset),J.modify("move",$.assoc<0?"forward":"backward","lineboundary"),Z.observer.readSelectionRange();let G=Z.observer.selectionRange;if(Z.docView.posFromDOM(G.anchorNode,G.anchorOffset)!=$.from)J.collapse(Q,X)}moveToLine(Z){let $=this.dom,J;if(Z.node!=$)return Z;for(let Q=Z.offset;!J&&Q<$.childNodes.length;Q++){let X=l.get($.childNodes[Q]);if(X instanceof $3)J=X.domAtPos(0)}for(let Q=Z.offset-1;!J&&Q>=0;Q--){let X=l.get($.childNodes[Q]);if(X instanceof $3)J=X.domAtPos(X.length)}return J?new q3(J.node,J.offset,!0):Z}nearest(Z){for(let $=Z;$;){let J=l.get($);if(J&&J.rootView==this)return J;$=$.parentNode}return null}posFromDOM(Z,$){let J=this.nearest(Z);if(!J)throw new RangeError("Trying to find position for a DOM position outside of the document");return J.localPosFromDOM(Z,$)+J.posAtStart}domAtPos(Z){let{i:$,off:J}=this.childCursor().findPos(Z,-1);for(;$<this.children.length-1;){let Q=this.children[$];if(J<Q.length||Q instanceof $3)break;$++,J=0}return this.children[$].domAtPos(J)}coordsAt(Z,$){let J=null,Q=0;for(let X=this.length,K=this.children.length-1;K>=0;K--){let Y=this.children[K],U=X-Y.breakAfter,q=U-Y.length;if(U<Z)break;if(q<=Z&&(q<Z||Y.covers(-1))&&(U>Z||Y.covers(1))&&(!J||Y instanceof $3&&!(J instanceof $3&&$>=0)))J=Y,Q=q;else if(J&&q==Z&&U==Z&&Y instanceof Y9&&Math.abs($)<2){if(Y.deco.startSide<0)break;else if(K)J=null}X=q}return J?J.coordsAt(Z-Q,$):null}coordsForChar(Z){let{i:$,off:J}=this.childPos(Z,1),Q=this.children[$];if(!(Q instanceof $3))return null;while(Q.children.length){let{i:Y,off:U}=Q.childPos(J,1);for(;;Y++){if(Y==Q.children.length)return null;if((Q=Q.children[Y]).length)break}J=U}if(!(Q instanceof u3))return null;let X=Q3(Q.text,J);if(X==J)return null;let K=x9(Q.dom,J,X).getClientRects();for(let Y=0;Y<K.length;Y++){let U=K[Y];if(Y==K.length-1||U.top<U.bottom&&U.left<U.right)return U}return null}measureVisibleLineHeights(Z){let $=[],{from:J,to:Q}=Z,X=this.view.contentDOM.clientWidth,K=X>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Y=-1,U=this.view.textDirection==i.LTR;for(let q=0,W=0;W<this.children.length;W++){let G=this.children[W],z=q+G.length;if(z>Q)break;if(q>=J){let j=G.dom.getBoundingClientRect();if($.push(j.height),K){let _=G.dom.lastChild,H=_?w5(_):[];if(H.length){let F=H[H.length-1],N=U?F.right-j.left:j.right-F.left;if(N>Y)Y=N,this.minWidth=X,this.minWidthFrom=q,this.minWidthTo=z}}}q=z+G.breakAfter}return $}textDirectionAt(Z){let{i:$}=this.childPos(Z,1);return getComputedStyle(this.children[$].dom).direction=="rtl"?i.RTL:i.LTR}measureTextSize(){for(let X of this.children)if(X instanceof $3){let K=X.measureTextSize();if(K)return K}let Z=document.createElement("div"),$,J,Q;return Z.className="cm-line",Z.style.width="99999px",Z.style.position="absolute",Z.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(Z);let X=w5(Z.firstChild)[0];$=Z.getBoundingClientRect().height,J=X?X.width/27:7,Q=X?X.height:$,Z.remove()}),{lineHeight:$,charWidth:J,textHeight:Q}}childCursor(Z=this.length){let $=this.children.length;if($)Z-=this.children[--$].length;return new U4(this.children,Z,$)}computeBlockGapDeco(){let Z=[],$=this.view.viewState;for(let J=0,Q=0;;Q++){let X=Q==$.viewports.length?null:$.viewports[Q],K=X?X.from-1:this.length;if(K>J){let Y=($.lineBlockAt(K).bottom-$.lineBlockAt(J).top)/this.view.scaleY;Z.push(c.replace({widget:new x7(Y),block:!0,inclusive:!0,isBlockGap:!0}).range(J,K))}if(!X)break;J=X.to+1}return c.set(Z)}updateDeco(){let Z=1,$=this.view.state.facet(v5).map((X)=>{return(this.dynamicDecorationMap[Z++]=typeof X=="function")?X(this.view):X}),J=!1,Q=this.view.state.facet(V6).map((X,K)=>{let Y=typeof X=="function";if(Y)J=!0;return Y?X(this.view):X});if(Q.length)this.dynamicDecorationMap[Z++]=J,$.push(w.join(Q));this.decorations=[this.editContextFormatting,...$,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(Z<this.decorations.length)this.dynamicDecorationMap[Z++]=!1;return this.decorations}scrollIntoView(Z){if(Z.isSnapshot){let q=this.view.viewState.lineBlockAt(Z.range.head);this.view.scrollDOM.scrollTop=q.top-Z.yMargin,this.view.scrollDOM.scrollLeft=Z.xMargin;return}for(let q of this.view.state.facet(N6))try{if(q(this.view,Z.range,Z))return!0}catch(W){z3(this.view.state,W,"scroll handler")}let{range:$}=Z,J=this.coordsAt($.head,$.empty?$.assoc:$.head>$.anchor?-1:1),Q;if(!J)return;if(!$.empty&&(Q=this.coordsAt($.anchor,$.anchor>$.head?-1:1)))J={left:Math.min(J.left,Q.left),top:Math.min(J.top,Q.top),right:Math.max(J.right,Q.right),bottom:Math.max(J.bottom,Q.bottom)};let X=A6(this.view),K={left:J.left-X.left,top:J.top-X.top,right:J.right+X.right,bottom:J.bottom+X.bottom},{offsetWidth:Y,offsetHeight:U}=this.view.scrollDOM;P2(this.view.scrollDOM,K,$.head<$.anchor?-1:1,Z.x,Z.y,Math.max(Math.min(Z.xMargin,Y),-Y),Math.max(Math.min(Z.yMargin,U),-U),this.view.textDirection==i.LTR)}}var r2=class Z{constructor(){this.changes=[]}compareRange($,J){pZ($,J,this.changes)}comparePoint($,J){pZ($,J,this.changes)}},T5="\uFFFF";class E6{constructor(Z,$){this.points=Z,this.text="",this.lineSeparator=$.facet(m.lineSeparator)}append(Z){this.text+=Z}lineBreak(){this.text+=T5}readRange(Z,$){if(!Z)return this;let J=Z.parentNode;for(let Q=Z;;){this.findPointBefore(J,Q);let X=this.text.length;this.readNode(Q);let K=Q.nextSibling;if(K==$)break;let Y=l.get(Q),U=l.get(K);if(Y&&U?Y.breakAfter:(Y?Y.breakAfter:b7(Q))||b7(K)&&(Q.nodeName!="BR"||Q.cmIgnore)&&this.text.length>X)this.lineBreak();Q=K}return this.findPointBefore(J,$),this}readTextNode(Z){let $=Z.nodeValue;for(let J of this.points)if(J.node==Z)J.pos=this.text.length+Math.min(J.offset,$.length);for(let J=0,Q=this.lineSeparator?null:/\r\n?|\n/g;;){let X=-1,K=1,Y;if(this.lineSeparator)X=$.indexOf(this.lineSeparator,J),K=this.lineSeparator.length;else if(Y=Q.exec($))X=Y.index,K=Y[0].length;if(this.append($.slice(J,X<0?$.length:X)),X<0)break;if(this.lineBreak(),K>1){for(let U of this.points)if(U.node==Z&&U.pos>this.text.length)U.pos-=K-1}J=X+K}}readNode(Z){if(Z.cmIgnore)return;let $=l.get(Z),J=$&&$.overrideDOMText;if(J!=null){this.findPointInside(Z,J.length);for(let Q=J.iter();!Q.next().done;)if(Q.lineBreak)this.lineBreak();else this.append(Q.value)}else if(Z.nodeType==3)this.readTextNode(Z);else if(Z.nodeName=="BR"){if(Z.nextSibling)this.lineBreak()}else if(Z.nodeType==1)this.readRange(Z.firstChild,null)}findPointBefore(Z,$){for(let J of this.points)if(J.node==Z&&Z.childNodes[J.offset]==$)J.pos=this.text.length}findPointInside(Z,$){for(let J of this.points)if(Z.nodeType==3?J.node==Z:Z.contains(J.node))J.pos=this.text.length+(GQ(Z,J.node,J.offset)?$:0)}}class rZ{constructor(Z,$){this.node=Z,this.offset=$,this.pos=-1}}class P6{constructor(Z,$,J,Q){this.typeOver=Q,this.bounds=null,this.text="",this.domChanged=$>-1;let{impreciseHead:X,impreciseAnchor:K}=Z.docView;if(Z.state.readOnly&&$>-1)this.newSel=null;else if($>-1&&(this.bounds=Z.docView.domBoundsAround($,J,0))){let Y=X||K?[]:jQ(Z),U=new E6(Y,Z.state);U.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=U.text,this.newSel=_Q(Y,this.bounds.from)}else{let Y=Z.observer.selectionRange,U=X&&X.node==Y.focusNode&&X.offset==Y.focusOffset||!hZ(Z.contentDOM,Y.focusNode)?Z.state.selection.main.head:Z.docView.posFromDOM(Y.focusNode,Y.focusOffset),q=K&&K.node==Y.anchorNode&&K.offset==Y.anchorOffset||!hZ(Z.contentDOM,Y.anchorNode)?Z.state.selection.main.anchor:Z.docView.posFromDOM(Y.anchorNode,Y.anchorOffset),W=Z.viewport;if((L.ios||L.chrome)&&Z.state.selection.main.empty&&U!=q&&(W.from>0||W.to<Z.state.doc.length)){let G=Math.min(U,q),z=Math.max(U,q),j=W.from-G,_=W.to-z;if((j==0||j==1||G==0)&&(_==0||_==-1||z==Z.state.doc.length))U=0,q=Z.state.doc.length}this.newSel=R.single(q,U)}}}class T6{setSelectionOrigin(Z){this.lastSelectionOrigin=Z,this.lastSelectionTime=Date.now()}constructor(Z){if(this.view=Z,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Z.hasFocus,L.safari)Z.contentDOM.addEventListener("input",()=>null);if(L.gecko)CQ(Z.contentDOM.ownerDocument)}handleEvent(Z){if(!VQ(this.view,Z)||this.ignoreDuringComposition(Z))return;if(Z.type=="keydown"&&this.keydown(Z))return;this.runHandlers(Z.type,Z)}runHandlers(Z,$){let J=this.handlers[Z];if(J){for(let Q of J.observers)Q(this.view,$);for(let Q of J.handlers){if($.defaultPrevented)break;if(Q(this.view,$)){$.preventDefault();break}}}}ensureHandlers(Z){let $=OQ(Z),J=this.handlers,Q=this.view.contentDOM;for(let X in $)if(X!="scroll"){let K=!$[X].handlers.length,Y=J[X];if(Y&&K!=!Y.handlers.length)Q.removeEventListener(X,this.handleEvent),Y=null;if(!Y)Q.addEventListener(X,this.handleEvent,{passive:K})}for(let X in J)if(X!="scroll"&&!$[X])Q.removeEventListener(X,this.handleEvent);this.handlers=$}keydown(Z){if(this.lastKeyCode=Z.keyCode,this.lastKeyTime=Date.now(),Z.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Z.keyCode!=27&&S6.indexOf(Z.keyCode)<0)this.tabFocusMode=-1;if(L.android&&L.chrome&&!Z.synthetic&&(Z.keyCode==13||Z.keyCode==8))return this.view.observer.delayAndroidKey(Z.key,Z.keyCode),!0;let $;if(L.ios&&!Z.synthetic&&!Z.altKey&&!Z.metaKey&&(($=y6.find((J)=>J.keyCode==Z.keyCode))&&!Z.ctrlKey||HQ.indexOf(Z.key)>-1&&Z.ctrlKey&&!Z.shiftKey))return this.pendingIOSKey=$||Z,setTimeout(()=>this.flushIOSKey(),250),!0;if(Z.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(Z){let $=this.pendingIOSKey;if(!$)return!1;if($.key=="Enter"&&Z&&Z.from<Z.to&&/^\S+$/.test(Z.insert.toString()))return!1;return this.pendingIOSKey=void 0,$5(this.view.contentDOM,$.key,$.keyCode,$ instanceof KeyboardEvent?$:void 0)}ignoreDuringComposition(Z){if(!/^key/.test(Z.type))return!1;if(this.composing>0)return!0;if(L.safari&&!L.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(Z){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=Z}update(Z){if(this.view.observer.update(Z),this.mouseSelection)this.mouseSelection.update(Z);if(this.draggedContent&&Z.docChanged)this.draggedContent=this.draggedContent.map(Z.changes);if(Z.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}var y6=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],HQ="dthko",S6=[16,17,18,20,91,92,224,225],R7=6;class b6{constructor(Z,$,J,Q){this.view=Z,this.startEvent=$,this.style=J,this.mustSelect=Q,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=$,this.scrollParents=C2(Z.contentDOM),this.atoms=Z.state.facet(j4).map((K)=>K(Z));let X=Z.contentDOM.ownerDocument;X.addEventListener("mousemove",this.move=this.move.bind(this)),X.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=$.shiftKey,this.multiple=Z.state.facet(m.allowMultipleSelections)&&NQ(Z,$),this.dragging=RQ(Z,$)&&w6($)==1?null:!1}start(Z){if(this.dragging===!1)this.select(Z)}move(Z){if(Z.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&FQ(this.startEvent,Z)<10)return;this.select(this.lastEvent=Z);let $=0,J=0,Q=0,X=0,K=this.view.win.innerWidth,Y=this.view.win.innerHeight;if(this.scrollParents.x)({left:Q,right:K}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:X,bottom:Y}=this.scrollParents.y.getBoundingClientRect());let U=A6(this.view);if(Z.clientX-U.left<=Q+R7)$=-V7(Q-Z.clientX);else if(Z.clientX+U.right>=K-R7)$=V7(Z.clientX-K);if(Z.clientY-U.top<=X+R7)J=-V7(X-Z.clientY);else if(Z.clientY+U.bottom>=Y-R7)J=V7(Z.clientY-Y);this.setScrollSpeed($,J)}up(Z){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)Z.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let Z=this.view.contentDOM.ownerDocument;Z.removeEventListener("mousemove",this.move),Z.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Z,$){if(this.scrollSpeed={x:Z,y:$},Z||$){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:Z,y:$}=this.scrollSpeed;if(Z&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=Z,Z=0;if($&&this.scrollParents.y)this.scrollParents.y.scrollTop+=$,$=0;if(Z||$)this.view.win.scrollBy(Z,$);if(this.dragging===!1)this.select(this.lastEvent)}skipAtoms(Z){let $=null;for(let J=0;J<Z.ranges.length;J++){let Q=Z.ranges[J],X=null;if(Q.empty){let K=P7(this.atoms,Q.from,0);if(K!=Q.from)X=R.cursor(K,-1)}else{let K=P7(this.atoms,Q.from,-1),Y=P7(this.atoms,Q.to,1);if(K!=Q.from||Y!=Q.to)X=R.range(Q.from==Q.anchor?K:Y,Q.from==Q.head?K:Y)}if(X){if(!$)$=Z.ranges.slice();$[J]=X}}return $?R.create($,Z.mainIndex):Z}select(Z){let{view:$}=this,J=this.skipAtoms(this.style.get(Z,this.extend,this.multiple));if(this.mustSelect||!J.eq($.state.selection,this.dragging===!1))this.view.dispatch({selection:J,userEvent:"select.pointer"});this.mustSelect=!1}update(Z){if(Z.transactions.some(($)=>$.isUserEvent("input.type")))this.destroy();else if(this.style.update(Z))setTimeout(()=>this.select(this.lastEvent),20)}}var f3=Object.create(null),b3=Object.create(null),k6=L.ie&&L.ie_version<15||L.ios&&L.webkit_version<604;b3.scroll=(Z)=>{Z.inputState.lastScrollTop=Z.scrollDOM.scrollTop,Z.inputState.lastScrollLeft=Z.scrollDOM.scrollLeft};f3.keydown=(Z,$)=>{if(Z.inputState.setSelectionOrigin("select"),$.keyCode==27&&Z.inputState.tabFocusMode!=0)Z.inputState.tabFocusMode=Date.now()+2000;return!1};b3.touchstart=(Z,$)=>{Z.inputState.lastTouchTime=Date.now(),Z.inputState.setSelectionOrigin("select.pointer")};b3.touchmove=(Z)=>{Z.inputState.setSelectionOrigin("select.pointer")};f3.mousedown=(Z,$)=>{if(Z.observer.flush(),Z.inputState.lastTouchTime>Date.now()-2000)return!1;let J=null;for(let Q of Z.state.facet(j6))if(J=Q(Z,$),J)break;if(!J&&$.button==0)J=LQ(Z,$);if(J){let Q=!Z.hasFocus;if(Z.inputState.startMouseSelection(new b6(Z,$,J,Q)),Q)Z.observer.ignore(()=>{s0(Z.contentDOM);let K=Z.root.activeElement;if(K&&!K.contains(Z.contentDOM))K.blur()});let X=Z.inputState.mouseSelection;if(X)return X.start($),X.dragging===!1}return!1};var L0=(Z,$,J)=>$>=J.top&&$<=J.bottom&&Z>=J.left&&Z<=J.right,AQ=L.ie&&L.ie_version<=11,E0=null,P0=0,C0=0;f3.dragstart=(Z,$)=>{let{selection:{main:J}}=Z.state;if($.target.draggable){let X=Z.docView.nearest($.target);if(X&&X.isWidget){let K=X.posAtStart,Y=K+X.length;if(K>=J.to||Y<=J.from)J=R.range(K,Y)}}let{inputState:Q}=Z;if(Q.mouseSelection)Q.mouseSelection.dragging=!0;if(Q.draggedContent=J,$.dataTransfer)$.dataTransfer.setData("Text",f7(Z.state,W4,Z.state.sliceDoc(J.from,J.to))),$.dataTransfer.effectAllowed="copyMove";return!1};f3.dragend=(Z)=>{return Z.inputState.draggedContent=null,!1};f3.drop=(Z,$)=>{if(!$.dataTransfer)return!1;if(Z.state.readOnly)return!0;let J=$.dataTransfer.files;if(J&&J.length){let Q=Array(J.length),X=0,K=()=>{if(++X==J.length)T0(Z,$,Q.filter((Y)=>Y!=null).join(Z.state.lineBreak),!1)};for(let Y=0;Y<J.length;Y++){let U=new FileReader;U.onerror=K,U.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test(U.result))Q[Y]=U.result;K()},U.readAsText(J[Y])}return!0}else{let Q=$.dataTransfer.getData("Text");if(Q)return T0(Z,$,Q,!0),!0}return!1};f3.paste=(Z,$)=>{if(Z.state.readOnly)return!0;Z.observer.flush();let J=k6?null:$.clipboardData;if(J)return x6(Z,J.getData("text/plain")||J.getData("text/uri-list")),!0;else return IQ(Z),!1};var oZ=null;f3.copy=f3.cut=(Z,$)=>{let{text:J,ranges:Q,linewise:X}=PQ(Z.state);if(!J&&!X)return!1;if(oZ=X?J:null,$.type=="cut"&&!Z.state.readOnly)Z.dispatch({changes:Q,scrollIntoView:!0,userEvent:"delete.cut"});let K=k6?null:$.clipboardData;if(K)return K.clearData(),K.setData("text/plain",J),!0;else return EQ(Z,J),!1};var v6=V3.define();b3.focus=(Z)=>{if(Z.inputState.lastFocusTime=Date.now(),!Z.scrollDOM.scrollTop&&(Z.inputState.lastScrollTop||Z.inputState.lastScrollLeft))Z.scrollDOM.scrollTop=Z.inputState.lastScrollTop,Z.scrollDOM.scrollLeft=Z.inputState.lastScrollLeft;m6(Z)};b3.blur=(Z)=>{Z.observer.clearSelectionRange(),m6(Z)};b3.compositionstart=b3.compositionupdate=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.compositionFirstChange==null)Z.inputState.compositionFirstChange=!0;if(Z.inputState.composing<0)Z.inputState.composing=0};b3.compositionend=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.composing=-1,Z.inputState.compositionEndedAt=Date.now(),Z.inputState.compositionPendingKey=!0,Z.inputState.compositionPendingChange=Z.observer.pendingRecords().length>0,Z.inputState.compositionFirstChange=null,L.chrome&&L.android)Z.observer.flushSoon();else if(Z.inputState.compositionPendingChange)Promise.resolve().then(()=>Z.observer.flush());else setTimeout(()=>{if(Z.inputState.composing<0&&Z.docView.hasComposition)Z.update([])},50)};b3.contextmenu=(Z)=>{Z.inputState.lastContextMenu=Date.now()};f3.beforeinput=(Z,$)=>{var J,Q;if($.inputType=="insertReplacementText"&&Z.observer.editContext){let K=(J=$.dataTransfer)===null||J===void 0?void 0:J.getData("text/plain"),Y=$.getTargetRanges();if(K&&Y.length){let U=Y[0],q=Z.posAtDOM(U.startContainer,U.startOffset),W=Z.posAtDOM(U.endContainer,U.endOffset);return _4(Z,{from:q,to:W,insert:Z.state.toText(K)},null),!0}}let X;if(L.chrome&&L.android&&(X=y6.find((K)=>K.inputType==$.inputType))){if(Z.observer.delayAndroidKey(X.key,X.keyCode),X.key=="Backspace"||X.key=="Delete"){let K=((Q=window.visualViewport)===null||Q===void 0?void 0:Q.height)||0;setTimeout(()=>{var Y;if((((Y=window.visualViewport)===null||Y===void 0?void 0:Y.height)||0)>K+10&&Z.hasFocus)Z.contentDOM.blur(),Z.focus()},100)}}if(L.ios&&$.inputType=="deleteContentForward")Z.observer.flushSoon();if(L.safari&&$.inputType=="insertText"&&Z.inputState.composing>=0)setTimeout(()=>b3.compositionend(Z,$),20);return!1};var y0=new Set,S0=["pre-wrap","normal","pre-line","break-spaces"],X5=!1;class u6{constructor(Z){this.lineWrapping=Z,this.doc=b.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(Z,$){let J=this.doc.lineAt($).number-this.doc.lineAt(Z).number+1;if(this.lineWrapping)J+=Math.max(0,Math.ceil(($-Z-J*this.lineLength*0.5)/this.lineLength));return this.lineHeight*J}heightForLine(Z){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((Z-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(Z){return this.doc=Z,this}mustRefreshForWrapping(Z){return S0.indexOf(Z)>-1!=this.lineWrapping}mustRefreshForHeights(Z){let $=!1;for(let J=0;J<Z.length;J++){let Q=Z[J];if(Q<0)J++;else if(!this.heightSamples[Math.floor(Q*10)])$=!0,this.heightSamples[Math.floor(Q*10)]=!0}return $}refresh(Z,$,J,Q,X,K){let Y=S0.indexOf(Z)>-1,U=Math.round($)!=Math.round(this.lineHeight)||this.lineWrapping!=Y;if(this.lineWrapping=Y,this.lineHeight=$,this.charWidth=J,this.textHeight=Q,this.lineLength=X,U){this.heightSamples={};for(let q=0;q<K.length;q++){let W=K[q];if(W<0)q++;else this.heightSamples[Math.floor(W*10)]=!0}}return U}}class f6{constructor(Z,$){this.from=Z,this.heights=$,this.index=0}get more(){return this.index<this.heights.length}}class n3{constructor(Z,$,J,Q,X){this.from=Z,this.length=$,this.top=J,this.height=Q,this._content=X}get type(){return typeof this._content=="number"?T3.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof F9?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Z){let $=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Z._content)?Z._content:[Z]);return new n3(this.from,this.length+Z.length,this.top,this.height+Z.height,$)}}var d=function(Z){return Z[Z.ByPos=0]="ByPos",Z[Z.ByHeight=1]="ByHeight",Z[Z.ByPosNoHeight=2]="ByPosNoHeight",Z}(d||(d={})),C7=0.001;class j3{constructor(Z,$,J=2){this.length=Z,this.height=$,this.flags=J}get outdated(){return(this.flags&2)>0}set outdated(Z){this.flags=(Z?2:0)|this.flags&-3}setHeight(Z){if(this.height!=Z){if(Math.abs(this.height-Z)>C7)X5=!0;this.height=Z}}replace(Z,$,J){return j3.of(J)}decomposeLeft(Z,$){$.push(this)}decomposeRight(Z,$){$.push(this)}applyChanges(Z,$,J,Q){let X=this,K=J.doc;for(let Y=Q.length-1;Y>=0;Y--){let{fromA:U,toA:q,fromB:W,toB:G}=Q[Y],z=X.lineAt(U,d.ByPosNoHeight,J.setDoc($),0,0),j=z.to>=q?z:X.lineAt(q,d.ByPosNoHeight,J,0,0);G+=j.to-q,q=j.to;while(Y>0&&z.from<=Q[Y-1].toA)if(U=Q[Y-1].fromA,W=Q[Y-1].fromB,Y--,U<z.from)z=X.lineAt(U,d.ByPosNoHeight,J,0,0);W+=z.from-U,U=z.from;let _=H4.build(J.setDoc(K),Z,W,G);X=v7(X,X.replace(U,q,_))}return X.updateHeight(J,0)}static empty(){return new I3(0,0)}static of(Z){if(Z.length==1)return Z[0];let $=0,J=Z.length,Q=0,X=0;for(;;)if($==J)if(Q>X*2){let Y=Z[$-1];if(Y.break)Z.splice(--$,1,Y.left,null,Y.right);else Z.splice(--$,1,Y.left,Y.right);J+=1+Y.break,Q-=Y.size}else if(X>Q*2){let Y=Z[J];if(Y.break)Z.splice(J,1,Y.left,null,Y.right);else Z.splice(J,1,Y.left,Y.right);J+=2+Y.break,X-=Y.size}else break;else if(Q<X){let Y=Z[$++];if(Y)Q+=Y.size}else{let Y=Z[--J];if(Y)X+=Y.size}let K=0;if(Z[$-1]==null)K=1,$--;else if(Z[$]==null)K=1,J++;return new g6(j3.of(Z.slice(0,$)),K,j3.of(Z.slice(J)))}}j3.prototype.size=1;class O4 extends j3{constructor(Z,$,J){super(Z,$);this.deco=J}blockAt(Z,$,J,Q){return new n3(Q,this.length,J,this.height,this.deco||0)}lineAt(Z,$,J,Q,X){return this.blockAt(0,J,Q,X)}forEachLine(Z,$,J,Q,X,K){if(Z<=X+this.length&&$>=X)K(this.blockAt(0,J,Q,X))}updateHeight(Z,$=0,J=!1,Q){if(Q&&Q.from<=$&&Q.more)this.setHeight(Q.heights[Q.index++]);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class I3 extends O4{constructor(Z,$){super(Z,$,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(Z,$,J,Q){return new n3(Q,this.length,J,this.height,this.breaks)}replace(Z,$,J){let Q=J[0];if(J.length==1&&(Q instanceof I3||Q instanceof X3&&Q.flags&4)&&Math.abs(this.length-Q.length)<10){if(Q instanceof X3)Q=new I3(Q.length,this.height);else Q.height=this.height;if(!this.outdated)Q.outdated=!1;return Q}else return j3.of(J)}updateHeight(Z,$=0,J=!1,Q){if(Q&&Q.from<=$&&Q.more)this.setHeight(Q.heights[Q.index++]);else if(J||this.outdated)this.setHeight(Math.max(this.widgetHeight,Z.heightForLine(this.length-this.collapsed))+this.breaks*Z.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class X3 extends j3{constructor(Z){super(Z,0)}heightMetrics(Z,$){let J=Z.doc.lineAt($).number,Q=Z.doc.lineAt($+this.length).number,X=Q-J+1,K,Y=0;if(Z.lineWrapping){let U=Math.min(this.height,Z.lineHeight*X);if(K=U/X,this.length>X+1)Y=(this.height-U)/(this.length-X-1)}else K=this.height/X;return{firstLine:J,lastLine:Q,perLine:K,perChar:Y}}blockAt(Z,$,J,Q){let{firstLine:X,lastLine:K,perLine:Y,perChar:U}=this.heightMetrics($,Q);if($.lineWrapping){let q=Q+(Z<$.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Z-J)/this.height))*this.length)),W=$.doc.lineAt(q),G=Y+W.length*U,z=Math.max(J,Z-G/2);return new n3(W.from,W.length,z,G,0)}else{let q=Math.max(0,Math.min(K-X,Math.floor((Z-J)/Y))),{from:W,length:G}=$.doc.line(X+q);return new n3(W,G,J+Y*q,Y,0)}}lineAt(Z,$,J,Q,X){if($==d.ByHeight)return this.blockAt(Z,J,Q,X);if($==d.ByPosNoHeight){let{from:j,to:_}=J.doc.lineAt(Z);return new n3(j,_-j,0,0,0)}let{firstLine:K,perLine:Y,perChar:U}=this.heightMetrics(J,X),q=J.doc.lineAt(Z),W=Y+q.length*U,G=q.number-K,z=Q+Y*G+U*(q.from-X-G);return new n3(q.from,q.length,Math.max(Q,Math.min(z,Q+this.height-W)),W,0)}forEachLine(Z,$,J,Q,X,K){Z=Math.max(Z,X),$=Math.min($,X+this.length);let{firstLine:Y,perLine:U,perChar:q}=this.heightMetrics(J,X);for(let W=Z,G=Q;W<=$;){let z=J.doc.lineAt(W);if(W==Z){let _=z.number-Y;G+=U*_+q*(Z-X-_)}let j=U+q*z.length;K(new n3(z.from,z.length,G,j,0)),G+=j,W=z.to+1}}replace(Z,$,J){let Q=this.length-$;if(Q>0){let X=J[J.length-1];if(X instanceof X3)J[J.length-1]=new X3(X.length+Q);else J.push(null,new X3(Q-1))}if(Z>0){let X=J[0];if(X instanceof X3)J[0]=new X3(Z+X.length);else J.unshift(new X3(Z-1),null)}return j3.of(J)}decomposeLeft(Z,$){$.push(new X3(Z-1),null)}decomposeRight(Z,$){$.push(null,new X3(this.length-Z-1))}updateHeight(Z,$=0,J=!1,Q){let X=$+this.length;if(Q&&Q.from<=$+this.length&&Q.more){let K=[],Y=Math.max($,Q.from),U=-1;if(Q.from>$)K.push(new X3(Q.from-$-1).updateHeight(Z,$));while(Y<=X&&Q.more){let W=Z.doc.lineAt(Y).length;if(K.length)K.push(null);let G=Q.heights[Q.index++];if(U==-1)U=G;else if(Math.abs(G-U)>=C7)U=-2;let z=new I3(W,G);z.outdated=!1,K.push(z),Y+=W+1}if(Y<=X)K.push(null,new X3(X-Y).updateHeight(Z,Y));let q=j3.of(K);if(U<0||Math.abs(q.height-this.height)>=C7||Math.abs(U-this.heightMetrics(Z,$).perLine)>=C7)X5=!0;return v7(this,q)}else if(J||this.outdated)this.setHeight(Z.heightForGap($,$+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class g6 extends j3{constructor(Z,$,J){super(Z.length+$+J.length,Z.height+J.height,$|(Z.outdated||J.outdated?2:0));this.left=Z,this.right=J,this.size=Z.size+J.size}get break(){return this.flags&1}blockAt(Z,$,J,Q){let X=J+this.left.height;return Z<X?this.left.blockAt(Z,$,J,Q):this.right.blockAt(Z,$,X,Q+this.left.length+this.break)}lineAt(Z,$,J,Q,X){let K=Q+this.left.height,Y=X+this.left.length+this.break,U=$==d.ByHeight?Z<K:Z<Y,q=U?this.left.lineAt(Z,$,J,Q,X):this.right.lineAt(Z,$,J,K,Y);if(this.break||(U?q.to<Y:q.from>Y))return q;let W=$==d.ByPosNoHeight?d.ByPosNoHeight:d.ByPos;if(U)return q.join(this.right.lineAt(Y,W,J,K,Y));else return this.left.lineAt(Y,W,J,Q,X).join(q)}forEachLine(Z,$,J,Q,X,K){let Y=Q+this.left.height,U=X+this.left.length+this.break;if(this.break){if(Z<U)this.left.forEachLine(Z,$,J,Q,X,K);if($>=U)this.right.forEachLine(Z,$,J,Y,U,K)}else{let q=this.lineAt(U,d.ByPos,J,Q,X);if(Z<q.from)this.left.forEachLine(Z,q.from-1,J,Q,X,K);if(q.to>=Z&&q.from<=$)K(q);if($>q.to)this.right.forEachLine(q.to+1,$,J,Y,U,K)}}replace(Z,$,J){let Q=this.left.length+this.break;if($<Q)return this.balanced(this.left.replace(Z,$,J),this.right);if(Z>this.left.length)return this.balanced(this.left,this.right.replace(Z-Q,$-Q,J));let X=[];if(Z>0)this.decomposeLeft(Z,X);let K=X.length;for(let Y of J)X.push(Y);if(Z>0)k0(X,K-1);if($<this.length){let Y=X.length;this.decomposeRight($,X),k0(X,Y)}return j3.of(X)}decomposeLeft(Z,$){let J=this.left.length;if(Z<=J)return this.left.decomposeLeft(Z,$);if($.push(this.left),this.break){if(J++,Z>=J)$.push(null)}if(Z>J)this.right.decomposeLeft(Z-J,$)}decomposeRight(Z,$){let J=this.left.length,Q=J+this.break;if(Z>=Q)return this.right.decomposeRight(Z-Q,$);if(Z<J)this.left.decomposeRight(Z,$);if(this.break&&Z<Q)$.push(null);$.push(this.right)}balanced(Z,$){if(Z.size>2*$.size||$.size>2*Z.size)return j3.of(this.break?[Z,null,$]:[Z,$]);return this.left=v7(this.left,Z),this.right=v7(this.right,$),this.setHeight(Z.height+$.height),this.outdated=Z.outdated||$.outdated,this.size=Z.size+$.size,this.length=Z.length+this.break+$.length,this}updateHeight(Z,$=0,J=!1,Q){let{left:X,right:K}=this,Y=$+X.length+this.break,U=null;if(Q&&Q.from<=$+X.length&&Q.more)U=X=X.updateHeight(Z,$,J,Q);else X.updateHeight(Z,$,J);if(Q&&Q.from<=Y+K.length&&Q.more)U=K=K.updateHeight(Z,Y,J,Q);else K.updateHeight(Z,Y,J);if(U)return this.balanced(X,K);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}var TQ=5;class H4{constructor(Z,$){this.pos=Z,this.oracle=$,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Z}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Z,$){if(this.lineStart>-1){let J=Math.min($,this.lineEnd),Q=this.nodes[this.nodes.length-1];if(Q instanceof I3)Q.length+=J-this.pos;else if(J>this.pos||!this.isCovered)this.nodes.push(new I3(J-this.pos,-1));if(this.writtenTo=J,$>J)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=$}point(Z,$,J){if(Z<$||J.heightRelevant){let Q=J.widget?J.widget.estimatedHeight:0,X=J.widget?J.widget.lineBreaks:0;if(Q<0)Q=this.oracle.lineHeight;let K=$-Z;if(J.block)this.addBlock(new O4(K,Q,J));else if(K||X||Q>=TQ)this.addLineDeco(Q,X,K)}else if($>Z)this.span(Z,$);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:Z,to:$}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=Z,this.lineEnd=$,this.writtenTo<Z){if(this.writtenTo<Z-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,Z-1));this.nodes.push(null)}if(this.pos>Z)this.nodes.push(new I3(this.pos-Z,-1));this.writtenTo=this.pos}blankContent(Z,$){let J=new X3($-Z);if(this.oracle.doc.lineAt(Z).to==$)J.flags|=4;return J}ensureLine(){this.enterLine();let Z=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Z instanceof I3)return Z;let $=new I3(0,-1);return this.nodes.push($),$}addBlock(Z){this.enterLine();let $=Z.deco;if($&&$.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(Z),this.writtenTo=this.pos=this.pos+Z.length,$&&$.endSide>0)this.covering=Z}addLineDeco(Z,$,J){let Q=this.ensureLine();Q.length+=J,Q.collapsed+=J,Q.widgetHeight=Math.max(Q.widgetHeight,Z),Q.breaks+=$,this.writtenTo=this.pos=this.pos+J}finish(Z){let $=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!($ instanceof I3)&&!this.isCovered)this.nodes.push(new I3(0,-1));else if(this.writtenTo<this.pos||$==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let J=Z;for(let Q of this.nodes){if(Q instanceof I3)Q.updateHeight(this.oracle,J);J+=Q?Q.length:1}return this.nodes}static build(Z,$,J,Q){let X=new H4(J,Z);return w.spans($,J,Q,X,0),X.finish(J)}}class l6{constructor(){this.changes=[]}compareRange(){}comparePoint(Z,$,J,Q){if(Z<$||J&&J.heightRelevant||Q&&Q.heightRelevant)pZ(Z,$,this.changes,5)}}class T7{constructor(Z,$,J){this.from=Z,this.to=$,this.size=J}static same(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++){let Q=Z[J],X=$[J];if(Q.from!=X.from||Q.to!=X.to||Q.size!=X.size)return!1}return!0}draw(Z,$){return c.replace({widget:new p6(this.size*($?Z.scaleY:Z.scaleX),$)}).range(this.from,this.to)}}class p6 extends h9{constructor(Z,$){super();this.size=Z,this.vertical=$}eq(Z){return Z.size==this.size&&Z.vertical==this.vertical}toDOM(){let Z=document.createElement("div");if(this.vertical)Z.style.height=this.size+"px";else Z.style.width=this.size+"px",Z.style.height="2px",Z.style.display="inline-block";return Z}get estimatedHeight(){return this.vertical?this.size:-1}}class tZ{constructor(Z){this.state=Z,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=x0,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=i.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let $=Z.facet(z4).some((J)=>typeof J!="function"&&J.class=="cm-lineWrapping");this.heightOracle=new u6($),this.stateDeco=Z.facet(v5).filter((J)=>typeof J!="function"),this.heightMap=j3.empty().applyChanges(this.stateDeco,b.empty,this.heightOracle.setDoc(Z.doc),[new y3(0,0,0,Z.doc.length)]);for(let J=0;J<2;J++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=c.set(this.lineGaps.map((J)=>J.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Z=[this.viewport],{main:$}=this.state.selection;for(let J=0;J<=1;J++){let Q=J?$.head:$.anchor;if(!Z.some(({from:X,to:K})=>Q>=X&&Q<=K)){let{from:X,to:K}=this.lineBlockAt(Q);Z.push(new y5(X,K))}}return this.viewports=Z.sort((J,Q)=>J.from-Q.from),this.updateScaler()}updateScaler(){let Z=this.scaler;return this.scaler=this.heightMap.height<=7000000?x0:new F4(this.heightOracle,this.heightMap,this.viewports),Z.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(Z)=>{this.viewportLines.push(S5(Z,this.scaler))})}update(Z,$=null){this.state=Z.state;let J=this.stateDeco;this.stateDeco=this.state.facet(v5).filter((W)=>typeof W!="function");let Q=Z.changedRanges,X=y3.extendWithRanges(Q,yQ(J,this.stateDeco,Z?Z.changes:e.empty(this.state.doc.length))),K=this.heightMap.height,Y=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(b0(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,Z.startState.doc,this.heightOracle.setDoc(this.state.doc),X),this.heightMap.height!=K||X5)Z.flags|=2;if(Y)this.scrollAnchorPos=Z.changes.mapPos(Y.from,-1),this.scrollAnchorHeight=Y.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height;let U=X.length?this.mapViewport(this.viewport,Z.changes):this.viewport;if($&&($.range.head<U.from||$.range.head>U.to)||!this.viewportIsAppropriate(U))U=this.getViewport(0,$);let q=U.from!=this.viewport.from||U.to!=this.viewport.to;if(this.viewport=U,Z.flags|=this.updateForViewport(),q||!Z.changes.empty||Z.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Z.changes)));if(Z.flags|=this.computeVisibleRanges(),$)this.scrollTarget=$;if(!this.mustEnforceCursorAssoc&&Z.selectionSet&&Z.view.lineWrapping&&Z.state.selection.main.empty&&Z.state.selection.main.assoc&&!Z.state.facet(c2))this.mustEnforceCursorAssoc=!0}measure(Z){let $=Z.contentDOM,J=window.getComputedStyle($),Q=this.heightOracle,X=J.whiteSpace;this.defaultTextDirection=J.direction=="rtl"?i.RTL:i.LTR;let K=this.heightOracle.mustRefreshForWrapping(X),Y=$.getBoundingClientRect(),U=K||this.mustMeasureContent||this.contentDOMHeight!=Y.height;this.contentDOMHeight=Y.height,this.mustMeasureContent=!1;let q=0,W=0;if(Y.width&&Y.height){let{scaleX:V,scaleY:I}=d0($,Y);if(V>0.005&&Math.abs(this.scaleX-V)>0.005||I>0.005&&Math.abs(this.scaleY-I)>0.005)this.scaleX=V,this.scaleY=I,q|=8,K=U=!0}let G=(parseInt(J.paddingTop)||0)*this.scaleY,z=(parseInt(J.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=G||this.paddingBottom!=z)this.paddingTop=G,this.paddingBottom=z,q|=10;if(this.editorWidth!=Z.scrollDOM.clientWidth){if(Q.lineWrapping)U=!0;this.editorWidth=Z.scrollDOM.clientWidth,q|=8}let j=Z.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=j)this.scrollAnchorHeight=-1,this.scrollTop=j;this.scrolledToBottom=n0(Z.scrollDOM);let _=(this.printing?bQ:SQ)($,this.paddingTop),H=_.top-this.pixelViewport.top,F=_.bottom-this.pixelViewport.bottom;this.pixelViewport=_;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView){if(this.inView=N,N)U=!0}if(!this.inView&&!this.scrollTarget)return 0;let D=Y.width;if(this.contentDOMWidth!=D||this.editorHeight!=Z.scrollDOM.clientHeight)this.contentDOMWidth=Y.width,this.editorHeight=Z.scrollDOM.clientHeight,q|=8;if(U){let V=Z.docView.measureVisibleLineHeights(this.viewport);if(Q.mustRefreshForHeights(V))K=!0;if(K||Q.lineWrapping&&Math.abs(D-this.contentDOMWidth)>Q.charWidth){let{lineHeight:I,charWidth:C,textHeight:S}=Z.docView.measureTextSize();if(K=I>0&&Q.refresh(X,I,C,S,D/C,V),K)Z.docView.minWidth=0,q|=8}if(H>0&&F>0)W=Math.max(H,F);else if(H<0&&F<0)W=Math.min(H,F);b0();for(let I of this.viewports){let C=I.from==this.viewport.from?V:Z.docView.measureVisibleLineHeights(I);this.heightMap=(K?j3.empty().applyChanges(this.stateDeco,b.empty,this.heightOracle,[new y3(0,0,0,Z.state.doc.length)]):this.heightMap).updateHeight(Q,0,K,new f6(I.from,C))}if(X5)q|=2}let M=!this.viewportIsAppropriate(this.viewport,W)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(M){if(q&2)q|=this.updateScaler();this.viewport=this.getViewport(W,this.scrollTarget),q|=this.updateForViewport()}if(q&2||M)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(K?[]:this.lineGaps,Z));if(q|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,Z.docView.enforceCursorAssoc();return q}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Z,$){let J=0.5-Math.max(-0.5,Math.min(0.5,Z/1000/2)),Q=this.heightMap,X=this.heightOracle,{visibleTop:K,visibleBottom:Y}=this,U=new y5(Q.lineAt(K-J*1000,d.ByHeight,X,0,0).from,Q.lineAt(Y+(1-J)*1000,d.ByHeight,X,0,0).to);if($){let{head:q}=$.range;if(q<U.from||q>U.to){let W=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),G=Q.lineAt(q,d.ByPos,X,0,0),z;if($.y=="center")z=(G.top+G.bottom)/2-W/2;else if($.y=="start"||$.y=="nearest"&&q<U.from)z=G.top;else z=G.bottom-W;U=new y5(Q.lineAt(z-500,d.ByHeight,X,0,0).from,Q.lineAt(z+W+500,d.ByHeight,X,0,0).to)}}return U}mapViewport(Z,$){let J=$.mapPos(Z.from,-1),Q=$.mapPos(Z.to,1);return new y5(this.heightMap.lineAt(J,d.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(Q,d.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Z,to:$},J=0){if(!this.inView)return!0;let{top:Q}=this.heightMap.lineAt(Z,d.ByPos,this.heightOracle,0,0),{bottom:X}=this.heightMap.lineAt($,d.ByPos,this.heightOracle,0,0),{visibleTop:K,visibleBottom:Y}=this;return(Z==0||Q<=K-Math.max(10,Math.min(-J,250)))&&($==this.state.doc.length||X>=Y+Math.max(10,Math.min(J,250)))&&(Q>K-2000&&X<Y+2000)}mapLineGaps(Z,$){if(!Z.length||$.empty)return Z;let J=[];for(let Q of Z)if(!$.touchesRange(Q.from,Q.to))J.push(new T7($.mapPos(Q.from),$.mapPos(Q.to),Q.size));return J}ensureLineGaps(Z,$){let J=this.heightOracle.lineWrapping,Q=J?1e4:2000,X=Q>>1,K=Q<<1;if(this.defaultTextDirection!=i.LTR&&!J)return[];let Y=[],U=(W,G,z,j)=>{if(G-W<X)return;let _=this.state.selection.main,H=[_.from];if(!_.empty)H.push(_.to);for(let N of H)if(N>W&&N<G){U(W,N-10,z,j),U(N+10,G,z,j);return}let F=xQ(Z,(N)=>N.from>=z.from&&N.to<=z.to&&Math.abs(N.from-W)<X&&Math.abs(N.to-G)<X&&!H.some((D)=>N.from<D&&N.to>D));if(!F){if(G<z.to&&$&&J&&$.visibleRanges.some((N)=>N.from<=G&&N.to>=G)){let N=$.moveToLineBoundary(R.cursor(G),!1,!0).head;if(N>W)G=N}F=new T7(W,G,this.gapSize(z,W,G,j))}Y.push(F)},q=(W)=>{if(W.length<K||W.type!=T3.Text)return;let G=kQ(W.from,W.to,this.stateDeco);if(G.total<K)return;let z=this.scrollTarget?this.scrollTarget.range.head:null,j,_;if(J){let H=Q/this.heightOracle.lineLength*this.heightOracle.lineHeight,F,N;if(z!=null){let D=M7(G,z),M=((this.visibleBottom-this.visibleTop)/2+H)/W.height;F=D-M,N=D+M}else F=(this.visibleTop-W.top-H)/W.height,N=(this.visibleBottom-W.top+H)/W.height;j=I7(G,F),_=I7(G,N)}else{let H=G.total*this.heightOracle.charWidth,F=Q*this.heightOracle.charWidth,N,D;if(z!=null){let M=M7(G,z),V=((this.pixelViewport.right-this.pixelViewport.left)/2+F)/H;N=M-V,D=M+V}else N=(this.pixelViewport.left-F)/H,D=(this.pixelViewport.right+F)/H;j=I7(G,N),_=I7(G,D)}if(j>W.from)U(W.from,j,W,G);if(_<W.to)U(_,W.to,W,G)};for(let W of this.viewportLines)if(Array.isArray(W.type))W.type.forEach(q);else q(W);return Y}gapSize(Z,$,J,Q){let X=M7(Q,J)-M7(Q,$);if(this.heightOracle.lineWrapping)return Z.height*X;else return Q.total*this.heightOracle.charWidth*X}updateLineGaps(Z){if(!T7.same(Z,this.lineGaps))this.lineGaps=Z,this.lineGapDeco=c.set(Z.map(($)=>$.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(){let Z=this.stateDeco;if(this.lineGaps.length)Z=Z.concat(this.lineGapDeco);let $=[];w.spans(Z,this.viewport.from,this.viewport.to,{span(Q,X){$.push({from:Q,to:X})},point(){}},20);let J=$.length!=this.visibleRanges.length||this.visibleRanges.some((Q,X)=>Q.from!=$[X].from||Q.to!=$[X].to);return this.visibleRanges=$,J?4:0}lineBlockAt(Z){return Z>=this.viewport.from&&Z<=this.viewport.to&&this.viewportLines.find(($)=>$.from<=Z&&$.to>=Z)||S5(this.heightMap.lineAt(Z,d.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Z){return Z>=this.viewportLines[0].top&&Z<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(($)=>$.top<=Z&&$.bottom>=Z)||S5(this.heightMap.lineAt(this.scaler.fromDOM(Z),d.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Z){let $=this.lineBlockAtHeight(Z+8);return $.from>=this.viewport.from||this.viewportLines[0].top-Z>200?$:this.viewportLines[0]}elementAtHeight(Z){return S5(this.heightMap.blockAt(this.scaler.fromDOM(Z),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class y5{constructor(Z,$){this.from=Z,this.to=$}}var x0={toDOM(Z){return Z},fromDOM(Z){return Z},scale:1,eq(Z){return Z==this}};class F4{constructor(Z,$,J){let Q=0,X=0,K=0;this.viewports=J.map(({from:Y,to:U})=>{let q=$.lineAt(Y,d.ByPos,Z,0,0).top,W=$.lineAt(U,d.ByPos,Z,0,0).bottom;return Q+=W-q,{from:Y,to:U,top:q,bottom:W,domTop:0,domBottom:0}}),this.scale=(7000000-Q)/($.height-Q);for(let Y of this.viewports)Y.domTop=K+(Y.top-X)*this.scale,K=Y.domBottom=Y.domTop+(Y.bottom-Y.top),X=Y.bottom}toDOM(Z){for(let $=0,J=0,Q=0;;$++){let X=$<this.viewports.length?this.viewports[$]:null;if(!X||Z<X.top)return Q+(Z-J)*this.scale;if(Z<=X.bottom)return X.domTop+(Z-X.top);J=X.bottom,Q=X.domBottom}}fromDOM(Z){for(let $=0,J=0,Q=0;;$++){let X=$<this.viewports.length?this.viewports[$]:null;if(!X||Z<X.domTop)return J+(Z-Q)/this.scale;if(Z<=X.domBottom)return X.top+(Z-X.domTop);J=X.bottom,Q=X.domBottom}}eq(Z){if(!(Z instanceof F4))return!1;return this.scale==Z.scale&&this.viewports.length==Z.viewports.length&&this.viewports.every(($,J)=>$.from==Z.viewports[J].from&&$.to==Z.viewports[J].to)}}var A7=B.define({combine:(Z)=>Z.join(" ")}),eZ=B.define({combine:(Z)=>Z.indexOf(!0)>-1}),Z4=m3.newName(),d6=m3.newName(),c6=m3.newName(),s6={"&light":"."+d6,"&dark":"."+c6},wQ=$4("."+Z4,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},s6),vQ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},kZ=L.ie&&L.ie_version<=11;class i6{constructor(Z){if(this.view=Z,this.active=!1,this.editContext=null,this.selectionRange=new c0,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Z.contentDOM,this.observer=new MutationObserver(($)=>{for(let J of $)this.queue.push(J);if((L.ie&&L.ie_version<=11||L.ios&&Z.composing)&&$.some((J)=>J.type=="childList"&&J.removedNodes.length||J.type=="characterData"&&J.oldValue.length>J.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&Z.constructor.EDIT_CONTEXT!==!1&&!(L.chrome&&L.chrome_version<126)){if(this.editContext=new n6(Z),Z.state.facet(O9))Z.contentDOM.editContext=this.editContext.editContext}if(kZ)this.onCharData=($)=>{this.queue.push({target:$.target,type:"characterData",oldValue:$.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var $;if((($=this.view.docView)===null||$===void 0?void 0:$.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(Z.scrollDOM);if(this.addWindowListeners(this.win=Z.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver(($)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if($.length>0&&$[$.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(($)=>{if($.length>0&&$[$.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Z){if(this.view.inputState.runHandlers("scroll",Z),this.intersecting)this.view.measure()}onScroll(Z){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(Z)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(Z){if((Z.type=="change"||!Z.type)&&!Z.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(Z){if(this.gapIntersection&&(Z.length!=this.gaps.length||this.gaps.some(($,J)=>$!=Z[J]))){this.gapIntersection.disconnect();for(let $ of Z)this.gapIntersection.observe($);this.gaps=Z}}onSelectionChange(Z){let $=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:J}=this,Q=this.selectionRange;if(J.state.facet(O9)?J.root.activeElement!=this.dom:!B7(J.dom,Q))return;let X=Q.anchorNode&&J.docView.nearest(Q.anchorNode);if(X&&X.ignoreEvent(Z)){if(!$)this.selectionChanged=!1;return}if((L.ie&&L.ie_version<=11||L.android&&L.chrome)&&!J.state.selection.main.empty&&Q.focusNode&&b5(Q.focusNode,Q.focusOffset,Q.anchorNode,Q.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:Z}=this,$=x5(Z.root);if(!$)return!1;let J=L.safari&&Z.root.nodeType==11&&B2(this.dom.ownerDocument)==this.dom&&hQ(this.view,$)||$;if(!J||this.selectionRange.eq(J))return!1;let Q=B7(this.dom,J);if(Q&&!this.selectionChanged&&Z.inputState.lastFocusTime>Date.now()-200&&Z.inputState.lastTouchTime<Date.now()-300&&y2(this.dom,J))return this.view.inputState.lastFocusTime=0,Z.docView.updateSelection(),!1;if(this.selectionRange.setRange(J),Q)this.selectionChanged=!0;return!0}setSelectionRange(Z,$){this.selectionRange.set(Z.node,Z.offset,$.node,$.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Z=0,$=null;for(let J=this.dom;J;)if(J.nodeType==1){if(!$&&Z<this.scrollTargets.length&&this.scrollTargets[Z]==J)Z++;else if(!$)$=this.scrollTargets.slice(0,Z);if($)$.push(J);J=J.assignedSlot||J.parentNode}else if(J.nodeType==11)J=J.host;else break;if(Z<this.scrollTargets.length&&!$)$=this.scrollTargets.slice(0,Z);if($){for(let J of this.scrollTargets)J.removeEventListener("scroll",this.onScroll);for(let J of this.scrollTargets=$)J.addEventListener("scroll",this.onScroll)}}ignore(Z){if(!this.active)return Z();try{return this.stop(),Z()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,vQ),kZ)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),kZ)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Z,$){var J;if(!this.delayedAndroidKey){let Q=()=>{let X=this.delayedAndroidKey;if(X){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=X.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&X.force)$5(this.dom,X.key,X.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(Q)}if(!this.delayedAndroidKey||Z=="Enter")this.delayedAndroidKey={key:Z,keyCode:$,force:this.lastChange<Date.now()-50||!!((J=this.delayedAndroidKey)===null||J===void 0?void 0:J.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let Z of this.observer.takeRecords())this.queue.push(Z);return this.queue}processRecords(){let Z=this.pendingRecords();if(Z.length)this.queue=[];let $=-1,J=-1,Q=!1;for(let X of Z){let K=this.readMutation(X);if(!K)continue;if(K.typeOver)Q=!0;if($==-1)({from:$,to:J}=K);else $=Math.min(K.from,$),J=Math.max(K.to,J)}return{from:$,to:J,typeOver:Q}}readChange(){let{from:Z,to:$,typeOver:J}=this.processRecords(),Q=this.selectionChanged&&B7(this.dom,this.selectionRange);if(Z<0&&!Q)return null;if(Z>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let X=new P6(this.view,Z,$,J);return this.view.docView.domChanged={newSel:X.newSel?X.newSel.main:null},X}flush(Z=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(Z)this.readSelectionRange();let $=this.readChange();if(!$)return this.view.requestMeasure(),!1;let J=this.view.state,Q=C6(this.view,$);if(this.view.state==J&&($.domChanged||$.newSel&&!$.newSel.main.eq(this.view.state.selection.main)))this.view.update([]);return Q}readMutation(Z){let $=this.view.docView.nearest(Z.target);if(!$||$.ignoreMutation(Z))return null;if($.markDirty(Z.type=="attributes"),Z.type=="attributes")$.flags|=4;if(Z.type=="childList"){let J=w0($,Z.previousSibling||Z.target.previousSibling,-1),Q=w0($,Z.nextSibling||Z.target.nextSibling,1);return{from:J?$.posAfter(J):$.posAtStart,to:Q?$.posBefore(Q):$.posAtEnd,typeOver:!1}}else if(Z.type=="characterData")return{from:$.posAtStart,to:$.posAtEnd,typeOver:Z.target.nodeValue==Z.oldValue};else return null}setWindow(Z){if(Z!=this.win)this.removeWindowListeners(this.win),this.win=Z,this.addWindowListeners(this.win)}addWindowListeners(Z){if(Z.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else Z.addEventListener("beforeprint",this.onPrint);Z.addEventListener("scroll",this.onScroll),Z.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Z){if(Z.removeEventListener("scroll",this.onScroll),Z.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else Z.removeEventListener("beforeprint",this.onPrint);Z.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Z){if(this.editContext){if(this.editContext.update(Z),Z.startState.facet(O9)!=Z.state.facet(O9))Z.view.contentDOM.editContext=Z.state.facet(O9)?this.editContext.editContext:null}}destroy(){var Z,$,J;this.stop(),(Z=this.intersection)===null||Z===void 0||Z.disconnect(),($=this.gapIntersection)===null||$===void 0||$.disconnect(),(J=this.resizeScroll)===null||J===void 0||J.disconnect();for(let Q of this.scrollTargets)Q.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}class n6{constructor(Z){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(Z.state);let $=this.editContext=new window.EditContext({text:Z.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Z.state.selection.main.anchor))),selectionEnd:this.toContextPos(Z.state.selection.main.head)});this.handlers.textupdate=(J)=>{let{anchor:Q}=Z.state.selection.main,X={from:this.toEditorPos(J.updateRangeStart),to:this.toEditorPos(J.updateRangeEnd),insert:b.of(J.text.split("\n"))};if(X.from==this.from&&Q<this.from)X.from=Q;else if(X.to==this.to&&Q>this.to)X.to=Q;if(X.from==X.to&&!X.insert.length)return;if(this.pendingContextChange=X,!Z.state.readOnly)_4(Z,X,R.single(this.toEditorPos(J.selectionStart),this.toEditorPos(J.selectionEnd)));if(this.pendingContextChange)this.revertPending(Z.state),this.setSelection(Z.state)},this.handlers.characterboundsupdate=(J)=>{let Q=[],X=null;for(let K=this.toEditorPos(J.rangeStart),Y=this.toEditorPos(J.rangeEnd);K<Y;K++){let U=Z.coordsForChar(K);X=U&&new DOMRect(U.left,U.top,U.right-U.left,U.bottom-U.top)||X||new DOMRect,Q.push(X)}$.updateCharacterBounds(J.rangeStart,Q)},this.handlers.textformatupdate=(J)=>{let Q=[];for(let X of J.getTextFormats()){let{underlineStyle:K,underlineThickness:Y}=X;if(K!="None"&&Y!="None"){let U=`text-decoration: underline ${K=="Dashed"?"dashed ":K=="Squiggle"?"wavy ":""}${Y=="Thin"?1:2}px`;Q.push(c.mark({attributes:{style:U}}).range(this.toEditorPos(X.rangeStart),this.toEditorPos(X.rangeEnd)))}}Z.dispatch({effects:D6.of(c.set(Q))})},this.handlers.compositionstart=()=>{if(Z.inputState.composing<0)Z.inputState.composing=0,Z.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{Z.inputState.composing=-1,Z.inputState.compositionFirstChange=null};for(let J in this.handlers)$.addEventListener(J,this.handlers[J]);this.measureReq={read:(J)=>{this.editContext.updateControlBounds(J.contentDOM.getBoundingClientRect());let Q=x5(J.root);if(Q&&Q.rangeCount)this.editContext.updateSelectionBounds(Q.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Z){let $=0,J=!1,Q=this.pendingContextChange;if(Z.changes.iterChanges((X,K,Y,U,q)=>{if(J)return;let W=q.length-(K-X);if(Q&&K>=Q.to)if(Q.from==X&&Q.to==K&&Q.insert.eq(q)){Q=this.pendingContextChange=null,$+=W,this.to+=W;return}else Q=null,this.revertPending(Z.state);if(X+=$,K+=$,K<=this.from)this.from+=W,this.to+=W;else if(X<this.to){if(X<this.from||K>this.to||this.to-this.from+q.length>30000){J=!0;return}this.editContext.updateText(this.toContextPos(X),this.toContextPos(K),q.toString()),this.to+=W}$+=W}),Q&&!J)this.revertPending(Z.state);return!J}update(Z){let $=this.pendingContextChange;if(!this.applyEdits(Z)||!this.rangeIsValid(Z.state))this.pendingContextChange=null,this.resetRange(Z.state),this.editContext.updateText(0,this.editContext.text.length,Z.state.doc.sliceString(this.from,this.to)),this.setSelection(Z.state);else if(Z.docChanged||Z.selectionSet||$)this.setSelection(Z.state);if(Z.geometryChanged||Z.docChanged||Z.selectionSet)Z.view.requestMeasure(this.measureReq)}resetRange(Z){let{head:$}=Z.selection.main;this.from=Math.max(0,$-1e4),this.to=Math.min(Z.doc.length,$+1e4)}revertPending(Z){let $=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos($.from),this.toContextPos($.from+$.insert.length),Z.doc.sliceString($.from,$.to))}setSelection(Z){let{main:$}=Z.selection,J=this.toContextPos(Math.max(this.from,Math.min(this.to,$.anchor))),Q=this.toContextPos($.head);if(this.editContext.selectionStart!=J||this.editContext.selectionEnd!=Q)this.editContext.updateSelection(J,Q)}rangeIsValid(Z){let{head:$}=Z.selection.main;return!(this.from>0&&$-this.from<500||this.to<Z.doc.length&&this.to-$<500||this.to-this.from>30000)}toEditorPos(Z){return Z+this.from}toContextPos(Z){return Z-this.from}destroy(){for(let Z in this.handlers)this.editContext.removeEventListener(Z,this.handlers[Z])}}class E{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Z={}){var $;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Z.parent)Z.parent.appendChild(this.dom);let{dispatch:J}=Z;if(this.dispatchTransactions=Z.dispatchTransactions||J&&((Q)=>Q.forEach((X)=>J(X,this)))||((Q)=>this.update(Q)),this.dispatch=this.dispatch.bind(this),this._root=Z.root||T2(Z.parent)||document,this.viewState=new tZ(Z.state||m.create(Z)),Z.scrollTo&&Z.scrollTo.is(D7))this.viewState.scrollTarget=Z.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(P5).map((Q)=>new E7(Q));for(let Q of this.plugins)Q.update(this);if(this.observer=new i6(this),this.inputState=new T6(this),this.inputState.ensureHandlers(this.plugins),this.docView=new nZ(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),($=document.fonts)===null||$===void 0?void 0:$.ready)document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...Z){let $=Z.length==1&&Z[0]instanceof a?Z:Z.length==1&&Array.isArray(Z[0])?Z[0]:[this.state.update(...Z)];this.dispatchTransactions($,this)}update(Z){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let $=!1,J=!1,Q,X=this.state;for(let z of Z){if(z.startState!=X)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");X=z.state}if(this.destroyed){this.viewState.state=X;return}let K=this.hasFocus,Y=0,U=null;if(Z.some((z)=>z.annotation(v6)))this.inputState.notifiedFocused=K,Y=1;else if(K!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=K,U=h6(X,K),!U)Y=1}let q=this.observer.delayedAndroidKey,W=null;if(q){if(this.observer.clearDelayedAndroidKey(),W=this.observer.readChange(),W&&!this.state.doc.eq(X.doc)||!this.state.selection.eq(X.selection))W=null}else this.observer.clear();if(X.facet(m.phrases)!=this.state.facet(m.phrases))return this.setState(X);Q=w7.create(this,X,Z),Q.flags|=Y;let G=this.viewState.scrollTarget;try{this.updateState=2;for(let z of Z){if(G)G=G.map(z.changes);if(z.scrollIntoView){let{main:j}=z.state.selection;G=new J5(j.empty?j:R.cursor(j.head,j.head>j.anchor?-1:1))}for(let j of z.effects)if(j.is(D7))G=j.value.clip(this.state)}if(this.viewState.update(Q,G),this.bidiCache=h7.update(this.bidiCache,Q.changes),!Q.empty)this.updatePlugins(Q),this.inputState.update(Q);if($=this.docView.update(Q),this.state.facet(C5)!=this.styleModules)this.mountStyles();J=this.updateAttrs(),this.showAnnouncements(Z),this.docView.updateSelection($,Z.some((z)=>z.isUserEvent("select.pointer")))}finally{this.updateState=0}if(Q.startState.facet(A7)!=Q.state.facet(A7))this.viewState.mustMeasureContent=!0;if($||J||G||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if($)this.docViewUpdate();if(!Q.empty)for(let z of this.state.facet(iZ))try{z(Q)}catch(j){z3(this.state,j,"update listener")}if(U||W)Promise.resolve().then(()=>{if(U&&this.state==U.startState)this.dispatch(U);if(W){if(!C6(this,W)&&q.force)$5(this.contentDOM,q.key,q.keyCode)}})}setState(Z){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Z;return}this.updateState=2;let $=this.hasFocus;try{for(let J of this.plugins)J.destroy(this);this.viewState=new tZ(Z),this.plugins=Z.facet(P5).map((J)=>new E7(J)),this.pluginMap.clear();for(let J of this.plugins)J.update(this);this.docView.destroy(),this.docView=new nZ(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if($)this.focus();this.requestMeasure()}updatePlugins(Z){let $=Z.startState.facet(P5),J=Z.state.facet(P5);if($!=J){let Q=[];for(let X of J){let K=$.indexOf(X);if(K<0)Q.push(new E7(X));else{let Y=this.plugins[K];Y.mustUpdate=Z,Q.push(Y)}}for(let X of this.plugins)if(X.mustUpdate!=Z)X.destroy(this);this.plugins=Q,this.pluginMap.clear()}else for(let Q of this.plugins)Q.mustUpdate=Z;for(let Q=0;Q<this.plugins.length;Q++)this.plugins[Q].update(this);if($!=J)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Z of this.plugins){let $=Z.value;if($&&$.docViewUpdate)try{$.docViewUpdate(this)}catch(J){z3(this.state,J,"doc view update listener")}}}measure(Z=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,Z)this.observer.forceFlush();let $=null,J=this.scrollDOM,Q=J.scrollTop*this.scaleY,{scrollAnchorPos:X,scrollAnchorHeight:K}=this.viewState;if(Math.abs(Q-this.viewState.scrollTop)>1)K=-1;this.viewState.scrollAnchorHeight=-1;try{for(let Y=0;;Y++){if(K<0)if(n0(J))X=-1,K=this.viewState.heightMap.height;else{let j=this.viewState.scrollAnchorAt(Q);X=j.from,K=j.top}this.updateState=1;let U=this.viewState.measure(this);if(!U&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Y>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let q=[];if(!(U&4))[this.measureRequests,q]=[q,this.measureRequests];let W=q.map((j)=>{try{return j.read(this)}catch(_){return z3(this.state,_),h0}}),G=w7.create(this,this.state,[]),z=!1;if(G.flags|=U,!$)$=G;else $.flags|=U;if(this.updateState=2,!G.empty){if(this.updatePlugins(G),this.inputState.update(G),this.updateAttrs(),z=this.docView.update(G),z)this.docViewUpdate()}for(let j=0;j<q.length;j++)if(W[j]!=h0)try{let _=q[j];if(_.write)_.write(W[j],this)}catch(_){z3(this.state,_)}if(z)this.docView.updateSelection(!0);if(!G.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,K=-1;continue}else{let _=(X<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(X).top)-K;if(_>1||_<-1){Q=Q+_,J.scrollTop=Q/this.scaleY,K=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if($&&!$.empty)for(let Y of this.state.facet(iZ))Y($)}get themeClasses(){return Z4+" "+(this.state.facet(eZ)?c6:d6)+" "+this.state.facet(A7)}updateAttrs(){let Z=m0(this,R6,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),$={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:!this.state.facet(O9)?"false":"true",class:"cm-content",style:`${L.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)$["aria-readonly"]="true";m0(this,z4,$);let J=this.observer.ignore(()=>{let Q=lZ(this.contentDOM,this.contentAttrs,$),X=lZ(this.dom,this.editorAttrs,Z);return Q||X});return this.editorAttrs=Z,this.contentAttrs=$,J}showAnnouncements(Z){let $=!0;for(let J of Z)for(let Q of J.effects)if(Q.is(E.announce)){if($)this.announceDOM.textContent="";$=!1;let X=this.announceDOM.appendChild(document.createElement("div"));X.textContent=Q.value}}mountStyles(){this.styleModules=this.state.facet(C5);let Z=this.state.facet(E.cspNonce);m3.mount(this.root,this.styleModules.concat(wQ).reverse(),Z?{nonce:Z}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(Z){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(Z){if(this.measureRequests.indexOf(Z)>-1)return;if(Z.key!=null){for(let $=0;$<this.measureRequests.length;$++)if(this.measureRequests[$].key===Z.key){this.measureRequests[$]=Z;return}}this.measureRequests.push(Z)}}plugin(Z){let $=this.pluginMap.get(Z);if($===void 0||$&&$.spec!=Z)this.pluginMap.set(Z,$=this.plugins.find((J)=>J.spec==Z)||null);return $&&$.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Z){return this.readMeasured(),this.viewState.elementAtHeight(Z)}lineBlockAtHeight(Z){return this.readMeasured(),this.viewState.lineBlockAtHeight(Z)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Z){return this.viewState.lineBlockAt(Z)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Z,$,J){return bZ(this,Z,I0(this,Z,$,J))}moveByGroup(Z,$){return bZ(this,Z,I0(this,Z,$,(J)=>UQ(this,Z.head,J)))}visualLineSide(Z,$){let J=this.bidiSpans(Z),Q=this.textDirectionAt(Z.from),X=J[$?J.length-1:0];return R.cursor(X.side($,Q)+Z.from,X.forward(!$,Q)?1:-1)}moveToLineBoundary(Z,$,J=!0){return YQ(this,Z,$,J)}moveVertically(Z,$,J){return bZ(this,Z,qQ(this,Z,$,J))}domAtPos(Z){return this.docView.domAtPos(Z)}posAtDOM(Z,$=0){return this.docView.posFromDOM(Z,$)}posAtCoords(Z,$=!0){return this.readMeasured(),B6(this,Z,$)}coordsAtPos(Z,$=1){this.readMeasured();let J=this.docView.coordsAt(Z,$);if(!J||J.left==J.right)return J;let Q=this.state.doc.lineAt(Z),X=this.bidiSpans(Q),K=X[K9.find(X,Z-Q.from,-1,$)];return m7(J,K.dir==i.LTR==$>0)}coordsForChar(Z){return this.readMeasured(),this.docView.coordsForChar(Z)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Z){if(!this.state.facet(F6)||Z<this.viewport.from||Z>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(Z)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Z){if(Z.length>mQ)return q6(Z.length);let $=this.textDirectionAt(Z.from),J;for(let X of this.bidiCache)if(X.from==Z.from&&X.dir==$&&(X.fresh||U6(X.isolates,J=F0(this,Z))))return X.order;if(!J)J=F0(this,Z);let Q=l2(Z.text,$,J);return this.bidiCache.push(new h7(Z.from,Z.to,$,J,!0,Q)),Q}get hasFocus(){var Z;return(this.dom.ownerDocument.hasFocus()||L.safari&&((Z=this.inputState)===null||Z===void 0?void 0:Z.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{s0(this.contentDOM),this.docView.updateSelection()})}setRoot(Z){if(this._root!=Z)this._root=Z,this.observer.setWindow((Z.nodeType==9?Z:Z.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let Z of this.plugins)Z.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(Z,$={}){return D7.of(new J5(typeof Z=="number"?R.cursor(Z):Z,$.y,$.x,$.yMargin,$.xMargin))}scrollSnapshot(){let{scrollTop:Z,scrollLeft:$}=this.scrollDOM,J=this.viewState.scrollAnchorAt(Z);return D7.of(new J5(R.cursor(J.from),"start","start",J.top-Z,$,!0))}setTabFocusMode(Z){if(Z==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof Z=="boolean")this.inputState.tabFocusMode=Z?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+Z}static domEventHandlers(Z){return S3.define(()=>({}),{eventHandlers:Z})}static domEventObservers(Z){return S3.define(()=>({}),{eventObservers:Z})}static theme(Z,$){let J=m3.newName(),Q=[A7.of(J),C5.of($4(`.${J}`,Z))];if($&&$.dark)Q.push(eZ.of(!0));return Q}static baseTheme(Z){return Q9.lowest(C5.of($4("."+Z4,Z,s6)))}static findFromDOM(Z){var $;let J=Z.querySelector(".cm-content"),Q=J&&l.get(J)||l.get(Z);return(($=Q===null||Q===void 0?void 0:Q.rootView)===null||$===void 0?void 0:$.view)||null}}E.styleModule=C5;E.inputHandler=O6;E.clipboardInputFilter=G4;E.clipboardOutputFilter=W4;E.scrollHandler=N6;E.focusChangeEffect=H6;E.perLineTextDirection=F6;E.exceptionSink=_6;E.updateListener=iZ;E.editable=O9;E.mouseSelectionStyle=j6;E.dragMovesSelection=z6;E.clickAddsSelectionRange=W6;E.decorations=v5;E.outerDecorations=V6;E.atomicRanges=j4;E.bidiIsolatedRanges=I6;E.scrollMargins=M6;E.darkTheme=eZ;E.cspNonce=B.define({combine:(Z)=>Z.length?Z[0]:""});E.contentAttributes=z4;E.editorAttributes=R6;E.lineWrapping=E.contentAttributes.of({class:"cm-lineWrapping"});E.announce=v.define();var mQ=4096,h0={};class h7{constructor(Z,$,J,Q,X,K){this.from=Z,this.to=$,this.dir=J,this.isolates=Q,this.fresh=X,this.order=K}static update(Z,$){if($.empty&&!Z.some((X)=>X.fresh))return Z;let J=[],Q=Z.length?Z[Z.length-1].dir:i.LTR;for(let X=Math.max(0,Z.length-10);X<Z.length;X++){let K=Z[X];if(K.dir==Q&&!$.touchesRange(K.from,K.to))J.push(new h7($.mapPos(K.from,1),$.mapPos(K.to,-1),K.dir,K.isolates,!1,K.order))}return J}}var uQ=L.mac?"mac":L.windows?"win":L.linux?"linux":"key",gQ=Q9.default(E.domEventHandlers({keydown(Z,$){return cQ(lQ($.state),Z,$,"editor")}})),K5=B.define({enables:gQ}),u0=new WeakMap,H9=null,pQ=4000,J4=null;var sQ=!L.ios;var f0={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};if(sQ)f0[".cm-line"].caretColor=f0[".cm-content"].caretColor="transparent !important";var pq=/x/.unicode!=null?"gu":"g";var E5="-10000px";class a6{constructor(Z,$,J,Q){this.facet=$,this.createTooltipView=J,this.removeTooltipView=Q,this.input=Z.state.facet($),this.tooltips=this.input.filter((K)=>K);let X=null;this.tooltipViews=this.tooltips.map((K)=>X=J(K,X))}update(Z,$){var J;let Q=Z.state.facet(this.facet),X=Q.filter((U)=>U);if(Q===this.input){for(let U of this.tooltipViews)if(U.update)U.update(Z);return!1}let K=[],Y=$?[]:null;for(let U=0;U<X.length;U++){let q=X[U],W=-1;if(!q)continue;for(let G=0;G<this.tooltips.length;G++){let z=this.tooltips[G];if(z&&z.create==q.create)W=G}if(W<0){if(K[U]=this.createTooltipView(q,U?K[U-1]:null),Y)Y[U]=!!q.above}else{let G=K[U]=this.tooltipViews[W];if(Y)Y[U]=$[W];if(G.update)G.update(Z)}}for(let U of this.tooltipViews)if(K.indexOf(U)<0)this.removeTooltipView(U),(J=U.destroy)===null||J===void 0||J.call(U);if($)Y.forEach((U,q)=>$[q]=U),$.length=Y.length;return this.input=Q,this.tooltips=X,this.tooltipViews=K,!0}}var xZ=B.define({combine:(Z)=>{var $,J,Q;return{position:L.ios?"absolute":(($=Z.find((X)=>X.position))===null||$===void 0?void 0:$.position)||"fixed",parent:((J=Z.find((X)=>X.parent))===null||J===void 0?void 0:J.parent)||null,tooltipSpace:((Q=Z.find((X)=>X.tooltipSpace))===null||Q===void 0?void 0:Q.tooltipSpace)||iQ}}}),g0=new WeakMap,r6=S3.fromClass(class{constructor(Z){this.view=Z,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let $=Z.state.facet(xZ);this.position=$.position,this.parent=$.parent,this.classes=Z.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new a6(Z,N4,(J,Q)=>this.createTooltip(J,Q),(J)=>{if(this.resizeObserver)this.resizeObserver.unobserve(J.dom);J.dom.remove()}),this.above=this.manager.tooltips.map((J)=>!!J.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((J)=>{if(Date.now()>this.lastTransaction-50&&J.length>0&&J[J.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),Z.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let Z of this.manager.tooltipViews)this.intersectionObserver.observe(Z.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(Z){if(Z.transactions.length)this.lastTransaction=Date.now();let $=this.manager.update(Z,this.above);if($)this.observeIntersection();let J=$||Z.geometryChanged,Q=Z.state.facet(xZ);if(Q.position!=this.position&&!this.madeAbsolute){this.position=Q.position;for(let X of this.manager.tooltipViews)X.dom.style.position=this.position;J=!0}if(Q.parent!=this.parent){if(this.parent)this.container.remove();this.parent=Q.parent,this.createContainer();for(let X of this.manager.tooltipViews)this.container.appendChild(X.dom);J=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(J)this.maybeMeasure()}createTooltip(Z,$){let J=Z.create(this.view),Q=$?$.dom:null;if(J.dom.classList.add("cm-tooltip"),Z.arrow&&!J.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let X=document.createElement("div");X.className="cm-tooltip-arrow",J.dom.appendChild(X)}if(J.dom.style.position=this.position,J.dom.style.top=E5,J.dom.style.left="0px",this.container.insertBefore(J.dom,Q),J.mount)J.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(J.dom);return J}destroy(){var Z,$,J;this.view.win.removeEventListener("resize",this.measureSoon);for(let Q of this.manager.tooltipViews)Q.dom.remove(),(Z=Q.destroy)===null||Z===void 0||Z.call(Q);if(this.parent)this.container.remove();($=this.resizeObserver)===null||$===void 0||$.disconnect(),(J=this.intersectionObserver)===null||J===void 0||J.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let Z=this.view.dom.getBoundingClientRect(),$=1,J=1,Q=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:X}=this.manager.tooltipViews[0];if(L.gecko)Q=X.offsetParent!=this.container.ownerDocument.body;else if(X.style.top==E5&&X.style.left=="0px"){let K=X.getBoundingClientRect();Q=Math.abs(K.top+1e4)>1||Math.abs(K.left)>1}}if(Q||this.position=="absolute")if(this.parent){let X=this.parent.getBoundingClientRect();if(X.width&&X.height)$=X.width/this.parent.offsetWidth,J=X.height/this.parent.offsetHeight}else({scaleX:$,scaleY:J}=this.view.viewState);return{editor:Z,parent:this.parent?this.container.getBoundingClientRect():Z,pos:this.manager.tooltips.map((X,K)=>{let Y=this.manager.tooltipViews[K];return Y.getCoords?Y.getCoords(X.pos):this.view.coordsAtPos(X.pos)}),size:this.manager.tooltipViews.map(({dom:X})=>X.getBoundingClientRect()),space:this.view.state.facet(xZ).tooltipSpace(this.view),scaleX:$,scaleY:J,makeAbsolute:Q}}writeMeasure(Z){var $;if(Z.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let U of this.manager.tooltipViews)U.dom.style.position="absolute"}let{editor:J,space:Q,scaleX:X,scaleY:K}=Z,Y=[];for(let U=0;U<this.manager.tooltips.length;U++){let q=this.manager.tooltips[U],W=this.manager.tooltipViews[U],{dom:G}=W,z=Z.pos[U],j=Z.size[U];if(!z||z.bottom<=Math.max(J.top,Q.top)||z.top>=Math.min(J.bottom,Q.bottom)||z.right<Math.max(J.left,Q.left)-0.1||z.left>Math.min(J.right,Q.right)+0.1){G.style.top=E5;continue}let _=q.arrow?W.dom.querySelector(".cm-tooltip-arrow"):null,H=_?7:0,F=j.right-j.left,N=($=g0.get(W))!==null&&$!==void 0?$:j.bottom-j.top,D=W.offset||aQ,M=this.view.textDirection==i.LTR,V=j.width>Q.right-Q.left?M?Q.left:Q.right-j.width:M?Math.max(Q.left,Math.min(z.left-(_?14:0)+D.x,Q.right-F)):Math.min(Math.max(Q.left,z.left-F+(_?14:0)-D.x),Q.right-F),I=this.above[U];if(!q.strictSide&&(I?z.top-(j.bottom-j.top)-D.y<Q.top:z.bottom+(j.bottom-j.top)+D.y>Q.bottom)&&I==Q.bottom-z.bottom>z.top-Q.top)I=this.above[U]=!I;let C=(I?z.top-Q.top:Q.bottom-z.bottom)-H;if(C<N&&W.resize!==!1){if(C<this.view.defaultLineHeight){G.style.top=E5;continue}g0.set(W,N),G.style.height=(N=C)/K+"px"}else if(G.style.height)G.style.height="";let S=I?z.top-N-H-D.y:z.bottom+H+D.y,T=V+F;if(W.overlap!==!0){for(let h of Y)if(h.left<T&&h.right>V&&h.top<S+N&&h.bottom>S)S=I?h.top-N-2-H:h.bottom+H+2}if(this.position=="absolute")G.style.top=(S-Z.parent.top)/K+"px",G.style.left=(V-Z.parent.left)/X+"px";else G.style.top=S/K+"px",G.style.left=V/X+"px";if(_){let h=z.left+(M?D.x:-D.x)-(V+14-7);_.style.left=h/X+"px"}if(W.overlap!==!0)Y.push({left:V,top:S,right:T,bottom:S+N});if(G.classList.toggle("cm-tooltip-above",I),G.classList.toggle("cm-tooltip-below",!I),W.positioned)W.positioned(Z.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let Z of this.manager.tooltipViews)Z.dom.style.top=E5}}}},{eventObservers:{scroll(){this.maybeMeasure()}}}),nQ=E.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),aQ={x:0,y:0},N4=B.define({enables:[r6,nQ]});class G9 extends s3{compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}eq(Z){return!1}destroy(Z){}}G9.prototype.elementClass="";G9.prototype.toDOM=void 0;G9.prototype.mapMode=J3.TrackBefore;G9.prototype.startSide=G9.prototype.endSide=-1;G9.prototype.point=!0;var wZ=B.define(),rQ=B.define();var y7=B.define(),Q4=B.define({combine:(Z)=>Z.some(($)=>$)}),tQ=S3.fromClass(class{constructor(Z){this.view=Z,this.prevViewport=Z.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=Z.state.facet(y7).map(($)=>new K4(Z,$));for(let $ of this.gutters)this.dom.appendChild($.dom);if(this.fixed=!Z.state.facet(Q4),this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),Z.scrollDOM.insertBefore(this.dom,Z.contentDOM)}update(Z){if(this.updateGutters(Z)){let $=this.prevViewport,J=Z.view.viewport,Q=Math.min($.to,J.to)-Math.max($.from,J.from);this.syncGutters(Q<(J.to-J.from)*0.8)}if(Z.geometryChanged)this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px";if(this.view.state.facet(Q4)!=!this.fixed)this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"";this.prevViewport=Z.view.viewport}syncGutters(Z){let $=this.dom.nextSibling;if(Z)this.dom.remove();let J=w.iter(this.view.state.facet(wZ),this.view.viewport.from),Q=[],X=this.gutters.map((K)=>new o6(K,this.view.viewport,-this.view.documentPadding.top));for(let K of this.view.viewportLineBlocks){if(Q.length)Q=[];if(Array.isArray(K.type)){let Y=!0;for(let U of K.type)if(U.type==T3.Text&&Y){X4(J,Q,U.from);for(let q of X)q.line(this.view,U,Q);Y=!1}else if(U.widget)for(let q of X)q.widget(this.view,U)}else if(K.type==T3.Text){X4(J,Q,K.from);for(let Y of X)Y.line(this.view,K,Q)}else if(K.widget)for(let Y of X)Y.widget(this.view,K)}for(let K of X)K.finish();if(Z)this.view.scrollDOM.insertBefore(this.dom,$)}updateGutters(Z){let $=Z.startState.facet(y7),J=Z.state.facet(y7),Q=Z.docChanged||Z.heightChanged||Z.viewportChanged||!w.eq(Z.startState.facet(wZ),Z.state.facet(wZ),Z.view.viewport.from,Z.view.viewport.to);if($==J){for(let X of this.gutters)if(X.update(Z))Q=!0}else{Q=!0;let X=[];for(let K of J){let Y=$.indexOf(K);if(Y<0)X.push(new K4(this.view,K));else this.gutters[Y].update(Z),X.push(this.gutters[Y])}for(let K of this.gutters)if(K.dom.remove(),X.indexOf(K)<0)K.destroy();for(let K of X)this.dom.appendChild(K.dom);this.gutters=X}return Q}destroy(){for(let Z of this.gutters)Z.destroy();this.dom.remove()}},{provide:(Z)=>E.scrollMargins.of(($)=>{let J=$.plugin(Z);if(!J||J.gutters.length==0||!J.fixed)return null;return $.textDirection==i.LTR?{left:J.dom.offsetWidth*$.scaleX}:{right:J.dom.offsetWidth*$.scaleX}})});class o6{constructor(Z,$,J){this.gutter=Z,this.height=J,this.i=0,this.cursor=w.iter(Z.markers,$.from)}addElement(Z,$,J){let{gutter:Q}=this,X=($.top-this.height)/Z.scaleY,K=$.height/Z.scaleY;if(this.i==Q.elements.length){let Y=new R4(Z,K,X,J);Q.elements.push(Y),Q.dom.appendChild(Y.dom)}else Q.elements[this.i].update(Z,K,X,J);this.height=$.bottom,this.i++}line(Z,$,J){let Q=[];if(X4(this.cursor,Q,$.from),J.length)Q=Q.concat(J);let X=this.gutter.config.lineMarker(Z,$,Q);if(X)Q.unshift(X);let K=this.gutter;if(Q.length==0&&!K.config.renderEmptyElements)return;this.addElement(Z,$,Q)}widget(Z,$){let J=this.gutter.config.widgetMarker(Z,$.widget,$),Q=J?[J]:null;for(let X of Z.state.facet(rQ)){let K=X(Z,$.widget,$);if(K)(Q||(Q=[])).push(K)}if(Q)this.addElement(Z,$,Q)}finish(){let Z=this.gutter;while(Z.elements.length>this.i){let $=Z.elements.pop();Z.dom.removeChild($.dom),$.destroy()}}}class K4{constructor(Z,$){this.view=Z,this.config=$,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let J in $.domEventHandlers)this.dom.addEventListener(J,(Q)=>{let X=Q.target,K;if(X!=this.dom&&this.dom.contains(X)){while(X.parentNode!=this.dom)X=X.parentNode;let U=X.getBoundingClientRect();K=(U.top+U.bottom)/2}else K=Q.clientY;let Y=Z.lineBlockAtHeight(K-Z.documentTop);if($.domEventHandlers[J](Z,Y,Q))Q.preventDefault()});if(this.markers=l0($.markers(Z)),$.initialSpacer)this.spacer=new R4(Z,0,0,[$.initialSpacer(Z)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(Z){let $=this.markers;if(this.markers=l0(this.config.markers(Z.view)),this.spacer&&this.config.updateSpacer){let Q=this.config.updateSpacer(this.spacer.markers[0],Z);if(Q!=this.spacer.markers[0])this.spacer.update(Z.view,0,0,[Q])}let J=Z.view.viewport;return!w.eq(this.markers,$,J.from,J.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Z):!1)}destroy(){for(let Z of this.elements)Z.destroy()}}class R4{constructor(Z,$,J,Q){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Z,$,J,Q)}update(Z,$,J,Q){if(this.height!=$)this.height=$,this.dom.style.height=$+"px";if(this.above!=J)this.dom.style.marginTop=(this.above=J)?J+"px":"";if(!eQ(this.markers,Q))this.setMarkers(Z,Q)}setMarkers(Z,$){let J="cm-gutterElement",Q=this.dom.firstChild;for(let X=0,K=0;;){let Y=K,U=X<$.length?$[X++]:null,q=!1;if(U){let W=U.elementClass;if(W)J+=" "+W;for(let G=K;G<this.markers.length;G++)if(this.markers[G].compare(U)){Y=G,q=!0;break}}else Y=this.markers.length;while(K<Y){let W=this.markers[K++];if(W.toDOM){W.destroy(Q);let G=Q.nextSibling;Q.remove(),Q=G}}if(!U)break;if(U.toDOM)if(q)Q=Q.nextSibling;else this.dom.insertBefore(U.toDOM(Z),Q);if(q)K++}this.dom.className=J,this.markers=$}destroy(){this.setMarkers(null,[])}}var ZX=B.define(),$X=B.define(),Z5=B.define({combine(Z){return y9(Z,{formatNumber:String,domEventHandlers:{}},{domEventHandlers($,J){let Q=Object.assign({},$);for(let X in J){let K=Q[X],Y=J[X];Q[X]=K?(U,q,W)=>K(U,q,W)||Y(U,q,W):Y}return Q}})}});class S7 extends G9{constructor(Z){super();this.number=Z}eq(Z){return this.number==Z.number}toDOM(){return document.createTextNode(this.number)}}var JX=y7.compute([Z5],(Z)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers($){return $.state.facet(ZX)},lineMarker($,J,Q){if(Q.some((X)=>X.toDOM))return null;return new S7(vZ($,$.state.doc.lineAt(J.from).number))},widgetMarker:($,J,Q)=>{for(let X of $.state.facet($X)){let K=X($,J,Q);if(K)return K}return null},lineMarkerChange:($)=>$.startState.facet(Z5)!=$.state.facet(Z5),initialSpacer($){return new S7(vZ($,p0($.state.doc.lines)))},updateSpacer($,J){let Q=vZ(J.view,p0(J.view.state.doc.lines));return Q==$.number?$:new S7(Q)},domEventHandlers:Z.facet(Z5).domEventHandlers}));function U1(Z,$,J,Q){switch(Z){case-2:return J<$;case-1:return Q>=$&&J<$;case 0:return J<$&&Q>$;case 1:return J<=$&&Q>$;case 2:return Q>$;case 4:return!0}}function u5(Z,$,J,Q){var X;while(Z.from==Z.to||(J<1?Z.from>=$:Z.from>$)||(J>-1?Z.to<=$:Z.to<$)){let Y=!Q&&Z instanceof G3&&Z.index<0?null:Z.parent;if(!Y)return Z;Z=Y}let K=Q?0:u.IgnoreOverlays;if(Q){for(let Y=Z,U=Y.parent;U;Y=U,U=Y.parent)if(Y instanceof G3&&Y.index<0&&((X=U.enter($,J,K))===null||X===void 0?void 0:X.from)!=Y.from)Z=U}for(;;){let Y=Z.enter($,J,K);if(!Y)return Z;Z=Y}}function Z1(Z,$,J,Q){let X=Z.cursor(),K=[];if(!X.firstChild())return K;if(J!=null){for(let Y=!1;!Y;)if(Y=X.type.is(J),!X.nextSibling())return K}for(;;){if(Q!=null&&X.type.is(Q))return K;if(X.type.is($))K.push(X.node);if(!X.nextSibling())return Q==null?K:[]}}function V4(Z,$,J=$.length-1){for(let Q=Z.parent;J>=0;Q=Q.parent){if(!Q)return!1;if(!Q.type.isAnonymous){if($[J]&&$[J]!=Q.name)return!1;J--}}return!0}function G1(Z){if(!Z.length)return null;let $=0,J=Z[0];for(let K=1;K<Z.length;K++){let Y=Z[K];if(Y.from>J.from||Y.to<J.to)J=Y,$=K}let Q=J instanceof G3&&J.index<0?null:J.parent,X=Z.slice();if(Q)X[$]=Q;else X.splice($,1);return new W1(X,J)}function KX(Z,$,J){let Q=Z.resolveInner($,J),X=null;for(let K=Q instanceof G3?Q:Q.context.parent;K;K=K.parent)if(K.index<0){let Y=K.parent;(X||(X=[Q])).push(Y.resolve($,J)),K=Y}else{let Y=Y5.get(K.tree);if(Y&&Y.overlay&&Y.overlay[0].from<=$&&Y.overlay[Y.overlay.length-1].to>=$){let U=new G3(Y.tree,Y.overlay[0].from+K.from,-1,K);(X||(X=[Q])).push(u5(U,$,J,!1))}}return X?G1(X):Q}function E4(Z){return Z.children.some(($)=>$ instanceof N9||!$.type.isAnonymous||E4($))}function YX(Z){var $;let{buffer:J,nodeSet:Q,maxBufferLength:X=1024,reused:K=[],minRepeatType:Y=Q.types.length}=Z,U=Array.isArray(J)?new L4(J,J.length):J,q=Q.types,W=0,G=0;function z(C,S,T,h,p,f){let{id:k,start:x,end:r,size:n}=U,H3=G;while(n<0)if(U.next(),n==-1){let J9=K[k];T.push(J9),h.push(x-C);return}else if(n==-3){W=k;return}else if(n==-4){G=k;return}else throw new RangeError(`Unrecognized record size: ${n}`);let L9=q[k],d9,B9,y8=x-C;if(r-x<=X&&(B9=N(U.pos-S,p))){let J9=new Uint16Array(B9.size-B9.skip),E3=U.pos-B9.size,p3=J9.length;while(U.pos>E3)p3=D(B9.start,J9,p3);d9=new N9(J9,r-B9.start,Q),y8=B9.start-C}else{let J9=U.pos-n;U.next();let E3=[],p3=[],E9=k>=Y?k:-1,c9=0,q7=r;while(U.pos>J9)if(E9>=0&&U.id==E9&&U.size>=0){if(U.end<=q7-X)H(E3,p3,x,c9,U.end,q7,E9,H3),c9=E3.length,q7=U.end;U.next()}else if(f>2500)j(x,J9,E3,p3);else z(x,J9,E3,p3,E9,f+1);if(E9>=0&&c9>0&&c9<E3.length)H(E3,p3,x,c9,x,q7,E9,H3);if(E3.reverse(),p3.reverse(),E9>-1&&c9>0){let S8=_(L9);d9=P4(L9,E3,p3,0,E3.length,0,r-x,S8,S8)}else d9=F(L9,E3,p3,r-x,H3-r)}T.push(d9),h.push(y8)}function j(C,S,T,h){let p=[],f=0,k=-1;while(U.pos>S){let{id:x,start:r,end:n,size:H3}=U;if(H3>4)U.next();else if(k>-1&&r<k)break;else{if(k<0)k=n-X;p.push(x,r,n),f++,U.next()}}if(f){let x=new Uint16Array(f*4),r=p[p.length-2];for(let n=p.length-3,H3=0;n>=0;n-=3)x[H3++]=p[n],x[H3++]=p[n+1]-r,x[H3++]=p[n+2]-r,x[H3++]=H3;T.push(new N9(x,p[2]-r,Q)),h.push(r-C)}}function _(C){return(S,T,h)=>{let p=0,f=S.length-1,k,x;if(f>=0&&(k=S[f])instanceof s){if(!f&&k.type==C&&k.length==h)return k;if(x=k.prop(y.lookAhead))p=T[f]+k.length+x}return F(C,S,T,h,p)}}function H(C,S,T,h,p,f,k,x){let r=[],n=[];while(C.length>h)r.push(C.pop()),n.push(S.pop()+T-p);C.push(F(Q.types[k],r,n,f-p,x-f)),S.push(p-T)}function F(C,S,T,h,p=0,f){if(W){let k=[y.contextHash,W];f=f?[k].concat(f):[k]}if(p>25){let k=[y.lookAhead,p];f=f?[k].concat(f):[k]}return new s(C,S,T,h,f)}function N(C,S){let T=U.fork(),h=0,p=0,f=0,k=T.end-X,x={size:0,start:0,skip:0};Z:for(let r=T.pos-C;T.pos>r;){let n=T.size;if(T.id==S&&n>=0){x.size=h,x.start=p,x.skip=f,f+=4,h+=4,T.next();continue}let H3=T.pos-n;if(n<0||H3<r||T.start<k)break;let L9=T.id>=Y?4:0,d9=T.start;T.next();while(T.pos>H3){if(T.size<0)if(T.size==-3)L9+=4;else break Z;else if(T.id>=Y)L9+=4;T.next()}p=d9,h+=n,f+=L9}if(S<0||h==C)x.size=h,x.start=p,x.skip=f;return x.size>4?x:void 0}function D(C,S,T){let{id:h,start:p,end:f,size:k}=U;if(U.next(),k>=0&&h<Y){let x=T;if(k>4){let r=U.pos-(k-4);while(U.pos>r)T=D(C,S,T)}S[--T]=x,S[--T]=f-C,S[--T]=p-C,S[--T]=h}else if(k==-3)W=h;else if(k==-4)G=h;return T}let M=[],V=[];while(U.pos>0)z(Z.start||0,Z.bufferStart||0,M,V,-1,0);let I=($=Z.length)!==null&&$!==void 0?$:M.length?V[0]+M[0].length:0;return new s(q[Z.topID],M.reverse(),V.reverse(),I)}function l7(Z,$){if(!Z.isAnonymous||$ instanceof N9||$.type!=Z)return 1;let J=$1.get($);if(J==null){J=1;for(let Q of $.children){if(Q.type!=Z||!(Q instanceof s)){J=1;break}J+=l7(Z,Q)}$1.set($,J)}return J}function P4(Z,$,J,Q,X,K,Y,U,q){let W=0;for(let H=Q;H<X;H++)W+=l7(Z,$[H]);let G=Math.ceil(W*1.5/8),z=[],j=[];function _(H,F,N,D,M){for(let V=N;V<D;){let I=V,C=F[V],S=l7(Z,H[V]);V++;for(;V<D;V++){let T=l7(Z,H[V]);if(S+T>=G)break;S+=T}if(V==I+1){if(S>G){let T=H[I];_(T.children,T.positions,0,T.children.length,F[I]+M);continue}z.push(H[I])}else{let T=F[V-1]+H[V-1].length-C;z.push(P4(Z,H,F,I,V,C,T,null,q))}j.push(C+M-K)}}return _($,J,Q,X,0),(U||q)(z,j,Y)}function j1(Z){return($,J,Q,X)=>new O1($,Z,J,Q,X)}function J1(Z){if(!Z.length||Z.some(($)=>$.from>=$.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(Z))}function UX(Z,$,J){for(let Q of Z){if(Q.from>=J)break;if(Q.to>$)return Q.from<=$&&Q.to>=J?2:1}return 0}function Q1(Z,$,J,Q,X,K){if($<J){let Y=Z.buffer[$+1];Q.push(Z.slice($,J,Y)),X.push(Y-K)}}function qX(Z){let{node:$}=Z,J=[],Q=$.context.buffer;do J.push(Z.index),Z.parent();while(!Z.tree);let X=Z.tree,K=X.children.indexOf(Q),Y=X.children[K],U=Y.buffer,q=[K];function W(G,z,j,_,H,F){let N=J[F],D=[],M=[];Q1(Y,G,N,D,M,_);let V=U[N+1],I=U[N+2];q.push(D.length);let C=F?W(N+4,U[N+3],Y.set.types[U[N]],V,I-V,F-1):$.toTree();return D.push(C),M.push(V-_),Q1(Y,U[N+3],z,D,M,_),new s(j,D,M,H)}X.children[K]=W(0,U.length,K3.none,0,Y.length,J.length-1);for(let G of q){let z=Z.tree.children[G],j=Z.tree.positions[G];Z.yield(new G3(z,j+Z.from,G,Z._tree))}}function X1(Z,$){let J=null,Q=$;for(let X=1,K=0;X<Z.length;X++){let Y=Z[X-1].to,U=Z[X].from;for(;K<Q.length;K++){let q=Q[K];if(q.from>=U)break;if(q.to<=Y)continue;if(!J)Q=J=$.slice();if(q.from<Y){if(J[K]=new M3(q.from,Y),q.to>U)J.splice(K+1,0,new M3(U,q.to))}else if(q.to>U)J[K--]=new M3(U,q.to);else J.splice(K--,1)}}return Q}function GX(Z,$,J,Q){let X=0,K=0,Y=!1,U=!1,q=-1e9,W=[];for(;;){let G=X==Z.length?1e9:Y?Z[X].to:Z[X].from,z=K==$.length?1e9:U?$[K].to:$[K].from;if(Y!=U){let j=Math.max(q,J),_=Math.min(G,z,Q);if(j<_)W.push(new M3(j,_))}if(q=Math.min(G,z),q==1e9)break;if(G==q)if(!Y)Y=!0;else Y=!1,X++;if(z==q)if(!U)U=!0;else U=!1,K++}return W}function K1(Z,$){let J=[];for(let{pos:Q,mount:X,frag:K}of Z){let Y=Q+(X.overlay?X.overlay[0].from:0),U=Y+X.tree.length,q=Math.max(K.from,Y),W=Math.min(K.to,U);if(X.overlay){let G=X.overlay.map((j)=>new M3(j.from+Q,j.to+Q)),z=GX($,G,q,W);for(let j=0,_=q;;j++){let H=j==z.length,F=H?W:z[j].from;if(F>_)J.push(new r3(_,F,X.tree,-Y,K.from>=_||K.openStart,K.to<=F||K.openEnd));if(H)break;_=z[j].to}}else J.push(new r3(q,W,X.tree,-Y,K.from>=Y||K.openStart,K.to<=U||K.openEnd))}return J}var Y1=1024,QX=0;class M3{constructor(Z,$){this.from=Z,this.to=$}}class y{constructor(Z={}){this.id=QX++,this.perNode=!!Z.perNode,this.deserialize=Z.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(Z){if(this.perNode)throw new RangeError("Can't add per-node props to node types");if(typeof Z!="function")Z=K3.match(Z);return($)=>{let J=Z($);return J===void 0?null:[this,J]}}}y.closedBy=new y({deserialize:(Z)=>Z.split(" ")});y.openedBy=new y({deserialize:(Z)=>Z.split(" ")});y.group=new y({deserialize:(Z)=>Z.split(" ")});y.isolate=new y({deserialize:(Z)=>{if(Z&&Z!="rtl"&&Z!="ltr"&&Z!="auto")throw new RangeError("Invalid value for isolate: "+Z);return Z||"auto"}});y.contextHash=new y({perNode:!0});y.lookAhead=new y({perNode:!0});y.mounted=new y({perNode:!0});class Y5{constructor(Z,$,J){this.tree=Z,this.overlay=$,this.parser=J}static get(Z){return Z&&Z.props&&Z.props[y.mounted.id]}}var XX=Object.create(null);class K3{constructor(Z,$,J,Q=0){this.name=Z,this.props=$,this.id=J,this.flags=Q}static define(Z){let $=Z.props&&Z.props.length?Object.create(null):XX,J=(Z.top?1:0)|(Z.skipped?2:0)|(Z.error?4:0)|(Z.name==null?8:0),Q=new K3(Z.name||"",$,Z.id,J);if(Z.props)for(let X of Z.props){if(!Array.isArray(X))X=X(Q);if(X){if(X[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");$[X[0].id]=X[1]}}return Q}prop(Z){return this.props[Z.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Z){if(typeof Z=="string"){if(this.name==Z)return!0;let $=this.prop(y.group);return $?$.indexOf(Z)>-1:!1}return this.id==Z}static match(Z){let $=Object.create(null);for(let J in Z)for(let Q of J.split(" "))$[Q]=Z[J];return(J)=>{for(let Q=J.prop(y.group),X=-1;X<(Q?Q.length:0);X++){let K=$[X<0?J.name:Q[X]];if(K)return K}}}}K3.none=new K3("",Object.create(null),0,8);class g5{constructor(Z){this.types=Z;for(let $=0;$<Z.length;$++)if(Z[$].id!=$)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Z){let $=[];for(let J of this.types){let Q=null;for(let X of Z){let K=X(J);if(K){if(!Q)Q=Object.assign({},J.props);Q[K[0].id]=K[1]}}$.push(Q?new K3(J.name,Q,J.id,J.flags):J)}return new g5($)}}var g7=new WeakMap,e6=new WeakMap,u;(function(Z){Z[Z.ExcludeBuffers=1]="ExcludeBuffers",Z[Z.IncludeAnonymous=2]="IncludeAnonymous",Z[Z.IgnoreMounts=4]="IgnoreMounts",Z[Z.IgnoreOverlays=8]="IgnoreOverlays"})(u||(u={}));class s{constructor(Z,$,J,Q,X){if(this.type=Z,this.children=$,this.positions=J,this.length=Q,this.props=null,X&&X.length){this.props=Object.create(null);for(let[K,Y]of X)this.props[typeof K=="number"?K:K.id]=Y}}toString(){let Z=Y5.get(this);if(Z&&!Z.overlay)return Z.tree.toString();let $="";for(let J of this.children){let Q=J.toString();if(Q){if($)$+=",";$+=Q}}return!this.type.name?$:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+($.length?"("+$+")":"")}cursor(Z=0){return new f5(this.topNode,Z)}cursorAt(Z,$=0,J=0){let Q=g7.get(this)||this.topNode,X=new f5(Q);return X.moveTo(Z,$),g7.set(this,X._tree),X}get topNode(){return new G3(this,0,0,null)}resolve(Z,$=0){let J=u5(g7.get(this)||this.topNode,Z,$,!1);return g7.set(this,J),J}resolveInner(Z,$=0){let J=u5(e6.get(this)||this.topNode,Z,$,!0);return e6.set(this,J),J}resolveStack(Z,$=0){return KX(this,Z,$)}iterate(Z){let{enter:$,leave:J,from:Q=0,to:X=this.length}=Z,K=Z.mode||0,Y=(K&u.IncludeAnonymous)>0;for(let U=this.cursor(K|u.IncludeAnonymous);;){let q=!1;if(U.from<=X&&U.to>=Q&&(!Y&&U.type.isAnonymous||$(U)!==!1)){if(U.firstChild())continue;q=!0}for(;;){if(q&&J&&(Y||!U.type.isAnonymous))J(U);if(U.nextSibling())break;if(!U.parent())return;q=!0}}}prop(Z){return!Z.perNode?this.type.prop(Z):this.props?this.props[Z.id]:void 0}get propValues(){let Z=[];if(this.props)for(let $ in this.props)Z.push([+$,this.props[$]]);return Z}balance(Z={}){return this.children.length<=8?this:P4(K3.none,this.children,this.positions,0,this.children.length,0,this.length,($,J,Q)=>new s(this.type,$,J,Q,this.propValues),Z.makeTree||(($,J,Q)=>new s(K3.none,$,J,Q)))}static build(Z){return YX(Z)}}s.empty=new s(K3.none,[],[],0);class L4{constructor(Z,$){this.buffer=Z,this.index=$}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new L4(this.buffer,this.index)}}class N9{constructor(Z,$,J){this.buffer=Z,this.length=$,this.set=J}get type(){return K3.none}toString(){let Z=[];for(let $=0;$<this.buffer.length;)Z.push(this.childString($)),$=this.buffer[$+3];return Z.join(",")}childString(Z){let $=this.buffer[Z],J=this.buffer[Z+3],Q=this.set.types[$],X=Q.name;if(/\W/.test(X)&&!Q.isError)X=JSON.stringify(X);if(Z+=4,J==Z)return X;let K=[];while(Z<J)K.push(this.childString(Z)),Z=this.buffer[Z+3];return X+"("+K.join(",")+")"}findChild(Z,$,J,Q,X){let{buffer:K}=this,Y=-1;for(let U=Z;U!=$;U=K[U+3])if(U1(X,Q,K[U+1],K[U+2])){if(Y=U,J>0)break}return Y}slice(Z,$,J){let Q=this.buffer,X=new Uint16Array($-Z),K=0;for(let Y=Z,U=0;Y<$;){X[U++]=Q[Y++],X[U++]=Q[Y++]-J;let q=X[U++]=Q[Y++]-J;X[U++]=Q[Y++]-Z,K=Math.max(K,q)}return new N9(X,K,this.set)}}class B4{cursor(Z=0){return new f5(this,Z)}getChild(Z,$=null,J=null){let Q=Z1(this,Z,$,J);return Q.length?Q[0]:null}getChildren(Z,$=null,J=null){return Z1(this,Z,$,J)}resolve(Z,$=0){return u5(this,Z,$,!1)}resolveInner(Z,$=0){return u5(this,Z,$,!0)}matchContext(Z){return V4(this,Z)}enterUnfinishedNodesBefore(Z){let $=this.childBefore(Z),J=this;while($){let Q=$.lastChild;if(!Q||Q.to!=$.to)break;if(Q.type.isError&&Q.from==Q.to)J=$,$=Q.prevSibling;else $=Q}return J}get node(){return this}get next(){return this.parent}}class G3 extends B4{constructor(Z,$,J,Q){super();this._tree=Z,this.from=$,this.index=J,this._parent=Q}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Z,$,J,Q,X=0){for(let K=this;;){for(let{children:Y,positions:U}=K._tree,q=$>0?Y.length:-1;Z!=q;Z+=$){let W=Y[Z],G=U[Z]+K.from;if(!U1(Q,J,G,G+W.length))continue;if(W instanceof N9){if(X&u.ExcludeBuffers)continue;let z=W.findChild(0,W.buffer.length,$,J-G,Q);if(z>-1)return new a3(new q1(K,W,Z,G),null,z)}else if(X&u.IncludeAnonymous||(!W.type.isAnonymous||E4(W))){let z;if(!(X&u.IgnoreMounts)&&(z=Y5.get(W))&&!z.overlay)return new G3(z.tree,G,Z,K);let j=new G3(W,G,Z,K);return X&u.IncludeAnonymous||!j.type.isAnonymous?j:j.nextChild($<0?W.children.length-1:0,$,J,Q)}}if(X&u.IncludeAnonymous||!K.type.isAnonymous)return null;if(K.index>=0)Z=K.index+$;else Z=$<0?-1:K._parent._tree.children.length;if(K=K._parent,!K)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Z){return this.nextChild(0,1,Z,2)}childBefore(Z){return this.nextChild(this._tree.children.length-1,-1,Z,-2)}enter(Z,$,J=0){let Q;if(!(J&u.IgnoreOverlays)&&(Q=Y5.get(this._tree))&&Q.overlay){let X=Z-this.from;for(let{from:K,to:Y}of Q.overlay)if(($>0?K<=X:K<X)&&($<0?Y>=X:Y>X))return new G3(Q.tree,Q.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Z,$,J)}nextSignificantParent(){let Z=this;while(Z.type.isAnonymous&&Z._parent)Z=Z._parent;return Z}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}class q1{constructor(Z,$,J,Q){this.parent=Z,this.buffer=$,this.index=J,this.start=Q}}class a3 extends B4{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Z,$,J){super();this.context=Z,this._parent=$,this.index=J,this.type=Z.buffer.set.types[Z.buffer.buffer[J]]}child(Z,$,J){let{buffer:Q}=this.context,X=Q.findChild(this.index+4,Q.buffer[this.index+3],Z,$-this.context.start,J);return X<0?null:new a3(this.context,this,X)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Z){return this.child(1,Z,2)}childBefore(Z){return this.child(-1,Z,-2)}enter(Z,$,J=0){if(J&u.ExcludeBuffers)return null;let{buffer:Q}=this.context,X=Q.findChild(this.index+4,Q.buffer[this.index+3],$>0?1:-1,Z-this.context.start,$);return X<0?null:new a3(this.context,this,X)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Z){return this._parent?null:this.context.parent.nextChild(this.context.index+Z,Z,0,4)}get nextSibling(){let{buffer:Z}=this.context,$=Z.buffer[this.index+3];if($<(this._parent?Z.buffer[this._parent.index+3]:Z.buffer.length))return new a3(this.context,this._parent,$);return this.externalSibling(1)}get prevSibling(){let{buffer:Z}=this.context,$=this._parent?this._parent.index+4:0;if(this.index==$)return this.externalSibling(-1);return new a3(this.context,this._parent,Z.findChild($,this.index,-1,0,4))}get tree(){return null}toTree(){let Z=[],$=[],{buffer:J}=this.context,Q=this.index+4,X=J.buffer[this.index+3];if(X>Q){let K=J.buffer[this.index+1];Z.push(J.slice(Q,X,K)),$.push(0)}return new s(this.type,Z,$,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}class W1{constructor(Z,$){this.heads=Z,this.node=$}get next(){return G1(this.heads)}}class f5{get name(){return this.type.name}constructor(Z,$=0){if(this.mode=$,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,Z instanceof G3)this.yieldNode(Z);else{this._tree=Z.context.parent,this.buffer=Z.context;for(let J=Z._parent;J;J=J._parent)this.stack.unshift(J.index);this.bufferNode=Z,this.yieldBuf(Z.index)}}yieldNode(Z){if(!Z)return!1;return this._tree=Z,this.type=Z.type,this.from=Z.from,this.to=Z.to,!0}yieldBuf(Z,$){this.index=Z;let{start:J,buffer:Q}=this.buffer;return this.type=$||Q.set.types[Q.buffer[Z]],this.from=J+Q.buffer[Z+1],this.to=J+Q.buffer[Z+2],!0}yield(Z){if(!Z)return!1;if(Z instanceof G3)return this.buffer=null,this.yieldNode(Z);return this.buffer=Z.context,this.yieldBuf(Z.index,Z.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Z,$,J){if(!this.buffer)return this.yield(this._tree.nextChild(Z<0?this._tree._tree.children.length-1:0,Z,$,J,this.mode));let{buffer:Q}=this.buffer,X=Q.findChild(this.index+4,Q.buffer[this.index+3],Z,$-this.buffer.start,J);if(X<0)return!1;return this.stack.push(this.index),this.yieldBuf(X)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Z){return this.enterChild(1,Z,2)}childBefore(Z){return this.enterChild(-1,Z,-2)}enter(Z,$,J=this.mode){if(!this.buffer)return this.yield(this._tree.enter(Z,$,J));return J&u.ExcludeBuffers?!1:this.enterChild(1,Z,$)}parent(){if(!this.buffer)return this.yieldNode(this.mode&u.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Z=this.mode&u.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Z)}sibling(Z){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Z,Z,0,4,this.mode));let{buffer:$}=this.buffer,J=this.stack.length-1;if(Z<0){let Q=J<0?0:this.stack[J]+4;if(this.index!=Q)return this.yieldBuf($.findChild(Q,this.index,-1,0,4))}else{let Q=$.buffer[this.index+3];if(Q<(J<0?$.buffer.length:$.buffer[this.stack[J]+3]))return this.yieldBuf(Q)}return J<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Z,Z,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Z){let $,J,{buffer:Q}=this;if(Q){if(Z>0){if(this.index<Q.buffer.buffer.length)return!1}else for(let X=0;X<this.index;X++)if(Q.buffer.buffer[X+3]<this.index)return!1;({index:$,parent:J}=Q)}else({index:$,_parent:J}=this._tree);for(;J;{index:$,_parent:J}=J)if($>-1)for(let X=$+Z,K=Z<0?-1:J._tree.children.length;X!=K;X+=Z){let Y=J._tree.children[X];if(this.mode&u.IncludeAnonymous||Y instanceof N9||!Y.type.isAnonymous||E4(Y))return!1}return!0}move(Z,$){if($&&this.enterChild(Z,0,4))return!0;for(;;){if(this.sibling(Z))return!0;if(this.atLastNode(Z)||!this.parent())return!1}}next(Z=!0){return this.move(1,Z)}prev(Z=!0){return this.move(-1,Z)}moveTo(Z,$=0){while(this.from==this.to||($<1?this.from>=Z:this.from>Z)||($>-1?this.to<=Z:this.to<Z))if(!this.parent())break;while(this.enterChild(1,Z,$));return this}get node(){if(!this.buffer)return this._tree;let Z=this.bufferNode,$=null,J=0;if(Z&&Z.context==this.buffer)Z:for(let Q=this.index,X=this.stack.length;X>=0;){for(let K=Z;K;K=K._parent)if(K.index==Q){if(Q==this.index)return K;$=K,J=X+1;break Z}Q=this.stack[--X]}for(let Q=J;Q<this.stack.length;Q++)$=new a3(this.buffer,$,this.stack[Q]);return this.bufferNode=new a3(this.buffer,$,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Z,$){for(let J=0;;){let Q=!1;if(this.type.isAnonymous||Z(this)!==!1){if(this.firstChild()){J++;continue}if(!this.type.isAnonymous)Q=!0}for(;;){if(Q&&$)$(this);if(Q=this.type.isAnonymous,this.nextSibling())break;if(!J)return;this.parent(),J--,Q=!0}}}matchContext(Z){if(!this.buffer)return V4(this.node,Z);let{buffer:$}=this.buffer,{types:J}=$.set;for(let Q=Z.length-1,X=this.stack.length-1;Q>=0;X--){if(X<0)return V4(this.node,Z,Q);let K=J[$.buffer[this.stack[X]]];if(!K.isAnonymous){if(Z[Q]&&Z[Q]!=K.name)return!1;Q--}}return!0}}var $1=new WeakMap;class l5{constructor(){this.map=new WeakMap}setBuffer(Z,$,J){let Q=this.map.get(Z);if(!Q)this.map.set(Z,Q=new Map);Q.set($,J)}getBuffer(Z,$){let J=this.map.get(Z);return J&&J.get($)}set(Z,$){if(Z instanceof a3)this.setBuffer(Z.context.buffer,Z.index,$);else if(Z instanceof G3)this.map.set(Z.tree,$)}get(Z){return Z instanceof a3?this.getBuffer(Z.context.buffer,Z.index):Z instanceof G3?this.map.get(Z.tree):void 0}cursorSet(Z,$){if(Z.buffer)this.setBuffer(Z.buffer.buffer,Z.index,$);else this.map.set(Z.tree,$)}cursorGet(Z){return Z.buffer?this.getBuffer(Z.buffer.buffer,Z.index):this.map.get(Z.tree)}}class r3{constructor(Z,$,J,Q,X=!1,K=!1){this.from=Z,this.to=$,this.tree=J,this.offset=Q,this.open=(X?1:0)|(K?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Z,$=[],J=!1){let Q=[new r3(0,Z.length,Z,0,!1,J)];for(let X of $)if(X.to>Z.length)Q.push(X);return Q}static applyChanges(Z,$,J=128){if(!$.length)return Z;let Q=[],X=1,K=Z.length?Z[0]:null;for(let Y=0,U=0,q=0;;Y++){let W=Y<$.length?$[Y]:null,G=W?W.fromA:1e9;if(G-U>=J)while(K&&K.from<G){let z=K;if(U>=z.from||G<=z.to||q){let j=Math.max(z.from,U)-q,_=Math.min(z.to,G)-q;z=j>=_?null:new r3(j,_,z.tree,z.offset+q,Y>0,!!W)}if(z)Q.push(z);if(K.to>G)break;K=X<Z.length?Z[X++]:null}if(!W)break;U=W.toA,q=W.toA-W.toB}return Q}}class p5{startParse(Z,$,J){if(typeof Z=="string")Z=new z1(Z);return J=!J?[new M3(0,Z.length)]:J.length?J.map((Q)=>new M3(Q.from,Q.to)):[new M3(0,0)],this.createParse(Z,$||[],J)}parse(Z,$,J){let Q=this.startParse(Z,$,J);for(;;){let X=Q.advance();if(X)return X}}}class z1{constructor(Z){this.string=Z}get length(){return this.string.length}chunk(Z){return this.string.slice(Z)}get lineChunks(){return!1}read(Z,$){return this.string.slice(Z,$)}}class I4{constructor(Z,$,J,Q,X){this.parser=Z,this.parse=$,this.overlay=J,this.target=Q,this.from=X}}class _1{constructor(Z,$,J,Q,X,K,Y){this.parser=Z,this.predicate=$,this.mounts=J,this.index=Q,this.start=X,this.target=K,this.prev=Y,this.depth=0,this.ranges=[]}}var M4=new y({perNode:!0});class O1{constructor(Z,$,J,Q,X){this.nest=$,this.input=J,this.fragments=Q,this.ranges=X,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=Z}advance(){if(this.baseParse){let J=this.baseParse.advance();if(!J)return null;if(this.baseParse=null,this.baseTree=J,this.startInner(),this.stoppedAt!=null)for(let Q of this.inner)Q.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let J=this.baseTree;if(this.stoppedAt!=null)J=new s(J.type,J.children,J.positions,J.length,J.propValues.concat([[M4,this.stoppedAt]]));return J}let Z=this.inner[this.innerDone],$=Z.parse.advance();if($){this.innerDone++;let J=Object.assign(Object.create(null),Z.target.props);J[y.mounted.id]=new Y5($,Z.overlay,Z.parser),Z.target.props=J}return null}get parsedPos(){if(this.baseParse)return 0;let Z=this.input.length;for(let $=this.innerDone;$<this.inner.length;$++)if(this.inner[$].from<Z)Z=Math.min(Z,this.inner[$].parse.parsedPos);return Z}stopAt(Z){if(this.stoppedAt=Z,this.baseParse)this.baseParse.stopAt(Z);else for(let $=this.innerDone;$<this.inner.length;$++)this.inner[$].parse.stopAt(Z)}startInner(){let Z=new H1(this.fragments),$=null,J=null,Q=new f5(new G3(this.baseTree,this.ranges[0].from,0,null),u.IncludeAnonymous|u.IgnoreMounts);Z:for(let X,K;;){let Y=!0,U;if(this.stoppedAt!=null&&Q.from>=this.stoppedAt)Y=!1;else if(Z.hasNode(Q)){if($){let q=$.mounts.find((W)=>W.frag.from<=Q.from&&W.frag.to>=Q.to&&W.mount.overlay);if(q)for(let W of q.mount.overlay){let G=W.from+q.pos,z=W.to+q.pos;if(G>=Q.from&&z<=Q.to&&!$.ranges.some((j)=>j.from<z&&j.to>G))$.ranges.push({from:G,to:z})}}Y=!1}else if(J&&(K=UX(J.ranges,Q.from,Q.to)))Y=K!=2;else if(!Q.type.isAnonymous&&(X=this.nest(Q,this.input))&&(Q.from<Q.to||!X.overlay)){if(!Q.tree)qX(Q);let q=Z.findMounts(Q.from,X.parser);if(typeof X.overlay=="function")$=new _1(X.parser,X.overlay,q,this.inner.length,Q.from,Q.tree,$);else{let W=X1(this.ranges,X.overlay||(Q.from<Q.to?[new M3(Q.from,Q.to)]:[]));if(W.length)J1(W);if(W.length||!X.overlay)this.inner.push(new I4(X.parser,W.length?X.parser.startParse(this.input,K1(q,W),W):X.parser.startParse(""),X.overlay?X.overlay.map((G)=>new M3(G.from-Q.from,G.to-Q.from)):null,Q.tree,W.length?W[0].from:Q.from));if(!X.overlay)Y=!1;else if(W.length)J={ranges:W,depth:0,prev:J}}}else if($&&(U=$.predicate(Q))){if(U===!0)U=new M3(Q.from,Q.to);if(U.from<U.to)$.ranges.push(U)}if(Y&&Q.firstChild()){if($)$.depth++;if(J)J.depth++}else for(;;){if(Q.nextSibling())break;if(!Q.parent())break Z;if($&&!--$.depth){let q=X1(this.ranges,$.ranges);if(q.length)J1(q),this.inner.splice($.index,0,new I4($.parser,$.parser.startParse(this.input,K1($.mounts,q),q),$.ranges.map((W)=>new M3(W.from-$.start,W.to-$.start)),$.target,q[0].from));$=$.prev}if(J&&!--J.depth)J=J.prev}}}}class A4{constructor(Z,$){this.offset=$,this.done=!1,this.cursor=Z.cursor(u.IncludeAnonymous|u.IgnoreMounts)}moveTo(Z){let{cursor:$}=this,J=Z-this.offset;while(!this.done&&$.from<J)if($.to>=Z&&$.enter(J,1,u.IgnoreOverlays|u.ExcludeBuffers));else if(!$.next(!1))this.done=!0}hasNode(Z){if(this.moveTo(Z.from),!this.done&&this.cursor.from+this.offset==Z.from&&this.cursor.tree)for(let $=this.cursor.tree;;){if($==Z.tree)return!0;if($.children.length&&$.positions[0]==0&&$.children[0]instanceof s)$=$.children[0];else break}return!1}}class H1{constructor(Z){var $;if(this.fragments=Z,this.curTo=0,this.fragI=0,Z.length){let J=this.curFrag=Z[0];this.curTo=($=J.tree.prop(M4))!==null&&$!==void 0?$:J.to,this.inner=new A4(J.tree,-J.offset)}else this.curFrag=this.inner=null}hasNode(Z){while(this.curFrag&&Z.from>=this.curTo)this.nextFrag();return this.curFrag&&this.curFrag.from<=Z.from&&this.curTo>=Z.to&&this.inner.hasNode(Z)}nextFrag(){var Z;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let $=this.curFrag=this.fragments[this.fragI];this.curTo=(Z=$.tree.prop(M4))!==null&&Z!==void 0?Z:$.to,this.inner=new A4($.tree,-$.offset)}}findMounts(Z,$){var J;let Q=[];if(this.inner){this.inner.cursor.moveTo(Z,1);for(let X=this.inner.cursor.node;X;X=X.parent){let K=(J=X.tree)===null||J===void 0?void 0:J.prop(y.mounted);if(K&&K.parser==$)for(let Y=this.fragI;Y<this.fragments.length;Y++){let U=this.fragments[Y];if(U.from>=X.to)break;if(U.tree==this.curFrag.tree)Q.push({frag:U,pos:X.from-U.offset,mount:K})}}}return Q}}function jX(Z,$){return Z.length==$.length&&Z.every((J,Q)=>J==$[Q])}function _X(Z){let $=[[]];for(let J=0;J<Z.length;J++)for(let Q=0,X=$.length;Q<X;Q++)$.push($[Q].concat(Z[J]));return $.sort((J,Q)=>Q.length-J.length)}function V9(Z){let $=Object.create(null);for(let J in Z){let Q=Z[J];if(!Array.isArray(Q))Q=[Q];for(let X of J.split(" "))if(X){let K=[],Y=2,U=X;for(let z=0;;){if(U=="..."&&z>0&&z+3==X.length){Y=1;break}let j=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(U);if(!j)throw new RangeError("Invalid path: "+X);if(K.push(j[0]=="*"?"":j[0][0]=='"'?JSON.parse(j[0]):j[0]),z+=j[0].length,z==X.length)break;let _=X[z++];if(z==X.length&&_=="!"){Y=0;break}if(_!="/")throw new RangeError("Invalid path: "+X);U=X.slice(z)}let q=K.length-1,W=K[q];if(!W)throw new RangeError("Invalid path: "+X);let G=new c5(Q,Y,q>0?K.slice(0,q):null);$[W]=G.sort($[W])}}return D1.add($)}function y4(Z,$){let J=Object.create(null);for(let K of Z)if(!Array.isArray(K.tag))J[K.tag.id]=K.class;else for(let Y of K.tag)J[Y.id]=K.class;let{scope:Q,all:X=null}=$||{};return{style:(K)=>{let Y=X;for(let U of K)for(let q of U.set){let W=J[q.id];if(W){Y=Y?Y+" "+W:W;break}}return Y},scope:Q}}function OX(Z,$){let J=null;for(let Q of Z){let X=Q.style($);if(X)J=J?J+" "+X:X}return J}function R1(Z,$,J,Q=0,X=Z.length){let K=new V1(Q,Array.isArray($)?$:[$],J);K.highlightRange(Z.cursor(),Q,X,"",K.highlighters),K.flush(X)}function HX(Z){let $=Z.type.prop(D1);while($&&$.context&&!Z.matchContext($.context))$=$.next;return $||null}var WX=0;class k3{constructor(Z,$,J,Q){this.name=Z,this.set=$,this.base=J,this.modified=Q,this.id=WX++}toString(){let{name:Z}=this;for(let $ of this.modified)if($.name)Z=`${$.name}(${Z})`;return Z}static define(Z,$){let J=typeof Z=="string"?Z:"?";if(Z instanceof k3)$=Z;if($===null||$===void 0?void 0:$.base)throw new Error("Can not derive from a modified tag");let Q=new k3(J,[],null,[]);if(Q.set.push(Q),$)for(let X of $.set)Q.set.push(X);return Q}static defineModifier(Z){let $=new s7(Z);return(J)=>{if(J.modified.indexOf($)>-1)return J;return s7.get(J.base||J,J.modified.concat($).sort((Q,X)=>Q.id-X.id))}}}var zX=0;class s7{constructor(Z){this.name=Z,this.instances=[],this.id=zX++}static get(Z,$){if(!$.length)return Z;let J=$[0].instances.find((Y)=>Y.base==Z&&jX($,Y.modified));if(J)return J;let Q=[],X=new k3(Z.name,Q,Z,$);for(let Y of $)Y.instances.push(X);let K=_X($);for(let Y of Z.set)if(!Y.modified.length)for(let U of K)Q.push(s7.get(Y,U));return X}}var D1=new y;class c5{constructor(Z,$,J,Q){this.tags=Z,this.mode=$,this.context=J,this.next=Q}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Z){if(!Z||Z.depth<this.depth)return this.next=Z,this;return Z.next=this.sort(Z.next),Z}get depth(){return this.context?this.context.length:0}}c5.empty=new c5([],2,null);class V1{constructor(Z,$,J){this.at=Z,this.highlighters=$,this.span=J,this.class=""}startSpan(Z,$){if($!=this.class){if(this.flush(Z),Z>this.at)this.at=Z;this.class=$}}flush(Z){if(Z>this.at&&this.class)this.span(this.at,Z,this.class)}highlightRange(Z,$,J,Q,X){let{type:K,from:Y,to:U}=Z;if(Y>=J||U<=$)return;if(K.isTop)X=this.highlighters.filter((j)=>!j.scope||j.scope(K));let q=Q,W=HX(Z)||c5.empty,G=OX(X,W.tags);if(G){if(q)q+=" ";if(q+=G,W.mode==1)Q+=(Q?" ":"")+G}if(this.startSpan(Math.max($,Y),q),W.opaque)return;let z=Z.tree&&Z.tree.prop(y.mounted);if(z&&z.overlay){let j=Z.node.enter(z.overlay[0].from+Y,1),_=this.highlighters.filter((F)=>!F.scope||F.scope(z.tree.type)),H=Z.firstChild();for(let F=0,N=Y;;F++){let D=F<z.overlay.length?z.overlay[F]:null,M=D?D.from+Y:U,V=Math.max($,N),I=Math.min(J,M);if(V<I&&H){while(Z.from<I)if(this.highlightRange(Z,V,I,Q,X),this.startSpan(Math.min(I,Z.to),q),Z.to>=M||!Z.nextSibling())break}if(!D||M>J)break;if(N=D.to+Y,N>$)this.highlightRange(j.cursor(),Math.max($,D.from+Y),Math.min(J,N),"",_),this.startSpan(Math.min(J,N),q)}if(H)Z.parent()}else if(Z.firstChild()){if(z)Q="";do{if(Z.to<=$)continue;if(Z.from>=J)break;this.highlightRange(Z,$,J,Q,X),this.startSpan(Math.min(J,Z.to),q)}while(Z.nextSibling());Z.parent()}}}var A=k3.define,p7=A(),D9=A(),F1=A(D9),N1=A(D9),R9=A(),d7=A(R9),C4=A(R9),e3=A(),m9=A(e3),o3=A(),t3=A(),T4=A(),d5=A(T4),c7=A(),O={comment:p7,lineComment:A(p7),blockComment:A(p7),docComment:A(p7),name:D9,variableName:A(D9),typeName:F1,tagName:A(F1),propertyName:N1,attributeName:A(N1),className:A(D9),labelName:A(D9),namespace:A(D9),macroName:A(D9),literal:R9,string:d7,docString:A(d7),character:A(d7),attributeValue:A(d7),number:C4,integer:A(C4),float:A(C4),bool:A(R9),regexp:A(R9),escape:A(R9),color:A(R9),url:A(R9),keyword:o3,self:A(o3),null:A(o3),atom:A(o3),unit:A(o3),modifier:A(o3),operatorKeyword:A(o3),controlKeyword:A(o3),definitionKeyword:A(o3),moduleKeyword:A(o3),operator:t3,derefOperator:A(t3),arithmeticOperator:A(t3),logicOperator:A(t3),bitwiseOperator:A(t3),compareOperator:A(t3),updateOperator:A(t3),definitionOperator:A(t3),typeOperator:A(t3),controlOperator:A(t3),punctuation:T4,separator:A(T4),bracket:d5,angleBracket:A(d5),squareBracket:A(d5),paren:A(d5),brace:A(d5),content:e3,heading:m9,heading1:A(m9),heading2:A(m9),heading3:A(m9),heading4:A(m9),heading5:A(m9),heading6:A(m9),contentSeparator:A(e3),list:A(e3),quote:A(e3),emphasis:A(e3),strong:A(e3),link:A(e3),monospace:A(e3),strikethrough:A(e3),inserted:A(),deleted:A(),changed:A(),invalid:A(),meta:c7,documentMeta:A(c7),annotation:A(c7),processingInstruction:A(c7),definition:k3.defineModifier("definition"),constant:k3.defineModifier("constant"),function:k3.defineModifier("function"),standard:k3.defineModifier("standard"),local:k3.defineModifier("local"),special:k3.defineModifier("special")};for(let Z in O){let $=O[Z];if($ instanceof k3)$.name=Z}var aq=y4([{tag:O.link,class:"tok-link"},{tag:O.heading,class:"tok-heading"},{tag:O.emphasis,class:"tok-emphasis"},{tag:O.strong,class:"tok-strong"},{tag:O.keyword,class:"tok-keyword"},{tag:O.atom,class:"tok-atom"},{tag:O.bool,class:"tok-bool"},{tag:O.url,class:"tok-url"},{tag:O.labelName,class:"tok-labelName"},{tag:O.inserted,class:"tok-inserted"},{tag:O.deleted,class:"tok-deleted"},{tag:O.literal,class:"tok-literal"},{tag:O.string,class:"tok-string"},{tag:O.number,class:"tok-number"},{tag:[O.regexp,O.escape,O.special(O.string)],class:"tok-string2"},{tag:O.variableName,class:"tok-variableName"},{tag:O.local(O.variableName),class:"tok-variableName tok-local"},{tag:O.definition(O.variableName),class:"tok-variableName tok-definition"},{tag:O.special(O.variableName),class:"tok-variableName2"},{tag:O.definition(O.propertyName),class:"tok-propertyName tok-definition"},{tag:O.typeName,class:"tok-typeName"},{tag:O.namespace,class:"tok-namespace"},{tag:O.className,class:"tok-className"},{tag:O.macroName,class:"tok-macroName"},{tag:O.propertyName,class:"tok-propertyName"},{tag:O.operator,class:"tok-operator"},{tag:O.comment,class:"tok-comment"},{tag:O.meta,class:"tok-meta"},{tag:O.invalid,class:"tok-invalid"},{tag:O.punctuation,class:"tok-punctuation"}]);function m4(Z){return B.define({combine:Z?($)=>$.concat(Z):void 0})}function I1(Z,$,J){let Q=Z.facet(G5),X=o(Z).topNode;if(!Q||Q.allowsNesting){for(let K=X;K;K=K.enter($,J,u.ExcludeBuffers))if(K.type.isTop)X=K}return X}function o(Z){let $=Z.field(x3.state,!1);return $?$.tree:s.empty}function M1(Z,$,J){return r3.applyChanges(Z,[{fromA:$,toA:J,fromB:$,toB:J}])}function i5(Z){let $=Z.facet(W5);return $.charCodeAt(0)==9?Z.tabSize*$.length:$.length}function n5(Z,$){let J="",Q=Z.tabSize,X=Z.facet(W5)[0];if(X=="\t"){while($>=Q)J+="\t",$-=Q;X=" "}for(let K=0;K<$;K++)J+=X;return J}function u4(Z,$){if(Z instanceof m)Z=new z5(Z);for(let Q of Z.state.facet(NX)){let X=Q(Z,$);if(X!==void 0)return X}let J=o(Z.state);return J.length>=$?DX(Z,J,$):null}function DX(Z,$,J){let Q=$.resolveStack(J),X=Q.node.enterUnfinishedNodesBefore(J);if(X!=Q.node){let K=[];for(let Y=X;Y!=Q.node;Y=Y.parent)K.push(Y);for(let Y=K.length-1;Y>=0;Y--)Q={node:K[Y],next:Q}}return C1(Q,Z,J)}function C1(Z,$,J){for(let Q=Z;Q;Q=Q.next){let X=VX(Q.node);if(X)return X(f4.create($,J,Q))}return 0}function RX(Z){return Z.pos==Z.options.simulateBreak&&Z.options.simulateDoubleBreak}function VX(Z){let $=Z.type.prop(f9);if($)return $;let J=Z.firstChild,Q;if(J&&(Q=J.type.prop(y.closedBy))){let X=Z.lastChild,K=X&&Q.indexOf(X.name)>-1;return(Y)=>y1(Y,!0,1,void 0,K&&!RX(Y)?X.from:void 0)}return Z.parent==null?IX:null}function IX(){return 0}function MX(Z,$){for(let J=$;J;J=J.parent)if(Z==J)return!0;return!1}function AX(Z){let $=Z.node,J=$.childAfter($.from),Q=$.lastChild;if(!J)return null;let X=Z.options.simulateBreak,K=Z.state.doc.lineAt(J.from),Y=X==null||X<=K.from?K.to:Math.min(K.to,X);for(let U=J.to;;){let q=$.childAfter(U);if(!q||q==Q)return null;if(!q.type.isSkipped)return q.from<Y?J:null;U=q.to}}function T1({closing:Z,align:$=!0,units:J=1}){return(Q)=>y1(Q,$,J,Z)}function y1(Z,$,J,Q,X){let K=Z.textAfter,Y=K.match(/^\s*/)[0].length,U=Q&&K.slice(Y,Y+Q.length)==Q||X==Z.pos+Y,q=$?AX(Z):null;if(q)return U?Z.column(q.from):Z.column(q.to);return Z.baseIndent+(U?0:Z.unit*J)}function j5({except:Z,units:$=1}={}){return(J)=>{let Q=Z&&Z.test(J.textAfter);return J.baseIndent+(Q?0:$*J.unit)}}function a7(Z){let{firstChild:$,lastChild:J}=Z;return $&&$.to<J.from?{from:$.to,to:J.type.isError?Z.to:J.from}:null}function k4(Z){let $=Z.facet(w4);return $.length?$:Z.facet(b1)}function k1(Z,$){let J=[LX],Q;if(Z instanceof O5){if(Z.module)J.push(E.styleModule.of(Z.module));Q=Z.themeType}if($===null||$===void 0?void 0:$.fallback)J.push(b1.of(Z));else if(Q)J.push(w4.computeN([E.darkTheme],(X)=>{return X.facet(E.darkTheme)==(Q=="dark")?[Z]:[]}));else J.push(w4.of(Z));return J}function v4(Z,$,J){let Q=Z.prop($<0?y.openedBy:y.closedBy);if(Q)return Q;if(Z.name.length==1){let X=J.indexOf(Z.name);if(X>-1&&X%2==($<0?1:0))return[J[X+$]]}return null}function h4(Z){let $=Z.type.prop(g4);return $?$(Z.node):Z}function g9(Z,$,J,Q={}){let X=Q.maxScanDistance||BX,K=Q.brackets||EX,Y=o(Z),U=Y.resolveInner($,J);for(let q=U;q;q=q.parent){let W=v4(q.type,J,K);if(W&&q.from<q.to){let G=h4(q);if(G&&(J>0?$>=G.from&&$<G.to:$>G.from&&$<=G.to))return PX(Z,$,J,q,G,W,K)}}return CX(Z,$,J,Y,U.type,X,K)}function PX(Z,$,J,Q,X,K,Y){let U=Q.parent,q={from:X.from,to:X.to},W=0,G=U===null||U===void 0?void 0:U.cursor();if(G&&(J<0?G.childBefore(Q.from):G.childAfter(Q.to)))do if(J<0?G.to<=Q.from:G.from>=Q.to){if(W==0&&K.indexOf(G.type.name)>-1&&G.from<G.to){let z=h4(G);return{start:q,end:z?{from:z.from,to:z.to}:void 0,matched:!0}}else if(v4(G.type,J,Y))W++;else if(v4(G.type,-J,Y)){if(W==0){let z=h4(G);return{start:q,end:z&&z.from<z.to?{from:z.from,to:z.to}:void 0,matched:!1}}W--}}while(J<0?G.prevSibling():G.nextSibling());return{start:q,matched:!1}}function CX(Z,$,J,Q,X,K,Y){let U=J<0?Z.sliceDoc($-1,$):Z.sliceDoc($,$+1),q=Y.indexOf(U);if(q<0||q%2==0!=J>0)return null;let W={from:J<0?$-1:$,to:J>0?$+1:$},G=Z.doc.iterRange($,J>0?Z.doc.length:0),z=0;for(let j=0;!G.next().done&&j<=K;){let _=G.value;if(J<0)j+=_.length;let H=$+j*J;for(let F=J>0?0:_.length-1,N=J>0?_.length:-1;F!=N;F+=J){let D=Y.indexOf(_[F]);if(D<0||Q.resolveInner(H+F,1).type!=X)continue;if(D%2==0==J>0)z++;else if(z==1)return{start:W,end:{from:H+F,to:H+F+1},matched:D>>1==q>>1};else z--}if(J>0)j+=_.length}return G.done?{start:W,matched:!1}:null}function x4(Z,$){if(L1.indexOf(Z)>-1)return;L1.push(Z),console.warn($)}function SX(Z,$){let J=[];for(let U of $.split(" ")){let q=[];for(let W of U.split(".")){let G=Z[W]||O[W];if(!G)x4(W,`Unknown highlighting tag ${W}`);else if(typeof G=="function")if(!q.length)x4(W,`Modifier ${W} used at start of tag`);else q=q.map(G);else if(q.length)x4(W,`Tag ${W} used as modifier`);else q=Array.isArray(G)?G:[G]}for(let W of q)J.push(W)}if(!J.length)return 0;let Q=$.replace(/ /g,"_"),X=Q+" "+J.map((U)=>U.id),K=B1[X];if(K)return K.id;let Y=B1[X]=K3.define({id:A1.length,name:Q,props:[V9({[Q]:J})]});return A1.push(Y),Y.id}var S4,U5=new y,n7=new y;class x3{constructor(Z,$,J=[],Q=""){if(this.data=Z,this.name=Q,!m.prototype.hasOwnProperty("tree"))Object.defineProperty(m.prototype,"tree",{get(){return o(this)}});this.parser=$,this.extension=[G5.of(this),m.languageData.of((X,K,Y)=>{let U=I1(X,K,Y),q=U.type.prop(U5);if(!q)return[];let W=X.facet(q),G=U.type.prop(n7);if(G){let z=U.resolve(K-U.from,Y);for(let j of G)if(j.test(z,X)){let _=X.facet(j.facet);return j.type=="replace"?_:_.concat(W)}}return W})].concat(J)}isActiveAt(Z,$,J=-1){return I1(Z,$,J).type.prop(U5)==this.data}findRegions(Z){let $=Z.facet(G5);if(($===null||$===void 0?void 0:$.data)==this.data)return[{from:0,to:Z.doc.length}];if(!$||!$.allowsNesting)return[];let J=[],Q=(X,K)=>{if(X.prop(U5)==this.data){J.push({from:K,to:K+X.length});return}let Y=X.prop(y.mounted);if(Y){if(Y.tree.prop(U5)==this.data){if(Y.overlay)for(let U of Y.overlay)J.push({from:U.from+K,to:U.to+K});else J.push({from:K,to:K+X.length});return}else if(Y.overlay){let U=J.length;if(Q(Y.tree,Y.overlay[0].from+K),J.length>U)return}}for(let U=0;U<X.children.length;U++){let q=X.children[U];if(q instanceof s)Q(q,X.positions[U]+K)}};return Q(o(Z),0),J}get allowsNesting(){return!0}}x3.setState=v.define();class W9 extends x3{constructor(Z,$,J){super(Z,$,[],J);this.parser=$}static define(Z){let $=m4(Z.languageData);return new W9($,Z.parser.configure({props:[U5.add((J)=>J.isTop?$:void 0)]}),Z.name)}configure(Z,$){return new W9(this.data,this.parser.configure(Z),$||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}class E1{constructor(Z){this.doc=Z,this.cursorPos=0,this.string="",this.cursor=Z.iter()}get length(){return this.doc.length}syncTo(Z){return this.string=this.cursor.next(Z-this.cursorPos).value,this.cursorPos=Z+this.string.length,this.cursorPos-this.string.length}chunk(Z){return this.syncTo(Z),this.string}get lineChunks(){return!0}read(Z,$){let J=this.cursorPos-this.string.length;if(Z<J||$>=this.cursorPos)return this.doc.sliceString(Z,$);else return this.string.slice(Z-J,$-J)}}var s5=null;class i7{constructor(Z,$,J=[],Q,X,K,Y,U){this.parser=Z,this.state=$,this.fragments=J,this.tree=Q,this.treeLen=X,this.viewport=K,this.skipped=Y,this.scheduleOn=U,this.parse=null,this.tempSkipped=[]}static create(Z,$,J){return new i7(Z,$,[],s.empty,0,J,[],null)}startParse(){return this.parser.startParse(new E1(this.state.doc),this.fragments)}work(Z,$){if($!=null&&$>=this.state.doc.length)$=void 0;if(this.tree!=s.empty&&this.isDone($!==null&&$!==void 0?$:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var J;if(typeof Z=="number"){let Q=Date.now()+Z;Z=()=>Date.now()>Q}if(!this.parse)this.parse=this.startParse();if($!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>$)&&$<this.state.doc.length)this.parse.stopAt($);for(;;){let Q=this.parse.advance();if(Q)if(this.fragments=this.withoutTempSkipped(r3.addTree(Q,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(J=this.parse.stoppedAt)!==null&&J!==void 0?J:this.state.doc.length,this.tree=Q,this.parse=null,this.treeLen<($!==null&&$!==void 0?$:this.state.doc.length))this.parse=this.startParse();else return!0;if(Z())return!1}})}takeTree(){let Z,$;if(this.parse&&(Z=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)this.parse.stopAt(Z);this.withContext(()=>{while(!($=this.parse.advance()));}),this.treeLen=Z,this.tree=$,this.fragments=this.withoutTempSkipped(r3.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(Z){let $=s5;s5=this;try{return Z()}finally{s5=$}}withoutTempSkipped(Z){for(let $;$=this.tempSkipped.pop();)Z=M1(Z,$.from,$.to);return Z}changes(Z,$){let{fragments:J,tree:Q,treeLen:X,viewport:K,skipped:Y}=this;if(this.takeTree(),!Z.empty){let U=[];if(Z.iterChangedRanges((q,W,G,z)=>U.push({fromA:q,toA:W,fromB:G,toB:z})),J=r3.applyChanges(J,U),Q=s.empty,X=0,K={from:Z.mapPos(K.from,-1),to:Z.mapPos(K.to,1)},this.skipped.length){Y=[];for(let q of this.skipped){let W=Z.mapPos(q.from,1),G=Z.mapPos(q.to,-1);if(W<G)Y.push({from:W,to:G})}}}return new i7(this.parser,$,J,Q,X,K,Y,this.scheduleOn)}updateViewport(Z){if(this.viewport.from==Z.from&&this.viewport.to==Z.to)return!1;this.viewport=Z;let $=this.skipped.length;for(let J=0;J<this.skipped.length;J++){let{from:Q,to:X}=this.skipped[J];if(Q<Z.to&&X>Z.from)this.fragments=M1(this.fragments,Q,X),this.skipped.splice(J--,1)}if(this.skipped.length>=$)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(Z,$){this.skipped.push({from:Z,to:$})}static getSkippingParser(Z){return new class extends p5{createParse($,J,Q){let X=Q[0].from,K=Q[Q.length-1].to;return{parsedPos:X,advance(){let U=s5;if(U){for(let q of Q)U.tempSkipped.push(q);if(Z)U.scheduleOn=U.scheduleOn?Promise.all([U.scheduleOn,Z]):Z}return this.parsedPos=K,new s(K3.none,[],[],K-X)},stoppedAt:null,stopAt(){}}}}}isDone(Z){Z=Math.min(Z,this.state.doc.length);let $=this.fragments;return this.treeLen>=Z&&$.length&&$[0].from==0&&$[0].to>=Z}static get(){return s5}}class q5{constructor(Z){this.context=Z,this.tree=Z.tree}apply(Z){if(!Z.docChanged&&this.tree==this.context.tree)return this;let $=this.context.changes(Z.changes,Z.state),J=this.context.treeLen==Z.startState.doc.length?void 0:Math.max(Z.changes.mapPos(this.context.treeLen),$.viewport.to);if(!$.work(20,J))$.takeTree();return new q5($)}static init(Z){let $=Math.min(3000,Z.doc.length),J=i7.create(Z.facet(G5).parser,Z,{from:0,to:$});if(!J.work(20,$))J.takeTree();return new q5(J)}}x3.state=F3.define({create:q5.init,update(Z,$){for(let J of $.effects)if(J.is(x3.setState))return J.value;if($.startState.facet(G5)!=$.state.facet(G5))return q5.init($.state);return Z.apply($)}});var P1=(Z)=>{let $=setTimeout(()=>Z(),500);return()=>clearTimeout($)};if(typeof requestIdleCallback!="undefined")P1=(Z)=>{let $=-1,J=setTimeout(()=>{$=requestIdleCallback(Z,{timeout:400})},100);return()=>$<0?clearTimeout(J):cancelIdleCallback($)};var b4=typeof navigator!="undefined"&&((S4=navigator.scheduling)===null||S4===void 0?void 0:S4.isInputPending)?()=>navigator.scheduling.isInputPending():null,FX=S3.fromClass(class Z{constructor($){this.view=$,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update($){let J=this.view.state.field(x3.state).context;if(J.updateViewport($.view.viewport)||this.view.viewport.to>J.treeLen)this.scheduleWork();if($.docChanged||$.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(J)}scheduleWork(){if(this.working)return;let{state:$}=this.view,J=$.field(x3.state);if(J.tree!=J.context.tree||!J.context.isDone($.doc.length))this.working=P1(this.work)}work($){this.working=null;let J=Date.now();if(this.chunkEnd<J&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=J+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:Q,viewport:{to:X}}=this.view,K=Q.field(x3.state);if(K.tree==K.context.tree&&K.context.isDone(X+1e5))return;let Y=Date.now()+Math.min(this.chunkBudget,100,$&&!b4?Math.max(25,$.timeRemaining()-5):1e9),U=K.context.treeLen<X&&Q.doc.length>X+1000,q=K.context.work(()=>{return b4&&b4()||Date.now()>Y},X+(U?0:1e5));if(this.chunkBudget-=Date.now()-J,q||this.chunkBudget<=0)K.context.takeTree(),this.view.dispatch({effects:x3.setState.of(new q5(K.context))});if(this.chunkBudget>0&&!(q&&!U))this.scheduleWork();this.checkAsyncSchedule(K.context)}checkAsyncSchedule($){if($.scheduleOn)this.workScheduled++,$.scheduleOn.then(()=>this.scheduleWork()).catch((J)=>z3(this.view.state,J)).then(()=>this.workScheduled--),$.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),G5=B.define({combine(Z){return Z.length?Z[0]:null},enables:(Z)=>[x3.state,FX,E.contentAttributes.compute([Z],($)=>{let J=$.facet(Z);return J&&J.name?{"data-language":J.name}:{}})]});class u9{constructor(Z,$=[]){this.language=Z,this.support=$,this.extension=[Z,$]}}var NX=B.define(),W5=B.define({combine:(Z)=>{if(!Z.length)return"  ";let $=Z[0];if(!$||/\S/.test($)||Array.from($).some((J)=>J!=$[0]))throw new Error("Invalid indent unit: "+JSON.stringify(Z[0]));return $}});class z5{constructor(Z,$={}){this.state=Z,this.options=$,this.unit=i5(Z)}lineAt(Z,$=1){let J=this.state.doc.lineAt(Z),{simulateBreak:Q,simulateDoubleBreak:X}=this.options;if(Q!=null&&Q>=J.from&&Q<=J.to)if(X&&Q==Z)return{text:"",from:Z};else if($<0?Q<Z:Q<=Z)return{text:J.text.slice(Q-J.from),from:Q};else return{text:J.text.slice(0,Q-J.from),from:J.from};return J}textAfterPos(Z,$=1){if(this.options.simulateDoubleBreak&&Z==this.options.simulateBreak)return"";let{text:J,from:Q}=this.lineAt(Z,$);return J.slice(Z-Q,Math.min(J.length,Z+100-Q))}column(Z,$=1){let{text:J,from:Q}=this.lineAt(Z,$),X=this.countColumn(J,Z-Q),K=this.options.overrideIndentation?this.options.overrideIndentation(Q):-1;if(K>-1)X+=K-this.countColumn(J,J.search(/\S|$/));return X}countColumn(Z,$=Z.length){return S9(Z,this.state.tabSize,$)}lineIndent(Z,$=1){let{text:J,from:Q}=this.lineAt(Z,$),X=this.options.overrideIndentation;if(X){let K=X(Q);if(K>-1)return K}return this.countColumn(J,J.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var f9=new y;class f4 extends z5{constructor(Z,$,J){super(Z.state,Z.options);this.base=Z,this.pos=$,this.context=J}get node(){return this.context.node}static create(Z,$,J){return new f4(Z,$,J)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Z){let $=this.state.doc.lineAt(Z.from);for(;;){let J=Z.resolve($.from);while(J.parent&&J.parent.from==J.from)J=J.parent;if(MX(J,Z))break;$=this.state.doc.lineAt(J.from)}return this.lineIndent($.from)}continue(){return C1(this.context.next,this.base,this.pos)}}var S1=(Z)=>Z.baseIndent;var _5=new y;class O5{constructor(Z,$){this.specs=Z;let J;function Q(Y){let U=m3.newName();return(J||(J=Object.create(null)))["."+U]=Y,U}const X=typeof $.all=="string"?$.all:$.all?Q($.all):void 0,K=$.scope;this.scope=K instanceof x3?(Y)=>Y.prop(U5)==K.data:K?(Y)=>Y==K:void 0,this.style=y4(Z.map((Y)=>({tag:Y.tag,class:Y.class||Q(Object.assign({},Y,{tag:null}))})),{all:X}).style,this.module=J?new m3(J):null,this.themeType=$.themeType}static define(Z,$){return new O5(Z,$||{})}}var w4=B.define(),b1=B.define({combine(Z){return Z.length?[Z[0]]:null}});class x1{constructor(Z){this.markCache=Object.create(null),this.tree=o(Z.state),this.decorations=this.buildDeco(Z,k4(Z.state)),this.decoratedTo=Z.viewport.to}update(Z){let $=o(Z.state),J=k4(Z.state),Q=J!=k4(Z.startState),{viewport:X}=Z.view,K=Z.changes.mapPos(this.decoratedTo,1);if($.length<X.to&&!Q&&$.type==this.tree.type&&K>=X.to)this.decorations=this.decorations.map(Z.changes),this.decoratedTo=K;else if($!=this.tree||Z.viewportChanged||Q)this.tree=$,this.decorations=this.buildDeco(Z.view,J),this.decoratedTo=X.to}buildDeco(Z,$){if(!$||!this.tree.length)return c.none;let J=new T9;for(let{from:Q,to:X}of Z.visibleRanges)R1(this.tree,$,(K,Y,U)=>{J.add(K,Y,this.markCache[U]||(this.markCache[U]=c.mark({class:U})))},Q,X);return J.finish()}}var LX=Q9.high(S3.fromClass(x1,{decorations:(Z)=>Z.decorations})),QG=O5.define([{tag:O.meta,color:"#404740"},{tag:O.link,textDecoration:"underline"},{tag:O.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strong,fontWeight:"bold"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.keyword,color:"#708"},{tag:[O.atom,O.bool,O.url,O.contentSeparator,O.labelName],color:"#219"},{tag:[O.literal,O.inserted],color:"#164"},{tag:[O.string,O.deleted],color:"#a11"},{tag:[O.regexp,O.escape,O.special(O.string)],color:"#e40"},{tag:O.definition(O.variableName),color:"#00f"},{tag:O.local(O.variableName),color:"#30a"},{tag:[O.typeName,O.namespace],color:"#085"},{tag:O.className,color:"#167"},{tag:[O.special(O.variableName),O.macroName],color:"#256"},{tag:O.definition(O.propertyName),color:"#00c"},{tag:O.comment,color:"#940"},{tag:O.invalid,color:"#f00"}]);var BX=1e4,EX="()[]{}";var g4=new y;var TX=Object.create(null),A1=[K3.none];var L1=[],B1=Object.create(null),yX=Object.create(null);for(let[Z,$]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yX[Z]=SX(TX,$);var XG={rtl:c.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:i.RTL}),ltr:c.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:i.LTR}),auto:c.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};function i4(Z,$){return({state:J,dispatch:Q})=>{if(J.readOnly)return!1;let X=Z($,J);if(!X)return!1;return Q(J.update(X)),!0}}function n4(Z,$){let J=Z.languageDataAt("commentTokens",$);return J.length?J[0]:{}}function vX(Z,{open:$,close:J},Q,X){let K=Z.sliceDoc(Q-a5,Q),Y=Z.sliceDoc(X,X+a5),U=/\s*$/.exec(K)[0].length,q=/^\s*/.exec(Y)[0].length,W=K.length-U;if(K.slice(W-$.length,W)==$&&Y.slice(q,q+J.length)==J)return{open:{pos:Q-U,margin:U&&1},close:{pos:X+q,margin:q&&1}};let G,z;if(X-Q<=2*a5)G=z=Z.sliceDoc(Q,X);else G=Z.sliceDoc(Q,Q+a5),z=Z.sliceDoc(X-a5,X);let j=/^\s*/.exec(G)[0].length,_=/\s*$/.exec(z)[0].length,H=z.length-_-J.length;if(G.slice(j,j+$.length)==$&&z.slice(H,H+J.length)==J)return{open:{pos:Q+j+$.length,margin:/\s/.test(G.charAt(j+$.length))?1:0},close:{pos:X-_-J.length,margin:/\s/.test(z.charAt(H-1))?1:0}};return null}function hX(Z){let $=[];for(let J of Z.selection.ranges){let Q=Z.doc.lineAt(J.from),X=J.to<=Q.to?Q:Z.doc.lineAt(J.to),K=$.length-1;if(K>=0&&$[K].to>Q.from)$[K].to=X.to;else $.push({from:Q.from+/^\s*/.exec(Q.text)[0].length,to:X.to})}return $}function l1(Z,$,J=$.selection.ranges){let Q=J.map((K)=>n4($,K.from).block);if(!Q.every((K)=>K))return null;let X=J.map((K,Y)=>vX($,Q[Y],K.from,K.to));if(Z!=2&&!X.every((K)=>K))return{changes:$.changes(J.map((K,Y)=>{if(X[Y])return[];return[{from:K.from,insert:Q[Y].open+" "},{from:K.to,insert:" "+Q[Y].close}]}))};else if(Z!=1&&X.some((K)=>K)){let K=[];for(let Y=0,U;Y<X.length;Y++)if(U=X[Y]){let q=Q[Y],{open:W,close:G}=U;K.push({from:W.pos-q.open.length,to:W.pos+W.margin},{from:G.pos-G.margin,to:G.pos+q.close.length})}return{changes:K}}return null}function mX(Z,$,J=$.selection.ranges){let Q=[],X=-1;for(let{from:K,to:Y}of J){let U=Q.length,q=1e9,W=n4($,K).line;if(!W)continue;for(let G=K;G<=Y;){let z=$.doc.lineAt(G);if(z.from>X&&(K==Y||Y>z.from)){X=z.from;let j=/^\s*/.exec(z.text)[0].length,_=j==z.length,H=z.text.slice(j,j+W.length)==W?j:-1;if(j<z.text.length&&j<q)q=j;Q.push({line:z,comment:H,token:W,indent:j,empty:_,single:!1})}G=z.to+1}if(q<1e9){for(let G=U;G<Q.length;G++)if(Q[G].indent<Q[G].line.text.length)Q[G].indent=q}if(Q.length==U+1)Q[U].single=!0}if(Z!=2&&Q.some((K)=>K.comment<0&&(!K.empty||K.single))){let K=[];for(let{line:U,token:q,indent:W,empty:G,single:z}of Q)if(z||!G)K.push({from:U.from+W,insert:q+" "});let Y=$.changes(K);return{changes:Y,selection:$.selection.map(Y,1)}}else if(Z!=1&&Q.some((K)=>K.comment>=0)){let K=[];for(let{line:Y,comment:U,token:q}of Q)if(U>=0){let W=Y.from+U,G=W+q.length;if(Y.text[G-Y.from]==" ")G++;K.push({from:W,to:G})}return{changes:K}}return null}function c1(Z={}){return[d1,p1.of(Z),E.domEventHandlers({beforeinput($,J){let Q=$.inputType=="historyUndo"?s1:$.inputType=="historyRedo"?d4:null;if(!Q)return!1;return $.preventDefault(),Q(J)}})]}function t7(Z,$){return function({state:J,dispatch:Q}){if(!$&&J.readOnly)return!1;let X=J.field(d1,!1);if(!X)return!1;let K=X.pop(Z,J,$);if(!K)return!1;return Q(K),!0}}function o7(Z,$,J,Q){let X=$+1>J+20?$-J-1:0,K=Z.slice(X,$);return K.push(Q),K}function pX(Z,$){let J=[],Q=!1;return Z.iterChangedRanges((X,K)=>J.push(X,K)),$.iterChangedRanges((X,K,Y,U)=>{for(let q=0;q<J.length;){let W=J[q++],G=J[q++];if(U>=W&&Y<=G)Q=!0}}),Q}function dX(Z,$){return Z.ranges.length==$.ranges.length&&Z.ranges.filter((J,Q)=>J.empty!=$.ranges[Q].empty).length===0}function i1(Z,$){return!Z.length?$:!$.length?Z:Z.concat($)}function n1(Z,$){if(!Z.length)return[D3.selection([$])];else{let J=Z[Z.length-1],Q=J.selectionsAfter.slice(Math.max(0,J.selectionsAfter.length-cX));if(Q.length&&Q[Q.length-1].eq($))return Z;return Q.push($),o7(Z,Z.length-1,1e9,J.setSelAfter(Q))}}function sX(Z){let $=Z[Z.length-1],J=Z.slice();return J[Z.length-1]=$.setSelAfter($.selectionsAfter.slice(0,$.selectionsAfter.length-1)),J}function l4(Z,$){if(!Z.length)return Z;let J=Z.length,Q=w3;while(J){let X=iX(Z[J-1],$,Q);if(X.changes&&!X.changes.empty||X.effects.length){let K=Z.slice(0,J);return K[J-1]=X,K}else $=X.mapped,J--,Q=X.selectionsAfter}return Q.length?[D3.selection(Q)]:w3}function iX(Z,$,J){let Q=i1(Z.selectionsAfter.length?Z.selectionsAfter.map((U)=>U.map($)):w3,J);if(!Z.changes)return D3.selection(Q);let X=Z.changes.map($),K=$.mapDesc(Z.changes,!0),Y=Z.mapped?Z.mapped.composeDesc(K):K;return new D3(X,v.mapEffects(Z.effects,$),Y,Z.startSelection.map(K),Q)}function H5(Z,$){return R.create(Z.ranges.map($),Z.mainIndex)}function $9(Z,$){return Z.update({selection:$,scrollIntoView:!0,userEvent:"select"})}function g3({state:Z,dispatch:$},J){let Q=H5(Z.selection,J);if(Q.eq(Z.selection,!0))return!1;return $($9(Z,Q)),!0}function e7(Z,$){return R.cursor($?Z.to:Z.from)}function r1(Z,$){return g3(Z,(J)=>J.empty?Z.moveByChar(J,$):e7(J,$))}function W3(Z){return Z.textDirectionAt(Z.state.selection.main.head)==i.LTR}function e1(Z,$){return g3(Z,(J)=>J.empty?Z.moveByGroup(J,$):e7(J,$))}function oX(Z,$,J){if($.type.prop(J))return!0;let Q=$.to-$.from;return Q&&(Q>2||/[^\s,.;:]/.test(Z.sliceDoc($.from,$.to)))||$.firstChild}function ZZ(Z,$,J){let Q=o(Z).resolveInner($.head),X=J?y.closedBy:y.openedBy;for(let q=$.head;;){let W=J?Q.childAfter(q):Q.childBefore(q);if(!W)break;if(oX(Z,W,X))Q=W;else q=J?W.to:W.from}let K=Q.type.prop(X),Y,U;if(K&&(Y=J?g9(Z,Q.from,1):g9(Z,Q.to,-1))&&Y.matched)U=J?Y.end.to:Y.end.from;else U=J?Q.to:Q.from;return R.cursor(U,J?-1:1)}function Z$(Z,$){return g3(Z,(J)=>{if(!J.empty)return e7(J,$);let Q=Z.moveVertically(J,$);return Q.head!=J.head?Q:Z.moveToLineBoundary(J,$)})}function Q$(Z){let $=Z.scrollDOM.clientHeight<Z.scrollDOM.scrollHeight-2,J=0,Q=0,X;if($){for(let K of Z.state.facet(E.scrollMargins)){let Y=K(Z);if(Y===null||Y===void 0?void 0:Y.top)J=Math.max(Y===null||Y===void 0?void 0:Y.top,J);if(Y===null||Y===void 0?void 0:Y.bottom)Q=Math.max(Y===null||Y===void 0?void 0:Y.bottom,Q)}X=Z.scrollDOM.clientHeight-J-Q}else X=(Z.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:J,marginBottom:Q,selfScroll:$,height:Math.max(Z.defaultLineHeight,X-5)}}function X$(Z,$){let J=Q$(Z),{state:Q}=Z,X=H5(Q.selection,(Y)=>{return Y.empty?Z.moveVertically(Y,$,J.height):e7(Y,$)});if(X.eq(Q.selection))return!1;let K;if(J.selfScroll){let Y=Z.coordsAtPos(Q.selection.main.head),U=Z.scrollDOM.getBoundingClientRect(),q=U.top+J.marginTop,W=U.bottom-J.marginBottom;if(Y&&Y.top>q&&Y.bottom<W)K=E.scrollIntoView(X.main.head,{y:"start",yMargin:Y.top-q})}return Z.dispatch($9(Q,X),{effects:K}),!0}function I9(Z,$,J){let Q=Z.lineBlockAt($.head),X=Z.moveToLineBoundary($,J);if(X.head==$.head&&X.head!=(J?Q.to:Q.from))X=Z.moveToLineBoundary($,J,!1);if(!J&&X.head==Q.from&&Q.length){let K=/^\s*/.exec(Z.state.sliceDoc(Q.from,Math.min(Q.from+100,Q.to)))[0].length;if(K&&$.head!=Q.from+K)X=R.cursor(Q.from+K)}return X}function YK(Z,$,J){let Q=!1,X=H5(Z.selection,(K)=>{let Y=g9(Z,K.head,-1)||g9(Z,K.head,1)||K.head>0&&g9(Z,K.head-1,1)||K.head<Z.doc.length&&g9(Z,K.head+1,-1);if(!Y||!Y.end)return K;Q=!0;let U=Y.start.from==K.head?Y.end.to:Y.end.from;return J?R.range(K.anchor,U):R.cursor(U)});if(!Q)return!1;return $($9(Z,X)),!0}function v3(Z,$){let J=H5(Z.state.selection,(Q)=>{let X=$(Q);return R.range(Q.anchor,X.head,X.goalColumn,X.bidiLevel||void 0)});if(J.eq(Z.state.selection))return!1;return Z.dispatch($9(Z.state,J)),!0}function K$(Z,$){return v3(Z,(J)=>Z.moveByChar(J,$))}function q$(Z,$){return v3(Z,(J)=>Z.moveByGroup(J,$))}function G$(Z,$){return v3(Z,(J)=>Z.moveVertically(J,$))}function j$(Z,$){return v3(Z,(J)=>Z.moveVertically(J,$,Q$(Z).height))}function r5(Z,$){if(Z.state.readOnly)return!1;let J="delete.selection",{state:Q}=Z,X=Q.changeByRange((K)=>{let{from:Y,to:U}=K;if(Y==U){let q=$(K);if(q<Y)J="delete.backward",q=r7(Z,q,!1);else if(q>Y)J="delete.forward",q=r7(Z,q,!0);Y=Math.min(Y,q),U=Math.max(U,q)}else Y=r7(Z,Y,!1),U=r7(Z,U,!0);return Y==U?{range:K}:{changes:{from:Y,to:U},range:R.cursor(Y,Y<K.head?-1:1)}});if(X.changes.empty)return!1;return Z.dispatch(Q.update(X,{scrollIntoView:!0,userEvent:J,effects:J=="delete.selection"?E.announce.of(Q.phrase("Selection deleted")):void 0})),!0}function r7(Z,$,J){if(Z instanceof E)for(let Q of Z.state.facet(E.atomicRanges).map((X)=>X(Z)))Q.between($,$,(X,K)=>{if(X<$&&K>$)$=J?K:X});return $}function $Z(Z){let $=[],J=-1;for(let Q of Z.selection.ranges){let X=Z.doc.lineAt(Q.from),K=Z.doc.lineAt(Q.to);if(!Q.empty&&Q.to==K.from)K=Z.doc.lineAt(Q.to-1);if(J>=X.number){let Y=$[$.length-1];Y.to=K.to,Y.ranges.push(Q)}else $.push({from:X.from,to:K.to,ranges:[Q]});J=K.number+1}return $}function N$(Z,$,J){if(Z.readOnly)return!1;let Q=[],X=[];for(let K of $Z(Z)){if(J?K.to==Z.doc.length:K.from==0)continue;let Y=Z.doc.lineAt(J?K.to+1:K.from-1),U=Y.length+1;if(J){Q.push({from:K.to,to:Y.to},{from:K.from,insert:Y.text+Z.lineBreak});for(let q of K.ranges)X.push(R.range(Math.min(Z.doc.length,q.anchor+U),Math.min(Z.doc.length,q.head+U)))}else{Q.push({from:Y.from,to:K.from},{from:K.to,insert:Z.lineBreak+Y.text});for(let q of K.ranges)X.push(R.range(q.anchor-U,q.head-U))}}if(!Q.length)return!1;return $(Z.update({changes:Q,scrollIntoView:!0,selection:R.create(X,Z.selection.mainIndex),userEvent:"move.line"})),!0}function D$(Z,$,J){if(Z.readOnly)return!1;let Q=[];for(let X of $Z(Z))if(J)Q.push({from:X.from,insert:Z.doc.slice(X.from,X.to)+Z.lineBreak});else Q.push({from:X.to,insert:Z.lineBreak+Z.doc.slice(X.from,X.to)});return $(Z.update({changes:Q,scrollIntoView:!0,userEvent:"input.copyline"})),!0}function kK(Z,$){if(/\(\)|\[\]|\{\}/.test(Z.sliceDoc($-1,$+1)))return{from:$,to:$};let J=o(Z).resolveInner($),Q=J.childBefore($),X=J.childAfter($),K;if(Q&&X&&Q.to<=$&&X.from>=$&&(K=Q.type.prop(y.closedBy))&&K.indexOf(X.name)>-1&&Z.doc.lineAt(Q.to).from==Z.doc.lineAt(X.from).from&&!/\S/.test(Z.sliceDoc(Q.to,X.from)))return{from:Q.to,to:X.from};return null}function R$(Z){return({state:$,dispatch:J})=>{if($.readOnly)return!1;let Q=$.changeByRange((X)=>{let{from:K,to:Y}=X,U=$.doc.lineAt(K),q=!Z&&K==Y&&kK($,K);if(Z)K=Y=(Y<=U.to?U:$.doc.lineAt(Y)).to;let W=new z5($,{simulateBreak:K,simulateDoubleBreak:!!q}),G=u4(W,K);if(G==null)G=S9(/^\s*/.exec($.doc.lineAt(K).text)[0],$.tabSize);while(Y<U.to&&/\s/.test(U.text[Y-U.from]))Y++;if(q)({from:K,to:Y}=q);else if(K>U.from&&K<U.from+100&&!/\S/.test(U.text.slice(0,K)))K=U.from;let z=["",n5($,G)];if(q)z.push(n5($,W.lineIndent(U.from,-1)));return{changes:{from:K,to:Y,insert:b.of(z)},range:R.cursor(K+1+z[1].length)}});return J($.update(Q,{scrollIntoView:!0,userEvent:"input"})),!0}}function a4(Z,$){let J=-1;return Z.changeByRange((Q)=>{let X=[];for(let Y=Q.from;Y<=Q.to;){let U=Z.doc.lineAt(Y);if(U.number>J&&(Q.empty||Q.to>U.from))$(U,X,Q),J=U.number;Y=U.to+1}let K=Z.changes(X);return{changes:X,range:R.range(K.mapPos(Q.anchor,1),K.mapPos(Q.head,1))}})}var bX=(Z)=>{let{state:$}=Z,J=$.doc.lineAt($.selection.main.from),Q=n4(Z.state,J.from);return Q.line?kX(Z):Q.block?wX(Z):!1},kX=i4(mX,0);var xX=i4(l1,0);var wX=i4((Z,$)=>l1(Z,$,hX($)),0),a5=50,p4=V3.define(),uX=V3.define(),fX=B.define(),p1=B.define({combine(Z){return y9(Z,{minDepth:100,newGroupDelay:500,joinToEvent:($,J)=>J},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:($,J)=>(Q,X)=>$(Q,X)||J(Q,X)})}}),d1=F3.define({create(){return Z9.empty},update(Z,$){let J=$.state.facet(p1),Q=$.annotation(p4);if(Q){let q=D3.fromTransaction($,Q.selection),W=Q.side,G=W==0?Z.undone:Z.done;if(q)G=o7(G,G.length,J.minDepth,q);else G=n1(G,$.startState.selection);return new Z9(W==0?Q.rest:G,W==0?G:Q.rest)}let X=$.annotation(uX);if(X=="full"||X=="before")Z=Z.isolate();if($.annotation(a.addToHistory)===!1)return!$.changes.empty?Z.addMapping($.changes.desc):Z;let K=D3.fromTransaction($),Y=$.annotation(a.time),U=$.annotation(a.userEvent);if(K)Z=Z.addChanges(K,Y,U,J,$);else if($.selection)Z=Z.addSelection($.startState.selection,Y,U,J.newGroupDelay);if(X=="full"||X=="after")Z=Z.isolate();return Z},toJSON(Z){return{done:Z.done.map(($)=>$.toJSON()),undone:Z.undone.map(($)=>$.toJSON())}},fromJSON(Z){return new Z9(Z.done.map(D3.fromJSON),Z.undone.map(D3.fromJSON))}});var s1=t7(0,!1),d4=t7(1,!1),gX=t7(0,!0),lX=t7(1,!0);class D3{constructor(Z,$,J,Q,X){this.changes=Z,this.effects=$,this.mapped=J,this.startSelection=Q,this.selectionsAfter=X}setSelAfter(Z){return new D3(this.changes,this.effects,this.mapped,this.startSelection,Z)}toJSON(){var Z,$,J;return{changes:(Z=this.changes)===null||Z===void 0?void 0:Z.toJSON(),mapped:($=this.mapped)===null||$===void 0?void 0:$.toJSON(),startSelection:(J=this.startSelection)===null||J===void 0?void 0:J.toJSON(),selectionsAfter:this.selectionsAfter.map((Q)=>Q.toJSON())}}static fromJSON(Z){return new D3(Z.changes&&e.fromJSON(Z.changes),[],Z.mapped&&h3.fromJSON(Z.mapped),Z.startSelection&&R.fromJSON(Z.startSelection),Z.selectionsAfter.map(R.fromJSON))}static fromTransaction(Z,$){let J=w3;for(let Q of Z.startState.facet(fX)){let X=Q(Z);if(X.length)J=J.concat(X)}if(!J.length&&Z.changes.empty)return null;return new D3(Z.changes.invert(Z.startState.doc),J,void 0,$||Z.startState.selection,w3)}static selection(Z){return new D3(void 0,w3,void 0,void 0,Z)}}var w3=[],cX=200,nX=/^(input\.type|delete)($|\.)/;class Z9{constructor(Z,$,J=0,Q=void 0){this.done=Z,this.undone=$,this.prevTime=J,this.prevUserEvent=Q}isolate(){return this.prevTime?new Z9(this.done,this.undone):this}addChanges(Z,$,J,Q,X){let K=this.done,Y=K[K.length-1];if(Y&&Y.changes&&!Y.changes.empty&&Z.changes&&(!J||nX.test(J))&&(!Y.selectionsAfter.length&&$-this.prevTime<Q.newGroupDelay&&Q.joinToEvent(X,pX(Y.changes,Z.changes))||J=="input.type.compose"))K=o7(K,K.length-1,Q.minDepth,new D3(Z.changes.compose(Y.changes),i1(v.mapEffects(Z.effects,Y.changes),Y.effects),Y.mapped,Y.startSelection,w3));else K=o7(K,K.length,Q.minDepth,Z);return new Z9(K,w3,$,J)}addSelection(Z,$,J,Q){let X=this.done.length?this.done[this.done.length-1].selectionsAfter:w3;if(X.length>0&&$-this.prevTime<Q&&J==this.prevUserEvent&&J&&/^select($|\.)/.test(J)&&dX(X[X.length-1],Z))return this;return new Z9(n1(this.done,Z),this.undone,$,J)}addMapping(Z){return new Z9(l4(this.done,Z),l4(this.undone,Z),this.prevTime,this.prevUserEvent)}pop(Z,$,J){let Q=Z==0?this.done:this.undone;if(Q.length==0)return null;let X=Q[Q.length-1],K=X.selectionsAfter[0]||$.selection;if(J&&X.selectionsAfter.length)return $.update({selection:X.selectionsAfter[X.selectionsAfter.length-1],annotations:p4.of({side:Z,rest:sX(Q),selection:K}),userEvent:Z==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!X.changes)return null;else{let Y=Q.length==1?w3:Q.slice(0,Q.length-1);if(X.mapped)Y=l4(Y,X.mapped);return $.update({changes:X.changes,selection:X.startSelection,effects:X.effects,annotations:p4.of({side:Z,rest:Y,selection:K}),filter:!1,userEvent:Z==0?"undo":"redo",scrollIntoView:!0})}}}Z9.empty=new Z9(w3,w3);var a1=[{key:"Mod-z",run:s1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:d4,preventDefault:!0},{linux:"Ctrl-Shift-z",run:d4,preventDefault:!0},{key:"Mod-u",run:gX,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:lX,preventDefault:!0}],o1=(Z)=>r1(Z,!W3(Z)),t1=(Z)=>r1(Z,W3(Z));var aX=(Z)=>e1(Z,!W3(Z)),rX=(Z)=>e1(Z,W3(Z));var zG=typeof Intl!="undefined"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;var tX=(Z)=>g3(Z,($)=>ZZ(Z.state,$,!W3(Z))),eX=(Z)=>g3(Z,($)=>ZZ(Z.state,$,W3(Z))),$$=(Z)=>Z$(Z,!1),J$=(Z)=>Z$(Z,!0),w1=(Z)=>X$(Z,!1),c4=(Z)=>X$(Z,!0),ZK=(Z)=>g3(Z,($)=>I9(Z,$,!0)),$K=(Z)=>g3(Z,($)=>I9(Z,$,!1)),JK=(Z)=>g3(Z,($)=>I9(Z,$,!W3(Z))),QK=(Z)=>g3(Z,($)=>I9(Z,$,W3(Z))),XK=(Z)=>g3(Z,($)=>R.cursor(Z.lineBlockAt($.head).from,1)),KK=(Z)=>g3(Z,($)=>R.cursor(Z.lineBlockAt($.head).to,-1)),UK=({state:Z,dispatch:$})=>YK(Z,$,!1);var Y$=(Z)=>K$(Z,!W3(Z)),U$=(Z)=>K$(Z,W3(Z));var qK=(Z)=>q$(Z,!W3(Z)),GK=(Z)=>q$(Z,W3(Z));var WK=(Z)=>v3(Z,($)=>ZZ(Z.state,$,!W3(Z))),zK=(Z)=>v3(Z,($)=>ZZ(Z.state,$,W3(Z))),W$=(Z)=>G$(Z,!1),z$=(Z)=>G$(Z,!0),v1=(Z)=>j$(Z,!1),h1=(Z)=>j$(Z,!0),jK=(Z)=>v3(Z,($)=>I9(Z,$,!0)),_K=(Z)=>v3(Z,($)=>I9(Z,$,!1)),OK=(Z)=>v3(Z,($)=>I9(Z,$,!W3(Z))),HK=(Z)=>v3(Z,($)=>I9(Z,$,W3(Z))),FK=(Z)=>v3(Z,($)=>R.cursor(Z.lineBlockAt($.head).from)),NK=(Z)=>v3(Z,($)=>R.cursor(Z.lineBlockAt($.head).to)),m1=({state:Z,dispatch:$})=>{return $($9(Z,{anchor:0})),!0},u1=({state:Z,dispatch:$})=>{return $($9(Z,{anchor:Z.doc.length})),!0},f1=({state:Z,dispatch:$})=>{return $($9(Z,{anchor:Z.selection.main.anchor,head:0})),!0},g1=({state:Z,dispatch:$})=>{return $($9(Z,{anchor:Z.selection.main.anchor,head:Z.doc.length})),!0},DK=({state:Z,dispatch:$})=>{return $(Z.update({selection:{anchor:0,head:Z.doc.length},userEvent:"select"})),!0},RK=({state:Z,dispatch:$})=>{let J=$Z(Z).map(({from:Q,to:X})=>R.range(Q,Math.min(X+1,Z.doc.length)));return $(Z.update({selection:R.create(J),userEvent:"select"})),!0},VK=({state:Z,dispatch:$})=>{let J=H5(Z.selection,(Q)=>{var X;let K=o(Z).resolveStack(Q.from,1);for(let Y=K;Y;Y=Y.next){let{node:U}=Y;if((U.from<Q.from&&U.to>=Q.to||U.to>Q.to&&U.from<=Q.from)&&((X=U.parent)===null||X===void 0?void 0:X.parent))return R.range(U.to,U.from)}return Q});return $($9(Z,J)),!0},IK=({state:Z,dispatch:$})=>{let J=Z.selection,Q=null;if(J.ranges.length>1)Q=R.create([J.main]);else if(!J.main.empty)Q=R.create([R.cursor(J.main.head)]);if(!Q)return!1;return $($9(Z,Q)),!0},_$=(Z,$,J)=>r5(Z,(Q)=>{let X=Q.from,{state:K}=Z,Y=K.doc.lineAt(X),U,q;if(J&&!$&&X>Y.from&&X<Y.from+200&&!/[^ \t]/.test(U=Y.text.slice(0,X-Y.from))){if(U[U.length-1]=="\t")return X-1;let W=S9(U,K.tabSize),G=W%i5(K)||i5(K);for(let z=0;z<G&&U[U.length-1-z]==" ";z++)X--;q=X}else if(q=Q3(Y.text,X-Y.from,$,$)+Y.from,q==X&&Y.number!=($?K.doc.lines:1))q+=$?1:-1;else if(!$&&/[\ufe00-\ufe0f]/.test(Y.text.slice(q-Y.from,X-Y.from)))q=Q3(Y.text,q-Y.from,!1,!1)+Y.from;return q}),s4=(Z)=>_$(Z,!1,!0);var O$=(Z)=>_$(Z,!0,!1),H$=(Z,$)=>r5(Z,(J)=>{let Q=J.head,{state:X}=Z,K=X.doc.lineAt(Q),Y=X.charCategorizer(Q);for(let U=null;;){if(Q==($?K.to:K.from)){if(Q==J.head&&K.number!=($?X.doc.lines:1))Q+=$?1:-1;break}let q=Q3(K.text,Q-K.from,$)+K.from,W=K.text.slice(Math.min(Q,q)-K.from,Math.max(Q,q)-K.from),G=Y(W);if(U!=null&&G!=U)break;if(W!=" "||Q!=J.head)U=G;Q=q}return Q}),F$=(Z)=>H$(Z,!1),MK=(Z)=>H$(Z,!0),AK=(Z)=>r5(Z,($)=>{let J=Z.lineBlockAt($.head).to;return $.head<J?J:Math.min(Z.state.doc.length,$.head+1)});var LK=(Z)=>r5(Z,($)=>{let J=Z.moveToLineBoundary($,!1).head;return $.head>J?J:Math.max(0,$.head-1)}),BK=(Z)=>r5(Z,($)=>{let J=Z.moveToLineBoundary($,!0).head;return $.head<J?J:Math.min(Z.state.doc.length,$.head+1)});var EK=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Z.changeByRange((Q)=>{return{changes:{from:Q.from,to:Q.to,insert:b.of(["",""])},range:R.cursor(Q.from)}});return $(Z.update(J,{scrollIntoView:!0,userEvent:"input"})),!0},PK=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Z.changeByRange((Q)=>{if(!Q.empty||Q.from==0||Q.from==Z.doc.length)return{range:Q};let X=Q.from,K=Z.doc.lineAt(X),Y=X==K.from?X-1:Q3(K.text,X-K.from,!1)+K.from,U=X==K.to?X+1:Q3(K.text,X-K.from,!0)+K.from;return{changes:{from:Y,to:U,insert:Z.doc.slice(X,U).append(Z.doc.slice(Y,X))},range:R.cursor(U)}});if(J.changes.empty)return!1;return $(Z.update(J,{scrollIntoView:!0,userEvent:"move.character"})),!0},CK=({state:Z,dispatch:$})=>N$(Z,$,!1),TK=({state:Z,dispatch:$})=>N$(Z,$,!0),yK=({state:Z,dispatch:$})=>D$(Z,$,!1),SK=({state:Z,dispatch:$})=>D$(Z,$,!0),bK=(Z)=>{if(Z.state.readOnly)return!1;let{state:$}=Z,J=$.changes($Z($).map(({from:X,to:K})=>{if(X>0)X--;else if(K<$.doc.length)K++;return{from:X,to:K}})),Q=H5($.selection,(X)=>{let K=void 0;if(Z.lineWrapping){let Y=Z.lineBlockAt(X.head),U=Z.coordsAtPos(X.head,X.assoc||1);if(U)K=Y.bottom+Z.documentTop-U.bottom+Z.defaultLineHeight/2}return Z.moveVertically(X,!0,K)}).map(J);return Z.dispatch({changes:J,selection:Q,scrollIntoView:!0,userEvent:"delete.line"}),!0};var xK=R$(!1),wK=R$(!0),vK=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Object.create(null),Q=new z5(Z,{overrideIndentation:(K)=>{let Y=J[K];return Y==null?-1:Y}}),X=a4(Z,(K,Y,U)=>{let q=u4(Q,K.from);if(q==null)return;if(!/\S/.test(K.text))q=0;let W=/^\s*/.exec(K.text)[0],G=n5(Z,q);if(W!=G||U.from<K.from+W.length)J[K.from]=q,Y.push({from:K.from,to:K.from+W.length,insert:G})});if(!X.changes.empty)$(Z.update(X,{userEvent:"indent"}));return!0},hK=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;return $(Z.update(a4(Z,(J,Q)=>{Q.push({from:J.from,insert:Z.facet(W5)})}),{userEvent:"input.indent"})),!0},mK=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;return $(Z.update(a4(Z,(J,Q)=>{let X=/^\s*/.exec(J.text)[0];if(!X)return;let K=S9(X,Z.tabSize),Y=0,U=n5(Z,Math.max(0,K-i5(Z)));while(Y<X.length&&Y<U.length&&X.charCodeAt(Y)==U.charCodeAt(Y))Y++;Q.push({from:J.from+Y,to:J.from+X.length,insert:U.slice(Y)})}),{userEvent:"delete.dedent"})),!0},uK=(Z)=>{return Z.setTabFocusMode(),!0};var fK=[{key:"Ctrl-b",run:o1,shift:Y$,preventDefault:!0},{key:"Ctrl-f",run:t1,shift:U$},{key:"Ctrl-p",run:$$,shift:W$},{key:"Ctrl-n",run:J$,shift:z$},{key:"Ctrl-a",run:XK,shift:FK},{key:"Ctrl-e",run:KK,shift:NK},{key:"Ctrl-d",run:O$},{key:"Ctrl-h",run:s4},{key:"Ctrl-k",run:AK},{key:"Ctrl-Alt-h",run:F$},{key:"Ctrl-o",run:EK},{key:"Ctrl-t",run:PK},{key:"Ctrl-v",run:c4}],gK=[{key:"ArrowLeft",run:o1,shift:Y$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:aX,shift:qK,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:JK,shift:OK,preventDefault:!0},{key:"ArrowRight",run:t1,shift:U$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:rX,shift:GK,preventDefault:!0},{mac:"Cmd-ArrowRight",run:QK,shift:HK,preventDefault:!0},{key:"ArrowUp",run:$$,shift:W$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:m1,shift:f1},{mac:"Ctrl-ArrowUp",run:w1,shift:v1},{key:"ArrowDown",run:J$,shift:z$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:u1,shift:g1},{mac:"Ctrl-ArrowDown",run:c4,shift:h1},{key:"PageUp",run:w1,shift:v1},{key:"PageDown",run:c4,shift:h1},{key:"Home",run:$K,shift:_K,preventDefault:!0},{key:"Mod-Home",run:m1,shift:f1},{key:"End",run:ZK,shift:jK,preventDefault:!0},{key:"Mod-End",run:u1,shift:g1},{key:"Enter",run:xK},{key:"Mod-a",run:DK},{key:"Backspace",run:s4,shift:s4},{key:"Delete",run:O$},{key:"Mod-Backspace",mac:"Alt-Backspace",run:F$},{key:"Mod-Delete",mac:"Alt-Delete",run:MK},{mac:"Mod-Backspace",run:LK},{mac:"Mod-Delete",run:BK}].concat(fK.map((Z)=>({mac:Z.key,run:Z.run,shift:Z.shift}))),V$=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:tX,shift:WK},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:eX,shift:zK},{key:"Alt-ArrowUp",run:CK},{key:"Shift-Alt-ArrowUp",run:yK},{key:"Alt-ArrowDown",run:TK},{key:"Shift-Alt-ArrowDown",run:SK},{key:"Escape",run:IK},{key:"Mod-Enter",run:wK},{key:"Alt-l",mac:"Ctrl-l",run:RK},{key:"Mod-i",run:VK,preventDefault:!0},{key:"Mod-[",run:mK},{key:"Mod-]",run:hK},{key:"Mod-Alt-\\",run:vK},{key:"Shift-Mod-k",run:bK},{key:"Shift-Mod-\\",run:UK},{key:"Mod-/",run:bX},{key:"Alt-A",run:xX},{key:"Ctrl-m",mac:"Shift-Alt-m",run:uK}].concat(gK);function o5(Z,$=Uint16Array){if(typeof Z!="string")return Z;let J=null;for(let Q=0,X=0;Q<Z.length;){let K=0;for(;;){let Y=Z.charCodeAt(Q++),U=!1;if(Y==126){K=65535;break}if(Y>=92)Y--;if(Y>=34)Y--;let q=Y-32;if(q>=46)q-=46,U=!0;if(K+=q,U)break;K*=46}if(J)J[X++]=K;else J=new $(K)}return J}function C$(Z,$,J,Q,X,K){let Y=0,U=1<<Q,{dialect:q}=J.p.parser;Z:for(;;){if((U&Z[Y])==0)break;let W=Z[Y+1];for(let _=Y+3;_<W;_+=2)if((Z[_+1]&U)>0){let H=Z[_];if(q.allows(H)&&($.token.value==-1||$.token.value==H||lK(H,$.token.value,X,K))){$.acceptToken(H);break}}let G=$.next,z=0,j=Z[Y+2];if($.next<0&&j>z&&Z[W+j*3-3]==65535){Y=Z[W+j*3-1];continue Z}for(;z<j;){let _=z+j>>1,H=W+_+(_<<1),F=Z[H],N=Z[H+1]||65536;if(G<F)j=_;else if(G>=N)z=_+1;else{Y=Z[H+2],$.advance();continue Z}}break}}function M$(Z,$,J){for(let Q=$,X;(X=Z[Q])!=65535;Q++)if(X==J)return Q-$;return-1}function lK(Z,$,J,Q){let X=M$(J,Q,$);return X<0||M$(J,Q,Z)<X}function A$(Z,$,J){let Q=Z.cursor(u.IncludeAnonymous);Q.moveTo($);for(;;)if(!(J<0?Q.childBefore($):Q.childAfter($)))for(;;){if((J<0?Q.to<$:Q.from>$)&&!Q.type.isError)return J<0?Math.max(0,Math.min(Q.to-1,$-25)):Math.min(Z.length,Math.max(Q.from+1,$+25));if(J<0?Q.prevSibling():Q.nextSibling())break;if(!Q.parent())return J<0?0:Z.length}}function L$(Z,$){for(let J=0;J<$.length;J++){let Q=$[J];if(Q.pos==Z.pos&&Q.sameState(Z)){if($[J].score<Z.score)$[J]=Z;return}}$.push(Z)}function z9(Z,$){return Z[$]|Z[$+1]<<16}function pK(Z){let $=null;for(let J of Z){let Q=J.p.stoppedAt;if((J.pos==J.p.stream.end||Q!=null&&J.pos>Q)&&J.p.parser.stateFlag(J.state,2)&&(!$||$.score<J.score))$=J}return $}function B$(Z){if(Z.external){let $=Z.extend?1:0;return(J,Q)=>Z.external(J,Q)<<1|$}return Z.get}class JZ{constructor(Z,$,J,Q,X,K,Y,U,q,W=0,G){this.p=Z,this.stack=$,this.state=J,this.reducePos=Q,this.pos=X,this.score=K,this.buffer=Y,this.bufferBase=U,this.curContext=q,this.lookAhead=W,this.parent=G}toString(){return`[${this.stack.filter((Z,$)=>$%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Z,$,J=0){let Q=Z.parser.context;return new JZ(Z,[],$,J,J,0,[],0,Q?new t4(Q,Q.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Z,$){this.stack.push(this.state,$,this.bufferBase+this.buffer.length),this.state=Z}reduce(Z){var $;let J=Z>>19,Q=Z&65535,{parser:X}=this.p,K=this.reducePos<this.pos-25;if(K)this.setLookAhead(this.pos);let Y=X.dynamicPrecedence(Q);if(Y)this.score+=Y;if(J==0){if(this.pushState(X.getGoto(this.state,Q,!0),this.reducePos),Q<X.minRepeatTerm)this.storeNode(Q,this.reducePos,this.reducePos,K?8:4,!0);this.reduceContext(Q,this.reducePos);return}let U=this.stack.length-(J-1)*3-(Z&262144?6:0),q=U?this.stack[U-2]:this.p.ranges[0].from,W=this.reducePos-q;if(W>=2000&&!(($=this.p.parser.nodeSet.types[Q])===null||$===void 0?void 0:$.isAnonymous)){if(q==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=W;else if(this.p.lastBigReductionSize<W)this.p.bigReductionCount=1,this.p.lastBigReductionStart=q,this.p.lastBigReductionSize=W}let G=U?this.stack[U-1]:0,z=this.bufferBase+this.buffer.length-G;if(Q<X.minRepeatTerm||Z&131072){let j=X.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(Q,q,j,z+4,!0)}if(Z&262144)this.state=this.stack[U];else{let j=this.stack[U-3];this.state=X.getGoto(j,Q,!0)}while(this.stack.length>U)this.stack.pop();this.reduceContext(Q,q)}storeNode(Z,$,J,Q=4,X=!1){if(Z==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let K=this,Y=this.buffer.length;if(Y==0&&K.parent)Y=K.bufferBase-K.parent.bufferBase,K=K.parent;if(Y>0&&K.buffer[Y-4]==0&&K.buffer[Y-1]>-1){if($==J)return;if(K.buffer[Y-2]>=$){K.buffer[Y-2]=J;return}}}if(!X||this.pos==J)this.buffer.push(Z,$,J,Q);else{let K=this.buffer.length;if(K>0&&this.buffer[K-4]!=0){let Y=!1;for(let U=K;U>0&&this.buffer[U-2]>J;U-=4)if(this.buffer[U-1]>=0){Y=!0;break}if(Y){while(K>0&&this.buffer[K-2]>J)if(this.buffer[K]=this.buffer[K-4],this.buffer[K+1]=this.buffer[K-3],this.buffer[K+2]=this.buffer[K-2],this.buffer[K+3]=this.buffer[K-1],K-=4,Q>4)Q-=4}}this.buffer[K]=Z,this.buffer[K+1]=$,this.buffer[K+2]=J,this.buffer[K+3]=Q}}shift(Z,$,J,Q){if(Z&131072)this.pushState(Z&65535,this.pos);else if((Z&262144)==0){let X=Z,{parser:K}=this.p;if(Q>this.pos||$<=K.maxNode){if(this.pos=Q,!K.stateFlag(X,1))this.reducePos=Q}if(this.pushState(X,J),this.shiftContext($,J),$<=K.maxNode)this.buffer.push($,J,Q,4)}else if(this.pos=Q,this.shiftContext($,J),$<=this.p.parser.maxNode)this.buffer.push($,J,Q,4)}apply(Z,$,J,Q){if(Z&65536)this.reduce(Z);else this.shift(Z,$,J,Q)}useNode(Z,$){let J=this.p.reused.length-1;if(J<0||this.p.reused[J]!=Z)this.p.reused.push(Z),J++;let Q=this.pos;if(this.reducePos=this.pos=Q+Z.length,this.pushState($,Q),this.buffer.push(J,Q,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Z,this,this.p.stream.reset(this.pos-Z.length)))}split(){let Z=this,$=Z.buffer.length;while($>0&&Z.buffer[$-2]>Z.reducePos)$-=4;let J=Z.buffer.slice($),Q=Z.bufferBase+$;while(Z&&Q==Z.bufferBase)Z=Z.parent;return new JZ(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,J,Q,this.curContext,this.lookAhead,Z)}recoverByDelete(Z,$){let J=Z<=this.p.parser.maxNode;if(J)this.storeNode(Z,this.pos,$,4);this.storeNode(0,this.pos,$,J?8:4),this.pos=this.reducePos=$,this.score-=190}canShift(Z){for(let $=new E$(this);;){let J=this.p.parser.stateSlot($.state,4)||this.p.parser.hasAction($.state,Z);if(J==0)return!1;if((J&65536)==0)return!0;$.reduce(J)}}recoverByInsert(Z){if(this.stack.length>=300)return[];let $=this.p.parser.nextStates(this.state);if($.length>8||this.stack.length>=120){let Q=[];for(let X=0,K;X<$.length;X+=2)if((K=$[X+1])!=this.state&&this.p.parser.hasAction(K,Z))Q.push($[X],K);if(this.stack.length<120)for(let X=0;Q.length<8&&X<$.length;X+=2){let K=$[X+1];if(!Q.some((Y,U)=>U&1&&Y==K))Q.push($[X],K)}$=Q}let J=[];for(let Q=0;Q<$.length&&J.length<4;Q+=2){let X=$[Q+1];if(X==this.state)continue;let K=this.split();K.pushState(X,this.pos),K.storeNode(0,K.pos,K.pos,4,!0),K.shiftContext($[Q],this.pos),K.reducePos=this.pos,K.score-=200,J.push(K)}return J}forceReduce(){let{parser:Z}=this.p,$=Z.stateSlot(this.state,5);if(($&65536)==0)return!1;if(!Z.validAction(this.state,$)){let J=$>>19,Q=$&65535,X=this.stack.length-J*3;if(X<0||Z.getGoto(this.stack[X],Q,!1)<0){let K=this.findForcedReduction();if(K==null)return!1;$=K}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce($),!0}findForcedReduction(){let{parser:Z}=this.p,$=[],J=(Q,X)=>{if($.includes(Q))return;return $.push(Q),Z.allActions(Q,(K)=>{if(K&393216);else if(K&65536){let Y=(K>>19)-X;if(Y>1){let U=K&65535,q=this.stack.length-Y*3;if(q>=0&&Z.getGoto(this.stack[q],U,!1)>=0)return Y<<19|65536|U}}else{let Y=J(K,X+1);if(Y!=null)return Y}})};return J(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Z}=this.p;return Z.data[Z.stateSlot(this.state,1)]==65535&&!Z.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Z){if(this.state!=Z.state||this.stack.length!=Z.stack.length)return!1;for(let $=0;$<this.stack.length;$+=3)if(this.stack[$]!=Z.stack[$])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Z){return this.p.parser.dialect.flags[Z]}shiftContext(Z,$){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,Z,this,this.p.stream.reset($)))}reduceContext(Z,$){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Z,this,this.p.stream.reset($)))}emitContext(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Z){if(Z!=this.curContext.context){let $=new t4(this.curContext.tracker,Z);if($.hash!=this.curContext.hash)this.emitContext();this.curContext=$}}setLookAhead(Z){if(Z>this.lookAhead)this.emitLookAhead(),this.lookAhead=Z}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class t4{constructor(Z,$){this.tracker=Z,this.context=$,this.hash=Z.strict?Z.hash($):0}}class E${constructor(Z){this.start=Z,this.state=Z.state,this.stack=Z.stack,this.base=this.stack.length}reduce(Z){let $=Z&65535,J=Z>>19;if(J==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(J-1)*3;let Q=this.start.p.parser.getGoto(this.stack[this.base-3],$,!0);this.state=Q}}class QZ{constructor(Z,$,J){if(this.stack=Z,this.pos=$,this.index=J,this.buffer=Z.buffer,this.index==0)this.maybeNext()}static create(Z,$=Z.bufferBase+Z.buffer.length){return new QZ(Z,$,$-Z.bufferBase)}maybeNext(){let Z=this.stack.parent;if(Z!=null)this.index=this.stack.bufferBase-Z.bufferBase,this.stack=Z,this.buffer=Z.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new QZ(this.stack,this.pos,this.index)}}class t5{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var I$=new t5;class P${constructor(Z,$){this.input=Z,this.ranges=$,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=I$,this.rangeIndex=0,this.pos=this.chunkPos=$[0].from,this.range=$[0],this.end=$[$.length-1].to,this.readNext()}resolveOffset(Z,$){let J=this.range,Q=this.rangeIndex,X=this.pos+Z;while(X<J.from){if(!Q)return null;let K=this.ranges[--Q];X-=J.from-K.to,J=K}while($<0?X>J.to:X>=J.to){if(Q==this.ranges.length-1)return null;let K=this.ranges[++Q];X+=K.from-J.to,J=K}return X}clipPos(Z){if(Z>=this.range.from&&Z<this.range.to)return Z;for(let $ of this.ranges)if($.to>Z)return Math.max(Z,$.from);return this.end}peek(Z){let $=this.chunkOff+Z,J,Q;if($>=0&&$<this.chunk.length)J=this.pos+Z,Q=this.chunk.charCodeAt($);else{let X=this.resolveOffset(Z,1);if(X==null)return-1;if(J=X,J>=this.chunk2Pos&&J<this.chunk2Pos+this.chunk2.length)Q=this.chunk2.charCodeAt(J-this.chunk2Pos);else{let K=this.rangeIndex,Y=this.range;while(Y.to<=J)Y=this.ranges[++K];if(this.chunk2=this.input.chunk(this.chunk2Pos=J),J+this.chunk2.length>Y.to)this.chunk2=this.chunk2.slice(0,Y.to-J);Q=this.chunk2.charCodeAt(0)}}if(J>=this.token.lookAhead)this.token.lookAhead=J+1;return Q}acceptToken(Z,$=0){let J=$?this.resolveOffset($,-1):this.pos;if(J==null||J<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=Z,this.token.end=J}acceptTokenTo(Z,$){this.token.value=Z,this.token.end=$}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Z,chunkPos:$}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Z,this.chunk2Pos=$,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Z=this.input.chunk(this.pos),$=this.pos+Z.length;this.chunk=$>this.range.to?Z.slice(0,this.range.to-this.pos):Z,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Z=1){this.chunkOff+=Z;while(this.pos+Z>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Z-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=Z,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Z,$){if($)this.token=$,$.start=Z,$.lookAhead=Z+1,$.value=$.extended=-1;else this.token=I$;if(this.pos!=Z){if(this.pos=Z,Z==this.end)return this.setDone(),this;while(Z<this.range.from)this.range=this.ranges[--this.rangeIndex];while(Z>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(Z>=this.chunkPos&&Z<this.chunkPos+this.chunk.length)this.chunkOff=Z-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(Z,$){if(Z>=this.chunkPos&&$<=this.chunkPos+this.chunk.length)return this.chunk.slice(Z-this.chunkPos,$-this.chunkPos);if(Z>=this.chunk2Pos&&$<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Z-this.chunk2Pos,$-this.chunk2Pos);if(Z>=this.range.from&&$<=this.range.to)return this.input.read(Z,$);let J="";for(let Q of this.ranges){if(Q.from>=$)break;if(Q.to>Z)J+=this.input.read(Math.max(Q.from,Z),Math.min(Q.to,$))}return J}}class l9{constructor(Z,$){this.data=Z,this.id=$}token(Z,$){let{parser:J}=$.p;C$(this.data,Z,$,this.id,J.data,J.tokenPrecTable)}}l9.prototype.contextual=l9.prototype.fallback=l9.prototype.extend=!1;class p9{constructor(Z,$,J){this.precTable=$,this.elseToken=J,this.data=typeof Z=="string"?o5(Z):Z}token(Z,$){let J=Z.pos,Q=0;for(;;){let X=Z.next<0,K=Z.resolveOffset(1,1);if(C$(this.data,Z,$,0,this.data,this.precTable),Z.token.value>-1)break;if(this.elseToken==null)return;if(!X)Q++;if(K==null)break;Z.reset(K,Z.token)}if(Q)Z.reset(J,Z.token),Z.acceptToken(this.elseToken,Q)}}p9.prototype.contextual=l9.prototype.fallback=l9.prototype.extend=!1;class _3{constructor(Z,$={}){this.token=Z,this.contextual=!!$.contextual,this.fallback=!!$.fallback,this.extend=!!$.extend}}var A3=typeof process!="undefined"&&process.env&&/\bparse\b/.test(process.env.LOG),r4=null;class T${constructor(Z,$){this.fragments=Z,this.nodeSet=$,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Z=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Z){this.safeFrom=Z.openStart?A$(Z.tree,Z.from+Z.offset,1)-Z.offset:Z.from,this.safeTo=Z.openEnd?A$(Z.tree,Z.to+Z.offset,-1)-Z.offset:Z.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Z.tree),this.start.push(-Z.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Z){if(Z<this.nextStart)return null;while(this.fragment&&this.safeTo<=Z)this.nextFragment();if(!this.fragment)return null;for(;;){let $=this.trees.length-1;if($<0)return this.nextFragment(),null;let J=this.trees[$],Q=this.index[$];if(Q==J.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let X=J.children[Q],K=this.start[$]+J.positions[Q];if(K>Z)return this.nextStart=K,null;if(X instanceof s){if(K==Z){if(K<this.safeFrom)return null;let Y=K+X.length;if(Y<=this.safeTo){let U=X.prop(y.lookAhead);if(!U||Y+U<this.fragment.to)return X}}if(this.index[$]++,K+X.length>=Math.max(this.safeFrom,Z))this.trees.push(X),this.start.push(K),this.index.push(0)}else this.index[$]++,this.nextStart=K+X.length}}}class y${constructor(Z,$){this.stream=$,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Z.tokenizers.map((J)=>new t5)}getActions(Z){let $=0,J=null,{parser:Q}=Z.p,{tokenizers:X}=Q,K=Q.stateSlot(Z.state,3),Y=Z.curContext?Z.curContext.hash:0,U=0;for(let q=0;q<X.length;q++){if((1<<q&K)==0)continue;let W=X[q],G=this.tokens[q];if(J&&!W.fallback)continue;if(W.contextual||G.start!=Z.pos||G.mask!=K||G.context!=Y)this.updateCachedToken(G,W,Z),G.mask=K,G.context=Y;if(G.lookAhead>G.end+25)U=Math.max(G.lookAhead,U);if(G.value!=0){let z=$;if(G.extended>-1)$=this.addActions(Z,G.extended,G.end,$);if($=this.addActions(Z,G.value,G.end,$),!W.extend){if(J=G,$>z)break}}}while(this.actions.length>$)this.actions.pop();if(U)Z.setLookAhead(U);if(!J&&Z.pos==this.stream.end)J=new t5,J.value=Z.p.parser.eofTerm,J.start=J.end=Z.pos,$=this.addActions(Z,J.value,J.end,$);return this.mainToken=J,this.actions}getMainToken(Z){if(this.mainToken)return this.mainToken;let $=new t5,{pos:J,p:Q}=Z;return $.start=J,$.end=Math.min(J+1,Q.stream.end),$.value=J==Q.stream.end?Q.parser.eofTerm:0,$}updateCachedToken(Z,$,J){let Q=this.stream.clipPos(J.pos);if($.token(this.stream.reset(Q,Z),J),Z.value>-1){let{parser:X}=J.p;for(let K=0;K<X.specialized.length;K++)if(X.specialized[K]==Z.value){let Y=X.specializers[K](this.stream.read(Z.start,Z.end),J);if(Y>=0&&J.p.parser.dialect.allows(Y>>1)){if((Y&1)==0)Z.value=Y>>1;else Z.extended=Y>>1;break}}}else Z.value=0,Z.end=this.stream.clipPos(Q+1)}putAction(Z,$,J,Q){for(let X=0;X<Q;X+=3)if(this.actions[X]==Z)return Q;return this.actions[Q++]=Z,this.actions[Q++]=$,this.actions[Q++]=J,Q}addActions(Z,$,J,Q){let{state:X}=Z,{parser:K}=Z.p,{data:Y}=K;for(let U=0;U<2;U++)for(let q=K.stateSlot(X,U?2:1);;q+=3){if(Y[q]==65535)if(Y[q+1]==1)q=z9(Y,q+2);else{if(Q==0&&Y[q+1]==2)Q=this.putAction(z9(Y,q+2),$,J,Q);break}if(Y[q]==$)Q=this.putAction(z9(Y,q+1),$,J,Q)}return Q}}class S${constructor(Z,$,J,Q){this.parser=Z,this.input=$,this.ranges=Q,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new P$($,Q),this.tokens=new y$(Z,this.stream),this.topTerm=Z.top[1];let{from:X}=Q[0];this.stacks=[JZ.start(this,Z.top[0],X)],this.fragments=J.length&&this.stream.end-X>Z.bufferLength*4?new T$(J,Z.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Z=this.stacks,$=this.minStackPos,J=this.stacks=[],Q,X;if(this.bigReductionCount>300&&Z.length==1){let[K]=Z;while(K.forceReduce()&&K.stack.length&&K.stack[K.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let K=0;K<Z.length;K++){let Y=Z[K];for(;;){if(this.tokens.mainToken=null,Y.pos>$)J.push(Y);else if(this.advanceStack(Y,J,Z))continue;else{if(!Q)Q=[],X=[];Q.push(Y);let U=this.tokens.getMainToken(Y);X.push(U.value,U.end)}break}}if(!J.length){let K=Q&&pK(Q);if(K){if(A3)console.log("Finish with "+this.stackID(K));return this.stackToTree(K)}if(this.parser.strict){if(A3&&Q)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw new SyntaxError("No parse at "+$)}if(!this.recovering)this.recovering=5}if(this.recovering&&Q){let K=this.stoppedAt!=null&&Q[0].pos>this.stoppedAt?Q[0]:this.runRecovery(Q,X,J);if(K){if(A3)console.log("Force-finish "+this.stackID(K));return this.stackToTree(K.forceAll())}}if(this.recovering){let K=this.recovering==1?1:this.recovering*3;if(J.length>K){J.sort((Y,U)=>U.score-Y.score);while(J.length>K)J.pop()}if(J.some((Y)=>Y.reducePos>$))this.recovering--}else if(J.length>1){Z:for(let K=0;K<J.length-1;K++){let Y=J[K];for(let U=K+1;U<J.length;U++){let q=J[U];if(Y.sameState(q)||Y.buffer.length>500&&q.buffer.length>500)if((Y.score-q.score||Y.buffer.length-q.buffer.length)>0)J.splice(U--,1);else{J.splice(K--,1);continue Z}}}if(J.length>12)J.splice(12,J.length-12)}this.minStackPos=J[0].pos;for(let K=1;K<J.length;K++)if(J[K].pos<this.minStackPos)this.minStackPos=J[K].pos;return null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}advanceStack(Z,$,J){let Q=Z.pos,{parser:X}=this,K=A3?this.stackID(Z)+" -> ":"";if(this.stoppedAt!=null&&Q>this.stoppedAt)return Z.forceReduce()?Z:null;if(this.fragments){let q=Z.curContext&&Z.curContext.tracker.strict,W=q?Z.curContext.hash:0;for(let G=this.fragments.nodeAt(Q);G;){let z=this.parser.nodeSet.types[G.type.id]==G.type?X.getGoto(Z.state,G.type.id):-1;if(z>-1&&G.length&&(!q||(G.prop(y.contextHash)||0)==W)){if(Z.useNode(G,z),A3)console.log(K+this.stackID(Z)+` (via reuse of ${X.getName(G.type.id)})`);return!0}if(!(G instanceof s)||G.children.length==0||G.positions[0]>0)break;let j=G.children[0];if(j instanceof s&&G.positions[0]==0)G=j;else break}}let Y=X.stateSlot(Z.state,4);if(Y>0){if(Z.reduce(Y),A3)console.log(K+this.stackID(Z)+` (via always-reduce ${X.getName(Y&65535)})`);return!0}if(Z.stack.length>=8400)while(Z.stack.length>6000&&Z.forceReduce());let U=this.tokens.getActions(Z);for(let q=0;q<U.length;){let W=U[q++],G=U[q++],z=U[q++],j=q==U.length||!J,_=j?Z:Z.split(),H=this.tokens.mainToken;if(_.apply(W,G,H?H.start:_.pos,z),A3)console.log(K+this.stackID(_)+` (via ${(W&65536)==0?"shift":`reduce of ${X.getName(W&65535)}`} for ${X.getName(G)} @ ${Q}${_==Z?"":", split"})`);if(j)return!0;else if(_.pos>Q)$.push(_);else J.push(_)}return!1}advanceFully(Z,$){let J=Z.pos;for(;;){if(!this.advanceStack(Z,null,null))return!1;if(Z.pos>J)return L$(Z,$),!0}}runRecovery(Z,$,J){let Q=null,X=!1;for(let K=0;K<Z.length;K++){let Y=Z[K],U=$[K<<1],q=$[(K<<1)+1],W=A3?this.stackID(Y)+" -> ":"";if(Y.deadEnd){if(X)continue;if(X=!0,Y.restart(),A3)console.log(W+this.stackID(Y)+" (restarted)");if(this.advanceFully(Y,J))continue}let G=Y.split(),z=W;for(let j=0;G.forceReduce()&&j<10;j++){if(A3)console.log(z+this.stackID(G)+" (via force-reduce)");if(this.advanceFully(G,J))break;if(A3)z=this.stackID(G)+" -> "}for(let j of Y.recoverByInsert(U)){if(A3)console.log(W+this.stackID(j)+" (via recover-insert)");this.advanceFully(j,J)}if(this.stream.end>Y.pos){if(q==Y.pos)q++,U=0;if(Y.recoverByDelete(U,q),A3)console.log(W+this.stackID(Y)+` (via recover-delete ${this.parser.getName(U)})`);L$(Y,J)}else if(!Q||Q.score<Y.score)Q=Y}return Q}stackToTree(Z){return Z.close(),s.build({buffer:QZ.create(Z),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Z.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Z){let $=(r4||(r4=new WeakMap)).get(Z);if(!$)r4.set(Z,$=String.fromCodePoint(this.nextStackID++));return $+Z}}class b${constructor(Z,$,J){this.source=Z,this.flags=$,this.disabled=J}allows(Z){return!this.disabled||this.disabled[Z]==0}}var o4=(Z)=>Z;class e5{constructor(Z){this.start=Z.start,this.shift=Z.shift||o4,this.reduce=Z.reduce||o4,this.reuse=Z.reuse||o4,this.hash=Z.hash||(()=>0),this.strict=Z.strict!==!1}}class j9 extends p5{constructor(Z){super();if(this.wrappers=[],Z.version!=14)throw new RangeError(`Parser version (${Z.version}) doesn't match runtime version (14)`);let $=Z.nodeNames.split(" ");this.minRepeatTerm=$.length;for(let Y=0;Y<Z.repeatNodeCount;Y++)$.push("");let J=Object.keys(Z.topRules).map((Y)=>Z.topRules[Y][1]),Q=[];for(let Y=0;Y<$.length;Y++)Q.push([]);function X(Y,U,q){Q[Y].push([U,U.deserialize(String(q))])}if(Z.nodeProps)for(let Y of Z.nodeProps){let U=Y[0];if(typeof U=="string")U=y[U];for(let q=1;q<Y.length;){let W=Y[q++];if(W>=0)X(W,U,Y[q++]);else{let G=Y[q+-W];for(let z=-W;z>0;z--)X(Y[q++],U,G);q++}}}if(this.nodeSet=new g5($.map((Y,U)=>K3.define({name:U>=this.minRepeatTerm?void 0:Y,id:U,props:Q[U],top:J.indexOf(U)>-1,error:U==0,skipped:Z.skippedNodes&&Z.skippedNodes.indexOf(U)>-1}))),Z.propSources)this.nodeSet=this.nodeSet.extend(...Z.propSources);this.strict=!1,this.bufferLength=Y1;let K=o5(Z.tokenData);this.context=Z.context,this.specializerSpecs=Z.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Y=0;Y<this.specializerSpecs.length;Y++)this.specialized[Y]=this.specializerSpecs[Y].term;this.specializers=this.specializerSpecs.map(B$),this.states=o5(Z.states,Uint32Array),this.data=o5(Z.stateData),this.goto=o5(Z.goto),this.maxTerm=Z.maxTerm,this.tokenizers=Z.tokenizers.map((Y)=>typeof Y=="number"?new l9(K,Y):Y),this.topRules=Z.topRules,this.dialects=Z.dialects||{},this.dynamicPrecedences=Z.dynamicPrecedences||null,this.tokenPrecTable=Z.tokenPrec,this.termNames=Z.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Z,$,J){let Q=new S$(this,Z,$,J);for(let X of this.wrappers)Q=X(Q,Z,$,J);return Q}getGoto(Z,$,J=!1){let Q=this.goto;if($>=Q[0])return-1;for(let X=Q[$+1];;){let K=Q[X++],Y=K&1,U=Q[X++];if(Y&&J)return U;for(let q=X+(K>>1);X<q;X++)if(Q[X]==Z)return U;if(Y)return-1}}hasAction(Z,$){let J=this.data;for(let Q=0;Q<2;Q++)for(let X=this.stateSlot(Z,Q?2:1),K;;X+=3){if((K=J[X])==65535)if(J[X+1]==1)K=J[X=z9(J,X+2)];else if(J[X+1]==2)return z9(J,X+2);else break;if(K==$||K==0)return z9(J,X+1)}return 0}stateSlot(Z,$){return this.states[Z*6+$]}stateFlag(Z,$){return(this.stateSlot(Z,0)&$)>0}validAction(Z,$){return!!this.allActions(Z,(J)=>J==$?!0:null)}allActions(Z,$){let J=this.stateSlot(Z,4),Q=J?$(J):void 0;for(let X=this.stateSlot(Z,1);Q==null;X+=3){if(this.data[X]==65535)if(this.data[X+1]==1)X=z9(this.data,X+2);else break;Q=$(z9(this.data,X+1))}return Q}nextStates(Z){let $=[];for(let J=this.stateSlot(Z,1);;J+=3){if(this.data[J]==65535)if(this.data[J+1]==1)J=z9(this.data,J+2);else break;if((this.data[J+2]&1)==0){let Q=this.data[J+1];if(!$.some((X,K)=>K&1&&X==Q))$.push(this.data[J],Q)}}return $}configure(Z){let $=Object.assign(Object.create(j9.prototype),this);if(Z.props)$.nodeSet=this.nodeSet.extend(...Z.props);if(Z.top){let J=this.topRules[Z.top];if(!J)throw new RangeError(`Invalid top rule name ${Z.top}`);$.top=J}if(Z.tokenizers)$.tokenizers=this.tokenizers.map((J)=>{let Q=Z.tokenizers.find((X)=>X.from==J);return Q?Q.to:J});if(Z.specializers)$.specializers=this.specializers.slice(),$.specializerSpecs=this.specializerSpecs.map((J,Q)=>{let X=Z.specializers.find((Y)=>Y.from==J.external);if(!X)return J;let K=Object.assign(Object.assign({},J),{external:X.to});return $.specializers[Q]=B$(K),K});if(Z.contextTracker)$.context=Z.contextTracker;if(Z.dialect)$.dialect=this.parseDialect(Z.dialect);if(Z.strict!=null)$.strict=Z.strict;if(Z.wrap)$.wrappers=$.wrappers.concat(Z.wrap);if(Z.bufferLength!=null)$.bufferLength=Z.bufferLength;return $}hasWrappers(){return this.wrappers.length>0}getName(Z){return this.termNames?this.termNames[Z]:String(Z<=this.maxNode&&this.nodeSet.types[Z].name||Z)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Z){let $=this.dynamicPrecedences;return $==null?0:$[Z]||0}parseDialect(Z){let $=Object.keys(this.dialects),J=$.map(()=>!1);if(Z)for(let X of Z.split(" ")){let K=$.indexOf(X);if(K>=0)J[K]=!0}let Q=null;for(let X=0;X<$.length;X++)if(!J[X])for(let K=this.dialects[$[X]],Y;(Y=this.data[K++])!=65535;)(Q||(Q=new Uint8Array(this.maxTerm+1)))[Y]=1;return new b$(Z,J,Q)}static deserialize(Z){return new j9(Z)}}function jY(Z){return Z==45||Z==46||Z==58||Z>=65&&Z<=90||Z==95||Z>=97&&Z<=122||Z>=161}function n$(Z){return Z==9||Z==10||Z==13||Z==32}function J8(Z,$){let J=Z.pos+$;if(m$==J&&h$==Z)return v$;let Q=Z.peek($);while(n$(Q))Q=Z.peek(++$);let X="";for(;;){if(!jY(Q))break;X+=String.fromCharCode(Q),Q=Z.peek(++$)}return h$=Z,m$=J,v$=X?X.toLowerCase():Q==_Y||Q==OY?void 0:null}function u$(Z,$){this.name=Z,this.parent=$}function VY(Z){for(;Z;Z=Z.parent)if(Z.name=="svg"||Z.name=="math")return!0;return!1}function X8(Z,$,J){let Q=2+Z.length;return new _3((X)=>{for(let K=0,Y=0,U=0;;U++){if(X.next<0){if(U)X.acceptToken($);break}if(K==0&&X.next==a$||K==1&&X.next==Q8||K>=2&&K<Q&&X.next==Z.charCodeAt(K-2))K++,Y++;else if((K==2||K==Q)&&n$(X.next))Y++;else if(K==Q&&X.next==KZ){if(U>Y)X.acceptToken($,-Y);else X.acceptToken(J,-(Y-2));break}else if((X.next==10||X.next==13)&&U){X.acceptToken($,1);break}else K=Y=0;X.advance()}})}function o$(Z,$){let J=Object.create(null);for(let Q of Z.getChildren(s$)){let X=Q.getChild(JY),K=Q.getChild($8)||Q.getChild(i$);if(X)J[$.read(X.from,X.to)]=!K?"":K.type.id==$8?$.read(K.from+1,K.to-1):$.read(K.from,K.to)}return J}function f$(Z,$){let J=Z.getChild($Y);return J?$.read(J.from,J.to):" "}function Z8(Z,$,J){let Q;for(let X of J)if(!X.attrs||X.attrs(Q||(Q=o$(Z.node.parent.firstChild,$))))return{parser:X.parser};return null}function K8(Z=[],$=[]){let J=[],Q=[],X=[],K=[];for(let U of Z)(U.tag=="script"?J:U.tag=="style"?Q:U.tag=="textarea"?X:K).push(U);let Y=$.length?Object.create(null):null;for(let U of $)(Y[U.name]||(Y[U.name]=[])).push(U);return j1((U,q)=>{let W=U.type.id;if(W==QY)return Z8(U,q,J);if(W==XY)return Z8(U,q,Q);if(W==KY)return Z8(U,q,X);if(W==c$&&K.length){let G=U.node,z=G.firstChild,j=z&&f$(z,q),_;if(j){for(let H of K)if(H.tag==j&&(!H.attrs||H.attrs(_||(_=o$(z,q))))){let F=G.lastChild,N=F.type.id==UY?F.from:G.to;if(N>z.to)return{parser:H.parser,overlay:[{from:z.to,to:N}]}}}}if(Y&&W==s$){let G=U.node,z;if(z=G.firstChild){let j=Y[q.read(z.from,z.to)];if(j)for(let _ of j){if(_.tagName&&_.tagName!=f$(G.parent,q))continue;let H=G.lastChild;if(H.type.id==$8){let F=H.from+1,N=H.lastChild,D=H.to-(N&&N.isError?0:1);if(D>F)return{parser:_.parser,overlay:[{from:F,to:D}]}}else if(H.type.id==i$)return{parser:_.parser,overlay:[{from:H.from,to:H.to}]}}}}return null})}var dK=54,cK=1,sK=55,iK=2,nK=56,aK=3,k$=4,rK=5,XZ=6,g$=7,l$=8,p$=9,d$=10,oK=11,tK=12,eK=13,e4=57,ZY=14,x$=58,c$=20,$Y=22,s$=23,JY=24,$8=26,i$=27,QY=28,XY=31,KY=34,YY=36,UY=37,qY=0,GY=1,WY={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},zY={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},w$={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},v$=null,h$=null,m$=0,a$=60,KZ=62,Q8=47,_Y=63,OY=33,HY=45,FY=[XZ,d$,g$,l$,p$],NY=new e5({start:null,shift(Z,$,J,Q){return FY.indexOf($)>-1?new u$(J8(Q,1)||"",Z):Z},reduce(Z,$){return $==c$&&Z?Z.parent:Z},reuse(Z,$,J,Q){let X=$.type.id;return X==XZ||X==YY?new u$(J8(Q,1)||"",Z):Z},strict:!1}),DY=new _3((Z,$)=>{if(Z.next!=a$){if(Z.next<0&&$.context)Z.acceptToken(e4);return}Z.advance();let J=Z.next==Q8;if(J)Z.advance();let Q=J8(Z,0);if(Q===void 0)return;if(!Q)return Z.acceptToken(J?ZY:XZ);let X=$.context?$.context.name:null;if(J){if(Q==X)return Z.acceptToken(oK);if(X&&zY[X])return Z.acceptToken(e4,-2);if($.dialectEnabled(qY))return Z.acceptToken(tK);for(let K=$.context;K;K=K.parent)if(K.name==Q)return;Z.acceptToken(eK)}else{if(Q=="script")return Z.acceptToken(g$);if(Q=="style")return Z.acceptToken(l$);if(Q=="textarea")return Z.acceptToken(p$);if(WY.hasOwnProperty(Q))return Z.acceptToken(d$);if(X&&w$[X]&&w$[X][Q])Z.acceptToken(e4,-1);else Z.acceptToken(XZ)}},{contextual:!0}),RY=new _3((Z)=>{for(let $=0,J=0;;J++){if(Z.next<0){if(J)Z.acceptToken(x$);break}if(Z.next==HY)$++;else if(Z.next==KZ&&$>=2){if(J>=3)Z.acceptToken(x$,-2);break}else $=0;Z.advance()}}),IY=new _3((Z,$)=>{if(Z.next==Q8&&Z.peek(1)==KZ){let J=$.dialectEnabled(GY)||VY($.context);Z.acceptToken(J?rK:k$,2)}else if(Z.next==KZ)Z.acceptToken(k$,1)}),MY=X8("script",dK,cK),AY=X8("style",sK,iK),LY=X8("textarea",nK,aK),BY=V9({"Text RawText":O.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":O.angleBracket,TagName:O.tagName,"MismatchedCloseTag/TagName":[O.tagName,O.invalid],AttributeName:O.attributeName,"AttributeValue UnquotedAttributeValue":O.attributeValue,Is:O.definitionOperator,"EntityReference CharacterReference":O.character,Comment:O.blockComment,ProcessingInst:O.processingInstruction,DoctypeDecl:O.documentMeta}),r$=j9.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:NY,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[BY],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[MY,AY,LY,IY,DY,RY,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Z7(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z>=161}function JJ(Z){return Z>=48&&Z<=57}var EY=99,t$=1,PY=100,CY=101,e$=2,ZJ=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],TY=58,yY=40,$J=95,SY=91,YZ=45,bY=46,kY=35,xY=37,wY=38,vY=92,hY=10,mY=new _3((Z,$)=>{for(let J=!1,Q=0,X=0;;X++){let{next:K}=Z;if(Z7(K)||K==YZ||K==$J||J&&JJ(K)){if(!J&&(K!=YZ||X>0))J=!0;if(Q===X&&K==YZ)Q++;Z.advance()}else if(K==vY&&Z.peek(1)!=hY){if(Z.advance(),Z.next>-1)Z.advance();J=!0}else{if(J)Z.acceptToken(K==yY?PY:Q==2&&$.canShift(e$)?e$:CY);break}}}),uY=new _3((Z)=>{if(ZJ.includes(Z.peek(-1))){let{next:$}=Z;if(Z7($)||$==$J||$==kY||$==bY||$==SY||$==TY&&Z7(Z.peek(1))||$==YZ||$==wY)Z.acceptToken(EY)}}),fY=new _3((Z)=>{if(!ZJ.includes(Z.peek(-1))){let{next:$}=Z;if($==xY)Z.advance(),Z.acceptToken(t$);if(Z7($)){do Z.advance();while(Z7(Z.next)||JJ(Z.next));Z.acceptToken(t$)}}}),gY=V9({"AtKeyword import charset namespace keyframes media supports":O.definitionKeyword,"from to selector":O.keyword,NamespaceName:O.namespace,KeyframeName:O.labelName,KeyframeRangeName:O.operatorKeyword,TagName:O.tagName,ClassName:O.className,PseudoClassName:O.constant(O.className),IdName:O.labelName,"FeatureName PropertyName":O.propertyName,AttributeName:O.attributeName,NumberLiteral:O.number,KeywordQuery:O.keyword,UnaryQueryOp:O.operatorKeyword,"CallTag ValueName":O.atom,VariableName:O.variableName,Callee:O.operatorKeyword,Unit:O.unit,"UniversalSelector NestingSelector":O.definitionOperator,MatchOp:O.compareOperator,"ChildOp SiblingOp, LogicOp":O.logicOperator,BinOp:O.arithmeticOperator,Important:O.modifier,Comment:O.blockComment,ColorLiteral:O.color,"ParenthesizedContent StringLiteral":O.string,":":O.punctuation,"PseudoOp #":O.derefOperator,"; ,":O.separator,"( )":O.paren,"[ ]":O.squareBracket,"{ }":O.brace}),lY={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},pY={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},dY={__proto__:null,not:132,only:132},QJ=j9.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[gY],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[uY,fY,mY,1,2,3,4,new p9("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:(Z)=>lY[Z]||-1},{term:58,get:(Z)=>pY[Z]||-1},{term:101,get:(Z)=>dY[Z]||-1}],tokenPrec:1200});function U8(){if(!Y8&&typeof document=="object"&&document.body){let{style:Z}=document.body,$=[],J=new Set;for(let Q in Z)if(Q!="cssText"&&Q!="cssFloat"){if(typeof Z[Q]=="string"){if(/[A-Z]/.test(Q))Q=Q.replace(/[A-Z]/g,(X)=>"-"+X.toLowerCase());if(!J.has(Q))$.push(Q),J.add(Q)}}Y8=$.sort().map((Q)=>({type:"property",label:Q}))}return Y8||[]}function iY(Z,$){var J;if(Z.name=="("||Z.type.isError)Z=Z.parent||Z;if(Z.name!="ArgList")return!1;let Q=(J=Z.parent)===null||J===void 0?void 0:J.firstChild;if((Q===null||Q===void 0?void 0:Q.name)!="Callee")return!1;return $.sliceString(Q.from,Q.to)=="var"}function aY(Z){for(let $=Z;;){if($.type.isTop)return $;if(!($=$.parent))return Z}}function UJ(Z,$,J){if($.to-$.from>4096){let Q=YJ.get($);if(Q)return Q;let X=[],K=new Set,Y=$.cursor(u.IncludeAnonymous);if(Y.firstChild())do for(let U of UJ(Z,Y.node,J))if(!K.has(U.label))K.add(U.label),X.push(U);while(Y.nextSibling());return YJ.set($,X),X}else{let Q=[],X=new Set;return $.cursor().iterate((K)=>{var Y;if(J(K)&&K.matchContext(nY)&&((Y=K.node.nextSibling)===null||Y===void 0?void 0:Y.name)==":"){let U=Z.sliceString(K.from,K.to);if(!X.has(U))X.add(U),Q.push({label:U,type:"variable"})}}),Q}}function qJ(){return new u9($7,$7.data.of({autocomplete:oY}))}var Y8=null,XJ=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((Z)=>({type:"class",label:Z})),KJ=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((Z)=>({type:"keyword",label:Z})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((Z)=>({type:"constant",label:Z}))),cY=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((Z)=>({type:"type",label:Z})),M9=/^(\w[\w-]*|-\w[\w-]*|)$/,sY=/^-(-[\w-]*)?$/,YJ=new l5,nY=["Declaration"],rY=(Z)=>($)=>{let{state:J,pos:Q}=$,X=o(J).resolveInner(Q,-1),K=X.type.isError&&X.from==X.to-1&&J.doc.sliceString(X.from,X.to)=="-";if(X.name=="PropertyName"||(K||X.name=="TagName")&&/^(Block|Styles)$/.test(X.resolve(X.to).name))return{from:X.from,options:U8(),validFor:M9};if(X.name=="ValueName")return{from:X.from,options:KJ,validFor:M9};if(X.name=="PseudoClassName")return{from:X.from,options:XJ,validFor:M9};if(Z(X)||($.explicit||K)&&iY(X,J.doc))return{from:Z(X)||K?X.from:Q,options:UJ(J.doc,aY(X),Z),validFor:sY};if(X.name=="TagName"){for(let{parent:q}=X;q;q=q.parent)if(q.name=="Block")return{from:X.from,options:U8(),validFor:M9};return{from:X.from,options:cY,validFor:M9}}if(!$.explicit)return null;let Y=X.resolve(Q),U=Y.childBefore(Q);if(U&&U.name==":"&&Y.name=="PseudoClassSelector")return{from:Q,options:XJ,validFor:M9};if(U&&U.name==":"&&Y.name=="Declaration"||Y.name=="ArgList")return{from:Q,options:KJ,validFor:M9};if(Y.name=="Block"||Y.name=="Styles")return{from:Q,options:U8(),validFor:M9};return null},oY=rY((Z)=>Z.name=="VariableName"),$7=W9.define({name:"css",parser:QJ.configure({props:[f9.add({Declaration:j5()}),_5.add({"Block KeyframeList":a7})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function q8(Z,$){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z==95||Z>=192||!$&&Z>=48&&Z<=57}var tY=312,GJ=1,eY=2,ZU=3,$U=4,JU=313,QU=315,XU=316,KU=5,YU=6,UU=0,G8=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],WJ=125,qU=59,W8=47,GU=42,WU=43,zU=45,jU=60,_U=44,OU=63,HU=46,FU=new e5({start:!1,shift(Z,$){return $==KU||$==YU||$==QU?Z:$==XU},strict:!1}),NU=new _3((Z,$)=>{let{next:J}=Z;if(J==WJ||J==-1||$.context)Z.acceptToken(JU)},{contextual:!0,fallback:!0}),DU=new _3((Z,$)=>{let{next:J}=Z,Q;if(G8.indexOf(J)>-1)return;if(J==W8&&((Q=Z.peek(1))==W8||Q==GU))return;if(J!=WJ&&J!=qU&&J!=-1&&!$.context)Z.acceptToken(tY)},{contextual:!0}),RU=new _3((Z,$)=>{let{next:J}=Z;if(J==WU||J==zU){if(Z.advance(),J==Z.next){Z.advance();let Q=!$.context&&$.canShift(GJ);Z.acceptToken(Q?GJ:eY)}}else if(J==OU&&Z.peek(1)==HU){if(Z.advance(),Z.advance(),Z.next<48||Z.next>57)Z.acceptToken(ZU)}},{contextual:!0}),VU=new _3((Z,$)=>{if(Z.next!=jU||!$.dialectEnabled(UU))return;if(Z.advance(),Z.next==W8)return;let J=0;while(G8.indexOf(Z.next)>-1)Z.advance(),J++;if(q8(Z.next,!0)){Z.advance(),J++;while(q8(Z.next,!1))Z.advance(),J++;while(G8.indexOf(Z.next)>-1)Z.advance(),J++;if(Z.next==_U)return;for(let Q=0;;Q++){if(Q==7){if(!q8(Z.next,!0))return;break}if(Z.next!="extends".charCodeAt(Q))break;Z.advance(),J++}}Z.acceptToken($U,-J)}),IU=V9({"get set async static":O.modifier,"for while do if else switch try catch finally return throw break continue default case":O.controlKeyword,"in of await yield void typeof delete instanceof":O.operatorKeyword,"let var const using function class extends":O.definitionKeyword,"import export from":O.moduleKeyword,"with debugger as new":O.keyword,TemplateString:O.special(O.string),super:O.atom,BooleanLiteral:O.bool,this:O.self,null:O.null,Star:O.modifier,VariableName:O.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":O.function(O.variableName),VariableDefinition:O.definition(O.variableName),Label:O.labelName,PropertyName:O.propertyName,PrivatePropertyName:O.special(O.propertyName),"CallExpression/MemberExpression/PropertyName":O.function(O.propertyName),"FunctionDeclaration/VariableDefinition":O.function(O.definition(O.variableName)),"ClassDeclaration/VariableDefinition":O.definition(O.className),PropertyDefinition:O.definition(O.propertyName),PrivatePropertyDefinition:O.definition(O.special(O.propertyName)),UpdateOp:O.updateOperator,"LineComment Hashbang":O.lineComment,BlockComment:O.blockComment,Number:O.number,String:O.string,Escape:O.escape,ArithOp:O.arithmeticOperator,LogicOp:O.logicOperator,BitOp:O.bitwiseOperator,CompareOp:O.compareOperator,RegExp:O.regexp,Equals:O.definitionOperator,Arrow:O.function(O.punctuation),": Spread":O.punctuation,"( )":O.paren,"[ ]":O.squareBracket,"{ }":O.brace,"InterpolationStart InterpolationEnd":O.special(O.brace),".":O.derefOperator,", ;":O.separator,"@":O.meta,TypeName:O.typeName,TypeDefinition:O.definition(O.typeName),"type enum interface implements namespace module declare":O.definitionKeyword,"abstract global Privacy readonly override":O.modifier,"is keyof unique infer":O.operatorKeyword,JSXAttributeValue:O.attributeValue,JSXText:O.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":O.angleBracket,"JSXIdentifier JSXNameSpacedName":O.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":O.attributeName,"JSXBuiltin/JSXIdentifier":O.standard(O.tagName)}),MU={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},AU={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},LU={__proto__:null,"<":187},zJ=j9.deserialize({version:14,states:"$@QO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO%[Q^O,5;bO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`O!0LbO'#DOO!0|Q7[O,5<dO!1TQWO,5<fO!2pQ$ISO'#GVO!2}QWO'#GWO!3SQWO'#GWO!4rQ$ISO'#G[O!5nQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6aQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6kQWO'#JfO!6yQWO'#JeO!7RQWO'#CuOOQ?Mr'#Cx'#CxO!7ZQWO'#CzOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3SQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9iQ?NdO1G0|O#<PQ?NdO1G0|O#<WQ?NdO1G0|O#<_Q?NdO1G0|O#>uQ?NdO1G0|O#>|Q?NdO1G0|O#AZQ07bO'#CiO#CUQ07bO1G1_O#C]Q07bO'#JnO#CpQ?NdO,5?WOOQ?Mp-E<j-E<jO#E}Q?NdO1G0|O#FzQ?NdO1G0|OOQ?Mr1G0|1G0|O#GzQ7[O'#JwO#HUQWO,5:uO#HZQ?NdO1G1bO#H}Q&jO,5<VO#IVQ&jO,5<WO#I_Q&jO'#FnO#IvQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#I{Q&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#J^Q07bO'#JmO#JhQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#JmQ`O'#KSOOQ?Mr,5<c,5<cO#JuQ`O,5<cO!&_Q7[O'#DQOOOO'#I^'#I^O#JzO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#KVQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#KuQ7[O,5=UO!+hQ7[O'#IsO#LhQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#LrQpO'#CrO#MVQ$ISO'#EoO#NUQ`O'#G`O#NrQpO,5<qO#NyQWO'#KWO9WQWO'#KWO$ XQWO,5<sO!+hQ7[O,5<rO$ ^QWO'#GXO$ oQWO,5<rO$ tQpO'#GUO$!RQpO'#KXO$!]QWO'#KXO!&_Q7[O'#KXO$!bQWO,5<vO$!gQ`O'#GaO!5iQ`O'#GaO$!xQWO'#GcO$!}QWO'#GeO!3SQWO'#GhO$#SQ?MxO'#IpO$#_Q`O,5<zOOQ?Mv,5<z,5<zO$#fQ`O'#GaO$#tQ`O'#GbO$#|Q`O'#GbO$$RQ7[O,5=UO$$cQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$$sQWO'#IuO$%OQWO,5@PO$%WQWO,59aOOQ?Mr,59f,59fO$%zQ!LSO,59rOOQ?Mr'#Jk'#JkO$&mQ7[O,5<iO$'`Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$'jQWO,5<tO$'oQ7[O,5<yO$(PQWO'#JzO!$[Q^O1G2PO$(UQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$(ZQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$*]Q?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$,aQ7[O'#EhOOQ?Mp,5@O,5@OO$,kQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$,|QWO1G0rO$-RQWO'#CiO$-^QWO'#KaO$-fQWO,5=xO$-kQWO'#KaO$-pQWO'#KaO$.OQWO'#I}O$.^QWO,5@zO$.fQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$.mQWO1G3cO$.rQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$.wQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$.|QWO1G3PO$/UQ`O'#G}OOQU1G3R1G3RO!5iQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$/^Q7[O,5=qO9^QWO,5=qO$!}QWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$/lQWO'#K_O$/wQWO,5=tOOQU1G.k1G.kO$/|Q?MxO1G.kO@fQWO1G.kO$0XQWO1G.kO9hQ?MxO1G.kO$2aQrO,5@|O$2nQWO,5@|O9WQWO,5@|O$2yQ^O,5={O$3QQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$3VQ^O1G3qO$7ZQ^O'#HpOOQU1G3t1G3tO$7hQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$7pQ^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$;wQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$;|Q07bO,5:UOOQO,5;],5;]O$<WQ`O'#IaO$<nQWO,5@[OOQ?Mr1G/o1G/oO$<vQ`O'#IgO$=QQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$=YQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$=aQ?MxO1G0jO$=lQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$=zQ?MxO1G0jOOQO1G0Z1G0ZO$>`Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$>jQpO,5<gO$>rQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$>|QWO1G5uO$?UQWO1G6TO$?^QrO1G6UO9WQWO,5?QO$?hQ?NdO1G6RO%[Q^O1G6RO$?xQ?MxO1G6RO$@ZQWO1G6QO$@ZQWO1G6QO9WQWO1G6QO$@cQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$@wQWO,5?TO$(PQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$AVQWO7+(bO$AbQ7[O7+(bO$ApQ?NdO,5=UO$CxQ?NdO,5=WO$FQQ?NdO,5=UO$H`Q?NdO,5=WO$JnQ?NdO,59rO$LsQ?NdO,5<iO$N{Q?NdO,5<kO%#TQ?NdO,5<yOOQ?Mr7+&^7+&^O%%cQ?NdO7+&^O%&VQ^O'#IbO%&dQWO,5@^O%&lQrO,5@^OOQ?Mr1G/|1G/|O%&vQWO7+&gOOQ?Mr7+&g7+&gO%&{Q07bO,5:cO%[Q^O7+&yO%'VQ07bO,5:_O%'dQ07bO,5:gO%'nQ07bO,5:iO%'xQ7[O'#IeO%(SQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%([QtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%(gQWO1G1{OOQ?Mr1G1}1G1}O%(lQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%(sQ?NdO7+'jOOQ?Mr,5?Y,5?YO%)gQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%*VQ7[O,5?]OOQ?Mr-E<o-E<oO%*xQ7[O,5?_OOQ?Mr-E<q-E<qO%+SQpO1G2tO%+ZQpO'#CrO%+qQ7[O'#J}O%+xQ^O'#EqOOQ?Mr1G2]1G2]O%,SQWO'#ImO%,hQWO,5@rO%,hQWO,5@rO%,pQWO,5@rO%,{QWO,5@rOOQO1G2_1G2_O%-ZQ7[O1G2^O!+hQ7[O1G2^O%-kQ$ISO'#IoO%-xQWO,5@sO!&_Q7[O,5@sO%.QQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$(PQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%.[QWO,5<}OOQ?Mp,5=P,5=PO$(PQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5iQ`O,5<{O%.dQWO,5<|O$!xQWO,5<}O%.oQ`O,5<|O!+hQ7[O'#IqO%/`Q7[O1G2pO!+hQ7[O'#IsO%0RQ7[O1G2rO%0]Q7[O1G5lO%0gQ7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%0tQWO1G2XO!+hQ7[O1G2`O%0yQ?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%1mQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%1rQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$AYQWO7+(bO%1|Q?NbO'#CiO%2aQ?NbO,5=QO%3RQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%3WQWO'#I|O%3oQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%3oQWO,5@{O%3wQWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%3|QWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%4RQ?NbO7+(jO!&_Q7[O7+(jO%4]QpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%4dQWO'#K^O%4oQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%6RQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%6YQWO1G3]O%6eQ7[O1G3]O9hQ?MxO1G3_O$!}QWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%6sQWO'#I{O%7XQWO,5@yO%7aQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%7lQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%7qQ?MxO1G6hO%7{Q^O1G3gO%8SQWO1G3gO%8XQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%8`Q^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%8mQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%8rQ`O1G5wO%9WQ07bO1G0wO%9bQWO1G0wOOQO1G/p1G/pO%9mQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$>`Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%9wQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%:SQ?MxO7+&UO%:bQ?NdO7++mO%[Q^O7++mO%:rQWO7++lO%:rQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%:zQWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%;YQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%;bQWO<<K|O%;mQ?NdO,5?]O%=uQ?NdO,5?_O%?}Q?NdO1G2^O%B]Q?NdO1G2pO%DeQ?NdO1G2rO%FmQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%FwQWO1G5xOOQ?Mr<<JR<<JRO%GPQ07bO1G0rO%IWQ07bO1G0|O%I_Q07bO1G0|O%K`Q07bO1G0|O%KgQ07bO1G0|O%MhQ07bO1G0|O& iQ07bO1G0|O& pQ07bO1G0|O& wQ07bO1G0|O&#xQ07bO1G0|O&$PQ07bO1G0|O&$WQ?NdO<<JeO&&OQ07bO1G0|O&&{Q07bO1G0|O&'{Q07bO'#JgO&*OQ07bO1G1bO&*]Q07bO1G0RO&*gQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&*qQWO1G1sO&*vQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&-WQrO'#CiO&-bQWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&-pQWO1G6^O&-pQWO1G6^O&-xQWO1G6^O&.TQ7[O7+'xO&.eQpO,5?ZO&.oQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&.tQpO1G6_O&/OQWO1G6_OOQ?Mp1G2h1G2hO$(PQWO1G2hOOQ?Mp1G2g1G2gO&/WQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&/]QWO1G2iO&/eQWO1G2hO$!xQWO1G2iO&0XQ7[O,5?]OOQ?Mr-E<p-E<pO&0zQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&1UQWO1G/`OOQ?Mr7+'s7+'sO&1ZQ7[O7+'zO&1kQ?NdO<<KVOOQ?Mr<<KV<<KVO&2_QWO1G0wO!&_Q7[O'#IvO&2dQWO,5@tO&4fQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&4mQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&5aQWO,5?hO&5fQWO,5?hOOQO-E<z-E<zO&5tQWO1G6gO&5tQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&5|QWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%4RQ?NbO<<LUOOQU<<LV<<LVO%4]QpO<<LVO&6RQ`O'#IxO&6^QWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%+xQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&6fQ`O,5=rOOQU,5=r,5=rO&6mQ`O'#EdO&7RQ`O'#GcO&7WQWO7+(wO&7]QWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&7eQWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$!}QWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&7pQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&7{QWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&8TQWO7+,SO&8YQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&8_QWO7+)RO&8dQ^O7+)RO&8kQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&8pQWO,5>]OOQU,5>_,5>_O&8uQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&8zQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$>`Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&9UQ?MxO<<IpO&9aQ?NdO<= XO&9qQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&9yQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&:QQWOANAhO%[Q^OANAhO&:YQ?NdO7+'xO&<hQ?NdO,5?]O&>pQ?NdO,5?_O&@xQ?NdO7+'zO&CWQrO1G4hO&CbQ07bO7+&^O&EcQ07bO,5=UO&GgQ07bO,5=WO&GwQ07bO,5=UO&HXQ07bO,5=WO&HiQ07bO,59rO&JlQ07bO,5<iO&LlQ07bO,5<kO&N}Q07bO,5<yO'!pQ07bO7+'jO'!}Q07bO7+'kO'#[QWO,5<[OOQO7+'_7+'_O'#aQ7[O<<KzOOQO1G4s1G4sO'#hQWO1G4sO'#sQWO1G4sO'$RQWO7++xO'$RQWO7++xO!&_Q7[O1G4uO'$ZQpO1G4uO'$eQWO7++yOOQ?Mp7+(S7+(SO'$mQWO7+(TO'$xQpO7+(TOOQ?Mp7+(R7+(RO$(PQWO7+(SO'%PQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO'%UQWO7+(TO'%^Q7[O<<NrOOQ?Mr7+$z7+$zO'%hQpO,5?bOOQO-E<t-E<tO'%rQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'&SQWO1G5SO'&XQWO7+,RO'&XQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'&aQWO,5?dOOQO-E<v-E<vO'&lQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%+xQ^O,5<}O'&vQWO,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&7WQWO<<LcO'&{QWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$!}QWO<<LeO9RQWO<<LeO''TQ`O1G5RO''`QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO''hQWO<= nO''mQWO<= oOOQU<<Lm<<LmO''rQWO<<LmO''wQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'(OQWO<<I}O'(ZQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$>`Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'(eQrOG27SO4UQrOG27SO'(lQWOG27SO'(tQ07bO<<JeO')RQ07bO1G2^O'*tQ07bO,5?]O',tQ07bO,5?_O'.tQ07bO1G2pO'0tQ07bO1G2rO'2tQ07bO<<KVO'3RQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'3`QWO7+*_O'3kQWO<= dO'3sQpO7+*aOOQ?Mp<<Ko<<KoO$(PQWO<<KoOCcQWO<<KoO'3}QWO<<KoOOQ?Mp<<Kn<<KnO'4YQpO<<KoO$(PQWO<<KnO'4aQWO<<KoO!&_Q7[O<<KoOOQO7+*n7+*nO9^QWO7+*nO'4fQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'4nQWO7+,OO&7WQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'4vQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$!}QWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'5OQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$>`Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'5TQrOLD,nO'5[Q07bO7+'xO'6}Q07bO,5?]O'8}Q07bO,5?_O':}Q07bO7+'zO'<pQ7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$(PQWOANAZOCcQWOANAZO'=QQWOANAZOOQ?MpANAYANAYO'=]QpOANAZOOQO<<NY<<NYOOQULD-ZLD-ZO'=dQ07bO7+*jOOQUG27iG27iO&7WQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'=nQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'=xQ?NdOG27QOOQ?MpG26uG26uO$(PQWOG26uOCcQWOG26uO'@WQWOG26uOOQULD-TLD-TO&7WQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQ?MpLD,aLD,aO$(PQWOLD,aOCcQWOLD,aOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'@cQ07bOG27QOOQ?Mp!$( {!$( {O$(PQWO!$( {OOQ?Mp!)9Eg!)9EgO!(oQ^O'#DwO1PQWO'#EUO'BUQrO'#JmO'B]QMnO'#DsO'BdQ^O'#D{O'BkQrO'#CiO'ERQrO'#CiO!(oQ^O'#D}O'EcQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'GfQWO,5<gO!(oQ^O,5;bO'GnQ7[O,5;bO'IXQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'GnQ7[O'#GjO!&_Q7[O'#GlO'GnQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'GnQ7[O'#F}O!&_Q7[O'#GPO'GnQ7[O'#GPO!&_Q7[O'#G_O'GnQ7[O'#G_O!(oQ^O,5:gO'I`Q`O'#D[O!(oQ^O,5@jO'EcQ^O1G0rO'IjQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO'ItQpO'#CrO!&_Q7[O,5<rO'GnQ7[O,5<rO'EcQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'GnQ7[O1G2^O!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO!&_Q7[O1G2`O'GnQ7[O1G2`O'EcQ^O7+'kO'EcQ^O7+&^O!&_Q7[OANAfO'GnQ7[OANAfO'JXQWO'#ElO'J^QWO'#ElO'JfQWO'#F[O'JkQWO'#EvO'JpQWO'#KOO'J{QWO'#J|O'KWQWO,5;WO'K]Q7[O,5<dO'KdQWO'#GWO'KiQWO'#GWO'KnQWO,5<eO'KvQWO,5;WO'LOQ07bO1G1_O'LVQWO,5<rO'L[QWO,5<rO'LaQWO,5<tO'LfQWO,5<tO'LkQWO1G2PO'LpQWO1G0rO'LuQ7[O<<KzO'L|Q7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3SQWO'#GWO!3SQWO'#GWO!3SQWO'#GYO!3SQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%+SQpO1G2tO%+SQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"'NQ~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O;UO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O;VO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$uO(t$}O(u%POg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%VO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y;QO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(RO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y$_Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOu)uO(])vO(^)xO~Ok*RO})zO!P){O(t$}O(u%PO~Og)yO~P!0kOg*SO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P*UO![*VO!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~O!X*YO(O*TO!h(zP~P!1YO#h*[O~O!i*]O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O*_O(QTO(TUO([$uO(t$}O(u%PO~O!X*bO!V({P~P!3XOo*nO!P*fO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO(`!mO~O!Z*kO~P!4|O#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5uOk*sO#]*rOg(YX!Y(YX~O!Y*tOg(XX~O(O&WOg(XP~Op*wO~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%VOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%VO!i%cO~Oh%VO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%VO#]+zO~Oh%VOk+}O![$|O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%VO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(QTO(TUO([VO(j[O(y<xO~O(O;zO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%VOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk=UO})zO!P){O(t$}O(u%PO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5uO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#4kO#o$QO~P#4kOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO([VOa#ji!Y#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#9pO#w#ji~P#9pO#u$SO~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO([VO(t#|O(u#}Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<fO#y$WO~P#<fOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#?TOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O#y;bO#z;cO([VO(m$YO(t#|O(u#}O~O#}.sO~P#AbO#P$dO#];iO$P;iO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mO[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO(t#ji(u#ji~P#DdOk=UO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P#DdO!Y.wOg(kX~P!0kOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;dO!Z(aX~P#AbO!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)uO(])vO(^/WO~O!V/[O~P!&_O(t$}Ok%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#K^O(u%POk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#LPO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1YOo*nO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO~Op'XO!P/fO!X+UO!Z*kO(QTO(TUO(`;wO!Z(sP~P#MjO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*YO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%VOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!4|O!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0kOg%`a!Y%`a#]%`a#}%`a~P!0kO(O&WOg'iX!Y'iX~O!Y*tOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$%]O})zO!P){Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$&UO})zO!P){Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$&wO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0kO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$(fOh%VOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~Om0pO(O0oO~P$*|O!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$|O~O(`(xO!Z)QP~Oh%VOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$0dO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#AbOp!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$_Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%VOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#K^O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#LPO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$%]O#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$&UO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$&wO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#AbO#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO})zO!P){O(u%POk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%)nO})zO!P){Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%*aO(m$YO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O<QO~P!1YOmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0kO!X4YO!V'cX!Y'cX~P!3XO!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O!P4hO(`!mO~O(t$}Ok%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%.wO(u%POk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%/jOg(Yi!Y(Yi~P!0kO#]4mOg(Yi!Y(Yi~P!0kO!h4pO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4tO~O!Y4uO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4xOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4xO~Ob5OO%g5PO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5TO~O`5UO~Oa%lO'u%lO~P#.aO![$|O~P#.aO!Y5^O#]5`O!Z)QX~O!Z5aO~Oo5hOp!nO!P5bO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5gO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5fO~P%4tOk5mO![1aO%f5lO~Oh%VOk5mO![1aO%f5lO~Ob5tO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5vO~O`5zO~O#s5}O&W6OO~PMlO!h6PO~P%[Oa6RO~Oa6RO~P%[Ob2SO!Z6WO&f2RO~P`O!d6YO~O!d6[Oh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#AbO#]6]O!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AbOa%lO#]6fO'u%lO~Oa%lO!d#vO#]6fO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6mO(O%eO~O![']O%f6pO~Ok6tO![']O%f6pO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%)nO#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%*aO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%.wO#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%/jO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#AbOP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%G^O#k;YO~P%G^OP$[OR#zOo;fO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#o#ji~P%IfO#o;[O~P%IfOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O([VO#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#u#ji~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w;`O~P%MoO#w#ji~P%MoO#u;^O~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O([VO(t#|O(u#}O#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#y#ji~P&!OO#y;bO~P&!OOa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mO[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO(t#ji(u#ji~P&$zOk=VO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P&$zO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#AbO#}!oi!Z!oi~P$(fOg'Xa!Y'Xa~P!0kO!Z7WO~O!Y'`a!Z'`a~P#AbOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&+QO!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0kO!V'ca!Y'ca~P#.aO!d7_O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7cO~O!d#vO#s7hO~Oo7iO!d#vO(m'mO~O})zO!P){O(u%POk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&/pO})zO!P){Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&0cO!V7lO~Og$|q!Y$|q#]$|q#}$|q~P!0kOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6[O~O!Y4uO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6pO~P&2lOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7qO~Ob7sO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7wO~O(`(xO!Y'lX!Z'lX~O!Y5^O!Z)Qa~O!Z8QO~P%4tOp!nO!P8RO(QTO(TUO(`!mO(j!sO~O#X8SO~O![1aO~O![1aO%f8UO~Ok8XO![1aO%f8UO~O[8^O!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8bO~O!h8cO~O!h8fO~O!h8fO~P%[Oa8hO~O!d8iO~O!h8jO~O!Y(ri!Z(ri~P#AbOa%lO#]8rO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8uO~P&2lO![']O%f8uO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&/pO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&0cO#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#AbO(t$}OP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&CoO(u%POP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&EsOk=VO})zO!P){O(u%PO~P&CoOk=VO})zO!P){O(t$}O~P&EsOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O})zO!P){OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O})zO!P){OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~Ok=VO})zO!P){O(t$}O(u%PO~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&NlO#}$lq!Y$lq!Z$lq~P#AbO#}$mq!Y$mq!Z$mq~P#AbO!Z9SO~O#}9TO~P!0kO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~Oo9[O!d#vO(m'mO~O!V9]O~P#.aO!V9]O~O!d#vO#s9bO~Og(Yy!Y(Yy~P!0kO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9dO~O!Y0wO!Z)Tq~O#]9hO!Y'la!Z'la~O!Y5^O!Z)Qi~P#AbO!P4hO~O![1aO%f9lO~O(QTO(TUO(`9qO~O!Y1lO!Z)Rq~O!h9tO~O!h9uO~O!h9vO~O!h9vO~P%[O#]9yO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AbO%f:OO~P&2lO![']O%f:OO~O#}#{y!Y#{y!Z#{y~P#AbOP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&NlO})zO!P){O(u%POP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O})zO!P){OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AbO#}#`y!Y#`y!Z#`y~P#AbO!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aOo:YO!d#vO(m'mO~O!V:ZO~P#.aO!V:ZO~O!Y0wO!Z)Ty~O!Y5^O!Z)Qq~O![1aO%f:cO~O!h:fO~O%f:kO~P&2lOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&NlO})zO!P){O(u%POP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O})zO!P){OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&NlOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0kOo:oO!d#vO(m'mO~O!V:pO~P#.aO!Y'lq!Z'lq~P#AbO!Y#e!Z!Z#e!Z~P#AbO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOo:xO!d#vO(m'mO~OP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&NlOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&+QOP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'BxOP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![XO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y;dO!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;oO!P${O![$|O!f=PO!i$xO#g;uO$V%_O$r;qO$t;sO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#t)`O~P'GnOo!bX(m!bX~P# ZO!Z]X!ZfX~P'BxO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h;XO~O!d#vO#h;XO~O#];iO~O#s;]O~O#];xO!Y(rX!Z(rX~O#];iO!Y(pX!Z(pX~O#h;yO~Og;{O~P!0kO#h<RO~O#h<SO~O!d#vO#h<TO~O!d#vO#h;yO~O#}<UO~P#AbO#h<VO~O#h<WO~O#h<]O~O#h<^O~O#h<_O~O#h<`O~O#}<aO~P!0kO#}<bO~P!0kO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$4Q)XPPPPPP)YPP)]P)nP+O/PPPPP5xPP6`PP<V?mP@QP@QPPP@QPBRP@QP@QP@QPBVPB[PByPGrPPPGvPPPPGvJxPPPKOKzPGvPGvPPNYGvPPPGvPGvP!!aGvP!%v!&{!'UP!'x!'|!'x!+YPPPPPPP!+y!&{PP!,Z!-gP!0jGvGv!0o!3z!8b!8b!<`PPP!<hGvPPPPPPPPPPP!?vP!ATPPGv!BfPGvPGvGvGvGvGvPGv!CxP!GRP!JWP!J[!Jf!Jj!JjP!GOP!Jn!JnP!MsP!MwGvGv!M}##RBV@QP@QP@Q@QP#$_@Q@Q#&j@Q#)Z@Q#+`@Q@Q#,O#.]#.]#.b#.k#.]#.wP#.]P@Q#/a@Q#3S@Q@Q5xPPP#6{PPP#7f#7fP#7fP#7|#7fPP#8SP#7yP#7y#8g#7y#9R#9X5u)]#9[)]P#9c#9c#9cP)]P)]P)]P)]PP)]P#9i#9lP#9l)]P#9pP#9sP)]P)]P)]P)]P)]P)])]PP#9y#:P#:[#:b#:h#:n#:t#;S#;Y#;d#;j#;t#;z#<[#<b#=S#=f#=l#=r#>Q#>g#@V#@e#@l#BR#Ba#C|#D[#Db#Dh#Dn#Dx#EO#EU#E`#Er#ExPPPPPPPPPP#FOPPPPPPP#Fs#Iz#KZ#Kb#KjPPP$!sP$!|$%t$,^$,a$,d$-P$-S$-Z$-cP$-i$-lP$.Y$.^$/U$0d$0i$1PPP$1U$1[$1`P$1c$1g$1k$2a$2x$3a$3e$3h$3k$3q$3t$3x$3|R!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5eQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*e$|*V*jQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*lQ1k,]R;v;T%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8rS#q];Q!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U*y%[;n;oQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q5O0wQ5t1lQ6r3UQ7s5PR8x6t'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{t!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5g$|$ti#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ&U|Q'R!eU'X%g*V-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ5O0wQ5X1TQ5t1lQ5w1nQ5x1qQ7s5PQ7v5UQ8a5zQ9g7wR9r8^rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<z<{[#]WZ#W#Z'U(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4}0wQ5R0zQ5W1SQ5s1kQ7r5PQ7u5TQ9c7qR:^9d!O$zi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R!S%wy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5n1fS5r1j1kQ8]5s#^<|#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo<};g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bW%Ti%V*t<xS&X!Q&fQ&Y!RQ&Z!SR+y&V$}%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VT)v$u)wV*y%[;n;oW'X!e%g*V-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4n0`R7{5^'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{$i$^c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5gU*d$|*V*jS/y*e*lQ0S*mQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u;XQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;yS0f+R<TQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4s0g<_Q4y0tS4|0v<`Q6^2aQ6b2mQ6g2tQ7p4zQ8m6`Q8n6cQ8q6hR9x8j$d$]c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S#q];QQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6a2kW6n3P3R3V4wU8t6o6q6sU9}8v8w8yS:i9|:PQ:t:jR:z:uU!wQ']-]T5c1a5e!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5eT#q];Q%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS(y#y#zS.Y(i(j!s<f$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U$fd)Z,eS(l#p'fU*q%R(s3pU0b*x.f7PQ4w0mQ6o3QQ8w6rR:P8xm!tQ!r!v!y!z']'i'j'k-]-m1a5e5gQ'q!uS(b#g1vS-k'h'tQ/k*XQ/w*dQ2v-nQ4U/lS4_/x0SQ7Z4PS7f4e4gQ9V7[Q9Z7cQ9`7iS:X9[9]S:n:Y:ZS:w:o:pR:}:xQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*XQ/v*dQ/|*gQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5p1hQ6i2vQ7Y4PQ7^4US7b4_4gQ7g4fQ8Z5qS9U7Z7[Q9Y7cQ9^7fQ9a7jQ9o8[Q:V9VS:W9Z9]Q:[9`Q:e9pS:m:X:ZS:v:n:pQ:|:wQ;O:}Q<i<dQ<t<mR<u<nV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS#wz!j!r<c$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<i<z%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5q1i1j1kS8[5r5sQ9p8]!r<d$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q<m<yR<n<z%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rY#bWZ#W#Z(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ,f&l!p<e$Z$n)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<h'UU'Y!e%g*VR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8r!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q,e&lQ0m+aQ3Q._Q6r3UR8x6t!b$Tc#Y%o(O(U(p(u)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!P;_)Y)m-R.t2]2`3b3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!f$Vc#Y%o(O(U(p(u)S)T)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!T;a)Y)m-R.t2]2`3b3h3i3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!^$Zc#Y%o(O(U(p(u)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;RQ3}/cz<{)Y)m-R.t2]2`3b3q3y6_6z7T7U7}8l8z9Q9R:`:g<oQ=Q=SR=R=T'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8r!s<y$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5b5m5}6O6R6t8R8X8h!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=VQ*}%`Q/Y)zo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!O$yi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=RQ*^$zU*g$|*V*jQ+O%aQ/}*h#^<k#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn<l;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bQ<p<|Q<q<}Q<r=OR<s=P!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bnoOXst!Z#d%k&o&q&r&t,k,p1|2PS*a${*UQ,y&{Q,z&}R4X/p$|%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ+|&YQ1Y,OQ5[1XR7z5]V*i$|*V*jU*i$|*V*jT5d1a5eU/{*f/f5bS4f0T8RR7j4hQ+d%vQ/|*gQ0r+eQ1g,XQ5p1hQ8Z5qQ9o8[R:e9p!O%Oi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rr)}$v)a*O*p+P/n0Z0[3s4V4q7X7k:U<j<v<wS0V*o0W#^;j#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;k;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!`;|(q)_*W*`.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=T`;}3o6{7O7S8{:Q:T:{S<X.d3ZT<Y6}9O!O%Qi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rv*P$v)a*Q*o+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<wS0X*p0Y#^;l#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;m;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!d<O(q)_*W*`.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=Td<P3o6|6}7S8{8|:Q:R:T:{S<Z.e3[T<[7O9PrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5k1e1fU8T5i5j5nS9k8V8WS:a9j9mQ:q:bR:y:rQ&j!VR,a&fR5w1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)w$uR/V)wQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5eR'g!rQ.x)aR3t.xU#_W%f*UU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6kQ2y.QR6k2zQ)j$lR/O)jQ$phR)p$pQ$`cU)]$`-t;eQ-t;RR;e)mQ/i*XW4R/i4S7]9WU4S/j/k/lS7]4T4UR9W7^$Z)|$v(q)_)a*W*`*o*p*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4i4k4q5Z5]6u6v6w6x6}7O7Q7R7S7X7`7d7k7m7o8{8|8}9X9_:Q:R:S:T:U:]:l:{<j<v<w=S=TQ/q*`U4Z/q4]7aQ4]/sR7a4[S*j$|*VR0P*jr*O$v)a*o*p+P/n0Z0[3s4V4q7X7k:U<j<v<w!`.b(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=TU/`*O.b6{a6{3o6}7O7S8{:Q:T:{Q0W*oQ3Z.dU4j0W3Z9OR9O6}v*Q$v)a*o*p+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<w!d.c(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=TU/b*Q.c6|e6|3o6}7O7S8{8|:Q:R:T:{Q0Y*pQ3[.eU4l0Y3[9PR9P7OQ*u%UR0^*uQ4v0kR7n4vQ+X%iR0j+XQ5_1[S7|5_9iR9i7}Q,S&[R1_,SQ5e1aR8P5eQ1m,^S5u1m8_R8_5wQ0x+lW5Q0x5S7t9eQ5S0{Q7t5RR9e7uQ+q&OR1O+qQ2P,pR6V2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6U1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*iQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4y0tQ5V1RQ5Y1VQ5o1gQ5y1rQ6T1{U6d2p2s2vQ6g2tQ7p4zQ7x5XQ7y5ZQ8O5dQ8Y5pQ8`5xS8o6e6iQ8q6hQ9f7vQ9n8ZQ9s8aQ9z8pQ:_9gQ:d9oQ:h9{R:s:eQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*dS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4z0uQ6`2gQ6c2nQ6h2uR7e4dS$wi<xR*v%VU%Ui%V<xR0]*tQ$viS(q#v+cS)_$b$cQ)a$dQ*W$xS*`${*UQ*o%OQ*p%QQ*z%]Q*{%^Q+P%bQ.d;jQ.e;lQ.g;pQ.h;rQ.i;tQ/U)uS/Z){/]Q/_)}Q/a*PQ/c*RQ/n*[S/s*b/eQ0Z*rQ0[*sh0k+`.^1c3T5l6p8U8u9l:O:c:kQ1V+zQ1X+}Q3W;|Q3X<OQ3Y<RS3o;g;hQ3s.wQ4V/oQ4W/pQ4[/rQ4i0VQ4k0XQ4q0dQ5Z1WQ5]1ZQ6u<VQ6v<XQ6w<ZQ6x<]Q6};kQ7O;mQ7Q;qQ7R;sQ7S;uQ7X3}Q7`4YQ7d4bQ7k4mQ7m4uQ7o4xQ8{<SQ8|;}Q8}<PQ9X7_Q9_7hQ:Q<WQ:R<YQ:S<[Q:T<^Q:U9TQ:]9bQ:l<aQ:{<bQ<j<xQ<v=QQ<w=RQ=S=UR=T=VQ*x%[Q.f;nR7P;onpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5b8RQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4o0aQ5j1dQ5{1tQ5|1uQ6Q1wQ6S1yQ6X2RQ6s3UQ7V3uQ8W5mQ8d5}Q8e6OQ8g6RQ8y6tQ9m8XR9w8h#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5b5m5}6O6R6t8R8X8hQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)Y$ZQ)[$_Q)^$aQ)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r;PQ.t;SQ.u;TQ.v;WQ/X)yQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b;XQ3c;YQ3d;ZQ3e;[Q3f;]Q3g;^Q3h;_Q3i;`Q3j;aQ3k;bQ3l;cQ3m.sQ3n;fQ3q;iQ3r;vQ3y;dQ4r0gQ4{0vQ6_;xQ6e2rQ6j2xQ6y3^Q6z;yQ7T;{Q7U<TQ7}5`Q8l6]Q8p6fQ8z<UQ9Q<_Q9R<`Q9{8rQ:`9hQ:g9yQ;R#SR<o<{R#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5e5gS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5eQ#p]R'f;QR)b$dY!uQ']-]1a5eQ'h!rS'r!v!yS't!z5gS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6l2|2}R8s6md#^W#W#Z%f(P(Y*U+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6mS*X$x*]Q/l*YQ1v,gQ2^,}Q4P/hQ6Z2UQ7[4QQ8k6[T<g'U+UV#aW%f*UU#`W%f*US(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*VQ$lfR)t$qT)i$l)jR3w.|T*Z$x*]T*c${*UQ0l+`Q3P.^Q5i1cQ6q3TQ8V5lQ8v6pQ9j8UQ9|8uQ:b9lQ:j:OQ:r:cR:u:knqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"\u26A0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:FU,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[IU],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[DU,RU,VU,2,3,4,5,6,7,8,9,10,11,12,13,14,NU,new p9("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new p9("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14725},dynamicPrecedences:{"77":1,"79":1,"91":1,"167":1,"196":1},specialized:[{term:322,get:(Z)=>MU[Z]||-1},{term:338,get:(Z)=>AU[Z]||-1},{term:92,get:(Z)=>LU[Z]||-1}],tokenPrec:14749});function jJ(Z){let $=Object.keys(Z).join(""),J=/\w/.test($);if(J)$=$.replace(/\w/g,"");return`[${J?"\\w":""}${$.replace(/[^\w\s]/g,"\\$&")}]`}function BU(Z){let $=Object.create(null),J=Object.create(null);for(let{label:X}of Z){$[X[0]]=!0;for(let K=1;K<X.length;K++)J[X[K]]=!0}let Q=jJ($)+jJ(J)+"*$";return[new RegExp("^"+Q),new RegExp(Q)]}function O8(Z){let $=Z.map((X)=>typeof X=="string"?{label:X}:X),[J,Q]=$.every((X)=>/^\w+$/.test(X.label))?[/\w*$/,/\w+$/]:BU($);return(X)=>{let K=X.matchBefore(Q);return K||X.explicit?{from:K?K.from:X.pos,options:$,validFor:J}:null}}function DJ(Z,$){return(J)=>{for(let Q=o(J.state).resolveInner(J.pos,-1);Q;Q=Q.parent){if(Z.indexOf(Q.name)>-1)return null;if(Q.type.isTop)break}return $(J)}}function A9(Z){return Z.selection.main.from}function RJ(Z,$){var J;let{source:Q}=Z,X=$&&Q[0]!="^",K=Q[Q.length-1]!="$";if(!X&&!K)return Z;return new RegExp(`${X?"^":""}(?:${Q})${K?"$":""}`,(J=Z.flags)!==null&&J!==void 0?J:Z.ignoreCase?"i":"")}function EU(Z,$,J,Q){let{main:X}=Z.selection,K=J-X.from,Y=Q-X.from;return Object.assign(Object.assign({},Z.changeByRange((U)=>{if(U!=X&&J!=Q&&Z.sliceDoc(U.from+K,U.from+Y)!=Z.sliceDoc(J,Q))return{range:U};return{changes:{from:U.from+K,to:Q==X.from?U.to:U.from+Y,insert:$},range:R.cursor(U.from+K+$.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}function PU(Z){if(!Array.isArray(Z))return Z;let $=_J.get(Z);if(!$)_J.set(Z,$=O8(Z));return $}function OJ(Z,$){return Z?$?Z+" "+$:Z:$}function CU(Z,$,J,Q,X,K){let Y=Z.textDirection==i.RTL,U=Y,q=!1,W="top",G,z,j=$.left-X.left,_=X.right-$.right,H=Q.right-Q.left,F=Q.bottom-Q.top;if(U&&j<Math.min(H,_))U=!1;else if(!U&&_<Math.min(H,j))U=!0;if(H<=(U?j:_))G=Math.max(X.top,Math.min(J.top,X.bottom-F))-$.top,z=Math.min(400,U?j:_);else{q=!0,z=Math.min(400,(Y?$.right:X.right-$.left)-30);let M=X.bottom-$.bottom;if(M>=F||M>$.top)G=J.bottom-$.top;else W="bottom",G=$.bottom-J.top}let N=($.bottom-$.top)/K.offsetHeight,D=($.right-$.left)/K.offsetWidth;return{style:`${W}: ${G/N}px; max-width: ${z/D}px`,class:"cm-completionInfo-"+(q?Y?"left-narrow":"right-narrow":U?"left":"right")}}function TU(Z){let $=Z.addToOptions.slice();if(Z.icons)$.push({render(J){let Q=document.createElement("div");if(Q.classList.add("cm-completionIcon"),J.type)Q.classList.add(...J.type.split(/\s+/g).map((X)=>"cm-completionIcon-"+X));return Q.setAttribute("aria-hidden","true"),Q},position:20});return $.push({render(J,Q,X,K){let Y=document.createElement("span");Y.className="cm-completionLabel";let U=J.displayLabel||J.label,q=0;for(let W=0;W<K.length;){let G=K[W++],z=K[W++];if(G>q)Y.appendChild(document.createTextNode(U.slice(q,G)));let j=Y.appendChild(document.createElement("span"));j.appendChild(document.createTextNode(U.slice(G,z))),j.className="cm-completionMatchedText",q=z}if(q<U.length)Y.appendChild(document.createTextNode(U.slice(q)));return Y},position:50},{render(J){if(!J.detail)return null;let Q=document.createElement("span");return Q.className="cm-completionDetail",Q.textContent=J.detail,Q},position:80}),$.sort((J,Q)=>J.position-Q.position).map((J)=>J.render)}function z8(Z,$,J){if(Z<=J)return{from:0,to:Z};if($<0)$=0;if($<=Z>>1){let X=Math.floor($/J);return{from:X*J,to:(X+1)*J}}let Q=Math.floor((Z-$)/J);return{from:Z-(Q+1)*J,to:Z-Q*J}}function yU(Z,$){return(J)=>new MJ(J,Z,$)}function SU(Z,$){let J=Z.getBoundingClientRect(),Q=$.getBoundingClientRect(),X=J.height/Z.offsetHeight;if(Q.top<J.top)Z.scrollTop-=(J.top-Q.top)/X;else if(Q.bottom>J.bottom)Z.scrollTop+=(Q.bottom-J.bottom)/X}function HJ(Z){return(Z.boost||0)*100+(Z.apply?10:0)+(Z.info?5:0)+(Z.type?1:0)}function bU(Z,$){let J=[],Q=null,X=(W)=>{J.push(W);let{section:G}=W.completion;if(G){if(!Q)Q=[];let z=typeof G=="string"?G:G.name;if(!Q.some((j)=>j.name==z))Q.push(typeof G=="string"?{name:z}:G)}},K=$.facet(Y3);for(let W of Z)if(W.hasResult()){let G=W.result.getMatch;if(W.result.filter===!1)for(let z of W.result.options)X(new j8(z,W.source,G?G(z):[],1e9-J.length));else{let z=$.sliceDoc(W.from,W.to),j,_=K.filterStrict?new IJ(z):new VJ(z);for(let H of W.result.options)if(j=_.match(H.label)){let F=!H.displayLabel?j.matched:G?G(H,j.matched):[];X(new j8(H,W.source,F,j.score+(H.boost||0)))}}}if(Q){let W=Object.create(null),G=0,z=(j,_)=>{var H,F;return((H=j.rank)!==null&&H!==void 0?H:1e9)-((F=_.rank)!==null&&F!==void 0?F:1e9)||(j.name<_.name?-1:1)};for(let j of Q.sort(z))G-=1e5,W[j.name]=G;for(let j of J){let{section:_}=j.completion;if(_)j.score+=W[typeof _=="string"?_:_.name]}}let Y=[],U=null,q=K.compareCompletions;for(let W of J.sort((G,z)=>z.score-G.score||q(G.completion,z.completion))){let G=W.completion;if(!U||U.label!=G.label||U.detail!=G.detail||U.type!=null&&G.type!=null&&U.type!=G.type||U.apply!=G.apply||U.boost!=G.boost)Y.push(W);else if(HJ(W.completion)>HJ(U))Y[Y.length-1]=W;U=W.completion}return Y}function kU(Z,$){if(Z==$)return!0;for(let J=0,Q=0;;){while(J<Z.length&&!Z[J].hasResult)J++;while(Q<$.length&&!$[Q].hasResult)Q++;let X=J==Z.length,K=Q==$.length;if(X||K)return X==K;if(Z[J++].result!=$[Q++].result)return!1}}function FJ(Z,$){let J={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":Z};if($>-1)J["aria-activedescendant"]=Z+"-"+$;return J}function AJ(Z,$){if(Z.isUserEvent("input.complete")){let Q=Z.annotation(H8);if(Q&&$.activateOnCompletion(Q))return 12}let J=Z.isUserEvent("input.type");return J&&$.activateOnTyping?5:J?1:Z.isUserEvent("delete.backward")?2:Z.selection?8:Z.docChanged?16:0}function hU(Z,$,J,Q){if(!Z)return!1;let X=$.sliceDoc(J,Q);return typeof Z=="function"?Z(X,J,Q,$):RJ(Z,!0).test(X)}function F8(Z,$){const J=$.completion.apply||$.completion.label;let Q=Z.state.field(R3).active.find((X)=>X.source==$.source);if(!(Q instanceof N5))return!1;if(typeof J=="string")Z.dispatch(Object.assign(Object.assign({},EU(Z.state,J,Q.from,Q.to)),{annotations:H8.of($.completion)}));else J(Z,$.completion,Q.from,Q.to);return!0}function UZ(Z,$="option"){return(J)=>{let Q=J.state.field(R3,!1);if(!Q||!Q.open||Q.open.disabled||Date.now()-Q.open.timestamp<J.state.facet(Y3).interactionDelay)return!1;let X=1,K;if($=="page"&&(K=D4(J,Q.open.tooltip)))X=Math.max(2,Math.floor(K.dom.offsetHeight/K.dom.querySelector("li").offsetHeight)-1);let{length:Y}=Q.open.options,U=Q.open.selected>-1?Q.open.selected+X*(Z?1:-1):Z?0:Y-1;if(U<0)U=$=="page"?0:Y-1;else if(U>=Y)U=$=="page"?Y-1:0;return J.dispatch({effects:BJ.of(U)}),!0}}function R8(Z,$){return R.create(Z.filter((J)=>J.field==$).map((J)=>R.range(J.from,J.to)))}function rU(Z){let $=D8.parse(Z);return(J,Q,X,K)=>{let{text:Y,ranges:U}=$.instantiate(J.state,X),q={changes:{from:X,to:K,insert:b.of(Y)},scrollIntoView:!0,annotations:Q?[H8.of(Q),a.userEvent.of("input.complete")]:void 0};if(U.length)q.selection=R8(U,0);if(U.some((W)=>W.field>0)){let W=new D5(U,0),G=q.effects=[X7.of(W)];if(J.state.field(Q7,!1)===void 0)G.push(v.appendConfig.of([Q7,$q,Jq,PJ]))}J.dispatch(J.state.update(q))}}function TJ(Z){return({state:$,dispatch:J})=>{let Q=$.field(Q7,!1);if(!Q||Z<0&&Q.active==0)return!1;let X=Q.active+Z,K=Z>0&&!Q.ranges.some((Y)=>Y.field==X+Z);return J($.update({selection:R8(Q.ranges,X),effects:X7.of(K?null:new D5(Q.ranges,X)),scrollIntoView:!0})),!0}}function O3(Z,$){return Object.assign(Object.assign({},$),{apply:rU(Z)})}function SJ(Z={}){return[sU,R3,Y3.of(Z),dU,Xq,PJ]}class _8{constructor(Z,$,J,Q){this.state=Z,this.pos=$,this.explicit=J,this.view=Q,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(Z){let $=o(this.state).resolveInner(this.pos,-1);while($&&Z.indexOf($.name)<0)$=$.parent;return $?{from:$.from,to:this.pos,text:this.state.sliceDoc($.from,this.pos),type:$.type}:null}matchBefore(Z){let $=this.state.doc.lineAt(this.pos),J=Math.max($.from,this.pos-250),Q=$.text.slice(J-$.from,this.pos-$.from),X=Q.search(RJ(Z,!1));return X<0?null:{from:J+X,to:this.pos,text:Q.slice(X)}}get aborted(){return this.abortListeners==null}addEventListener(Z,$,J){if(Z=="abort"&&this.abortListeners){if(this.abortListeners.push($),J&&J.onDocChange)this.abortOnDocChange=!0}}}class j8{constructor(Z,$,J,Q){this.completion=Z,this.source=$,this.match=J,this.score=Q}}var H8=V3.define(),_J=new WeakMap,qZ=v.define(),J7=v.define();class VJ{constructor(Z){this.pattern=Z,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let $=0;$<Z.length;){let J=C3(Z,$),Q=c3(J);this.chars.push(J);let X=Z.slice($,$+Q),K=X.toUpperCase();this.folded.push(C3(K==X?X.toLowerCase():K,0)),$+=Q}this.astral=Z.length!=this.chars.length}ret(Z,$){return this.score=Z,this.matched=$,this}match(Z){if(this.pattern.length==0)return this.ret(-100,[]);if(Z.length<this.pattern.length)return null;let{chars:$,folded:J,any:Q,precise:X,byWord:K}=this;if($.length==1){let D=C3(Z,0),M=c3(D),V=M==Z.length?0:-100;if(D==$[0]);else if(D==J[0])V+=-200;else return null;return this.ret(V,[0,M])}let Y=Z.indexOf(this.pattern);if(Y==0)return this.ret(Z.length==this.pattern.length?0:-100,[0,this.pattern.length]);let U=$.length,q=0;if(Y<0){for(let D=0,M=Math.min(Z.length,200);D<M&&q<U;){let V=C3(Z,D);if(V==$[q]||V==J[q])Q[q++]=D;D+=c3(V)}if(q<U)return null}let W=0,G=0,z=!1,j=0,_=-1,H=-1,F=/[a-z]/.test(Z),N=!0;for(let D=0,M=Math.min(Z.length,200),V=0;D<M&&G<U;){let I=C3(Z,D);if(Y<0){if(W<U&&I==$[W])X[W++]=D;if(j<U)if(I==$[j]||I==J[j]){if(j==0)_=D;H=D+1,j++}else j=0}let C,S=I<255?I>=48&&I<=57||I>=97&&I<=122?2:I>=65&&I<=90?1:0:(C=d8(I))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;if(!D||S==1&&F||V==0&&S!=0){if($[G]==I||J[G]==I&&(z=!0))K[G++]=D;else if(K.length)N=!1}V=S,D+=c3(I)}if(G==U&&K[0]==0&&N)return this.result(-100+(z?-200:0),K,Z);if(j==U&&_==0)return this.ret(-200-Z.length+(H==Z.length?0:-100),[0,H]);if(Y>-1)return this.ret(-700-Z.length,[Y,Y+this.pattern.length]);if(j==U)return this.ret(-900-Z.length,[_,H]);if(G==U)return this.result(-100+(z?-200:0)+-700+(N?0:-1100),K,Z);return $.length==2?null:this.result((Q[0]?-700:0)+-200+-1100,Q,Z)}result(Z,$,J){let Q=[],X=0;for(let K of $){let Y=K+(this.astral?c3(C3(J,K)):1);if(X&&Q[X-1]==K)Q[X-1]=Y;else Q[X++]=K,Q[X++]=Y}return this.ret(Z-J.length,Q)}}class IJ{constructor(Z){this.pattern=Z,this.matched=[],this.score=0,this.folded=Z.toLowerCase()}match(Z){if(Z.length<this.pattern.length)return null;let $=Z.slice(0,this.pattern.length),J=$==this.pattern?0:$.toLowerCase()==this.folded?-200:null;if(J==null)return null;return this.matched=[0,$.length],this.score=J+(Z.length==this.pattern.length?0:-100),this}}var Y3=B.define({combine(Z){return y9(Z,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:CU,filterStrict:!1,compareCompletions:($,J)=>$.label.localeCompare(J.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:($,J)=>$&&J,closeOnBlur:($,J)=>$&&J,icons:($,J)=>$&&J,tooltipClass:($,J)=>(Q)=>OJ($(Q),J(Q)),optionClass:($,J)=>(Q)=>OJ($(Q),J(Q)),addToOptions:($,J)=>$.concat(J),filterStrict:($,J)=>$||J})}});class MJ{constructor(Z,$,J){this.view=Z,this.stateField=$,this.applyCompletion=J,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:(U)=>this.placeInfo(U),key:this},this.space=null,this.currentClass="";let Q=Z.state.field($),{options:X,selected:K}=Q.open,Y=Z.state.facet(Y3);this.optionContent=TU(Y),this.optionClass=Y.optionClass,this.tooltipClass=Y.tooltipClass,this.range=z8(X.length,K,Y.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Z.state),this.dom.addEventListener("mousedown",(U)=>{let{options:q}=Z.state.field($).open;for(let W=U.target,G;W&&W!=this.dom;W=W.parentNode)if(W.nodeName=="LI"&&(G=/-(\d+)$/.exec(W.id))&&+G[1]<q.length){this.applyCompletion(Z,q[+G[1]]),U.preventDefault();return}}),this.dom.addEventListener("focusout",(U)=>{let q=Z.state.field(this.stateField,!1);if(q&&q.tooltip&&Z.state.facet(Y3).closeOnBlur&&U.relatedTarget!=Z.contentDOM)Z.dispatch({effects:J7.of(null)})}),this.showOptions(X,Q.id)}mount(){this.updateSel()}showOptions(Z,$){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(Z,$,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(Z){var $;let J=Z.state.field(this.stateField),Q=Z.startState.field(this.stateField);if(this.updateTooltipClass(Z.state),J!=Q){let{options:X,selected:K,disabled:Y}=J.open;if(!Q.open||Q.open.options!=X)this.range=z8(X.length,K,Z.state.facet(Y3).maxRenderedOptions),this.showOptions(X,J.id);if(this.updateSel(),Y!=(($=Q.open)===null||$===void 0?void 0:$.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Y)}}updateTooltipClass(Z){let $=this.tooltipClass(Z);if($!=this.currentClass){for(let J of this.currentClass.split(" "))if(J)this.dom.classList.remove(J);for(let J of $.split(" "))if(J)this.dom.classList.add(J);this.currentClass=$}}positioned(Z){if(this.space=Z,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Z=this.view.state.field(this.stateField),$=Z.open;if($.selected>-1&&$.selected<this.range.from||$.selected>=this.range.to)this.range=z8($.options.length,$.selected,this.view.state.facet(Y3).maxRenderedOptions),this.showOptions($.options,Z.id);if(this.updateSelectedOption($.selected)){this.destroyInfo();let{completion:J}=$.options[$.selected],{info:Q}=J;if(!Q)return;let X=typeof Q==="string"?document.createTextNode(Q):Q(J);if(!X)return;if("then"in X)X.then((K)=>{if(K&&this.view.state.field(this.stateField,!1)==Z)this.addInfoPane(K,J)}).catch((K)=>z3(this.view.state,K,"completion info"));else this.addInfoPane(X,J)}}addInfoPane(Z,$){this.destroyInfo();let J=this.info=document.createElement("div");if(J.className="cm-tooltip cm-completionInfo",Z.nodeType!=null)J.appendChild(Z),this.infoDestroy=null;else{let{dom:Q,destroy:X}=Z;J.appendChild(Q),this.infoDestroy=X||null}this.dom.appendChild(J),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Z){let $=null;for(let J=this.list.firstChild,Q=this.range.from;J;J=J.nextSibling,Q++)if(J.nodeName!="LI"||!J.id)Q--;else if(Q==Z){if(!J.hasAttribute("aria-selected"))J.setAttribute("aria-selected","true"),$=J}else if(J.hasAttribute("aria-selected"))J.removeAttribute("aria-selected");if($)SU(this.list,$);return $}measureInfo(){let Z=this.dom.querySelector("[aria-selected]");if(!Z||!this.info)return null;let $=this.dom.getBoundingClientRect(),J=this.info.getBoundingClientRect(),Q=Z.getBoundingClientRect(),X=this.space;if(!X){let K=this.dom.ownerDocument.defaultView||window;X={left:0,top:0,right:K.innerWidth,bottom:K.innerHeight}}if(Q.top>Math.min(X.bottom,$.bottom)-10||Q.bottom<Math.max(X.top,$.top)+10)return null;return this.view.state.facet(Y3).positionInfo(this.view,$,Q,J,X,this.dom)}placeInfo(Z){if(this.info)if(Z){if(Z.style)this.info.style.cssText=Z.style;this.info.className="cm-tooltip cm-completionInfo "+(Z.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(Z,$,J){const Q=document.createElement("ul");Q.id=$,Q.setAttribute("role","listbox"),Q.setAttribute("aria-expanded","true"),Q.setAttribute("aria-label",this.view.state.phrase("Completions"));let X=null;for(let K=J.from;K<J.to;K++){let{completion:Y,match:U}=Z[K],{section:q}=Y;if(q){let z=typeof q=="string"?q:q.name;if(z!=X&&(K>J.from||J.from==0))if(X=z,typeof q!="string"&&q.header)Q.appendChild(q.header(q));else{let j=Q.appendChild(document.createElement("completion-section"));j.textContent=z}}const W=Q.appendChild(document.createElement("li"));W.id=$+"-"+K,W.setAttribute("role","option");let G=this.optionClass(Y);if(G)W.className=G;for(let z of this.optionContent){let j=z(Y,this.view.state,this.view,U);if(j)W.appendChild(j)}}if(J.from)Q.classList.add("cm-completionListIncompleteTop");if(J.to<Z.length)Q.classList.add("cm-completionListIncompleteBottom");return Q}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}class F5{constructor(Z,$,J,Q,X,K){this.options=Z,this.attrs=$,this.tooltip=J,this.timestamp=Q,this.selected=X,this.disabled=K}setSelected(Z,$){return Z==this.selected||Z>=this.options.length?this:new F5(this.options,FJ($,Z),this.tooltip,this.timestamp,Z,this.disabled)}static build(Z,$,J,Q,X){let K=bU(Z,$);if(!K.length)return Q&&Z.some((U)=>U.state==1)?new F5(Q.options,Q.attrs,Q.tooltip,Q.timestamp,Q.selected,!0):null;let Y=$.facet(Y3).selectOnOpen?0:-1;if(Q&&Q.selected!=Y&&Q.selected!=-1){let U=Q.options[Q.selected].completion;for(let q=0;q<K.length;q++)if(K[q].completion==U){Y=q;break}}return new F5(K,FJ(J,Y),{pos:Z.reduce((U,q)=>q.hasResult()?Math.min(U,q.from):U,1e8),create:mU,above:X.aboveCursor},Q?Q.timestamp:Date.now(),Y,!1)}map(Z){return new F5(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:Z.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class GZ{constructor(Z,$,J){this.active=Z,this.id=$,this.open=J}static start(){return new GZ(vU,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(Z){let{state:$}=Z,J=$.facet(Y3),X=(J.override||$.languageDataAt("autocomplete",A9($)).map(PU)).map((Y)=>{return(this.active.find((q)=>q.source==Y)||new L3(Y,this.active.some((q)=>q.state!=0)?1:0)).update(Z,J)});if(X.length==this.active.length&&X.every((Y,U)=>Y==this.active[U]))X=this.active;let K=this.open;if(K&&Z.docChanged)K=K.map(Z.changes);if(Z.selection||X.some((Y)=>Y.hasResult()&&Z.changes.touchesRange(Y.from,Y.to))||!kU(X,this.active))K=F5.build(X,$,this.id,K,J);else if(K&&K.disabled&&!X.some((Y)=>Y.state==1))K=null;if(!K&&X.every((Y)=>Y.state!=1)&&X.some((Y)=>Y.hasResult()))X=X.map((Y)=>Y.hasResult()?new L3(Y.source,0):Y);for(let Y of Z.effects)if(Y.is(BJ))K=K&&K.setSelected(Y.value,this.id);return X==this.active&&K==this.open?this:new GZ(X,this.id,K)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?xU:wU}}var xU={"aria-autocomplete":"list"},wU={},vU=[];class L3{constructor(Z,$,J=-1){this.source=Z,this.state=$,this.explicitPos=J}hasResult(){return!1}update(Z,$){let J=AJ(Z,$),Q=this;if(J&8||J&16&&this.touches(Z))Q=new L3(Q.source,0);if(J&4&&Q.state==0)Q=new L3(this.source,1);Q=Q.updateFor(Z,J);for(let X of Z.effects)if(X.is(qZ))Q=new L3(Q.source,1,X.value?A9(Z.state):-1);else if(X.is(J7))Q=new L3(Q.source,0);else if(X.is(LJ)){for(let K of X.value)if(K.source==Q.source)Q=K}return Q}updateFor(Z,$){return this.map(Z.changes)}map(Z){return Z.empty||this.explicitPos<0?this:new L3(this.source,this.state,Z.mapPos(this.explicitPos))}touches(Z){return Z.changes.touchesRange(A9(Z.state))}}class N5 extends L3{constructor(Z,$,J,Q,X){super(Z,2,$);this.result=J,this.from=Q,this.to=X}hasResult(){return!0}updateFor(Z,$){var J;if(!($&3))return this.map(Z.changes);let Q=this.result;if(Q.map&&!Z.changes.empty)Q=Q.map(Q,Z.changes);let X=Z.changes.mapPos(this.from),K=Z.changes.mapPos(this.to,1),Y=A9(Z.state);if((this.explicitPos<0?Y<=X:Y<this.from)||Y>K||!Q||$&2&&A9(Z.startState)==this.from)return new L3(this.source,$&4?1:0);let U=this.explicitPos<0?-1:Z.changes.mapPos(this.explicitPos);if(hU(Q.validFor,Z.state,X,K))return new N5(this.source,U,Q,X,K);if(Q.update&&(Q=Q.update(Q,X,K,new _8(Z.state,Y,U>=0))))return new N5(this.source,U,Q,Q.from,(J=Q.to)!==null&&J!==void 0?J:A9(Z.state));return new L3(this.source,1,U)}map(Z){if(Z.empty)return this;if(!(this.result.map?this.result.map(this.result,Z):this.result))return new L3(this.source,0);return new N5(this.source,this.explicitPos<0?-1:Z.mapPos(this.explicitPos),this.result,Z.mapPos(this.from),Z.mapPos(this.to,1))}touches(Z){return Z.changes.touchesRange(this.from,this.to)}}var LJ=v.define({map(Z,$){return Z.map((J)=>J.map($))}}),BJ=v.define(),R3=F3.define({create(){return GZ.start()},update(Z,$){return Z.update($)},provide:(Z)=>[N4.from(Z,($)=>$.tooltip),E.contentAttributes.from(Z,($)=>$.attrs)]}),mU=yU(R3,F8),uU=(Z)=>{let $=Z.state.field(R3,!1);if(Z.state.readOnly||!$||!$.open||$.open.selected<0||$.open.disabled||Date.now()-$.open.timestamp<Z.state.facet(Y3).interactionDelay)return!1;return F8(Z,$.open.options[$.open.selected])},fU=(Z)=>{if(!Z.state.field(R3,!1))return!1;return Z.dispatch({effects:qZ.of(!0)}),!0},gU=(Z)=>{let $=Z.state.field(R3,!1);if(!$||!$.active.some((J)=>J.state!=0))return!1;return Z.dispatch({effects:J7.of(null)}),!0};class EJ{constructor(Z,$){this.active=Z,this.context=$,this.time=Date.now(),this.updates=[],this.done=void 0}}var lU=50,pU=1000,dU=S3.fromClass(class{constructor(Z){this.view=Z,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let $ of Z.state.field(R3).active)if($.state==1)this.startQuery($)}update(Z){let $=Z.state.field(R3),J=Z.state.facet(Y3);if(!Z.selectionSet&&!Z.docChanged&&Z.startState.field(R3)==$)return;let Q=Z.transactions.some((K)=>{let Y=AJ(K,J);return Y&8||(K.selection||K.docChanged)&&!(Y&3)});for(let K=0;K<this.running.length;K++){let Y=this.running[K];if(Q||Y.context.abortOnDocChange&&Z.docChanged||Y.updates.length+Z.transactions.length>lU&&Date.now()-Y.time>pU){for(let U of Y.context.abortListeners)try{U()}catch(q){z3(this.view.state,q)}Y.context.abortListeners=null,this.running.splice(K--,1)}else Y.updates.push(...Z.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(Z.transactions.some((K)=>K.effects.some((Y)=>Y.is(qZ))))this.pendingStart=!0;let X=this.pendingStart?50:J.activateOnTypingDelay;if(this.debounceUpdate=$.active.some((K)=>K.state==1&&!this.running.some((Y)=>Y.active.source==K.source))?setTimeout(()=>this.startUpdate(),X):-1,this.composing!=0){for(let K of Z.transactions)if(K.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&K.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:Z}=this.view,$=Z.field(R3);for(let J of $.active)if(J.state==1&&!this.running.some((Q)=>Q.active.source==J.source))this.startQuery(J)}startQuery(Z){let{state:$}=this.view,J=A9($),Q=new _8($,J,Z.explicitPos==J,this.view),X=new EJ(Z,Q);this.running.push(X),Promise.resolve(Z.source(Q)).then((K)=>{if(!X.context.aborted)X.done=K||null,this.scheduleAccept()},(K)=>{this.view.dispatch({effects:J7.of(null)}),z3(this.view.state,K)})}scheduleAccept(){if(this.running.every((Z)=>Z.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Y3).updateSyncTime)}accept(){var Z;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let $=[],J=this.view.state.facet(Y3);for(let Q=0;Q<this.running.length;Q++){let X=this.running[Q];if(X.done===void 0)continue;if(this.running.splice(Q--,1),X.done){let Y=new N5(X.active.source,X.active.explicitPos,X.done,X.done.from,(Z=X.done.to)!==null&&Z!==void 0?Z:A9(X.updates.length?X.updates[0].startState:this.view.state));for(let U of X.updates)Y=Y.update(U,J);if(Y.hasResult()){$.push(Y);continue}}let K=this.view.state.field(R3).active.find((Y)=>Y.source==X.active.source);if(K&&K.state==1)if(X.done==null){let Y=new L3(X.active.source,0);for(let U of X.updates)Y=Y.update(U,J);if(Y.state!=1)$.push(Y)}else this.startQuery(K)}if($.length)this.view.dispatch({effects:LJ.of($)})}},{eventHandlers:{blur(Z){let $=this.view.state.field(R3,!1);if($&&$.tooltip&&this.view.state.facet(Y3).closeOnBlur){let J=$.open&&D4(this.view,$.open.tooltip);if(!J||!J.dom.contains(Z.relatedTarget))setTimeout(()=>this.view.dispatch({effects:J7.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:qZ.of(!1)}),20);this.composing=0}}}),cU=typeof navigator=="object"&&/Win/.test(navigator.platform),sU=Q9.highest(E.domEventHandlers({keydown(Z,$){let J=$.state.field(R3,!1);if(!J||!J.open||J.open.disabled||J.open.selected<0||Z.key.length>1||Z.ctrlKey&&!(cU&&Z.altKey)||Z.metaKey)return!1;let Q=J.open.options[J.open.selected],X=J.active.find((Y)=>Y.source==Q.source),K=Q.completion.commitCharacters||X.result.commitCharacters;if(K&&K.indexOf(Z.key)>-1)F8($,Q);return!1}})),PJ=E.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class CJ{constructor(Z,$,J,Q){this.field=Z,this.line=$,this.from=J,this.to=Q}}class N8{constructor(Z,$,J){this.field=Z,this.from=$,this.to=J}map(Z){let $=Z.mapPos(this.from,-1,J3.TrackDel),J=Z.mapPos(this.to,1,J3.TrackDel);return $==null||J==null?null:new N8(this.field,$,J)}}class D8{constructor(Z,$){this.lines=Z,this.fieldPositions=$}instantiate(Z,$){let J=[],Q=[$],X=Z.doc.lineAt($),K=/^\s*/.exec(X.text)[0];for(let U of this.lines){if(J.length){let q=K,W=/^\t*/.exec(U)[0].length;for(let G=0;G<W;G++)q+=Z.facet(W5);Q.push($+q.length-W),U=q+U.slice(W)}J.push(U),$+=U.length+1}let Y=this.fieldPositions.map((U)=>new N8(U.field,Q[U.line]+U.from,Q[U.line]+U.to));return{text:J,ranges:Y}}static parse(Z){let $=[],J=[],Q=[],X;for(let K of Z.split(/\r\n?|\n/)){while(X=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(K)){let Y=X[1]?+X[1]:null,U=X[2]||X[3]||"",q=-1,W=U.replace(/\\[{}]/g,(G)=>G[1]);for(let G=0;G<$.length;G++)if(Y!=null?$[G].seq==Y:W?$[G].name==W:!1)q=G;if(q<0){let G=0;while(G<$.length&&(Y==null||$[G].seq!=null&&$[G].seq<Y))G++;$.splice(G,0,{seq:Y,name:W}),q=G;for(let z of Q)if(z.field>=q)z.field++}Q.push(new CJ(q,J.length,X.index,X.index+W.length)),K=K.slice(0,X.index)+U+K.slice(X.index+X[0].length)}K=K.replace(/\\([{}])/g,(Y,U,q)=>{for(let W of Q)if(W.line==J.length&&W.from>q)W.from--,W.to--;return U}),J.push(K)}return new D8(J,Q)}}var iU=c.widget({widget:new class extends h9{toDOM(){let Z=document.createElement("span");return Z.className="cm-snippetFieldPosition",Z}ignoreEvent(){return!1}}}),nU=c.mark({class:"cm-snippetField"});class D5{constructor(Z,$){this.ranges=Z,this.active=$,this.deco=c.set(Z.map((J)=>(J.from==J.to?iU:nU).range(J.from,J.to)))}map(Z){let $=[];for(let J of this.ranges){let Q=J.map(Z);if(!Q)return null;$.push(Q)}return new D5($,this.active)}selectionInsideField(Z){return Z.ranges.every(($)=>this.ranges.some((J)=>J.field==this.active&&J.from<=$.from&&J.to>=$.to))}}var X7=v.define({map(Z,$){return Z&&Z.map($)}}),aU=v.define(),Q7=F3.define({create(){return null},update(Z,$){for(let J of $.effects){if(J.is(X7))return J.value;if(J.is(aU)&&Z)return new D5(Z.ranges,J.value)}if(Z&&$.docChanged)Z=Z.map($.changes);if(Z&&$.selection&&!Z.selectionInsideField($.selection))Z=null;return Z},provide:(Z)=>E.decorations.from(Z,($)=>$?$.deco:c.none)}),oU=({state:Z,dispatch:$})=>{if(!Z.field(Q7,!1))return!1;return $(Z.update({effects:X7.of(null)})),!0},tU=TJ(1),eU=TJ(-1),Zq=[{key:"Tab",run:tU,shift:eU},{key:"Escape",run:oU}],NJ=B.define({combine(Z){return Z.length?Z[0]:Zq}}),$q=Q9.highest(K5.compute([NJ],(Z)=>Z.facet(NJ))),Jq=E.domEventHandlers({mousedown(Z,$){let J=$.state.field(Q7,!1),Q;if(!J||(Q=$.posAtCoords({x:Z.clientX,y:Z.clientY}))==null)return!1;let X=J.ranges.find((K)=>K.from<=Q&&K.to>=Q);if(!X||X.field==J.active)return!1;return $.dispatch({selection:R8(J.ranges,X.field),effects:X7.of(J.ranges.some((K)=>K.field>X.field)?new D5(J.ranges,X.field):null),scrollIntoView:!0}),!0}});var yJ=new class extends s3{};yJ.startSide=1;yJ.endSide=-1;var bG=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent);var Qq=[{key:"Ctrl-Space",run:fU},{key:"Escape",run:gU},{key:"ArrowDown",run:UZ(!0)},{key:"ArrowUp",run:UZ(!1)},{key:"PageDown",run:UZ(!0,"page")},{key:"PageUp",run:UZ(!1,"page")},{key:"Enter",run:uU}],Xq=Q9.highest(K5.computeN([Y3],(Z)=>Z.facet(Y3).defaultKeymap?[Qq]:[]));function K7(Z){return($,J)=>{let Q=$.node.getChild("VariableDefinition");if(Q)J(Q,Z);return!0}}function hJ(Z,$){let J=bJ.get($);if(J)return J;let Q=[],X=!0;function K(Y,U){let q=Z.sliceString(Y.from,Y.to);Q.push({label:q,type:U})}return $.cursor(u.IncludeAnonymous).iterate((Y)=>{if(X)X=!1;else if(Y.name){let U=Uq[Y.name];if(U&&U(Y,K)||vJ.has(Y.name))return!1}else if(Y.to-Y.from>8192){for(let U of hJ(Z,Y.node))Q.push(U);return!1}}),bJ.set($,Q),Q}function qq(Z){let $=o(Z.state).resolveInner(Z.pos,-1);if(mJ.indexOf($.name)>-1)return null;let J=$.name=="VariableName"||$.to-$.from<20&&kJ.test(Z.state.sliceDoc($.from,$.to));if(!J&&!Z.explicit)return null;let Q=[];for(let X=$;X;X=X.parent)if(vJ.has(X.name))Q=Q.concat(hJ(Z.state.doc,X));return{options:Q,from:J?$.from:Z.pos,validFor:kJ}}function lJ(Z={}){let $=Z.jsx?Z.typescript?M8:I8:Z.typescript?V8:l3,J=Z.typescript?Kq.concat(Gq):wJ.concat(gJ);return new u9($,[l3.data.of({autocomplete:DJ(mJ,O8(J))}),l3.data.of({autocomplete:qq}),Z.jsx?jq:[]])}function Wq(Z){for(;;){if(Z.name=="JSXOpenTag"||Z.name=="JSXSelfClosingTag"||Z.name=="JSXFragmentTag")return Z;if(Z.name=="JSXEscape"||!Z.parent)return null;Z=Z.parent}}function xJ(Z,$,J=Z.length){for(let Q=$===null||$===void 0?void 0:$.firstChild;Q;Q=Q.nextSibling)if(Q.name=="JSXIdentifier"||Q.name=="JSXBuiltin"||Q.name=="JSXNamespacedName"||Q.name=="JSXMemberExpression")return Z.sliceString(Q.from,Math.min(Q.to,J));return""}var wJ=[O3("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),O3("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),O3("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),O3("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),O3("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),O3("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),O3("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),O3("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),O3("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),O3("import {${names}} from \"${module}\"\n${}",{label:"import",detail:"named",type:"keyword"}),O3("import ${name} from \"${module}\"\n${}",{label:"import",detail:"default",type:"keyword"})],Kq=wJ.concat([O3("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),O3("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),O3("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),bJ=new l5,vJ=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]),Yq=["FunctionDeclaration"],Uq={FunctionDeclaration:K7("function"),ClassDeclaration:K7("class"),ClassExpression:()=>!0,EnumDeclaration:K7("constant"),TypeAliasDeclaration:K7("type"),NamespaceDeclaration:K7("namespace"),VariableDefinition(Z,$){if(!Z.matchContext(Yq))$(Z,"variable")},TypeDefinition(Z,$){$(Z,"type")},__proto__:null},kJ=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,mJ=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."],l3=W9.define({name:"javascript",parser:zJ.configure({props:[f9.add({IfStatement:j5({except:/^\s*({|else\b)/}),TryStatement:j5({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:S1,SwitchBody:(Z)=>{let $=Z.textAfter,J=/^\s*\}/.test($),Q=/^\s*(case|default)\b/.test($);return Z.baseIndent+(J?0:Q?1:2)*Z.unit},Block:T1({closing:"}"}),ArrowFunction:(Z)=>Z.baseIndent+Z.unit,"TemplateString BlockComment":()=>null,"Statement Property":j5({except:/^{/}),JSXElement(Z){let $=/^\s*<\//.test(Z.textAfter);return Z.lineIndent(Z.node.from)+($?0:Z.unit)},JSXEscape(Z){let $=/\s*\}/.test(Z.textAfter);return Z.lineIndent(Z.node.from)+($?0:Z.unit)},"JSXOpenTag JSXSelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit}}),_5.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":a7,BlockComment(Z){return{from:Z.from+2,to:Z.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),uJ={test:(Z)=>/^JSX/.test(Z.name),facet:m4({commentTokens:{block:{open:"{/*",close:"*/}"}}})},V8=l3.configure({dialect:"ts"},"typescript"),I8=l3.configure({dialect:"jsx",props:[n7.add((Z)=>Z.isTop?[uJ]:void 0)]}),M8=l3.configure({dialect:"jsx ts",props:[n7.add((Z)=>Z.isTop?[uJ]:void 0)]},"typescript"),fJ=(Z)=>({label:Z,type:"keyword"}),gJ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(fJ),Gq=gJ.concat(["declare","implements","private","protected","public"].map(fJ)),zq=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),jq=E.inputHandler.of((Z,$,J,Q,X)=>{if((zq?Z.composing:Z.compositionStarted)||Z.state.readOnly||$!=J||Q!=">"&&Q!="/"||!l3.isActiveAt(Z.state,$,-1))return!1;let K=X(),{state:Y}=K,U=Y.changeByRange((q)=>{var W;let{head:G}=q,z=o(Y).resolveInner(G-1,-1),j;if(z.name=="JSXStartTag")z=z.parent;if(Y.doc.sliceString(G-1,G)!=Q||z.name=="JSXAttributeValue"&&z.to>G);else if(Q==">"&&z.name=="JSXFragmentTag")return{range:q,changes:{from:G,insert:"</>"}};else if(Q=="/"&&z.name=="JSXStartCloseTag"){let _=z.parent,H=_.parent;if(H&&_.from==G-2&&((j=xJ(Y.doc,H.firstChild,G))||((W=H.firstChild)===null||W===void 0?void 0:W.name)=="JSXFragmentTag")){let F=`${j}>`;return{range:R.cursor(G+F.length,-1),changes:{from:G,insert:F}}}}else if(Q==">"){let _=Wq(z);if(_&&_.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(Y.doc.sliceString(G,G+2))&&(j=xJ(Y.doc,_,G)))return{range:q,changes:{from:G,insert:`</${j}>`}}}return{range:q}});if(U.changes.empty)return!1;return Z.dispatch([K,Y.update(U,{userEvent:"input.complete",scrollIntoView:!0})]),!0});function R5(Z,$,J=Z.length){if(!$)return"";let Q=$.firstChild,X=Q&&Q.getChild("TagName");return X?Z.sliceString(X.from,Math.min(X.to,J)):""}function V5(Z,$=!1){for(;Z;Z=Z.parent)if(Z.name=="Element")if($)$=!1;else return Z;return null}function nJ(Z,$,J){let Q=J.tags[R5(Z,V5($))];return(Q===null||Q===void 0?void 0:Q.children)||J.allTags}function E8(Z,$){let J=[];for(let Q=V5($);Q&&!Q.type.isTop;Q=V5(Q.parent)){let X=R5(Z,Q);if(X&&Q.lastChild.name=="CloseTag")break;if(X&&J.indexOf(X)<0&&($.name=="EndTag"||$.from>=Q.firstChild.to))J.push(X)}return J}function pJ(Z,$,J,Q,X){let K=/\s*>/.test(Z.sliceDoc(X,X+5))?"":">",Y=V5(J,!0);return{from:Q,to:X,options:nJ(Z.doc,Y,$).map((U)=>({label:U,type:"type"})).concat(E8(Z.doc,J).map((U,q)=>({label:"/"+U,apply:"/"+U+K,type:"type",boost:99-q}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function dJ(Z,$,J,Q){let X=/\s*>/.test(Z.sliceDoc(Q,Q+5))?"":">";return{from:J,to:Q,options:E8(Z.doc,$).map((K,Y)=>({label:K,apply:K+X,type:"type",boost:99-Y})),validFor:aJ}}function Oq(Z,$,J,Q){let X=[],K=0;for(let Y of nJ(Z.doc,J,$))X.push({label:"<"+Y,type:"type"});for(let Y of E8(Z.doc,J))X.push({label:"</"+Y+">",type:"type",boost:99-K++});return{from:Q,to:Q,options:X,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Hq(Z,$,J,Q,X){let K=V5(J),Y=K?$.tags[R5(Z.doc,K)]:null,U=Y&&Y.attrs?Object.keys(Y.attrs):[],q=Y&&Y.globalAttrs===!1?U:U.length?U.concat($.globalAttrNames):$.globalAttrNames;return{from:Q,to:X,options:q.map((W)=>({label:W,type:"property"})),validFor:aJ}}function Fq(Z,$,J,Q,X){var K;let Y=(K=J.parent)===null||K===void 0?void 0:K.getChild("AttributeName"),U=[],q=void 0;if(Y){let W=Z.sliceDoc(Y.from,Y.to),G=$.globalAttrs[W];if(!G){let z=V5(J),j=z?$.tags[R5(Z.doc,z)]:null;G=(j===null||j===void 0?void 0:j.attrs)&&j.attrs[W]}if(G){let z=Z.sliceDoc(Q,X).toLowerCase(),j='"',_='"';if(/^['"]/.test(z))q=z[0]=='"'?/^[^"]*$/:/^[^']*$/,j="",_=Z.sliceDoc(X,X+1)==z[0]?"":z[0],z=z.slice(1),Q++;else q=/^[^\s<>='"]*$/;for(let H of G)U.push({label:H,apply:j+H+_,type:"constant"})}}return{from:Q,to:X,options:U,validFor:q}}function Nq(Z,$){let{state:J,pos:Q}=$,X=o(J).resolveInner(Q,-1),K=X.resolve(Q);for(let Y=Q,U;K==X&&(U=X.childBefore(Y));){let q=U.lastChild;if(!q||!q.type.isError||q.from<q.to)break;K=X=U,Y=q.from}if(X.name=="TagName")return X.parent&&/CloseTag$/.test(X.parent.name)?dJ(J,X,X.from,Q):pJ(J,Z,X,X.from,Q);else if(X.name=="StartTag")return pJ(J,Z,X,Q,Q);else if(X.name=="StartCloseTag"||X.name=="IncompleteCloseTag")return dJ(J,X,Q,Q);else if(X.name=="OpenTag"||X.name=="SelfClosingTag"||X.name=="AttributeName")return Hq(J,Z,X,X.name=="AttributeName"?X.from:Q,Q);else if(X.name=="Is"||X.name=="AttributeValue"||X.name=="UnquotedAttributeValue")return Fq(J,Z,X,X.name=="Is"?Q:X.from,Q);else if($.explicit&&(K.name=="Element"||K.name=="Text"||K.name=="Document"))return Oq(J,Z,X,Q);else return null}function Dq(Z){let{extraTags:$,extraGlobalAttributes:J}=Z,Q=J||$?new U7($,J):U7.default;return(X)=>Nq(Q,X)}function eJ(Z={}){let $="",J;if(Z.matchClosingTags===!1)$="noMatch";if(Z.selfClosingTags===!0)$=($?$+" ":"")+"selfClosing";if(Z.nestedLanguages&&Z.nestedLanguages.length||Z.nestedAttributes&&Z.nestedAttributes.length)J=K8((Z.nestedLanguages||[]).concat(rJ),(Z.nestedAttributes||[]).concat(oJ));let Q=J?tJ.configure({wrap:J,dialect:$}):$?WZ.configure({dialect:$}):WZ;return new u9(Q,[WZ.data.of({autocomplete:Dq(Z)}),Z.autoCloseTags!==!1?Vq:[],lJ().support,qJ().support])}var Y7=["_blank","_self","_top","_parent"],A8=["ascii","utf-8","utf-16","latin1","latin1"],L8=["get","post","put","delete"],B8=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],B3=["true","false"],P={},_q={a:{attrs:{href:null,ping:null,type:null,media:null,target:Y7,hreflang:null}},abbr:P,address:P,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:P,aside:P,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:P,base:{attrs:{href:null,target:Y7}},bdi:P,bdo:P,blockquote:{attrs:{cite:null}},body:P,br:P,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:B8,formmethod:L8,formnovalidate:["novalidate"],formtarget:Y7,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:P,center:P,cite:P,code:P,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:P,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:P,div:P,dl:P,dt:P,em:P,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:P,figure:P,footer:P,form:{attrs:{action:null,name:null,"accept-charset":A8,autocomplete:["on","off"],enctype:B8,method:L8,novalidate:["novalidate"],target:Y7}},h1:P,h2:P,h3:P,h4:P,h5:P,h6:P,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:P,hgroup:P,hr:P,html:{attrs:{manifest:null}},i:P,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:B8,formmethod:L8,formnovalidate:["novalidate"],formtarget:Y7,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:P,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:P,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:P,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:A8,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:P,noscript:P,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:P,param:{attrs:{name:null,value:null}},pre:P,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:P,rt:P,ruby:P,samp:P,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:A8}},section:P,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:P,source:{attrs:{src:null,type:null,media:null}},span:P,strong:P,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:P,summary:P,sup:P,table:P,tbody:P,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:P,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:P,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:P,time:{attrs:{datetime:null}},title:P,tr:P,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:P,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:P},sJ={accesskey:null,class:null,contenteditable:B3,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:B3,autocorrect:B3,autocapitalize:B3,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":B3,"aria-autocomplete":["inline","list","both","none"],"aria-busy":B3,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":B3,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":B3,"aria-hidden":B3,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":B3,"aria-multiselectable":B3,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":B3,"aria-relevant":null,"aria-required":B3,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},iJ="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((Z)=>"on"+Z);for(let Z of iJ)sJ[Z]=null;class U7{constructor(Z,$){this.tags=Object.assign(Object.assign({},_q),Z),this.globalAttrs=Object.assign(Object.assign({},sJ),$),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}U7.default=new U7;var aJ=/^[:\-\.\w\u00b7-\uffff]*$/,Rq=l3.parser.configure({top:"SingleExpression"}),rJ=[{tag:"script",attrs:(Z)=>Z.type=="text/typescript"||Z.lang=="ts",parser:V8.parser},{tag:"script",attrs:(Z)=>Z.type=="text/babel"||Z.type=="text/jsx",parser:I8.parser},{tag:"script",attrs:(Z)=>Z.type=="text/typescript-jsx",parser:M8.parser},{tag:"script",attrs(Z){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(Z.type)},parser:Rq},{tag:"script",attrs(Z){return!Z.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(Z.type)},parser:l3.parser},{tag:"style",attrs(Z){return(!Z.lang||Z.lang=="css")&&(!Z.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(Z.type))},parser:$7.parser}],oJ=[{name:"style",parser:$7.parser.configure({top:"Styles"})}].concat(iJ.map((Z)=>({name:Z,parser:l3.parser}))),tJ=W9.define({name:"html",parser:r$.configure({props:[f9.add({Element(Z){let $=/^(\s*)(<\/)?/.exec(Z.textAfter);if(Z.node.to<=Z.pos+$[0].length)return Z.continue();return Z.lineIndent(Z.node.from)+($[2]?0:Z.unit)},"OpenTag CloseTag SelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit},Document(Z){if(Z.pos+/\s*/.exec(Z.textAfter)[0].length<Z.node.to)return Z.continue();let $=null,J;for(let Q=Z.node;;){let X=Q.lastChild;if(!X||X.name!="Element"||X.to!=Q.to)break;$=Q=X}if($&&!((J=$.lastChild)&&(J.name=="CloseTag"||J.name=="SelfClosingTag")))return Z.lineIndent($.from)+Z.unit;return null}}),_5.add({Element(Z){let{firstChild:$,lastChild:J}=Z;if(!$||$.name!="OpenTag")return null;return{from:$.to,to:J.name=="CloseTag"?J.from:Z.to}}}),g4.add({"OpenTag CloseTag":(Z)=>Z.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),WZ=tJ.configure({wrap:K8(rJ,oJ)}),cJ=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Vq=E.inputHandler.of((Z,$,J,Q,X)=>{if(Z.composing||Z.state.readOnly||$!=J||Q!=">"&&Q!="/"||!WZ.isActiveAt(Z.state,$,-1))return!1;let K=X(),{state:Y}=K,U=Y.changeByRange((q)=>{var W,G,z;let j=Y.doc.sliceString(q.from-1,q.to)==Q,{head:_}=q,H=o(Y).resolveInner(_,-1),F;if(j&&Q==">"&&H.name=="EndTag"){let N=H.parent;if(((G=(W=N.parent)===null||W===void 0?void 0:W.lastChild)===null||G===void 0?void 0:G.name)!="CloseTag"&&(F=R5(Y.doc,N.parent,_))&&!cJ.has(F)){let D=_+(Y.doc.sliceString(_,_+1)===">"?1:0),M=`</${F}>`;return{range:q,changes:{from:_,to:D,insert:M}}}}else if(j&&Q=="/"&&H.name=="IncompleteCloseTag"){let N=H.parent;if(H.from==_-2&&((z=N.lastChild)===null||z===void 0?void 0:z.name)!="CloseTag"&&(F=R5(Y.doc,N,_))&&!cJ.has(F)){let D=_+(Y.doc.sliceString(_,_+1)===">"?1:0),M=`${F}>`;return{range:R.cursor(_+M.length,-1),changes:{from:_,to:D,insert:M}}}}return{range:q}});if(U.changes.empty)return!1;return Z.dispatch([K,Y.update(U,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var Iq="#e5c07b",Z2="#e06c75",Mq="#56b6c2",Aq="#ffffff",zZ="#abb2bf",C8="#7d8799",Lq="#61afef",Bq="#98c379",$2="#d19a66",Eq="#c678dd",Pq="#21252b",J2="#2c313a",Q2="#282c34",P8="#353a42",Cq="#3E4451",X2="#528bff";var Tq=E.theme({"&":{color:zZ,backgroundColor:Q2},".cm-content":{caretColor:X2},".cm-cursor, .cm-dropCursor":{borderLeftColor:X2},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Cq},".cm-panels":{backgroundColor:Pq,color:zZ},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Q2,color:C8,border:"none"},".cm-activeLineGutter":{backgroundColor:J2},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:P8},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:P8,borderBottomColor:P8},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:J2,color:zZ}}},{dark:!0}),yq=O5.define([{tag:O.keyword,color:Eq},{tag:[O.name,O.deleted,O.character,O.propertyName,O.macroName],color:Z2},{tag:[O.function(O.variableName),O.labelName],color:Lq},{tag:[O.color,O.constant(O.name),O.standard(O.name)],color:$2},{tag:[O.definition(O.name),O.separator],color:zZ},{tag:[O.typeName,O.className,O.number,O.changed,O.annotation,O.modifier,O.self,O.namespace],color:Iq},{tag:[O.operator,O.operatorKeyword,O.url,O.escape,O.regexp,O.link,O.special(O.string)],color:Mq},{tag:[O.meta,O.comment],color:C8},{tag:O.strong,fontWeight:"bold"},{tag:O.emphasis,fontStyle:"italic"},{tag:O.strikethrough,textDecoration:"line-through"},{tag:O.link,color:C8,textDecoration:"underline"},{tag:O.heading,fontWeight:"bold",color:Z2},{tag:[O.atom,O.bool,O.special(O.variableName)],color:$2},{tag:[O.processingInstruction,O.string,O.inserted],color:Bq},{tag:O.invalid,color:Aq}]),K2=[Tq,k1(yq)];var Sq=["https://fonts.googleapis.com/css?family=Noto+Sans:400,700&subset=latin,latin-ext","https://www.geocaching.com/content/coreCSS"],Y2=document.getElementById("copy"),G2=document.getElementById("previewContainer").attachShadow({mode:"open"}),T8,bq=`<h1 style="color: chocolate">Your Geocache title</h1>

<p style="margin: 1em 0 0 0;">You can edit the content of the title above and this paragraph.</p>`;document.addEventListener("DOMContentLoaded",()=>{let Z=bq;if(q2("localStorage")&&localStorage.getItem("content")&&localStorage.getItem("content").trim().length>0)Z=localStorage.getItem("content");if(T8=new E({doc:Z,extensions:[c1(),K5.of([...V$,...a1]),t6(),eJ(),E.lineWrapping,K2,SJ({}),E.updateListener.of(($)=>{if($.docChanged){if(q2("localStorage"))localStorage.setItem("content",$.state.doc.toString().trim());U2($.state.doc.toString())}})],parent:document.querySelector("#inputText")}),kq(),U2(T8.state.doc.toString()),!xq())Y2.style.display="none";else Y2.addEventListener("click",wq)});var kq=()=>{let Z=document.createElement("html"),$=document.createElement("head"),J=document.createElement("body");Z.appendChild($),Sq.forEach((K)=>{let Y=document.createElement("link");Y.setAttribute("rel","stylesheet"),Y.setAttribute("href",K),$.appendChild(Y)});let Q=document.createElement("div");Q.classList.add("UserSuppliedContent");let X=Q.appendChild(document.createElement("span"));X.setAttribute("id","ctl00_ContentBody_LongDescription"),Q.appendChild(X),J.appendChild(Q),Z.appendChild(J),G2.appendChild(Z)},U2=(Z)=>{G2.getElementById("ctl00_ContentBody_LongDescription").innerHTML=Z},q2=(Z)=>{let $;try{$=window[Z];let J="__storage_test__";return $.setItem(J,J),$.removeItem(J),!0}catch(J){return J instanceof DOMException&&(J.name==="QuotaExceededError"||J.name==="NS_ERROR_DOM_QUOTA_REACHED")&&$&&$.length!==0}},xq=()=>{return navigator&&navigator.clipboard&&navigator.clipboard.writeText},wq=()=>{navigator.clipboard.writeText(T8.state.doc.toString()),document.getElementById("copy").innerHTML="\uD83D\uDCCB Copied!",window.setTimeout(()=>{document.getElementById("copy").innerHTML="\uD83D\uDCCB Copy"},1000)},vq=document.querySelectorAll("[data-modal]");vq.forEach(function(Z){Z.addEventListener("click",function($){$.preventDefault();const J=document.getElementById(Z.dataset.modal);J.classList.add("modal-open"),J.querySelectorAll(".modal-exit").forEach(function(X){X.addEventListener("click",function(K){K.preventDefault(),J.classList.remove("modal-open")})})})});

//# debugId=75822B07DED5D97664756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL3N0YXRlL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3N0eWxlLW1vZC9zcmMvc3R5bGUtbW9kLmpzIiwgIm5vZGVfbW9kdWxlcy93M2Mta2V5bmFtZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivdmlldy9kaXN0L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9AbGV6ZXIvY29tbW9uL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BsZXplci9oaWdobGlnaHQvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZ3VhZ2UvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvY29tbWFuZHMvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGxlemVyL2xyL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BsZXplci9odG1sL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BsZXplci9jc3MvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZy1jc3MvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGxlemVyL2phdmFzY3JpcHQvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xhbmctamF2YXNjcmlwdC9kaXN0L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLWh0bWwvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvdGhlbWUtb25lLWRhcmsvZGlzdC9pbmRleC5qcyIsICJzcmMvYXBwLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgIi8qKlxuVGhlIGRhdGEgc3RydWN0dXJlIGZvciBkb2N1bWVudHMuIEBub25hYnN0cmFjdFxuKi9cbmNsYXNzIFRleHQge1xuICAgIC8qKlxuICAgIEdldCB0aGUgbGluZSBkZXNjcmlwdGlvbiBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgbGluZUF0KHBvcykge1xuICAgICAgICBpZiAocG9zIDwgMCB8fCBwb3MgPiB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIHBvc2l0aW9uICR7cG9zfSBpbiBkb2N1bWVudCBvZiBsZW5ndGggJHt0aGlzLmxlbmd0aH1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUlubmVyKHBvcywgZmFsc2UsIDEsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGRlc2NyaXB0aW9uIGZvciB0aGUgZ2l2ZW4gKDEtYmFzZWQpIGxpbmUgbnVtYmVyLlxuICAgICovXG4gICAgbGluZShuKSB7XG4gICAgICAgIGlmIChuIDwgMSB8fCBuID4gdGhpcy5saW5lcylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGxpbmUgbnVtYmVyICR7bn0gaW4gJHt0aGlzLmxpbmVzfS1saW5lIGRvY3VtZW50YCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVJbm5lcihuLCB0cnVlLCAxLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIHJhbmdlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZGVjb21wb3NlKDAsIGZyb20sIHBhcnRzLCAyIC8qIE9wZW4uVG8gKi8pO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGgpXG4gICAgICAgICAgICB0ZXh0LmRlY29tcG9zZSgwLCB0ZXh0Lmxlbmd0aCwgcGFydHMsIDEgLyogT3Blbi5Gcm9tICovIHwgMiAvKiBPcGVuLlRvICovKTtcbiAgICAgICAgdGhpcy5kZWNvbXBvc2UodG8sIHRoaXMubGVuZ3RoLCBwYXJ0cywgMSAvKiBPcGVuLkZyb20gKi8pO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwZW5kIGFub3RoZXIgZG9jdW1lbnQgdG8gdGhpcyBvbmUuXG4gICAgKi9cbiAgICBhcHBlbmQob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSh0aGlzLmxlbmd0aCwgdGhpcy5sZW5ndGgsIG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHRleHQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICovXG4gICAgc2xpY2UoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICBbZnJvbSwgdG9dID0gY2xpcCh0aGlzLCBmcm9tLCB0byk7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29tcG9zZShmcm9tLCB0bywgcGFydHMsIDApO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdG8gLSBmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVzdCB3aGV0aGVyIHRoaXMgdGV4dCBpcyBlcXVhbCB0byBhbm90aGVyIGluc3RhbmNlLlxuICAgICovXG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG90aGVyLmxlbmd0aCAhPSB0aGlzLmxlbmd0aCB8fCBvdGhlci5saW5lcyAhPSB0aGlzLmxpbmVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnNjYW5JZGVudGljYWwob3RoZXIsIDEpLCBlbmQgPSB0aGlzLmxlbmd0aCAtIHRoaXMuc2NhbklkZW50aWNhbChvdGhlciwgLTEpO1xuICAgICAgICBsZXQgYSA9IG5ldyBSYXdUZXh0Q3Vyc29yKHRoaXMpLCBiID0gbmV3IFJhd1RleHRDdXJzb3Iob3RoZXIpO1xuICAgICAgICBmb3IgKGxldCBza2lwID0gc3RhcnQsIHBvcyA9IHN0YXJ0OzspIHtcbiAgICAgICAgICAgIGEubmV4dChza2lwKTtcbiAgICAgICAgICAgIGIubmV4dChza2lwKTtcbiAgICAgICAgICAgIHNraXAgPSAwO1xuICAgICAgICAgICAgaWYgKGEubGluZUJyZWFrICE9IGIubGluZUJyZWFrIHx8IGEuZG9uZSAhPSBiLmRvbmUgfHwgYS52YWx1ZSAhPSBiLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSBhLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhLmRvbmUgfHwgcG9zID49IGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHRleHQuIFdoZW4gYGRpcmAgaXMgYC0xYCwgaXRlcmF0aW9uIGhhcHBlbnNcbiAgICBmcm9tIGVuZCB0byBzdGFydC4gVGhpcyB3aWxsIHJldHVybiBsaW5lcyBhbmQgdGhlIGJyZWFrcyBiZXR3ZWVuXG4gICAgdGhlbSBhcyBzZXBhcmF0ZSBzdHJpbmdzLlxuICAgICovXG4gICAgaXRlcihkaXIgPSAxKSB7IHJldHVybiBuZXcgUmF3VGV4dEN1cnNvcih0aGlzLCBkaXIpOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgcmFuZ2Ugb2YgdGhlIHRleHQuIFdoZW4gYGZyb21gID4gYHRvYCwgdGhlXG4gICAgaXRlcmF0b3Igd2lsbCBydW4gaW4gcmV2ZXJzZS5cbiAgICAqL1xuICAgIGl0ZXJSYW5nZShmcm9tLCB0byA9IHRoaXMubGVuZ3RoKSB7IHJldHVybiBuZXcgUGFydGlhbFRleHRDdXJzb3IodGhpcywgZnJvbSwgdG8pOyB9XG4gICAgLyoqXG4gICAgUmV0dXJuIGEgY3Vyc29yIHRoYXQgaXRlcmF0ZXMgb3ZlciB0aGUgZ2l2ZW4gcmFuZ2Ugb2YgbGluZXMsXG4gICAgX3dpdGhvdXRfIHJldHVybmluZyB0aGUgbGluZSBicmVha3MgYmV0d2VlbiwgYW5kIHlpZWxkaW5nIGVtcHR5XG4gICAgc3RyaW5ncyBmb3IgZW1wdHkgbGluZXMuXG4gICAgXG4gICAgV2hlbiBgZnJvbWAgYW5kIGB0b2AgYXJlIGdpdmVuLCB0aGV5IHNob3VsZCBiZSAxLWJhc2VkIGxpbmUgbnVtYmVycy5cbiAgICAqL1xuICAgIGl0ZXJMaW5lcyhmcm9tLCB0bykge1xuICAgICAgICBsZXQgaW5uZXI7XG4gICAgICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgICAgICAgIGlubmVyID0gdGhpcy5pdGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodG8gPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0byA9IHRoaXMubGluZXMgKyAxO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5saW5lKGZyb20pLmZyb207XG4gICAgICAgICAgICBpbm5lciA9IHRoaXMuaXRlclJhbmdlKHN0YXJ0LCBNYXRoLm1heChzdGFydCwgdG8gPT0gdGhpcy5saW5lcyArIDEgPyB0aGlzLmxlbmd0aCA6IHRvIDw9IDEgPyAwIDogdGhpcy5saW5lKHRvIC0gMSkudG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVDdXJzb3IoaW5uZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGRvY3VtZW50IGFzIGEgc3RyaW5nLCB1c2luZyBuZXdsaW5lIGNoYXJhY3RlcnMgdG9cbiAgICBzZXBhcmF0ZSBsaW5lcy5cbiAgICAqL1xuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5zbGljZVN0cmluZygwKTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgdGhlIGRvY3VtZW50IHRvIGFuIGFycmF5IG9mIGxpbmVzICh3aGljaCBjYW4gYmVcbiAgICBkZXNlcmlhbGl6ZWQgYWdhaW4gdmlhIFtgVGV4dC5vZmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dF5vZikpLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mbGF0dGVuKGxpbmVzKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgYFRleHRgIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgb2YodGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQSBkb2N1bWVudCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxpbmVcIik7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAxICYmICF0ZXh0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIFRleHQuZW1wdHk7XG4gICAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLyA/IG5ldyBUZXh0TGVhZih0ZXh0KSA6IFRleHROb2RlLmZyb20oVGV4dExlYWYuc3BsaXQodGV4dCwgW10pKTtcbiAgICB9XG59XG4vLyBMZWF2ZXMgc3RvcmUgYW4gYXJyYXkgb2YgbGluZSBzdHJpbmdzLiBUaGVyZSBhcmUgYWx3YXlzIGxpbmUgYnJlYWtzXG4vLyBiZXR3ZWVuIHRoZXNlIHN0cmluZ3MuIExlYXZlcyBhcmUgbGltaXRlZCBpbiBzaXplIGFuZCBoYXZlIHRvIGJlXG4vLyBjb250YWluZWQgaW4gVGV4dE5vZGUgaW5zdGFuY2VzIGZvciBiaWdnZXIgZG9jdW1lbnRzLlxuY2xhc3MgVGV4dExlYWYgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBsZW5ndGggPSB0ZXh0TGVuZ3RoKHRleHQpKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoOyB9XG4gICAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy50ZXh0W2ldLCBlbmQgPSBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBsaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lKG9mZnNldCwgZW5kLCBsaW5lLCBzdHJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvbXBvc2UoZnJvbSwgdG8sIHRhcmdldCwgb3Blbikge1xuICAgICAgICBsZXQgdGV4dCA9IGZyb20gPD0gMCAmJiB0byA+PSB0aGlzLmxlbmd0aCA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IFRleHRMZWFmKHNsaWNlVGV4dCh0aGlzLnRleHQsIGZyb20sIHRvKSwgTWF0aC5taW4odG8sIHRoaXMubGVuZ3RoKSAtIE1hdGgubWF4KDAsIGZyb20pKTtcbiAgICAgICAgaWYgKG9wZW4gJiAxIC8qIE9wZW4uRnJvbSAqLykge1xuICAgICAgICAgICAgbGV0IHByZXYgPSB0YXJnZXQucG9wKCk7XG4gICAgICAgICAgICBsZXQgam9pbmVkID0gYXBwZW5kVGV4dCh0ZXh0LnRleHQsIHByZXYudGV4dC5zbGljZSgpLCAwLCB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoam9pbmVkLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG5ldyBUZXh0TGVhZihqb2luZWQsIHByZXYubGVuZ3RoICsgdGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtaWQgPSBqb2luZWQubGVuZ3RoID4+IDE7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZSgwLCBtaWQpKSwgbmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZShtaWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIGlmICghKHRleHQgaW5zdGFuY2VvZiBUZXh0TGVhZikpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShmcm9tLCB0bywgdGV4dCk7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IGxpbmVzID0gYXBwZW5kVGV4dCh0aGlzLnRleHQsIGFwcGVuZFRleHQodGV4dC50ZXh0LCBzbGljZVRleHQodGhpcy50ZXh0LCAwLCBmcm9tKSksIHRvKTtcbiAgICAgICAgbGV0IG5ld0xlbiA9IHRoaXMubGVuZ3RoICsgdGV4dC5sZW5ndGggLSAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLylcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYobGluZXMsIG5ld0xlbik7XG4gICAgICAgIHJldHVybiBUZXh0Tm9kZS5mcm9tKFRleHRMZWFmLnNwbGl0KGxpbmVzLCBbXSksIG5ld0xlbik7XG4gICAgfVxuICAgIHNsaWNlU3RyaW5nKGZyb20sIHRvID0gdGhpcy5sZW5ndGgsIGxpbmVTZXAgPSBcIlxcblwiKSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOyBwb3MgPD0gdG8gJiYgaSA8IHRoaXMudGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnRleHRbaV0sIGVuZCA9IHBvcyArIGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKE1hdGgubWF4KDAsIGZyb20gLSBwb3MpLCB0byAtIHBvcyk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy50ZXh0KVxuICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwoKSB7IHJldHVybiAwOyB9XG4gICAgc3RhdGljIHNwbGl0KHRleHQsIHRhcmdldCkge1xuICAgICAgICBsZXQgcGFydCA9IFtdLCBsZW4gPSAtMTtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KSB7XG4gICAgICAgICAgICBwYXJ0LnB1c2gobGluZSk7XG4gICAgICAgICAgICBsZW4gKz0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgaWYgKHBhcnQubGVuZ3RoID09IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKHBhcnQsIGxlbikpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBbXTtcbiAgICAgICAgICAgICAgICBsZW4gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID4gLTEpXG4gICAgICAgICAgICB0YXJnZXQucHVzaChuZXcgVGV4dExlYWYocGFydCwgbGVuKSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxufVxuLy8gTm9kZXMgcHJvdmlkZSB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIGBUZXh0YCB0eXBlLiBUaGV5IHN0b3JlIGFcbi8vIG51bWJlciBvZiBvdGhlciBub2RlcyBvciBsZWF2ZXMsIHRha2luZyBjYXJlIHRvIGJhbGFuY2UgdGhlbXNlbHZlc1xuLy8gb24gY2hhbmdlcy4gVGhlcmUgYXJlIGltcGxpZWQgbGluZSBicmVha3MgX2JldHdlZW5fIHRoZSBjaGlsZHJlbiBvZlxuLy8gYSBub2RlIChidXQgbm90IGJlZm9yZSB0aGUgZmlyc3Qgb3IgYWZ0ZXIgdGhlIGxhc3QgY2hpbGQpLlxuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMubGluZXMgPSAwO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIHRoaXMubGluZXMgKz0gY2hpbGQubGluZXM7XG4gICAgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5sZW5ndGgsIGVuZExpbmUgPSBsaW5lICsgY2hpbGQubGluZXMgLSAxO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBlbmRMaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZCArIDE7XG4gICAgICAgICAgICBsaW5lID0gZW5kTGluZSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVjb21wb3NlKGZyb20sIHRvLCB0YXJnZXQsIG9wZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IHBvcyA8PSB0byAmJiBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZyb20gPD0gZW5kICYmIHRvID49IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZE9wZW4gPSBvcGVuICYgKChwb3MgPD0gZnJvbSA/IDEgLyogT3Blbi5Gcm9tICovIDogMCkgfCAoZW5kID49IHRvID8gMiAvKiBPcGVuLlRvICovIDogMCkpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gZnJvbSAmJiBlbmQgPD0gdG8gJiYgIWNoaWxkT3BlbilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuZGVjb21wb3NlKGZyb20gLSBwb3MsIHRvIC0gcG9zLCB0YXJnZXQsIGNoaWxkT3Blbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIHRleHQpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBpZiAodGV4dC5saW5lcyA8IHRoaXMubGluZXMpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoOiBpZiB0aGUgY2hhbmdlIG9ubHkgYWZmZWN0cyBvbmUgY2hpbGQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoaWxkJ3Mgc2l6ZSByZW1haW5zIGluIHRoZSBhY2NlcHRhYmxlIHJhbmdlLCBvbmx5IHVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY2hpbGRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+PSBwb3MgJiYgdG8gPD0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkID0gY2hpbGQucmVwbGFjZShmcm9tIC0gcG9zLCB0byAtIHBvcywgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExpbmVzID0gdGhpcy5saW5lcyAtIGNoaWxkLmxpbmVzICsgdXBkYXRlZC5saW5lcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWQubGluZXMgPCAodG90YWxMaW5lcyA+PiAoNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovIC0gMSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmxpbmVzID4gKHRvdGFsTGluZXMgPj4gKDUgLyogVHJlZS5CcmFuY2hTaGlmdCAqLyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvcHkgPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5W2ldID0gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoY29weSwgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShwb3MsIGVuZCwgdXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5yZXBsYWNlKGZyb20sIHRvLCB0ZXh0KTtcbiAgICB9XG4gICAgc2xpY2VTdHJpbmcoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCwgbGluZVNlcCA9IFwiXFxuXCIpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiBwb3MgPD0gdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5zbGljZVN0cmluZyhmcm9tIC0gcG9zLCB0byAtIHBvcywgbGluZVNlcCk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICBjaGlsZC5mbGF0dGVuKHRhcmdldCk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwob3RoZXIsIGRpcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFRleHROb2RlKSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgbGV0IFtpQSwgaUIsIGVBLCBlQl0gPSBkaXIgPiAwID8gWzAsIDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoLCBvdGhlci5jaGlsZHJlbi5sZW5ndGhdXG4gICAgICAgICAgICA6IFt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEsIG90aGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCAtMV07XG4gICAgICAgIGZvciAoOzsgaUEgKz0gZGlyLCBpQiArPSBkaXIpIHtcbiAgICAgICAgICAgIGlmIChpQSA9PSBlQSB8fCBpQiA9PSBlQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGNoQSA9IHRoaXMuY2hpbGRyZW5baUFdLCBjaEIgPSBvdGhlci5jaGlsZHJlbltpQl07XG4gICAgICAgICAgICBpZiAoY2hBICE9IGNoQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoICsgY2hBLnNjYW5JZGVudGljYWwoY2hCLCBkaXIpO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGNoQS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKGNoaWxkcmVuLCBsZW5ndGggPSBjaGlsZHJlbi5yZWR1Y2UoKGwsIGNoKSA9PiBsICsgY2gubGVuZ3RoICsgMSwgLTEpKSB7XG4gICAgICAgIGxldCBsaW5lcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgbGluZXMgKz0gY2gubGluZXM7XG4gICAgICAgIGlmIChsaW5lcyA8IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICBsZXQgZmxhdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgY2ggb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgY2guZmxhdHRlbihmbGF0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYoZmxhdCwgbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2h1bmsgPSBNYXRoLm1heCgzMiAvKiBUcmVlLkJyYW5jaCAqLywgbGluZXMgPj4gNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovKSwgbWF4Q2h1bmsgPSBjaHVuayA8PCAxLCBtaW5DaHVuayA9IGNodW5rID4+IDE7XG4gICAgICAgIGxldCBjaHVua2VkID0gW10sIGN1cnJlbnRMaW5lcyA9IDAsIGN1cnJlbnRMZW4gPSAtMSwgY3VycmVudENodW5rID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGFkZChjaGlsZCkge1xuICAgICAgICAgICAgbGV0IGxhc3Q7XG4gICAgICAgICAgICBpZiAoY2hpbGQubGluZXMgPiBtYXhDaHVuayAmJiBjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBjaGlsZC5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgYWRkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQubGluZXMgPiBtaW5DaHVuayAmJiAoY3VycmVudExpbmVzID4gbWluQ2h1bmsgfHwgIWN1cnJlbnRMaW5lcykpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIGNodW5rZWQucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHRMZWFmICYmIGN1cnJlbnRMaW5lcyAmJlxuICAgICAgICAgICAgICAgIChsYXN0ID0gY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSkgaW5zdGFuY2VvZiBUZXh0TGVhZiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmxpbmVzICsgbGFzdC5saW5lcyA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lcyArPSBjaGlsZC5saW5lcztcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVuICs9IGNoaWxkLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSA9IG5ldyBUZXh0TGVhZihsYXN0LnRleHQuY29uY2F0KGNoaWxkLnRleHQpLCBsYXN0Lmxlbmd0aCArIDEgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lcyArIGNoaWxkLmxpbmVzID4gY2h1bmspXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmVzICs9IGNoaWxkLmxpbmVzO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMZW4gKz0gY2hpbGQubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpbmVzID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2h1bmtlZC5wdXNoKGN1cnJlbnRDaHVuay5sZW5ndGggPT0gMSA/IGN1cnJlbnRDaHVua1swXSA6IFRleHROb2RlLmZyb20oY3VycmVudENodW5rLCBjdXJyZW50TGVuKSk7XG4gICAgICAgICAgICBjdXJyZW50TGVuID0gLTE7XG4gICAgICAgICAgICBjdXJyZW50TGluZXMgPSBjdXJyZW50Q2h1bmsubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIGFkZChjaGlsZCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgICAgIHJldHVybiBjaHVua2VkLmxlbmd0aCA9PSAxID8gY2h1bmtlZFswXSA6IG5ldyBUZXh0Tm9kZShjaHVua2VkLCBsZW5ndGgpO1xuICAgIH1cbn1cblRleHQuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IFRleHRMZWFmKFtcIlwiXSwgMCk7XG5mdW5jdGlvbiB0ZXh0TGVuZ3RoKHRleHQpIHtcbiAgICBsZXQgbGVuZ3RoID0gLTE7XG4gICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KVxuICAgICAgICBsZW5ndGggKz0gbGluZS5sZW5ndGggKyAxO1xuICAgIHJldHVybiBsZW5ndGg7XG59XG5mdW5jdGlvbiBhcHBlbmRUZXh0KHRleHQsIHRhcmdldCwgZnJvbSA9IDAsIHRvID0gMWU5KSB7XG4gICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDAsIGZpcnN0ID0gdHJ1ZTsgaSA8IHRleHQubGVuZ3RoICYmIHBvcyA8PSB0bzsgaSsrKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGV4dFtpXSwgZW5kID0gcG9zICsgbGluZS5sZW5ndGg7XG4gICAgICAgIGlmIChlbmQgPj0gZnJvbSkge1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIHRvIC0gcG9zKTtcbiAgICAgICAgICAgIGlmIChwb3MgPCBmcm9tKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGZyb20gLSBwb3MpO1xuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXSArPSBsaW5lO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gZW5kICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHNsaWNlVGV4dCh0ZXh0LCBmcm9tLCB0bykge1xuICAgIHJldHVybiBhcHBlbmRUZXh0KHRleHQsIFtcIlwiXSwgZnJvbSwgdG8pO1xufVxuY2xhc3MgUmF3VGV4dEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgZGlyID0gMSkge1xuICAgICAgICB0aGlzLmRpciA9IGRpcjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGluZUJyZWFrID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLm5vZGVzID0gW3RleHRdO1xuICAgICAgICB0aGlzLm9mZnNldHMgPSBbZGlyID4gMCA/IDEgOiAodGV4dCBpbnN0YW5jZW9mIFRleHRMZWFmID8gdGV4dC50ZXh0Lmxlbmd0aCA6IHRleHQuY2hpbGRyZW4ubGVuZ3RoKSA8PCAxXTtcbiAgICB9XG4gICAgbmV4dElubmVyKHNraXAsIGRpcikge1xuICAgICAgICB0aGlzLmRvbmUgPSB0aGlzLmxpbmVCcmVhayA9IGZhbHNlO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLm5vZGVzW2xhc3RdLCBvZmZzZXRWYWx1ZSA9IHRoaXMub2Zmc2V0c1tsYXN0XSwgb2Zmc2V0ID0gb2Zmc2V0VmFsdWUgPj4gMTtcbiAgICAgICAgICAgIGxldCBzaXplID0gdG9wIGluc3RhbmNlb2YgVGV4dExlYWYgPyB0b3AudGV4dC5sZW5ndGggOiB0b3AuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAoZGlyID4gMCA/IHNpemUgOiAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3QgLSAxXSsrO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKG9mZnNldFZhbHVlICYgMSkgPT0gKGRpciA+IDAgPyAwIDogMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIGlmIChza2lwID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXAtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvcCBpbnN0YW5jZW9mIFRleHRMZWFmKSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBzdHJpbmdcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC50ZXh0W29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdICs9IGRpcjtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5sZW5ndGggPiBNYXRoLm1heCgwLCBza2lwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gc2tpcCA9PSAwID8gbmV4dCA6IGRpciA+IDAgPyBuZXh0LnNsaWNlKHNraXApIDogbmV4dC5zbGljZSgwLCBuZXh0Lmxlbmd0aCAtIHNraXApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcCAtPSBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdG9wLmNoaWxkcmVuW29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgaWYgKHNraXAgPiBuZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBza2lwIC09IG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpciA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0tLTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHMucHVzaChkaXIgPiAwID8gMSA6IChuZXh0IGluc3RhbmNlb2YgVGV4dExlYWYgPyBuZXh0LnRleHQubGVuZ3RoIDogbmV4dC5jaGlsZHJlbi5sZW5ndGgpIDw8IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0SW5uZXIoLXNraXAsICgtdGhpcy5kaXIpKTtcbiAgICAgICAgICAgIHNraXAgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0SW5uZXIoc2tpcCwgdGhpcy5kaXIpO1xuICAgIH1cbn1cbmNsYXNzIFBhcnRpYWxUZXh0Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBuZXcgUmF3VGV4dEN1cnNvcih0ZXh0LCBzdGFydCA+IGVuZCA/IC0xIDogMSk7XG4gICAgICAgIHRoaXMucG9zID0gc3RhcnQgPiBlbmQgPyB0ZXh0Lmxlbmd0aCA6IDA7XG4gICAgICAgIHRoaXMuZnJvbSA9IE1hdGgubWluKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLnRvID0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIG5leHRJbm5lcihza2lwLCBkaXIpIHtcbiAgICAgICAgaWYgKGRpciA8IDAgPyB0aGlzLnBvcyA8PSB0aGlzLmZyb20gOiB0aGlzLnBvcyA+PSB0aGlzLnRvKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBza2lwICs9IE1hdGgubWF4KDAsIGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMudG8gOiB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGxldCBsaW1pdCA9IGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMuZnJvbSA6IHRoaXMudG8gLSB0aGlzLnBvcztcbiAgICAgICAgaWYgKHNraXAgPiBsaW1pdClcbiAgICAgICAgICAgIHNraXAgPSBsaW1pdDtcbiAgICAgICAgbGltaXQgLT0gc2tpcDtcbiAgICAgICAgbGV0IHsgdmFsdWUgfSA9IHRoaXMuY3Vyc29yLm5leHQoc2tpcCk7XG4gICAgICAgIHRoaXMucG9zICs9ICh2YWx1ZS5sZW5ndGggKyBza2lwKSAqIGRpcjtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLmxlbmd0aCA8PSBsaW1pdCA/IHZhbHVlIDogZGlyIDwgMCA/IHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIGxpbWl0KSA6IHZhbHVlLnNsaWNlKDAsIGxpbWl0KTtcbiAgICAgICAgdGhpcy5kb25lID0gIXRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMClcbiAgICAgICAgICAgIHNraXAgPSBNYXRoLm1heChza2lwLCB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGVsc2UgaWYgKHNraXAgPiAwKVxuICAgICAgICAgICAgc2tpcCA9IE1hdGgubWluKHNraXAsIHRoaXMudG8gLSB0aGlzLnBvcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRJbm5lcihza2lwLCB0aGlzLmN1cnNvci5kaXIpO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gdGhpcy5jdXJzb3IubGluZUJyZWFrICYmIHRoaXMudmFsdWUgIT0gXCJcIjsgfVxufVxuY2xhc3MgTGluZUN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoaW5uZXIpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICAgICAgICB0aGlzLmFmdGVyQnJlYWsgPSB0cnVlO1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgfVxuICAgIG5leHQoc2tpcCA9IDApIHtcbiAgICAgICAgbGV0IHsgZG9uZSwgbGluZUJyZWFrLCB2YWx1ZSB9ID0gdGhpcy5pbm5lci5uZXh0KHNraXApO1xuICAgICAgICBpZiAoZG9uZSAmJiB0aGlzLmFmdGVyQnJlYWspIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVCcmVhaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWZ0ZXJCcmVhaykge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCcmVhayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmlmICh0eXBlb2YgU3ltYm9sICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBUZXh0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5pdGVyKCk7IH07XG4gICAgUmF3VGV4dEN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IFBhcnRpYWxUZXh0Q3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID1cbiAgICAgICAgTGluZUN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG59XG4vKipcblRoaXMgdHlwZSBkZXNjcmliZXMgYSBsaW5lIGluIHRoZSBkb2N1bWVudC4gSXQgaXMgY3JlYXRlZFxub24tZGVtYW5kIHdoZW4gbGluZXMgYXJlIFtxdWVyaWVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRleHQubGluZUF0KS5cbiovXG5jbGFzcyBMaW5lIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGluZSAoX2JlZm9yZV8gdGhlIGxpbmUgYnJlYWssXG4gICAgb3IgYXQgdGhlIGVuZCBvZiBkb2N1bWVudCBmb3IgdGhlIGxhc3QgbGluZSkuXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhpcyBsaW5lJ3MgbGluZSBudW1iZXIgKDEtYmFzZWQpLlxuICAgICovXG4gICAgbnVtYmVyLCBcbiAgICAvKipcbiAgICBUaGUgbGluZSdzIGNvbnRlbnQuXG4gICAgKi9cbiAgICB0ZXh0KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGxpbmUgKG5vdCBpbmNsdWRpbmcgYW55IGxpbmUgYnJlYWsgYWZ0ZXIgaXQpLlxuICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudG8gLSB0aGlzLmZyb207IH1cbn1cbmZ1bmN0aW9uIGNsaXAodGV4dCwgZnJvbSwgdG8pIHtcbiAgICBmcm9tID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGV4dC5sZW5ndGgsIGZyb20pKTtcbiAgICByZXR1cm4gW2Zyb20sIE1hdGgubWF4KGZyb20sIE1hdGgubWluKHRleHQubGVuZ3RoLCB0bykpXTtcbn1cblxuLy8gQ29tcHJlc3NlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgR3JhcGhlbWVfQ2x1c3Rlcl9CcmVhaz1FeHRlbmRcbi8vIGluZm9ybWF0aW9uIGZyb21cbi8vIGh0dHA6Ly93d3cudW5pY29kZS5vcmcvUHVibGljLzEzLjAuMC91Y2QvYXV4aWxpYXJ5L0dyYXBoZW1lQnJlYWtQcm9wZXJ0eS50eHQuXG4vLyBFYWNoIHBhaXIgb2YgZWxlbWVudHMgcmVwcmVzZW50cyBhIHJhbmdlLCBhcyBhbiBvZmZldCBmcm9tIHRoZVxuLy8gcHJldmlvdXMgcmFuZ2UgYW5kIGEgbGVuZ3RoLiBOdW1iZXJzIGFyZSBpbiBiYXNlLTM2LCB3aXRoIHRoZSBlbXB0eVxuLy8gc3RyaW5nIGJlaW5nIGEgc2hvcnRoYW5kIGZvciAxLlxubGV0IGV4dGVuZCA9IC8qQF9fUFVSRV9fKi9cImxjLDM0LDduLDcsN2IsMTksLCwsMiwsMiwsLDIwLGIsMWMsbCxnLCwydCw3LDIsNiwyLDIsLDQseiwsdSxyLDJqLGIsMW0sOSw5LCxvLDQsLDksLDMsLDUsMTcsMywzYixmLCx3LDFqLCwsLDQsOCw0LCwzLDcsYSwyLHQsLDFtLCwsLDIsNCw4LCw5LCxhLDIscSwsMiwyLDFsLCw0LDIsNCwyLDIsMywzLCx1LDIsMywsYiwyLDFsLCw0LDUsLDIsNCwsaywyLG0sNiwsLDFtLCwsMiwsNCw4LCw3LDMsYSwyLHUsLDFuLCwsLGMsLDksLDE0LCwzLCwxbCwzLDUsMywsNCw3LDIsYiwyLHQsLDFtLCwyLCwyLCwzLCw1LDIsNywyLGIsMixzLDIsMWwsMiwsLDIsNCw4LCw5LCxhLDIsdCwsMjAsLDQsLDIsMywsLDgsLDI5LCwyLDcsYyw4LDJxLCwyLDksYiw2LDIyLDIsciwsLCwsLDFqLGUsLDUsLDIsNSxiLCwxMCw5LCwydSw0LCw2LCwyLDIsMixwLDIsNCwzLGcsNCxkLCwyLDIsNiwsZiwsamosMyxxYSwzLHQsMyx0LDIsdSwyLDFzLDIsLDcsOCwsMixiLDksLDE5LDMsM2IsMix5LCwzYSwzLDQsMiw5LCw2LDMsNjMsMiwyLCwxbSwsLDcsLCwsLDIsOCw2LGEsMiwsMWMsaCwxciw0LDFjLDcsLCw1LCwxNCw5LGMsMix3LDQsMiwyLCwzLDFrLCwsMiwzLCwsMywxbSw4LDIsMiw0OCwzLCxkLCw3LDQsLDYsLDMsMiw1aSwxbSwsNSxlaywsNWYseCwyZGEsMywzeCwsMm8sdyxmZSw2LDJ4LDIsbjl3LDQsLGEsdywyLDI4LDIsN2ssLDMsLDQsLHAsMiw1LCw0NywyLHEsaSxkLCwxMiw4LHAsYiwxYSwzLDFjLCwyLDQsMiwyLDEzLCwxdiw2LDIsMiwyLDIsYywsOCwsMWIsLDFmLCwsMywyLDIsNSwyLCwsMTYsMiw4LCw2bSwsMiwsNCwsZm40LCxraCxnLGcsZyxhNiwyLGd0LCw2YSwsNDUsNSwxYWUsMywsMiw1LDQsMTQsMyw0LCw0bCwyLGZ4LDQsYXIsMiw0OSxiLDR3LCwxaSxmLDFrLDMsMWQsNCwyLDIsMXgsMywxMCw1LCw4LDFxLCxjLDIsMWcsOSxhLDQsMiwsMm4sMywyLCwsMiw2LCw0ZywsMyw4LGwsMiwxbCwyLCwsLCxtLCxlLDcsMyw1LDVmLDgsMiwzLCwsbiwsMjksLDIsNiwsLDIsLCwyLCwyLDZqLCwyLDQsNiwyLCwyLHIsMiwyZCw4LDIsLCwyLDJ5LCwsLDIsNiwsLDJ0LDMsMiw0LCw1LDc3LDksLDIsNnQsLGEsMiwsLDQsLDQwLDQsMiwyLDQsLHcsYSwxNCw2LDIsNCw4LCw5LDYsMiwzLDFhLGQsLDIsYmEsNywsNiwsLDJhLG0sMiw3LCwyLCwyLDNlLDYsMywsLDIsLDcsLCwyMCwyLDMsLCwsOW4sMixmMGIsNSwxbiw3LHQ0LCwxciw0LDI5LCxmNWssMiw0M3EsLCwzLDQsNSw4LDgsMiw3LHUsNCw0NCwzLDFpeiwxaiw0LDFlLDgsLGUsLG0sNSwsZiwxMXMsNywsaCwyLDcsLDIsLDUsNzksNyxjNSw0LDE1cyw3LDMxLDcsMjQwLDUsZ3g3aywybywzayw2b1wiLnNwbGl0KFwiLFwiKS5tYXAocyA9PiBzID8gcGFyc2VJbnQocywgMzYpIDogMSk7XG4vLyBDb252ZXJ0IG9mZnNldHMgaW50byBhYnNvbHV0ZSB2YWx1ZXNcbmZvciAobGV0IGkgPSAxOyBpIDwgZXh0ZW5kLmxlbmd0aDsgaSsrKVxuICAgIGV4dGVuZFtpXSArPSBleHRlbmRbaSAtIDFdO1xuZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNvZGUpIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGV4dGVuZC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgaWYgKGV4dGVuZFtpXSA+IGNvZGUpXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kW2kgLSAxXSA8PSBjb2RlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzUmVnaW9uYWxJbmRpY2F0b3IoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDB4MUYxRTYgJiYgY29kZSA8PSAweDFGMUZGO1xufVxuY29uc3QgWldKID0gMHgyMDBkO1xuLyoqXG5SZXR1cm5zIGEgbmV4dCBncmFwaGVtZSBjbHVzdGVyIGJyZWFrIF9hZnRlcl8gKG5vdCBlcXVhbCB0bylcbmBwb3NgLCBpZiBgZm9yd2FyZGAgaXMgdHJ1ZSwgb3IgYmVmb3JlIG90aGVyd2lzZS4gUmV0dXJucyBgcG9zYFxuaXRzZWxmIGlmIG5vIGZ1cnRoZXIgY2x1c3RlciBicmVhayBpcyBhdmFpbGFibGUgaW4gdGhlIHN0cmluZy5cbk1vdmVzIGFjcm9zcyBzdXJyb2dhdGUgcGFpcnMsIGV4dGVuZGluZyBjaGFyYWN0ZXJzICh3aGVuXG5gaW5jbHVkZUV4dGVuZGluZ2AgaXMgdHJ1ZSksIGNoYXJhY3RlcnMgam9pbmVkIHdpdGggemVyby13aWR0aFxuam9pbmVycywgYW5kIGZsYWcgZW1vamkuXG4qL1xuZnVuY3Rpb24gZmluZENsdXN0ZXJCcmVhayhzdHIsIHBvcywgZm9yd2FyZCA9IHRydWUsIGluY2x1ZGVFeHRlbmRpbmcgPSB0cnVlKSB7XG4gICAgcmV0dXJuIChmb3J3YXJkID8gbmV4dENsdXN0ZXJCcmVhayA6IHByZXZDbHVzdGVyQnJlYWspKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKTtcbn1cbmZ1bmN0aW9uIG5leHRDbHVzdGVyQnJlYWsoc3RyLCBwb3MsIGluY2x1ZGVFeHRlbmRpbmcpIHtcbiAgICBpZiAocG9zID09IHN0ci5sZW5ndGgpXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgLy8gSWYgcG9zIGlzIGluIHRoZSBtaWRkbGUgb2YgYSBzdXJyb2dhdGUgcGFpciwgbW92ZSB0byBpdHMgc3RhcnRcbiAgICBpZiAocG9zICYmIHN1cnJvZ2F0ZUxvdyhzdHIuY2hhckNvZGVBdChwb3MpKSAmJiBzdXJyb2dhdGVIaWdoKHN0ci5jaGFyQ29kZUF0KHBvcyAtIDEpKSlcbiAgICAgICAgcG9zLS07XG4gICAgbGV0IHByZXYgPSBjb2RlUG9pbnRBdChzdHIsIHBvcyk7XG4gICAgcG9zICs9IGNvZGVQb2ludFNpemUocHJldik7XG4gICAgd2hpbGUgKHBvcyA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5leHQgPSBjb2RlUG9pbnRBdChzdHIsIHBvcyk7XG4gICAgICAgIGlmIChwcmV2ID09IFpXSiB8fCBuZXh0ID09IFpXSiB8fCBpbmNsdWRlRXh0ZW5kaW5nICYmIGlzRXh0ZW5kaW5nQ2hhcihuZXh0KSkge1xuICAgICAgICAgICAgcG9zICs9IGNvZGVQb2ludFNpemUobmV4dCk7XG4gICAgICAgICAgICBwcmV2ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZ2lvbmFsSW5kaWNhdG9yKG5leHQpKSB7XG4gICAgICAgICAgICBsZXQgY291bnRCZWZvcmUgPSAwLCBpID0gcG9zIC0gMjtcbiAgICAgICAgICAgIHdoaWxlIChpID49IDAgJiYgaXNSZWdpb25hbEluZGljYXRvcihjb2RlUG9pbnRBdChzdHIsIGkpKSkge1xuICAgICAgICAgICAgICAgIGNvdW50QmVmb3JlKys7XG4gICAgICAgICAgICAgICAgaSAtPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvdW50QmVmb3JlICUgMiA9PSAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbmZ1bmN0aW9uIHByZXZDbHVzdGVyQnJlYWsoc3RyLCBwb3MsIGluY2x1ZGVFeHRlbmRpbmcpIHtcbiAgICB3aGlsZSAocG9zID4gMCkge1xuICAgICAgICBsZXQgZm91bmQgPSBuZXh0Q2x1c3RlckJyZWFrKHN0ciwgcG9zIC0gMiwgaW5jbHVkZUV4dGVuZGluZyk7XG4gICAgICAgIGlmIChmb3VuZCA8IHBvcylcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgcG9zLS07XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gc3Vycm9nYXRlTG93KGNoKSB7IHJldHVybiBjaCA+PSAweERDMDAgJiYgY2ggPCAweEUwMDA7IH1cbmZ1bmN0aW9uIHN1cnJvZ2F0ZUhpZ2goY2gpIHsgcmV0dXJuIGNoID49IDB4RDgwMCAmJiBjaCA8IDB4REMwMDsgfVxuLyoqXG5GaW5kIHRoZSBjb2RlIHBvaW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBpbiBhIHN0cmluZyAobGlrZSB0aGVcbltgY29kZVBvaW50QXRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvY29kZVBvaW50QXQpXG5zdHJpbmcgbWV0aG9kKS5cbiovXG5mdW5jdGlvbiBjb2RlUG9pbnRBdChzdHIsIHBvcykge1xuICAgIGxldCBjb2RlMCA9IHN0ci5jaGFyQ29kZUF0KHBvcyk7XG4gICAgaWYgKCFzdXJyb2dhdGVIaWdoKGNvZGUwKSB8fCBwb3MgKyAxID09IHN0ci5sZW5ndGgpXG4gICAgICAgIHJldHVybiBjb2RlMDtcbiAgICBsZXQgY29kZTEgPSBzdHIuY2hhckNvZGVBdChwb3MgKyAxKTtcbiAgICBpZiAoIXN1cnJvZ2F0ZUxvdyhjb2RlMSkpXG4gICAgICAgIHJldHVybiBjb2RlMDtcbiAgICByZXR1cm4gKChjb2RlMCAtIDB4ZDgwMCkgPDwgMTApICsgKGNvZGUxIC0gMHhkYzAwKSArIDB4MTAwMDA7XG59XG4vKipcbkdpdmVuIGEgVW5pY29kZSBjb2RlcG9pbnQsIHJldHVybiB0aGUgSmF2YVNjcmlwdCBzdHJpbmcgdGhhdFxucmVzcHJlc2VudHMgaXQgKGxpa2VcbltgU3RyaW5nLmZyb21Db2RlUG9pbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvZnJvbUNvZGVQb2ludCkpLlxuKi9cbmZ1bmN0aW9uIGZyb21Db2RlUG9pbnQoY29kZSkge1xuICAgIGlmIChjb2RlIDw9IDB4ZmZmZilcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgY29kZSAtPSAweDEwMDAwO1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKChjb2RlID4+IDEwKSArIDB4ZDgwMCwgKGNvZGUgJiAxMDIzKSArIDB4ZGMwMCk7XG59XG4vKipcblRoZSBhbW91bnQgb2YgcG9zaXRpb25zIGEgY2hhcmFjdGVyIHRha2VzIHVwIGEgSmF2YVNjcmlwdCBzdHJpbmcuXG4qL1xuZnVuY3Rpb24gY29kZVBvaW50U2l6ZShjb2RlKSB7IHJldHVybiBjb2RlIDwgMHgxMDAwMCA/IDEgOiAyOyB9XG5cbmNvbnN0IERlZmF1bHRTcGxpdCA9IC9cXHJcXG4/fFxcbi87XG4vKipcbkRpc3Rpbmd1aXNoZXMgZGlmZmVyZW50IHdheXMgaW4gd2hpY2ggcG9zaXRpb25zIGNhbiBiZSBtYXBwZWQuXG4qL1xudmFyIE1hcE1vZGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNYXBNb2RlKSB7XG4gICAgLyoqXG4gICAgTWFwIGEgcG9zaXRpb24gdG8gYSB2YWxpZCBuZXcgcG9zaXRpb24sIGV2ZW4gd2hlbiBpdHMgY29udGV4dFxuICAgIHdhcyBkZWxldGVkLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiU2ltcGxlXCJdID0gMF0gPSBcIlNpbXBsZVwiO1xuICAgIC8qKlxuICAgIFJldHVybiBudWxsIGlmIGRlbGV0aW9uIGhhcHBlbnMgYWNyb3NzIHRoZSBwb3NpdGlvbi5cbiAgICAqL1xuICAgIE1hcE1vZGVbTWFwTW9kZVtcIlRyYWNrRGVsXCJdID0gMV0gPSBcIlRyYWNrRGVsXCI7XG4gICAgLyoqXG4gICAgUmV0dXJuIG51bGwgaWYgdGhlIGNoYXJhY3RlciBfYmVmb3JlXyB0aGUgcG9zaXRpb24gaXMgZGVsZXRlZC5cbiAgICAqL1xuICAgIE1hcE1vZGVbTWFwTW9kZVtcIlRyYWNrQmVmb3JlXCJdID0gMl0gPSBcIlRyYWNrQmVmb3JlXCI7XG4gICAgLyoqXG4gICAgUmV0dXJuIG51bGwgaWYgdGhlIGNoYXJhY3RlciBfYWZ0ZXJfIHRoZSBwb3NpdGlvbiBpcyBkZWxldGVkLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiVHJhY2tBZnRlclwiXSA9IDNdID0gXCJUcmFja0FmdGVyXCI7XG5yZXR1cm4gTWFwTW9kZX0pKE1hcE1vZGUgfHwgKE1hcE1vZGUgPSB7fSkpO1xuLyoqXG5BIGNoYW5nZSBkZXNjcmlwdGlvbiBpcyBhIHZhcmlhbnQgb2YgW2NoYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlU2V0KVxudGhhdCBkb2Vzbid0IHN0b3JlIHRoZSBpbnNlcnRlZCB0ZXh0LiBBcyBzdWNoLCBpdCBjYW4ndCBiZVxuYXBwbGllZCwgYnV0IGlzIGNoZWFwZXIgdG8gc3RvcmUgYW5kIG1hbmlwdWxhdGUuXG4qL1xuY2xhc3MgQ2hhbmdlRGVzYyB7XG4gICAgLy8gU2VjdGlvbnMgYXJlIGVuY29kZWQgYXMgcGFpcnMgb2YgaW50ZWdlcnMuIFRoZSBmaXJzdCBpcyB0aGVcbiAgICAvLyBsZW5ndGggaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQsIGFuZCB0aGUgc2Vjb25kIGlzIC0xIGZvclxuICAgIC8vIHVuYWZmZWN0ZWQgc2VjdGlvbnMsIGFuZCB0aGUgbGVuZ3RoIG9mIHRoZSByZXBsYWNlbWVudCBjb250ZW50XG4gICAgLy8gb3RoZXJ3aXNlLiBTbyBhbiBpbnNlcnRpb24gd291bGQgYmUgKDAsIG4+MCksIGEgZGVsZXRpb24gKG4+MCxcbiAgICAvLyAwKSwgYW5kIGEgcmVwbGFjZW1lbnQgdHdvIHBvc2l0aXZlIG51bWJlcnMuXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNlY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuc2VjdGlvbnMgPSBzZWN0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZG9jdW1lbnQgYmVmb3JlIHRoZSBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuc2VjdGlvbnNbaV07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGRvY3VtZW50IGFmdGVyIHRoZSBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgbmV3TGVuZ3RoKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgaW5zID0gdGhpcy5zZWN0aW9uc1tpICsgMV07XG4gICAgICAgICAgICByZXN1bHQgKz0gaW5zIDwgMCA/IHRoaXMuc2VjdGlvbnNbaV0gOiBpbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgRmFsc2Ugd2hlbiB0aGVyZSBhcmUgYWN0dWFsIGNoYW5nZXMgaW4gdGhpcyBzZXQuXG4gICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7IHJldHVybiB0aGlzLnNlY3Rpb25zLmxlbmd0aCA9PSAwIHx8IHRoaXMuc2VjdGlvbnMubGVuZ3RoID09IDIgJiYgdGhpcy5zZWN0aW9uc1sxXSA8IDA7IH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHVuY2hhbmdlZCBwYXJ0cyBsZWZ0IGJ5IHRoZXNlIGNoYW5nZXMuIGBwb3NBYFxuICAgIHByb3ZpZGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcmFuZ2UgaW4gdGhlIG9sZCBkb2N1bWVudCwgYHBvc0JgXG4gICAgdGhlIG5ldyBwb3NpdGlvbiBpbiB0aGUgY2hhbmdlZCBkb2N1bWVudC5cbiAgICAqL1xuICAgIGl0ZXJHYXBzKGYpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvc0EgPSAwLCBwb3NCID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgaWYgKGlucyA8IDApIHtcbiAgICAgICAgICAgICAgICBmKHBvc0EsIHBvc0IsIGxlbik7XG4gICAgICAgICAgICAgICAgcG9zQiArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NCICs9IGlucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc0EgKz0gbGVuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGNoYW5nZWQgYnkgdGhlc2UgY2hhbmdlcy4gKFNlZVxuICAgIFtgQ2hhbmdlU2V0Lml0ZXJDaGFuZ2VzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQuaXRlckNoYW5nZXMpIGZvciBhXG4gICAgdmFyaWFudCB0aGF0IGFsc28gcHJvdmlkZXMgeW91IHdpdGggdGhlIGluc2VydGVkIHRleHQuKVxuICAgIGBmcm9tQWAvYHRvQWAgcHJvdmlkZXMgdGhlIGV4dGVudCBvZiB0aGUgY2hhbmdlIGluIHRoZSBzdGFydGluZ1xuICAgIGRvY3VtZW50LCBgZnJvbUJgL2B0b0JgIHRoZSBleHRlbnQgb2YgdGhlIHJlcGxhY2VtZW50IGluIHRoZVxuICAgIGNoYW5nZWQgZG9jdW1lbnQuXG4gICAgXG4gICAgV2hlbiBgaW5kaXZpZHVhbGAgaXMgdHJ1ZSwgYWRqYWNlbnQgY2hhbmdlcyAod2hpY2ggYXJlIGtlcHRcbiAgICBzZXBhcmF0ZSBmb3IgW3Bvc2l0aW9uIG1hcHBpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlRGVzYy5tYXBQb3MpKSBhcmVcbiAgICByZXBvcnRlZCBzZXBhcmF0ZWx5LlxuICAgICovXG4gICAgaXRlckNoYW5nZWRSYW5nZXMoZiwgaW5kaXZpZHVhbCA9IGZhbHNlKSB7XG4gICAgICAgIGl0ZXJDaGFuZ2VzKHRoaXMsIGYsIGluZGl2aWR1YWwpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaW52ZXJ0ZWQgZm9ybSBvZiB0aGVzZSBjaGFuZ2VzLlxuICAgICovXG4gICAgZ2V0IGludmVydGVkRGVzYygpIHtcbiAgICAgICAgbGV0IHNlY3Rpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICBpZiAoaW5zIDwgMClcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKGxlbiwgaW5zKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKGlucywgbGVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENoYW5nZURlc2Moc2VjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wdXRlIHRoZSBjb21iaW5lZCBlZmZlY3Qgb2YgYXBwbHlpbmcgYW5vdGhlciBzZXQgb2YgY2hhbmdlc1xuICAgIGFmdGVyIHRoaXMgb25lLiBUaGUgbGVuZ3RoIG9mIHRoZSBkb2N1bWVudCBhZnRlciB0aGlzIHNldCBzaG91bGRcbiAgICBtYXRjaCB0aGUgbGVuZ3RoIGJlZm9yZSBgb3RoZXJgLlxuICAgICovXG4gICAgY29tcG9zZURlc2Mob3RoZXIpIHsgcmV0dXJuIHRoaXMuZW1wdHkgPyBvdGhlciA6IG90aGVyLmVtcHR5ID8gdGhpcyA6IGNvbXBvc2VTZXRzKHRoaXMsIG90aGVyKTsgfVxuICAgIC8qKlxuICAgIE1hcCB0aGlzIGRlc2NyaXB0aW9uLCB3aGljaCBzaG91bGQgc3RhcnQgd2l0aCB0aGUgc2FtZSBkb2N1bWVudFxuICAgIGFzIGBvdGhlcmAsIG92ZXIgYW5vdGhlciBzZXQgb2YgY2hhbmdlcywgc28gdGhhdCBpdCBjYW4gYmVcbiAgICBhcHBsaWVkIGFmdGVyIGl0LiBXaGVuIGBiZWZvcmVgIGlzIHRydWUsIG1hcCBhcyBpZiB0aGUgY2hhbmdlc1xuICAgIGluIGBvdGhlcmAgaGFwcGVuZWQgYmVmb3JlIHRoZSBvbmVzIGluIGB0aGlzYC5cbiAgICAqL1xuICAgIG1hcERlc2Mob3RoZXIsIGJlZm9yZSA9IGZhbHNlKSB7IHJldHVybiBvdGhlci5lbXB0eSA/IHRoaXMgOiBtYXBTZXQodGhpcywgb3RoZXIsIGJlZm9yZSk7IH1cbiAgICBtYXBQb3MocG9zLCBhc3NvYyA9IC0xLCBtb2RlID0gTWFwTW9kZS5TaW1wbGUpIHtcbiAgICAgICAgbGV0IHBvc0EgPSAwLCBwb3NCID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgZW5kQSA9IHBvc0EgKyBsZW47XG4gICAgICAgICAgICBpZiAoaW5zIDwgMCkge1xuICAgICAgICAgICAgICAgIGlmIChlbmRBID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQiArIChwb3MgLSBwb3NBKTtcbiAgICAgICAgICAgICAgICBwb3NCICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlICE9IE1hcE1vZGUuU2ltcGxlICYmIGVuZEEgPj0gcG9zICYmXG4gICAgICAgICAgICAgICAgICAgIChtb2RlID09IE1hcE1vZGUuVHJhY2tEZWwgJiYgcG9zQSA8IHBvcyAmJiBlbmRBID4gcG9zIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09IE1hcE1vZGUuVHJhY2tCZWZvcmUgJiYgcG9zQSA8IHBvcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9PSBNYXBNb2RlLlRyYWNrQWZ0ZXIgJiYgZW5kQSA+IHBvcykpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChlbmRBID4gcG9zIHx8IGVuZEEgPT0gcG9zICYmIGFzc29jIDwgMCAmJiAhbGVuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zID09IHBvc0EgfHwgYXNzb2MgPCAwID8gcG9zQiA6IHBvc0IgKyBpbnM7XG4gICAgICAgICAgICAgICAgcG9zQiArPSBpbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3NBID0gZW5kQTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zID4gcG9zQSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBQb3NpdGlvbiAke3Bvc30gaXMgb3V0IG9mIHJhbmdlIGZvciBjaGFuZ2VzZXQgb2YgbGVuZ3RoICR7cG9zQX1gKTtcbiAgICAgICAgcmV0dXJuIHBvc0I7XG4gICAgfVxuICAgIC8qKlxuICAgIENoZWNrIHdoZXRoZXIgdGhlc2UgY2hhbmdlcyB0b3VjaCBhIGdpdmVuIHJhbmdlLiBXaGVuIG9uZSBvZiB0aGVcbiAgICBjaGFuZ2VzIGVudGlyZWx5IGNvdmVycyB0aGUgcmFuZ2UsIHRoZSBzdHJpbmcgYFwiY292ZXJcImAgaXNcbiAgICByZXR1cm5lZC5cbiAgICAqL1xuICAgIHRvdWNoZXNSYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aCAmJiBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK10sIGVuZCA9IHBvcyArIGxlbjtcbiAgICAgICAgICAgIGlmIChpbnMgPj0gMCAmJiBwb3MgPD0gdG8gJiYgZW5kID49IGZyb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcyA8IGZyb20gJiYgZW5kID4gdG8gPyBcImNvdmVyXCIgOiB0cnVlO1xuICAgICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICByZXN1bHQgKz0gKHJlc3VsdCA/IFwiIFwiIDogXCJcIikgKyBsZW4gKyAoaW5zID49IDAgPyBcIjpcIiArIGlucyA6IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFNlcmlhbGl6ZSB0aGlzIGNoYW5nZSBkZXNjIHRvIGEgSlNPTi1yZXByZXNlbnRhYmxlIHZhbHVlLlxuICAgICovXG4gICAgdG9KU09OKCkgeyByZXR1cm4gdGhpcy5zZWN0aW9uczsgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGNoYW5nZSBkZXNjIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gKGFzIHByb2R1Y2VkXG4gICAgYnkgW2B0b0pTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZURlc2MudG9KU09OKS5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uKSB8fCBqc29uLmxlbmd0aCAlIDIgfHwganNvbi5zb21lKGEgPT4gdHlwZW9mIGEgIT0gXCJudW1iZXJcIikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBDaGFuZ2VEZXNjXCIpO1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZURlc2MoanNvbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShzZWN0aW9ucykgeyByZXR1cm4gbmV3IENoYW5nZURlc2Moc2VjdGlvbnMpOyB9XG59XG4vKipcbkEgY2hhbmdlIHNldCByZXByZXNlbnRzIGEgZ3JvdXAgb2YgbW9kaWZpY2F0aW9ucyB0byBhIGRvY3VtZW50LiBJdFxuc3RvcmVzIHRoZSBkb2N1bWVudCBsZW5ndGgsIGFuZCBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGRvY3VtZW50c1xud2l0aCBleGFjdGx5IHRoYXQgbGVuZ3RoLlxuKi9cbmNsYXNzIENoYW5nZVNldCBleHRlbmRzIENoYW5nZURlc2Mge1xuICAgIGNvbnN0cnVjdG9yKHNlY3Rpb25zLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGluc2VydGVkKSB7XG4gICAgICAgIHN1cGVyKHNlY3Rpb25zKTtcbiAgICAgICAgdGhpcy5pbnNlcnRlZCA9IGluc2VydGVkO1xuICAgIH1cbiAgICAvKipcbiAgICBBcHBseSB0aGUgY2hhbmdlcyB0byBhIGRvY3VtZW50LCByZXR1cm5pbmcgdGhlIG1vZGlmaWVkXG4gICAgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBhcHBseShkb2MpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoICE9IGRvYy5sZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFwcGx5aW5nIGNoYW5nZSBzZXQgdG8gYSBkb2N1bWVudCB3aXRoIHRoZSB3cm9uZyBsZW5ndGhcIik7XG4gICAgICAgIGl0ZXJDaGFuZ2VzKHRoaXMsIChmcm9tQSwgdG9BLCBmcm9tQiwgX3RvQiwgdGV4dCkgPT4gZG9jID0gZG9jLnJlcGxhY2UoZnJvbUIsIGZyb21CICsgKHRvQSAtIGZyb21BKSwgdGV4dCksIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG4gICAgbWFwRGVzYyhvdGhlciwgYmVmb3JlID0gZmFsc2UpIHsgcmV0dXJuIG1hcFNldCh0aGlzLCBvdGhlciwgYmVmb3JlLCB0cnVlKTsgfVxuICAgIC8qKlxuICAgIEdpdmVuIHRoZSBkb2N1bWVudCBhcyBpdCBleGlzdGVkIF9iZWZvcmVfIHRoZSBjaGFuZ2VzLCByZXR1cm4gYVxuICAgIGNoYW5nZSBzZXQgdGhhdCByZXByZXNlbnRzIHRoZSBpbnZlcnNlIG9mIHRoaXMgc2V0LCB3aGljaCBjb3VsZFxuICAgIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgZG9jdW1lbnQgY3JlYXRlZCBieSB0aGUgY2hhbmdlcyBiYWNrIHRvXG4gICAgdGhlIGRvY3VtZW50IGFzIGl0IGV4aXN0ZWQgYmVmb3JlIHRoZSBjaGFuZ2VzLlxuICAgICovXG4gICAgaW52ZXJ0KGRvYykge1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSB0aGlzLnNlY3Rpb25zLnNsaWNlKCksIGluc2VydGVkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSBzZWN0aW9uc1tpXSwgaW5zID0gc2VjdGlvbnNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGlucyA+PSAwKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnNbaV0gPSBpbnM7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnNbaSArIDFdID0gbGVuO1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGkgPj4gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaW5zZXJ0ZWQubGVuZ3RoIDwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkLnB1c2goVGV4dC5lbXB0eSk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWQucHVzaChsZW4gPyBkb2Muc2xpY2UocG9zLCBwb3MgKyBsZW4pIDogVGV4dC5lbXB0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgKz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbWJpbmUgdHdvIHN1YnNlcXVlbnQgY2hhbmdlIHNldHMgaW50byBhIHNpbmdsZSBzZXQuIGBvdGhlcmBcbiAgICBtdXN0IHN0YXJ0IGluIHRoZSBkb2N1bWVudCBwcm9kdWNlZCBieSBgdGhpc2AuIElmIGB0aGlzYCBnb2VzXG4gICAgYGRvY0FgIOKGkiBgZG9jQmAgYW5kIGBvdGhlcmAgcmVwcmVzZW50cyBgZG9jQmAg4oaSIGBkb2NDYCwgdGhlXG4gICAgcmV0dXJuZWQgdmFsdWUgd2lsbCByZXByZXNlbnQgdGhlIGNoYW5nZSBgZG9jQWAg4oaSIGBkb2NDYC5cbiAgICAqL1xuICAgIGNvbXBvc2Uob3RoZXIpIHsgcmV0dXJuIHRoaXMuZW1wdHkgPyBvdGhlciA6IG90aGVyLmVtcHR5ID8gdGhpcyA6IGNvbXBvc2VTZXRzKHRoaXMsIG90aGVyLCB0cnVlKTsgfVxuICAgIC8qKlxuICAgIEdpdmVuIGFub3RoZXIgY2hhbmdlIHNldCBzdGFydGluZyBpbiB0aGUgc2FtZSBkb2N1bWVudCwgbWFwcyB0aGlzXG4gICAgY2hhbmdlIHNldCBvdmVyIHRoZSBvdGhlciwgcHJvZHVjaW5nIGEgbmV3IGNoYW5nZSBzZXQgdGhhdCBjYW4gYmVcbiAgICBhcHBsaWVkIHRvIHRoZSBkb2N1bWVudCBwcm9kdWNlZCBieSBhcHBseWluZyBgb3RoZXJgLiBXaGVuXG4gICAgYGJlZm9yZWAgaXMgYHRydWVgLCBvcmRlciBjaGFuZ2VzIGFzIGlmIGB0aGlzYCBjb21lcyBiZWZvcmVcbiAgICBgb3RoZXJgLCBvdGhlcndpc2UgKHRoZSBkZWZhdWx0KSB0cmVhdCBgb3RoZXJgIGFzIGNvbWluZyBmaXJzdC5cbiAgICBcbiAgICBHaXZlbiB0d28gY2hhbmdlcyBgQWAgYW5kIGBCYCwgYEEuY29tcG9zZShCLm1hcChBKSlgIGFuZFxuICAgIGBCLmNvbXBvc2UoQS5tYXAoQiwgdHJ1ZSkpYCB3aWxsIHByb2R1Y2UgdGhlIHNhbWUgZG9jdW1lbnQuIFRoaXNcbiAgICBwcm92aWRlcyBhIGJhc2ljIGZvcm0gb2YgW29wZXJhdGlvbmFsXG4gICAgdHJhbnNmb3JtYXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09wZXJhdGlvbmFsX3RyYW5zZm9ybWF0aW9uKSxcbiAgICBhbmQgY2FuIGJlIHVzZWQgZm9yIGNvbGxhYm9yYXRpdmUgZWRpdGluZy5cbiAgICAqL1xuICAgIG1hcChvdGhlciwgYmVmb3JlID0gZmFsc2UpIHsgcmV0dXJuIG90aGVyLmVtcHR5ID8gdGhpcyA6IG1hcFNldCh0aGlzLCBvdGhlciwgYmVmb3JlLCB0cnVlKTsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgY2hhbmdlZCByYW5nZXMgaW4gdGhlIGRvY3VtZW50LCBjYWxsaW5nIGBmYCBmb3JcbiAgICBlYWNoLCB3aXRoIHRoZSByYW5nZSBpbiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgKGBmcm9tQWAtYHRvQWApXG4gICAgYW5kIHRoZSByYW5nZSB0aGF0IHJlcGxhY2VzIGl0IGluIHRoZSBuZXcgZG9jdW1lbnRcbiAgICAoYGZyb21CYC1gdG9CYCkuXG4gICAgXG4gICAgV2hlbiBgaW5kaXZpZHVhbGAgaXMgdHJ1ZSwgYWRqYWNlbnQgY2hhbmdlcyBhcmUgcmVwb3J0ZWRcbiAgICBzZXBhcmF0ZWx5LlxuICAgICovXG4gICAgaXRlckNoYW5nZXMoZiwgaW5kaXZpZHVhbCA9IGZhbHNlKSB7XG4gICAgICAgIGl0ZXJDaGFuZ2VzKHRoaXMsIGYsIGluZGl2aWR1YWwpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbY2hhbmdlIGRlc2NyaXB0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZURlc2MpIGZvciB0aGlzIGNoYW5nZVxuICAgIHNldC5cbiAgICAqL1xuICAgIGdldCBkZXNjKCkgeyByZXR1cm4gQ2hhbmdlRGVzYy5jcmVhdGUodGhpcy5zZWN0aW9ucyk7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZpbHRlcihyYW5nZXMpIHtcbiAgICAgICAgbGV0IHJlc3VsdFNlY3Rpb25zID0gW10sIHJlc3VsdEluc2VydGVkID0gW10sIGZpbHRlcmVkU2VjdGlvbnMgPSBbXTtcbiAgICAgICAgbGV0IGl0ZXIgPSBuZXcgU2VjdGlvbkl0ZXIodGhpcyk7XG4gICAgICAgIGRvbmU6IGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaSA9PSByYW5nZXMubGVuZ3RoID8gMWU5IDogcmFuZ2VzW2krK107XG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgbmV4dCB8fCBwb3MgPT0gbmV4dCAmJiBpdGVyLmxlbiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXIuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZG9uZTtcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oaXRlci5sZW4sIG5leHQgLSBwb3MpO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oZmlsdGVyZWRTZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICAgICAgbGV0IGlucyA9IGl0ZXIuaW5zID09IC0xID8gLTEgOiBpdGVyLm9mZiA9PSAwID8gaXRlci5pbnMgOiAwO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24ocmVzdWx0U2VjdGlvbnMsIGxlbiwgaW5zKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zID4gMClcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KHJlc3VsdEluc2VydGVkLCByZXN1bHRTZWN0aW9ucywgaXRlci50ZXh0KTtcbiAgICAgICAgICAgICAgICBpdGVyLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGVuZCA9IHJhbmdlc1tpKytdO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyLmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRvbmU7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IE1hdGgubWluKGl0ZXIubGVuLCBlbmQgLSBwb3MpO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24ocmVzdWx0U2VjdGlvbnMsIGxlbiwgLTEpO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oZmlsdGVyZWRTZWN0aW9ucywgbGVuLCBpdGVyLmlucyA9PSAtMSA/IC0xIDogaXRlci5vZmYgPT0gMCA/IGl0ZXIuaW5zIDogMCk7XG4gICAgICAgICAgICAgICAgaXRlci5mb3J3YXJkKGxlbik7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBuZXcgQ2hhbmdlU2V0KHJlc3VsdFNlY3Rpb25zLCByZXN1bHRJbnNlcnRlZCksXG4gICAgICAgICAgICBmaWx0ZXJlZDogQ2hhbmdlRGVzYy5jcmVhdGUoZmlsdGVyZWRTZWN0aW9ucykgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2VyaWFsaXplIHRoaXMgY2hhbmdlIHNldCB0byBhIEpTT04tcmVwcmVzZW50YWJsZSB2YWx1ZS5cbiAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaV0sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGlucyA8IDApXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChsZW4pO1xuICAgICAgICAgICAgZWxzZSBpZiAoaW5zID09IDApXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChbbGVuXSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChbbGVuXS5jb25jYXQodGhpcy5pbnNlcnRlZFtpID4+IDFdLnRvSlNPTigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjaGFuZ2Ugc2V0IGZvciB0aGUgZ2l2ZW4gY2hhbmdlcywgZm9yIGEgZG9jdW1lbnQgb2YgdGhlXG4gICAgZ2l2ZW4gbGVuZ3RoLCB1c2luZyBgbGluZVNlcGAgYXMgbGluZSBzZXBhcmF0b3IuXG4gICAgKi9cbiAgICBzdGF0aWMgb2YoY2hhbmdlcywgbGVuZ3RoLCBsaW5lU2VwKSB7XG4gICAgICAgIGxldCBzZWN0aW9ucyA9IFtdLCBpbnNlcnRlZCA9IFtdLCBwb3MgPSAwO1xuICAgICAgICBsZXQgdG90YWwgPSBudWxsO1xuICAgICAgICBmdW5jdGlvbiBmbHVzaChmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoIWZvcmNlICYmICFzZWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHBvcyA8IGxlbmd0aClcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW5ndGggLSBwb3MsIC0xKTtcbiAgICAgICAgICAgIGxldCBzZXQgPSBuZXcgQ2hhbmdlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCk7XG4gICAgICAgICAgICB0b3RhbCA9IHRvdGFsID8gdG90YWwuY29tcG9zZShzZXQubWFwKHRvdGFsKSkgOiBzZXQ7XG4gICAgICAgICAgICBzZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgaW5zZXJ0ZWQgPSBbXTtcbiAgICAgICAgICAgIHBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJvY2VzcyhzcGVjKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzcGVjKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHN1YiBvZiBzcGVjKVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKHN1Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzcGVjIGluc3RhbmNlb2YgQ2hhbmdlU2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwZWMubGVuZ3RoICE9IGxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYE1pc21hdGNoZWQgY2hhbmdlIHNldCBsZW5ndGggKGdvdCAke3NwZWMubGVuZ3RofSwgZXhwZWN0ZWQgJHtsZW5ndGh9KWApO1xuICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCA/IHRvdGFsLmNvbXBvc2Uoc3BlYy5tYXAodG90YWwpKSA6IHNwZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBmcm9tLCB0byA9IGZyb20sIGluc2VydCB9ID0gc3BlYztcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+IHRvIHx8IGZyb20gPCAwIHx8IHRvID4gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCBjaGFuZ2UgcmFuZ2UgJHtmcm9tfSB0byAke3RvfSAoaW4gZG9jIG9mIGxlbmd0aCAke2xlbmd0aH0pYCk7XG4gICAgICAgICAgICAgICAgbGV0IGluc1RleHQgPSAhaW5zZXJ0ID8gVGV4dC5lbXB0eSA6IHR5cGVvZiBpbnNlcnQgPT0gXCJzdHJpbmdcIiA/IFRleHQub2YoaW5zZXJ0LnNwbGl0KGxpbmVTZXAgfHwgRGVmYXVsdFNwbGl0KSkgOiBpbnNlcnQ7XG4gICAgICAgICAgICAgICAgbGV0IGluc0xlbiA9IGluc1RleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID09IHRvICYmIGluc0xlbiA9PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPCBwb3MpXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGZyb20gLSBwb3MsIC0xKTtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCB0byAtIGZyb20sIGluc0xlbik7XG4gICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydGVkLCBzZWN0aW9ucywgaW5zVGV4dCk7XG4gICAgICAgICAgICAgICAgcG9zID0gdG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2VzcyhjaGFuZ2VzKTtcbiAgICAgICAgZmx1c2goIXRvdGFsKTtcbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZW1wdHkgY2hhbmdlc2V0IG9mIHRoZSBnaXZlbiBsZW5ndGguXG4gICAgKi9cbiAgICBzdGF0aWMgZW1wdHkobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlU2V0KGxlbmd0aCA/IFtsZW5ndGgsIC0xXSA6IFtdLCBbXSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGNoYW5nZXNldCBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIChhcyBwcm9kdWNlZCBieVxuICAgIFtgdG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQudG9KU09OKS5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIENoYW5nZVNldFwiKTtcbiAgICAgICAgbGV0IHNlY3Rpb25zID0gW10sIGluc2VydGVkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBhcnQgPSBqc29uW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHBhcnQsIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHBhcnQpIHx8IHR5cGVvZiBwYXJ0WzBdICE9IFwibnVtYmVyXCIgfHwgcGFydC5zb21lKChlLCBpKSA9PiBpICYmIHR5cGVvZiBlICE9IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gb2YgQ2hhbmdlU2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFydC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gocGFydFswXSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaW5zZXJ0ZWQubGVuZ3RoIDwgaSlcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWQucHVzaChUZXh0LmVtcHR5KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRlZFtpXSA9IFRleHQub2YocGFydC5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChwYXJ0WzBdLCBpbnNlcnRlZFtpXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW4sIGlucywgZm9yY2VKb2luID0gZmFsc2UpIHtcbiAgICBpZiAobGVuID09IDAgJiYgaW5zIDw9IDApXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgbGFzdCA9IHNlY3Rpb25zLmxlbmd0aCAtIDI7XG4gICAgaWYgKGxhc3QgPj0gMCAmJiBpbnMgPD0gMCAmJiBpbnMgPT0gc2VjdGlvbnNbbGFzdCArIDFdKVxuICAgICAgICBzZWN0aW9uc1tsYXN0XSArPSBsZW47XG4gICAgZWxzZSBpZiAobGVuID09IDAgJiYgc2VjdGlvbnNbbGFzdF0gPT0gMClcbiAgICAgICAgc2VjdGlvbnNbbGFzdCArIDFdICs9IGlucztcbiAgICBlbHNlIGlmIChmb3JjZUpvaW4pIHtcbiAgICAgICAgc2VjdGlvbnNbbGFzdF0gKz0gbGVuO1xuICAgICAgICBzZWN0aW9uc1tsYXN0ICsgMV0gKz0gaW5zO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHNlY3Rpb25zLnB1c2gobGVuLCBpbnMpO1xufVxuZnVuY3Rpb24gYWRkSW5zZXJ0KHZhbHVlcywgc2VjdGlvbnMsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGluZGV4ID0gKHNlY3Rpb25zLmxlbmd0aCAtIDIpID4+IDE7XG4gICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdID0gdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXS5hcHBlbmQodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPCBpbmRleClcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlckNoYW5nZXMoZGVzYywgZiwgaW5kaXZpZHVhbCkge1xuICAgIGxldCBpbnNlcnRlZCA9IGRlc2MuaW5zZXJ0ZWQ7XG4gICAgZm9yIChsZXQgcG9zQSA9IDAsIHBvc0IgPSAwLCBpID0gMDsgaSA8IGRlc2Muc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICBsZXQgbGVuID0gZGVzYy5zZWN0aW9uc1tpKytdLCBpbnMgPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICBwb3NBICs9IGxlbjtcbiAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVuZEEgPSBwb3NBLCBlbmRCID0gcG9zQiwgdGV4dCA9IFRleHQuZW1wdHk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgZW5kQSArPSBsZW47XG4gICAgICAgICAgICAgICAgZW5kQiArPSBpbnM7XG4gICAgICAgICAgICAgICAgaWYgKGlucyAmJiBpbnNlcnRlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuYXBwZW5kKGluc2VydGVkWyhpIC0gMikgPj4gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRpdmlkdWFsIHx8IGkgPT0gZGVzYy5zZWN0aW9ucy5sZW5ndGggfHwgZGVzYy5zZWN0aW9uc1tpICsgMV0gPCAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBsZW4gPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICAgICAgaW5zID0gZGVzYy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZihwb3NBLCBlbmRBLCBwb3NCLCBlbmRCLCB0ZXh0KTtcbiAgICAgICAgICAgIHBvc0EgPSBlbmRBO1xuICAgICAgICAgICAgcG9zQiA9IGVuZEI7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBtYXBTZXQoc2V0QSwgc2V0QiwgYmVmb3JlLCBta1NldCA9IGZhbHNlKSB7XG4gICAgLy8gUHJvZHVjZSBhIGNvcHkgb2Ygc2V0QSB0aGF0IGFwcGxpZXMgdG8gdGhlIGRvY3VtZW50IGFmdGVyIHNldEJcbiAgICAvLyBoYXMgYmVlbiBhcHBsaWVkIChhc3N1bWluZyBib3RoIHN0YXJ0IGF0IHRoZSBzYW1lIGRvY3VtZW50KS5cbiAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGJvdGggc2V0cyBpbiBwYXJhbGxlbC4gaW5zZXJ0ZWQgdHJhY2tzLCBmb3IgY2hhbmdlc1xuICAgIC8vIGluIEEgdGhhdCBoYXZlIHRvIGJlIHByb2Nlc3NlZCBwaWVjZS1ieS1waWVjZSwgd2hldGhlciB0aGVpclxuICAgIC8vIGNvbnRlbnQgaGFzIGJlZW4gaW5zZXJ0ZWQgYWxyZWFkeSwgYW5kIHJlZmVycyB0byB0aGUgc2VjdGlvblxuICAgIC8vIGluZGV4LlxuICAgIGZvciAobGV0IGluc2VydGVkID0gLTE7Oykge1xuICAgICAgICBpZiAoYS5pbnMgPT0gLTEgJiYgYi5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIE1vdmUgYWNyb3NzIHJhbmdlcyBza2lwcGVkIGJ5IGJvdGggc2V0cy5cbiAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihhLmxlbiwgYi5sZW4pO1xuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICBhLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgIGIuZm9yd2FyZChsZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIuaW5zID49IDAgJiYgKGEuaW5zIDwgMCB8fCBpbnNlcnRlZCA9PSBhLmkgfHwgYS5vZmYgPT0gMCAmJiAoYi5sZW4gPCBhLmxlbiB8fCBiLmxlbiA9PSBhLmxlbiAmJiAhYmVmb3JlKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBjaGFuZ2UgaW4gQiB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgbmV4dCBjaGFuZ2UgaW5cbiAgICAgICAgICAgIC8vIEEgKG9yZGVyZWQgYnkgc3RhcnQgcG9zLCB0aGVuIGxlbiwgdGhlbiBiZWZvcmUgZmxhZyksIHNraXBcbiAgICAgICAgICAgIC8vIHRoYXQgKGFuZCBwcm9jZXNzIGFueSBjaGFuZ2VzIGluIEEgaXQgY292ZXJzKS5cbiAgICAgICAgICAgIGxldCBsZW4gPSBiLmxlbjtcbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGIuaW5zLCAtMSk7XG4gICAgICAgICAgICB3aGlsZSAobGVuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gTWF0aC5taW4oYS5sZW4sIGxlbik7XG4gICAgICAgICAgICAgICAgaWYgKGEuaW5zID49IDAgJiYgaW5zZXJ0ZWQgPCBhLmkgJiYgYS5sZW4gPD0gcGllY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgMCwgYS5pbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGEudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIGxlbiAtPSBwaWVjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID49IDApIHtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHBhcnQgb2YgYSBjaGFuZ2UgaW4gQSB1cCB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIG5vbi1kZWxldGlvbiBjaGFuZ2UgaW4gQiAoaWYgb3ZlcmxhcHBpbmcpLlxuICAgICAgICAgICAgbGV0IGxlbiA9IDAsIGxlZnQgPSBhLmxlbjtcbiAgICAgICAgICAgIHdoaWxlIChsZWZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGIuaW5zID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaWVjZSA9IE1hdGgubWluKGxlZnQsIGIubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBiLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAwICYmIGIubGVuIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IGIubGVuO1xuICAgICAgICAgICAgICAgICAgICBiLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgaW5zZXJ0ZWQgPCBhLmkgPyBhLmlucyA6IDApO1xuICAgICAgICAgICAgaWYgKGluc2VydCAmJiBpbnNlcnRlZCA8IGEuaSlcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYS50ZXh0KTtcbiAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgYS5mb3J3YXJkKGEubGVuIC0gbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lICYmIGIuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc2VydCA/IENoYW5nZVNldC5jcmVhdGVTZXQoc2VjdGlvbnMsIGluc2VydCkgOiBDaGFuZ2VEZXNjLmNyZWF0ZShzZWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaGVkIGNoYW5nZSBzZXQgbGVuZ3Roc1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBvc2VTZXRzKHNldEEsIHNldEIsIG1rU2V0ID0gZmFsc2UpIHtcbiAgICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgICBsZXQgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgZm9yIChsZXQgb3BlbiA9IGZhbHNlOzspIHtcbiAgICAgICAgaWYgKGEuZG9uZSAmJiBiLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnNlcnQgPyBDaGFuZ2VTZXQuY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnQpIDogQ2hhbmdlRGVzYy5jcmVhdGUoc2VjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID09IDApIHsgLy8gRGVsZXRpb24gaW4gQVxuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgYS5sZW4sIDAsIG9wZW4pO1xuICAgICAgICAgICAgYS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYi5sZW4gPT0gMCAmJiAhYi5kb25lKSB7IC8vIEluc2VydGlvbiBpbiBCXG4gICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCAwLCBiLmlucywgb3Blbik7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBiLnRleHQpO1xuICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lIHx8IGIuZG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oYS5sZW4yLCBiLmxlbiksIHNlY3Rpb25MZW4gPSBzZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYS5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5zQiA9IGIuaW5zID09IC0xID8gLTEgOiBiLm9mZiA/IDAgOiBiLmlucztcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW4sIGluc0IsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgaW5zQilcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGIudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGEub2ZmID8gMCA6IGEubGVuLCBsZW4sIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQpXG4gICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBhLnRleHRCaXQobGVuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBhLm9mZiA/IDAgOiBhLmxlbiwgYi5vZmYgPyAwIDogYi5pbnMsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgIWIub2ZmKVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYi50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wZW4gPSAoYS5pbnMgPiBsZW4gfHwgYi5pbnMgPj0gMCAmJiBiLmxlbiA+IGxlbikgJiYgKG9wZW4gfHwgc2VjdGlvbnMubGVuZ3RoID4gc2VjdGlvbkxlbik7XG4gICAgICAgICAgICBhLmZvcndhcmQyKGxlbik7XG4gICAgICAgICAgICBiLmZvcndhcmQobGVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNlY3Rpb25JdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXQpIHtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBsZXQgeyBzZWN0aW9ucyB9ID0gdGhpcy5zZXQ7XG4gICAgICAgIGlmICh0aGlzLmkgPCBzZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubGVuID0gc2VjdGlvbnNbdGhpcy5pKytdO1xuICAgICAgICAgICAgdGhpcy5pbnMgPSBzZWN0aW9uc1t0aGlzLmkrK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxlbiA9IDA7XG4gICAgICAgICAgICB0aGlzLmlucyA9IC0yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2ZmID0gMDtcbiAgICB9XG4gICAgZ2V0IGRvbmUoKSB7IHJldHVybiB0aGlzLmlucyA9PSAtMjsgfVxuICAgIGdldCBsZW4yKCkgeyByZXR1cm4gdGhpcy5pbnMgPCAwID8gdGhpcy5sZW4gOiB0aGlzLmluczsgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggPyBUZXh0LmVtcHR5IDogaW5zZXJ0ZWRbaW5kZXhdO1xuICAgIH1cbiAgICB0ZXh0Qml0KGxlbikge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggJiYgIWxlbiA/IFRleHQuZW1wdHlcbiAgICAgICAgICAgIDogaW5zZXJ0ZWRbaW5kZXhdLnNsaWNlKHRoaXMub2ZmLCBsZW4gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRoaXMub2ZmICsgbGVuKTtcbiAgICB9XG4gICAgZm9yd2FyZChsZW4pIHtcbiAgICAgICAgaWYgKGxlbiA9PSB0aGlzLmxlbilcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGVuIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3J3YXJkMihsZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5zID09IC0xKVxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkKGxlbik7XG4gICAgICAgIGVsc2UgaWYgKGxlbiA9PSB0aGlzLmlucylcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5zIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG5BIHNpbmdsZSBzZWxlY3Rpb24gcmFuZ2UuIFdoZW5cbltgYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKVxuaXMgZW5hYmxlZCwgYSBbc2VsZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclNlbGVjdGlvbikgbWF5IGhvbGRcbm11bHRpcGxlIHJhbmdlcy4gQnkgZGVmYXVsdCwgc2VsZWN0aW9ucyBob2xkIGV4YWN0bHkgb25lIHJhbmdlLlxuKi9cbmNsYXNzIFNlbGVjdGlvblJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbG93ZXIgYm91bmRhcnkgb2YgdGhlIHJhbmdlLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSByYW5nZS5cbiAgICAqL1xuICAgIHRvLCBmbGFncykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGFuY2hvciBvZiB0aGUgcmFuZ2XigJR0aGUgc2lkZSB0aGF0IGRvZXNuJ3QgbW92ZSB3aGVuIHlvdVxuICAgIGV4dGVuZCBpdC5cbiAgICAqL1xuICAgIGdldCBhbmNob3IoKSB7IHJldHVybiB0aGlzLmZsYWdzICYgMzIgLyogUmFuZ2VGbGFnLkludmVydGVkICovID8gdGhpcy50byA6IHRoaXMuZnJvbTsgfVxuICAgIC8qKlxuICAgIFRoZSBoZWFkIG9mIHRoZSByYW5nZSwgd2hpY2ggaXMgbW92ZWQgd2hlbiB0aGUgcmFuZ2UgaXNcbiAgICBbZXh0ZW5kZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU2VsZWN0aW9uUmFuZ2UuZXh0ZW5kKS5cbiAgICAqL1xuICAgIGdldCBoZWFkKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDMyIC8qIFJhbmdlRmxhZy5JbnZlcnRlZCAqLyA/IHRoaXMuZnJvbSA6IHRoaXMudG87IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gYGFuY2hvcmAgYW5kIGBoZWFkYCBhcmUgYXQgdGhlIHNhbWUgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7IHJldHVybiB0aGlzLmZyb20gPT0gdGhpcy50bzsgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSBjdXJzb3IgdGhhdCBpcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICBjaGFyYWN0ZXIgb24gb25lIG9mIGl0cyBzaWRlcywgdGhpcyByZXR1cm5zIHRoZSBzaWRlLiAtMSBtZWFuc1xuICAgIHRoZSBjaGFyYWN0ZXIgYmVmb3JlIGl0cyBwb3NpdGlvbiwgMSB0aGUgY2hhcmFjdGVyIGFmdGVyLCBhbmQgMFxuICAgIG1lYW5zIG5vIGFzc29jaWF0aW9uLlxuICAgICovXG4gICAgZ2V0IGFzc29jKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovID8gLTEgOiB0aGlzLmZsYWdzICYgMTYgLyogUmFuZ2VGbGFnLkFzc29jQWZ0ZXIgKi8gPyAxIDogMDsgfVxuICAgIC8qKlxuICAgIFRoZSBiaWRpcmVjdGlvbmFsIHRleHQgbGV2ZWwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY3Vyc29yLCBpZlxuICAgIGFueS5cbiAgICAqL1xuICAgIGdldCBiaWRpTGV2ZWwoKSB7XG4gICAgICAgIGxldCBsZXZlbCA9IHRoaXMuZmxhZ3MgJiA3IC8qIFJhbmdlRmxhZy5CaWRpTGV2ZWxNYXNrICovO1xuICAgICAgICByZXR1cm4gbGV2ZWwgPT0gNyA/IG51bGwgOiBsZXZlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGdvYWwgY29sdW1uIChzdG9yZWQgdmVydGljYWwgb2Zmc2V0KSBhc3NvY2lhdGVkIHdpdGggYVxuICAgIGN1cnNvci4gVGhpcyBpcyB1c2VkIHRvIHByZXNlcnZlIHRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB3aGVuXG4gICAgW21vdmluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIGFjcm9zc1xuICAgIGxpbmVzIG9mIGRpZmZlcmVudCBsZW5ndGguXG4gICAgKi9cbiAgICBnZXQgZ29hbENvbHVtbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5mbGFncyA+PiA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gMTY3NzcyMTUgLyogUmFuZ2VGbGFnLk5vR29hbENvbHVtbiAqLyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyByYW5nZSB0aHJvdWdoIGEgY2hhbmdlLCBwcm9kdWNpbmcgYSB2YWxpZCByYW5nZSBpbiB0aGVcbiAgICB1cGRhdGVkIGRvY3VtZW50LlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBsZXQgZnJvbSwgdG87XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICBmcm9tID0gdG8gPSBjaGFuZ2UubWFwUG9zKHRoaXMuZnJvbSwgYXNzb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IGNoYW5nZS5tYXBQb3ModGhpcy5mcm9tLCAxKTtcbiAgICAgICAgICAgIHRvID0gY2hhbmdlLm1hcFBvcyh0aGlzLnRvLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdGhpcy5mcm9tICYmIHRvID09IHRoaXMudG8gPyB0aGlzIDogbmV3IFNlbGVjdGlvblJhbmdlKGZyb20sIHRvLCB0aGlzLmZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXh0ZW5kIHRoaXMgcmFuZ2UgdG8gY292ZXIgYXQgbGVhc3QgYGZyb21gIHRvIGB0b2AuXG4gICAgKi9cbiAgICBleHRlbmQoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tIDw9IHRoaXMuYW5jaG9yICYmIHRvID49IHRoaXMuYW5jaG9yKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIGxldCBoZWFkID0gTWF0aC5hYnMoZnJvbSAtIHRoaXMuYW5jaG9yKSA+IE1hdGguYWJzKHRvIC0gdGhpcy5hbmNob3IpID8gZnJvbSA6IHRvO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRoaXMuYW5jaG9yLCBoZWFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHJhbmdlIHRvIGFub3RoZXIgcmFuZ2UuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5jaG9yID09IG90aGVyLmFuY2hvciAmJiB0aGlzLmhlYWQgPT0gb3RoZXIuaGVhZCAmJlxuICAgICAgICAgICAgKCFpbmNsdWRlQXNzb2MgfHwgIXRoaXMuZW1wdHkgfHwgdGhpcy5hc3NvYyA9PSBvdGhlci5hc3NvYyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJhbmdlLlxuICAgICovXG4gICAgdG9KU09OKCkgeyByZXR1cm4geyBhbmNob3I6IHRoaXMuYW5jaG9yLCBoZWFkOiB0aGlzLmhlYWQgfTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgcmFuZ2UgdG8gYSBgU2VsZWN0aW9uUmFuZ2VgXG4gICAgaW5zdGFuY2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIWpzb24gfHwgdHlwZW9mIGpzb24uYW5jaG9yICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uaGVhZCAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIFNlbGVjdGlvblJhbmdlXCIpO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGpzb24uYW5jaG9yLCBqc29uLmhlYWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZnJvbSwgdG8sIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uUmFuZ2UoZnJvbSwgdG8sIGZsYWdzKTtcbiAgICB9XG59XG4vKipcbkFuIGVkaXRvciBzZWxlY3Rpb24gaG9sZHMgb25lIG9yIG1vcmUgc2VsZWN0aW9uIHJhbmdlcy5cbiovXG5jbGFzcyBFZGl0b3JTZWxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSByYW5nZXMgaW4gdGhlIHNlbGVjdGlvbiwgc29ydGVkIGJ5IHBvc2l0aW9uLiBSYW5nZXMgY2Fubm90XG4gICAgb3ZlcmxhcCAoYnV0IHRoZXkgbWF5IHRvdWNoLCBpZiB0aGV5IGFyZW4ndCBlbXB0eSkuXG4gICAgKi9cbiAgICByYW5nZXMsIFxuICAgIC8qKlxuICAgIFRoZSBpbmRleCBvZiB0aGUgX21haW5fIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24gKHdoaWNoIGlzXG4gICAgdXN1YWxseSB0aGUgcmFuZ2UgdGhhdCB3YXMgYWRkZWQgbGFzdCkuXG4gICAgKi9cbiAgICBtYWluSW5kZXgpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMubWFpbkluZGV4ID0gbWFpbkluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgYSBzZWxlY3Rpb24gdGhyb3VnaCBhIGNoYW5nZS4gVXNlZCB0byBhZGp1c3QgdGhlIHNlbGVjdGlvblxuICAgIHBvc2l0aW9uIGZvciBjaGFuZ2VzLlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBpZiAoY2hhbmdlLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHRoaXMucmFuZ2VzLm1hcChyID0+IHIubWFwKGNoYW5nZSwgYXNzb2MpKSwgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgc2VsZWN0aW9uIHRvIGFub3RoZXIgc2VsZWN0aW9uLiBCeSBkZWZhdWx0LCByYW5nZXNcbiAgICBhcmUgY29tcGFyZWQgb25seSBieSBwb3NpdGlvbi4gV2hlbiBgaW5jbHVkZUFzc29jYCBpcyB0cnVlLFxuICAgIGN1cnNvciByYW5nZXMgbXVzdCBhbHNvIGhhdmUgdGhlIHNhbWVcbiAgICBbYGFzc29jYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZS5hc3NvYykgdmFsdWUuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCAhPSBvdGhlci5yYW5nZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLm1haW5JbmRleCAhPSBvdGhlci5tYWluSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZ2VzW2ldLmVxKG90aGVyLnJhbmdlc1tpXSwgaW5jbHVkZUFzc29jKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHByaW1hcnkgc2VsZWN0aW9uIHJhbmdlLiBVc3VhbGx5LCB5b3Ugc2hvdWxkIG1ha2Ugc3VyZVxuICAgIHlvdXIgY29kZSBhcHBsaWVzIHRvIF9hbGxfIHJhbmdlcywgYnkgdXNpbmcgbWV0aG9kcyBsaWtlXG4gICAgW2BjaGFuZ2VCeVJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFuZ2VCeVJhbmdlKS5cbiAgICAqL1xuICAgIGdldCBtYWluKCkgeyByZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5tYWluSW5kZXhdOyB9XG4gICAgLyoqXG4gICAgTWFrZSBzdXJlIHRoZSBzZWxlY3Rpb24gb25seSBoYXMgb25lIHJhbmdlLiBSZXR1cm5zIGEgc2VsZWN0aW9uXG4gICAgaG9sZGluZyBvbmx5IHRoZSBtYWluIHJhbmdlIGZyb20gdGhpcyBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBhc1NpbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLmxlbmd0aCA9PSAxID8gdGhpcyA6IG5ldyBFZGl0b3JTZWxlY3Rpb24oW3RoaXMubWFpbl0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBFeHRlbmQgdGhpcyBzZWxlY3Rpb24gd2l0aCBhbiBleHRyYSByYW5nZS5cbiAgICAqL1xuICAgIGFkZFJhbmdlKHJhbmdlLCBtYWluID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbcmFuZ2VdLmNvbmNhdCh0aGlzLnJhbmdlcyksIG1haW4gPyAwIDogdGhpcy5tYWluSW5kZXggKyAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIGdpdmVuIHJhbmdlIHdpdGggYW5vdGhlciByYW5nZSwgYW5kIHRoZW4gbm9ybWFsaXplIHRoZVxuICAgIHNlbGVjdGlvbiB0byBtZXJnZSBhbmQgc29ydCByYW5nZXMgaWYgbmVjZXNzYXJ5LlxuICAgICovXG4gICAgcmVwbGFjZVJhbmdlKHJhbmdlLCB3aGljaCA9IHRoaXMubWFpbkluZGV4KSB7XG4gICAgICAgIGxldCByYW5nZXMgPSB0aGlzLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICByYW5nZXNbd2hpY2hdID0gcmFuZ2U7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc2VsZWN0aW9uIHRvIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBzZXJpYWxpemVkIHRvXG4gICAgSlNPTi5cbiAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2VzOiB0aGlzLnJhbmdlcy5tYXAociA9PiByLnRvSlNPTigpKSwgbWFpbjogdGhpcy5tYWluSW5kZXggfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2VsZWN0aW9uIGZyb20gYSBKU09OIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFqc29uIHx8ICFBcnJheS5pc0FycmF5KGpzb24ucmFuZ2VzKSB8fCB0eXBlb2YganNvbi5tYWluICE9IFwibnVtYmVyXCIgfHwganNvbi5tYWluID49IGpzb24ucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTZWxlY3Rpb25cIik7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKGpzb24ucmFuZ2VzLm1hcCgocikgPT4gU2VsZWN0aW9uUmFuZ2UuZnJvbUpTT04ocikpLCBqc29uLm1haW4pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZWxlY3Rpb24gaG9sZGluZyBhIHNpbmdsZSByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyBzaW5nbGUoYW5jaG9yLCBoZWFkID0gYW5jaG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKFtFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoYW5jaG9yLCBoZWFkKV0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBTb3J0IGFuZCBtZXJnZSB0aGUgZ2l2ZW4gc2V0IG9mIHJhbmdlcywgY3JlYXRpbmcgYSB2YWxpZFxuICAgIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkEgc2VsZWN0aW9uIG5lZWRzIGF0IGxlYXN0IG9uZSByYW5nZVwiKTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbXB0eSA/IHJhbmdlLmZyb20gPD0gcG9zIDogcmFuZ2UuZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLm5vcm1hbGl6ZWQocmFuZ2VzLnNsaWNlKCksIG1haW5JbmRleCk7XG4gICAgICAgICAgICBwb3MgPSByYW5nZS50bztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVkaXRvclNlbGVjdGlvbihyYW5nZXMsIG1haW5JbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGN1cnNvciBzZWxlY3Rpb24gcmFuZ2UgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBZb3UgY2FuXG4gICAgc2FmZWx5IGlnbm9yZSB0aGUgb3B0aW9uYWwgYXJndW1lbnRzIGluIG1vc3Qgc2l0dWF0aW9ucy5cbiAgICAqL1xuICAgIHN0YXRpYyBjdXJzb3IocG9zLCBhc3NvYyA9IDAsIGJpZGlMZXZlbCwgZ29hbENvbHVtbikge1xuICAgICAgICByZXR1cm4gU2VsZWN0aW9uUmFuZ2UuY3JlYXRlKHBvcywgcG9zLCAoYXNzb2MgPT0gMCA/IDAgOiBhc3NvYyA8IDAgPyA4IC8qIFJhbmdlRmxhZy5Bc3NvY0JlZm9yZSAqLyA6IDE2IC8qIFJhbmdlRmxhZy5Bc3NvY0FmdGVyICovKSB8XG4gICAgICAgICAgICAoYmlkaUxldmVsID09IG51bGwgPyA3IDogTWF0aC5taW4oNiwgYmlkaUxldmVsKSkgfFxuICAgICAgICAgICAgKChnb2FsQ29sdW1uICE9PSBudWxsICYmIGdvYWxDb2x1bW4gIT09IHZvaWQgMCA/IGdvYWxDb2x1bW4gOiAxNjc3NzIxNSAvKiBSYW5nZUZsYWcuTm9Hb2FsQ29sdW1uICovKSA8PCA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNlbGVjdGlvbiByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyByYW5nZShhbmNob3IsIGhlYWQsIGdvYWxDb2x1bW4sIGJpZGlMZXZlbCkge1xuICAgICAgICBsZXQgZmxhZ3MgPSAoKGdvYWxDb2x1bW4gIT09IG51bGwgJiYgZ29hbENvbHVtbiAhPT0gdm9pZCAwID8gZ29hbENvbHVtbiA6IDE2Nzc3MjE1IC8qIFJhbmdlRmxhZy5Ob0dvYWxDb2x1bW4gKi8pIDw8IDYgLyogUmFuZ2VGbGFnLkdvYWxDb2x1bW5PZmZzZXQgKi8pIHxcbiAgICAgICAgICAgIChiaWRpTGV2ZWwgPT0gbnVsbCA/IDcgOiBNYXRoLm1pbig2LCBiaWRpTGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIGhlYWQgPCBhbmNob3IgPyBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoaGVhZCwgYW5jaG9yLCAzMiAvKiBSYW5nZUZsYWcuSW52ZXJ0ZWQgKi8gfCAxNiAvKiBSYW5nZUZsYWcuQXNzb2NBZnRlciAqLyB8IGZsYWdzKVxuICAgICAgICAgICAgOiBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoYW5jaG9yLCBoZWFkLCAoaGVhZCA+IGFuY2hvciA/IDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovIDogMCkgfCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIG5vcm1hbGl6ZWQocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGxldCBtYWluID0gcmFuZ2VzW21haW5JbmRleF07XG4gICAgICAgIHJhbmdlcy5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICBtYWluSW5kZXggPSByYW5nZXMuaW5kZXhPZihtYWluKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXSwgcHJldiA9IHJhbmdlc1tpIC0gMV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkgPyByYW5nZS5mcm9tIDw9IHByZXYudG8gOiByYW5nZS5mcm9tIDwgcHJldi50bykge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gcHJldi5mcm9tLCB0byA9IE1hdGgubWF4KHJhbmdlLnRvLCBwcmV2LnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8PSBtYWluSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG1haW5JbmRleC0tO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCByYW5nZS5hbmNob3IgPiByYW5nZS5oZWFkID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRvLCBmcm9tKSA6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKHJhbmdlcywgbWFpbkluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGRvY0xlbmd0aCkge1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHNlbGVjdGlvbi5yYW5nZXMpXG4gICAgICAgIGlmIChyYW5nZS50byA+IGRvY0xlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2VsZWN0aW9uIHBvaW50cyBvdXRzaWRlIG9mIGRvY3VtZW50XCIpO1xufVxuXG5sZXQgbmV4dElEID0gMDtcbi8qKlxuQSBmYWNldCBpcyBhIGxhYmVsZWQgdmFsdWUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggYW4gZWRpdG9yXG5zdGF0ZS4gSXQgdGFrZXMgaW5wdXRzIGZyb20gYW55IG51bWJlciBvZiBleHRlbnNpb25zLCBhbmQgY29tYmluZXNcbnRob3NlIGludG8gYSBzaW5nbGUgb3V0cHV0IHZhbHVlLlxuXG5FeGFtcGxlcyBvZiB1c2VzIG9mIGZhY2V0cyBhcmUgdGhlIFt0YWJcbnNpemVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSksIFtlZGl0b3JcbmF0dHJpYnV0ZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRvckF0dHJpYnV0ZXMpLCBhbmQgW3VwZGF0ZVxubGlzdGVuZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld151cGRhdGVMaXN0ZW5lcikuXG5cbk5vdGUgdGhhdCBgRmFjZXRgIGluc3RhbmNlcyBjYW4gYmUgdXNlZCBhbnl3aGVyZSB3aGVyZVxuW2BGYWNldFJlYWRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRmFjZXRSZWFkZXIpIGlzIGV4cGVjdGVkLlxuKi9cbmNsYXNzIEZhY2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbWJpbmUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZUlucHV0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUsIGlzU3RhdGljLCBlbmFibGVzKSB7XG4gICAgICAgIHRoaXMuY29tYmluZSA9IGNvbWJpbmU7XG4gICAgICAgIHRoaXMuY29tcGFyZUlucHV0ID0gY29tcGFyZUlucHV0O1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gaXNTdGF0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBjb21iaW5lKFtdKTtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gdHlwZW9mIGVuYWJsZXMgPT0gXCJmdW5jdGlvblwiID8gZW5hYmxlcyh0aGlzKSA6IGVuYWJsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYSBmYWNldCByZWFkZXIgZm9yIHRoaXMgZmFjZXQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgW3JlYWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuZmFjZXQpIGl0IGJ1dCBub3QgdG8gZGVmaW5lIHZhbHVlcyBmb3IgaXQuXG4gICAgKi9cbiAgICBnZXQgcmVhZGVyKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBmYWNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldChjb25maWcuY29tYmluZSB8fCAoKGEpID0+IGEpLCBjb25maWcuY29tcGFyZUlucHV0IHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZy5jb21wYXJlIHx8ICghY29uZmlnLmNvbWJpbmUgPyBzYW1lQXJyYXkgOiAoYSwgYikgPT4gYSA9PT0gYiksICEhY29uZmlnLnN0YXRpYywgY29uZmlnLmVuYWJsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoaXMgZmFjZXQuXG4gICAgKi9cbiAgICBvZih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZhY2V0UHJvdmlkZXIoW10sIHRoaXMsIDAgLyogUHJvdmlkZXIuU3RhdGljICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBjb21wdXRlcyBhIHZhbHVlIGZvciB0aGUgZmFjZXQgZnJvbSBhXG4gICAgc3RhdGUuIFlvdSBtdXN0IHRha2UgY2FyZSB0byBkZWNsYXJlIHRoZSBwYXJ0cyBvZiB0aGUgc3RhdGUgdGhhdFxuICAgIHRoaXMgdmFsdWUgZGVwZW5kcyBvbiwgc2luY2UgeW91ciBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBhZ2FpblxuICAgIGZvciBhIG5ldyBzdGF0ZSB3aGVuIG9uZSBvZiB0aG9zZSBwYXJ0cyBjaGFuZ2VkLlxuICAgIFxuICAgIEluIGNhc2VzIHdoZXJlIHlvdXIgdmFsdWUgZGVwZW5kcyBvbmx5IG9uIGEgc2luZ2xlIGZpZWxkLCB5b3UnbGxcbiAgICB3YW50IHRvIHVzZSB0aGUgW2Bmcm9tYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldC5mcm9tKSBtZXRob2QgaW5zdGVhZC5cbiAgICAqL1xuICAgIGNvbXB1dGUoZGVwcywgZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGljKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29tcHV0ZSBhIHN0YXRpYyBmYWNldFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldFByb3ZpZGVyKGRlcHMsIHRoaXMsIDEgLyogUHJvdmlkZXIuU2luZ2xlICovLCBnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgY29tcHV0ZXMgemVybyBvciBtb3JlIHZhbHVlcyBmb3IgdGhpc1xuICAgIGZhY2V0IGZyb20gYSBzdGF0ZS5cbiAgICAqL1xuICAgIGNvbXB1dGVOKGRlcHMsIGdldCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXRpYylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbXB1dGUgYSBzdGF0aWMgZmFjZXRcIik7XG4gICAgICAgIHJldHVybiBuZXcgRmFjZXRQcm92aWRlcihkZXBzLCB0aGlzLCAyIC8qIFByb3ZpZGVyLk11bHRpICovLCBnZXQpO1xuICAgIH1cbiAgICBmcm9tKGZpZWxkLCBnZXQpIHtcbiAgICAgICAgaWYgKCFnZXQpXG4gICAgICAgICAgICBnZXQgPSB4ID0+IHg7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGUoW2ZpZWxkXSwgc3RhdGUgPT4gZ2V0KHN0YXRlLmZpZWxkKGZpZWxkKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KChlLCBpKSA9PiBlID09PSBiW2ldKTtcbn1cbmNsYXNzIEZhY2V0UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlcGVuZGVuY2llcywgZmFjZXQsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgIH1cbiAgICBkeW5hbWljU2xvdChhZGRyZXNzZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgZ2V0dGVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IGNvbXBhcmUgPSB0aGlzLmZhY2V0LmNvbXBhcmVJbnB1dDtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5pZCwgaWR4ID0gYWRkcmVzc2VzW2lkXSA+PiAxLCBtdWx0aSA9IHRoaXMudHlwZSA9PSAyIC8qIFByb3ZpZGVyLk11bHRpICovO1xuICAgICAgICBsZXQgZGVwRG9jID0gZmFsc2UsIGRlcFNlbCA9IGZhbHNlLCBkZXBBZGRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkZXAgb2YgdGhpcy5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmIChkZXAgPT0gXCJkb2NcIilcbiAgICAgICAgICAgICAgICBkZXBEb2MgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVwID09IFwic2VsZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgZGVwU2VsID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCgoKF9hID0gYWRkcmVzc2VzW2RlcC5pZF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEpICYgMSkgPT0gMClcbiAgICAgICAgICAgICAgICBkZXBBZGRycy5wdXNoKGFkZHJlc3Nlc1tkZXAuaWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGUoc3RhdGUsIHRyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChkZXBEb2MgJiYgdHIuZG9jQ2hhbmdlZCkgfHwgKGRlcFNlbCAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pKSB8fCBlbnN1cmVBbGwoc3RhdGUsIGRlcEFkZHJzKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsID0gZ2V0dGVyKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpID8gIWNvbXBhcmVBcnJheShuZXdWYWwsIHN0YXRlLnZhbHVlc1tpZHhdLCBjb21wYXJlKSA6ICFjb21wYXJlKG5ld1ZhbCwgc3RhdGUudmFsdWVzW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNvbmZpZ3VyZTogKHN0YXRlLCBvbGRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWwsIG9sZEFkZHIgPSBvbGRTdGF0ZS5jb25maWcuYWRkcmVzc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKG9sZEFkZHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkVmFsID0gZ2V0QWRkcihvbGRTdGF0ZSwgb2xkQWRkcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llcy5ldmVyeShkZXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcCBpbnN0YW5jZW9mIEZhY2V0ID8gb2xkU3RhdGUuZmFjZXQoZGVwKSA9PT0gc3RhdGUuZmFjZXQoZGVwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwIGluc3RhbmNlb2YgU3RhdGVGaWVsZCA/IG9sZFN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpID09IHN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHwgKG11bHRpID8gY29tcGFyZUFycmF5KG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCwgY29tcGFyZSkgOiBjb21wYXJlKG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWwgPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBTbG90U3RhdHVzLkNoYW5nZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZUFycmF5KGEsIGIsIGNvbXBhcmUpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghY29tcGFyZShhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFsbChzdGF0ZSwgYWRkcnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGFkZHIgb2YgYWRkcnMpXG4gICAgICAgIGlmIChlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKSAmIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBkeW5hbWljRmFjZXRTbG90KGFkZHJlc3NlcywgZmFjZXQsIHByb3ZpZGVycykge1xuICAgIGxldCBwcm92aWRlckFkZHJzID0gcHJvdmlkZXJzLm1hcChwID0+IGFkZHJlc3Nlc1twLmlkXSk7XG4gICAgbGV0IHByb3ZpZGVyVHlwZXMgPSBwcm92aWRlcnMubWFwKHAgPT4gcC50eXBlKTtcbiAgICBsZXQgZHluYW1pYyA9IHByb3ZpZGVyQWRkcnMuZmlsdGVyKHAgPT4gIShwICYgMSkpO1xuICAgIGxldCBpZHggPSBhZGRyZXNzZXNbZmFjZXQuaWRdID4+IDE7XG4gICAgZnVuY3Rpb24gZ2V0KHN0YXRlKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlckFkZHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRBZGRyKHN0YXRlLCBwcm92aWRlckFkZHJzW2ldKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlclR5cGVzW2ldID09IDIgLyogUHJvdmlkZXIuTXVsdGkgKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsIG9mIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZXQuY29tYmluZSh2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGFkZHIgb2YgcHJvdmlkZXJBZGRycylcbiAgICAgICAgICAgICAgICBlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKTtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlKHN0YXRlLCB0cikge1xuICAgICAgICAgICAgaWYgKCFlbnN1cmVBbGwoc3RhdGUsIGR5bmFtaWMpKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBzdGF0ZS52YWx1ZXNbaWR4XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICB9LFxuICAgICAgICByZWNvbmZpZ3VyZShzdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBkZXBDaGFuZ2VkID0gZW5zdXJlQWxsKHN0YXRlLCBwcm92aWRlckFkZHJzKTtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRTdGF0ZS5jb25maWcuZmFjZXRzW2ZhY2V0LmlkXSwgb2xkVmFsdWUgPSBvbGRTdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgICAgICBpZiAob2xkUHJvdmlkZXJzICYmICFkZXBDaGFuZ2VkICYmIHNhbWVBcnJheShwcm92aWRlcnMsIG9sZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBpbml0RmllbGQgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgc3RhdGljOiB0cnVlIH0pO1xuLyoqXG5GaWVsZHMgY2FuIHN0b3JlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gaW4gYW4gZWRpdG9yIHN0YXRlLCBhbmRcbmtlZXAgaXQgaW4gc3luYyB3aXRoIHRoZSByZXN0IG9mIHRoZSBzdGF0ZS5cbiovXG5jbGFzcyBTdGF0ZUZpZWxkIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBjcmVhdGVGLCB1cGRhdGVGLCBjb21wYXJlRiwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzcGVjKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jcmVhdGVGID0gY3JlYXRlRjtcbiAgICAgICAgdGhpcy51cGRhdGVGID0gdXBkYXRlRjtcbiAgICAgICAgdGhpcy5jb21wYXJlRiA9IGNvbXBhcmVGO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucHJvdmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHN0YXRlIGZpZWxkLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjb25maWcpIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IFN0YXRlRmllbGQobmV4dElEKyssIGNvbmZpZy5jcmVhdGUsIGNvbmZpZy51cGRhdGUsIGNvbmZpZy5jb21wYXJlIHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcucHJvdmlkZSlcbiAgICAgICAgICAgIGZpZWxkLnByb3ZpZGVzID0gY29uZmlnLnByb3ZpZGUoZmllbGQpO1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuICAgIGNyZWF0ZShzdGF0ZSkge1xuICAgICAgICBsZXQgaW5pdCA9IHN0YXRlLmZhY2V0KGluaXRGaWVsZCkuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcyk7XG4gICAgICAgIHJldHVybiAoKGluaXQgPT09IG51bGwgfHwgaW5pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdC5jcmVhdGUpIHx8IHRoaXMuY3JlYXRlRikoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNsb3QoYWRkcmVzc2VzKSB7XG4gICAgICAgIGxldCBpZHggPSBhZGRyZXNzZXNbdGhpcy5pZF0gPj4gMTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0ZTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogKHN0YXRlLCB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWwgPSBzdGF0ZS52YWx1ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnVwZGF0ZUYob2xkVmFsLCB0cik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZUYob2xkVmFsLCB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY29uZmlndXJlOiAoc3RhdGUsIG9sZFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFN0YXRlLmNvbmZpZy5hZGRyZXNzW3RoaXMuaWRdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBvbGRTdGF0ZS5maWVsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdGhpcy5jcmVhdGUoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIHRoaXMgZmllbGQgYW5kIG92ZXJyaWRlcyB0aGVcbiAgICB3YXkgaXQgaXMgaW5pdGlhbGl6ZWQuIENhbiBiZSB1c2VmdWwgd2hlbiB5b3UgbmVlZCB0byBwcm92aWRlIGFcbiAgICBub24tZGVmYXVsdCBzdGFydGluZyB2YWx1ZSBmb3IgdGhlIGZpZWxkLlxuICAgICovXG4gICAgaW5pdChjcmVhdGUpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLCBpbml0RmllbGQub2YoeyBmaWVsZDogdGhpcywgY3JlYXRlIH0pXTtcbiAgICB9XG4gICAgLyoqXG4gICAgU3RhdGUgZmllbGQgaW5zdGFuY2VzIGNhbiBiZSB1c2VkIGFzXG4gICAgW2BFeHRlbnNpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkV4dGVuc2lvbikgdmFsdWVzIHRvIGVuYWJsZSB0aGUgZmllbGQgaW4gYVxuICAgIGdpdmVuIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IGV4dGVuc2lvbigpIHsgcmV0dXJuIHRoaXM7IH1cbn1cbmNvbnN0IFByZWNfID0geyBsb3dlc3Q6IDQsIGxvdzogMywgZGVmYXVsdDogMiwgaGlnaDogMSwgaGlnaGVzdDogMCB9O1xuZnVuY3Rpb24gcHJlYyh2YWx1ZSkge1xuICAgIHJldHVybiAoZXh0KSA9PiBuZXcgUHJlY0V4dGVuc2lvbihleHQsIHZhbHVlKTtcbn1cbi8qKlxuQnkgZGVmYXVsdCBleHRlbnNpb25zIGFyZSByZWdpc3RlcmVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBmb3VuZFxuaW4gdGhlIGZsYXR0ZW5lZCBmb3JtIG9mIG5lc3RlZCBhcnJheSB0aGF0IHdhcyBwcm92aWRlZC5cbkluZGl2aWR1YWwgZXh0ZW5zaW9uIHZhbHVlcyBjYW4gYmUgYXNzaWduZWQgYSBwcmVjZWRlbmNlIHRvXG5vdmVycmlkZSB0aGlzLiBFeHRlbnNpb25zIHRoYXQgZG8gbm90IGhhdmUgYSBwcmVjZWRlbmNlIHNldCBnZXRcbnRoZSBwcmVjZWRlbmNlIG9mIHRoZSBuZWFyZXN0IHBhcmVudCB3aXRoIGEgcHJlY2VkZW5jZSwgb3JcbltgZGVmYXVsdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUHJlYy5kZWZhdWx0KSBpZiB0aGVyZSBpcyBubyBzdWNoIHBhcmVudC4gVGhlXG5maW5hbCBvcmRlcmluZyBvZiBleHRlbnNpb25zIGlzIGRldGVybWluZWQgYnkgZmlyc3Qgc29ydGluZyBieVxucHJlY2VkZW5jZSBhbmQgdGhlbiBieSBvcmRlciB3aXRoaW4gZWFjaCBwcmVjZWRlbmNlLlxuKi9cbmNvbnN0IFByZWMgPSB7XG4gICAgLyoqXG4gICAgVGhlIGhpZ2hlc3QgcHJlY2VkZW5jZSBsZXZlbCwgZm9yIGV4dGVuc2lvbnMgdGhhdCBzaG91bGQgZW5kIHVwXG4gICAgbmVhciB0aGUgc3RhcnQgb2YgdGhlIHByZWNlZGVuY2Ugb3JkZXJpbmcuXG4gICAgKi9cbiAgICBoaWdoZXN0OiAvKkBfX1BVUkVfXyovcHJlYyhQcmVjXy5oaWdoZXN0KSxcbiAgICAvKipcbiAgICBBIGhpZ2hlci10aGFuLWRlZmF1bHQgcHJlY2VkZW5jZSwgZm9yIGV4dGVuc2lvbnMgdGhhdCBzaG91bGRcbiAgICBjb21lIGJlZm9yZSB0aG9zZSB3aXRoIGRlZmF1bHQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGhpZ2g6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmhpZ2gpLFxuICAgIC8qKlxuICAgIFRoZSBkZWZhdWx0IHByZWNlZGVuY2UsIHdoaWNoIGlzIGFsc28gdXNlZCBmb3IgZXh0ZW5zaW9uc1xuICAgIHdpdGhvdXQgYW4gZXhwbGljaXQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGRlZmF1bHQ6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmRlZmF1bHQpLFxuICAgIC8qKlxuICAgIEEgbG93ZXItdGhhbi1kZWZhdWx0IHByZWNlZGVuY2UuXG4gICAgKi9cbiAgICBsb3c6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmxvdyksXG4gICAgLyoqXG4gICAgVGhlIGxvd2VzdCBwcmVjZWRlbmNlIGxldmVsLiBNZWFudCBmb3IgdGhpbmdzIHRoYXQgc2hvdWxkIGVuZCB1cFxuICAgIG5lYXIgdGhlIGVuZCBvZiB0aGUgZXh0ZW5zaW9uIG9yZGVyLlxuICAgICovXG4gICAgbG93ZXN0OiAvKkBfX1BVUkVfXyovcHJlYyhQcmVjXy5sb3dlc3QpXG59O1xuY2xhc3MgUHJlY0V4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3IoaW5uZXIsIHByZWMpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICAgICAgICB0aGlzLnByZWMgPSBwcmVjO1xuICAgIH1cbn1cbi8qKlxuRXh0ZW5zaW9uIGNvbXBhcnRtZW50cyBjYW4gYmUgdXNlZCB0byBtYWtlIGEgY29uZmlndXJhdGlvblxuZHluYW1pYy4gQnkgW3dyYXBwaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNvbXBhcnRtZW50Lm9mKSBwYXJ0IG9mIHlvdXJcbmNvbmZpZ3VyYXRpb24gaW4gYSBjb21wYXJ0bWVudCwgeW91IGNhbiBsYXRlclxuW3JlcGxhY2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQucmVjb25maWd1cmUpIHRoYXQgcGFydCB0aHJvdWdoIGFcbnRyYW5zYWN0aW9uLlxuKi9cbmNsYXNzIENvbXBhcnRtZW50IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjb21wYXJ0bWVudCB0byBhZGQgdG8geW91ciBbc3RhdGVcbiAgICBjb25maWd1cmF0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlQ29uZmlnLmV4dGVuc2lvbnMpLlxuICAgICovXG4gICAgb2YoZXh0KSB7IHJldHVybiBuZXcgQ29tcGFydG1lbnRJbnN0YW5jZSh0aGlzLCBleHQpOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIFtlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmVmZmVjdHMpIHRoYXRcbiAgICByZWNvbmZpZ3VyZXMgdGhpcyBjb21wYXJ0bWVudC5cbiAgICAqL1xuICAgIHJlY29uZmlndXJlKGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIENvbXBhcnRtZW50LnJlY29uZmlndXJlLm9mKHsgY29tcGFydG1lbnQ6IHRoaXMsIGV4dGVuc2lvbjogY29udGVudCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjdXJyZW50IGNvbnRlbnQgb2YgdGhlIGNvbXBhcnRtZW50IGluIHRoZSBzdGF0ZSwgb3JcbiAgICBgdW5kZWZpbmVkYCBpZiBpdCBpc24ndCBwcmVzZW50LlxuICAgICovXG4gICAgZ2V0KHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb25maWcuY29tcGFydG1lbnRzLmdldCh0aGlzKTtcbiAgICB9XG59XG5jbGFzcyBDb21wYXJ0bWVudEluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJ0bWVudCwgaW5uZXIpIHtcbiAgICAgICAgdGhpcy5jb21wYXJ0bWVudCA9IGNvbXBhcnRtZW50O1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgfVxufVxuY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgY29tcGFydG1lbnRzLCBkeW5hbWljU2xvdHMsIGFkZHJlc3MsIHN0YXRpY1ZhbHVlcywgZmFjZXRzKSB7XG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgICAgIHRoaXMuY29tcGFydG1lbnRzID0gY29tcGFydG1lbnRzO1xuICAgICAgICB0aGlzLmR5bmFtaWNTbG90cyA9IGR5bmFtaWNTbG90cztcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5zdGF0aWNWYWx1ZXMgPSBzdGF0aWNWYWx1ZXM7XG4gICAgICAgIHRoaXMuZmFjZXRzID0gZmFjZXRzO1xuICAgICAgICB0aGlzLnN0YXR1c1RlbXBsYXRlID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLnN0YXR1c1RlbXBsYXRlLmxlbmd0aCA8IGR5bmFtaWNTbG90cy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RlbXBsYXRlLnB1c2goMCAvKiBTbG90U3RhdHVzLlVucmVzb2x2ZWQgKi8pO1xuICAgIH1cbiAgICBzdGF0aWNGYWNldChmYWNldCkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuYWRkcmVzc1tmYWNldC5pZF07XG4gICAgICAgIHJldHVybiBhZGRyID09IG51bGwgPyBmYWNldC5kZWZhdWx0IDogdGhpcy5zdGF0aWNWYWx1ZXNbYWRkciA+PiAxXTtcbiAgICB9XG4gICAgc3RhdGljIHJlc29sdmUoYmFzZSwgY29tcGFydG1lbnRzLCBvbGRTdGF0ZSkge1xuICAgICAgICBsZXQgZmllbGRzID0gW107XG4gICAgICAgIGxldCBmYWNldHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgbmV3Q29tcGFydG1lbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBleHQgb2YgZmxhdHRlbihiYXNlLCBjb21wYXJ0bWVudHMsIG5ld0NvbXBhcnRtZW50cykpIHtcbiAgICAgICAgICAgIGlmIChleHQgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkKVxuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKGV4dCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKGZhY2V0c1tleHQuZmFjZXQuaWRdIHx8IChmYWNldHNbZXh0LmZhY2V0LmlkXSA9IFtdKSkucHVzaChleHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhZGRyZXNzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IHN0YXRpY1ZhbHVlcyA9IFtdO1xuICAgICAgICBsZXQgZHluYW1pY1Nsb3RzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICAgICAgYWRkcmVzc1tmaWVsZC5pZF0gPSBkeW5hbWljU2xvdHMubGVuZ3RoIDw8IDE7XG4gICAgICAgICAgICBkeW5hbWljU2xvdHMucHVzaChhID0+IGZpZWxkLnNsb3QoYSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGRGYWNldHMgPSBvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuY29uZmlnLmZhY2V0cztcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gZmFjZXRzKSB7XG4gICAgICAgICAgICBsZXQgcHJvdmlkZXJzID0gZmFjZXRzW2lkXSwgZmFjZXQgPSBwcm92aWRlcnNbMF0uZmFjZXQ7XG4gICAgICAgICAgICBsZXQgb2xkUHJvdmlkZXJzID0gb2xkRmFjZXRzICYmIG9sZEZhY2V0c1tpZF0gfHwgW107XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJzLmV2ZXJ5KHAgPT4gcC50eXBlID09IDAgLyogUHJvdmlkZXIuU3RhdGljICovKSkge1xuICAgICAgICAgICAgICAgIGFkZHJlc3NbZmFjZXQuaWRdID0gKHN0YXRpY1ZhbHVlcy5sZW5ndGggPDwgMSkgfCAxO1xuICAgICAgICAgICAgICAgIGlmIChzYW1lQXJyYXkob2xkUHJvdmlkZXJzLCBwcm92aWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKG9sZFN0YXRlLmZhY2V0KGZhY2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBmYWNldC5jb21iaW5lKHByb3ZpZGVycy5tYXAocCA9PiBwLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKG9sZFN0YXRlICYmIGZhY2V0LmNvbXBhcmUodmFsdWUsIG9sZFN0YXRlLmZhY2V0KGZhY2V0KSkgPyBvbGRTdGF0ZS5mYWNldChmYWNldCkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAudHlwZSA9PSAwIC8qIFByb3ZpZGVyLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1twLmlkXSA9IChzdGF0aWNWYWx1ZXMubGVuZ3RoIDw8IDEpIHwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKHAudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1twLmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGEgPT4gcC5keW5hbWljU2xvdChhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkcmVzc1tmYWNldC5pZF0gPSBkeW5hbWljU2xvdHMubGVuZ3RoIDw8IDE7XG4gICAgICAgICAgICAgICAgZHluYW1pY1Nsb3RzLnB1c2goYSA9PiBkeW5hbWljRmFjZXRTbG90KGEsIGZhY2V0LCBwcm92aWRlcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZHluYW1pYyA9IGR5bmFtaWNTbG90cy5tYXAoZiA9PiBmKGFkZHJlc3MpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25maWd1cmF0aW9uKGJhc2UsIG5ld0NvbXBhcnRtZW50cywgZHluYW1pYywgYWRkcmVzcywgc3RhdGljVmFsdWVzLCBmYWNldHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZsYXR0ZW4oZXh0ZW5zaW9uLCBjb21wYXJ0bWVudHMsIG5ld0NvbXBhcnRtZW50cykge1xuICAgIGxldCByZXN1bHQgPSBbW10sIFtdLCBbXSwgW10sIFtdXTtcbiAgICBsZXQgc2VlbiA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBpbm5lcihleHQsIHByZWMpIHtcbiAgICAgICAgbGV0IGtub3duID0gc2Vlbi5nZXQoZXh0KTtcbiAgICAgICAgaWYgKGtub3duICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChrbm93biA8PSBwcmVjKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHJlc3VsdFtrbm93bl0uaW5kZXhPZihleHQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kID4gLTEpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tub3duXS5zcGxpY2UoZm91bmQsIDEpO1xuICAgICAgICAgICAgaWYgKGV4dCBpbnN0YW5jZW9mIENvbXBhcnRtZW50SW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgbmV3Q29tcGFydG1lbnRzLmRlbGV0ZShleHQuY29tcGFydG1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc2V0KGV4dCwgcHJlYyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4dCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGUgb2YgZXh0KVxuICAgICAgICAgICAgICAgIGlubmVyKGUsIHByZWMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4dCBpbnN0YW5jZW9mIENvbXBhcnRtZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGlmIChuZXdDb21wYXJ0bWVudHMuaGFzKGV4dC5jb21wYXJ0bWVudCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYER1cGxpY2F0ZSB1c2Ugb2YgY29tcGFydG1lbnQgaW4gZXh0ZW5zaW9uc2ApO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb21wYXJ0bWVudHMuZ2V0KGV4dC5jb21wYXJ0bWVudCkgfHwgZXh0LmlubmVyO1xuICAgICAgICAgICAgbmV3Q29tcGFydG1lbnRzLnNldChleHQuY29tcGFydG1lbnQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgaW5uZXIoY29udGVudCwgcHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgUHJlY0V4dGVuc2lvbikge1xuICAgICAgICAgICAgaW5uZXIoZXh0LmlubmVyLCBleHQucHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgU3RhdGVGaWVsZCkge1xuICAgICAgICAgICAgcmVzdWx0W3ByZWNdLnB1c2goZXh0KTtcbiAgICAgICAgICAgIGlmIChleHQucHJvdmlkZXMpXG4gICAgICAgICAgICAgICAgaW5uZXIoZXh0LnByb3ZpZGVzLCBwcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBGYWNldFByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXN1bHRbcHJlY10ucHVzaChleHQpO1xuICAgICAgICAgICAgaWYgKGV4dC5mYWNldC5leHRlbnNpb25zKVxuICAgICAgICAgICAgICAgIGlubmVyKGV4dC5mYWNldC5leHRlbnNpb25zLCBQcmVjXy5kZWZhdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gZXh0LmV4dGVuc2lvbjtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBleHRlbnNpb24gdmFsdWUgaW4gZXh0ZW5zaW9uIHNldCAoJHtleHR9KS4gVGhpcyBzb21ldGltZXMgaGFwcGVucyBiZWNhdXNlIG11bHRpcGxlIGluc3RhbmNlcyBvZiBAY29kZW1pcnJvci9zdGF0ZSBhcmUgbG9hZGVkLCBicmVha2luZyBpbnN0YW5jZW9mIGNoZWNrcy5gKTtcbiAgICAgICAgICAgIGlubmVyKGNvbnRlbnQsIHByZWMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlubmVyKGV4dGVuc2lvbiwgUHJlY18uZGVmYXVsdCk7XG4gICAgcmV0dXJuIHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFkZHIoc3RhdGUsIGFkZHIpIHtcbiAgICBpZiAoYWRkciAmIDEpXG4gICAgICAgIHJldHVybiAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi87XG4gICAgbGV0IGlkeCA9IGFkZHIgPj4gMTtcbiAgICBsZXQgc3RhdHVzID0gc3RhdGUuc3RhdHVzW2lkeF07XG4gICAgaWYgKHN0YXR1cyA9PSA0IC8qIFNsb3RTdGF0dXMuQ29tcHV0aW5nICovKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeSBiZXR3ZWVuIGZpZWxkcyBhbmQvb3IgZmFjZXRzXCIpO1xuICAgIGlmIChzdGF0dXMgJiAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi8pXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgc3RhdGUuc3RhdHVzW2lkeF0gPSA0IC8qIFNsb3RTdGF0dXMuQ29tcHV0aW5nICovO1xuICAgIGxldCBjaGFuZ2VkID0gc3RhdGUuY29tcHV0ZVNsb3Qoc3RhdGUsIHN0YXRlLmNvbmZpZy5keW5hbWljU2xvdHNbaWR4XSk7XG4gICAgcmV0dXJuIHN0YXRlLnN0YXR1c1tpZHhdID0gMiAvKiBTbG90U3RhdHVzLkNvbXB1dGVkICovIHwgY2hhbmdlZDtcbn1cbmZ1bmN0aW9uIGdldEFkZHIoc3RhdGUsIGFkZHIpIHtcbiAgICByZXR1cm4gYWRkciAmIDEgPyBzdGF0ZS5jb25maWcuc3RhdGljVmFsdWVzW2FkZHIgPj4gMV0gOiBzdGF0ZS52YWx1ZXNbYWRkciA+PiAxXTtcbn1cblxuY29uc3QgbGFuZ3VhZ2VEYXRhID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUodiA9PiB2KSxcbiAgICBzdGF0aWM6IHRydWVcbn0pO1xuY29uc3QgbGluZVNlcGFyYXRvciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogdW5kZWZpbmVkLFxuICAgIHN0YXRpYzogdHJ1ZVxufSk7XG5jb25zdCBjaGFuZ2VGaWx0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCB0cmFuc2FjdGlvbkZpbHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRXh0ZW5kZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCByZWFkT25seSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogZmFsc2Vcbn0pO1xuXG4vKipcbkFubm90YXRpb25zIGFyZSB0YWdnZWQgdmFsdWVzIHRoYXQgYXJlIHVzZWQgdG8gYWRkIG1ldGFkYXRhIHRvXG50cmFuc2FjdGlvbnMgaW4gYW4gZXh0ZW5zaWJsZSB3YXkuIFRoZXkgc2hvdWxkIGJlIHVzZWQgdG8gbW9kZWxcbnRoaW5ncyB0aGF0IGVmZmVjdCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uIChzdWNoIGFzIGl0cyBbdGltZVxuc3RhbXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edGltZSkgb3IgaW5mb3JtYXRpb24gYWJvdXQgaXRzXG5bb3JpZ2luXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uXnVzZXJFdmVudCkpLiBGb3IgZWZmZWN0cyB0aGF0IGhhcHBlblxuX2Fsb25nc2lkZV8gdGhlIG90aGVyIGNoYW5nZXMgbWFkZSBieSB0aGUgdHJhbnNhY3Rpb24sIFtzdGF0ZVxuZWZmZWN0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdCkgYXJlIG1vcmUgYXBwcm9wcmlhdGUuXG4qL1xuY2xhc3MgQW5ub3RhdGlvbiB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgYW5ub3RhdGlvbiB0eXBlLlxuICAgICovXG4gICAgdHlwZSwgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIG9mIHRoaXMgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbmV3IHR5cGUgb2YgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoKSB7IHJldHVybiBuZXcgQW5ub3RhdGlvblR5cGUoKTsgfVxufVxuLyoqXG5NYXJrZXIgdGhhdCBpZGVudGlmaWVzIGEgdHlwZSBvZiBbYW5ub3RhdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Bbm5vdGF0aW9uKS5cbiovXG5jbGFzcyBBbm5vdGF0aW9uVHlwZSB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIG9mKHZhbHVlKSB7IHJldHVybiBuZXcgQW5ub3RhdGlvbih0aGlzLCB2YWx1ZSk7IH1cbn1cbi8qKlxuUmVwcmVzZW50YXRpb24gb2YgYSB0eXBlIG9mIHN0YXRlIGVmZmVjdC4gRGVmaW5lZCB3aXRoXG5bYFN0YXRlRWZmZWN0LmRlZmluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3ReZGVmaW5lKS5cbiovXG5jbGFzcyBTdGF0ZUVmZmVjdFR5cGUge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGBhbnlgIHR5cGVzIGluIHRoZXNlIGZ1bmN0aW9uIHR5cGVzIGFyZSB0aGVyZSB0byB3b3JrXG4gICAgLy8gYXJvdW5kIFR5cGVTY3JpcHQgaXNzdWUgIzM3NjMxLCB3aGVyZSB0aGUgdHlwZSBndWFyZCBvblxuICAgIC8vIGBTdGF0ZUVmZmVjdC5pc2AgbXlzdGVyaW91c2x5IHN0b3BzIHdvcmtpbmcgd2hlbiB0aGVzZSBwcm9wZXJseVxuICAgIC8vIGhhdmUgdHlwZSBgVmFsdWVgLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbc3RhdGUgZWZmZWN0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0KSBpbnN0YW5jZSBvZiB0aGlzXG4gICAgdHlwZS5cbiAgICAqL1xuICAgIG9mKHZhbHVlKSB7IHJldHVybiBuZXcgU3RhdGVFZmZlY3QodGhpcywgdmFsdWUpOyB9XG59XG4vKipcblN0YXRlIGVmZmVjdHMgY2FuIGJlIHVzZWQgdG8gcmVwcmVzZW50IGFkZGl0aW9uYWwgZWZmZWN0c1xuYXNzb2NpYXRlZCB3aXRoIGEgW3RyYW5zYWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLmVmZmVjdHMpLiBUaGV5XG5hcmUgb2Z0ZW4gdXNlZnVsIHRvIG1vZGVsIGNoYW5nZXMgdG8gY3VzdG9tIFtzdGF0ZVxuZmllbGRzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRmllbGQpLCB3aGVuIHRob3NlIGNoYW5nZXMgYXJlbid0IGltcGxpY2l0IGluXG5kb2N1bWVudCBvciBzZWxlY3Rpb24gY2hhbmdlcy5cbiovXG5jbGFzcyBTdGF0ZUVmZmVjdCB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHR5cGUsIFxuICAgIC8qKlxuICAgIFRoZSB2YWx1ZSBvZiB0aGlzIGVmZmVjdC5cbiAgICAqL1xuICAgIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgZWZmZWN0IHRocm91Z2ggYSBwb3NpdGlvbiBtYXBwaW5nLiBXaWxsIHJldHVyblxuICAgIGB1bmRlZmluZWRgIHdoZW4gdGhhdCBlbmRzIHVwIGRlbGV0aW5nIHRoZSBlZmZlY3QuXG4gICAgKi9cbiAgICBtYXAobWFwcGluZykge1xuICAgICAgICBsZXQgbWFwcGVkID0gdGhpcy50eXBlLm1hcCh0aGlzLnZhbHVlLCBtYXBwaW5nKTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogbWFwcGVkID09IHRoaXMudmFsdWUgPyB0aGlzIDogbmV3IFN0YXRlRWZmZWN0KHRoaXMudHlwZSwgbWFwcGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVsbHMgeW91IHdoZXRoZXIgdGhpcyBlZmZlY3Qgb2JqZWN0IGlzIG9mIGEgZ2l2ZW5cbiAgICBbdHlwZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdFR5cGUpLlxuICAgICovXG4gICAgaXModHlwZSkgeyByZXR1cm4gdGhpcy50eXBlID09IHR5cGU7IH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgZWZmZWN0IHR5cGUuIFRoZSB0eXBlIHBhcmFtZXRlciBpbmRpY2F0ZXMgdGhlIHR5cGVcbiAgICBvZiB2YWx1ZXMgdGhhdCBoaXMgZWZmZWN0IGhvbGRzLiBJdCBzaG91bGQgYmUgYSB0eXBlIHRoYXRcbiAgICBkb2Vzbid0IGluY2x1ZGUgYHVuZGVmaW5lZGAsIHNpbmNlIHRoYXQgaXMgdXNlZCBpblxuICAgIFttYXBwaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0Lm1hcCkgdG8gaW5kaWNhdGUgdGhhdCBhbiBlZmZlY3QgaXNcbiAgICByZW1vdmVkLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZUVmZmVjdFR5cGUoc3BlYy5tYXAgfHwgKHYgPT4gdikpO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgYW4gYXJyYXkgb2YgZWZmZWN0cyB0aHJvdWdoIGEgY2hhbmdlIHNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBtYXBFZmZlY3RzKGVmZmVjdHMsIG1hcHBpbmcpIHtcbiAgICAgICAgaWYgKCFlZmZlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBlZmZlY3RzO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBsZXQgbWFwcGVkID0gZWZmZWN0Lm1hcChtYXBwaW5nKTtcbiAgICAgICAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWFwcGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuVGhpcyBlZmZlY3QgY2FuIGJlIHVzZWQgdG8gcmVjb25maWd1cmUgdGhlIHJvb3QgZXh0ZW5zaW9ucyBvZlxudGhlIGVkaXRvci4gRG9pbmcgdGhpcyB3aWxsIGRpc2NhcmQgYW55IGV4dGVuc2lvbnNcblthcHBlbmRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdF5hcHBlbmRDb25maWcpLCBidXQgZG9lcyBub3QgcmVzZXRcbnRoZSBjb250ZW50IG9mIFtyZWNvbmZpZ3VyZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQucmVjb25maWd1cmUpXG5jb21wYXJ0bWVudHMuXG4qL1xuU3RhdGVFZmZlY3QucmVjb25maWd1cmUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4vKipcbkFwcGVuZCBleHRlbnNpb25zIHRvIHRoZSB0b3AtbGV2ZWwgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yLlxuKi9cblN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8qKlxuQ2hhbmdlcyB0byB0aGUgZWRpdG9yIHN0YXRlIGFyZSBncm91cGVkIGludG8gdHJhbnNhY3Rpb25zLlxuVHlwaWNhbGx5LCBhIHVzZXIgYWN0aW9uIGNyZWF0ZXMgYSBzaW5nbGUgdHJhbnNhY3Rpb24sIHdoaWNoIG1heVxuY29udGFpbiBhbnkgbnVtYmVyIG9mIGRvY3VtZW50IGNoYW5nZXMsIG1heSBjaGFuZ2UgdGhlIHNlbGVjdGlvbixcbm9yIGhhdmUgb3RoZXIgZWZmZWN0cy4gQ3JlYXRlIGEgdHJhbnNhY3Rpb24gYnkgY2FsbGluZ1xuW2BFZGl0b3JTdGF0ZS51cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSksIG9yIGltbWVkaWF0ZWx5XG5kaXNwYXRjaCBvbmUgYnkgY2FsbGluZ1xuW2BFZGl0b3JWaWV3LmRpc3BhdGNoYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZGlzcGF0Y2gpLlxuKi9cbmNsYXNzIFRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhdGUgZnJvbSB3aGljaCB0aGUgdHJhbnNhY3Rpb24gc3RhcnRzLlxuICAgICovXG4gICAgc3RhcnRTdGF0ZSwgXG4gICAgLyoqXG4gICAgVGhlIGRvY3VtZW50IGNoYW5nZXMgbWFkZSBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICovXG4gICAgY2hhbmdlcywgXG4gICAgLyoqXG4gICAgVGhlIHNlbGVjdGlvbiBzZXQgYnkgdGhpcyB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIGl0XG4gICAgZG9lc24ndCBleHBsaWNpdGx5IHNldCBhIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIHNlbGVjdGlvbiwgXG4gICAgLyoqXG4gICAgVGhlIGVmZmVjdHMgYWRkZWQgdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgICovXG4gICAgZWZmZWN0cywgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBhbm5vdGF0aW9ucywgXG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgc2VsZWN0aW9uIHNob3VsZCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgYWZ0ZXIgdGhpc1xuICAgIHRyYW5zYWN0aW9uIGlzIGRpc3BhdGNoZWQuXG4gICAgKi9cbiAgICBzY3JvbGxJbnRvVmlldykge1xuICAgICAgICB0aGlzLnN0YXJ0U3RhdGUgPSBzdGFydFN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gZWZmZWN0cztcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICAgICAgICB0aGlzLnNjcm9sbEludG9WaWV3ID0gc2Nyb2xsSW50b1ZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZG9jID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChzZWxlY3Rpb24pXG4gICAgICAgICAgICBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGNoYW5nZXMubmV3TGVuZ3RoKTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9ucy5zb21lKChhKSA9PiBhLnR5cGUgPT0gVHJhbnNhY3Rpb24udGltZSkpXG4gICAgICAgICAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuY29uY2F0KFRyYW5zYWN0aW9uLnRpbWUub2YoRGF0ZS5ub3coKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoc3RhcnRTdGF0ZSwgY2hhbmdlcywgc2VsZWN0aW9uLCBlZmZlY3RzLCBhbm5vdGF0aW9ucywgc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihzdGFydFN0YXRlLCBjaGFuZ2VzLCBzZWxlY3Rpb24sIGVmZmVjdHMsIGFubm90YXRpb25zLCBzY3JvbGxJbnRvVmlldyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBuZXcgZG9jdW1lbnQgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBDb250cmFyeSB0b1xuICAgIFtgLnN0YXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5zdGF0ZSlgLmRvY2AsIGFjY2Vzc2luZyB0aGlzIHdvbid0XG4gICAgZm9yY2UgdGhlIGVudGlyZSBuZXcgc3RhdGUgdG8gYmUgY29tcHV0ZWQgcmlnaHQgYXdheSwgc28gaXQgaXNcbiAgICByZWNvbW1lbmRlZCB0aGF0IFt0cmFuc2FjdGlvblxuICAgIGZpbHRlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedHJhbnNhY3Rpb25GaWx0ZXIpIHVzZSB0aGlzIGdldHRlclxuICAgIHdoZW4gdGhleSBuZWVkIHRvIGxvb2sgYXQgdGhlIG5ldyBkb2N1bWVudC5cbiAgICAqL1xuICAgIGdldCBuZXdEb2MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb2MgfHwgKHRoaXMuX2RvYyA9IHRoaXMuY2hhbmdlcy5hcHBseSh0aGlzLnN0YXJ0U3RhdGUuZG9jKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBuZXcgc2VsZWN0aW9uIHByb2R1Y2VkIGJ5IHRoZSB0cmFuc2FjdGlvbi4gSWZcbiAgICBbYHRoaXMuc2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5zZWxlY3Rpb24pIGlzIHVuZGVmaW5lZCxcbiAgICB0aGlzIHdpbGwgW21hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTZWxlY3Rpb24ubWFwKSB0aGUgc3RhcnQgc3RhdGUnc1xuICAgIGN1cnJlbnQgc2VsZWN0aW9uIHRocm91Z2ggdGhlIGNoYW5nZXMgbWFkZSBieSB0aGUgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBnZXQgbmV3U2VsZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24gfHwgdGhpcy5zdGFydFN0YXRlLnNlbGVjdGlvbi5tYXAodGhpcy5jaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBzdGF0ZSBjcmVhdGVkIGJ5IHRoZSB0cmFuc2FjdGlvbi4gQ29tcHV0ZWQgb24gZGVtYW5kXG4gICAgKGJ1dCByZXRhaW5lZCBmb3Igc3Vic2VxdWVudCBhY2Nlc3MpLCBzbyBpdCBpcyByZWNvbW1lbmRlZCBub3QgdG9cbiAgICBhY2Nlc3MgaXQgaW4gW3RyYW5zYWN0aW9uXG4gICAgZmlsdGVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50cmFuc2FjdGlvbkZpbHRlcikgd2hlbiBwb3NzaWJsZS5cbiAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZSlcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTdGF0ZS5hcHBseVRyYW5zYWN0aW9uKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGFubm90YXRpb24gdHlwZSwgaWYgYW55LlxuICAgICovXG4gICAgYW5ub3RhdGlvbih0eXBlKSB7XG4gICAgICAgIGZvciAobGV0IGFubiBvZiB0aGlzLmFubm90YXRpb25zKVxuICAgICAgICAgICAgaWYgKGFubi50eXBlID09IHR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFubi52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9uIGNoYW5nZWQgdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IGRvY0NoYW5nZWQoKSB7IHJldHVybiAhdGhpcy5jaGFuZ2VzLmVtcHR5OyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyB0cmFuc2FjdGlvbiByZWNvbmZpZ3VyZXMgdGhlIHN0YXRlXG4gICAgKHRocm91Z2ggYSBbY29uZmlndXJhdGlvbiBjb21wYXJ0bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudCkgb3JcbiAgICB3aXRoIGEgdG9wLWxldmVsIGNvbmZpZ3VyYXRpb25cbiAgICBbZWZmZWN0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0XnJlY29uZmlndXJlKS5cbiAgICAqL1xuICAgIGdldCByZWNvbmZpZ3VyZWQoKSB7IHJldHVybiB0aGlzLnN0YXJ0U3RhdGUuY29uZmlnICE9IHRoaXMuc3RhdGUuY29uZmlnOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBoYXMgYSBbdXNlclxuICAgIGV2ZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uXnVzZXJFdmVudCkgYW5ub3RhdGlvbiB0aGF0IGlzIGVxdWFsIHRvXG4gICAgb3IgbW9yZSBzcGVjaWZpYyB0aGFuIGBldmVudGAuIEZvciBleGFtcGxlLCBpZiB0aGUgdHJhbnNhY3Rpb25cbiAgICBoYXMgYFwic2VsZWN0LnBvaW50ZXJcImAgYXMgdXNlciBldmVudCwgYFwic2VsZWN0XCJgIGFuZFxuICAgIGBcInNlbGVjdC5wb2ludGVyXCJgIHdpbGwgbWF0Y2ggaXQuXG4gICAgKi9cbiAgICBpc1VzZXJFdmVudChldmVudCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi51c2VyRXZlbnQpO1xuICAgICAgICByZXR1cm4gISEoZSAmJiAoZSA9PSBldmVudCB8fCBlLmxlbmd0aCA+IGV2ZW50Lmxlbmd0aCAmJiBlLnNsaWNlKDAsIGV2ZW50Lmxlbmd0aCkgPT0gZXZlbnQgJiYgZVtldmVudC5sZW5ndGhdID09IFwiLlwiKSk7XG4gICAgfVxufVxuLyoqXG5Bbm5vdGF0aW9uIHVzZWQgdG8gc3RvcmUgdHJhbnNhY3Rpb24gdGltZXN0YW1wcy4gQXV0b21hdGljYWxseVxuYWRkZWQgdG8gZXZlcnkgdHJhbnNhY3Rpb24sIGhvbGRpbmcgYERhdGUubm93KClgLlxuKi9cblRyYW5zYWN0aW9uLnRpbWUgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuQW5ub3RhdGlvbiB1c2VkIHRvIGFzc29jaWF0ZSBhIHRyYW5zYWN0aW9uIHdpdGggYSB1c2VyIGludGVyZmFjZVxuZXZlbnQuIEhvbGRzIGEgc3RyaW5nIGlkZW50aWZ5aW5nIHRoZSBldmVudCwgdXNpbmcgYVxuZG90LXNlcGFyYXRlZCBmb3JtYXQgdG8gc3VwcG9ydCBhdHRhY2hpbmcgbW9yZSBzcGVjaWZpY1xuaW5mb3JtYXRpb24uIFRoZSBldmVudHMgdXNlZCBieSB0aGUgY29yZSBsaWJyYXJpZXMgYXJlOlxuXG4gLSBgXCJpbnB1dFwiYCB3aGVuIGNvbnRlbnQgaXMgZW50ZXJlZFxuICAgLSBgXCJpbnB1dC50eXBlXCJgIGZvciB0eXBlZCBpbnB1dFxuICAgICAtIGBcImlucHV0LnR5cGUuY29tcG9zZVwiYCBmb3IgY29tcG9zaXRpb25cbiAgIC0gYFwiaW5wdXQucGFzdGVcImAgZm9yIHBhc3RlZCBpbnB1dFxuICAgLSBgXCJpbnB1dC5kcm9wXCJgIHdoZW4gYWRkaW5nIGNvbnRlbnQgd2l0aCBkcmFnLWFuZC1kcm9wXG4gICAtIGBcImlucHV0LmNvbXBsZXRlXCJgIHdoZW4gYXV0b2NvbXBsZXRpbmdcbiAtIGBcImRlbGV0ZVwiYCB3aGVuIHRoZSB1c2VyIGRlbGV0ZXMgY29udGVudFxuICAgLSBgXCJkZWxldGUuc2VsZWN0aW9uXCJgIHdoZW4gZGVsZXRpbmcgdGhlIHNlbGVjdGlvblxuICAgLSBgXCJkZWxldGUuZm9yd2FyZFwiYCB3aGVuIGRlbGV0aW5nIGZvcndhcmQgZnJvbSB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5iYWNrd2FyZFwiYCB3aGVuIGRlbGV0aW5nIGJhY2t3YXJkIGZyb20gdGhlIHNlbGVjdGlvblxuICAgLSBgXCJkZWxldGUuY3V0XCJgIHdoZW4gY3V0dGluZyB0byB0aGUgY2xpcGJvYXJkXG4gLSBgXCJtb3ZlXCJgIHdoZW4gY29udGVudCBpcyBtb3ZlZFxuICAgLSBgXCJtb3ZlLmRyb3BcImAgd2hlbiBjb250ZW50IGlzIG1vdmVkIHdpdGhpbiB0aGUgZWRpdG9yIHRocm91Z2ggZHJhZy1hbmQtZHJvcFxuIC0gYFwic2VsZWN0XCJgIHdoZW4gZXhwbGljaXRseSBjaGFuZ2luZyB0aGUgc2VsZWN0aW9uXG4gICAtIGBcInNlbGVjdC5wb2ludGVyXCJgIHdoZW4gc2VsZWN0aW5nIHdpdGggYSBtb3VzZSBvciBvdGhlciBwb2ludGluZyBkZXZpY2VcbiAtIGBcInVuZG9cImAgYW5kIGBcInJlZG9cImAgZm9yIGhpc3RvcnkgYWN0aW9uc1xuXG5Vc2UgW2Bpc1VzZXJFdmVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uaXNVc2VyRXZlbnQpIHRvIGNoZWNrXG53aGV0aGVyIHRoZSBhbm5vdGF0aW9uIG1hdGNoZXMgYSBnaXZlbiBldmVudC5cbiovXG5UcmFuc2FjdGlvbi51c2VyRXZlbnQgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuQW5ub3RhdGlvbiBpbmRpY2F0aW5nIHdoZXRoZXIgYSB0cmFuc2FjdGlvbiBzaG91bGQgYmUgYWRkZWQgdG9cbnRoZSB1bmRvIGhpc3Rvcnkgb3Igbm90LlxuKi9cblRyYW5zYWN0aW9uLmFkZFRvSGlzdG9yeSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIGluZGljYXRpbmcgKHdoZW4gcHJlc2VudCBhbmQgdHJ1ZSkgdGhhdCBhIHRyYW5zYWN0aW9uXG5yZXByZXNlbnRzIGEgY2hhbmdlIG1hZGUgYnkgc29tZSBvdGhlciBhY3Rvciwgbm90IHRoZSB1c2VyLiBUaGlzXG5pcyB1c2VkLCBmb3IgZXhhbXBsZSwgdG8gdGFnIG90aGVyIHBlb3BsZSdzIGNoYW5nZXMgaW5cbmNvbGxhYm9yYXRpdmUgZWRpdGluZy5cbiovXG5UcmFuc2FjdGlvbi5yZW1vdGUgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbmZ1bmN0aW9uIGpvaW5SYW5nZXMoYSwgYikge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpQSA9IDAsIGlCID0gMDs7KSB7XG4gICAgICAgIGxldCBmcm9tLCB0bztcbiAgICAgICAgaWYgKGlBIDwgYS5sZW5ndGggJiYgKGlCID09IGIubGVuZ3RoIHx8IGJbaUJdID49IGFbaUFdKSkge1xuICAgICAgICAgICAgZnJvbSA9IGFbaUErK107XG4gICAgICAgICAgICB0byA9IGFbaUErK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaUIgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgZnJvbSA9IGJbaUIrK107XG4gICAgICAgICAgICB0byA9IGJbaUIrK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKCFyZXN1bHQubGVuZ3RoIHx8IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPCBmcm9tKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJvbSwgdG8pO1xuICAgICAgICBlbHNlIGlmIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdIDwgdG8pXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdG87XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VUcmFuc2FjdGlvbihhLCBiLCBzZXF1ZW50aWFsKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBtYXBGb3JBLCBtYXBGb3JCLCBjaGFuZ2VzO1xuICAgIGlmIChzZXF1ZW50aWFsKSB7XG4gICAgICAgIG1hcEZvckEgPSBiLmNoYW5nZXM7XG4gICAgICAgIG1hcEZvckIgPSBDaGFuZ2VTZXQuZW1wdHkoYi5jaGFuZ2VzLmxlbmd0aCk7XG4gICAgICAgIGNoYW5nZXMgPSBhLmNoYW5nZXMuY29tcG9zZShiLmNoYW5nZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWFwRm9yQSA9IGIuY2hhbmdlcy5tYXAoYS5jaGFuZ2VzKTtcbiAgICAgICAgbWFwRm9yQiA9IGEuY2hhbmdlcy5tYXBEZXNjKGIuY2hhbmdlcywgdHJ1ZSk7XG4gICAgICAgIGNoYW5nZXMgPSBhLmNoYW5nZXMuY29tcG9zZShtYXBGb3JBKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgc2VsZWN0aW9uOiBiLnNlbGVjdGlvbiA/IGIuc2VsZWN0aW9uLm1hcChtYXBGb3JCKSA6IChfYSA9IGEuc2VsZWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKG1hcEZvckEpLFxuICAgICAgICBlZmZlY3RzOiBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGEuZWZmZWN0cywgbWFwRm9yQSkuY29uY2F0KFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoYi5lZmZlY3RzLCBtYXBGb3JCKSksXG4gICAgICAgIGFubm90YXRpb25zOiBhLmFubm90YXRpb25zLmxlbmd0aCA/IGEuYW5ub3RhdGlvbnMuY29uY2F0KGIuYW5ub3RhdGlvbnMpIDogYi5hbm5vdGF0aW9ucyxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IGEuc2Nyb2xsSW50b1ZpZXcgfHwgYi5zY3JvbGxJbnRvVmlld1xuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNhY3Rpb25Jbm5lcihzdGF0ZSwgc3BlYywgZG9jU2l6ZSkge1xuICAgIGxldCBzZWwgPSBzcGVjLnNlbGVjdGlvbiwgYW5ub3RhdGlvbnMgPSBhc0FycmF5KHNwZWMuYW5ub3RhdGlvbnMpO1xuICAgIGlmIChzcGVjLnVzZXJFdmVudClcbiAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5jb25jYXQoVHJhbnNhY3Rpb24udXNlckV2ZW50Lm9mKHNwZWMudXNlckV2ZW50KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbmdlczogc3BlYy5jaGFuZ2VzIGluc3RhbmNlb2YgQ2hhbmdlU2V0ID8gc3BlYy5jaGFuZ2VzXG4gICAgICAgICAgICA6IENoYW5nZVNldC5vZihzcGVjLmNoYW5nZXMgfHwgW10sIGRvY1NpemUsIHN0YXRlLmZhY2V0KGxpbmVTZXBhcmF0b3IpKSxcbiAgICAgICAgc2VsZWN0aW9uOiBzZWwgJiYgKHNlbCBpbnN0YW5jZW9mIEVkaXRvclNlbGVjdGlvbiA/IHNlbCA6IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoc2VsLmFuY2hvciwgc2VsLmhlYWQpKSxcbiAgICAgICAgZWZmZWN0czogYXNBcnJheShzcGVjLmVmZmVjdHMpLFxuICAgICAgICBhbm5vdGF0aW9ucyxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6ICEhc3BlYy5zY3JvbGxJbnRvVmlld1xuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNhY3Rpb24oc3RhdGUsIHNwZWNzLCBmaWx0ZXIpIHtcbiAgICBsZXQgcyA9IHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBzcGVjcy5sZW5ndGggPyBzcGVjc1swXSA6IHt9LCBzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICBpZiAoc3BlY3MubGVuZ3RoICYmIHNwZWNzWzBdLmZpbHRlciA9PT0gZmFsc2UpXG4gICAgICAgIGZpbHRlciA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNwZWNzW2ldLmZpbHRlciA9PT0gZmFsc2UpXG4gICAgICAgICAgICBmaWx0ZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNlcSA9ICEhc3BlY3NbaV0uc2VxdWVudGlhbDtcbiAgICAgICAgcyA9IG1lcmdlVHJhbnNhY3Rpb24ocywgcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIHNwZWNzW2ldLCBzZXEgPyBzLmNoYW5nZXMubmV3TGVuZ3RoIDogc3RhdGUuZG9jLmxlbmd0aCksIHNlcSk7XG4gICAgfVxuICAgIGxldCB0ciA9IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgcy5jaGFuZ2VzLCBzLnNlbGVjdGlvbiwgcy5lZmZlY3RzLCBzLmFubm90YXRpb25zLCBzLnNjcm9sbEludG9WaWV3KTtcbiAgICByZXR1cm4gZXh0ZW5kVHJhbnNhY3Rpb24oZmlsdGVyID8gZmlsdGVyVHJhbnNhY3Rpb24odHIpIDogdHIpO1xufVxuLy8gRmluaXNoIGEgdHJhbnNhY3Rpb24gYnkgYXBwbHlpbmcgZmlsdGVycyBpZiBuZWNlc3NhcnkuXG5mdW5jdGlvbiBmaWx0ZXJUcmFuc2FjdGlvbih0cikge1xuICAgIGxldCBzdGF0ZSA9IHRyLnN0YXJ0U3RhdGU7XG4gICAgLy8gQ2hhbmdlIGZpbHRlcnNcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBmaWx0ZXIgb2Ygc3RhdGUuZmFjZXQoY2hhbmdlRmlsdGVyKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBmaWx0ZXIodHIpO1xuICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdHJ1ZSA/IHZhbHVlIDogam9pblJhbmdlcyhyZXN1bHQsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICBsZXQgY2hhbmdlcywgYmFjaztcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJhY2sgPSB0ci5jaGFuZ2VzLmludmVydGVkRGVzYztcbiAgICAgICAgICAgIGNoYW5nZXMgPSBDaGFuZ2VTZXQuZW1wdHkoc3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWQgPSB0ci5jaGFuZ2VzLmZpbHRlcihyZXN1bHQpO1xuICAgICAgICAgICAgY2hhbmdlcyA9IGZpbHRlcmVkLmNoYW5nZXM7XG4gICAgICAgICAgICBiYWNrID0gZmlsdGVyZWQuZmlsdGVyZWQubWFwRGVzYyhmaWx0ZXJlZC5jaGFuZ2VzKS5pbnZlcnRlZERlc2M7XG4gICAgICAgIH1cbiAgICAgICAgdHIgPSBUcmFuc2FjdGlvbi5jcmVhdGUoc3RhdGUsIGNoYW5nZXMsIHRyLnNlbGVjdGlvbiAmJiB0ci5zZWxlY3Rpb24ubWFwKGJhY2spLCBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKHRyLmVmZmVjdHMsIGJhY2spLCB0ci5hbm5vdGF0aW9ucywgdHIuc2Nyb2xsSW50b1ZpZXcpO1xuICAgIH1cbiAgICAvLyBUcmFuc2FjdGlvbiBmaWx0ZXJzXG4gICAgbGV0IGZpbHRlcnMgPSBzdGF0ZS5mYWNldCh0cmFuc2FjdGlvbkZpbHRlcik7XG4gICAgZm9yIChsZXQgaSA9IGZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gZmlsdGVyc1tpXSh0cik7XG4gICAgICAgIGlmIChmaWx0ZXJlZCBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgdHIgPSBmaWx0ZXJlZDtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJlZCkgJiYgZmlsdGVyZWQubGVuZ3RoID09IDEgJiYgZmlsdGVyZWRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbilcbiAgICAgICAgICAgIHRyID0gZmlsdGVyZWRbMF07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRyID0gcmVzb2x2ZVRyYW5zYWN0aW9uKHN0YXRlLCBhc0FycmF5KGZpbHRlcmVkKSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHI7XG59XG5mdW5jdGlvbiBleHRlbmRUcmFuc2FjdGlvbih0cikge1xuICAgIGxldCBzdGF0ZSA9IHRyLnN0YXJ0U3RhdGUsIGV4dGVuZGVycyA9IHN0YXRlLmZhY2V0KHRyYW5zYWN0aW9uRXh0ZW5kZXIpLCBzcGVjID0gdHI7XG4gICAgZm9yIChsZXQgaSA9IGV4dGVuZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5kZXJzW2ldKHRyKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiBPYmplY3Qua2V5cyhleHRlbnNpb24pLmxlbmd0aClcbiAgICAgICAgICAgIHNwZWMgPSBtZXJnZVRyYW5zYWN0aW9uKHNwZWMsIHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBleHRlbnNpb24sIHRyLmNoYW5nZXMubmV3TGVuZ3RoKSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjID09IHRyID8gdHIgOiBUcmFuc2FjdGlvbi5jcmVhdGUoc3RhdGUsIHRyLmNoYW5nZXMsIHRyLnNlbGVjdGlvbiwgc3BlYy5lZmZlY3RzLCBzcGVjLmFubm90YXRpb25zLCBzcGVjLnNjcm9sbEludG9WaWV3KTtcbn1cbmNvbnN0IG5vbmUgPSBbXTtcbmZ1bmN0aW9uIGFzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG5vbmUgOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cblxuLyoqXG5UaGUgY2F0ZWdvcmllcyBwcm9kdWNlZCBieSBhIFtjaGFyYWN0ZXJcbmNhdGVnb3JpemVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikuIFRoZXNlIGFyZSB1c2VkXG5kbyB0aGluZ3MgbGlrZSBzZWxlY3RpbmcgYnkgd29yZC5cbiovXG52YXIgQ2hhckNhdGVnb3J5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2hhckNhdGVnb3J5KSB7XG4gICAgLyoqXG4gICAgV29yZCBjaGFyYWN0ZXJzLlxuICAgICovXG4gICAgQ2hhckNhdGVnb3J5W0NoYXJDYXRlZ29yeVtcIldvcmRcIl0gPSAwXSA9IFwiV29yZFwiO1xuICAgIC8qKlxuICAgIFdoaXRlc3BhY2UuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiU3BhY2VcIl0gPSAxXSA9IFwiU3BhY2VcIjtcbiAgICAvKipcbiAgICBBbnl0aGluZyBlbHNlLlxuICAgICovXG4gICAgQ2hhckNhdGVnb3J5W0NoYXJDYXRlZ29yeVtcIk90aGVyXCJdID0gMl0gPSBcIk90aGVyXCI7XG5yZXR1cm4gQ2hhckNhdGVnb3J5fSkoQ2hhckNhdGVnb3J5IHx8IChDaGFyQ2F0ZWdvcnkgPSB7fSkpO1xuY29uc3Qgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIgPSAvW1xcdTAwZGZcXHUwNTg3XFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MzA0MC1cXHUzMDlmXFx1MzBhMC1cXHUzMGZmXFx1MzQwMC1cXHU0ZGI1XFx1NGUwMC1cXHU5ZmNjXFx1YWMwMC1cXHVkN2FmXS87XG5sZXQgd29yZENoYXI7XG50cnkge1xuICAgIHdvcmRDaGFyID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFxcXHB7QWxwaGFiZXRpY31cXFxccHtOdW1iZXJ9X11cIiwgXCJ1XCIpO1xufVxuY2F0Y2ggKF8pIHsgfVxuZnVuY3Rpb24gaGFzV29yZENoYXIoc3RyKSB7XG4gICAgaWYgKHdvcmRDaGFyKVxuICAgICAgICByZXR1cm4gd29yZENoYXIudGVzdChzdHIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaCA9IHN0cltpXTtcbiAgICAgICAgaWYgKC9cXHcvLnRlc3QoY2gpIHx8IGNoID4gXCJcXHg4MFwiICYmIChjaC50b1VwcGVyQ2FzZSgpICE9IGNoLnRvTG93ZXJDYXNlKCkgfHwgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIudGVzdChjaCkpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG1ha2VDYXRlZ29yaXplcih3b3JkQ2hhcnMpIHtcbiAgICByZXR1cm4gKGNoYXIpID0+IHtcbiAgICAgICAgaWYgKCEvXFxTLy50ZXN0KGNoYXIpKVxuICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5TcGFjZTtcbiAgICAgICAgaWYgKGhhc1dvcmRDaGFyKGNoYXIpKVxuICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5Xb3JkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRDaGFycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChjaGFyLmluZGV4T2Yod29yZENoYXJzW2ldKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiBDaGFyQ2F0ZWdvcnkuV29yZDtcbiAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5PdGhlcjtcbiAgICB9O1xufVxuXG4vKipcblRoZSBlZGl0b3Igc3RhdGUgY2xhc3MgaXMgYSBwZXJzaXN0ZW50IChpbW11dGFibGUpIGRhdGEgc3RydWN0dXJlLlxuVG8gdXBkYXRlIGEgc3RhdGUsIHlvdSBbY3JlYXRlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkgYVxuW3RyYW5zYWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uKSwgd2hpY2ggcHJvZHVjZXMgYSBfbmV3XyBzdGF0ZVxuaW5zdGFuY2UsIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBvYmplY3QuXG5cbkFzIHN1Y2gsIF9uZXZlcl8gbXV0YXRlIHByb3BlcnRpZXMgb2YgYSBzdGF0ZSBkaXJlY3RseS4gVGhhdCdsbFxuanVzdCBicmVhayB0aGluZ3MuXG4qL1xuY2xhc3MgRWRpdG9yU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uZmlnLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBkb2N1bWVudC5cbiAgICAqL1xuICAgIGRvYywgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICovXG4gICAgc2VsZWN0aW9uLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHZhbHVlcywgY29tcHV0ZVNsb3QsIHRyKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IGNvbmZpZy5zdGF0dXNUZW1wbGF0ZS5zbGljZSgpO1xuICAgICAgICB0aGlzLmNvbXB1dGVTbG90ID0gY29tcHV0ZVNsb3Q7XG4gICAgICAgIC8vIEZpbGwgaW4gdGhlIGNvbXB1dGVkIHN0YXRlIGltbWVkaWF0ZWx5LCBzbyB0aGF0IGZ1cnRoZXIgcXVlcmllc1xuICAgICAgICAvLyBmb3IgaXQgbWFkZSBkdXJpbmcgdGhlIHVwZGF0ZSByZXR1cm4gdGhpcyBzdGF0ZVxuICAgICAgICBpZiAodHIpXG4gICAgICAgICAgICB0ci5fc3RhdGUgPSB0aGlzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLmR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGVuc3VyZUFkZHIodGhpcywgaSA8PCAxKTtcbiAgICAgICAgdGhpcy5jb21wdXRlU2xvdCA9IG51bGw7XG4gICAgfVxuICAgIGZpZWxkKGZpZWxkLCByZXF1aXJlID0gdHJ1ZSkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuY29uZmlnLmFkZHJlc3NbZmllbGQuaWRdO1xuICAgICAgICBpZiAoYWRkciA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocmVxdWlyZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZpZWxkIGlzIG5vdCBwcmVzZW50IGluIHRoaXMgc3RhdGVcIik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUFkZHIodGhpcywgYWRkcik7XG4gICAgICAgIHJldHVybiBnZXRBZGRyKHRoaXMsIGFkZHIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24pIHRoYXQgdXBkYXRlcyB0aGlzXG4gICAgc3RhdGUuIEFueSBudW1iZXIgb2YgW3RyYW5zYWN0aW9uIHNwZWNzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYylcbiAgICBjYW4gYmUgcGFzc2VkLiBVbmxlc3NcbiAgICBbYHNlcXVlbnRpYWxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZXF1ZW50aWFsKSBpcyBzZXQsIHRoZVxuICAgIFtjaGFuZ2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5jaGFuZ2VzKSAoaWYgYW55KSBvZiBlYWNoIHNwZWNcbiAgICBhcmUgYXNzdW1lZCB0byBzdGFydCBpbiB0aGUgX2N1cnJlbnRfIGRvY3VtZW50IChub3QgdGhlIGRvY3VtZW50XG4gICAgcHJvZHVjZWQgYnkgcHJldmlvdXMgc3BlY3MpLCBhbmQgaXRzXG4gICAgW3NlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuc2VsZWN0aW9uKSBhbmRcbiAgICBbZWZmZWN0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgYXJlIGFzc3VtZWQgdG8gcmVmZXJcbiAgICB0byB0aGUgZG9jdW1lbnQgY3JlYXRlZCBieSBpdHMgX293bl8gY2hhbmdlcy4gVGhlIHJlc3VsdGluZ1xuICAgIHRyYW5zYWN0aW9uIGNvbnRhaW5zIHRoZSBjb21iaW5lZCBlZmZlY3Qgb2YgYWxsIHRoZSBkaWZmZXJlbnRcbiAgICBzcGVjcy4gRm9yIFtzZWxlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlbGVjdGlvbiksIGxhdGVyXG4gICAgc3BlY3MgdGFrZSBwcmVjZWRlbmNlIG92ZXIgZWFybGllciBvbmVzLlxuICAgICovXG4gICAgdXBkYXRlKC4uLnNwZWNzKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlVHJhbnNhY3Rpb24odGhpcywgc3BlY3MsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFwcGx5VHJhbnNhY3Rpb24odHIpIHtcbiAgICAgICAgbGV0IGNvbmYgPSB0aGlzLmNvbmZpZywgeyBiYXNlLCBjb21wYXJ0bWVudHMgfSA9IGNvbmY7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKENvbXBhcnRtZW50LnJlY29uZmlndXJlKSkge1xuICAgICAgICAgICAgICAgIGlmIChjb25mKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcnRtZW50cyA9IG5ldyBNYXA7XG4gICAgICAgICAgICAgICAgICAgIGNvbmYuY29tcGFydG1lbnRzLmZvckVhY2goKHZhbCwga2V5KSA9PiBjb21wYXJ0bWVudHMuc2V0KGtleSwgdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbmYgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wYXJ0bWVudHMuc2V0KGVmZmVjdC52YWx1ZS5jb21wYXJ0bWVudCwgZWZmZWN0LnZhbHVlLmV4dGVuc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlZmZlY3QuaXMoU3RhdGVFZmZlY3QucmVjb25maWd1cmUpKSB7XG4gICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyhTdGF0ZUVmZmVjdC5hcHBlbmRDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGFzQXJyYXkoYmFzZSkuY29uY2F0KGVmZmVjdC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0VmFsdWVzO1xuICAgICAgICBpZiAoIWNvbmYpIHtcbiAgICAgICAgICAgIGNvbmYgPSBDb25maWd1cmF0aW9uLnJlc29sdmUoYmFzZSwgY29tcGFydG1lbnRzLCB0aGlzKTtcbiAgICAgICAgICAgIGxldCBpbnRlcm1lZGlhdGVTdGF0ZSA9IG5ldyBFZGl0b3JTdGF0ZShjb25mLCB0aGlzLmRvYywgdGhpcy5zZWxlY3Rpb24sIGNvbmYuZHluYW1pY1Nsb3RzLm1hcCgoKSA9PiBudWxsKSwgKHN0YXRlLCBzbG90KSA9PiBzbG90LnJlY29uZmlndXJlKHN0YXRlLCB0aGlzKSwgbnVsbCk7XG4gICAgICAgICAgICBzdGFydFZhbHVlcyA9IGludGVybWVkaWF0ZVN0YXRlLnZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWVzID0gdHIuc3RhcnRTdGF0ZS52YWx1ZXMuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VsZWN0aW9uID0gdHIuc3RhcnRTdGF0ZS5mYWNldChhbGxvd011bHRpcGxlU2VsZWN0aW9ucykgPyB0ci5uZXdTZWxlY3Rpb24gOiB0ci5uZXdTZWxlY3Rpb24uYXNTaW5nbGUoKTtcbiAgICAgICAgbmV3IEVkaXRvclN0YXRlKGNvbmYsIHRyLm5ld0RvYywgc2VsZWN0aW9uLCBzdGFydFZhbHVlcywgKHN0YXRlLCBzbG90KSA9PiBzbG90LnVwZGF0ZShzdGF0ZSwgdHIpLCB0cik7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFt0cmFuc2FjdGlvbiBzcGVjXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYykgdGhhdFxuICAgIHJlcGxhY2VzIGV2ZXJ5IHNlbGVjdGlvbiByYW5nZSB3aXRoIHRoZSBnaXZlbiBjb250ZW50LlxuICAgICovXG4gICAgcmVwbGFjZVNlbGVjdGlvbih0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGV4dCA9IHRoaXMudG9UZXh0KHRleHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+ICh7IGNoYW5nZXM6IHsgZnJvbTogcmFuZ2UuZnJvbSwgdG86IHJhbmdlLnRvLCBpbnNlcnQ6IHRleHQgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20gKyB0ZXh0Lmxlbmd0aCkgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZXQgb2YgY2hhbmdlcyBhbmQgYSBuZXcgc2VsZWN0aW9uIGJ5IHJ1bm5pbmcgdGhlIGdpdmVuXG4gICAgZnVuY3Rpb24gZm9yIGVhY2ggcmFuZ2UgaW4gdGhlIGFjdGl2ZSBzZWxlY3Rpb24uIFRoZSBmdW5jdGlvblxuICAgIGNhbiByZXR1cm4gYW4gb3B0aW9uYWwgc2V0IG9mIGNoYW5nZXMgKGluIHRoZSBjb29yZGluYXRlIHNwYWNlXG4gICAgb2YgdGhlIHN0YXJ0IGRvY3VtZW50KSwgcGx1cyBhbiB1cGRhdGVkIHJhbmdlIChpbiB0aGUgY29vcmRpbmF0ZVxuICAgIHNwYWNlIG9mIHRoZSBkb2N1bWVudCBwcm9kdWNlZCBieSB0aGUgY2FsbCdzIG93biBjaGFuZ2VzKS4gVGhpc1xuICAgIG1ldGhvZCB3aWxsIG1lcmdlIGFsbCB0aGUgY2hhbmdlcyBhbmQgcmFuZ2VzIGludG8gYSBzaW5nbGVcbiAgICBjaGFuZ2VzZXQgYW5kIHNlbGVjdGlvbiwgYW5kIHJldHVybiBpdCBhcyBhIFt0cmFuc2FjdGlvblxuICAgIHNwZWNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKSwgd2hpY2ggY2FuIGJlIHBhc3NlZCB0b1xuICAgIFtgdXBkYXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS51cGRhdGUpLlxuICAgICovXG4gICAgY2hhbmdlQnlSYW5nZShmKSB7XG4gICAgICAgIGxldCBzZWwgPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgbGV0IHJlc3VsdDEgPSBmKHNlbC5yYW5nZXNbMF0pO1xuICAgICAgICBsZXQgY2hhbmdlcyA9IHRoaXMuY2hhbmdlcyhyZXN1bHQxLmNoYW5nZXMpLCByYW5nZXMgPSBbcmVzdWx0MS5yYW5nZV07XG4gICAgICAgIGxldCBlZmZlY3RzID0gYXNBcnJheShyZXN1bHQxLmVmZmVjdHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBmKHNlbC5yYW5nZXNbaV0pO1xuICAgICAgICAgICAgbGV0IG5ld0NoYW5nZXMgPSB0aGlzLmNoYW5nZXMocmVzdWx0LmNoYW5nZXMpLCBuZXdNYXBwZWQgPSBuZXdDaGFuZ2VzLm1hcChjaGFuZ2VzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgaisrKVxuICAgICAgICAgICAgICAgIHJhbmdlc1tqXSA9IHJhbmdlc1tqXS5tYXAobmV3TWFwcGVkKTtcbiAgICAgICAgICAgIGxldCBtYXBCeSA9IGNoYW5nZXMubWFwRGVzYyhuZXdDaGFuZ2VzLCB0cnVlKTtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKHJlc3VsdC5yYW5nZS5tYXAobWFwQnkpKTtcbiAgICAgICAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzLmNvbXBvc2UobmV3TWFwcGVkKTtcbiAgICAgICAgICAgIGVmZmVjdHMgPSBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGVmZmVjdHMsIG5ld01hcHBlZCkuY29uY2F0KFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoYXNBcnJheShyZXN1bHQuZWZmZWN0cyksIG1hcEJ5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYW5nZXMsXG4gICAgICAgICAgICBzZWxlY3Rpb246IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCBzZWwubWFpbkluZGV4KSxcbiAgICAgICAgICAgIGVmZmVjdHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW2NoYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlU2V0KSBmcm9tIHRoZSBnaXZlbiBjaGFuZ2VcbiAgICBkZXNjcmlwdGlvbiwgdGFraW5nIHRoZSBzdGF0ZSdzIGRvY3VtZW50IGxlbmd0aCBhbmQgbGluZVxuICAgIHNlcGFyYXRvciBpbnRvIGFjY291bnQuXG4gICAgKi9cbiAgICBjaGFuZ2VzKHNwZWMgPSBbXSkge1xuICAgICAgICBpZiAoc3BlYyBpbnN0YW5jZW9mIENoYW5nZVNldClcbiAgICAgICAgICAgIHJldHVybiBzcGVjO1xuICAgICAgICByZXR1cm4gQ2hhbmdlU2V0Lm9mKHNwZWMsIHRoaXMuZG9jLmxlbmd0aCwgdGhpcy5mYWNldChFZGl0b3JTdGF0ZS5saW5lU2VwYXJhdG9yKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVzaW5nIHRoZSBzdGF0ZSdzIFtsaW5lXG4gICAgc2VwYXJhdG9yXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmxpbmVTZXBhcmF0b3IpLCBjcmVhdGUgYVxuICAgIFtgVGV4dGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dCkgaW5zdGFuY2UgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgdG9UZXh0KHN0cmluZykge1xuICAgICAgICByZXR1cm4gVGV4dC5vZihzdHJpbmcuc3BsaXQodGhpcy5mYWNldChFZGl0b3JTdGF0ZS5saW5lU2VwYXJhdG9yKSB8fCBEZWZhdWx0U3BsaXQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJuIHRoZSBnaXZlbiByYW5nZSBvZiB0aGUgZG9jdW1lbnQgYXMgYSBzdHJpbmcuXG4gICAgKi9cbiAgICBzbGljZURvYyhmcm9tID0gMCwgdG8gPSB0aGlzLmRvYy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvLCB0aGlzLmxpbmVCcmVhayk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgYSBzdGF0ZSBbZmFjZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRmFjZXQpLlxuICAgICovXG4gICAgZmFjZXQoZmFjZXQpIHtcbiAgICAgICAgbGV0IGFkZHIgPSB0aGlzLmNvbmZpZy5hZGRyZXNzW2ZhY2V0LmlkXTtcbiAgICAgICAgaWYgKGFkZHIgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWNldC5kZWZhdWx0O1xuICAgICAgICBlbnN1cmVBZGRyKHRoaXMsIGFkZHIpO1xuICAgICAgICByZXR1cm4gZ2V0QWRkcih0aGlzLCBhZGRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29udmVydCB0aGlzIHN0YXRlIHRvIGEgSlNPTi1zZXJpYWxpemFibGUgb2JqZWN0LiBXaGVuIGN1c3RvbVxuICAgIGZpZWxkcyBzaG91bGQgYmUgc2VyaWFsaXplZCwgeW91IGNhbiBwYXNzIHRoZW0gaW4gYXMgYW4gb2JqZWN0XG4gICAgbWFwcGluZyBwcm9wZXJ0eSBuYW1lcyAoaW4gdGhlIHJlc3VsdGluZyBvYmplY3QsIHdoaWNoIHNob3VsZFxuICAgIG5vdCB1c2UgYGRvY2Agb3IgYHNlbGVjdGlvbmApIHRvIGZpZWxkcy5cbiAgICAqL1xuICAgIHRvSlNPTihmaWVsZHMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGRvYzogdGhpcy5zbGljZURvYygpLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiB0aGlzLnNlbGVjdGlvbi50b0pTT04oKVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZmllbGRzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBmaWVsZHNbcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgU3RhdGVGaWVsZCAmJiB0aGlzLmNvbmZpZy5hZGRyZXNzW3ZhbHVlLmlkXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSB2YWx1ZS5zcGVjLnRvSlNPTih0aGlzLmZpZWxkKGZpZWxkc1twcm9wXSksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBEZXNlcmlhbGl6ZSBhIHN0YXRlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFdoZW4gY3VzdG9tXG4gICAgZmllbGRzIHNob3VsZCBiZSBkZXNlcmlhbGl6ZWQsIHBhc3MgdGhlIHNhbWUgb2JqZWN0IHlvdSBwYXNzZWRcbiAgICB0byBbYHRvSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudG9KU09OKSB3aGVuIHNlcmlhbGl6aW5nIGFzXG4gICAgdGhpcmQgYXJndW1lbnQuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbiwgY29uZmlnID0ge30sIGZpZWxkcykge1xuICAgICAgICBpZiAoIWpzb24gfHwgdHlwZW9mIGpzb24uZG9jICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgRWRpdG9yU3RhdGVcIik7XG4gICAgICAgIGxldCBmaWVsZEluaXQgPSBbXTtcbiAgICAgICAgaWYgKGZpZWxkcylcbiAgICAgICAgICAgIGZvciAobGV0IHByb3AgaW4gZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqc29uLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBmaWVsZHNbcHJvcF0sIHZhbHVlID0ganNvbltwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRJbml0LnB1c2goZmllbGQuaW5pdChzdGF0ZSA9PiBmaWVsZC5zcGVjLmZyb21KU09OKHZhbHVlLCBzdGF0ZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBFZGl0b3JTdGF0ZS5jcmVhdGUoe1xuICAgICAgICAgICAgZG9jOiBqc29uLmRvYyxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmZyb21KU09OKGpzb24uc2VsZWN0aW9uKSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IGNvbmZpZy5leHRlbnNpb25zID8gZmllbGRJbml0LmNvbmNhdChbY29uZmlnLmV4dGVuc2lvbnNdKSA6IGZpZWxkSW5pdFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IHN0YXRlLiBZb3UnbGwgdXN1YWxseSBvbmx5IG5lZWQgdGhpcyB3aGVuXG4gICAgaW5pdGlhbGl6aW5nIGFuIGVkaXRvcuKAlHVwZGF0ZWQgc3RhdGVzIGFyZSBjcmVhdGVkIGJ5IGFwcGx5aW5nXG4gICAgdHJhbnNhY3Rpb25zLlxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShjb25maWcgPSB7fSkge1xuICAgICAgICBsZXQgY29uZmlndXJhdGlvbiA9IENvbmZpZ3VyYXRpb24ucmVzb2x2ZShjb25maWcuZXh0ZW5zaW9ucyB8fCBbXSwgbmV3IE1hcCk7XG4gICAgICAgIGxldCBkb2MgPSBjb25maWcuZG9jIGluc3RhbmNlb2YgVGV4dCA/IGNvbmZpZy5kb2NcbiAgICAgICAgICAgIDogVGV4dC5vZigoY29uZmlnLmRvYyB8fCBcIlwiKS5zcGxpdChjb25maWd1cmF0aW9uLnN0YXRpY0ZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpIHx8IERlZmF1bHRTcGxpdCkpO1xuICAgICAgICBsZXQgc2VsZWN0aW9uID0gIWNvbmZpZy5zZWxlY3Rpb24gPyBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKDApXG4gICAgICAgICAgICA6IGNvbmZpZy5zZWxlY3Rpb24gaW5zdGFuY2VvZiBFZGl0b3JTZWxlY3Rpb24gPyBjb25maWcuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgOiBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKGNvbmZpZy5zZWxlY3Rpb24uYW5jaG9yLCBjb25maWcuc2VsZWN0aW9uLmhlYWQpO1xuICAgICAgICBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGRvYy5sZW5ndGgpO1xuICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uc3RhdGljRmFjZXQoYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMpKVxuICAgICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmFzU2luZ2xlKCk7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU3RhdGUoY29uZmlndXJhdGlvbiwgZG9jLCBzZWxlY3Rpb24sIGNvbmZpZ3VyYXRpb24uZHluYW1pY1Nsb3RzLm1hcCgoKSA9PiBudWxsKSwgKHN0YXRlLCBzbG90KSA9PiBzbG90LmNyZWF0ZShzdGF0ZSksIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgc2l6ZSAoaW4gY29sdW1ucykgb2YgYSB0YWIgaW4gdGhlIGRvY3VtZW50LCBkZXRlcm1pbmVkIGJ5XG4gICAgdGhlIFtgdGFiU2l6ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSkgZmFjZXQuXG4gICAgKi9cbiAgICBnZXQgdGFiU2l6ZSgpIHsgcmV0dXJuIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUudGFiU2l6ZSk7IH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHByb3BlciBbbGluZS1icmVha10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5saW5lU2VwYXJhdG9yKVxuICAgIHN0cmluZyBmb3IgdGhpcyBzdGF0ZS5cbiAgICAqL1xuICAgIGdldCBsaW5lQnJlYWsoKSB7IHJldHVybiB0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpIHx8IFwiXFxuXCI7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGUgZWRpdG9yIGlzXG4gICAgW2NvbmZpZ3VyZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVecmVhZE9ubHkpIHRvIGJlIHJlYWQtb25seS5cbiAgICAqL1xuICAgIGdldCByZWFkT25seSgpIHsgcmV0dXJuIHRoaXMuZmFjZXQocmVhZE9ubHkpOyB9XG4gICAgLyoqXG4gICAgTG9vayB1cCBhIHRyYW5zbGF0aW9uIGZvciB0aGUgZ2l2ZW4gcGhyYXNlICh2aWEgdGhlXG4gICAgW2BwaHJhc2VzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5waHJhc2VzKSBmYWNldCksIG9yIHJldHVybiB0aGVcbiAgICBvcmlnaW5hbCBzdHJpbmcgaWYgbm8gdHJhbnNsYXRpb24gaXMgZm91bmQuXG4gICAgXG4gICAgSWYgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHBhc3NlZCwgdGhleSB3aWxsIGJlIGluc2VydGVkIGluXG4gICAgcGxhY2Ugb2YgbWFya2VycyBsaWtlIGAkMWAgKGZvciB0aGUgZmlyc3QgdmFsdWUpIGFuZCBgJDJgLCBldGMuXG4gICAgQSBzaW5nbGUgYCRgIGlzIGVxdWl2YWxlbnQgdG8gYCQxYCwgYW5kIGAkJGAgd2lsbCBwcm9kdWNlIGFcbiAgICBsaXRlcmFsIGRvbGxhciBzaWduLlxuICAgICovXG4gICAgcGhyYXNlKHBocmFzZSwgLi4uaW5zZXJ0KSB7XG4gICAgICAgIGZvciAobGV0IG1hcCBvZiB0aGlzLmZhY2V0KEVkaXRvclN0YXRlLnBocmFzZXMpKVxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXAsIHBocmFzZSkpIHtcbiAgICAgICAgICAgICAgICBwaHJhc2UgPSBtYXBbcGhyYXNlXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGluc2VydC5sZW5ndGgpXG4gICAgICAgICAgICBwaHJhc2UgPSBwaHJhc2UucmVwbGFjZSgvXFwkKFxcJHxcXGQqKS9nLCAobSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpID09IFwiJFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIkXCI7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSArKGkgfHwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFuIHx8IG4gPiBpbnNlcnQubGVuZ3RoID8gbSA6IGluc2VydFtuIC0gMV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBocmFzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdmFsdWVzIGZvciBhIGdpdmVuIGxhbmd1YWdlIGRhdGEgZmllbGQsIHByb3ZpZGVkIGJ5IHRoZVxuICAgIHRoZSBbYGxhbmd1YWdlRGF0YWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVebGFuZ3VhZ2VEYXRhKSBmYWNldC5cbiAgICBcbiAgICBFeGFtcGxlcyBvZiBsYW5ndWFnZSBkYXRhIGZpZWxkcyBhcmUuLi5cbiAgICBcbiAgICAtIFtgXCJjb21tZW50VG9rZW5zXCJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLkNvbW1lbnRUb2tlbnMpIGZvciBzcGVjaWZ5aW5nXG4gICAgICBjb21tZW50IHN5bnRheC5cbiAgICAtIFtgXCJhdXRvY29tcGxldGVcImBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmF1dG9jb21wbGV0aW9uXmNvbmZpZy5vdmVycmlkZSlcbiAgICAgIGZvciBwcm92aWRpbmcgbGFuZ3VhZ2Utc3BlY2lmaWMgY29tcGxldGlvbiBzb3VyY2VzLlxuICAgIC0gW2BcIndvcmRDaGFyc1wiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIpIGZvciBhZGRpbmdcbiAgICAgIGNoYXJhY3RlcnMgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCBwYXJ0IG9mIHdvcmRzIGluIHRoaXNcbiAgICAgIGxhbmd1YWdlLlxuICAgIC0gW2BcImNsb3NlQnJhY2tldHNcImBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLkNsb3NlQnJhY2tldENvbmZpZykgY29udHJvbHNcbiAgICAgIGJyYWNrZXQgY2xvc2luZyBiZWhhdmlvci5cbiAgICAqL1xuICAgIGxhbmd1YWdlRGF0YUF0KG5hbWUsIHBvcywgc2lkZSA9IC0xKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcHJvdmlkZXIgb2YgdGhpcy5mYWNldChsYW5ndWFnZURhdGEpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCByZXN1bHQgb2YgcHJvdmlkZXIodGhpcywgcG9zLCBzaWRlKSkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gocmVzdWx0W25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNhbiBjYXRlZ29yaXplIHN0cmluZ3MgKGV4cGVjdGVkIHRvXG4gICAgcmVwcmVzZW50IGEgc2luZ2xlIFtncmFwaGVtZSBjbHVzdGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLmZpbmRDbHVzdGVyQnJlYWspKVxuICAgIGludG8gb25lIG9mOlxuICAgIFxuICAgICAtIFdvcmQgKGNvbnRhaW5zIGFuIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXIgb3IgYSBjaGFyYWN0ZXJcbiAgICAgICBleHBsaWNpdGx5IGxpc3RlZCBpbiB0aGUgbG9jYWwgbGFuZ3VhZ2UncyBgXCJ3b3JkQ2hhcnNcImBcbiAgICAgICBsYW5ndWFnZSBkYXRhLCB3aGljaCBzaG91bGQgYmUgYSBzdHJpbmcpXG4gICAgIC0gU3BhY2UgKGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZSlcbiAgICAgLSBPdGhlciAoYW55dGhpbmcgZWxzZSlcbiAgICAqL1xuICAgIGNoYXJDYXRlZ29yaXplcihhdCkge1xuICAgICAgICByZXR1cm4gbWFrZUNhdGVnb3JpemVyKHRoaXMubGFuZ3VhZ2VEYXRhQXQoXCJ3b3JkQ2hhcnNcIiwgYXQpLmpvaW4oXCJcIikpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB3b3JkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiwgbWVhbmluZyB0aGUgcmFuZ2VcbiAgICBjb250YWluaW5nIGFsbCBbd29yZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFyQ2F0ZWdvcnkuV29yZCkgY2hhcmFjdGVyc1xuICAgIGFyb3VuZCBpdC4gSWYgbm8gd29yZCBjaGFyYWN0ZXJzIGFyZSBhZGphY2VudCB0byB0aGUgcG9zaXRpb24sXG4gICAgdGhpcyByZXR1cm5zIG51bGwuXG4gICAgKi9cbiAgICB3b3JkQXQocG9zKSB7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20sIGxlbmd0aCB9ID0gdGhpcy5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCBjYXQgPSB0aGlzLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgICAgICBsZXQgc3RhcnQgPSBwb3MgLSBmcm9tLCBlbmQgPSBwb3MgLSBmcm9tO1xuICAgICAgICB3aGlsZSAoc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICBsZXQgcHJldiA9IGZpbmRDbHVzdGVyQnJlYWsodGV4dCwgc3RhcnQsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChjYXQodGV4dC5zbGljZShwcmV2LCBzdGFydCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3RhcnQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChlbmQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gZmluZENsdXN0ZXJCcmVhayh0ZXh0LCBlbmQpO1xuICAgICAgICAgICAgaWYgKGNhdCh0ZXh0LnNsaWNlKGVuZCwgbmV4dCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZW5kID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnQgPT0gZW5kID8gbnVsbCA6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShzdGFydCArIGZyb20sIGVuZCArIGZyb20pO1xuICAgIH1cbn1cbi8qKlxuQSBmYWNldCB0aGF0LCB3aGVuIGVuYWJsZWQsIGNhdXNlcyB0aGUgZWRpdG9yIHRvIGFsbG93IG11bHRpcGxlXG5yYW5nZXMgdG8gYmUgc2VsZWN0ZWQuIEJlIGNhcmVmdWwgdGhvdWdoLCBiZWNhdXNlIGJ5IGRlZmF1bHQgdGhlXG5lZGl0b3IgcmVsaWVzIG9uIHRoZSBuYXRpdmUgRE9NIHNlbGVjdGlvbiwgd2hpY2ggY2Fubm90IGhhbmRsZVxubXVsdGlwbGUgc2VsZWN0aW9ucy4gQW4gZXh0ZW5zaW9uIGxpa2VcbltgZHJhd1NlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5kcmF3U2VsZWN0aW9uKSBjYW4gYmUgdXNlZCB0byBtYWtlXG5zZWNvbmRhcnkgc2VsZWN0aW9ucyB2aXNpYmxlIHRvIHRoZSB1c2VyLlxuKi9cbkVkaXRvclN0YXRlLmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zID0gYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnM7XG4vKipcbkNvbmZpZ3VyZXMgdGhlIHRhYiBzaXplIHRvIHVzZSBpbiB0aGlzIHN0YXRlLiBUaGUgZmlyc3RcbihoaWdoZXN0LXByZWNlZGVuY2UpIHZhbHVlIG9mIHRoZSBmYWNldCBpcyB1c2VkLiBJZiBubyB2YWx1ZSBpc1xuZ2l2ZW4sIHRoaXMgZGVmYXVsdHMgdG8gNC5cbiovXG5FZGl0b3JTdGF0ZS50YWJTaXplID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiA0XG59KTtcbi8qKlxuVGhlIGxpbmUgc2VwYXJhdG9yIHRvIHVzZS4gQnkgZGVmYXVsdCwgYW55IG9mIGBcIlxcblwiYCwgYFwiXFxyXFxuXCJgXG5hbmQgYFwiXFxyXCJgIGlzIHRyZWF0ZWQgYXMgYSBzZXBhcmF0b3Igd2hlbiBzcGxpdHRpbmcgbGluZXMsIGFuZFxubGluZXMgYXJlIGpvaW5lZCB3aXRoIGBcIlxcblwiYC5cblxuV2hlbiB5b3UgY29uZmlndXJlIGEgdmFsdWUgaGVyZSwgb25seSB0aGF0IHByZWNpc2Ugc2VwYXJhdG9yXG53aWxsIGJlIHVzZWQsIGFsbG93aW5nIHlvdSB0byByb3VuZC10cmlwIGRvY3VtZW50cyB0aHJvdWdoIHRoZVxuZWRpdG9yIHdpdGhvdXQgbm9ybWFsaXppbmcgbGluZSBzZXBhcmF0b3JzLlxuKi9cbkVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IgPSBsaW5lU2VwYXJhdG9yO1xuLyoqXG5UaGlzIGZhY2V0IGNvbnRyb2xzIHRoZSB2YWx1ZSBvZiB0aGVcbltgcmVhZE9ubHlgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnJlYWRPbmx5KSBnZXR0ZXIsIHdoaWNoIGlzXG5jb25zdWx0ZWQgYnkgY29tbWFuZHMgYW5kIGV4dGVuc2lvbnMgdGhhdCBpbXBsZW1lbnQgZWRpdGluZ1xuZnVuY3Rpb25hbGl0eSB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5IHNob3VsZCBhcHBseS4gSXRcbmRlZmF1bHRzIHRvIGZhbHNlLCBidXQgd2hlbiBpdHMgaGlnaGVzdC1wcmVjZWRlbmNlIHZhbHVlIGlzXG5gdHJ1ZWAsIHN1Y2ggZnVuY3Rpb25hbGl0eSBkaXNhYmxlcyBpdHNlbGYuXG5cbk5vdCB0byBiZSBjb25mdXNlZCB3aXRoXG5bYEVkaXRvclZpZXcuZWRpdGFibGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15lZGl0YWJsZSksIHdoaWNoXG5jb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3IncyBET00gaXMgc2V0IHRvIGJlIGVkaXRhYmxlIChhbmRcbnRodXMgZm9jdXNhYmxlKS5cbiovXG5FZGl0b3JTdGF0ZS5yZWFkT25seSA9IHJlYWRPbmx5O1xuLyoqXG5SZWdpc3RlcnMgdHJhbnNsYXRpb24gcGhyYXNlcy4gVGhlXG5bYHBocmFzZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucGhyYXNlKSBtZXRob2Qgd2lsbCBsb29rIHRocm91Z2hcbmFsbCBvYmplY3RzIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIGZhY2V0IHRvIGZpbmQgdHJhbnNsYXRpb25zIGZvclxuaXRzIGFyZ3VtZW50LlxuKi9cbkVkaXRvclN0YXRlLnBocmFzZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21wYXJlKGEsIGIpIHtcbiAgICAgICAgbGV0IGtBID0gT2JqZWN0LmtleXMoYSksIGtCID0gT2JqZWN0LmtleXMoYik7XG4gICAgICAgIHJldHVybiBrQS5sZW5ndGggPT0ga0IubGVuZ3RoICYmIGtBLmV2ZXJ5KGsgPT4gYVtrXSA9PSBiW2tdKTtcbiAgICB9XG59KTtcbi8qKlxuQSBmYWNldCB1c2VkIHRvIHJlZ2lzdGVyIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkgcHJvdmlkZXJzLlxuKi9cbkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YSA9IGxhbmd1YWdlRGF0YTtcbi8qKlxuRmFjZXQgdXNlZCB0byByZWdpc3RlciBjaGFuZ2UgZmlsdGVycywgd2hpY2ggYXJlIGNhbGxlZCBmb3IgZWFjaFxudHJhbnNhY3Rpb24gKHVubGVzcyBleHBsaWNpdGx5XG5bZGlzYWJsZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmZpbHRlcikpLCBhbmQgY2FuIHN1cHByZXNzXG5wYXJ0IG9mIHRoZSB0cmFuc2FjdGlvbidzIGNoYW5nZXMuXG5cblN1Y2ggYSBmdW5jdGlvbiBjYW4gcmV0dXJuIGB0cnVlYCB0byBpbmRpY2F0ZSB0aGF0IGl0IGRvZXNuJ3RcbndhbnQgdG8gZG8gYW55dGhpbmcsIGBmYWxzZWAgdG8gY29tcGxldGVseSBzdG9wIHRoZSBjaGFuZ2VzIGluXG50aGUgdHJhbnNhY3Rpb24sIG9yIGEgc2V0IG9mIHJhbmdlcyBpbiB3aGljaCBjaGFuZ2VzIHNob3VsZCBiZVxuc3VwcHJlc3NlZC4gU3VjaCByYW5nZXMgYXJlIHJlcHJlc2VudGVkIGFzIGFuIGFycmF5IG9mIG51bWJlcnMsXG53aXRoIGVhY2ggcGFpciBvZiB0d28gbnVtYmVycyBpbmRpY2F0aW5nIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFcbnJhbmdlLiBTbyBmb3IgZXhhbXBsZSBgWzEwLCAyMCwgMTAwLCAxMTBdYCBzdXBwcmVzc2VzIGNoYW5nZXNcbmJldHdlZW4gMTAgYW5kIDIwLCBhbmQgYmV0d2VlbiAxMDAgYW5kIDExMC5cbiovXG5FZGl0b3JTdGF0ZS5jaGFuZ2VGaWx0ZXIgPSBjaGFuZ2VGaWx0ZXI7XG4vKipcbkZhY2V0IHVzZWQgdG8gcmVnaXN0ZXIgYSBob29rIHRoYXQgZ2V0cyBhIGNoYW5jZSB0byB1cGRhdGUgb3JcbnJlcGxhY2UgdHJhbnNhY3Rpb24gc3BlY3MgYmVmb3JlIHRoZXkgYXJlIGFwcGxpZWQuIFRoaXMgd2lsbFxub25seSBiZSBhcHBsaWVkIGZvciB0cmFuc2FjdGlvbnMgdGhhdCBkb24ndCBoYXZlXG5bYGZpbHRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmZpbHRlcikgc2V0IHRvIGBmYWxzZWAuIFlvdVxuY2FuIGVpdGhlciByZXR1cm4gYSBzaW5nbGUgdHJhbnNhY3Rpb24gc3BlYyAocG9zc2libHkgdGhlIGlucHV0XG50cmFuc2FjdGlvbiksIG9yIGFuIGFycmF5IG9mIHNwZWNzICh3aGljaCB3aWxsIGJlIGNvbWJpbmVkIGluXG50aGUgc2FtZSB3YXkgYXMgdGhlIGFyZ3VtZW50cyB0b1xuW2BFZGl0b3JTdGF0ZS51cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkpLlxuXG5XaGVuIHBvc3NpYmxlLCBpdCBpcyByZWNvbW1lbmRlZCB0byBhdm9pZCBhY2Nlc3NpbmdcbltgVHJhbnNhY3Rpb24uc3RhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLnN0YXRlKSBpbiBhIGZpbHRlcixcbnNpbmNlIGl0IHdpbGwgZm9yY2UgY3JlYXRpb24gb2YgYSBzdGF0ZSB0aGF0IHdpbGwgdGhlbiBiZVxuZGlzY2FyZGVkIGFnYWluLCBpZiB0aGUgdHJhbnNhY3Rpb24gaXMgYWN0dWFsbHkgZmlsdGVyZWQuXG5cbihUaGlzIGZ1bmN0aW9uYWxpdHkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjYXJlLiBJbmRpc2NyaW1pbmF0ZWx5XG5tb2RpZnlpbmcgdHJhbnNhY3Rpb24gaXMgbGlrZWx5IHRvIGJyZWFrIHNvbWV0aGluZyBvciBkZWdyYWRlXG50aGUgdXNlciBleHBlcmllbmNlLilcbiovXG5FZGl0b3JTdGF0ZS50cmFuc2FjdGlvbkZpbHRlciA9IHRyYW5zYWN0aW9uRmlsdGVyO1xuLyoqXG5UaGlzIGlzIGEgbW9yZSBsaW1pdGVkIGZvcm0gb2ZcbltgdHJhbnNhY3Rpb25GaWx0ZXJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRyYW5zYWN0aW9uRmlsdGVyKSxcbndoaWNoIGNhbiBvbmx5IGFkZFxuW2Fubm90YXRpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5hbm5vdGF0aW9ucykgYW5kXG5bZWZmZWN0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykuIF9CdXRfLCB0aGlzIHR5cGVcbm9mIGZpbHRlciBydW5zIGV2ZW4gaWYgdGhlIHRyYW5zYWN0aW9uIGhhcyBkaXNhYmxlZCByZWd1bGFyXG5bZmlsdGVyaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5maWx0ZXIpLCBtYWtpbmcgaXQgc3VpdGFibGVcbmZvciBlZmZlY3RzIHRoYXQgZG9uJ3QgbmVlZCB0byB0b3VjaCB0aGUgY2hhbmdlcyBvciBzZWxlY3Rpb24sXG5idXQgZG8gd2FudCB0byBwcm9jZXNzIGV2ZXJ5IHRyYW5zYWN0aW9uLlxuXG5FeHRlbmRlcnMgcnVuIF9hZnRlcl8gZmlsdGVycywgd2hlbiBib3RoIGFyZSBwcmVzZW50LlxuKi9cbkVkaXRvclN0YXRlLnRyYW5zYWN0aW9uRXh0ZW5kZXIgPSB0cmFuc2FjdGlvbkV4dGVuZGVyO1xuQ29tcGFydG1lbnQucmVjb25maWd1cmUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5cbi8qKlxuVXRpbGl0eSBmdW5jdGlvbiBmb3IgY29tYmluaW5nIGJlaGF2aW9ycyB0byBmaWxsIGluIGEgY29uZmlnXG5vYmplY3QgZnJvbSBhbiBhcnJheSBvZiBwcm92aWRlZCBjb25maWdzLiBgZGVmYXVsdHNgIHNob3VsZCBob2xkXG5kZWZhdWx0IHZhbHVlcyBmb3IgYWxsIG9wdGlvbmFsIGZpZWxkcyBpbiBgQ29uZmlnYC5cblxuVGhlIGZ1bmN0aW9uIHdpbGwsIGJ5IGRlZmF1bHQsIGVycm9yXG53aGVuIGEgZmllbGQgZ2V0cyB0d28gdmFsdWVzIHRoYXQgYXJlbid0IGA9PT1gLWVxdWFsLCBidXQgeW91IGNhblxucHJvdmlkZSBjb21iaW5lIGZ1bmN0aW9ucyBwZXIgZmllbGQgdG8gZG8gc29tZXRoaW5nIGVsc2UuXG4qL1xuZnVuY3Rpb24gY29tYmluZUNvbmZpZyhjb25maWdzLCBkZWZhdWx0cywgLy8gU2hvdWxkIGhvbGQgb25seSB0aGUgb3B0aW9uYWwgcHJvcGVydGllcyBvZiBDb25maWcsIGJ1dCBJIGhhdmVuJ3QgbWFuYWdlZCB0byBleHByZXNzIHRoYXRcbmNvbWJpbmUgPSB7fSkge1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGxldCBjb25maWcgb2YgY29uZmlncylcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKGNvbmZpZykpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGNvbmZpZ1trZXldLCBjdXJyZW50ID0gcmVzdWx0W2tleV07XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50ID09PSB2YWx1ZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA7IC8vIE5vIGNvbmZsaWN0XG4gICAgICAgICAgICBlbHNlIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjb21iaW5lLCBrZXkpKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gY29tYmluZVtrZXldKGN1cnJlbnQsIHZhbHVlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWcgbWVyZ2UgY29uZmxpY3QgZm9yIGZpZWxkIFwiICsga2V5KTtcbiAgICAgICAgfVxuICAgIGZvciAobGV0IGtleSBpbiBkZWZhdWx0cylcbiAgICAgICAgaWYgKHJlc3VsdFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG5FYWNoIHJhbmdlIGlzIGFzc29jaWF0ZWQgd2l0aCBhIHZhbHVlLCB3aGljaCBtdXN0IGluaGVyaXQgZnJvbVxudGhpcyBjbGFzcy5cbiovXG5jbGFzcyBSYW5nZVZhbHVlIHtcbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgdmFsdWUgd2l0aCBhbm90aGVyIHZhbHVlLiBVc2VkIHdoZW4gY29tcGFyaW5nXG4gICAgcmFuZ2VzZXRzLiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBjb21wYXJlcyBieSBpZGVudGl0eS5cbiAgICBVbmxlc3MgeW91IGFyZSBvbmx5IGNyZWF0aW5nIGEgZml4ZWQgbnVtYmVyIG9mIHVuaXF1ZSBpbnN0YW5jZXNcbiAgICBvZiB5b3VyIHZhbHVlIHR5cGUsIGl0IGlzIGEgZ29vZCBpZGVhIHRvIGltcGxlbWVudCB0aGlzXG4gICAgcHJvcGVybHkuXG4gICAgKi9cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcyA9PSBvdGhlcjsgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFtyYW5nZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSkgd2l0aCB0aGlzIHZhbHVlLlxuICAgICovXG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7IHJldHVybiBSYW5nZS5jcmVhdGUoZnJvbSwgdG8sIHRoaXMpOyB9XG59XG5SYW5nZVZhbHVlLnByb3RvdHlwZS5zdGFydFNpZGUgPSBSYW5nZVZhbHVlLnByb3RvdHlwZS5lbmRTaWRlID0gMDtcblJhbmdlVmFsdWUucHJvdG90eXBlLnBvaW50ID0gZmFsc2U7XG5SYW5nZVZhbHVlLnByb3RvdHlwZS5tYXBNb2RlID0gTWFwTW9kZS5UcmFja0RlbDtcbi8qKlxuQSByYW5nZSBhc3NvY2lhdGVzIGEgdmFsdWUgd2l0aCBhIHJhbmdlIG9mIHBvc2l0aW9ucy5cbiovXG5jbGFzcyBSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHJhbmdlJ3Mgc3RhcnQgcG9zaXRpb24uXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBJdHMgZW5kIHBvc2l0aW9uLlxuICAgICovXG4gICAgdG8sIFxuICAgIC8qKlxuICAgIFRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyByYW5nZS5cbiAgICAqL1xuICAgIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZnJvbSwgdG8sIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoZnJvbSwgdG8sIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbXBSYW5nZShhLCBiKSB7XG4gICAgcmV0dXJuIGEuZnJvbSAtIGIuZnJvbSB8fCBhLnZhbHVlLnN0YXJ0U2lkZSAtIGIudmFsdWUuc3RhcnRTaWRlO1xufVxuY2xhc3MgQ2h1bmsge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvLCB2YWx1ZSwgXG4gICAgLy8gQ2h1bmtzIGFyZSBtYXJrZWQgd2l0aCB0aGUgbGFyZ2VzdCBwb2ludCB0aGF0IG9jY3Vyc1xuICAgIC8vIGluIHRoZW0gKG9yIC0xIGZvciBubyBwb2ludHMpLCBzbyB0aGF0IHNjYW5zIHRoYXQgYXJlXG4gICAgLy8gb25seSBpbnRlcmVzdGVkIGluIHBvaW50cyAoc3VjaCBhcyB0aGVcbiAgICAvLyBoZWlnaHRtYXAtcmVsYXRlZCBsb2dpYykgY2FuIHNraXAgcmFuZ2Utb25seSBjaHVua3MuXG4gICAgbWF4UG9pbnQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubWF4UG9pbnQgPSBtYXhQb2ludDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudG9bdGhpcy50by5sZW5ndGggLSAxXTsgfVxuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgc2lkZS4gVXNlIHRoZSByYW5nZXMnXG4gICAgLy8gYGZyb21gIHBvcyB3aGVuIGBlbmQgPT0gZmFsc2VgLCBgdG9gIHdoZW4gYGVuZCA9PSB0cnVlYC5cbiAgICBmaW5kSW5kZXgocG9zLCBzaWRlLCBlbmQsIHN0YXJ0QXQgPSAwKSB7XG4gICAgICAgIGxldCBhcnIgPSBlbmQgPyB0aGlzLnRvIDogdGhpcy5mcm9tO1xuICAgICAgICBmb3IgKGxldCBsbyA9IHN0YXJ0QXQsIGhpID0gYXJyLmxlbmd0aDs7KSB7XG4gICAgICAgICAgICBpZiAobG8gPT0gaGkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvO1xuICAgICAgICAgICAgbGV0IG1pZCA9IChsbyArIGhpKSA+PiAxO1xuICAgICAgICAgICAgbGV0IGRpZmYgPSBhcnJbbWlkXSAtIHBvcyB8fCAoZW5kID8gdGhpcy52YWx1ZVttaWRdLmVuZFNpZGUgOiB0aGlzLnZhbHVlW21pZF0uc3RhcnRTaWRlKSAtIHNpZGU7XG4gICAgICAgICAgICBpZiAobWlkID09IGxvKVxuICAgICAgICAgICAgICAgIHJldHVybiBkaWZmID49IDAgPyBsbyA6IGhpO1xuICAgICAgICAgICAgaWYgKGRpZmYgPj0gMClcbiAgICAgICAgICAgICAgICBoaSA9IG1pZDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBsbyA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmV0d2VlbihvZmZzZXQsIGZyb20sIHRvLCBmKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZpbmRJbmRleChmcm9tLCAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLywgdHJ1ZSksIGUgPSB0aGlzLmZpbmRJbmRleCh0bywgMTAwMDAwMDAwMCAvKiBDLkZhciAqLywgZmFsc2UsIGkpOyBpIDwgZTsgaSsrKVxuICAgICAgICAgICAgaWYgKGYodGhpcy5mcm9tW2ldICsgb2Zmc2V0LCB0aGlzLnRvW2ldICsgb2Zmc2V0LCB0aGlzLnZhbHVlW2ldKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtYXAob2Zmc2V0LCBjaGFuZ2VzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IFtdLCBmcm9tID0gW10sIHRvID0gW10sIG5ld1BvcyA9IC0xLCBtYXhQb2ludCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLnZhbHVlW2ldLCBjdXJGcm9tID0gdGhpcy5mcm9tW2ldICsgb2Zmc2V0LCBjdXJUbyA9IHRoaXMudG9baV0gKyBvZmZzZXQsIG5ld0Zyb20sIG5ld1RvO1xuICAgICAgICAgICAgaWYgKGN1ckZyb20gPT0gY3VyVG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFwcGVkID0gY2hhbmdlcy5tYXBQb3MoY3VyRnJvbSwgdmFsLnN0YXJ0U2lkZSwgdmFsLm1hcE1vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChtYXBwZWQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgbmV3RnJvbSA9IG5ld1RvID0gbWFwcGVkO1xuICAgICAgICAgICAgICAgIGlmICh2YWwuc3RhcnRTaWRlICE9IHZhbC5lbmRTaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RvID0gY2hhbmdlcy5tYXBQb3MoY3VyRnJvbSwgdmFsLmVuZFNpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VG8gPCBuZXdGcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3RnJvbSA9IGNoYW5nZXMubWFwUG9zKGN1ckZyb20sIHZhbC5zdGFydFNpZGUpO1xuICAgICAgICAgICAgICAgIG5ld1RvID0gY2hhbmdlcy5tYXBQb3MoY3VyVG8sIHZhbC5lbmRTaWRlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RnJvbSA+IG5ld1RvIHx8IG5ld0Zyb20gPT0gbmV3VG8gJiYgdmFsLnN0YXJ0U2lkZSA+IDAgJiYgdmFsLmVuZFNpZGUgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG5ld1RvIC0gbmV3RnJvbSB8fCB2YWwuZW5kU2lkZSAtIHZhbC5zdGFydFNpZGUpIDwgMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChuZXdQb3MgPCAwKVxuICAgICAgICAgICAgICAgIG5ld1BvcyA9IG5ld0Zyb207XG4gICAgICAgICAgICBpZiAodmFsLnBvaW50KVxuICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIG5ld1RvIC0gbmV3RnJvbSk7XG4gICAgICAgICAgICB2YWx1ZS5wdXNoKHZhbCk7XG4gICAgICAgICAgICBmcm9tLnB1c2gobmV3RnJvbSAtIG5ld1Bvcyk7XG4gICAgICAgICAgICB0by5wdXNoKG5ld1RvIC0gbmV3UG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBtYXBwZWQ6IHZhbHVlLmxlbmd0aCA/IG5ldyBDaHVuayhmcm9tLCB0bywgdmFsdWUsIG1heFBvaW50KSA6IG51bGwsIHBvczogbmV3UG9zIH07XG4gICAgfVxufVxuLyoqXG5BIHJhbmdlIHNldCBzdG9yZXMgYSBjb2xsZWN0aW9uIG9mIFtyYW5nZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2UpIGluIGFcbndheSB0aGF0IG1ha2VzIHRoZW0gZWZmaWNpZW50IHRvIFttYXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQubWFwKSBhbmRcblt1cGRhdGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQudXBkYXRlKS4gVGhpcyBpcyBhbiBpbW11dGFibGUgZGF0YVxuc3RydWN0dXJlLlxuKi9cbmNsYXNzIFJhbmdlU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNodW5rUG9zLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNodW5rLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG5leHRMYXllciwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBtYXhQb2ludCkge1xuICAgICAgICB0aGlzLmNodW5rUG9zID0gY2h1bmtQb3M7XG4gICAgICAgIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgICAgICAgdGhpcy5uZXh0TGF5ZXIgPSBuZXh0TGF5ZXI7XG4gICAgICAgIHRoaXMubWF4UG9pbnQgPSBtYXhQb2ludDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNodW5rUG9zLCBjaHVuaywgbmV4dExheWVyLCBtYXhQb2ludCkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlU2V0KGNodW5rUG9zLCBjaHVuaywgbmV4dExheWVyLCBtYXhQb2ludCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmNodW5rLmxlbmd0aCAtIDE7XG4gICAgICAgIHJldHVybiBsYXN0IDwgMCA/IDAgOiBNYXRoLm1heCh0aGlzLmNodW5rRW5kKGxhc3QpLCB0aGlzLm5leHRMYXllci5sZW5ndGgpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbnVtYmVyIG9mIHJhbmdlcyBpbiB0aGUgc2V0LlxuICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLm5leHRMYXllci5zaXplO1xuICAgICAgICBmb3IgKGxldCBjaHVuayBvZiB0aGlzLmNodW5rKVxuICAgICAgICAgICAgc2l6ZSArPSBjaHVuay52YWx1ZS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNodW5rRW5kKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNodW5rUG9zW2luZGV4XSArIHRoaXMuY2h1bmtbaW5kZXhdLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgVXBkYXRlIHRoZSByYW5nZSBzZXQsIG9wdGlvbmFsbHkgYWRkaW5nIG5ldyByYW5nZXMgb3IgZmlsdGVyaW5nXG4gICAgb3V0IGV4aXN0aW5nIG9uZXMuXG4gICAgXG4gICAgKE5vdGU6IFRoZSB0eXBlIHBhcmFtZXRlciBpcyBqdXN0IHRoZXJlIGFzIGEga2x1ZGdlIHRvIHdvcmtcbiAgICBhcm91bmQgVHlwZVNjcmlwdCB2YXJpYW5jZSBpc3N1ZXMgdGhhdCBwcmV2ZW50ZWQgYFJhbmdlU2V0PFg+YFxuICAgIGZyb20gYmVpbmcgYSBzdWJ0eXBlIG9mIGBSYW5nZVNldDxZPmAgd2hlbiBgWGAgaXMgYSBzdWJ0eXBlIG9mXG4gICAgYFlgLilcbiAgICAqL1xuICAgIHVwZGF0ZSh1cGRhdGVTcGVjKSB7XG4gICAgICAgIGxldCB7IGFkZCA9IFtdLCBzb3J0ID0gZmFsc2UsIGZpbHRlckZyb20gPSAwLCBmaWx0ZXJUbyA9IHRoaXMubGVuZ3RoIH0gPSB1cGRhdGVTcGVjO1xuICAgICAgICBsZXQgZmlsdGVyID0gdXBkYXRlU3BlYy5maWx0ZXI7XG4gICAgICAgIGlmIChhZGQubGVuZ3RoID09IDAgJiYgIWZpbHRlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBpZiAoc29ydClcbiAgICAgICAgICAgIGFkZCA9IGFkZC5zbGljZSgpLnNvcnQoY21wUmFuZ2UpO1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIGFkZC5sZW5ndGggPyBSYW5nZVNldC5vZihhZGQpIDogdGhpcztcbiAgICAgICAgbGV0IGN1ciA9IG5ldyBMYXllckN1cnNvcih0aGlzLCBudWxsLCAtMSkuZ290bygwKSwgaSA9IDAsIHNwaWxsID0gW107XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IFJhbmdlU2V0QnVpbGRlcigpO1xuICAgICAgICB3aGlsZSAoY3VyLnZhbHVlIHx8IGkgPCBhZGQubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaSA8IGFkZC5sZW5ndGggJiYgKGN1ci5mcm9tIC0gYWRkW2ldLmZyb20gfHwgY3VyLnN0YXJ0U2lkZSAtIGFkZFtpXS52YWx1ZS5zdGFydFNpZGUpID49IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSBhZGRbaSsrXTtcbiAgICAgICAgICAgICAgICBpZiAoIWJ1aWxkZXIuYWRkSW5uZXIocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHJhbmdlLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgc3BpbGwucHVzaChyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXIucmFuZ2VJbmRleCA9PSAxICYmIGN1ci5jaHVua0luZGV4IDwgdGhpcy5jaHVuay5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAoaSA9PSBhZGQubGVuZ3RoIHx8IHRoaXMuY2h1bmtFbmQoY3VyLmNodW5rSW5kZXgpIDwgYWRkW2ldLmZyb20pICYmXG4gICAgICAgICAgICAgICAgKCFmaWx0ZXIgfHwgZmlsdGVyRnJvbSA+IHRoaXMuY2h1bmtFbmQoY3VyLmNodW5rSW5kZXgpIHx8IGZpbHRlclRvIDwgdGhpcy5jaHVua1Bvc1tjdXIuY2h1bmtJbmRleF0pICYmXG4gICAgICAgICAgICAgICAgYnVpbGRlci5hZGRDaHVuayh0aGlzLmNodW5rUG9zW2N1ci5jaHVua0luZGV4XSwgdGhpcy5jaHVua1tjdXIuY2h1bmtJbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgY3VyLm5leHRDaHVuaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyRnJvbSA+IGN1ci50byB8fCBmaWx0ZXJUbyA8IGN1ci5mcm9tIHx8IGZpbHRlcihjdXIuZnJvbSwgY3VyLnRvLCBjdXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYnVpbGRlci5hZGRJbm5lcihjdXIuZnJvbSwgY3VyLnRvLCBjdXIudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3BpbGwucHVzaChSYW5nZS5jcmVhdGUoY3VyLmZyb20sIGN1ci50bywgY3VyLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZmluaXNoSW5uZXIodGhpcy5uZXh0TGF5ZXIuaXNFbXB0eSAmJiAhc3BpbGwubGVuZ3RoID8gUmFuZ2VTZXQuZW1wdHlcbiAgICAgICAgICAgIDogdGhpcy5uZXh0TGF5ZXIudXBkYXRlKHsgYWRkOiBzcGlsbCwgZmlsdGVyLCBmaWx0ZXJGcm9tLCBmaWx0ZXJUbyB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hcCB0aGlzIHJhbmdlIHNldCB0aHJvdWdoIGEgc2V0IG9mIGNoYW5nZXMsIHJldHVybiB0aGUgbmV3IHNldC5cbiAgICAqL1xuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmVtcHR5IHx8IHRoaXMuaXNFbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgY2h1bmtzID0gW10sIGNodW5rUG9zID0gW10sIG1heFBvaW50ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5jaHVua1Bvc1tpXSwgY2h1bmsgPSB0aGlzLmNodW5rW2ldO1xuICAgICAgICAgICAgbGV0IHRvdWNoID0gY2hhbmdlcy50b3VjaGVzUmFuZ2Uoc3RhcnQsIHN0YXJ0ICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICh0b3VjaCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBtYXhQb2ludCA9IE1hdGgubWF4KG1heFBvaW50LCBjaHVuay5tYXhQb2ludCk7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIGNodW5rUG9zLnB1c2goY2hhbmdlcy5tYXBQb3Moc3RhcnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvdWNoID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgbWFwcGVkLCBwb3MgfSA9IGNodW5rLm1hcChzdGFydCwgY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhQb2ludCA9IE1hdGgubWF4KG1heFBvaW50LCBtYXBwZWQubWF4UG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBjaHVua3MucHVzaChtYXBwZWQpO1xuICAgICAgICAgICAgICAgICAgICBjaHVua1Bvcy5wdXNoKHBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5uZXh0TGF5ZXIubWFwKGNoYW5nZXMpO1xuICAgICAgICByZXR1cm4gY2h1bmtzLmxlbmd0aCA9PSAwID8gbmV4dCA6IG5ldyBSYW5nZVNldChjaHVua1BvcywgY2h1bmtzLCBuZXh0IHx8IFJhbmdlU2V0LmVtcHR5LCBtYXhQb2ludCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIHRoYXQgdG91Y2ggdGhlIHJlZ2lvbiBgZnJvbWAgdG8gYHRvYCxcbiAgICBjYWxsaW5nIGBmYCBmb3IgZWFjaC4gVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgdGhlIHJhbmdlcyB3aWxsXG4gICAgYmUgcmVwb3J0ZWQgaW4gYW55IHNwZWNpZmljIG9yZGVyLiBXaGVuIHRoZSBjYWxsYmFjayByZXR1cm5zXG4gICAgYGZhbHNlYCwgaXRlcmF0aW9uIHN0b3BzLlxuICAgICovXG4gICAgYmV0d2Vlbihmcm9tLCB0bywgZikge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2h1bmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMuY2h1bmtQb3NbaV0sIGNodW5rID0gdGhpcy5jaHVua1tpXTtcbiAgICAgICAgICAgIGlmICh0byA+PSBzdGFydCAmJiBmcm9tIDw9IHN0YXJ0ICsgY2h1bmsubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgY2h1bmsuYmV0d2VlbihzdGFydCwgZnJvbSAtIHN0YXJ0LCB0byAtIHN0YXJ0LCBmKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dExheWVyLmJldHdlZW4oZnJvbSwgdG8sIGYpO1xuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHJhbmdlcyBpbiB0aGlzIHNldCwgaW4gb3JkZXIsIGluY2x1ZGluZyBhbGxcbiAgICByYW5nZXMgdGhhdCBlbmQgYXQgb3IgYWZ0ZXIgYGZyb21gLlxuICAgICovXG4gICAgaXRlcihmcm9tID0gMCkge1xuICAgICAgICByZXR1cm4gSGVhcEN1cnNvci5mcm9tKFt0aGlzXSkuZ290byhmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgaXNFbXB0eSgpIHsgcmV0dXJuIHRoaXMubmV4dExheWVyID09IHRoaXM7IH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHJhbmdlcyBpbiBhIGNvbGxlY3Rpb24gb2Ygc2V0cywgaW4gb3JkZXIsXG4gICAgc3RhcnRpbmcgZnJvbSBgZnJvbWAuXG4gICAgKi9cbiAgICBzdGF0aWMgaXRlcihzZXRzLCBmcm9tID0gMCkge1xuICAgICAgICByZXR1cm4gSGVhcEN1cnNvci5mcm9tKHNldHMpLmdvdG8oZnJvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0d28gZ3JvdXBzIG9mIHNldHMsIGNhbGxpbmcgbWV0aG9kcyBvbiBgY29tcGFyYXRvcmBcbiAgICB0byBub3RpZnkgaXQgb2YgcG9zc2libGUgZGlmZmVyZW5jZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgY29tcGFyZShvbGRTZXRzLCBuZXdTZXRzLCBcbiAgICAvKipcbiAgICBUaGlzIGluZGljYXRlcyBob3cgdGhlIHVuZGVybHlpbmcgZGF0YSBjaGFuZ2VkIGJldHdlZW4gdGhlc2VcbiAgICByYW5nZXMsIGFuZCBpcyBuZWVkZWQgdG8gc3luY2hyb25pemUgdGhlIGl0ZXJhdGlvbi5cbiAgICAqL1xuICAgIHRleHREaWZmLCBjb21wYXJhdG9yLCBcbiAgICAvKipcbiAgICBDYW4gYmUgdXNlZCB0byBpZ25vcmUgYWxsIG5vbi1wb2ludCByYW5nZXMsIGFuZCBwb2ludHMgYmVsb3dcbiAgICB0aGUgZ2l2ZW4gc2l6ZS4gV2hlbiAtMSwgYWxsIHJhbmdlcyBhcmUgY29tcGFyZWQuXG4gICAgKi9cbiAgICBtaW5Qb2ludFNpemUgPSAtMSkge1xuICAgICAgICBsZXQgYSA9IG9sZFNldHMuZmlsdGVyKHNldCA9PiBzZXQubWF4UG9pbnQgPiAwIHx8ICFzZXQuaXNFbXB0eSAmJiBzZXQubWF4UG9pbnQgPj0gbWluUG9pbnRTaXplKTtcbiAgICAgICAgbGV0IGIgPSBuZXdTZXRzLmZpbHRlcihzZXQgPT4gc2V0Lm1heFBvaW50ID4gMCB8fCAhc2V0LmlzRW1wdHkgJiYgc2V0Lm1heFBvaW50ID49IG1pblBvaW50U2l6ZSk7XG4gICAgICAgIGxldCBzaGFyZWRDaHVua3MgPSBmaW5kU2hhcmVkQ2h1bmtzKGEsIGIsIHRleHREaWZmKTtcbiAgICAgICAgbGV0IHNpZGVBID0gbmV3IFNwYW5DdXJzb3IoYSwgc2hhcmVkQ2h1bmtzLCBtaW5Qb2ludFNpemUpO1xuICAgICAgICBsZXQgc2lkZUIgPSBuZXcgU3BhbkN1cnNvcihiLCBzaGFyZWRDaHVua3MsIG1pblBvaW50U2l6ZSk7XG4gICAgICAgIHRleHREaWZmLml0ZXJHYXBzKChmcm9tQSwgZnJvbUIsIGxlbmd0aCkgPT4gY29tcGFyZShzaWRlQSwgZnJvbUEsIHNpZGVCLCBmcm9tQiwgbGVuZ3RoLCBjb21wYXJhdG9yKSk7XG4gICAgICAgIGlmICh0ZXh0RGlmZi5lbXB0eSAmJiB0ZXh0RGlmZi5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGNvbXBhcmUoc2lkZUEsIDAsIHNpZGVCLCAwLCAwLCBjb21wYXJhdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGUgY29udGVudHMgb2YgdHdvIGdyb3VwcyBvZiByYW5nZSBzZXRzLCByZXR1cm5pbmcgdHJ1ZVxuICAgIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQgaW4gdGhlIGdpdmVuIHJhbmdlLlxuICAgICovXG4gICAgc3RhdGljIGVxKG9sZFNldHMsIG5ld1NldHMsIGZyb20gPSAwLCB0bykge1xuICAgICAgICBpZiAodG8gPT0gbnVsbClcbiAgICAgICAgICAgIHRvID0gMTAwMDAwMDAwMCAvKiBDLkZhciAqLyAtIDE7XG4gICAgICAgIGxldCBhID0gb2xkU2V0cy5maWx0ZXIoc2V0ID0+ICFzZXQuaXNFbXB0eSAmJiBuZXdTZXRzLmluZGV4T2Yoc2V0KSA8IDApO1xuICAgICAgICBsZXQgYiA9IG5ld1NldHMuZmlsdGVyKHNldCA9PiAhc2V0LmlzRW1wdHkgJiYgb2xkU2V0cy5pbmRleE9mKHNldCkgPCAwKTtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWEubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCBzaGFyZWRDaHVua3MgPSBmaW5kU2hhcmVkQ2h1bmtzKGEsIGIpO1xuICAgICAgICBsZXQgc2lkZUEgPSBuZXcgU3BhbkN1cnNvcihhLCBzaGFyZWRDaHVua3MsIDApLmdvdG8oZnJvbSksIHNpZGVCID0gbmV3IFNwYW5DdXJzb3IoYiwgc2hhcmVkQ2h1bmtzLCAwKS5nb3RvKGZyb20pO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoc2lkZUEudG8gIT0gc2lkZUIudG8gfHxcbiAgICAgICAgICAgICAgICAhc2FtZVZhbHVlcyhzaWRlQS5hY3RpdmUsIHNpZGVCLmFjdGl2ZSkgfHxcbiAgICAgICAgICAgICAgICBzaWRlQS5wb2ludCAmJiAoIXNpZGVCLnBvaW50IHx8ICFzaWRlQS5wb2ludC5lcShzaWRlQi5wb2ludCkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzaWRlQS50byA+IHRvKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgc2lkZUEubmV4dCgpO1xuICAgICAgICAgICAgc2lkZUIubmV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciBhIGdyb3VwIG9mIHJhbmdlIHNldHMgYXQgdGhlIHNhbWUgdGltZSwgbm90aWZ5aW5nXG4gICAgdGhlIGl0ZXJhdG9yIGFib3V0IHRoZSByYW5nZXMgY292ZXJpbmcgZXZlcnkgZ2l2ZW4gcGllY2Ugb2ZcbiAgICBjb250ZW50LiBSZXR1cm5zIHRoZSBvcGVuIGNvdW50IChzZWVcbiAgICBbYFNwYW5JdGVyYXRvci5zcGFuYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TcGFuSXRlcmF0b3Iuc3BhbikpIGF0IHRoZSBlbmRcbiAgICBvZiB0aGUgaXRlcmF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIHNwYW5zKHNldHMsIGZyb20sIHRvLCBpdGVyYXRvciwgXG4gICAgLyoqXG4gICAgV2hlbiBnaXZlbiBhbmQgZ3JlYXRlciB0aGFuIC0xLCBvbmx5IHBvaW50cyBvZiBhdCBsZWFzdCB0aGlzXG4gICAgc2l6ZSBhcmUgdGFrZW4gaW50byBhY2NvdW50LlxuICAgICovXG4gICAgbWluUG9pbnRTaXplID0gLTEpIHtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBTcGFuQ3Vyc29yKHNldHMsIG51bGwsIG1pblBvaW50U2l6ZSkuZ290byhmcm9tKSwgcG9zID0gZnJvbTtcbiAgICAgICAgbGV0IG9wZW5SYW5nZXMgPSBjdXJzb3Iub3BlblN0YXJ0O1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgY3VyVG8gPSBNYXRoLm1pbihjdXJzb3IudG8sIHRvKTtcbiAgICAgICAgICAgIGlmIChjdXJzb3IucG9pbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgYWN0aXZlID0gY3Vyc29yLmFjdGl2ZUZvclBvaW50KGN1cnNvci50byk7XG4gICAgICAgICAgICAgICAgbGV0IG9wZW5Db3VudCA9IGN1cnNvci5wb2ludEZyb20gPCBmcm9tID8gYWN0aXZlLmxlbmd0aCArIDFcbiAgICAgICAgICAgICAgICAgICAgOiBjdXJzb3IucG9pbnQuc3RhcnRTaWRlIDwgMCA/IGFjdGl2ZS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4oYWN0aXZlLmxlbmd0aCwgb3BlblJhbmdlcyk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucG9pbnQocG9zLCBjdXJUbywgY3Vyc29yLnBvaW50LCBhY3RpdmUsIG9wZW5Db3VudCwgY3Vyc29yLnBvaW50UmFuayk7XG4gICAgICAgICAgICAgICAgb3BlblJhbmdlcyA9IE1hdGgubWluKGN1cnNvci5vcGVuRW5kKGN1clRvKSwgYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJUbyA+IHBvcykge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnNwYW4ocG9zLCBjdXJUbywgY3Vyc29yLmFjdGl2ZSwgb3BlblJhbmdlcyk7XG4gICAgICAgICAgICAgICAgb3BlblJhbmdlcyA9IGN1cnNvci5vcGVuRW5kKGN1clRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPiB0bylcbiAgICAgICAgICAgICAgICByZXR1cm4gb3BlblJhbmdlcyArIChjdXJzb3IucG9pbnQgJiYgY3Vyc29yLnRvID4gdG8gPyAxIDogMCk7XG4gICAgICAgICAgICBwb3MgPSBjdXJzb3IudG87XG4gICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHJhbmdlIHNldCBmb3IgdGhlIGdpdmVuIHJhbmdlIG9yIGFycmF5IG9mIHJhbmdlcy4gQnlcbiAgICBkZWZhdWx0LCB0aGlzIGV4cGVjdHMgdGhlIHJhbmdlcyB0byBiZSBfc29ydGVkXyAoYnkgc3RhcnRcbiAgICBwb3NpdGlvbiBhbmQsIGlmIHR3byBzdGFydCBhdCB0aGUgc2FtZSBwb3NpdGlvbixcbiAgICBgdmFsdWUuc3RhcnRTaWRlYCkuIFlvdSBjYW4gcGFzcyBgdHJ1ZWAgYXMgc2Vjb25kIGFyZ3VtZW50IHRvXG4gICAgY2F1c2UgdGhlIG1ldGhvZCB0byBzb3J0IHRoZW0uXG4gICAgKi9cbiAgICBzdGF0aWMgb2YocmFuZ2VzLCBzb3J0ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGJ1aWxkID0gbmV3IFJhbmdlU2V0QnVpbGRlcigpO1xuICAgICAgICBmb3IgKGxldCByYW5nZSBvZiByYW5nZXMgaW5zdGFuY2VvZiBSYW5nZSA/IFtyYW5nZXNdIDogc29ydCA/IGxhenlTb3J0KHJhbmdlcykgOiByYW5nZXMpXG4gICAgICAgICAgICBidWlsZC5hZGQocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHJhbmdlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkLmZpbmlzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICBKb2luIGFuIGFycmF5IG9mIHJhbmdlIHNldHMgaW50byBhIHNpbmdsZSBzZXQuXG4gICAgKi9cbiAgICBzdGF0aWMgam9pbihzZXRzKSB7XG4gICAgICAgIGlmICghc2V0cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gUmFuZ2VTZXQuZW1wdHk7XG4gICAgICAgIGxldCByZXN1bHQgPSBzZXRzW3NldHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGZvciAobGV0IGkgPSBzZXRzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBsYXllciA9IHNldHNbaV07IGxheWVyICE9IFJhbmdlU2V0LmVtcHR5OyBsYXllciA9IGxheWVyLm5leHRMYXllcilcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgUmFuZ2VTZXQobGF5ZXIuY2h1bmtQb3MsIGxheWVyLmNodW5rLCByZXN1bHQsIE1hdGgubWF4KGxheWVyLm1heFBvaW50LCByZXN1bHQubWF4UG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuVGhlIGVtcHR5IHNldCBvZiByYW5nZXMuXG4qL1xuUmFuZ2VTZXQuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IFJhbmdlU2V0KFtdLCBbXSwgbnVsbCwgLTEpO1xuZnVuY3Rpb24gbGF6eVNvcnQocmFuZ2VzKSB7XG4gICAgaWYgKHJhbmdlcy5sZW5ndGggPiAxKVxuICAgICAgICBmb3IgKGxldCBwcmV2ID0gcmFuZ2VzWzBdLCBpID0gMTsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGN1ciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChjbXBSYW5nZShwcmV2LCBjdXIpID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VzLnNsaWNlKCkuc29ydChjbXBSYW5nZSk7XG4gICAgICAgICAgICBwcmV2ID0gY3VyO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHJhbmdlcztcbn1cblJhbmdlU2V0LmVtcHR5Lm5leHRMYXllciA9IFJhbmdlU2V0LmVtcHR5O1xuLyoqXG5BIHJhbmdlIHNldCBidWlsZGVyIGlzIGEgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBoZWxwcyBidWlsZCB1cCBhXG5bcmFuZ2Ugc2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlU2V0KSBkaXJlY3RseSwgd2l0aG91dCBmaXJzdCBhbGxvY2F0aW5nXG5hbiBhcnJheSBvZiBbYFJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSkgb2JqZWN0cy5cbiovXG5jbGFzcyBSYW5nZVNldEJ1aWxkZXIge1xuICAgIGZpbmlzaENodW5rKG5ld0FycmF5cykge1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKG5ldyBDaHVuayh0aGlzLmZyb20sIHRoaXMudG8sIHRoaXMudmFsdWUsIHRoaXMubWF4UG9pbnQpKTtcbiAgICAgICAgdGhpcy5jaHVua1Bvcy5wdXNoKHRoaXMuY2h1bmtTdGFydCk7XG4gICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLnNldE1heFBvaW50ID0gTWF0aC5tYXgodGhpcy5zZXRNYXhQb2ludCwgdGhpcy5tYXhQb2ludCk7XG4gICAgICAgIHRoaXMubWF4UG9pbnQgPSAtMTtcbiAgICAgICAgaWYgKG5ld0FycmF5cykge1xuICAgICAgICAgICAgdGhpcy5mcm9tID0gW107XG4gICAgICAgICAgICB0aGlzLnRvID0gW107XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGVtcHR5IGJ1aWxkZXIuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1BvcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0RnJvbSA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICB0aGlzLmxhc3RUbyA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICB0aGlzLmZyb20gPSBbXTtcbiAgICAgICAgdGhpcy50byA9IFtdO1xuICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgIHRoaXMubWF4UG9pbnQgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRNYXhQb2ludCA9IC0xO1xuICAgICAgICB0aGlzLm5leHRMYXllciA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIEFkZCBhIHJhbmdlLiBSYW5nZXMgc2hvdWxkIGJlIGFkZGVkIGluIHNvcnRlZCAoYnkgYGZyb21gIGFuZFxuICAgIGB2YWx1ZS5zdGFydFNpZGVgKSBvcmRlci5cbiAgICAqL1xuICAgIGFkZChmcm9tLCB0bywgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkZElubmVyKGZyb20sIHRvLCB2YWx1ZSkpXG4gICAgICAgICAgICAodGhpcy5uZXh0TGF5ZXIgfHwgKHRoaXMubmV4dExheWVyID0gbmV3IFJhbmdlU2V0QnVpbGRlcikpLmFkZChmcm9tLCB0bywgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFkZElubmVyKGZyb20sIHRvLCB2YWx1ZSkge1xuICAgICAgICBsZXQgZGlmZiA9IGZyb20gLSB0aGlzLmxhc3RUbyB8fCB2YWx1ZS5zdGFydFNpZGUgLSB0aGlzLmxhc3QuZW5kU2lkZTtcbiAgICAgICAgaWYgKGRpZmYgPD0gMCAmJiAoZnJvbSAtIHRoaXMubGFzdEZyb20gfHwgdmFsdWUuc3RhcnRTaWRlIC0gdGhpcy5sYXN0LnN0YXJ0U2lkZSkgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmFuZ2VzIG11c3QgYmUgYWRkZWQgc29ydGVkIGJ5IGBmcm9tYCBwb3NpdGlvbiBhbmQgYHN0YXJ0U2lkZWBcIik7XG4gICAgICAgIGlmIChkaWZmIDwgMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZnJvbS5sZW5ndGggPT0gMjUwIC8qIEMuQ2h1bmtTaXplICovKVxuICAgICAgICAgICAgdGhpcy5maW5pc2hDaHVuayh0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtTdGFydCA8IDApXG4gICAgICAgICAgICB0aGlzLmNodW5rU3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmZyb20ucHVzaChmcm9tIC0gdGhpcy5jaHVua1N0YXJ0KTtcbiAgICAgICAgdGhpcy50by5wdXNoKHRvIC0gdGhpcy5jaHVua1N0YXJ0KTtcbiAgICAgICAgdGhpcy5sYXN0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMubGFzdEZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLmxhc3RUbyA9IHRvO1xuICAgICAgICB0aGlzLnZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUucG9pbnQpXG4gICAgICAgICAgICB0aGlzLm1heFBvaW50ID0gTWF0aC5tYXgodGhpcy5tYXhQb2ludCwgdG8gLSBmcm9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYWRkQ2h1bmsoZnJvbSwgY2h1bmspIHtcbiAgICAgICAgaWYgKChmcm9tIC0gdGhpcy5sYXN0VG8gfHwgY2h1bmsudmFsdWVbMF0uc3RhcnRTaWRlIC0gdGhpcy5sYXN0LmVuZFNpZGUpIDwgMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZnJvbS5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmZpbmlzaENodW5rKHRydWUpO1xuICAgICAgICB0aGlzLnNldE1heFBvaW50ID0gTWF0aC5tYXgodGhpcy5zZXRNYXhQb2ludCwgY2h1bmsubWF4UG9pbnQpO1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgdGhpcy5jaHVua1Bvcy5wdXNoKGZyb20pO1xuICAgICAgICBsZXQgbGFzdCA9IGNodW5rLnZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMubGFzdCA9IGNodW5rLnZhbHVlW2xhc3RdO1xuICAgICAgICB0aGlzLmxhc3RGcm9tID0gY2h1bmsuZnJvbVtsYXN0XSArIGZyb207XG4gICAgICAgIHRoaXMubGFzdFRvID0gY2h1bmsudG9bbGFzdF0gKyBmcm9tO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluaXNoIHRoZSByYW5nZSBzZXQuIFJldHVybnMgdGhlIG5ldyBzZXQuIFRoZSBidWlsZGVyIGNhbid0IGJlXG4gICAgdXNlZCBhbnltb3JlIGFmdGVyIHRoaXMgaGFzIGJlZW4gY2FsbGVkLlxuICAgICovXG4gICAgZmluaXNoKCkgeyByZXR1cm4gdGhpcy5maW5pc2hJbm5lcihSYW5nZVNldC5lbXB0eSk7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZpbmlzaElubmVyKG5leHQpIHtcbiAgICAgICAgaWYgKHRoaXMuZnJvbS5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmZpbmlzaENodW5rKGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBSYW5nZVNldC5jcmVhdGUodGhpcy5jaHVua1BvcywgdGhpcy5jaHVua3MsIHRoaXMubmV4dExheWVyID8gdGhpcy5uZXh0TGF5ZXIuZmluaXNoSW5uZXIobmV4dCkgOiBuZXh0LCB0aGlzLnNldE1heFBvaW50KTtcbiAgICAgICAgdGhpcy5mcm9tID0gbnVsbDsgLy8gTWFrZSBzdXJlIGZ1cnRoZXIgYGFkZGAgY2FsbHMgcHJvZHVjZSBlcnJvcnNcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kU2hhcmVkQ2h1bmtzKGEsIGIsIHRleHREaWZmKSB7XG4gICAgbGV0IGluQSA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBzZXQgb2YgYSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQuY2h1bmsubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoc2V0LmNodW5rW2ldLm1heFBvaW50IDw9IDApXG4gICAgICAgICAgICAgICAgaW5BLnNldChzZXQuY2h1bmtbaV0sIHNldC5jaHVua1Bvc1tpXSk7XG4gICAgbGV0IHNoYXJlZCA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBzZXQgb2YgYilcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQuY2h1bmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBrbm93biA9IGluQS5nZXQoc2V0LmNodW5rW2ldKTtcbiAgICAgICAgICAgIGlmIChrbm93biAhPSBudWxsICYmICh0ZXh0RGlmZiA/IHRleHREaWZmLm1hcFBvcyhrbm93bikgOiBrbm93bikgPT0gc2V0LmNodW5rUG9zW2ldICYmXG4gICAgICAgICAgICAgICAgISh0ZXh0RGlmZiA9PT0gbnVsbCB8fCB0ZXh0RGlmZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGV4dERpZmYudG91Y2hlc1JhbmdlKGtub3duLCBrbm93biArIHNldC5jaHVua1tpXS5sZW5ndGgpKSlcbiAgICAgICAgICAgICAgICBzaGFyZWQuYWRkKHNldC5jaHVua1tpXSk7XG4gICAgICAgIH1cbiAgICByZXR1cm4gc2hhcmVkO1xufVxuY2xhc3MgTGF5ZXJDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGxheWVyLCBza2lwLCBtaW5Qb2ludCwgcmFuayA9IDApIHtcbiAgICAgICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLnNraXAgPSBza2lwO1xuICAgICAgICB0aGlzLm1pblBvaW50ID0gbWluUG9pbnQ7XG4gICAgICAgIHRoaXMucmFuayA9IHJhbms7XG4gICAgfVxuICAgIGdldCBzdGFydFNpZGUoKSB7IHJldHVybiB0aGlzLnZhbHVlID8gdGhpcy52YWx1ZS5zdGFydFNpZGUgOiAwOyB9XG4gICAgZ2V0IGVuZFNpZGUoKSB7IHJldHVybiB0aGlzLnZhbHVlID8gdGhpcy52YWx1ZS5lbmRTaWRlIDogMDsgfVxuICAgIGdvdG8ocG9zLCBzaWRlID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi8pIHtcbiAgICAgICAgdGhpcy5jaHVua0luZGV4ID0gdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5nb3RvSW5uZXIocG9zLCBzaWRlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnb3RvSW5uZXIocG9zLCBzaWRlLCBmb3J3YXJkKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNodW5rSW5kZXggPCB0aGlzLmxheWVyLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF07XG4gICAgICAgICAgICBpZiAoISh0aGlzLnNraXAgJiYgdGhpcy5za2lwLmhhcyhuZXh0KSB8fFxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIuY2h1bmtFbmQodGhpcy5jaHVua0luZGV4KSA8IHBvcyB8fFxuICAgICAgICAgICAgICAgIG5leHQubWF4UG9pbnQgPCB0aGlzLm1pblBvaW50KSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtJbmRleCsrO1xuICAgICAgICAgICAgZm9yd2FyZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNodW5rSW5kZXggPCB0aGlzLmxheWVyLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJhbmdlSW5kZXggPSB0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF0uZmluZEluZGV4KHBvcyAtIHRoaXMubGF5ZXIuY2h1bmtQb3NbdGhpcy5jaHVua0luZGV4XSwgc2lkZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIWZvcndhcmQgfHwgdGhpcy5yYW5nZUluZGV4IDwgcmFuZ2VJbmRleClcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhbmdlSW5kZXgocmFuZ2VJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfVxuICAgIGZvcndhcmQocG9zLCBzaWRlKSB7XG4gICAgICAgIGlmICgodGhpcy50byAtIHBvcyB8fCB0aGlzLmVuZFNpZGUgLSBzaWRlKSA8IDApXG4gICAgICAgICAgICB0aGlzLmdvdG9Jbm5lcihwb3MsIHNpZGUsIHRydWUpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaHVua0luZGV4ID09IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tID0gdGhpcy50byA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgY2h1bmtQb3MgPSB0aGlzLmxheWVyLmNodW5rUG9zW3RoaXMuY2h1bmtJbmRleF0sIGNodW5rID0gdGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdO1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gY2h1bmtQb3MgKyBjaHVuay5mcm9tW3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvID0gY2h1bmtQb3MgKyBjaHVuay50b1t0aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBjaHVuay52YWx1ZVt0aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2VJbmRleCh0aGlzLnJhbmdlSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5Qb2ludCA8IDAgfHwgdGhpcy52YWx1ZS5wb2ludCAmJiB0aGlzLnRvIC0gdGhpcy5mcm9tID49IHRoaXMubWluUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldFJhbmdlSW5kZXgoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtJbmRleCsrO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpcCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmNodW5rSW5kZXggPCB0aGlzLmxheWVyLmNodW5rLmxlbmd0aCAmJiB0aGlzLnNraXAuaGFzKHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1bmtJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIG5leHRDaHVuaygpIHtcbiAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyb20gLSBvdGhlci5mcm9tIHx8IHRoaXMuc3RhcnRTaWRlIC0gb3RoZXIuc3RhcnRTaWRlIHx8IHRoaXMucmFuayAtIG90aGVyLnJhbmsgfHxcbiAgICAgICAgICAgIHRoaXMudG8gLSBvdGhlci50byB8fCB0aGlzLmVuZFNpZGUgLSBvdGhlci5lbmRTaWRlO1xuICAgIH1cbn1cbmNsYXNzIEhlYXBDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGhlYXApIHtcbiAgICAgICAgdGhpcy5oZWFwID0gaGVhcDtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oc2V0cywgc2tpcCA9IG51bGwsIG1pblBvaW50ID0gLTEpIHtcbiAgICAgICAgbGV0IGhlYXAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjdXIgPSBzZXRzW2ldOyAhY3VyLmlzRW1wdHk7IGN1ciA9IGN1ci5uZXh0TGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyLm1heFBvaW50ID49IG1pblBvaW50KVxuICAgICAgICAgICAgICAgICAgICBoZWFwLnB1c2gobmV3IExheWVyQ3Vyc29yKGN1ciwgc2tpcCwgbWluUG9pbnQsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhcC5sZW5ndGggPT0gMSA/IGhlYXBbMF0gOiBuZXcgSGVhcEN1cnNvcihoZWFwKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0U2lkZSgpIHsgcmV0dXJuIHRoaXMudmFsdWUgPyB0aGlzLnZhbHVlLnN0YXJ0U2lkZSA6IDA7IH1cbiAgICBnb3RvKHBvcywgc2lkZSA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovKSB7XG4gICAgICAgIGZvciAobGV0IGN1ciBvZiB0aGlzLmhlYXApXG4gICAgICAgICAgICBjdXIuZ290byhwb3MsIHNpZGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5oZWFwLmxlbmd0aCA+PiAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIGhlYXBCdWJibGUodGhpcy5oZWFwLCBpKTtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmb3J3YXJkKHBvcywgc2lkZSkge1xuICAgICAgICBmb3IgKGxldCBjdXIgb2YgdGhpcy5oZWFwKVxuICAgICAgICAgICAgY3VyLmZvcndhcmQocG9zLCBzaWRlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaGVhcC5sZW5ndGggPj4gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICBoZWFwQnViYmxlKHRoaXMuaGVhcCwgaSk7XG4gICAgICAgIGlmICgodGhpcy50byAtIHBvcyB8fCB0aGlzLnZhbHVlLmVuZFNpZGUgLSBzaWRlKSA8IDApXG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhcC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5mcm9tID0gdGhpcy50byA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmFuayA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMuaGVhcFswXTtcbiAgICAgICAgICAgIHRoaXMuZnJvbSA9IHRvcC5mcm9tO1xuICAgICAgICAgICAgdGhpcy50byA9IHRvcC50bztcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0b3AudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnJhbmsgPSB0b3AucmFuaztcbiAgICAgICAgICAgIGlmICh0b3AudmFsdWUpXG4gICAgICAgICAgICAgICAgdG9wLm5leHQoKTtcbiAgICAgICAgICAgIGhlYXBCdWJibGUodGhpcy5oZWFwLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGhlYXBCdWJibGUoaGVhcCwgaW5kZXgpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBoZWFwW2luZGV4XTs7KSB7XG4gICAgICAgIGxldCBjaGlsZEluZGV4ID0gKGluZGV4IDw8IDEpICsgMTtcbiAgICAgICAgaWYgKGNoaWxkSW5kZXggPj0gaGVhcC5sZW5ndGgpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgbGV0IGNoaWxkID0gaGVhcFtjaGlsZEluZGV4XTtcbiAgICAgICAgaWYgKGNoaWxkSW5kZXggKyAxIDwgaGVhcC5sZW5ndGggJiYgY2hpbGQuY29tcGFyZShoZWFwW2NoaWxkSW5kZXggKyAxXSkgPj0gMCkge1xuICAgICAgICAgICAgY2hpbGQgPSBoZWFwW2NoaWxkSW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNoaWxkSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyLmNvbXBhcmUoY2hpbGQpIDwgMClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBoZWFwW2NoaWxkSW5kZXhdID0gY3VyO1xuICAgICAgICBoZWFwW2luZGV4XSA9IGNoaWxkO1xuICAgICAgICBpbmRleCA9IGNoaWxkSW5kZXg7XG4gICAgfVxufVxuY2xhc3MgU3BhbkN1cnNvciB7XG4gICAgY29uc3RydWN0b3Ioc2V0cywgc2tpcCwgbWluUG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5Qb2ludCA9IG1pblBvaW50O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVRvID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUmFuayA9IFtdO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IC0xO1xuICAgICAgICAvLyBBIGN1cnJlbnRseSBhY3RpdmUgcG9pbnQgcmFuZ2UsIGlmIGFueVxuICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wb2ludEZyb20gPSAwO1xuICAgICAgICB0aGlzLnBvaW50UmFuayA9IDA7XG4gICAgICAgIHRoaXMudG8gPSAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLztcbiAgICAgICAgdGhpcy5lbmRTaWRlID0gMDtcbiAgICAgICAgLy8gVGhlIGFtb3VudCBvZiBvcGVuIGFjdGl2ZSByYW5nZXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgLy8gTm90IGluY2x1ZGluZyBwb2ludHMuXG4gICAgICAgIHRoaXMub3BlblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gSGVhcEN1cnNvci5mcm9tKHNldHMsIHNraXAsIG1pblBvaW50KTtcbiAgICB9XG4gICAgZ290byhwb3MsIHNpZGUgPSAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLykge1xuICAgICAgICB0aGlzLmN1cnNvci5nb3RvKHBvcywgc2lkZSk7XG4gICAgICAgIHRoaXMuYWN0aXZlLmxlbmd0aCA9IHRoaXMuYWN0aXZlVG8ubGVuZ3RoID0gdGhpcy5hY3RpdmVSYW5rLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubWluQWN0aXZlID0gLTE7XG4gICAgICAgIHRoaXMudG8gPSBwb3M7XG4gICAgICAgIHRoaXMuZW5kU2lkZSA9IHNpZGU7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZm9yd2FyZChwb3MsIHNpZGUpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMubWluQWN0aXZlID4gLTEgJiYgKHRoaXMuYWN0aXZlVG9bdGhpcy5taW5BY3RpdmVdIC0gcG9zIHx8IHRoaXMuYWN0aXZlW3RoaXMubWluQWN0aXZlXS5lbmRTaWRlIC0gc2lkZSkgPCAwKVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmUodGhpcy5taW5BY3RpdmUpO1xuICAgICAgICB0aGlzLmN1cnNvci5mb3J3YXJkKHBvcywgc2lkZSk7XG4gICAgfVxuICAgIHJlbW92ZUFjdGl2ZShpbmRleCkge1xuICAgICAgICByZW1vdmUodGhpcy5hY3RpdmUsIGluZGV4KTtcbiAgICAgICAgcmVtb3ZlKHRoaXMuYWN0aXZlVG8sIGluZGV4KTtcbiAgICAgICAgcmVtb3ZlKHRoaXMuYWN0aXZlUmFuaywgaW5kZXgpO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IGZpbmRNaW5JbmRleCh0aGlzLmFjdGl2ZSwgdGhpcy5hY3RpdmVUbyk7XG4gICAgfVxuICAgIGFkZEFjdGl2ZSh0cmFja09wZW4pIHtcbiAgICAgICAgbGV0IGkgPSAwLCB7IHZhbHVlLCB0bywgcmFuayB9ID0gdGhpcy5jdXJzb3I7XG4gICAgICAgIC8vIE9yZ2FuaXplIGFjdGl2ZSBtYXJrcyBieSByYW5rIGZpcnN0LCB0aGVuIGJ5IHNpemVcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLmFjdGl2ZVJhbmsubGVuZ3RoICYmIChyYW5rIC0gdGhpcy5hY3RpdmVSYW5rW2ldIHx8IHRvIC0gdGhpcy5hY3RpdmVUb1tpXSkgPiAwKVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmUsIGksIHZhbHVlKTtcbiAgICAgICAgaW5zZXJ0KHRoaXMuYWN0aXZlVG8sIGksIHRvKTtcbiAgICAgICAgaW5zZXJ0KHRoaXMuYWN0aXZlUmFuaywgaSwgcmFuayk7XG4gICAgICAgIGlmICh0cmFja09wZW4pXG4gICAgICAgICAgICBpbnNlcnQodHJhY2tPcGVuLCBpLCB0aGlzLmN1cnNvci5mcm9tKTtcbiAgICAgICAgdGhpcy5taW5BY3RpdmUgPSBmaW5kTWluSW5kZXgodGhpcy5hY3RpdmUsIHRoaXMuYWN0aXZlVG8pO1xuICAgIH1cbiAgICAvLyBBZnRlciBjYWxsaW5nIHRoaXMsIGlmIGB0aGlzLnBvaW50YCAhPSBudWxsLCB0aGUgbmV4dCByYW5nZSBpcyBhXG4gICAgLy8gcG9pbnQuIE90aGVyd2lzZSwgaXQncyBhIHJlZ3VsYXIgcmFuZ2UsIGNvdmVyZWQgYnkgYHRoaXMuYWN0aXZlYC5cbiAgICBuZXh0KCkge1xuICAgICAgICBsZXQgZnJvbSA9IHRoaXMudG8sIHdhc1BvaW50ID0gdGhpcy5wb2ludDtcbiAgICAgICAgdGhpcy5wb2ludCA9IG51bGw7XG4gICAgICAgIGxldCB0cmFja09wZW4gPSB0aGlzLm9wZW5TdGFydCA8IDAgPyBbXSA6IG51bGw7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBhID0gdGhpcy5taW5BY3RpdmU7XG4gICAgICAgICAgICBpZiAoYSA+IC0xICYmICh0aGlzLmFjdGl2ZVRvW2FdIC0gdGhpcy5jdXJzb3IuZnJvbSB8fCB0aGlzLmFjdGl2ZVthXS5lbmRTaWRlIC0gdGhpcy5jdXJzb3Iuc3RhcnRTaWRlKSA8IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVUb1thXSA+IGZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50byA9IHRoaXMuYWN0aXZlVG9bYV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IHRoaXMuYWN0aXZlW2FdLmVuZFNpZGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZShhKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tPcGVuKVxuICAgICAgICAgICAgICAgICAgICByZW1vdmUodHJhY2tPcGVuLCBhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnNvci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSB0aGlzLmVuZFNpZGUgPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IuZnJvbSA+IGZyb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5jdXJzb3IuZnJvbTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZFNpZGUgPSB0aGlzLmN1cnNvci5zdGFydFNpZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFZhbCA9IHRoaXMuY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dFZhbC5wb2ludCkgeyAvLyBPcGVuaW5nIGEgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBY3RpdmUodHJhY2tPcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNQb2ludCAmJiB0aGlzLmN1cnNvci50byA9PSB0aGlzLnRvICYmIHRoaXMuY3Vyc29yLmZyb20gPCB0aGlzLmN1cnNvci50bykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYW55IG5vbi1lbXB0eSBwb2ludHMgdGhhdCBlbmQgcHJlY2lzZWx5IGF0IHRoZSBlbmQgb2YgdGhlIHByZXYgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gTmV3IHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnQgPSBuZXh0VmFsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50RnJvbSA9IHRoaXMuY3Vyc29yLmZyb207XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRSYW5rID0gdGhpcy5jdXJzb3IucmFuaztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50byA9IHRoaXMuY3Vyc29yLnRvO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZFNpZGUgPSBuZXh0VmFsLmVuZFNpZGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkKHRoaXMudG8sIHRoaXMuZW5kU2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5TdGFydCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdHJhY2tPcGVuLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiB0cmFja09wZW5baV0gPCBmcm9tOyBpLS0pXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU3RhcnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY3RpdmVGb3JQb2ludCh0bykge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgICAgICAgbGV0IGFjdGl2ZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5hY3RpdmUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVJhbmtbaV0gPCB0aGlzLnBvaW50UmFuaylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVRvW2ldID4gdG8gfHwgdGhpcy5hY3RpdmVUb1tpXSA9PSB0byAmJiB0aGlzLmFjdGl2ZVtpXS5lbmRTaWRlID49IHRoaXMucG9pbnQuZW5kU2lkZSlcbiAgICAgICAgICAgICAgICBhY3RpdmUucHVzaCh0aGlzLmFjdGl2ZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGl2ZS5yZXZlcnNlKCk7XG4gICAgfVxuICAgIG9wZW5FbmQodG8pIHtcbiAgICAgICAgbGV0IG9wZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5hY3RpdmVUby5sZW5ndGggLSAxOyBpID49IDAgJiYgdGhpcy5hY3RpdmVUb1tpXSA+IHRvOyBpLS0pXG4gICAgICAgICAgICBvcGVuKys7XG4gICAgICAgIHJldHVybiBvcGVuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgc3RhcnRBLCBiLCBzdGFydEIsIGxlbmd0aCwgY29tcGFyYXRvcikge1xuICAgIGEuZ290byhzdGFydEEpO1xuICAgIGIuZ290byhzdGFydEIpO1xuICAgIGxldCBlbmRCID0gc3RhcnRCICsgbGVuZ3RoO1xuICAgIGxldCBwb3MgPSBzdGFydEIsIGRQb3MgPSBzdGFydEIgLSBzdGFydEE7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBsZXQgZGlmZiA9IChhLnRvICsgZFBvcykgLSBiLnRvIHx8IGEuZW5kU2lkZSAtIGIuZW5kU2lkZTtcbiAgICAgICAgbGV0IGVuZCA9IGRpZmYgPCAwID8gYS50byArIGRQb3MgOiBiLnRvLCBjbGlwRW5kID0gTWF0aC5taW4oZW5kLCBlbmRCKTtcbiAgICAgICAgaWYgKGEucG9pbnQgfHwgYi5wb2ludCkge1xuICAgICAgICAgICAgaWYgKCEoYS5wb2ludCAmJiBiLnBvaW50ICYmIChhLnBvaW50ID09IGIucG9pbnQgfHwgYS5wb2ludC5lcShiLnBvaW50KSkgJiZcbiAgICAgICAgICAgICAgICBzYW1lVmFsdWVzKGEuYWN0aXZlRm9yUG9pbnQoYS50byksIGIuYWN0aXZlRm9yUG9pbnQoYi50bykpKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVQb2ludChwb3MsIGNsaXBFbmQsIGEucG9pbnQsIGIucG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNsaXBFbmQgPiBwb3MgJiYgIXNhbWVWYWx1ZXMoYS5hY3RpdmUsIGIuYWN0aXZlKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVSYW5nZShwb3MsIGNsaXBFbmQsIGEuYWN0aXZlLCBiLmFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA+IGVuZEIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICBpZiAoZGlmZiA8PSAwKVxuICAgICAgICAgICAgYS5uZXh0KCk7XG4gICAgICAgIGlmIChkaWZmID49IDApXG4gICAgICAgICAgICBiLm5leHQoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzYW1lVmFsdWVzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChhW2ldICE9IGJbaV0gJiYgIWFbaV0uZXEoYltpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByZW1vdmUoYXJyYXksIGluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IGluZGV4LCBlID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA8IGU7IGkrKylcbiAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpICsgMV07XG4gICAgYXJyYXkucG9wKCk7XG59XG5mdW5jdGlvbiBpbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IGluZGV4OyBpLS0pXG4gICAgICAgIGFycmF5W2kgKyAxXSA9IGFycmF5W2ldO1xuICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZmluZE1pbkluZGV4KHZhbHVlLCBhcnJheSkge1xuICAgIGxldCBmb3VuZCA9IC0xLCBmb3VuZFBvcyA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKChhcnJheVtpXSAtIGZvdW5kUG9zIHx8IHZhbHVlW2ldLmVuZFNpZGUgLSB2YWx1ZVtmb3VuZF0uZW5kU2lkZSkgPCAwKSB7XG4gICAgICAgICAgICBmb3VuZCA9IGk7XG4gICAgICAgICAgICBmb3VuZFBvcyA9IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuXG4vKipcbkNvdW50IHRoZSBjb2x1bW4gcG9zaXRpb24gYXQgdGhlIGdpdmVuIG9mZnNldCBpbnRvIHRoZSBzdHJpbmcsXG50YWtpbmcgZXh0ZW5kaW5nIGNoYXJhY3RlcnMgYW5kIHRhYiBzaXplIGludG8gYWNjb3VudC5cbiovXG5mdW5jdGlvbiBjb3VudENvbHVtbihzdHJpbmcsIHRhYlNpemUsIHRvID0gc3RyaW5nLmxlbmd0aCkge1xuICAgIGxldCBuID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvOykge1xuICAgICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgPT0gOSkge1xuICAgICAgICAgICAgbiArPSB0YWJTaXplIC0gKG4gJSB0YWJTaXplKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgIGkgPSBmaW5kQ2x1c3RlckJyZWFrKHN0cmluZywgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG4vKipcbkZpbmQgdGhlIG9mZnNldCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBjb2x1bW4gcG9zaXRpb24gaW4gYVxuc3RyaW5nLCB0YWtpbmcgZXh0ZW5kaW5nIGNoYXJhY3RlcnMgYW5kIHRhYiBzaXplIGludG8gYWNjb3VudC4gQnlcbmRlZmF1bHQsIHRoZSBzdHJpbmcgbGVuZ3RoIGlzIHJldHVybmVkIHdoZW4gaXQgaXMgdG9vIHNob3J0IHRvXG5yZWFjaCB0aGUgY29sdW1uLiBQYXNzIGBzdHJpY3RgIHRydWUgdG8gbWFrZSBpdCByZXR1cm4gLTEgaW4gdGhhdFxuc2l0dWF0aW9uLlxuKi9cbmZ1bmN0aW9uIGZpbmRDb2x1bW4oc3RyaW5nLCBjb2wsIHRhYlNpemUsIHN0cmljdCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBuID0gMDs7KSB7XG4gICAgICAgIGlmIChuID49IGNvbClcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICBpZiAoaSA9PSBzdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG4gKz0gc3RyaW5nLmNoYXJDb2RlQXQoaSkgPT0gOSA/IHRhYlNpemUgLSAobiAlIHRhYlNpemUpIDogMTtcbiAgICAgICAgaSA9IGZpbmRDbHVzdGVyQnJlYWsoc3RyaW5nLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmljdCA9PT0gdHJ1ZSA/IC0xIDogc3RyaW5nLmxlbmd0aDtcbn1cblxuZXhwb3J0IHsgQW5ub3RhdGlvbiwgQW5ub3RhdGlvblR5cGUsIENoYW5nZURlc2MsIENoYW5nZVNldCwgQ2hhckNhdGVnb3J5LCBDb21wYXJ0bWVudCwgRWRpdG9yU2VsZWN0aW9uLCBFZGl0b3JTdGF0ZSwgRmFjZXQsIExpbmUsIE1hcE1vZGUsIFByZWMsIFJhbmdlLCBSYW5nZVNldCwgUmFuZ2VTZXRCdWlsZGVyLCBSYW5nZVZhbHVlLCBTZWxlY3Rpb25SYW5nZSwgU3RhdGVFZmZlY3QsIFN0YXRlRWZmZWN0VHlwZSwgU3RhdGVGaWVsZCwgVGV4dCwgVHJhbnNhY3Rpb24sIGNvZGVQb2ludEF0LCBjb2RlUG9pbnRTaXplLCBjb21iaW5lQ29uZmlnLCBjb3VudENvbHVtbiwgZmluZENsdXN0ZXJCcmVhaywgZmluZENvbHVtbiwgZnJvbUNvZGVQb2ludCB9O1xuIiwKICAgICJjb25zdCBDID0gXCJcXHUwMzdjXCJcbmNvbnN0IENPVU5UID0gdHlwZW9mIFN5bWJvbCA9PSBcInVuZGVmaW5lZFwiID8gXCJfX1wiICsgQyA6IFN5bWJvbC5mb3IoQylcbmNvbnN0IFNFVCA9IHR5cGVvZiBTeW1ib2wgPT0gXCJ1bmRlZmluZWRcIiA/IFwiX19zdHlsZVNldFwiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU4KSA6IFN5bWJvbChcInN0eWxlU2V0XCIpXG5jb25zdCB0b3AgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9XG5cbi8vIDo6IC0gU3R5bGUgbW9kdWxlcyBlbmNhcHN1bGF0ZSBhIHNldCBvZiBDU1MgcnVsZXMgZGVmaW5lZCBmcm9tXG4vLyBKYXZhU2NyaXB0LiBUaGVpciBkZWZpbml0aW9ucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYSBnaXZlbiBET01cbi8vIHJvb3QgYWZ0ZXIgaXQgaGFzIGJlZW4gX21vdW50ZWRfIHRoZXJlIHdpdGggYFN0eWxlTW9kdWxlLm1vdW50YC5cbi8vXG4vLyBTdHlsZSBtb2R1bGVzIHNob3VsZCBiZSBjcmVhdGVkIG9uY2UgYW5kIHN0b3JlZCBzb21ld2hlcmUsIGFzXG4vLyBvcHBvc2VkIHRvIHJlLWNyZWF0aW5nIHRoZW0gZXZlcnkgdGltZSB5b3UgbmVlZCB0aGVtLiBUaGUgYW1vdW50IG9mXG4vLyBDU1MgcnVsZXMgZ2VuZXJhdGVkIGZvciBhIGdpdmVuIERPTSByb290IGlzIGJvdW5kZWQgYnkgdGhlIGFtb3VudFxuLy8gb2Ygc3R5bGUgbW9kdWxlcyB0aGF0IHdlcmUgdXNlZC4gU28gdG8gYXZvaWQgbGVha2luZyBydWxlcywgZG9uJ3Rcbi8vIGNyZWF0ZSB0aGVzZSBkeW5hbWljYWxseSwgYnV0IHRyZWF0IHRoZW0gYXMgb25lLXRpbWUgYWxsb2NhdGlvbnMuXG5leHBvcnQgY2xhc3MgU3R5bGVNb2R1bGUge1xuICAvLyA6OiAoT2JqZWN0PFN0eWxlPiwgP3tmaW5pc2g6ID8oc3RyaW5nKSDihpIgc3RyaW5nfSlcbiAgLy8gQ3JlYXRlIGEgc3R5bGUgbW9kdWxlIGZyb20gdGhlIGdpdmVuIHNwZWMuXG4gIC8vXG4gIC8vIFdoZW4gYGZpbmlzaGAgaXMgZ2l2ZW4sIGl0IGlzIGNhbGxlZCBvbiByZWd1bGFyIChub24tYEBgKVxuICAvLyBzZWxlY3RvcnMgKGFmdGVyIGAmYCBleHBhbnNpb24pIHRvIGNvbXB1dGUgdGhlIGZpbmFsIHNlbGVjdG9yLlxuICBjb25zdHJ1Y3RvcihzcGVjLCBvcHRpb25zKSB7XG4gICAgdGhpcy5ydWxlcyA9IFtdXG4gICAgbGV0IHtmaW5pc2h9ID0gb3B0aW9ucyB8fCB7fVxuXG4gICAgZnVuY3Rpb24gc3BsaXRTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIC9eQC8udGVzdChzZWxlY3RvcikgPyBbc2VsZWN0b3JdIDogc2VsZWN0b3Iuc3BsaXQoLyxcXHMqLylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXIoc2VsZWN0b3JzLCBzcGVjLCB0YXJnZXQsIGlzS2V5ZnJhbWVzKSB7XG4gICAgICBsZXQgbG9jYWwgPSBbXSwgaXNBdCA9IC9eQChcXHcrKVxcYi8uZXhlYyhzZWxlY3RvcnNbMF0pLCBrZXlmcmFtZXMgPSBpc0F0ICYmIGlzQXRbMV0gPT0gXCJrZXlmcmFtZXNcIlxuICAgICAgaWYgKGlzQXQgJiYgc3BlYyA9PSBudWxsKSByZXR1cm4gdGFyZ2V0LnB1c2goc2VsZWN0b3JzWzBdICsgXCI7XCIpXG4gICAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3BlY1twcm9wXVxuICAgICAgICBpZiAoLyYvLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICByZW5kZXIocHJvcC5zcGxpdCgvLFxccyovKS5tYXAocGFydCA9PiBzZWxlY3RvcnMubWFwKHNlbCA9PiBwYXJ0LnJlcGxhY2UoLyYvLCBzZWwpKSkucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSksXG4gICAgICAgICAgICAgICAgIHZhbHVlLCB0YXJnZXQpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoIWlzQXQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgKFwiICsgcHJvcCArIFwiKSBzaG91bGQgYmUgYSBwcmltaXRpdmUgdmFsdWUuXCIpXG4gICAgICAgICAgcmVuZGVyKHNwbGl0U2VsZWN0b3IocHJvcCksIHZhbHVlLCBsb2NhbCwga2V5ZnJhbWVzKVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBsb2NhbC5wdXNoKHByb3AucmVwbGFjZSgvXy4qLywgXCJcIikucmVwbGFjZSgvW0EtWl0vZywgbCA9PiBcIi1cIiArIGwudG9Mb3dlckNhc2UoKSkgKyBcIjogXCIgKyB2YWx1ZSArIFwiO1wiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG9jYWwubGVuZ3RoIHx8IGtleWZyYW1lcykge1xuICAgICAgICB0YXJnZXQucHVzaCgoZmluaXNoICYmICFpc0F0ICYmICFpc0tleWZyYW1lcyA/IHNlbGVjdG9ycy5tYXAoZmluaXNoKSA6IHNlbGVjdG9ycykuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCIge1wiICsgbG9jYWwuam9pbihcIiBcIikgKyBcIn1cIilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHJlbmRlcihzcGxpdFNlbGVjdG9yKHByb3ApLCBzcGVjW3Byb3BdLCB0aGlzLnJ1bGVzKVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIHN0cmluZ1xuICAvLyBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIG1vZHVsZSdzIENTUyBydWxlcy5cbiAgZ2V0UnVsZXMoKSB7IHJldHVybiB0aGlzLnJ1bGVzLmpvaW4oXCJcXG5cIikgfVxuXG4gIC8vIDo6ICgpIOKGkiBzdHJpbmdcbiAgLy8gR2VuZXJhdGUgYSBuZXcgdW5pcXVlIENTUyBjbGFzcyBuYW1lLlxuICBzdGF0aWMgbmV3TmFtZSgpIHtcbiAgICBsZXQgaWQgPSB0b3BbQ09VTlRdIHx8IDFcbiAgICB0b3BbQ09VTlRdID0gaWQgKyAxXG4gICAgcmV0dXJuIEMgKyBpZC50b1N0cmluZygzNilcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxEb2N1bWVudCwgU2hhZG93Um9vdD4sIHVuaW9uPFtTdHlsZU1vZHVsZV0sIFN0eWxlTW9kdWxlPiwgP3tub25jZTogP3N0cmluZ30pXG4gIC8vXG4gIC8vIE1vdW50IHRoZSBnaXZlbiBzZXQgb2YgbW9kdWxlcyBpbiB0aGUgZ2l2ZW4gRE9NIHJvb3QsIHdoaWNoIGVuc3VyZXNcbiAgLy8gdGhhdCB0aGUgQ1NTIHJ1bGVzIGRlZmluZWQgYnkgdGhlIG1vZHVsZSBhcmUgYXZhaWxhYmxlIGluIHRoYXRcbiAgLy8gY29udGV4dC5cbiAgLy9cbiAgLy8gUnVsZXMgYXJlIG9ubHkgYWRkZWQgdG8gdGhlIGRvY3VtZW50IG9uY2UgcGVyIHJvb3QuXG4gIC8vXG4gIC8vIFJ1bGUgb3JkZXIgd2lsbCBmb2xsb3cgdGhlIG9yZGVyIG9mIHRoZSBtb2R1bGVzLCBzbyB0aGF0IHJ1bGVzIGZyb21cbiAgLy8gbW9kdWxlcyBsYXRlciBpbiB0aGUgYXJyYXkgdGFrZSBwcmVjZWRlbmNlIG9mIHRob3NlIGZyb20gZWFybGllclxuICAvLyBtb2R1bGVzLiBJZiB5b3UgY2FsbCB0aGlzIGZ1bmN0aW9uIG11bHRpcGxlIHRpbWVzIGZvciB0aGUgc2FtZSByb290XG4gIC8vIGluIGEgd2F5IHRoYXQgY2hhbmdlcyB0aGUgb3JkZXIgb2YgYWxyZWFkeSBtb3VudGVkIG1vZHVsZXMsIHRoZSBvbGRcbiAgLy8gb3JkZXIgd2lsbCBiZSBjaGFuZ2VkLlxuICAvL1xuICAvLyBJZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IG5vbmNlIGlzIHByb3ZpZGVkLCBpdCBpcyBhZGRlZCB0b1xuICAvLyB0aGUgYDxzdHlsZT5gIHRhZyBnZW5lcmF0ZWQgYnkgdGhlIGxpYnJhcnkuXG4gIHN0YXRpYyBtb3VudChyb290LCBtb2R1bGVzLCBvcHRpb25zKSB7XG4gICAgbGV0IHNldCA9IHJvb3RbU0VUXSwgbm9uY2UgPSBvcHRpb25zICYmIG9wdGlvbnMubm9uY2VcbiAgICBpZiAoIXNldCkgc2V0ID0gbmV3IFN0eWxlU2V0KHJvb3QsIG5vbmNlKVxuICAgIGVsc2UgaWYgKG5vbmNlKSBzZXQuc2V0Tm9uY2Uobm9uY2UpXG4gICAgc2V0Lm1vdW50KEFycmF5LmlzQXJyYXkobW9kdWxlcykgPyBtb2R1bGVzIDogW21vZHVsZXNdLCByb290KVxuICB9XG59XG5cbmxldCBhZG9wdGVkU2V0ID0gbmV3IE1hcCAvLzxEb2N1bWVudCwgU3R5bGVTZXQ+XG5cbmNsYXNzIFN0eWxlU2V0IHtcbiAgY29uc3RydWN0b3Iocm9vdCwgbm9uY2UpIHtcbiAgICBsZXQgZG9jID0gcm9vdC5vd25lckRvY3VtZW50IHx8IHJvb3QsIHdpbiA9IGRvYy5kZWZhdWx0Vmlld1xuICAgIGlmICghcm9vdC5oZWFkICYmIHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzICYmIHdpbi5DU1NTdHlsZVNoZWV0KSB7XG4gICAgICBsZXQgYWRvcHRlZCA9IGFkb3B0ZWRTZXQuZ2V0KGRvYylcbiAgICAgIGlmIChhZG9wdGVkKSByZXR1cm4gcm9vdFtTRVRdID0gYWRvcHRlZFxuICAgICAgdGhpcy5zaGVldCA9IG5ldyB3aW4uQ1NTU3R5bGVTaGVldFxuICAgICAgYWRvcHRlZFNldC5zZXQoZG9jLCB0aGlzKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0eWxlVGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKVxuICAgICAgaWYgKG5vbmNlKSB0aGlzLnN0eWxlVGFnLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKVxuICAgIH1cbiAgICB0aGlzLm1vZHVsZXMgPSBbXVxuICAgIHJvb3RbU0VUXSA9IHRoaXNcbiAgfVxuXG4gIG1vdW50KG1vZHVsZXMsIHJvb3QpIHtcbiAgICBsZXQgc2hlZXQgPSB0aGlzLnNoZWV0XG4gICAgbGV0IHBvcyA9IDAgLyogQ3VycmVudCBydWxlIG9mZnNldCAqLywgaiA9IDAgLyogSW5kZXggaW50byB0aGlzLm1vZHVsZXMgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtb2QgPSBtb2R1bGVzW2ldLCBpbmRleCA9IHRoaXMubW9kdWxlcy5pbmRleE9mKG1vZClcbiAgICAgIGlmIChpbmRleCA8IGogJiYgaW5kZXggPiAtMSkgeyAvLyBPcmRlcmluZyBjb25mbGljdFxuICAgICAgICB0aGlzLm1vZHVsZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBqLS1cbiAgICAgICAgaW5kZXggPSAtMVxuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5zcGxpY2UoaisrLCAwLCBtb2QpXG4gICAgICAgIGlmIChzaGVldCkgZm9yIChsZXQgayA9IDA7IGsgPCBtb2QucnVsZXMubGVuZ3RoOyBrKyspXG4gICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShtb2QucnVsZXNba10sIHBvcysrKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGogPCBpbmRleCkgcG9zICs9IHRoaXMubW9kdWxlc1tqKytdLnJ1bGVzLmxlbmd0aFxuICAgICAgICBwb3MgKz0gbW9kLnJ1bGVzLmxlbmd0aFxuICAgICAgICBqKytcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hlZXQpIHtcbiAgICAgIGlmIChyb290LmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmRleE9mKHRoaXMuc2hlZXQpIDwgMClcbiAgICAgICAgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbdGhpcy5zaGVldCwgLi4ucm9vdC5hZG9wdGVkU3R5bGVTaGVldHNdXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0ZXh0ID0gXCJcIlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1vZHVsZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHRleHQgKz0gdGhpcy5tb2R1bGVzW2ldLmdldFJ1bGVzKCkgKyBcIlxcblwiXG4gICAgICB0aGlzLnN0eWxlVGFnLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgbGV0IHRhcmdldCA9IHJvb3QuaGVhZCB8fCByb290XG4gICAgICBpZiAodGhpcy5zdHlsZVRhZy5wYXJlbnROb2RlICE9IHRhcmdldClcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLnN0eWxlVGFnLCB0YXJnZXQuZmlyc3RDaGlsZClcbiAgICB9XG4gIH1cblxuICBzZXROb25jZShub25jZSkge1xuICAgIGlmICh0aGlzLnN0eWxlVGFnICYmIHRoaXMuc3R5bGVUYWcuZ2V0QXR0cmlidXRlKFwibm9uY2VcIikgIT0gbm9uY2UpXG4gICAgICB0aGlzLnN0eWxlVGFnLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKVxuICB9XG59XG5cbi8vIFN0eWxlOjpPYmplY3Q8dW5pb248U3R5bGUsc3RyaW5nPj5cbi8vXG4vLyBBIHN0eWxlIGlzIGFuIG9iamVjdCB0aGF0LCBpbiB0aGUgc2ltcGxlIGNhc2UsIG1hcHMgQ1NTIHByb3BlcnR5XG4vLyBuYW1lcyB0byBzdHJpbmdzIGhvbGRpbmcgdGhlaXIgdmFsdWVzLCBhcyBpbiBge2NvbG9yOiBcInJlZFwiLFxuLy8gZm9udFdlaWdodDogXCJib2xkXCJ9YC4gVGhlIHByb3BlcnR5IG5hbWVzIGNhbiBiZSBnaXZlbiBpblxuLy8gY2FtZWwtY2FzZeKAlHRoZSBsaWJyYXJ5IHdpbGwgaW5zZXJ0IGEgZGFzaCBiZWZvcmUgY2FwaXRhbCBsZXR0ZXJzXG4vLyB3aGVuIGNvbnZlcnRpbmcgdGhlbSB0byBDU1MuXG4vL1xuLy8gSWYgeW91IGluY2x1ZGUgYW4gdW5kZXJzY29yZSBpbiBhIHByb3BlcnR5IG5hbWUsIGl0IGFuZCBldmVyeXRoaW5nXG4vLyBhZnRlciBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgb3V0cHV0LCB3aGljaCBjYW4gYmUgdXNlZnVsIHdoZW5cbi8vIHByb3ZpZGluZyBhIHByb3BlcnR5IG11bHRpcGxlIHRpbWVzLCBmb3IgYnJvd3NlciBjb21wYXRpYmlsaXR5XG4vLyByZWFzb25zLlxuLy9cbi8vIEEgcHJvcGVydHkgaW4gYSBzdHlsZSBvYmplY3QgY2FuIGFsc28gYmUgYSBzdWItc2VsZWN0b3IsIHdoaWNoXG4vLyBleHRlbmRzIHRoZSBjdXJyZW50IGNvbnRleHQgdG8gYWRkIGEgcHNldWRvLXNlbGVjdG9yIG9yIGEgY2hpbGRcbi8vIHNlbGVjdG9yLiBTdWNoIGEgcHJvcGVydHkgc2hvdWxkIGNvbnRhaW4gYSBgJmAgY2hhcmFjdGVyLCB3aGljaFxuLy8gd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY3VycmVudCBzZWxlY3Rvci4gRm9yIGV4YW1wbGUgYHtcIiY6YmVmb3JlXCI6XG4vLyB7Y29udGVudDogJ1wiaGlcIid9fWAuIFN1Yi1zZWxlY3RvcnMgYW5kIHJlZ3VsYXIgcHJvcGVydGllcyBjYW5cbi8vIGZyZWVseSBiZSBtaXhlZCBpbiBhIGdpdmVuIG9iamVjdC4gQW55IHByb3BlcnR5IGNvbnRhaW5pbmcgYSBgJmAgaXNcbi8vIGFzc3VtZWQgdG8gYmUgYSBzdWItc2VsZWN0b3IuXG4vL1xuLy8gRmluYWxseSwgYSBwcm9wZXJ0eSBjYW4gc3BlY2lmeSBhbiBALWJsb2NrIHRvIGJlIHdyYXBwZWQgYXJvdW5kIHRoZVxuLy8gc3R5bGVzIGRlZmluZWQgaW5zaWRlIHRoZSBvYmplY3QgdGhhdCdzIHRoZSBwcm9wZXJ0eSdzIHZhbHVlLiBGb3Jcbi8vIGV4YW1wbGUgdG8gY3JlYXRlIGEgbWVkaWEgcXVlcnkgeW91IGNhbiBkbyBge1wiQG1lZGlhIHNjcmVlbiBhbmRcbi8vIChtaW4td2lkdGg6IDQwMHB4KVwiOiB7Li4ufX1gLlxuIiwKICAgICJleHBvcnQgdmFyIGJhc2UgPSB7XG4gIDg6IFwiQmFja3NwYWNlXCIsXG4gIDk6IFwiVGFiXCIsXG4gIDEwOiBcIkVudGVyXCIsXG4gIDEyOiBcIk51bUxvY2tcIixcbiAgMTM6IFwiRW50ZXJcIixcbiAgMTY6IFwiU2hpZnRcIixcbiAgMTc6IFwiQ29udHJvbFwiLFxuICAxODogXCJBbHRcIixcbiAgMjA6IFwiQ2Fwc0xvY2tcIixcbiAgMjc6IFwiRXNjYXBlXCIsXG4gIDMyOiBcIiBcIixcbiAgMzM6IFwiUGFnZVVwXCIsXG4gIDM0OiBcIlBhZ2VEb3duXCIsXG4gIDM1OiBcIkVuZFwiLFxuICAzNjogXCJIb21lXCIsXG4gIDM3OiBcIkFycm93TGVmdFwiLFxuICAzODogXCJBcnJvd1VwXCIsXG4gIDM5OiBcIkFycm93UmlnaHRcIixcbiAgNDA6IFwiQXJyb3dEb3duXCIsXG4gIDQ0OiBcIlByaW50U2NyZWVuXCIsXG4gIDQ1OiBcIkluc2VydFwiLFxuICA0NjogXCJEZWxldGVcIixcbiAgNTk6IFwiO1wiLFxuICA2MTogXCI9XCIsXG4gIDkxOiBcIk1ldGFcIixcbiAgOTI6IFwiTWV0YVwiLFxuICAxMDY6IFwiKlwiLFxuICAxMDc6IFwiK1wiLFxuICAxMDg6IFwiLFwiLFxuICAxMDk6IFwiLVwiLFxuICAxMTA6IFwiLlwiLFxuICAxMTE6IFwiL1wiLFxuICAxNDQ6IFwiTnVtTG9ja1wiLFxuICAxNDU6IFwiU2Nyb2xsTG9ja1wiLFxuICAxNjA6IFwiU2hpZnRcIixcbiAgMTYxOiBcIlNoaWZ0XCIsXG4gIDE2MjogXCJDb250cm9sXCIsXG4gIDE2MzogXCJDb250cm9sXCIsXG4gIDE2NDogXCJBbHRcIixcbiAgMTY1OiBcIkFsdFwiLFxuICAxNzM6IFwiLVwiLFxuICAxODY6IFwiO1wiLFxuICAxODc6IFwiPVwiLFxuICAxODg6IFwiLFwiLFxuICAxODk6IFwiLVwiLFxuICAxOTA6IFwiLlwiLFxuICAxOTE6IFwiL1wiLFxuICAxOTI6IFwiYFwiLFxuICAyMTk6IFwiW1wiLFxuICAyMjA6IFwiXFxcXFwiLFxuICAyMjE6IFwiXVwiLFxuICAyMjI6IFwiJ1wiXG59XG5cbmV4cG9ydCB2YXIgc2hpZnQgPSB7XG4gIDQ4OiBcIilcIixcbiAgNDk6IFwiIVwiLFxuICA1MDogXCJAXCIsXG4gIDUxOiBcIiNcIixcbiAgNTI6IFwiJFwiLFxuICA1MzogXCIlXCIsXG4gIDU0OiBcIl5cIixcbiAgNTU6IFwiJlwiLFxuICA1NjogXCIqXCIsXG4gIDU3OiBcIihcIixcbiAgNTk6IFwiOlwiLFxuICA2MTogXCIrXCIsXG4gIDE3MzogXCJfXCIsXG4gIDE4NjogXCI6XCIsXG4gIDE4NzogXCIrXCIsXG4gIDE4ODogXCI8XCIsXG4gIDE4OTogXCJfXCIsXG4gIDE5MDogXCI+XCIsXG4gIDE5MTogXCI/XCIsXG4gIDE5MjogXCJ+XCIsXG4gIDIxOTogXCJ7XCIsXG4gIDIyMDogXCJ8XCIsXG4gIDIyMTogXCJ9XCIsXG4gIDIyMjogXCJcXFwiXCJcbn1cblxudmFyIG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcbnZhciBpZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBcXGR8VHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuLy8gRmlsbCBpbiB0aGUgZGlnaXQga2V5c1xuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSBiYXNlWzQ4ICsgaV0gPSBiYXNlWzk2ICsgaV0gPSBTdHJpbmcoaSlcblxuLy8gVGhlIGZ1bmN0aW9uIGtleXNcbmZvciAodmFyIGkgPSAxOyBpIDw9IDI0OyBpKyspIGJhc2VbaSArIDExMV0gPSBcIkZcIiArIGlcblxuLy8gQW5kIHRoZSBhbHBoYWJldGljIGtleXNcbmZvciAodmFyIGkgPSA2NTsgaSA8PSA5MDsgaSsrKSB7XG4gIGJhc2VbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyAzMilcbiAgc2hpZnRbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXG59XG5cbi8vIEZvciBlYWNoIGNvZGUgdGhhdCBkb2Vzbid0IGhhdmUgYSBzaGlmdC1lcXVpdmFsZW50LCBjb3B5IHRoZSBiYXNlIG5hbWVcbmZvciAodmFyIGNvZGUgaW4gYmFzZSkgaWYgKCFzaGlmdC5oYXNPd25Qcm9wZXJ0eShjb2RlKSkgc2hpZnRbY29kZV0gPSBiYXNlW2NvZGVdXG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlOYW1lKGV2ZW50KSB7XG4gIC8vIE9uIG1hY09TLCBrZXlzIGhlbGQgd2l0aCBTaGlmdCBhbmQgQ21kIGRvbid0IHJlZmxlY3QgdGhlIGVmZmVjdCBvZiBTaGlmdCBpbiBgLmtleWAuXG4gIC8vIE9uIElFLCBzaGlmdCBlZmZlY3QgaXMgbmV2ZXIgaW5jbHVkZWQgaW4gYC5rZXlgLlxuICB2YXIgaWdub3JlS2V5ID0gbWFjICYmIGV2ZW50Lm1ldGFLZXkgJiYgZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LmFsdEtleSB8fFxuICAgICAgaWUgJiYgZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5ICYmIGV2ZW50LmtleS5sZW5ndGggPT0gMSB8fFxuICAgICAgZXZlbnQua2V5ID09IFwiVW5pZGVudGlmaWVkXCJcbiAgdmFyIG5hbWUgPSAoIWlnbm9yZUtleSAmJiBldmVudC5rZXkpIHx8XG4gICAgKGV2ZW50LnNoaWZ0S2V5ID8gc2hpZnQgOiBiYXNlKVtldmVudC5rZXlDb2RlXSB8fFxuICAgIGV2ZW50LmtleSB8fCBcIlVuaWRlbnRpZmllZFwiXG4gIC8vIEVkZ2Ugc29tZXRpbWVzIHByb2R1Y2VzIHdyb25nIG5hbWVzIChJc3N1ZSAjMylcbiAgaWYgKG5hbWUgPT0gXCJFc2NcIikgbmFtZSA9IFwiRXNjYXBlXCJcbiAgaWYgKG5hbWUgPT0gXCJEZWxcIikgbmFtZSA9IFwiRGVsZXRlXCJcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODg2MDU3MS9cbiAgaWYgKG5hbWUgPT0gXCJMZWZ0XCIpIG5hbWUgPSBcIkFycm93TGVmdFwiXG4gIGlmIChuYW1lID09IFwiVXBcIikgbmFtZSA9IFwiQXJyb3dVcFwiXG4gIGlmIChuYW1lID09IFwiUmlnaHRcIikgbmFtZSA9IFwiQXJyb3dSaWdodFwiXG4gIGlmIChuYW1lID09IFwiRG93blwiKSBuYW1lID0gXCJBcnJvd0Rvd25cIlxuICByZXR1cm4gbmFtZVxufVxuIiwKICAgICJpbXBvcnQgeyBUZXh0LCBSYW5nZVNldCwgTWFwTW9kZSwgUmFuZ2VWYWx1ZSwgZmluZENsdXN0ZXJCcmVhaywgRWRpdG9yU2VsZWN0aW9uLCBGYWNldCwgU3RhdGVFZmZlY3QsIENoYW5nZVNldCwgZmluZENvbHVtbiwgQ2hhckNhdGVnb3J5LCBFZGl0b3JTdGF0ZSwgQW5ub3RhdGlvbiwgVHJhbnNhY3Rpb24sIFByZWMsIGNvZGVQb2ludEF0LCBjb2RlUG9pbnRTaXplLCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBSYW5nZVNldEJ1aWxkZXIsIGNvdW50Q29sdW1uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgU3R5bGVNb2R1bGUgfSBmcm9tICdzdHlsZS1tb2QnO1xuaW1wb3J0IHsga2V5TmFtZSwgYmFzZSwgc2hpZnQgfSBmcm9tICd3M2Mta2V5bmFtZSc7XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihyb290KSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICAvLyBCcm93c2VycyBkaWZmZXIgb24gd2hldGhlciBzaGFkb3cgcm9vdHMgaGF2ZSBhIGdldFNlbGVjdGlvblxuICAgIC8vIG1ldGhvZC4gSWYgaXQgZXhpc3RzLCB1c2UgdGhhdCwgb3RoZXJ3aXNlLCBjYWxsIGl0IG9uIHRoZVxuICAgIC8vIGRvY3VtZW50LlxuICAgIGlmIChyb290Lm5vZGVUeXBlID09IDExKSB7IC8vIFNoYWRvdyByb290XG4gICAgICAgIHRhcmdldCA9IHJvb3QuZ2V0U2VsZWN0aW9uID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQuZ2V0U2VsZWN0aW9uKCk7XG59XG5mdW5jdGlvbiBjb250YWlucyhkb20sIG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSA/IGRvbSA9PSBub2RlIHx8IGRvbS5jb250YWlucyhub2RlLm5vZGVUeXBlICE9IDEgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gZGVlcEFjdGl2ZUVsZW1lbnQoZG9jKSB7XG4gICAgbGV0IGVsdCA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIHdoaWxlIChlbHQgJiYgZWx0LnNoYWRvd1Jvb3QpXG4gICAgICAgIGVsdCA9IGVsdC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgcmV0dXJuIGVsdDtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbihkb20sIHNlbGVjdGlvbikge1xuICAgIGlmICghc2VsZWN0aW9uLmFuY2hvck5vZGUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICAvLyBGaXJlZm94IHdpbGwgcmFpc2UgJ3Blcm1pc3Npb24gZGVuaWVkJyBlcnJvcnMgd2hlbiBhY2Nlc3NpbmdcbiAgICAgICAgLy8gcHJvcGVydGllcyBvZiBgc2VsLmFuY2hvck5vZGVgIHdoZW4gaXQncyBpbiBhIGdlbmVyYXRlZCBDU1NcbiAgICAgICAgLy8gZWxlbWVudC5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKGRvbSwgc2VsZWN0aW9uLmFuY2hvck5vZGUpO1xuICAgIH1cbiAgICBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xpZW50UmVjdHNGb3IoZG9tKSB7XG4gICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICByZXR1cm4gdGV4dFJhbmdlKGRvbSwgMCwgZG9tLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKCk7XG4gICAgZWxzZSBpZiAoZG9tLm5vZGVUeXBlID09IDEpXG4gICAgICAgIHJldHVybiBkb20uZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBbXTtcbn1cbi8vIFNjYW5zIGZvcndhcmQgYW5kIGJhY2t3YXJkIHRocm91Z2ggRE9NIHBvc2l0aW9ucyBlcXVpdmFsZW50IHRvIHRoZVxuLy8gZ2l2ZW4gb25lIHRvIHNlZSBpZiB0aGUgdHdvIGFyZSBpbiB0aGUgc2FtZSBwbGFjZSAoaS5lLiBhZnRlciBhXG4vLyB0ZXh0IG5vZGUgdnMgYXQgdGhlIGVuZCBvZiB0aGF0IHRleHQgbm9kZSlcbmZ1bmN0aW9uIGlzRXF1aXZhbGVudFBvc2l0aW9uKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmKSB7XG4gICAgcmV0dXJuIHRhcmdldE5vZGUgPyAoc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgLTEpIHx8XG4gICAgICAgIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIDEpKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gZG9tSW5kZXgobm9kZSkge1xuICAgIGZvciAodmFyIGluZGV4ID0gMDs7IGluZGV4KyspIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNCbG9ja0VsZW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDEgJiYgL14oRElWfFB8TEl8VUx8T0x8QkxPQ0tRVU9URXxERHxEVHxIXFxkfFNFQ1RJT058UFJFKSQvLnRlc3Qobm9kZS5ub2RlTmFtZSk7XG59XG5mdW5jdGlvbiBzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCBkaXIpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChub2RlID09IHRhcmdldE5vZGUgJiYgb2ZmID09IHRhcmdldE9mZilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAob2ZmID09IChkaXIgPCAwID8gMCA6IG1heE9mZnNldChub2RlKSkpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IFwiRElWXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmICghcGFyZW50IHx8IHBhcmVudC5ub2RlVHlwZSAhPSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIG9mZiA9IGRvbUluZGV4KG5vZGUpICsgKGRpciA8IDAgPyAwIDogMSk7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmYgKyAoZGlyIDwgMCA/IC0xIDogMCldO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgb2ZmID0gZGlyIDwgMCA/IG1heE9mZnNldChub2RlKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBtYXhPZmZzZXQobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xufVxuZnVuY3Rpb24gZmxhdHRlblJlY3QocmVjdCwgbGVmdCkge1xuICAgIGxldCB4ID0gbGVmdCA/IHJlY3QubGVmdCA6IHJlY3QucmlnaHQ7XG4gICAgcmV0dXJuIHsgbGVmdDogeCwgcmlnaHQ6IHgsIHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC5ib3R0b20gfTtcbn1cbmZ1bmN0aW9uIHdpbmRvd1JlY3Qod2luKSB7XG4gICAgbGV0IHZwID0gd2luLnZpc3VhbFZpZXdwb3J0O1xuICAgIGlmICh2cClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IDAsIHJpZ2h0OiB2cC53aWR0aCxcbiAgICAgICAgICAgIHRvcDogMCwgYm90dG9tOiB2cC5oZWlnaHRcbiAgICAgICAgfTtcbiAgICByZXR1cm4geyBsZWZ0OiAwLCByaWdodDogd2luLmlubmVyV2lkdGgsXG4gICAgICAgIHRvcDogMCwgYm90dG9tOiB3aW4uaW5uZXJIZWlnaHQgfTtcbn1cbmZ1bmN0aW9uIGdldFNjYWxlKGVsdCwgcmVjdCkge1xuICAgIGxldCBzY2FsZVggPSByZWN0LndpZHRoIC8gZWx0Lm9mZnNldFdpZHRoO1xuICAgIGxldCBzY2FsZVkgPSByZWN0LmhlaWdodCAvIGVsdC5vZmZzZXRIZWlnaHQ7XG4gICAgaWYgKHNjYWxlWCA+IDAuOTk1ICYmIHNjYWxlWCA8IDEuMDA1IHx8ICFpc0Zpbml0ZShzY2FsZVgpIHx8IE1hdGguYWJzKHJlY3Qud2lkdGggLSBlbHQub2Zmc2V0V2lkdGgpIDwgMSlcbiAgICAgICAgc2NhbGVYID0gMTtcbiAgICBpZiAoc2NhbGVZID4gMC45OTUgJiYgc2NhbGVZIDwgMS4wMDUgfHwgIWlzRmluaXRlKHNjYWxlWSkgfHwgTWF0aC5hYnMocmVjdC5oZWlnaHQgLSBlbHQub2Zmc2V0SGVpZ2h0KSA8IDEpXG4gICAgICAgIHNjYWxlWSA9IDE7XG4gICAgcmV0dXJuIHsgc2NhbGVYLCBzY2FsZVkgfTtcbn1cbmZ1bmN0aW9uIHNjcm9sbFJlY3RJbnRvVmlldyhkb20sIHJlY3QsIHNpZGUsIHgsIHksIHhNYXJnaW4sIHlNYXJnaW4sIGx0cikge1xuICAgIGxldCBkb2MgPSBkb20ub3duZXJEb2N1bWVudCwgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgICBmb3IgKGxldCBjdXIgPSBkb20sIHN0b3AgPSBmYWxzZTsgY3VyICYmICFzdG9wOykge1xuICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09IDEpIHsgLy8gRWxlbWVudFxuICAgICAgICAgICAgbGV0IGJvdW5kaW5nLCB0b3AgPSBjdXIgPT0gZG9jLmJvZHk7XG4gICAgICAgICAgICBsZXQgc2NhbGVYID0gMSwgc2NhbGVZID0gMTtcbiAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICBib3VuZGluZyA9IHdpbmRvd1JlY3Qod2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgvXihmaXhlZHxzdGlja3kpJC8udGVzdChnZXRDb21wdXRlZFN0eWxlKGN1cikucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyLnNjcm9sbEhlaWdodCA8PSBjdXIuY2xpZW50SGVpZ2h0ICYmIGN1ci5zY3JvbGxXaWR0aCA8PSBjdXIuY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gY3VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICh7IHNjYWxlWCwgc2NhbGVZIH0gPSBnZXRTY2FsZShjdXIsIHJlY3QpKTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgc2Nyb2xsYmFyIHdpZHRoIGlzbid0IGluY2x1ZGVkIGluIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICAgICAgICBib3VuZGluZyA9IHsgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5sZWZ0ICsgY3VyLmNsaWVudFdpZHRoICogc2NhbGVYLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QudG9wICsgY3VyLmNsaWVudEhlaWdodCAqIHNjYWxlWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1vdmVYID0gMCwgbW92ZVkgPSAwO1xuICAgICAgICAgICAgaWYgKHkgPT0gXCJuZWFyZXN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSAtKGJvdW5kaW5nLnRvcCAtIHJlY3QudG9wICsgeU1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlID4gMCAmJiByZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSArIG1vdmVZKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIG1vdmVZICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIHlNYXJnaW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCAmJiAocmVjdC50b3AgLSBtb3ZlWSkgPCBib3VuZGluZy50b3ApXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IC0oYm91bmRpbmcudG9wICsgbW92ZVkgLSByZWN0LnRvcCArIHlNYXJnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZWN0SGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcCwgYm91bmRpbmdIZWlnaHQgPSBib3VuZGluZy5ib3R0b20gLSBib3VuZGluZy50b3A7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldFRvcCA9IHkgPT0gXCJjZW50ZXJcIiAmJiByZWN0SGVpZ2h0IDw9IGJvdW5kaW5nSGVpZ2h0ID8gcmVjdC50b3AgKyByZWN0SGVpZ2h0IC8gMiAtIGJvdW5kaW5nSGVpZ2h0IC8gMiA6XG4gICAgICAgICAgICAgICAgICAgIHkgPT0gXCJzdGFydFwiIHx8IHkgPT0gXCJjZW50ZXJcIiAmJiBzaWRlIDwgMCA/IHJlY3QudG9wIC0geU1hcmdpbiA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LmJvdHRvbSAtIGJvdW5kaW5nSGVpZ2h0ICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICBtb3ZlWSA9IHRhcmdldFRvcCAtIGJvdW5kaW5nLnRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID09IFwibmVhcmVzdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVggPSAtKGJvdW5kaW5nLmxlZnQgLSByZWN0LmxlZnQgKyB4TWFyZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPiAwICYmIHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodCArIG1vdmVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVggPSByZWN0LnJpZ2h0IC0gYm91bmRpbmcucmlnaHQgKyBtb3ZlWCArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IHJlY3QucmlnaHQgLSBib3VuZGluZy5yaWdodCArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCAmJiByZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0ICsgbW92ZVgpXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IC0oYm91bmRpbmcubGVmdCArIG1vdmVYIC0gcmVjdC5sZWZ0ICsgeE1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldExlZnQgPSB4ID09IFwiY2VudGVyXCIgPyByZWN0LmxlZnQgKyAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgLyAyIC0gKGJvdW5kaW5nLnJpZ2h0IC0gYm91bmRpbmcubGVmdCkgLyAyIDpcbiAgICAgICAgICAgICAgICAgICAgKHggPT0gXCJzdGFydFwiKSA9PSBsdHIgPyByZWN0LmxlZnQgLSB4TWFyZ2luIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QucmlnaHQgLSAoYm91bmRpbmcucmlnaHQgLSBib3VuZGluZy5sZWZ0KSArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgbW92ZVggPSB0YXJnZXRMZWZ0IC0gYm91bmRpbmcubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3ZlWCB8fCBtb3ZlWSkge1xuICAgICAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luLnNjcm9sbEJ5KG1vdmVYLCBtb3ZlWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZWRYID0gMCwgbW92ZWRZID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBjdXIuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyLnNjcm9sbFRvcCArPSBtb3ZlWSAvIHNjYWxlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkWSA9IChjdXIuc2Nyb2xsVG9wIC0gc3RhcnQpICogc2NhbGVZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlWCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gY3VyLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIuc2Nyb2xsTGVmdCArPSBtb3ZlWCAvIHNjYWxlWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkWCA9IChjdXIuc2Nyb2xsTGVmdCAtIHN0YXJ0KSAqIHNjYWxlWDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWN0ID0geyBsZWZ0OiByZWN0LmxlZnQgLSBtb3ZlZFgsIHRvcDogcmVjdC50b3AgLSBtb3ZlZFksXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogcmVjdC5yaWdodCAtIG1vdmVkWCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIG1vdmVkWSB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZWRYICYmIE1hdGguYWJzKG1vdmVkWCAtIG1vdmVYKSA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gXCJuZWFyZXN0XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlZFkgJiYgTWF0aC5hYnMobW92ZWRZIC0gbW92ZVkpIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBcIm5lYXJlc3RcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9wKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXIubm9kZVR5cGUgPT0gMTEpIHsgLy8gQSBzaGFkb3cgcm9vdFxuICAgICAgICAgICAgY3VyID0gY3VyLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNjcm9sbGFibGVQYXJlbnRzKGRvbSkge1xuICAgIGxldCBkb2MgPSBkb20ub3duZXJEb2N1bWVudCwgeCwgeTtcbiAgICBmb3IgKGxldCBjdXIgPSBkb20ucGFyZW50Tm9kZTsgY3VyOykge1xuICAgICAgICBpZiAoY3VyID09IGRvYy5ib2R5IHx8ICh4ICYmIHkpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXIubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgaWYgKCF5ICYmIGN1ci5zY3JvbGxIZWlnaHQgPiBjdXIuY2xpZW50SGVpZ2h0KVxuICAgICAgICAgICAgICAgIHkgPSBjdXI7XG4gICAgICAgICAgICBpZiAoIXggJiYgY3VyLnNjcm9sbFdpZHRoID4gY3VyLmNsaWVudFdpZHRoKVxuICAgICAgICAgICAgICAgIHggPSBjdXI7XG4gICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxMSkge1xuICAgICAgICAgICAgY3VyID0gY3VyLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB4LCB5IH07XG59XG5jbGFzcyBET01TZWxlY3Rpb25TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgZXEoZG9tU2VsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuY2hvck5vZGUgPT0gZG9tU2VsLmFuY2hvck5vZGUgJiYgdGhpcy5hbmNob3JPZmZzZXQgPT0gZG9tU2VsLmFuY2hvck9mZnNldCAmJlxuICAgICAgICAgICAgdGhpcy5mb2N1c05vZGUgPT0gZG9tU2VsLmZvY3VzTm9kZSAmJiB0aGlzLmZvY3VzT2Zmc2V0ID09IGRvbVNlbC5mb2N1c09mZnNldDtcbiAgICB9XG4gICAgc2V0UmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgbGV0IHsgYW5jaG9yTm9kZSwgZm9jdXNOb2RlIH0gPSByYW5nZTtcbiAgICAgICAgLy8gQ2xpcCBvZmZzZXRzIHRvIG5vZGUgc2l6ZSB0byBhdm9pZCBjcmFzaGVzIHdoZW4gU2FmYXJpIHJlcG9ydHMgYm9ndXMgb2Zmc2V0cyAoIzExNTIpXG4gICAgICAgIHRoaXMuc2V0KGFuY2hvck5vZGUsIE1hdGgubWluKHJhbmdlLmFuY2hvck9mZnNldCwgYW5jaG9yTm9kZSA/IG1heE9mZnNldChhbmNob3JOb2RlKSA6IDApLCBmb2N1c05vZGUsIE1hdGgubWluKHJhbmdlLmZvY3VzT2Zmc2V0LCBmb2N1c05vZGUgPyBtYXhPZmZzZXQoZm9jdXNOb2RlKSA6IDApKTtcbiAgICB9XG4gICAgc2V0KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICAgICAgICB0aGlzLmFuY2hvck5vZGUgPSBhbmNob3JOb2RlO1xuICAgICAgICB0aGlzLmFuY2hvck9mZnNldCA9IGFuY2hvck9mZnNldDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUgPSBmb2N1c05vZGU7XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBmb2N1c09mZnNldDtcbiAgICB9XG59XG5sZXQgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IG51bGw7XG4vLyBGZWF0dXJlLWRldGVjdHMgc3VwcG9ydCBmb3IgLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiB0cnVlfSksIGFuZCB1c2VzXG4vLyBhIGZhbGxiYWNrIGtsdWRnZSB3aGVuIG5vdCBzdXBwb3J0ZWQuXG5mdW5jdGlvbiBmb2N1c1ByZXZlbnRTY3JvbGwoZG9tKSB7XG4gICAgaWYgKGRvbS5zZXRBY3RpdmUpXG4gICAgICAgIHJldHVybiBkb20uc2V0QWN0aXZlKCk7IC8vIGluIElFXG4gICAgaWYgKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpXG4gICAgICAgIHJldHVybiBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCk7XG4gICAgbGV0IHN0YWNrID0gW107XG4gICAgZm9yIChsZXQgY3VyID0gZG9tOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgIHN0YWNrLnB1c2goY3VyLCBjdXIuc2Nyb2xsVG9wLCBjdXIuc2Nyb2xsTGVmdCk7XG4gICAgICAgIGlmIChjdXIgPT0gY3VyLm93bmVyRG9jdW1lbnQpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgZG9tLmZvY3VzKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPT0gbnVsbCA/IHtcbiAgICAgICAgZ2V0IHByZXZlbnRTY3JvbGwoKSB7XG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0geyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH07XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gOiB1bmRlZmluZWQpO1xuICAgIGlmICghcHJldmVudFNjcm9sbFN1cHBvcnRlZCkge1xuICAgICAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGVsdCA9IHN0YWNrW2krK10sIHRvcCA9IHN0YWNrW2krK10sIGxlZnQgPSBzdGFja1tpKytdO1xuICAgICAgICAgICAgaWYgKGVsdC5zY3JvbGxUb3AgIT0gdG9wKVxuICAgICAgICAgICAgICAgIGVsdC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgICAgICBpZiAoZWx0LnNjcm9sbExlZnQgIT0gbGVmdClcbiAgICAgICAgICAgICAgICBlbHQuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5sZXQgc2NyYXRjaFJhbmdlO1xuZnVuY3Rpb24gdGV4dFJhbmdlKG5vZGUsIGZyb20sIHRvID0gZnJvbSkge1xuICAgIGxldCByYW5nZSA9IHNjcmF0Y2hSYW5nZSB8fCAoc2NyYXRjaFJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHRvKTtcbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBmcm9tKTtcbiAgICByZXR1cm4gcmFuZ2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEtleShlbHQsIG5hbWUsIGNvZGUsIG1vZHMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHsga2V5OiBuYW1lLCBjb2RlOiBuYW1lLCBrZXlDb2RlOiBjb2RlLCB3aGljaDogY29kZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xuICAgIGlmIChtb2RzKVxuICAgICAgICAoeyBhbHRLZXk6IG9wdGlvbnMuYWx0S2V5LCBjdHJsS2V5OiBvcHRpb25zLmN0cmxLZXksIHNoaWZ0S2V5OiBvcHRpb25zLnNoaWZ0S2V5LCBtZXRhS2V5OiBvcHRpb25zLm1ldGFLZXkgfSA9IG1vZHMpO1xuICAgIGxldCBkb3duID0gbmV3IEtleWJvYXJkRXZlbnQoXCJrZXlkb3duXCIsIG9wdGlvbnMpO1xuICAgIGRvd24uc3ludGhldGljID0gdHJ1ZTtcbiAgICBlbHQuZGlzcGF0Y2hFdmVudChkb3duKTtcbiAgICBsZXQgdXAgPSBuZXcgS2V5Ym9hcmRFdmVudChcImtleXVwXCIsIG9wdGlvbnMpO1xuICAgIHVwLnN5bnRoZXRpYyA9IHRydWU7XG4gICAgZWx0LmRpc3BhdGNoRXZlbnQodXApO1xuICAgIHJldHVybiBkb3duLmRlZmF1bHRQcmV2ZW50ZWQgfHwgdXAuZGVmYXVsdFByZXZlbnRlZDtcbn1cbmZ1bmN0aW9uIGdldFJvb3Qobm9kZSkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlICYmIChub2RlLm5vZGVUeXBlID09IDkgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSAmJiBub2RlLmhvc3QpKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmFzc2lnbmVkU2xvdCB8fCBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY2xlYXJBdHRyaWJ1dGVzKG5vZGUpIHtcbiAgICB3aGlsZSAobm9kZS5hdHRyaWJ1dGVzLmxlbmd0aClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKG5vZGUuYXR0cmlidXRlc1swXSk7XG59XG5mdW5jdGlvbiBhdEVsZW1lbnRTdGFydChkb2MsIHNlbGVjdGlvbikge1xuICAgIGxldCBub2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgIGlmICghbm9kZSB8fCBzZWxlY3Rpb24uYW5jaG9yTm9kZSAhPSBub2RlIHx8IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgIT0gb2Zmc2V0KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gU2FmYXJpIGNhbiByZXBvcnQgYm9ndXMgb2Zmc2V0cyAoIzExNTIpXG4gICAgb2Zmc2V0ID0gTWF0aC5taW4ob2Zmc2V0LCBtYXhPZmZzZXQobm9kZSkpO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHJldiA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2LmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcHJldjtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBtYXhPZmZzZXQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZSA9PSBkb2MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTY3JvbGxlZFRvQm90dG9tKGVsdCkge1xuICAgIHJldHVybiBlbHQuc2Nyb2xsVG9wID4gTWF0aC5tYXgoMSwgZWx0LnNjcm9sbEhlaWdodCAtIGVsdC5jbGllbnRIZWlnaHQgLSA0KTtcbn1cbmZ1bmN0aW9uIHRleHROb2RlQmVmb3JlKHN0YXJ0Tm9kZSwgc3RhcnRPZmZzZXQpIHtcbiAgICBmb3IgKGxldCBub2RlID0gc3RhcnROb2RlLCBvZmZzZXQgPSBzdGFydE9mZnNldDs7KSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMgJiYgb2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbm9kZTogbm9kZSwgb2Zmc2V0OiBvZmZzZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgaWYgKG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV07XG4gICAgICAgICAgICBvZmZzZXQgPSBtYXhPZmZzZXQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICYmICFpc0Jsb2NrRWxlbWVudChub2RlKSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0ZXh0Tm9kZUFmdGVyKHN0YXJ0Tm9kZSwgc3RhcnRPZmZzZXQpIHtcbiAgICBmb3IgKGxldCBub2RlID0gc3RhcnROb2RlLCBvZmZzZXQgPSBzdGFydE9mZnNldDs7KSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMgJiYgb2Zmc2V0IDwgbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgJiYgIWlzQmxvY2tFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKSArIDE7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIERPTVBvcyB7XG4gICAgY29uc3RydWN0b3Iobm9kZSwgb2Zmc2V0LCBwcmVjaXNlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5wcmVjaXNlID0gcHJlY2lzZTtcbiAgICB9XG4gICAgc3RhdGljIGJlZm9yZShkb20sIHByZWNpc2UpIHsgcmV0dXJuIG5ldyBET01Qb3MoZG9tLnBhcmVudE5vZGUsIGRvbUluZGV4KGRvbSksIHByZWNpc2UpOyB9XG4gICAgc3RhdGljIGFmdGVyKGRvbSwgcHJlY2lzZSkgeyByZXR1cm4gbmV3IERPTVBvcyhkb20ucGFyZW50Tm9kZSwgZG9tSW5kZXgoZG9tKSArIDEsIHByZWNpc2UpOyB9XG59XG5jb25zdCBub0NoaWxkcmVuID0gW107XG5jbGFzcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBudWxsO1xuICAgICAgICB0aGlzLmZsYWdzID0gMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgfVxuICAgIGdldCBvdmVycmlkZURPTVRleHQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgZ2V0IHBvc0F0U3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnBvc0JlZm9yZSh0aGlzKSA6IDA7XG4gICAgfVxuICAgIGdldCBwb3NBdEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBwb3NCZWZvcmUodmlldykge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5wb3NBdFN0YXJ0O1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgPT0gdmlldylcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICAgICAgcG9zICs9IGNoaWxkLmxlbmd0aCArIGNoaWxkLmJyZWFrQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNoaWxkIGluIHBvc0JlZm9yZVwiKTtcbiAgICB9XG4gICAgcG9zQWZ0ZXIodmlldykge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NCZWZvcmUodmlldykgKyB2aWV3Lmxlbmd0aDtcbiAgICB9XG4gICAgc3luYyh2aWV3LCB0cmFjaykge1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDIgLyogVmlld0ZsYWcuTm9kZURpcnR5ICovKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5kb207XG4gICAgICAgICAgICBsZXQgcHJldiA9IG51bGwsIG5leHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmZsYWdzICYgNyAvKiBWaWV3RmxhZy5EaXJ0eSAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmRvbSAmJiAobmV4dCA9IHByZXYgPyBwcmV2Lm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudFZpZXcgPSBDb250ZW50Vmlldy5nZXQobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRWaWV3IHx8ICFjb250ZW50Vmlldy5wYXJlbnQgJiYgY29udGVudFZpZXcuY2FuUmV1c2VET00oY2hpbGQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnJldXNlRE9NKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN5bmModmlldywgdHJhY2spO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5mbGFncyAmPSB+NyAvKiBWaWV3RmxhZy5EaXJ0eSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCA9IHByZXYgPyBwcmV2Lm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrICYmICF0cmFjay53cml0dGVuICYmIHRyYWNrLm5vZGUgPT0gcGFyZW50ICYmIG5leHQgIT0gY2hpbGQuZG9tKVxuICAgICAgICAgICAgICAgICAgICB0cmFjay53cml0dGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0ICYmIG5leHQgIT0gY2hpbGQuZG9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHJtJDEobmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLmRvbSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYgPSBjaGlsZC5kb207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmIChuZXh0ICYmIHRyYWNrICYmIHRyYWNrLm5vZGUgPT0gcGFyZW50KVxuICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKG5leHQpXG4gICAgICAgICAgICAgICAgbmV4dCA9IHJtJDEobmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mbGFncyAmIDEgLyogVmlld0ZsYWcuQ2hpbGREaXJ0eSAqLykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZmxhZ3MgJiA3IC8qIFZpZXdGbGFnLkRpcnR5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN5bmModmlldywgdHJhY2spO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5mbGFncyAmPSB+NyAvKiBWaWV3RmxhZy5EaXJ0eSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV1c2VET00oX2RvbSkgeyB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkge1xuICAgICAgICBsZXQgYWZ0ZXI7XG4gICAgICAgIGlmIChub2RlID09IHRoaXMuZG9tKSB7XG4gICAgICAgICAgICBhZnRlciA9IHRoaXMuZG9tLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBiaWFzID0gbWF4T2Zmc2V0KG5vZGUpID09IDAgPyAwIDogb2Zmc2V0ID09IDAgPyAtMSA6IDE7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ID09IHRoaXMuZG9tKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoYmlhcyA9PSAwICYmIHBhcmVudC5maXJzdENoaWxkICE9IHBhcmVudC5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICAgICAgICAgICAgICBiaWFzID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpYXMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJpYXMgPCAwKVxuICAgICAgICAgICAgICAgIGFmdGVyID0gbm9kZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBhZnRlciA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFmdGVyID09IHRoaXMuZG9tLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgd2hpbGUgKGFmdGVyICYmICFDb250ZW50Vmlldy5nZXQoYWZ0ZXIpKVxuICAgICAgICAgICAgYWZ0ZXIgPSBhZnRlci5uZXh0U2libGluZztcbiAgICAgICAgaWYgKCFhZnRlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQuZG9tID09IGFmdGVyKVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gY2hpbGQubGVuZ3RoICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoZnJvbSwgdG8sIG9mZnNldCA9IDApIHtcbiAgICAgICAgbGV0IGZyb21JID0gLTEsIGZyb21TdGFydCA9IC0xLCB0b0kgPSAtMSwgdG9FbmQgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IG9mZnNldCwgcHJldkVuZCA9IG9mZnNldDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IHBvcyArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChwb3MgPCBmcm9tICYmIGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5kb21Cb3VuZHNBcm91bmQoZnJvbSwgdG8sIHBvcyk7XG4gICAgICAgICAgICBpZiAoZW5kID49IGZyb20gJiYgZnJvbUkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmcm9tSSA9IGk7XG4gICAgICAgICAgICAgICAgZnJvbVN0YXJ0ID0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcyA+IHRvICYmIGNoaWxkLmRvbS5wYXJlbnROb2RlID09IHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgdG9JID0gaTtcbiAgICAgICAgICAgICAgICB0b0VuZCA9IHByZXZFbmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2RW5kID0gZW5kO1xuICAgICAgICAgICAgcG9zID0gZW5kICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmcm9tOiBmcm9tU3RhcnQsIHRvOiB0b0VuZCA8IDAgPyBvZmZzZXQgKyB0aGlzLmxlbmd0aCA6IHRvRW5kLFxuICAgICAgICAgICAgc3RhcnRET006IChmcm9tSSA/IHRoaXMuY2hpbGRyZW5bZnJvbUkgLSAxXS5kb20ubmV4dFNpYmxpbmcgOiBudWxsKSB8fCB0aGlzLmRvbS5maXJzdENoaWxkLFxuICAgICAgICAgICAgZW5kRE9NOiB0b0kgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiB0b0kgPj0gMCA/IHRoaXMuY2hpbGRyZW5bdG9JXS5kb20gOiBudWxsIH07XG4gICAgfVxuICAgIG1hcmtEaXJ0eShhbmRQYXJlbnQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmZsYWdzIHw9IDIgLyogVmlld0ZsYWcuTm9kZURpcnR5ICovO1xuICAgICAgICB0aGlzLm1hcmtQYXJlbnRzRGlydHkoYW5kUGFyZW50KTtcbiAgICB9XG4gICAgbWFya1BhcmVudHNEaXJ0eShjaGlsZExpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7IHBhcmVudDsgcGFyZW50ID0gcGFyZW50LnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTGlzdClcbiAgICAgICAgICAgICAgICBwYXJlbnQuZmxhZ3MgfD0gMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgICAgICBpZiAocGFyZW50LmZsYWdzICYgMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBhcmVudC5mbGFncyB8PSAxIC8qIFZpZXdGbGFnLkNoaWxkRGlydHkgKi87XG4gICAgICAgICAgICBjaGlsZExpc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRQYXJlbnQocGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCAhPSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA3IC8qIFZpZXdGbGFnLkRpcnR5ICovKVxuICAgICAgICAgICAgICAgIHRoaXMubWFya1BhcmVudHNEaXJ0eSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRET00oZG9tKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmNtVmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuZG9tID0gZG9tO1xuICAgICAgICBkb20uY21WaWV3ID0gdGhpcztcbiAgICB9XG4gICAgZ2V0IHJvb3RWaWV3KCkge1xuICAgICAgICBmb3IgKGxldCB2ID0gdGhpczs7KSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdi5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgIHYgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZUNoaWxkcmVuKGZyb20sIHRvLCBjaGlsZHJlbiA9IG5vQ2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCA9PSB0aGlzICYmIGNoaWxkcmVuLmluZGV4T2YoY2hpbGQpIDwgMClcbiAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoZnJvbSwgdG8gLSBmcm9tLCAuLi5jaGlsZHJlbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBjaGlsZHJlbltpXS5zZXRQYXJlbnQodGhpcyk7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKF9yZWMpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWdub3JlRXZlbnQoX2V2ZW50KSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGNoaWxkQ3Vyc29yKHBvcyA9IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hpbGRDdXJzb3IodGhpcy5jaGlsZHJlbiwgcG9zLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgfVxuICAgIGNoaWxkUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDdXJzb3IoKS5maW5kUG9zKHBvcywgYmlhcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKFwiVmlld1wiLCBcIlwiKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgKyAodGhpcy5jaGlsZHJlbi5sZW5ndGggPyBcIihcIiArIHRoaXMuY2hpbGRyZW4uam9pbigpICsgXCIpXCIgOlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPyBcIltcIiArIChuYW1lID09IFwiVGV4dFwiID8gdGhpcy50ZXh0IDogdGhpcy5sZW5ndGgpICsgXCJdXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAodGhpcy5icmVha0FmdGVyID8gXCIjXCIgOiBcIlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGdldChub2RlKSB7IHJldHVybiBub2RlLmNtVmlldzsgfVxuICAgIGdldCBpc0VkaXRhYmxlKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBoYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGNhblJldXNlRE9NKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlci5jb25zdHJ1Y3RvciA9PSB0aGlzLmNvbnN0cnVjdG9yICYmICEoKHRoaXMuZmxhZ3MgfCBvdGhlci5mbGFncykgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKTtcbiAgICB9XG4gICAgLy8gV2hlbiB0aGlzIGlzIGEgemVyby1sZW5ndGggdmlldyB3aXRoIGEgc2lkZSwgdGhpcyBzaG91bGQgcmV0dXJuIGFcbiAgICAvLyBudW1iZXIgPD0gMCB0byBpbmRpY2F0ZSBpdCBpcyBiZWZvcmUgaXRzIHBvc2l0aW9uLCBvciBhXG4gICAgLy8gbnVtYmVyID4gMCB3aGVuIGFmdGVyIGl0cyBwb3NpdGlvbi5cbiAgICBnZXRTaWRlKCkgeyByZXR1cm4gMDsgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09IHRoaXMpXG4gICAgICAgICAgICAgICAgY2hpbGQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxufVxuQ29udGVudFZpZXcucHJvdG90eXBlLmJyZWFrQWZ0ZXIgPSAwO1xuLy8gUmVtb3ZlIGEgRE9NIG5vZGUgYW5kIHJldHVybiBpdHMgbmV4dCBzaWJsaW5nLlxuZnVuY3Rpb24gcm0kMShkb20pIHtcbiAgICBsZXQgbmV4dCA9IGRvbS5uZXh0U2libGluZztcbiAgICBkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO1xuICAgIHJldHVybiBuZXh0O1xufVxuY2xhc3MgQ2hpbGRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuLCBwb3MsIGkpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5pID0gaTtcbiAgICAgICAgdGhpcy5vZmYgPSAwO1xuICAgIH1cbiAgICBmaW5kUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRoaXMucG9zIHx8IHBvcyA9PSB0aGlzLnBvcyAmJlxuICAgICAgICAgICAgICAgIChiaWFzID4gMCB8fCB0aGlzLmkgPT0gMCB8fCB0aGlzLmNoaWxkcmVuW3RoaXMuaSAtIDFdLmJyZWFrQWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYgPSBwb3MgLSB0aGlzLnBvcztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5jaGlsZHJlblstLXRoaXMuaV07XG4gICAgICAgICAgICB0aGlzLnBvcyAtPSBuZXh0Lmxlbmd0aCArIG5leHQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlcGxhY2VSYW5nZShwYXJlbnQsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBpbnNlcnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4gfSA9IHBhcmVudDtcbiAgICBsZXQgYmVmb3JlID0gY2hpbGRyZW4ubGVuZ3RoID8gY2hpbGRyZW5bZnJvbUldIDogbnVsbDtcbiAgICBsZXQgbGFzdCA9IGluc2VydC5sZW5ndGggPyBpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICBsZXQgYnJlYWtBdEVuZCA9IGxhc3QgPyBsYXN0LmJyZWFrQWZ0ZXIgOiBicmVha0F0U3RhcnQ7XG4gICAgLy8gQ2hhbmdlIHdpdGhpbiBhIHNpbmdsZSBjaGlsZFxuICAgIGlmIChmcm9tSSA9PSB0b0kgJiYgYmVmb3JlICYmICFicmVha0F0U3RhcnQgJiYgIWJyZWFrQXRFbmQgJiYgaW5zZXJ0Lmxlbmd0aCA8IDIgJiZcbiAgICAgICAgYmVmb3JlLm1lcmdlKGZyb21PZmYsIHRvT2ZmLCBpbnNlcnQubGVuZ3RoID8gbGFzdCA6IG51bGwsIGZyb21PZmYgPT0gMCwgb3BlblN0YXJ0LCBvcGVuRW5kKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0b0kgPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gY2hpbGRyZW5bdG9JXTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbmQgb2YgdGhlIGNoaWxkIGFmdGVyIHRoZSB1cGRhdGUgaXMgcHJlc2VydmVkIGluIGBhZnRlcmBcbiAgICAgICAgaWYgKGFmdGVyICYmICh0b09mZiA8IGFmdGVyLmxlbmd0aCB8fCBhZnRlci5icmVha0FmdGVyICYmIChsYXN0ID09PSBudWxsIHx8IGxhc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhc3QuYnJlYWtBZnRlcikpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBzcGxpdHRpbmcgYSBjaGlsZCwgc2VwYXJhdGUgcGFydCBvZiBpdCB0byBhdm9pZCB0aGF0XG4gICAgICAgICAgICAvLyBiZWluZyBtYW5nbGVkIHdoZW4gdXBkYXRpbmcgdGhlIGNoaWxkIGJlZm9yZSB0aGUgdXBkYXRlLlxuICAgICAgICAgICAgaWYgKGZyb21JID09IHRvSSkge1xuICAgICAgICAgICAgICAgIGFmdGVyID0gYWZ0ZXIuc3BsaXQodG9PZmYpO1xuICAgICAgICAgICAgICAgIHRvT2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGFmdGVyIHRoZSByZXBsYWNlbWVudCBzaG91bGQgYmUgbWVyZ2VkIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHJlcGxhY2luZyBlbGVtZW50LCB1cGRhdGUgYGNvbnRlbnRgXG4gICAgICAgICAgICBpZiAoIWJyZWFrQXRFbmQgJiYgbGFzdCAmJiBhZnRlci5tZXJnZSgwLCB0b09mZiwgbGFzdCwgdHJ1ZSwgMCwgb3BlbkVuZCkpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdID0gYWZ0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHN0YXJ0IG9mIHRoZSBhZnRlciBlbGVtZW50LCBpZiBuZWNlc3NhcnksIGFuZFxuICAgICAgICAgICAgICAgIC8vIGFkZCBpdCB0byBgY29udGVudGAuXG4gICAgICAgICAgICAgICAgaWYgKHRvT2ZmIHx8IGFmdGVyLmNoaWxkcmVuLmxlbmd0aCAmJiAhYWZ0ZXIuY2hpbGRyZW5bMF0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBhZnRlci5tZXJnZSgwLCB0b09mZiwgbnVsbCwgZmFsc2UsIDAsIG9wZW5FbmQpO1xuICAgICAgICAgICAgICAgIGluc2VydC5wdXNoKGFmdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZnRlciA9PT0gbnVsbCB8fCBhZnRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWZ0ZXIuYnJlYWtBZnRlcikge1xuICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgYXQgYHRvSWAgaXMgZW50aXJlbHkgY292ZXJlZCBieSB0aGlzIHJhbmdlLlxuICAgICAgICAgICAgLy8gUHJlc2VydmUgaXRzIGxpbmUgYnJlYWssIGlmIGFueS5cbiAgICAgICAgICAgIGlmIChsYXN0KVxuICAgICAgICAgICAgICAgIGxhc3QuYnJlYWtBZnRlciA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYnJlYWtBdFN0YXJ0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5jZSB3ZSd2ZSBoYW5kbGVkIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgY3VycmVudCBlbGVtZW50c1xuICAgICAgICAvLyBub3csIG1ha2Ugc3VyZSBgdG9JYCBwb2ludHMgYWZ0ZXIgdGhhdC5cbiAgICAgICAgdG9JKys7XG4gICAgfVxuICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgYmVmb3JlLmJyZWFrQWZ0ZXIgPSBicmVha0F0U3RhcnQ7XG4gICAgICAgIGlmIChmcm9tT2ZmID4gMCkge1xuICAgICAgICAgICAgaWYgKCFicmVha0F0U3RhcnQgJiYgaW5zZXJ0Lmxlbmd0aCAmJiBiZWZvcmUubWVyZ2UoZnJvbU9mZiwgYmVmb3JlLmxlbmd0aCwgaW5zZXJ0WzBdLCBmYWxzZSwgb3BlblN0YXJ0LCAwKSkge1xuICAgICAgICAgICAgICAgIGJlZm9yZS5icmVha0FmdGVyID0gaW5zZXJ0LnNoaWZ0KCkuYnJlYWtBZnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21PZmYgPCBiZWZvcmUubGVuZ3RoIHx8IGJlZm9yZS5jaGlsZHJlbi5sZW5ndGggJiYgYmVmb3JlLmNoaWxkcmVuW2JlZm9yZS5jaGlsZHJlbi5sZW5ndGggLSAxXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJlZm9yZS5tZXJnZShmcm9tT2ZmLCBiZWZvcmUubGVuZ3RoLCBudWxsLCBmYWxzZSwgb3BlblN0YXJ0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb21JKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJ5IHRvIG1lcmdlIHdpZGdldHMgb24gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHJlcGxhY2VtZW50XG4gICAgd2hpbGUgKGZyb21JIDwgdG9JICYmIGluc2VydC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW3RvSSAtIDFdLmJlY29tZShpbnNlcnRbaW5zZXJ0Lmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgdG9JLS07XG4gICAgICAgICAgICBpbnNlcnQucG9wKCk7XG4gICAgICAgICAgICBvcGVuRW5kID0gaW5zZXJ0Lmxlbmd0aCA/IDAgOiBvcGVuU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGRyZW5bZnJvbUldLmJlY29tZShpbnNlcnRbMF0pKSB7XG4gICAgICAgICAgICBmcm9tSSsrO1xuICAgICAgICAgICAgaW5zZXJ0LnNoaWZ0KCk7XG4gICAgICAgICAgICBvcGVuU3RhcnQgPSBpbnNlcnQubGVuZ3RoID8gMCA6IG9wZW5FbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWluc2VydC5sZW5ndGggJiYgZnJvbUkgJiYgdG9JIDwgY2hpbGRyZW4ubGVuZ3RoICYmICFjaGlsZHJlbltmcm9tSSAtIDFdLmJyZWFrQWZ0ZXIgJiZcbiAgICAgICAgY2hpbGRyZW5bdG9JXS5tZXJnZSgwLCAwLCBjaGlsZHJlbltmcm9tSSAtIDFdLCBmYWxzZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSlcbiAgICAgICAgZnJvbUktLTtcbiAgICBpZiAoZnJvbUkgPCB0b0kgfHwgaW5zZXJ0Lmxlbmd0aClcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZHJlbihmcm9tSSwgdG9JLCBpbnNlcnQpO1xufVxuZnVuY3Rpb24gbWVyZ2VDaGlsZHJlbkludG8ocGFyZW50LCBmcm9tLCB0bywgaW5zZXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICBsZXQgY3VyID0gcGFyZW50LmNoaWxkQ3Vyc29yKCk7XG4gICAgbGV0IHsgaTogdG9JLCBvZmY6IHRvT2ZmIH0gPSBjdXIuZmluZFBvcyh0bywgMSk7XG4gICAgbGV0IHsgaTogZnJvbUksIG9mZjogZnJvbU9mZiB9ID0gY3VyLmZpbmRQb3MoZnJvbSwgLTEpO1xuICAgIGxldCBkTGVuID0gZnJvbSAtIHRvO1xuICAgIGZvciAobGV0IHZpZXcgb2YgaW5zZXJ0KVxuICAgICAgICBkTGVuICs9IHZpZXcubGVuZ3RoO1xuICAgIHBhcmVudC5sZW5ndGggKz0gZExlbjtcbiAgICByZXBsYWNlUmFuZ2UocGFyZW50LCBmcm9tSSwgZnJvbU9mZiwgdG9JLCB0b09mZiwgaW5zZXJ0LCAwLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xufVxuXG5sZXQgbmF2ID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yIDogeyB1c2VyQWdlbnQ6IFwiXCIsIHZlbmRvcjogXCJcIiwgcGxhdGZvcm06IFwiXCIgfTtcbmxldCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogeyBkb2N1bWVudEVsZW1lbnQ6IHsgc3R5bGU6IHt9IH0gfTtcbmNvbnN0IGllX2VkZ2UgPSAvKkBfX1BVUkVfXyovL0VkZ2VcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZV91cHRvMTAgPSAvKkBfX1BVUkVfXyovL01TSUUgXFxkLy50ZXN0KG5hdi51c2VyQWdlbnQpO1xuY29uc3QgaWVfMTF1cCA9IC8qQF9fUFVSRV9fKi8vVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZSA9ICEhKGllX3VwdG8xMCB8fCBpZV8xMXVwIHx8IGllX2VkZ2UpO1xuY29uc3QgZ2Vja28gPSAhaWUgJiYgLypAX19QVVJFX18qLy9nZWNrb1xcLyhcXGQrKS9pLnRlc3QobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBjaHJvbWUgPSAhaWUgJiYgLypAX19QVVJFX18qLy9DaHJvbWVcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCk7XG5jb25zdCB3ZWJraXQgPSBcIndlYmtpdEZvbnRTbW9vdGhpbmdcIiBpbiBkb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuY29uc3Qgc2FmYXJpID0gIWllICYmIC8qQF9fUFVSRV9fKi8vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2LnZlbmRvcik7XG5jb25zdCBpb3MgPSBzYWZhcmkgJiYgKC8qQF9fUFVSRV9fKi8vTW9iaWxlXFwvXFx3Ky8udGVzdChuYXYudXNlckFnZW50KSB8fCBuYXYubWF4VG91Y2hQb2ludHMgPiAyKTtcbnZhciBicm93c2VyID0ge1xuICAgIG1hYzogaW9zIHx8IC8qQF9fUFVSRV9fKi8vTWFjLy50ZXN0KG5hdi5wbGF0Zm9ybSksXG4gICAgd2luZG93czogLypAX19QVVJFX18qLy9XaW4vLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICBsaW51eDogLypAX19QVVJFX18qLy9MaW51eHxYMTEvLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICBpZSxcbiAgICBpZV92ZXJzaW9uOiBpZV91cHRvMTAgPyBkb2MuZG9jdW1lbnRNb2RlIHx8IDYgOiBpZV8xMXVwID8gK2llXzExdXBbMV0gOiBpZV9lZGdlID8gK2llX2VkZ2VbMV0gOiAwLFxuICAgIGdlY2tvLFxuICAgIGdlY2tvX3ZlcnNpb246IGdlY2tvID8gKygvKkBfX1BVUkVfXyovL0ZpcmVmb3hcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXSA6IDAsXG4gICAgY2hyb21lOiAhIWNocm9tZSxcbiAgICBjaHJvbWVfdmVyc2lvbjogY2hyb21lID8gK2Nocm9tZVsxXSA6IDAsXG4gICAgaW9zLFxuICAgIGFuZHJvaWQ6IC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXYudXNlckFnZW50KSxcbiAgICB3ZWJraXQsXG4gICAgc2FmYXJpLFxuICAgIHdlYmtpdF92ZXJzaW9uOiB3ZWJraXQgPyArKC8qQF9fUFVSRV9fKi8vXFxiQXBwbGVXZWJLaXRcXC8oXFxkKykvLmV4ZWMobmF2LnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXSA6IDAsXG4gICAgdGFiU2l6ZTogZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZS50YWJTaXplICE9IG51bGwgPyBcInRhYi1zaXplXCIgOiBcIi1tb3otdGFiLXNpemVcIlxufTtcblxuY29uc3QgTWF4Sm9pbkxlbiA9IDI1NjtcbmNsYXNzIFRleHRWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudGV4dC5sZW5ndGg7IH1cbiAgICBjcmVhdGVET00odGV4dERPTSkge1xuICAgICAgICB0aGlzLnNldERPTSh0ZXh0RE9NIHx8IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMudGV4dCkpO1xuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURPTSgpO1xuICAgICAgICBpZiAodGhpcy5kb20ubm9kZVZhbHVlICE9IHRoaXMudGV4dCkge1xuICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLm5vZGUgPT0gdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRvbS5ub2RlVmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV1c2VET00oZG9tKSB7XG4gICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRE9NKGRvbSk7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCh0aGlzLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLykgfHxcbiAgICAgICAgICAgIHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBUZXh0VmlldykgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCAtICh0byAtIGZyb20pICsgc291cmNlLmxlbmd0aCA+IE1heEpvaW5MZW4gfHxcbiAgICAgICAgICAgICAgICAoc291cmNlLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLykpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuc2xpY2UoMCwgZnJvbSkgKyAoc291cmNlID8gc291cmNlLnRleHQgOiBcIlwiKSArIHRoaXMudGV4dC5zbGljZSh0byk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgVGV4dFZpZXcodGhpcy50ZXh0LnNsaWNlKGZyb20pKTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy50ZXh0LnNsaWNlKDAsIGZyb20pO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICByZXN1bHQuZmxhZ3MgfD0gdGhpcy5mbGFncyAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi87XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gdGhpcy5kb20gPyBvZmZzZXQgOiBvZmZzZXQgPyB0aGlzLnRleHQubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiBuZXcgRE9NUG9zKHRoaXMuZG9tLCBwb3MpOyB9XG4gICAgZG9tQm91bmRzQXJvdW5kKF9mcm9tLCBfdG8sIG9mZnNldCkge1xuICAgICAgICByZXR1cm4geyBmcm9tOiBvZmZzZXQsIHRvOiBvZmZzZXQgKyB0aGlzLmxlbmd0aCwgc3RhcnRET006IHRoaXMuZG9tLCBlbmRET006IHRoaXMuZG9tLm5leHRTaWJsaW5nIH07XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICByZXR1cm4gdGV4dENvb3Jkcyh0aGlzLmRvbSwgcG9zLCBzaWRlKTtcbiAgICB9XG59XG5jbGFzcyBNYXJrVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihtYXJrLCBjaGlsZHJlbiA9IFtdLCBsZW5ndGggPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWFyayA9IG1hcms7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgY2guc2V0UGFyZW50KHRoaXMpO1xuICAgIH1cbiAgICBzZXRBdHRycyhkb20pIHtcbiAgICAgICAgY2xlYXJBdHRyaWJ1dGVzKGRvbSk7XG4gICAgICAgIGlmICh0aGlzLm1hcmsuY2xhc3MpXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gdGhpcy5tYXJrLmNsYXNzO1xuICAgICAgICBpZiAodGhpcy5tYXJrLmF0dHJzKVxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLm1hcmsuYXR0cnMpXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB0aGlzLm1hcmsuYXR0cnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gZG9tO1xuICAgIH1cbiAgICBjYW5SZXVzZURPTShvdGhlcikge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2FuUmV1c2VET00ob3RoZXIpICYmICEoKHRoaXMuZmxhZ3MgfCBvdGhlci5mbGFncykgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKTtcbiAgICB9XG4gICAgcmV1c2VET00obm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSB0aGlzLm1hcmsudGFnTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovIHwgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luYyh2aWV3LCB0cmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy5zZXRBdHRycyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubWFyay50YWdOYW1lKSkpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovKVxuICAgICAgICAgICAgdGhpcy5zZXRBdHRycyh0aGlzLmRvbSk7XG4gICAgICAgIHN1cGVyLnN5bmModmlldywgdHJhY2spO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBfaGFzU3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIHNvdXJjZS5tYXJrLmVxKHRoaXMubWFyaykpIHx8XG4gICAgICAgICAgICAoZnJvbSAmJiBvcGVuU3RhcnQgPD0gMCkgfHwgKHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIG1lcmdlQ2hpbGRyZW5JbnRvKHRoaXMsIGZyb20sIHRvLCBzb3VyY2UgPyBzb3VyY2UuY2hpbGRyZW4uc2xpY2UoKSA6IFtdLCBvcGVuU3RhcnQgLSAxLCBvcGVuRW5kIC0gMSk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgb2ZmID0gMCwgZGV0YWNoRnJvbSA9IC0xLCBpID0gMDtcbiAgICAgICAgZm9yIChsZXQgZWx0IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBvZmYgKyBlbHQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IGZyb20pXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2ZmIDwgZnJvbSA/IGVsdC5zcGxpdChmcm9tIC0gb2ZmKSA6IGVsdCk7XG4gICAgICAgICAgICBpZiAoZGV0YWNoRnJvbSA8IDAgJiYgb2ZmID49IGZyb20pXG4gICAgICAgICAgICAgICAgZGV0YWNoRnJvbSA9IGk7XG4gICAgICAgICAgICBvZmYgPSBlbmQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubGVuZ3RoIC0gZnJvbTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tO1xuICAgICAgICBpZiAoZGV0YWNoRnJvbSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IGRldGFjaEZyb207XG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTWFya1ZpZXcodGhpcy5tYXJrLCByZXN1bHQsIGxlbmd0aCk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gaW5saW5lRE9NQXRQb3ModGhpcywgcG9zKTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiBjb29yZHNJbkNoaWxkcmVuKHRoaXMsIHBvcywgc2lkZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGV4dENvb3Jkcyh0ZXh0LCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgbGVuZ3RoID0gdGV4dC5ub2RlVmFsdWUubGVuZ3RoO1xuICAgIGlmIChwb3MgPiBsZW5ndGgpXG4gICAgICAgIHBvcyA9IGxlbmd0aDtcbiAgICBsZXQgZnJvbSA9IHBvcywgdG8gPSBwb3MsIGZsYXR0ZW4gPSAwO1xuICAgIGlmIChwb3MgPT0gMCAmJiBzaWRlIDwgMCB8fCBwb3MgPT0gbGVuZ3RoICYmIHNpZGUgPj0gMCkge1xuICAgICAgICBpZiAoIShicm93c2VyLmNocm9tZSB8fCBicm93c2VyLmdlY2tvKSkgeyAvLyBUaGVzZSBicm93c2VycyByZWxpYWJseSByZXR1cm4gdmFsaWQgcmVjdGFuZ2xlcyBmb3IgZW1wdHkgcmFuZ2VzXG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgZnJvbS0tO1xuICAgICAgICAgICAgICAgIGZsYXR0ZW4gPSAxO1xuICAgICAgICAgICAgfSAvLyBGSVhNRSB0aGlzIGlzIHdyb25nIGluIFJUTCB0ZXh0XG4gICAgICAgICAgICBlbHNlIGlmICh0byA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICAgICAgZmxhdHRlbiA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoc2lkZSA8IDApXG4gICAgICAgICAgICBmcm9tLS07XG4gICAgICAgIGVsc2UgaWYgKHRvIDwgbGVuZ3RoKVxuICAgICAgICAgICAgdG8rKztcbiAgICB9XG4gICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKHRleHQsIGZyb20sIHRvKS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgcmVjdCA9IHJlY3RzWyhmbGF0dGVuID8gZmxhdHRlbiA8IDAgOiBzaWRlID49IDApID8gMCA6IHJlY3RzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiAhZmxhdHRlbiAmJiByZWN0LndpZHRoID09IDApXG4gICAgICAgIHJlY3QgPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKHJlY3RzLCByID0+IHIud2lkdGgpIHx8IHJlY3Q7XG4gICAgcmV0dXJuIGZsYXR0ZW4gPyBmbGF0dGVuUmVjdChyZWN0LCBmbGF0dGVuIDwgMCkgOiByZWN0IHx8IG51bGw7XG59XG4vLyBBbHNvIHVzZWQgZm9yIGNvbGxhcHNlZCByYW5nZXMgdGhhdCBkb24ndCBoYXZlIGEgcGxhY2Vob2xkZXIgd2lkZ2V0IVxuY2xhc3MgV2lkZ2V0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBzdGF0aWMgY3JlYXRlKHdpZGdldCwgbGVuZ3RoLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2lkZ2V0Vmlldyh3aWRnZXQsIGxlbmd0aCwgc2lkZSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHdpZGdldCwgbGVuZ3RoLCBzaWRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5zaWRlID0gc2lkZTtcbiAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgc3BsaXQoZnJvbSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gV2lkZ2V0Vmlldy5jcmVhdGUodGhpcy53aWRnZXQsIHRoaXMubGVuZ3RoIC0gZnJvbSwgdGhpcy5zaWRlKTtcbiAgICAgICAgdGhpcy5sZW5ndGggLT0gZnJvbTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3luYyh2aWV3KSB7XG4gICAgICAgIGlmICghdGhpcy5kb20gfHwgIXRoaXMud2lkZ2V0LnVwZGF0ZURPTSh0aGlzLmRvbSwgdmlldykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiB0aGlzLnByZXZXaWRnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKHRoaXMud2lkZ2V0LnRvRE9NKHZpZXcpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy53aWRnZXQuZWRpdGFibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5kb20uY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNpZGUoKSB7IHJldHVybiB0aGlzLnNpZGU7IH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBoYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgV2lkZ2V0VmlldykgfHwgIXRoaXMud2lkZ2V0LmNvbXBhcmUoc291cmNlLndpZGdldCkgfHxcbiAgICAgICAgICAgIGZyb20gPiAwICYmIG9wZW5TdGFydCA8PSAwIHx8IHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tICsgKHNvdXJjZSA/IHNvdXJjZS5sZW5ndGggOiAwKSArICh0aGlzLmxlbmd0aCAtIHRvKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGJlY29tZShvdGhlcikge1xuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBXaWRnZXRWaWV3ICYmIG90aGVyLnNpZGUgPT0gdGhpcy5zaWRlICYmXG4gICAgICAgICAgICB0aGlzLndpZGdldC5jb25zdHJ1Y3RvciA9PSBvdGhlci53aWRnZXQuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy53aWRnZXQuY29tcGFyZShvdGhlci53aWRnZXQpKVxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KHRydWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmICF0aGlzLnByZXZXaWRnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gdGhpcy53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLndpZGdldCA9IG90aGVyLndpZGdldDtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaWdub3JlRXZlbnQoZXZlbnQpOyB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gVGV4dC5lbXB0eTtcbiAgICAgICAgbGV0IHRvcCA9IHRoaXM7XG4gICAgICAgIHdoaWxlICh0b3AucGFyZW50KVxuICAgICAgICAgICAgdG9wID0gdG9wLnBhcmVudDtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdG9wLCB0ZXh0ID0gdmlldyAmJiB2aWV3LnN0YXRlLmRvYywgc3RhcnQgPSB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgIHJldHVybiB0ZXh0ID8gdGV4dC5zbGljZShzdGFydCwgc3RhcnQgKyB0aGlzLmxlbmd0aCkgOiBUZXh0LmVtcHR5O1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxlbmd0aCA/IHBvcyA9PSAwIDogdGhpcy5zaWRlID4gMClcbiAgICAgICAgICAgID8gRE9NUG9zLmJlZm9yZSh0aGlzLmRvbSlcbiAgICAgICAgICAgIDogRE9NUG9zLmFmdGVyKHRoaXMuZG9tLCBwb3MgPT0gdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCBjdXN0b20gPSB0aGlzLndpZGdldC5jb29yZHNBdCh0aGlzLmRvbSwgcG9zLCBzaWRlKTtcbiAgICAgICAgaWYgKGN1c3RvbSlcbiAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgIGxldCByZWN0cyA9IHRoaXMuZG9tLmdldENsaWVudFJlY3RzKCksIHJlY3QgPSBudWxsO1xuICAgICAgICBpZiAoIXJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgZnJvbUJhY2sgPSB0aGlzLnNpZGUgPyB0aGlzLnNpZGUgPCAwIDogcG9zID4gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb21CYWNrID8gcmVjdHMubGVuZ3RoIC0gMSA6IDA7OyBpICs9IChmcm9tQmFjayA/IC0xIDogMSkpIHtcbiAgICAgICAgICAgIHJlY3QgPSByZWN0c1tpXTtcbiAgICAgICAgICAgIGlmIChwb3MgPiAwID8gaSA9PSAwIDogaSA9PSByZWN0cy5sZW5ndGggLSAxIHx8IHJlY3QudG9wIDwgcmVjdC5ib3R0b20pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5SZWN0KHJlY3QsICFmcm9tQmFjayk7XG4gICAgfVxuICAgIGdldCBpc0VkaXRhYmxlKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaXNXaWRnZXQoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaXNIaWRkZW47IH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgIH1cbn1cbi8vIFRoZXNlIGFyZSBkcmF3biBhcm91bmQgdW5lZGl0YWJsZSB3aWRnZXRzIHRvIGF2b2lkIGEgbnVtYmVyIG9mXG4vLyBicm93c2VyIGJ1Z3MgdGhhdCBzaG93IHVwIHdoZW4gdGhlIGN1cnNvciBpcyBkaXJlY3RseSBuZXh0IHRvXG4vLyB1bmVkaXRhYmxlIGlubGluZSBjb250ZW50LlxuY2xhc3MgV2lkZ2V0QnVmZmVyVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihzaWRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2lkZSA9IHNpZGU7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiAwOyB9XG4gICAgbWVyZ2UoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGJlY29tZShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBXaWRnZXRCdWZmZXJWaWV3ICYmIG90aGVyLnNpZGUgPT0gdGhpcy5zaWRlO1xuICAgIH1cbiAgICBzcGxpdCgpIHsgcmV0dXJuIG5ldyBXaWRnZXRCdWZmZXJWaWV3KHRoaXMuc2lkZSk7IH1cbiAgICBzeW5jKCkge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBcImNtLXdpZGdldEJ1ZmZlclwiO1xuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKGRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIGRvbUF0UG9zKHBvcykgeyByZXR1cm4gdGhpcy5zaWRlID4gMCA/IERPTVBvcy5iZWZvcmUodGhpcy5kb20pIDogRE9NUG9zLmFmdGVyKHRoaXMuZG9tKTsgfVxuICAgIGxvY2FsUG9zRnJvbURPTSgpIHsgcmV0dXJuIDA7IH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgY29vcmRzQXQocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGdldCBpc0hpZGRlbigpIHsgcmV0dXJuIHRydWU7IH1cbn1cblRleHRWaWV3LnByb3RvdHlwZS5jaGlsZHJlbiA9IFdpZGdldFZpZXcucHJvdG90eXBlLmNoaWxkcmVuID0gV2lkZ2V0QnVmZmVyVmlldy5wcm90b3R5cGUuY2hpbGRyZW4gPSBub0NoaWxkcmVuO1xuZnVuY3Rpb24gaW5saW5lRE9NQXRQb3MocGFyZW50LCBwb3MpIHtcbiAgICBsZXQgZG9tID0gcGFyZW50LmRvbSwgeyBjaGlsZHJlbiB9ID0gcGFyZW50LCBpID0gMDtcbiAgICBmb3IgKGxldCBvZmYgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV0sIGVuZCA9IG9mZiArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgaWYgKGVuZCA9PSBvZmYgJiYgY2hpbGQuZ2V0U2lkZSgpIDw9IDApXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKHBvcyA+IG9mZiAmJiBwb3MgPCBlbmQgJiYgY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRvbUF0UG9zKHBvcyAtIG9mZik7XG4gICAgICAgIGlmIChwb3MgPD0gb2ZmKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG9mZiA9IGVuZDtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPiAwOyBqLS0pIHtcbiAgICAgICAgbGV0IHByZXYgPSBjaGlsZHJlbltqIC0gMV07XG4gICAgICAgIGlmIChwcmV2LmRvbS5wYXJlbnROb2RlID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmRvbUF0UG9zKHByZXYubGVuZ3RoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgbmV4dCA9IGNoaWxkcmVuW2pdO1xuICAgICAgICBpZiAobmV4dC5kb20ucGFyZW50Tm9kZSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm4gbmV4dC5kb21BdFBvcygwKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBET01Qb3MoZG9tLCAwKTtcbn1cbi8vIEFzc3VtZXMgYHZpZXdgLCBpZiBhIG1hcmsgdmlldywgaGFzIHByZWNpc2VseSAxIGNoaWxkLlxuZnVuY3Rpb24gam9pbklubGluZUludG8ocGFyZW50LCB2aWV3LCBvcGVuKSB7XG4gICAgbGV0IGxhc3QsIHsgY2hpbGRyZW4gfSA9IHBhcmVudDtcbiAgICBpZiAob3BlbiA+IDAgJiYgdmlldyBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIGNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAobGFzdCA9IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdKSBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIGxhc3QubWFyay5lcSh2aWV3Lm1hcmspKSB7XG4gICAgICAgIGpvaW5JbmxpbmVJbnRvKGxhc3QsIHZpZXcuY2hpbGRyZW5bMF0sIG9wZW4gLSAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuc2V0UGFyZW50KHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudC5sZW5ndGggKz0gdmlldy5sZW5ndGg7XG59XG5mdW5jdGlvbiBjb29yZHNJbkNoaWxkcmVuKHZpZXcsIHBvcywgc2lkZSkge1xuICAgIGxldCBiZWZvcmUgPSBudWxsLCBiZWZvcmVQb3MgPSAtMSwgYWZ0ZXIgPSBudWxsLCBhZnRlclBvcyA9IC0xO1xuICAgIGZ1bmN0aW9uIHNjYW4odmlldywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgdmlldy5jaGlsZHJlbi5sZW5ndGggJiYgb2ZmIDw9IHBvczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB2aWV3LmNoaWxkcmVuW2ldLCBlbmQgPSBvZmYgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID49IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbihjaGlsZCwgcG9zIC0gb2ZmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKCFhZnRlciB8fCBhZnRlci5pc0hpZGRlbiAmJiBzaWRlID4gMCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGVuZCA+IHBvcyB8fCBvZmYgPT0gZW5kICYmIGNoaWxkLmdldFNpZGUoKSA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyUG9zID0gcG9zIC0gb2ZmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvZmYgPCBwb3MgfHwgKG9mZiA9PSBlbmQgJiYgY2hpbGQuZ2V0U2lkZSgpIDwgMCkgJiYgIWNoaWxkLmlzSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVQb3MgPSBwb3MgLSBvZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gZW5kO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjYW4odmlldywgcG9zKTtcbiAgICBsZXQgdGFyZ2V0ID0gKHNpZGUgPCAwID8gYmVmb3JlIDogYWZ0ZXIpIHx8IGJlZm9yZSB8fCBhZnRlcjtcbiAgICBpZiAodGFyZ2V0KVxuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvb3Jkc0F0KE1hdGgubWF4KDAsIHRhcmdldCA9PSBiZWZvcmUgPyBiZWZvcmVQb3MgOiBhZnRlclBvcyksIHNpZGUpO1xuICAgIHJldHVybiBmYWxsYmFja1JlY3Qodmlldyk7XG59XG5mdW5jdGlvbiBmYWxsYmFja1JlY3Qodmlldykge1xuICAgIGxldCBsYXN0ID0gdmlldy5kb20ubGFzdENoaWxkO1xuICAgIGlmICghbGFzdClcbiAgICAgICAgcmV0dXJuIHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGxhc3QpO1xuICAgIHJldHVybiByZWN0c1tyZWN0cy5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBjb21iaW5lQXR0cnMoc291cmNlLCB0YXJnZXQpIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIHNvdXJjZSkge1xuICAgICAgICBpZiAobmFtZSA9PSBcImNsYXNzXCIgJiYgdGFyZ2V0LmNsYXNzKVxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzICs9IFwiIFwiICsgc291cmNlLmNsYXNzO1xuICAgICAgICBlbHNlIGlmIChuYW1lID09IFwic3R5bGVcIiAmJiB0YXJnZXQuc3R5bGUpXG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUgKz0gXCI7XCIgKyBzb3VyY2Uuc3R5bGU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHNvdXJjZVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmNvbnN0IG5vQXR0cnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGF0dHJzRXEoYSwgYiwgaWdub3JlKSB7XG4gICAgaWYgKGEgPT0gYilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFhKVxuICAgICAgICBhID0gbm9BdHRycztcbiAgICBpZiAoIWIpXG4gICAgICAgIGIgPSBub0F0dHJzO1xuICAgIGxldCBrZXlzQSA9IE9iamVjdC5rZXlzKGEpLCBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggLSAoaWdub3JlICYmIGtleXNBLmluZGV4T2YoaWdub3JlKSA+IC0xID8gMSA6IDApICE9XG4gICAgICAgIGtleXNCLmxlbmd0aCAtIChpZ25vcmUgJiYga2V5c0IuaW5kZXhPZihpZ25vcmUpID4gLTEgPyAxIDogMCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5c0EpIHtcbiAgICAgICAgaWYgKGtleSAhPSBpZ25vcmUgJiYgKGtleXNCLmluZGV4T2Yoa2V5KSA9PSAtMSB8fCBhW2tleV0gIT09IGJba2V5XSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdXBkYXRlQXR0cnMoZG9tLCBwcmV2LCBhdHRycykge1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgaWYgKHByZXYpXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gcHJldilcbiAgICAgICAgICAgIGlmICghKGF0dHJzICYmIG5hbWUgaW4gYXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKVxuICAgICAgICAgICAgICAgICAgICBkb20uc3R5bGUuY3NzVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgIGlmIChhdHRycylcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBhdHRycylcbiAgICAgICAgICAgIGlmICghKHByZXYgJiYgcHJldltuYW1lXSA9PSBhdHRyc1tuYW1lXSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcInN0eWxlXCIpXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gYXR0cnNbbmFtZV07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKG5hbWUsIGF0dHJzW25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbn1cbmZ1bmN0aW9uIGdldEF0dHJzKGRvbSkge1xuICAgIGxldCBhdHRycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYXR0ciA9IGRvbS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICBhdHRyc1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJzO1xufVxuXG4vKipcbldpZGdldHMgYWRkZWQgdG8gdGhlIGNvbnRlbnQgYXJlIGRlc2NyaWJlZCBieSBzdWJjbGFzc2VzIG9mIHRoaXNcbmNsYXNzLiBVc2luZyBhIGRlc2NyaXB0aW9uIG9iamVjdCBsaWtlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG9cbmRlbGF5IGNyZWF0aW5nIG9mIHRoZSBET00gc3RydWN0dXJlIGZvciBhIHdpZGdldCB1bnRpbCBpdCBpc1xubmVlZGVkLCBhbmQgdG8gYXZvaWQgcmVkcmF3aW5nIHdpZGdldHMgZXZlbiBpZiB0aGUgZGVjb3JhdGlvbnNcbnRoYXQgZGVmaW5lIHRoZW0gYXJlIHJlY3JlYXRlZC5cbiovXG5jbGFzcyBXaWRnZXRUeXBlIHtcbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgaW5zdGFuY2UgdG8gYW5vdGhlciBpbnN0YW5jZSBvZiB0aGUgc2FtZSB0eXBlLlxuICAgIChUeXBlU2NyaXB0IGNhbid0IGV4cHJlc3MgdGhpcywgYnV0IG9ubHkgaW5zdGFuY2VzIG9mIHRoZSBzYW1lXG4gICAgc3BlY2lmaWMgY2xhc3Mgd2lsbCBiZSBwYXNzZWQgdG8gdGhpcyBtZXRob2QuKSBUaGlzIGlzIHVzZWQgdG9cbiAgICBhdm9pZCByZWRyYXdpbmcgd2lkZ2V0cyB3aGVuIHRoZXkgYXJlIHJlcGxhY2VkIGJ5IGEgbmV3XG4gICAgZGVjb3JhdGlvbiBvZiB0aGUgc2FtZSB0eXBlLiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBqdXN0XG4gICAgcmV0dXJucyBgZmFsc2VgLCB3aGljaCB3aWxsIGNhdXNlIG5ldyBpbnN0YW5jZXMgb2YgdGhlIHdpZGdldCB0b1xuICAgIGFsd2F5cyBiZSByZWRyYXduLlxuICAgICovXG4gICAgZXEod2lkZ2V0KSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSBhIERPTSBlbGVtZW50IGNyZWF0ZWQgYnkgYSB3aWRnZXQgb2YgdGhlIHNhbWUgdHlwZSAoYnV0XG4gICAgZGlmZmVyZW50LCBub24tYGVxYCBjb250ZW50KSB0byByZWZsZWN0IHRoaXMgd2lkZ2V0LiBNYXkgcmV0dXJuXG4gICAgdHJ1ZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGNvdWxkIHVwZGF0ZSwgZmFsc2UgdG8gaW5kaWNhdGUgaXRcbiAgICBjb3VsZG4ndCAoaW4gd2hpY2ggY2FzZSB0aGUgd2lkZ2V0IHdpbGwgYmUgcmVkcmF3bikuIFRoZSBkZWZhdWx0XG4gICAgaW1wbGVtZW50YXRpb24ganVzdCByZXR1cm5zIGZhbHNlLlxuICAgICovXG4gICAgdXBkYXRlRE9NKGRvbSwgdmlldykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgdGhpcy5jb25zdHJ1Y3RvciA9PSBvdGhlci5jb25zdHJ1Y3RvciAmJiB0aGlzLmVxKG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGVzdGltYXRlZCBoZWlnaHQgdGhpcyB3aWRnZXQgd2lsbCBoYXZlLCB0byBiZSB1c2VkIHdoZW5cbiAgICBlc3RpbWF0aW5nIHRoZSBoZWlnaHQgb2YgY29udGVudCB0aGF0IGhhc24ndCBiZWVuIGRyYXduLiBNYXlcbiAgICByZXR1cm4gLTEgdG8gaW5kaWNhdGUgeW91IGRvbid0IGtub3cuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uXG4gICAgcmV0dXJucyAtMS5cbiAgICAqL1xuICAgIGdldCBlc3RpbWF0ZWRIZWlnaHQoKSB7IHJldHVybiAtMTsgfVxuICAgIC8qKlxuICAgIEZvciBpbmxpbmUgd2lkZ2V0cyB0aGF0IGFyZSBkaXNwbGF5ZWQgaW5saW5lIChhcyBvcHBvc2VkIHRvXG4gICAgYGlubGluZS1ibG9ja2ApIGFuZCBpbnRyb2R1Y2UgbGluZSBicmVha3MgKHRocm91Z2ggYDxicj5gIHRhZ3NcbiAgICBvciB0ZXh0dWFsIG5ld2xpbmVzKSwgdGhpcyBtdXN0IGluZGljYXRlIHRoZSBhbW91bnQgb2YgbGluZVxuICAgIGJyZWFrcyB0aGV5IGludHJvZHVjZS4gRGVmYXVsdHMgdG8gMC5cbiAgICAqL1xuICAgIGdldCBsaW5lQnJlYWtzKCkgeyByZXR1cm4gMDsgfVxuICAgIC8qKlxuICAgIENhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSB3aGljaCBraW5kcyBvZiBldmVudHMgaW5zaWRlIHRoZSB3aWRnZXRcbiAgICBzaG91bGQgYmUgaWdub3JlZCBieSB0aGUgZWRpdG9yLiBUaGUgZGVmYXVsdCBpcyB0byBpZ25vcmUgYWxsXG4gICAgZXZlbnRzLlxuICAgICovXG4gICAgaWdub3JlRXZlbnQoZXZlbnQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvKipcbiAgICBPdmVycmlkZSB0aGUgd2F5IHNjcmVlbiBjb29yZGluYXRlcyBmb3IgcG9zaXRpb25zIGF0L2luIHRoZVxuICAgIHdpZGdldCBhcmUgZm91bmQuIGBwb3NgIHdpbGwgYmUgdGhlIG9mZnNldCBpbnRvIHRoZSB3aWRnZXQsIGFuZFxuICAgIGBzaWRlYCB0aGUgc2lkZSBvZiB0aGUgcG9zaXRpb24gdGhhdCBpcyBiZWluZyBxdWVyaWVk4oCUbGVzcyB0aGFuXG4gICAgemVybyBmb3IgYmVmb3JlLCBncmVhdGVyIHRoYW4gemVybyBmb3IgYWZ0ZXIsIGFuZCB6ZXJvIGZvclxuICAgIGRpcmVjdGx5IGF0IHRoYXQgcG9zaXRpb24uXG4gICAgKi9cbiAgICBjb29yZHNBdChkb20sIHBvcywgc2lkZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBlZGl0YWJsZSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgVGhpcyBpcyBjYWxsZWQgd2hlbiB0aGUgYW4gaW5zdGFuY2Ugb2YgdGhlIHdpZGdldCBpcyByZW1vdmVkXG4gICAgZnJvbSB0aGUgZWRpdG9yIHZpZXcuXG4gICAgKi9cbiAgICBkZXN0cm95KGRvbSkgeyB9XG59XG4vKipcblRoZSBkaWZmZXJlbnQgdHlwZXMgb2YgYmxvY2tzIHRoYXQgY2FuIG9jY3VyIGluIGFuIGVkaXRvciB2aWV3LlxuKi9cbnZhciBCbG9ja1R5cGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCbG9ja1R5cGUpIHtcbiAgICAvKipcbiAgICBBIGxpbmUgb2YgdGV4dC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJUZXh0XCJdID0gMF0gPSBcIlRleHRcIjtcbiAgICAvKipcbiAgICBBIGJsb2NrIHdpZGdldCBhc3NvY2lhdGVkIHdpdGggdGhlIHBvc2l0aW9uIGFmdGVyIGl0LlxuICAgICovXG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIldpZGdldEJlZm9yZVwiXSA9IDFdID0gXCJXaWRnZXRCZWZvcmVcIjtcbiAgICAvKipcbiAgICBBIGJsb2NrIHdpZGdldCBhc3NvY2lhdGVkIHdpdGggdGhlIHBvc2l0aW9uIGJlZm9yZSBpdC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXaWRnZXRBZnRlclwiXSA9IDJdID0gXCJXaWRnZXRBZnRlclwiO1xuICAgIC8qKlxuICAgIEEgYmxvY2sgd2lkZ2V0IFtyZXBsYWNpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uXnJlcGxhY2UpIGEgcmFuZ2Ugb2YgY29udGVudC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXaWRnZXRSYW5nZVwiXSA9IDNdID0gXCJXaWRnZXRSYW5nZVwiO1xucmV0dXJuIEJsb2NrVHlwZX0pKEJsb2NrVHlwZSB8fCAoQmxvY2tUeXBlID0ge30pKTtcbi8qKlxuQSBkZWNvcmF0aW9uIHByb3ZpZGVzIGluZm9ybWF0aW9uIG9uIGhvdyB0byBkcmF3IG9yIHN0eWxlIGEgcGllY2Vcbm9mIGNvbnRlbnQuIFlvdSdsbCB1c3VhbGx5IHVzZSBpdCB3cmFwcGVkIGluIGFcbltgUmFuZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSwgd2hpY2ggYWRkcyBhIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb24uXG5Abm9uYWJzdHJhY3RcbiovXG5jbGFzcyBEZWNvcmF0aW9uIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGFydFNpZGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZW5kU2lkZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB3aWRnZXQsIFxuICAgIC8qKlxuICAgIFRoZSBjb25maWcgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMgZGVjb3JhdGlvbi4gWW91IGNhblxuICAgIGluY2x1ZGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGluIHRoZXJlIHRvIHN0b3JlIG1ldGFkYXRhIGFib3V0XG4gICAgeW91ciBkZWNvcmF0aW9uLlxuICAgICovXG4gICAgc3BlYykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXJ0U2lkZSA9IHN0YXJ0U2lkZTtcbiAgICAgICAgdGhpcy5lbmRTaWRlID0gZW5kU2lkZTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGhlaWdodFJlbGV2YW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBtYXJrIGRlY29yYXRpb24sIHdoaWNoIGluZmx1ZW5jZXMgdGhlIHN0eWxpbmcgb2YgdGhlXG4gICAgY29udGVudCBpbiBpdHMgcmFuZ2UuIE5lc3RlZCBtYXJrIGRlY29yYXRpb25zIHdpbGwgY2F1c2UgbmVzdGVkXG4gICAgRE9NIGVsZW1lbnRzIHRvIGJlIGNyZWF0ZWQuIE5lc3Rpbmcgb3JkZXIgaXMgZGV0ZXJtaW5lZCBieVxuICAgIHByZWNlZGVuY2Ugb2YgdGhlIFtmYWNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdeZGVjb3JhdGlvbnMpLCB3aXRoXG4gICAgdGhlIGhpZ2hlci1wcmVjZWRlbmNlIGRlY29yYXRpb25zIGNyZWF0aW5nIHRoZSBpbm5lciBET00gbm9kZXMuXG4gICAgU3VjaCBlbGVtZW50cyBhcmUgc3BsaXQgb24gbGluZSBib3VuZGFyaWVzIGFuZCBvbiB0aGUgYm91bmRhcmllc1xuICAgIG9mIGxvd2VyLXByZWNlZGVuY2UgZGVjb3JhdGlvbnMuXG4gICAgKi9cbiAgICBzdGF0aWMgbWFyayhzcGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFya0RlY29yYXRpb24oc3BlYyk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHdpZGdldCBkZWNvcmF0aW9uLCB3aGljaCBkaXNwbGF5cyBhIERPTSBlbGVtZW50IGF0IHRoZVxuICAgIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgc3RhdGljIHdpZGdldChzcGVjKSB7XG4gICAgICAgIGxldCBzaWRlID0gTWF0aC5tYXgoLTEwMDAwLCBNYXRoLm1pbigxMDAwMCwgc3BlYy5zaWRlIHx8IDApKSwgYmxvY2sgPSAhIXNwZWMuYmxvY2s7XG4gICAgICAgIHNpZGUgKz0gKGJsb2NrICYmICFzcGVjLmlubGluZU9yZGVyKVxuICAgICAgICAgICAgPyAoc2lkZSA+IDAgPyAzMDAwMDAwMDAgLyogU2lkZS5CbG9ja0FmdGVyICovIDogLTQwMDAwMDAwMCAvKiBTaWRlLkJsb2NrQmVmb3JlICovKVxuICAgICAgICAgICAgOiAoc2lkZSA+IDAgPyAxMDAwMDAwMDAgLyogU2lkZS5JbmxpbmVBZnRlciAqLyA6IC0xMDAwMDAwMDAgLyogU2lkZS5JbmxpbmVCZWZvcmUgKi8pO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50RGVjb3JhdGlvbihzcGVjLCBzaWRlLCBzaWRlLCBibG9jaywgc3BlYy53aWRnZXQgfHwgbnVsbCwgZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSByZXBsYWNlIGRlY29yYXRpb24gd2hpY2ggcmVwbGFjZXMgdGhlIGdpdmVuIHJhbmdlIHdpdGhcbiAgICBhIHdpZGdldCwgb3Igc2ltcGx5IGhpZGVzIGl0LlxuICAgICovXG4gICAgc3RhdGljIHJlcGxhY2Uoc3BlYykge1xuICAgICAgICBsZXQgYmxvY2sgPSAhIXNwZWMuYmxvY2ssIHN0YXJ0U2lkZSwgZW5kU2lkZTtcbiAgICAgICAgaWYgKHNwZWMuaXNCbG9ja0dhcCkge1xuICAgICAgICAgICAgc3RhcnRTaWRlID0gLTUwMDAwMDAwMCAvKiBTaWRlLkdhcFN0YXJ0ICovO1xuICAgICAgICAgICAgZW5kU2lkZSA9IDQwMDAwMDAwMCAvKiBTaWRlLkdhcEVuZCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCB7IHN0YXJ0LCBlbmQgfSA9IGdldEluY2x1c2l2ZShzcGVjLCBibG9jayk7XG4gICAgICAgICAgICBzdGFydFNpZGUgPSAoc3RhcnQgPyAoYmxvY2sgPyAtMzAwMDAwMDAwIC8qIFNpZGUuQmxvY2tJbmNTdGFydCAqLyA6IC0xIC8qIFNpZGUuSW5saW5lSW5jU3RhcnQgKi8pIDogNTAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jU3RhcnQgKi8pIC0gMTtcbiAgICAgICAgICAgIGVuZFNpZGUgPSAoZW5kID8gKGJsb2NrID8gMjAwMDAwMDAwIC8qIFNpZGUuQmxvY2tJbmNFbmQgKi8gOiAxIC8qIFNpZGUuSW5saW5lSW5jRW5kICovKSA6IC02MDAwMDAwMDAgLyogU2lkZS5Ob25JbmNFbmQgKi8pICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvaW50RGVjb3JhdGlvbihzcGVjLCBzdGFydFNpZGUsIGVuZFNpZGUsIGJsb2NrLCBzcGVjLndpZGdldCB8fCBudWxsLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGluZSBkZWNvcmF0aW9uLCB3aGljaCBjYW4gYWRkIERPTSBhdHRyaWJ1dGVzIHRvIHRoZVxuICAgIGxpbmUgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGxpbmUoc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVEZWNvcmF0aW9uKHNwZWMpO1xuICAgIH1cbiAgICAvKipcbiAgICBCdWlsZCBhIFtgRGVjb3JhdGlvblNldGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uU2V0KSBmcm9tIHRoZSBnaXZlblxuICAgIGRlY29yYXRlZCByYW5nZSBvciByYW5nZXMuIElmIHRoZSByYW5nZXMgYXJlbid0IGFscmVhZHkgc29ydGVkLFxuICAgIHBhc3MgYHRydWVgIGZvciBgc29ydGAgdG8gbWFrZSB0aGUgbGlicmFyeSBzb3J0IHRoZW0gZm9yIHlvdS5cbiAgICAqL1xuICAgIHN0YXRpYyBzZXQob2YsIHNvcnQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2VTZXQub2Yob2YsIHNvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGhhc0hlaWdodCgpIHsgcmV0dXJuIHRoaXMud2lkZ2V0ID8gdGhpcy53aWRnZXQuZXN0aW1hdGVkSGVpZ2h0ID4gLTEgOiBmYWxzZTsgfVxufVxuLyoqXG5UaGUgZW1wdHkgc2V0IG9mIGRlY29yYXRpb25zLlxuKi9cbkRlY29yYXRpb24ubm9uZSA9IFJhbmdlU2V0LmVtcHR5O1xuY2xhc3MgTWFya0RlY29yYXRpb24gZXh0ZW5kcyBEZWNvcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIGxldCB7IHN0YXJ0LCBlbmQgfSA9IGdldEluY2x1c2l2ZShzcGVjKTtcbiAgICAgICAgc3VwZXIoc3RhcnQgPyAtMSAvKiBTaWRlLklubGluZUluY1N0YXJ0ICovIDogNTAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jU3RhcnQgKi8sIGVuZCA/IDEgLyogU2lkZS5JbmxpbmVJbmNFbmQgKi8gOiAtNjAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jRW5kICovLCBudWxsLCBzcGVjKTtcbiAgICAgICAgdGhpcy50YWdOYW1lID0gc3BlYy50YWdOYW1lIHx8IFwic3BhblwiO1xuICAgICAgICB0aGlzLmNsYXNzID0gc3BlYy5jbGFzcyB8fCBcIlwiO1xuICAgICAgICB0aGlzLmF0dHJzID0gc3BlYy5hdHRyaWJ1dGVzIHx8IG51bGw7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgICAgICAgICBvdGhlciBpbnN0YW5jZW9mIE1hcmtEZWNvcmF0aW9uICYmXG4gICAgICAgICAgICAgICAgdGhpcy50YWdOYW1lID09IG90aGVyLnRhZ05hbWUgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5jbGFzcyB8fCAoKF9hID0gdGhpcy5hdHRycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzKSkgPT0gKG90aGVyLmNsYXNzIHx8ICgoX2IgPSBvdGhlci5hdHRycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzKSkgJiZcbiAgICAgICAgICAgICAgICBhdHRyc0VxKHRoaXMuYXR0cnMsIG90aGVyLmF0dHJzLCBcImNsYXNzXCIpO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKGZyb20gPj0gdG8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk1hcmsgZGVjb3JhdGlvbnMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5NYXJrRGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSBmYWxzZTtcbmNsYXNzIExpbmVEZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICBzdXBlcigtMjAwMDAwMDAwIC8qIFNpZGUuTGluZSAqLywgLTIwMDAwMDAwMCAvKiBTaWRlLkxpbmUgKi8sIG51bGwsIHNwZWMpO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBMaW5lRGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgdGhpcy5zcGVjLmNsYXNzID09IG90aGVyLnNwZWMuY2xhc3MgJiZcbiAgICAgICAgICAgIGF0dHJzRXEodGhpcy5zcGVjLmF0dHJpYnV0ZXMsIG90aGVyLnNwZWMuYXR0cmlidXRlcyk7XG4gICAgfVxuICAgIHJhbmdlKGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBpZiAodG8gIT0gZnJvbSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTGluZSBkZWNvcmF0aW9uIHJhbmdlcyBtdXN0IGJlIHplcm8tbGVuZ3RoXCIpO1xuICAgICAgICByZXR1cm4gc3VwZXIucmFuZ2UoZnJvbSwgdG8pO1xuICAgIH1cbn1cbkxpbmVEZWNvcmF0aW9uLnByb3RvdHlwZS5tYXBNb2RlID0gTWFwTW9kZS5UcmFja0JlZm9yZTtcbkxpbmVEZWNvcmF0aW9uLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG5jbGFzcyBQb2ludERlY29yYXRpb24gZXh0ZW5kcyBEZWNvcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjLCBzdGFydFNpZGUsIGVuZFNpZGUsIGJsb2NrLCB3aWRnZXQsIGlzUmVwbGFjZSkge1xuICAgICAgICBzdXBlcihzdGFydFNpZGUsIGVuZFNpZGUsIHdpZGdldCwgc3BlYyk7XG4gICAgICAgIHRoaXMuYmxvY2sgPSBibG9jaztcbiAgICAgICAgdGhpcy5pc1JlcGxhY2UgPSBpc1JlcGxhY2U7XG4gICAgICAgIHRoaXMubWFwTW9kZSA9ICFibG9jayA/IE1hcE1vZGUuVHJhY2tEZWwgOiBzdGFydFNpZGUgPD0gMCA/IE1hcE1vZGUuVHJhY2tCZWZvcmUgOiBNYXBNb2RlLlRyYWNrQWZ0ZXI7XG4gICAgfVxuICAgIC8vIE9ubHkgcmVsZXZhbnQgd2hlbiB0aGlzLmJsb2NrID09IHRydWVcbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRTaWRlICE9IHRoaXMuZW5kU2lkZSA/IEJsb2NrVHlwZS5XaWRnZXRSYW5nZVxuICAgICAgICAgICAgOiB0aGlzLnN0YXJ0U2lkZSA8PSAwID8gQmxvY2tUeXBlLldpZGdldEJlZm9yZSA6IEJsb2NrVHlwZS5XaWRnZXRBZnRlcjtcbiAgICB9XG4gICAgZ2V0IGhlaWdodFJlbGV2YW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9jayB8fCAhIXRoaXMud2lkZ2V0ICYmICh0aGlzLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgPj0gNSB8fCB0aGlzLndpZGdldC5saW5lQnJlYWtzID4gMCk7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgd2lkZ2V0c0VxKHRoaXMud2lkZ2V0LCBvdGhlci53aWRnZXQpICYmXG4gICAgICAgICAgICB0aGlzLmJsb2NrID09IG90aGVyLmJsb2NrICYmXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2lkZSA9PSBvdGhlci5zdGFydFNpZGUgJiYgdGhpcy5lbmRTaWRlID09IG90aGVyLmVuZFNpZGU7XG4gICAgfVxuICAgIHJhbmdlKGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBpZiAodGhpcy5pc1JlcGxhY2UgJiYgKGZyb20gPiB0byB8fCAoZnJvbSA9PSB0byAmJiB0aGlzLnN0YXJ0U2lkZSA+IDAgJiYgdGhpcy5lbmRTaWRlIDw9IDApKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCByYW5nZSBmb3IgcmVwbGFjZW1lbnQgZGVjb3JhdGlvblwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVwbGFjZSAmJiB0byAhPSBmcm9tKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJXaWRnZXQgZGVjb3JhdGlvbnMgY2FuIG9ubHkgaGF2ZSB6ZXJvLWxlbmd0aCByYW5nZXNcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuUG9pbnREZWNvcmF0aW9uLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG5mdW5jdGlvbiBnZXRJbmNsdXNpdmUoc3BlYywgYmxvY2sgPSBmYWxzZSkge1xuICAgIGxldCB7IGluY2x1c2l2ZVN0YXJ0OiBzdGFydCwgaW5jbHVzaXZlRW5kOiBlbmQgfSA9IHNwZWM7XG4gICAgaWYgKHN0YXJ0ID09IG51bGwpXG4gICAgICAgIHN0YXJ0ID0gc3BlYy5pbmNsdXNpdmU7XG4gICAgaWYgKGVuZCA9PSBudWxsKVxuICAgICAgICBlbmQgPSBzcGVjLmluY2x1c2l2ZTtcbiAgICByZXR1cm4geyBzdGFydDogc3RhcnQgIT09IG51bGwgJiYgc3RhcnQgIT09IHZvaWQgMCA/IHN0YXJ0IDogYmxvY2ssIGVuZDogZW5kICE9PSBudWxsICYmIGVuZCAhPT0gdm9pZCAwID8gZW5kIDogYmxvY2sgfTtcbn1cbmZ1bmN0aW9uIHdpZGdldHNFcShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCAhIShhICYmIGIgJiYgYS5jb21wYXJlKGIpKTtcbn1cbmZ1bmN0aW9uIGFkZFJhbmdlKGZyb20sIHRvLCByYW5nZXMsIG1hcmdpbiA9IDApIHtcbiAgICBsZXQgbGFzdCA9IHJhbmdlcy5sZW5ndGggLSAxO1xuICAgIGlmIChsYXN0ID49IDAgJiYgcmFuZ2VzW2xhc3RdICsgbWFyZ2luID49IGZyb20pXG4gICAgICAgIHJhbmdlc1tsYXN0XSA9IE1hdGgubWF4KHJhbmdlc1tsYXN0XSwgdG8pO1xuICAgIGVsc2VcbiAgICAgICAgcmFuZ2VzLnB1c2goZnJvbSwgdG8pO1xufVxuXG5jbGFzcyBMaW5lVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmF0dHJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5icmVha0FmdGVyID0gMDtcbiAgICB9XG4gICAgLy8gQ29uc3VtZXMgc291cmNlXG4gICAgbWVyZ2UoZnJvbSwgdG8sIHNvdXJjZSwgaGFzU3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBMaW5lVmlldykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICBzb3VyY2UudHJhbnNmZXJET00odGhpcyk7IC8vIFJldXNlIHNvdXJjZS5kb20gd2hlbiBhcHByb3ByaWF0ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNTdGFydClcbiAgICAgICAgICAgIHRoaXMuc2V0RGVjbyhzb3VyY2UgPyBzb3VyY2UuYXR0cnMgOiBudWxsKTtcbiAgICAgICAgbWVyZ2VDaGlsZHJlbkludG8odGhpcywgZnJvbSwgdG8sIHNvdXJjZSA/IHNvdXJjZS5jaGlsZHJlbi5zbGljZSgpIDogW10sIG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChhdCkge1xuICAgICAgICBsZXQgZW5kID0gbmV3IExpbmVWaWV3O1xuICAgICAgICBlbmQuYnJlYWtBZnRlciA9IHRoaXMuYnJlYWtBZnRlcjtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gZW5kO1xuICAgICAgICBsZXQgeyBpLCBvZmYgfSA9IHRoaXMuY2hpbGRQb3MoYXQpO1xuICAgICAgICBpZiAob2ZmKSB7XG4gICAgICAgICAgICBlbmQuYXBwZW5kKHRoaXMuY2hpbGRyZW5baV0uc3BsaXQob2ZmKSwgMCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLm1lcmdlKG9mZiwgdGhpcy5jaGlsZHJlbltpXS5sZW5ndGgsIG51bGwsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICBlbmQuYXBwZW5kKHRoaXMuY2hpbGRyZW5bal0sIDApO1xuICAgICAgICB3aGlsZSAoaSA+IDAgJiYgdGhpcy5jaGlsZHJlbltpIC0gMV0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuWy0taV0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IGk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXQ7XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfVxuICAgIHRyYW5zZmVyRE9NKG90aGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIG90aGVyLnNldERPTSh0aGlzLmRvbSk7XG4gICAgICAgIG90aGVyLnByZXZBdHRycyA9IHRoaXMucHJldkF0dHJzID09PSB1bmRlZmluZWQgPyB0aGlzLmF0dHJzIDogdGhpcy5wcmV2QXR0cnM7XG4gICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgfVxuICAgIHNldERlY28oYXR0cnMpIHtcbiAgICAgICAgaWYgKCFhdHRyc0VxKHRoaXMuYXR0cnMsIGF0dHJzKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QXR0cnMgPSB0aGlzLmF0dHJzO1xuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kKGNoaWxkLCBvcGVuU3RhcnQpIHtcbiAgICAgICAgam9pbklubGluZUludG8odGhpcywgY2hpbGQsIG9wZW5TdGFydCk7XG4gICAgfVxuICAgIC8vIE9ubHkgY2FsbGVkIHdoZW4gYnVpbGRpbmcgYSBsaW5lIHZpZXcgaW4gQ29udGVudEJ1aWxkZXJcbiAgICBhZGRMaW5lRGVjbyhkZWNvKSB7XG4gICAgICAgIGxldCBhdHRycyA9IGRlY28uc3BlYy5hdHRyaWJ1dGVzLCBjbHMgPSBkZWNvLnNwZWMuY2xhc3M7XG4gICAgICAgIGlmIChhdHRycylcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSBjb21iaW5lQXR0cnMoYXR0cnMsIHRoaXMuYXR0cnMgfHwge30pO1xuICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgdGhpcy5hdHRycyA9IGNvbWJpbmVBdHRycyh7IGNsYXNzOiBjbHMgfSwgdGhpcy5hdHRycyB8fCB7fSk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gaW5saW5lRE9NQXRQb3ModGhpcywgcG9zKTtcbiAgICB9XG4gICAgcmV1c2VET00obm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkRJVlwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovIHwgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luYyh2aWV3LCB0cmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8pIHtcbiAgICAgICAgICAgIGNsZWFyQXR0cmlidXRlcyh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWxpbmVcIjtcbiAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdGhpcy5hdHRycyA/IG51bGwgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJldkF0dHJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJzKHRoaXMuZG9tLCB0aGlzLnByZXZBdHRycywgdGhpcy5hdHRycyk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGluZVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnN5bmModmlldywgdHJhY2spO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuZG9tLmxhc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGxhc3QgJiYgQ29udGVudFZpZXcuZ2V0KGxhc3QpIGluc3RhbmNlb2YgTWFya1ZpZXcpXG4gICAgICAgICAgICBsYXN0ID0gbGFzdC5sYXN0Q2hpbGQ7XG4gICAgICAgIGlmICghbGFzdCB8fCAhdGhpcy5sZW5ndGggfHxcbiAgICAgICAgICAgIGxhc3Qubm9kZU5hbWUgIT0gXCJCUlwiICYmICgoX2EgPSBDb250ZW50Vmlldy5nZXQobGFzdCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0VkaXRhYmxlKSA9PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICghYnJvd3Nlci5pb3MgfHwgIXRoaXMuY2hpbGRyZW4uc29tZShjaCA9PiBjaCBpbnN0YW5jZW9mIFRleHRWaWV3KSkpIHtcbiAgICAgICAgICAgIGxldCBoYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkJSXCIpO1xuICAgICAgICAgICAgaGFjay5jbUlnbm9yZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChoYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtZWFzdXJlVGV4dFNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAwIHx8IHRoaXMubGVuZ3RoID4gMjApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwLCB0ZXh0SGVpZ2h0O1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFRleHRWaWV3KSB8fCAvW14gLX5dLy50ZXN0KGNoaWxkLnRleHQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IoY2hpbGQuZG9tKTtcbiAgICAgICAgICAgIGlmIChyZWN0cy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gcmVjdHNbMF0ud2lkdGg7XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0ID0gcmVjdHNbMF0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhdG90YWxXaWR0aCA/IG51bGwgOiB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXG4gICAgICAgICAgICBjaGFyV2lkdGg6IHRvdGFsV2lkdGggLyB0aGlzLmxlbmd0aCxcbiAgICAgICAgICAgIHRleHRIZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCByZWN0ID0gY29vcmRzSW5DaGlsZHJlbih0aGlzLCBwb3MsIHNpZGUpO1xuICAgICAgICAvLyBDb3JyZWN0IHJlY3RhbmdsZSBoZWlnaHQgZm9yIGVtcHR5IGxpbmVzIHdoZW4gdGhlIHJldHVybmVkXG4gICAgICAgIC8vIGhlaWdodCBpcyBsYXJnZXIgdGhhbiB0aGUgdGV4dCBoZWlnaHQuXG4gICAgICAgIGlmICghdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgcmVjdCAmJiB0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgbGV0IHsgaGVpZ2h0T3JhY2xlIH0gPSB0aGlzLnBhcmVudC52aWV3LnZpZXdTdGF0ZSwgaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhoZWlnaHQgLSBoZWlnaHRPcmFjbGUubGluZUhlaWdodCkgPCAyICYmIGhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0IDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSAoaGVpZ2h0IC0gaGVpZ2h0T3JhY2xlLnRleHRIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0b3A6IHJlY3QudG9wICsgZGlzdCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIGRpc3QsIGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QubGVmdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICBiZWNvbWUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTGluZVZpZXcgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJiBvdGhlci5jaGlsZHJlbi5sZW5ndGggPT0gMCAmJlxuICAgICAgICAgICAgYXR0cnNFcSh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiYgdGhpcy5icmVha0FmdGVyID09IG90aGVyLmJyZWFrQWZ0ZXI7XG4gICAgfVxuICAgIGNvdmVycygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBzdGF0aWMgZmluZChkb2NWaWV3LCBwb3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCBkb2NWaWV3LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYmxvY2sgPSBkb2NWaWV3LmNoaWxkcmVuW2ldLCBlbmQgPSBvZmYgKyBibG9jay5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID49IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIExpbmVWaWV3KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgICAgICAgICAgICAgaWYgKGVuZCA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBlbmQgKyBibG9jay5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmNsYXNzIEJsb2NrV2lkZ2V0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih3aWRnZXQsIGxlbmd0aCwgZGVjbykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuZGVjbyA9IGRlY287XG4gICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IDA7XG4gICAgICAgIHRoaXMucHJldldpZGdldCA9IG51bGw7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIF90YWtlRGVjbywgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiBwb3MgPT0gMCA/IERPTVBvcy5iZWZvcmUodGhpcy5kb20pIDogRE9NUG9zLmFmdGVyKHRoaXMuZG9tLCBwb3MgPT0gdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzcGxpdChhdCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGggLSBhdDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhdDtcbiAgICAgICAgbGV0IGVuZCA9IG5ldyBCbG9ja1dpZGdldFZpZXcodGhpcy53aWRnZXQsIGxlbiwgdGhpcy5kZWNvKTtcbiAgICAgICAgZW5kLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfVxuICAgIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIG5vQ2hpbGRyZW47IH1cbiAgICBzeW5jKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tLCB2aWV3KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odmlldykpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5lZGl0YWJsZSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQudmlldy5zdGF0ZS5kb2Muc2xpY2UodGhpcy5wb3NBdFN0YXJ0LCB0aGlzLnBvc0F0RW5kKSA6IFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBiZWNvbWUob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmXG4gICAgICAgICAgICBvdGhlci53aWRnZXQuY29uc3RydWN0b3IgPT0gdGhpcy53aWRnZXQuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGlmICghb3RoZXIud2lkZ2V0LmNvbXBhcmUodGhpcy53aWRnZXQpKVxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KHRydWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmICF0aGlzLnByZXZXaWRnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gdGhpcy53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLndpZGdldCA9IG90aGVyLndpZGdldDtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5kZWNvID0gb3RoZXIuZGVjbztcbiAgICAgICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IG90aGVyLmJyZWFrQWZ0ZXI7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0aGlzLndpZGdldC5pZ25vcmVFdmVudChldmVudCk7IH1cbiAgICBnZXQgaXNFZGl0YWJsZSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGlzV2lkZ2V0KCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgY3VzdG9tID0gdGhpcy53aWRnZXQuY29vcmRzQXQodGhpcy5kb20sIHBvcywgc2lkZSk7XG4gICAgICAgIGlmIChjdXN0b20pXG4gICAgICAgICAgICByZXR1cm4gY3VzdG9tO1xuICAgICAgICBpZiAodGhpcy53aWRnZXQgaW5zdGFuY2VvZiBCbG9ja0dhcFdpZGdldClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QodGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMubGVuZ3RoID8gcG9zID09IDAgOiBzaWRlIDw9IDApO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgIH1cbiAgICBjb3ZlcnMoc2lkZSkge1xuICAgICAgICBsZXQgeyBzdGFydFNpZGUsIGVuZFNpZGUgfSA9IHRoaXMuZGVjbztcbiAgICAgICAgcmV0dXJuIHN0YXJ0U2lkZSA9PSBlbmRTaWRlID8gZmFsc2UgOiBzaWRlIDwgMCA/IHN0YXJ0U2lkZSA8IDAgOiBlbmRTaWRlID4gMDtcbiAgICB9XG59XG5jbGFzcyBCbG9ja0dhcFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGhlaWdodCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbHQuY2xhc3NOYW1lID0gXCJjbS1nYXBcIjtcbiAgICAgICAgdGhpcy51cGRhdGVET00oZWx0KTtcbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLmhlaWdodCA9PSB0aGlzLmhlaWdodDsgfVxuICAgIHVwZGF0ZURPTShlbHQpIHtcbiAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGVkaXRhYmxlKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGdldCBlc3RpbWF0ZWRIZWlnaHQoKSB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxuICAgIGlnbm9yZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cblxuY2xhc3MgQ29udGVudEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRvYywgcG9zLCBlbmQsIGRpc2FsbG93QmxvY2tFZmZlY3RzRm9yKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMuZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3IgPSBkaXNhbGxvd0Jsb2NrRWZmZWN0c0ZvcjtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYnJlYWtBdFN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIHRoaXMuYnVmZmVyTWFya3MgPSBbXTtcbiAgICAgICAgLy8gU2V0IHRvIGZhbHNlIGRpcmVjdGx5IGFmdGVyIGEgd2lkZ2V0IHRoYXQgY292ZXJzIHRoZSBwb3NpdGlvbiBhZnRlciBpdFxuICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5vcGVuRW5kID0gLTE7XG4gICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMudGV4dE9mZiA9IDA7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gZG9jLml0ZXIoKTtcbiAgICAgICAgdGhpcy5za2lwID0gcG9zO1xuICAgIH1cbiAgICBwb3NDb3ZlcmVkKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmJyZWFrQXRTdGFydCAmJiB0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLmZyb20gIT0gdGhpcy5wb3M7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuICEobGFzdC5icmVha0FmdGVyIHx8IGxhc3QgaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcgJiYgbGFzdC5kZWNvLmVuZFNpZGUgPCAwKTtcbiAgICB9XG4gICAgZ2V0TGluZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1ckxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5wdXNoKHRoaXMuY3VyTGluZSA9IG5ldyBMaW5lVmlldyk7XG4gICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jdXJMaW5lO1xuICAgIH1cbiAgICBmbHVzaEJ1ZmZlcihhY3RpdmUgPSB0aGlzLmJ1ZmZlck1hcmtzKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyTGluZS5hcHBlbmQod3JhcE1hcmtzKG5ldyBXaWRnZXRCdWZmZXJWaWV3KC0xKSwgYWN0aXZlKSwgYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAwIC8qIEJ1Zi5ObyAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRCbG9ja1dpZGdldCh2aWV3KSB7XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5jdXJMaW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2godmlldyk7XG4gICAgfVxuICAgIGZpbmlzaChvcGVuRW5kKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIgJiYgb3BlbkVuZCA8PSB0aGlzLmJ1ZmZlck1hcmtzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIGlmICghdGhpcy5wb3NDb3ZlcmVkKCkgJiZcbiAgICAgICAgICAgICEob3BlbkVuZCAmJiB0aGlzLmNvbnRlbnQubGVuZ3RoICYmIHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV0gaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcpKVxuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgfVxuICAgIGJ1aWxkVGV4dChsZW5ndGgsIGFjdGl2ZSwgb3BlblN0YXJ0KSB7XG4gICAgICAgIHdoaWxlIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0T2ZmID09IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyB2YWx1ZSwgbGluZUJyZWFrLCBkb25lIH0gPSB0aGlzLmN1cnNvci5uZXh0KHRoaXMuc2tpcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmFuIG91dCBvZiB0ZXh0IGNvbnRlbnQgd2hlbiBkcmF3aW5nIGlubGluZSB2aWV3c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wb3NDb3ZlcmVkKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdLmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyZWFrQXRTdGFydCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJMaW5lID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0YWtlID0gTWF0aC5taW4odGhpcy50ZXh0Lmxlbmd0aCAtIHRoaXMudGV4dE9mZiwgbGVuZ3RoLCA1MTIgLyogVC5DaHVuayAqLyk7XG4gICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKGFjdGl2ZS5zbGljZShhY3RpdmUubGVuZ3RoIC0gb3BlblN0YXJ0KSk7XG4gICAgICAgICAgICB0aGlzLmdldExpbmUoKS5hcHBlbmQod3JhcE1hcmtzKG5ldyBUZXh0Vmlldyh0aGlzLnRleHQuc2xpY2UodGhpcy50ZXh0T2ZmLCB0aGlzLnRleHRPZmYgKyB0YWtlKSksIGFjdGl2ZSksIG9wZW5TdGFydCk7XG4gICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZiArPSB0YWtlO1xuICAgICAgICAgICAgbGVuZ3RoIC09IHRha2U7XG4gICAgICAgICAgICBvcGVuU3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNwYW4oZnJvbSwgdG8sIGFjdGl2ZSwgb3BlblN0YXJ0KSB7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0KHRvIC0gZnJvbSwgYWN0aXZlLCBvcGVuU3RhcnQpO1xuICAgICAgICB0aGlzLnBvcyA9IHRvO1xuICAgICAgICBpZiAodGhpcy5vcGVuU3RhcnQgPCAwKVxuICAgICAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSBvcGVuU3RhcnQ7XG4gICAgfVxuICAgIHBvaW50KGZyb20sIHRvLCBkZWNvLCBhY3RpdmUsIG9wZW5TdGFydCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3JbaW5kZXhdICYmIGRlY28gaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChkZWNvLmJsb2NrKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQmxvY2sgZGVjb3JhdGlvbnMgbWF5IG5vdCBiZSBzcGVjaWZpZWQgdmlhIHBsdWdpbnNcIik7XG4gICAgICAgICAgICBpZiAodG8gPiB0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLnRvKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRGVjb3JhdGlvbnMgdGhhdCByZXBsYWNlIGxpbmUgYnJlYWtzIG1heSBub3QgYmUgc3BlY2lmaWVkIHZpYSBwbHVnaW5zXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZW4gPSB0byAtIGZyb207XG4gICAgICAgIGlmIChkZWNvIGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaykge1xuICAgICAgICAgICAgICAgIGlmIChkZWNvLnN0YXJ0U2lkZSA+IDAgJiYgIXRoaXMucG9zQ292ZXJlZCgpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJsb2NrV2lkZ2V0KG5ldyBCbG9ja1dpZGdldFZpZXcoZGVjby53aWRnZXQgfHwgTnVsbFdpZGdldC5ibG9jaywgbGVuLCBkZWNvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlldyA9IFdpZGdldFZpZXcuY3JlYXRlKGRlY28ud2lkZ2V0IHx8IE51bGxXaWRnZXQuaW5saW5lLCBsZW4sIGxlbiA/IDAgOiBkZWNvLnN0YXJ0U2lkZSk7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnNvckJlZm9yZSA9IHRoaXMuYXRDdXJzb3JQb3MgJiYgIXZpZXcuaXNFZGl0YWJsZSAmJiBvcGVuU3RhcnQgPD0gYWN0aXZlLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAoZnJvbSA8IHRvIHx8IGRlY28uc3RhcnRTaWRlID4gMCk7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnNvckFmdGVyID0gIXZpZXcuaXNFZGl0YWJsZSAmJiAoZnJvbSA8IHRvIHx8IG9wZW5TdGFydCA+IGFjdGl2ZS5sZW5ndGggfHwgZGVjby5zdGFydFNpZGUgPD0gMCk7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyID09IDIgLyogQnVmLklmQ3Vyc29yICovICYmICFjdXJzb3JCZWZvcmUgJiYgIXZpZXcuaXNFZGl0YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihhY3RpdmUpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3JCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hcHBlbmQod3JhcE1hcmtzKG5ldyBXaWRnZXRCdWZmZXJWaWV3KDEpLCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBvcGVuU3RhcnQgPSBhY3RpdmUubGVuZ3RoICsgTWF0aC5tYXgoMCwgb3BlblN0YXJ0IC0gYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmUuYXBwZW5kKHdyYXBNYXJrcyh2aWV3LCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXRDdXJzb3JQb3MgPSBjdXJzb3JBZnRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAhY3Vyc29yQWZ0ZXIgPyAwIC8qIEJ1Zi5ObyAqLyA6IGZyb20gPCB0byB8fCBvcGVuU3RhcnQgPiBhY3RpdmUubGVuZ3RoID8gMSAvKiBCdWYuWWVzICovIDogMiAvKiBCdWYuSWZDdXJzb3IgKi87XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0J1ZmZlcilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJNYXJrcyA9IGFjdGl2ZS5zbGljZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZG9jLmxpbmVBdCh0aGlzLnBvcykuZnJvbSA9PSB0aGlzLnBvcykgeyAvLyBMaW5lIGRlY29yYXRpb25cbiAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgpLmFkZExpbmVEZWNvKGRlY28pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgIC8vIEFkdmFuY2UgdGhlIGl0ZXJhdG9yIHBhc3QgdGhlIHJlcGxhY2VkIGNvbnRlbnRcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHRPZmYgKyBsZW4gPD0gdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZiArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAgKz0gbGVuIC0gKHRoaXMudGV4dC5sZW5ndGggLSB0aGlzLnRleHRPZmYpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9zID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gb3BlblN0YXJ0O1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGQodGV4dCwgZnJvbSwgdG8sIGRlY29yYXRpb25zLCBkeW5hbWljRGVjb3JhdGlvbk1hcCkge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBDb250ZW50QnVpbGRlcih0ZXh0LCBmcm9tLCB0bywgZHluYW1pY0RlY29yYXRpb25NYXApO1xuICAgICAgICBidWlsZGVyLm9wZW5FbmQgPSBSYW5nZVNldC5zcGFucyhkZWNvcmF0aW9ucywgZnJvbSwgdG8sIGJ1aWxkZXIpO1xuICAgICAgICBpZiAoYnVpbGRlci5vcGVuU3RhcnQgPCAwKVxuICAgICAgICAgICAgYnVpbGRlci5vcGVuU3RhcnQgPSBidWlsZGVyLm9wZW5FbmQ7XG4gICAgICAgIGJ1aWxkZXIuZmluaXNoKGJ1aWxkZXIub3BlbkVuZCk7XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyYXBNYXJrcyh2aWV3LCBhY3RpdmUpIHtcbiAgICBmb3IgKGxldCBtYXJrIG9mIGFjdGl2ZSlcbiAgICAgICAgdmlldyA9IG5ldyBNYXJrVmlldyhtYXJrLCBbdmlld10sIHZpZXcubGVuZ3RoKTtcbiAgICByZXR1cm4gdmlldztcbn1cbmNsYXNzIE51bGxXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci50YWcgPT0gdGhpcy50YWc7IH1cbiAgICB0b0RPTSgpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWcpOyB9XG4gICAgdXBkYXRlRE9NKGVsdCkgeyByZXR1cm4gZWx0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdGhpcy50YWc7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0cnVlOyB9XG59XG5OdWxsV2lkZ2V0LmlubGluZSA9IC8qQF9fUFVSRV9fKi9uZXcgTnVsbFdpZGdldChcInNwYW5cIik7XG5OdWxsV2lkZ2V0LmJsb2NrID0gLypAX19QVVJFX18qL25ldyBOdWxsV2lkZ2V0KFwiZGl2XCIpO1xuXG4vKipcblVzZWQgdG8gaW5kaWNhdGUgW3RleHQgZGlyZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy50ZXh0RGlyZWN0aW9uKS5cbiovXG52YXIgRGlyZWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRGlyZWN0aW9uKSB7XG4gICAgLy8gKFRoZXNlIGFyZSBjaG9zZW4gdG8gbWF0Y2ggdGhlIGJhc2UgbGV2ZWxzLCBpbiBiaWRpIGFsZ29yaXRobVxuICAgIC8vIHRlcm1zLCBvZiBzcGFucyBpbiB0aGF0IGRpcmVjdGlvbi4pXG4gICAgLyoqXG4gICAgTGVmdC10by1yaWdodC5cbiAgICAqL1xuICAgIERpcmVjdGlvbltEaXJlY3Rpb25bXCJMVFJcIl0gPSAwXSA9IFwiTFRSXCI7XG4gICAgLyoqXG4gICAgUmlnaHQtdG8tbGVmdC5cbiAgICAqL1xuICAgIERpcmVjdGlvbltEaXJlY3Rpb25bXCJSVExcIl0gPSAxXSA9IFwiUlRMXCI7XG5yZXR1cm4gRGlyZWN0aW9ufSkoRGlyZWN0aW9uIHx8IChEaXJlY3Rpb24gPSB7fSkpO1xuY29uc3QgTFRSID0gRGlyZWN0aW9uLkxUUiwgUlRMID0gRGlyZWN0aW9uLlJUTDtcbi8vIERlY29kZSBhIHN0cmluZyB3aXRoIGVhY2ggdHlwZSBlbmNvZGVkIGFzIGxvZzIodHlwZSlcbmZ1bmN0aW9uIGRlYyhzdHIpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgICAgIHJlc3VsdC5wdXNoKDEgPDwgK3N0cltpXSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAwIHRvIDB4ZjhcbmNvbnN0IExvd1R5cGVzID0gLypAX19QVVJFX18qL2RlYyhcIjg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4NjY2ODg4ODg4Nzg3ODMzMzMzMzMzMzM3ODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4ODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg3ODY2NjY4ODg4MDg4ODg4NjYzMzgwODg4MzA4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4XCIpO1xuLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDB4NjAwIHRvIDB4NmY5XG5jb25zdCBBcmFiaWNUeXBlcyA9IC8qQF9fUFVSRV9fKi9kZWMoXCI0NDQ0NDQ4ODI2NjI3Mjg4OTk5OTk5OTk5OTkyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI5OTk5OTk5OTk5OTk5OTk5OTk5OTk0NDQ0NDQ0NDQ0NjQ0MjIyODIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOTk5OTk5OTQ5OTk5OTk5MjI5OTg5OTk5MjIzMzMzMzMzMzMzXCIpO1xuY29uc3QgQnJhY2tldHMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKSwgQnJhY2tldFN0YWNrID0gW107XG4vLyBUaGVyZSdzIGEgbG90IG1vcmUgaW5cbi8vIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9CaWRpQnJhY2tldHMudHh0LFxuLy8gd2hpY2ggYXJlIGxlZnQgb3V0IHRvIGtlZXAgY29kZSBzaXplIGRvd24uXG5mb3IgKGxldCBwIG9mIFtcIigpXCIsIFwiW11cIiwgXCJ7fVwiXSkge1xuICAgIGxldCBsID0gLypAX19QVVJFX18qL3AuY2hhckNvZGVBdCgwKSwgciA9IC8qQF9fUFVSRV9fKi9wLmNoYXJDb2RlQXQoMSk7XG4gICAgQnJhY2tldHNbbF0gPSByO1xuICAgIEJyYWNrZXRzW3JdID0gLWw7XG59XG5mdW5jdGlvbiBjaGFyVHlwZShjaCkge1xuICAgIHJldHVybiBjaCA8PSAweGY3ID8gTG93VHlwZXNbY2hdIDpcbiAgICAgICAgMHg1OTAgPD0gY2ggJiYgY2ggPD0gMHg1ZjQgPyAyIC8qIFQuUiAqLyA6XG4gICAgICAgICAgICAweDYwMCA8PSBjaCAmJiBjaCA8PSAweDZmOSA/IEFyYWJpY1R5cGVzW2NoIC0gMHg2MDBdIDpcbiAgICAgICAgICAgICAgICAweDZlZSA8PSBjaCAmJiBjaCA8PSAweDhhYyA/IDQgLyogVC5BTCAqLyA6XG4gICAgICAgICAgICAgICAgICAgIDB4MjAwMCA8PSBjaCAmJiBjaCA8PSAweDIwMGMgPyAyNTYgLyogVC5OSSAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAweGZiNTAgPD0gY2ggJiYgY2ggPD0gMHhmZGZmID8gNCAvKiBULkFMICovIDogMSAvKiBULkwgKi87XG59XG5jb25zdCBCaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY1xcdWZiNTAtXFx1ZmRmZl0vO1xuLyoqXG5SZXByZXNlbnRzIGEgY29udGlndW91cyByYW5nZSBvZiB0ZXh0IHRoYXQgaGFzIGEgc2luZ2xlIGRpcmVjdGlvblxuKGFzIGluIGxlZnQtdG8tcmlnaHQgb3IgcmlnaHQtdG8tbGVmdCkuXG4qL1xuY2xhc3MgQmlkaVNwYW4ge1xuICAgIC8qKlxuICAgIFRoZSBkaXJlY3Rpb24gb2YgdGhpcyBzcGFuLlxuICAgICovXG4gICAgZ2V0IGRpcigpIHsgcmV0dXJuIHRoaXMubGV2ZWwgJSAyID8gUlRMIDogTFRSOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIHNwYW4gKHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGUgbGluZSkuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgZW5kIG9mIHRoZSBzcGFuLlxuICAgICovXG4gICAgdG8sIFxuICAgIC8qKlxuICAgIFRoZSBbXCJiaWRpXG4gICAgbGV2ZWxcIl0oaHR0cHM6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS8jQmFzaWNfRGlzcGxheV9BbGdvcml0aG0pXG4gICAgb2YgdGhlIHNwYW4gKGluIHRoaXMgY29udGV4dCwgMCBtZWFuc1xuICAgIGxlZnQtdG8tcmlnaHQsIDEgbWVhbnMgcmlnaHQtdG8tbGVmdCwgMiBtZWFucyBsZWZ0LXRvLXJpZ2h0XG4gICAgbnVtYmVyIGluc2lkZSByaWdodC10by1sZWZ0IHRleHQpLlxuICAgICovXG4gICAgbGV2ZWwpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2lkZShlbmQsIGRpcikgeyByZXR1cm4gKHRoaXMuZGlyID09IGRpcikgPT0gZW5kID8gdGhpcy50byA6IHRoaXMuZnJvbTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZm9yd2FyZChmb3J3YXJkLCBkaXIpIHsgcmV0dXJuIGZvcndhcmQgPT0gKHRoaXMuZGlyID09IGRpcik7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBmaW5kKG9yZGVyLCBpbmRleCwgbGV2ZWwsIGFzc29jKSB7XG4gICAgICAgIGxldCBtYXliZSA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3BhbiA9IG9yZGVyW2ldO1xuICAgICAgICAgICAgaWYgKHNwYW4uZnJvbSA8PSBpbmRleCAmJiBzcGFuLnRvID49IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwYW4ubGV2ZWwgPT0gbGV2ZWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gbXVsdGlwbGUgc3BhbnMgbWF0Y2gsIGlmIGFzc29jICE9IDAsIHRha2UgdGhlIG9uZSB0aGF0XG4gICAgICAgICAgICAgICAgLy8gY292ZXJzIHRoYXQgc2lkZSwgb3RoZXJ3aXNlIHRha2UgdGhlIG9uZSB3aXRoIHRoZSBtaW5pbXVtXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWwuXG4gICAgICAgICAgICAgICAgaWYgKG1heWJlIDwgMCB8fCAoYXNzb2MgIT0gMCA/IChhc3NvYyA8IDAgPyBzcGFuLmZyb20gPCBpbmRleCA6IHNwYW4udG8gPiBpbmRleCkgOiBvcmRlclttYXliZV0ubGV2ZWwgPiBzcGFuLmxldmVsKSlcbiAgICAgICAgICAgICAgICAgICAgbWF5YmUgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXliZSA8IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgICAgcmV0dXJuIG1heWJlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzb2xhdGVzRXEoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgaUEgPSBhW2ldLCBpQiA9IGJbaV07XG4gICAgICAgIGlmIChpQS5mcm9tICE9IGlCLmZyb20gfHwgaUEudG8gIT0gaUIudG8gfHwgaUEuZGlyZWN0aW9uICE9IGlCLmRpcmVjdGlvbiB8fCAhaXNvbGF0ZXNFcShpQS5pbm5lciwgaUIuaW5uZXIpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIFJldXNlZCBhcnJheSBvZiBjaGFyYWN0ZXIgdHlwZXNcbmNvbnN0IHR5cGVzID0gW107XG4vLyBGaWxsIGluIHRoZSBjaGFyYWN0ZXIgdHlwZXMgKGluIGB0eXBlc2ApIGZyb20gYGZyb21gIHRvIGB0b2AgYW5kXG4vLyBhcHBseSBXIG5vcm1hbGl6YXRpb24gcnVsZXMuXG5mdW5jdGlvbiBjb21wdXRlQ2hhclR5cGVzKGxpbmUsIHJGcm9tLCByVG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpIHtcbiAgICBmb3IgKGxldCBpSSA9IDA7IGlJIDw9IGlzb2xhdGVzLmxlbmd0aDsgaUkrKykge1xuICAgICAgICBsZXQgZnJvbSA9IGlJID8gaXNvbGF0ZXNbaUkgLSAxXS50byA6IHJGcm9tLCB0byA9IGlJIDwgaXNvbGF0ZXMubGVuZ3RoID8gaXNvbGF0ZXNbaUldLmZyb20gOiByVG87XG4gICAgICAgIGxldCBwcmV2VHlwZSA9IGlJID8gMjU2IC8qIFQuTkkgKi8gOiBvdXRlclR5cGU7XG4gICAgICAgIC8vIFcxLiBFeGFtaW5lIGVhY2ggbm9uLXNwYWNpbmcgbWFyayAoTlNNKSBpbiB0aGUgbGV2ZWwgcnVuLCBhbmRcbiAgICAgICAgLy8gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBOU00gdG8gdGhlIHR5cGUgb2YgdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIGNoYXJhY3Rlci4gSWYgdGhlIE5TTSBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGxldmVsIHJ1biwgaXQgd2lsbFxuICAgICAgICAvLyBnZXQgdGhlIHR5cGUgb2Ygc29yLlxuICAgICAgICAvLyBXMi4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBBTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW5cbiAgICAgICAgLy8gQUwgaXMgZm91bmQsIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEFyYWJpY1xuICAgICAgICAvLyBudW1iZXIuXG4gICAgICAgIC8vIFczLiBDaGFuZ2UgYWxsIEFMcyB0byBSLlxuICAgICAgICAvLyAoTGVmdCBhZnRlciB0aGlzOiBMLCBSLCBFTiwgQU4sIEVULCBDUywgTkkpXG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tLCBwcmV2ID0gcHJldlR5cGUsIHByZXZTdHJvbmcgPSBwcmV2VHlwZTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0eXBlID0gY2hhclR5cGUobGluZS5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDUxMiAvKiBULk5TTSAqLylcbiAgICAgICAgICAgICAgICB0eXBlID0gcHJldjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gOCAvKiBULkVOICovICYmIHByZXZTdHJvbmcgPT0gNCAvKiBULkFMICovKVxuICAgICAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBULkFOICovO1xuICAgICAgICAgICAgdHlwZXNbaV0gPSB0eXBlID09IDQgLyogVC5BTCAqLyA/IDIgLyogVC5SICovIDogdHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlICYgNyAvKiBULlN0cm9uZyAqLylcbiAgICAgICAgICAgICAgICBwcmV2U3Ryb25nID0gdHlwZTtcbiAgICAgICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFc1LiBBIHNlcXVlbmNlIG9mIEV1cm9wZWFuIHRlcm1pbmF0b3JzIGFkamFjZW50IHRvIEV1cm9wZWFuXG4gICAgICAgIC8vIG51bWJlcnMgY2hhbmdlcyB0byBhbGwgRXVyb3BlYW4gbnVtYmVycy5cbiAgICAgICAgLy8gVzYuIE90aGVyd2lzZSwgc2VwYXJhdG9ycyBhbmQgdGVybWluYXRvcnMgY2hhbmdlIHRvIE90aGVyXG4gICAgICAgIC8vIE5ldXRyYWwuXG4gICAgICAgIC8vIFc3LiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgICAvLyB1bnRpbCB0aGUgZmlyc3Qgc3Ryb25nIHR5cGUgKFIsIEwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuIEwgaXNcbiAgICAgICAgLy8gZm91bmQsIHRoZW4gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBFdXJvcGVhbiBudW1iZXIgdG8gTC5cbiAgICAgICAgLy8gKExlZnQgYWZ0ZXIgdGhpczogTCwgUiwgRU4rQU4sIE5JKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbSwgcHJldiA9IHByZXZUeXBlLCBwcmV2U3Ryb25nID0gcHJldlR5cGU7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gMTI4IC8qIFQuQ1MgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IHRvIC0gMSAmJiBwcmV2ID09IHR5cGVzW2kgKyAxXSAmJiAocHJldiAmIDI0IC8qIFQuTnVtICovKSlcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHR5cGVzW2ldID0gcHJldjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzW2ldID0gMjU2IC8qIFQuTkkgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDY0IC8qIFQuRVQgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gaSArIDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGVuZCA8IHRvICYmIHR5cGVzW2VuZF0gPT0gNjQgLyogVC5FVCAqLylcbiAgICAgICAgICAgICAgICAgICAgZW5kKys7XG4gICAgICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSAoaSAmJiBwcmV2ID09IDggLyogVC5FTiAqLykgfHwgKGVuZCA8IHJUbyAmJiB0eXBlc1tlbmRdID09IDggLyogVC5FTiAqLykgPyAocHJldlN0cm9uZyA9PSAxIC8qIFQuTCAqLyA/IDEgLyogVC5MICovIDogOCAvKiBULkVOICovKSA6IDI1NiAvKiBULk5JICovO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqIDwgZW5kOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzW2pdID0gcmVwbGFjZTtcbiAgICAgICAgICAgICAgICBpID0gZW5kIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gOCAvKiBULkVOICovICYmIHByZXZTdHJvbmcgPT0gMSAvKiBULkwgKi8pIHtcbiAgICAgICAgICAgICAgICB0eXBlc1tpXSA9IDEgLyogVC5MICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldiA9IHR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICAgICAgcHJldlN0cm9uZyA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBQcm9jZXNzIGJyYWNrZXRzIHRocm91Z2hvdXQgYSBydW4gc2VxdWVuY2UuXG5mdW5jdGlvbiBwcm9jZXNzQnJhY2tldFBhaXJzKGxpbmUsIHJGcm9tLCByVG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpIHtcbiAgICBsZXQgb3Bwb3NpdGVUeXBlID0gb3V0ZXJUeXBlID09IDEgLyogVC5MICovID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLztcbiAgICBmb3IgKGxldCBpSSA9IDAsIHNJID0gMCwgY29udGV4dCA9IDA7IGlJIDw9IGlzb2xhdGVzLmxlbmd0aDsgaUkrKykge1xuICAgICAgICBsZXQgZnJvbSA9IGlJID8gaXNvbGF0ZXNbaUkgLSAxXS50byA6IHJGcm9tLCB0byA9IGlJIDwgaXNvbGF0ZXMubGVuZ3RoID8gaXNvbGF0ZXNbaUldLmZyb20gOiByVG87XG4gICAgICAgIC8vIE4wLiBQcm9jZXNzIGJyYWNrZXQgcGFpcnMgaW4gYW4gaXNvbGF0aW5nIHJ1biBzZXF1ZW5jZVxuICAgICAgICAvLyBzZXF1ZW50aWFsbHkgaW4gdGhlIGxvZ2ljYWwgb3JkZXIgb2YgdGhlIHRleHQgcG9zaXRpb25zIG9mIHRoZVxuICAgICAgICAvLyBvcGVuaW5nIHBhaXJlZCBicmFja2V0cyB1c2luZyB0aGUgbG9naWMgZ2l2ZW4gYmVsb3cuIFdpdGhpbiB0aGlzXG4gICAgICAgIC8vIHNjb3BlLCBiaWRpcmVjdGlvbmFsIHR5cGVzIEVOIGFuZCBBTiBhcmUgdHJlYXRlZCBhcyBSLlxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbSwgY2gsIGJyLCB0eXBlOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgLy8gS2VlcHMgW3N0YXJ0SW5kZXgsIHR5cGUsIHN0cm9uZ1NlZW5dIHRyaXBsZXMgZm9yIGVhY2ggb3BlblxuICAgICAgICAgICAgLy8gYnJhY2tldCBvbiBCcmFja2V0U3RhY2suXG4gICAgICAgICAgICBpZiAoYnIgPSBCcmFja2V0c1tjaCA9IGxpbmUuY2hhckNvZGVBdChpKV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYnIgPCAwKSB7IC8vIENsb3NpbmcgYnJhY2tldFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzSiA9IHNJIC0gMzsgc0ogPj0gMDsgc0ogLT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJyYWNrZXRTdGFja1tzSiArIDFdID09IC1icikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmbGFncyA9IEJyYWNrZXRTdGFja1tzSiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gKGZsYWdzICYgMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi8pID8gb3V0ZXJUeXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIShmbGFncyAmIDQgLyogQnJhY2tldGVkLk9wcG9zaXRlSW5zaWRlICovKSA/IDAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZsYWdzICYgMSAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVCZWZvcmUgKi8pID8gb3Bwb3NpdGVUeXBlIDogb3V0ZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlc1tpXSA9IHR5cGVzW0JyYWNrZXRTdGFja1tzSl1dID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzSSA9IHNKO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEJyYWNrZXRTdGFjay5sZW5ndGggPT0gMTg5IC8qIEJyYWNrZXRlZC5NYXhEZXB0aCAqLykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJyYWNrZXRTdGFja1tzSSsrXSA9IGk7XG4gICAgICAgICAgICAgICAgICAgIEJyYWNrZXRTdGFja1tzSSsrXSA9IGNoO1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID0gdHlwZXNbaV0pID09IDIgLyogVC5SICovIHx8IHR5cGUgPT0gMSAvKiBULkwgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgZW1iZWQgPSB0eXBlID09IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gZW1iZWQgPyAwIDogMSAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVCZWZvcmUgKi87XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc0ogPSBzSSAtIDM7IHNKID49IDA7IHNKIC09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ciA9IEJyYWNrZXRTdGFja1tzSiArIDJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyICYgMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSAyIC8qIEJyYWNrZXRlZC5FbWJlZEluc2lkZSAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIgJiA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIEJyYWNrZXRTdGFja1tzSiArIDJdIHw9IDQgLyogQnJhY2tldGVkLk9wcG9zaXRlSW5zaWRlICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvY2Vzc05ldXRyYWxzKHJGcm9tLCByVG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpIHtcbiAgICBmb3IgKGxldCBpSSA9IDAsIHByZXYgPSBvdXRlclR5cGU7IGlJIDw9IGlzb2xhdGVzLmxlbmd0aDsgaUkrKykge1xuICAgICAgICBsZXQgZnJvbSA9IGlJID8gaXNvbGF0ZXNbaUkgLSAxXS50byA6IHJGcm9tLCB0byA9IGlJIDwgaXNvbGF0ZXMubGVuZ3RoID8gaXNvbGF0ZXNbaUldLmZyb20gOiByVG87XG4gICAgICAgIC8vIE4xLiBBIHNlcXVlbmNlIG9mIG5ldXRyYWxzIHRha2VzIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gICAgICAgIC8vIHN1cnJvdW5kaW5nIHN0cm9uZyB0ZXh0IGlmIHRoZSB0ZXh0IG9uIGJvdGggc2lkZXMgaGFzIHRoZSBzYW1lXG4gICAgICAgIC8vIGRpcmVjdGlvbi4gRXVyb3BlYW4gYW5kIEFyYWJpYyBudW1iZXJzIGFjdCBhcyBpZiB0aGV5IHdlcmUgUiBpblxuICAgICAgICAvLyB0ZXJtcyBvZiB0aGVpciBpbmZsdWVuY2Ugb24gbmV1dHJhbHMuIFN0YXJ0LW9mLWxldmVsLXJ1biAoc29yKVxuICAgICAgICAvLyBhbmQgZW5kLW9mLWxldmVsLXJ1biAoZW9yKSBhcmUgdXNlZCBhdCBsZXZlbCBydW4gYm91bmRhcmllcy5cbiAgICAgICAgLy8gTjIuIEFueSByZW1haW5pbmcgbmV1dHJhbHMgdGFrZSB0aGUgZW1iZWRkaW5nIGRpcmVjdGlvbi5cbiAgICAgICAgLy8gKExlZnQgYWZ0ZXIgdGhpczogTCwgUiwgRU4rQU4pXG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87KSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gMjU2IC8qIFQuTkkgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gaSArIDE7XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID09IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaUkgPT0gaXNvbGF0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXNvbGF0ZXNbaUkrK10udG87XG4gICAgICAgICAgICAgICAgICAgICAgICB0byA9IGlJIDwgaXNvbGF0ZXMubGVuZ3RoID8gaXNvbGF0ZXNbaUldLmZyb20gOiByVG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZXNbZW5kXSA9PSAyNTYgLyogVC5OSSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgYmVmb3JlTCA9IHByZXYgPT0gMSAvKiBULkwgKi87XG4gICAgICAgICAgICAgICAgbGV0IGFmdGVyTCA9IChlbmQgPCByVG8gPyB0eXBlc1tlbmRdIDogb3V0ZXJUeXBlKSA9PSAxIC8qIFQuTCAqLztcbiAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZSA9IGJlZm9yZUwgPT0gYWZ0ZXJMID8gKGJlZm9yZUwgPyAxIC8qIFQuTCAqLyA6IDIgLyogVC5SICovKSA6IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gZW5kLCBqSSA9IGlJLCBmcm9tSiA9IGpJID8gaXNvbGF0ZXNbakkgLSAxXS50byA6IHJGcm9tOyBqID4gaTspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gZnJvbUopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSBpc29sYXRlc1stLWpJXS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUogPSBqSSA/IGlzb2xhdGVzW2pJIC0gMV0udG8gOiByRnJvbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1stLWpdID0gcmVwbGFjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIEZpbmQgdGhlIGNvbnRpZ3VvdXMgcmFuZ2VzIG9mIGNoYXJhY3RlciB0eXBlcyBpbiBhIGdpdmVuIHJhbmdlLCBhbmRcbi8vIGVtaXQgc3BhbnMgZm9yIHRoZW0uIEZsaXAgdGhlIG9yZGVyIG9mIHRoZSBzcGFucyBhcyBhcHByb3ByaWF0ZVxuLy8gYmFzZWQgb24gdGhlIGxldmVsLCBhbmQgY2FsbCB0aHJvdWdoIHRvIGNvbXB1dGUgdGhlIHNwYW5zIGZvclxuLy8gaXNvbGF0ZXMgYXQgdGhlIHByb3BlciBwb2ludC5cbmZ1bmN0aW9uIGVtaXRTcGFucyhsaW5lLCBmcm9tLCB0bywgbGV2ZWwsIGJhc2VMZXZlbCwgaXNvbGF0ZXMsIG9yZGVyKSB7XG4gICAgbGV0IG91clR5cGUgPSBsZXZlbCAlIDIgPyAyIC8qIFQuUiAqLyA6IDEgLyogVC5MICovO1xuICAgIGlmICgobGV2ZWwgJSAyKSA9PSAoYmFzZUxldmVsICUgMikpIHsgLy8gU2FtZSBkaXIgYXMgYmFzZSBkaXJlY3Rpb24sIGRvbid0IGZsaXBcbiAgICAgICAgZm9yIChsZXQgaUNoID0gZnJvbSwgaUkgPSAwOyBpQ2ggPCB0bzspIHtcbiAgICAgICAgICAgIC8vIFNjYW4gYSBzZWN0aW9uIG9mIGNoYXJhY3RlcnMgaW4gZGlyZWN0aW9uIG91clR5cGUsIHVubGVzc1xuICAgICAgICAgICAgLy8gdGhlcmUncyBhbm90aGVyIHR5cGUgb2YgY2hhciByaWdodCBhZnRlciBpQ2gsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgICAgIC8vIHdlIHNjYW4gYSBzZWN0aW9uIG9mIG90aGVyIGNoYXJhY3RlcnMgKHdoaWNoLCBpZiBvdXJUeXBlID09XG4gICAgICAgICAgICAvLyBULkwsIG1heSBjb250YWluIGJvdGggVC5SIGFuZCBULkFOIGNoYXJzKS5cbiAgICAgICAgICAgIGxldCBzYW1lRGlyID0gdHJ1ZSwgaXNOdW0gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpSSA9PSBpc29sYXRlcy5sZW5ndGggfHwgaUNoIDwgaXNvbGF0ZXNbaUldLmZyb20pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHR5cGVzW2lDaF07XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT0gb3VyVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzYW1lRGlyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlzTnVtID0gbmV4dCA9PSAxNiAvKiBULkFOICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhvbGRzIGFuIGFycmF5IG9mIGlzb2xhdGVzIHRvIHBhc3MgdG8gYSByZWN1cnNpdmUgY2FsbCBpZiB3ZVxuICAgICAgICAgICAgLy8gbXVzdCByZWN1cnNlICh0byBkaXN0aW5ndWlzaCBULkFOIGluc2lkZSBhbiBSVEwgc2VjdGlvbiBpblxuICAgICAgICAgICAgLy8gTFRSIHRleHQpLCBudWxsIGlmIHdlIGNhbiBlbWl0IGRpcmVjdGx5XG4gICAgICAgICAgICBsZXQgcmVjdXJzZSA9ICFzYW1lRGlyICYmIG91clR5cGUgPT0gMSAvKiBULkwgKi8gPyBbXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbG9jYWxMZXZlbCA9IHNhbWVEaXIgPyBsZXZlbCA6IGxldmVsICsgMTtcbiAgICAgICAgICAgIGxldCBpU2NhbiA9IGlDaDtcbiAgICAgICAgICAgIHJ1bjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChpSSA8IGlzb2xhdGVzLmxlbmd0aCAmJiBpU2NhbiA9PSBpc29sYXRlc1tpSV0uZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW0pXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBydW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc28gPSBpc29sYXRlc1tpSV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNjYW4gYWhlYWQgdG8gdmVyaWZ5IHRoYXQgdGhlcmUgaXMgYW5vdGhlciBjaGFyIGluIHRoaXMgZGlyIGFmdGVyIHRoZSBpc29sYXRlKHMpXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2FtZURpcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHVwdG8gPSBpc28udG8sIGpJID0gaUkgKyAxOzspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXB0byA9PSB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqSSA8IGlzb2xhdGVzLmxlbmd0aCAmJiBpc29sYXRlc1tqSV0uZnJvbSA9PSB1cHRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvID0gaXNvbGF0ZXNbakkrK10udG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZXNbdXB0b10gPT0gb3VyVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlJKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN1cnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNlLnB1c2goaXNvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc28uZnJvbSA+IGlDaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbihpQ2gsIGlzby5mcm9tLCBsb2NhbExldmVsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyU3dhcCA9IChpc28uZGlyZWN0aW9uID09IExUUikgIT0gIShsb2NhbExldmVsICUgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGRpclN3YXAgPyBsZXZlbCArIDEgOiBsZXZlbCwgYmFzZUxldmVsLCBpc28uaW5uZXIsIGlzby5mcm9tLCBpc28udG8sIG9yZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlDaCA9IGlzby50bztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpU2NhbiA9IGlzby50bztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPT0gdG8gfHwgKHNhbWVEaXIgPyB0eXBlc1tpU2Nhbl0gIT0gb3VyVHlwZSA6IHR5cGVzW2lTY2FuXSA9PSBvdXJUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlTY2FuKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlY3Vyc2UpXG4gICAgICAgICAgICAgICAgZW1pdFNwYW5zKGxpbmUsIGlDaCwgaVNjYW4sIGxldmVsICsgMSwgYmFzZUxldmVsLCByZWN1cnNlLCBvcmRlcik7XG4gICAgICAgICAgICBlbHNlIGlmIChpQ2ggPCBpU2NhbilcbiAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbihpQ2gsIGlTY2FuLCBsb2NhbExldmVsKSk7XG4gICAgICAgICAgICBpQ2ggPSBpU2NhbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSXRlcmF0ZSBpbiByZXZlcnNlIHRvIGZsaXAgdGhlIHNwYW4gb3JkZXIuIFNhbWUgY29kZSBhZ2FpbiwgYnV0XG4gICAgICAgIC8vIGdvaW5nIGZyb20gdGhlIGJhY2sgb2YgdGhlIHNlY3Rpb24gdG8gdGhlIGZyb250XG4gICAgICAgIGZvciAobGV0IGlDaCA9IHRvLCBpSSA9IGlzb2xhdGVzLmxlbmd0aDsgaUNoID4gZnJvbTspIHtcbiAgICAgICAgICAgIGxldCBzYW1lRGlyID0gdHJ1ZSwgaXNOdW0gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghaUkgfHwgaUNoID4gaXNvbGF0ZXNbaUkgLSAxXS50bykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdHlwZXNbaUNoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT0gb3VyVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzYW1lRGlyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlzTnVtID0gbmV4dCA9PSAxNiAvKiBULkFOICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZWN1cnNlID0gIXNhbWVEaXIgJiYgb3VyVHlwZSA9PSAxIC8qIFQuTCAqLyA/IFtdIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBsb2NhbExldmVsID0gc2FtZURpciA/IGxldmVsIDogbGV2ZWwgKyAxO1xuICAgICAgICAgICAgbGV0IGlTY2FuID0gaUNoO1xuICAgICAgICAgICAgcnVuOiBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlJICYmIGlTY2FuID09IGlzb2xhdGVzW2lJIC0gMV0udG8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNvID0gaXNvbGF0ZXNbLS1pSV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNjYW4gYWhlYWQgdG8gdmVyaWZ5IHRoYXQgdGhlcmUgaXMgYW5vdGhlciBjaGFyIGluIHRoaXMgZGlyIGFmdGVyIHRoZSBpc29sYXRlKHMpXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2FtZURpcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHVwdG8gPSBpc28uZnJvbSwgakkgPSBpSTs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwdG8gPT0gZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqSSAmJiBpc29sYXRlc1tqSSAtIDFdLnRvID09IHVwdG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwdG8gPSBpc29sYXRlc1stLWpJXS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW3VwdG8gLSAxXSA9PSBvdXJUeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBydW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3Vyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3Vyc2UucHVzaChpc28pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzby50byA8IGlDaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3Bhbihpc28udG8sIGlDaCwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpclN3YXAgPSAoaXNvLmRpcmVjdGlvbiA9PSBMVFIpICE9ICEobG9jYWxMZXZlbCAlIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVNlY3Rpb25PcmRlcihsaW5lLCBkaXJTd2FwID8gbGV2ZWwgKyAxIDogbGV2ZWwsIGJhc2VMZXZlbCwgaXNvLmlubmVyLCBpc28uZnJvbSwgaXNvLnRvLCBvcmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpQ2ggPSBpc28uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpU2NhbiA9IGlzby5mcm9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpU2NhbiA9PSBmcm9tIHx8IChzYW1lRGlyID8gdHlwZXNbaVNjYW4gLSAxXSAhPSBvdXJUeXBlIDogdHlwZXNbaVNjYW4gLSAxXSA9PSBvdXJUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlTY2FuLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlY3Vyc2UpXG4gICAgICAgICAgICAgICAgZW1pdFNwYW5zKGxpbmUsIGlTY2FuLCBpQ2gsIGxldmVsICsgMSwgYmFzZUxldmVsLCByZWN1cnNlLCBvcmRlcik7XG4gICAgICAgICAgICBlbHNlIGlmIChpU2NhbiA8IGlDaClcbiAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbihpU2NhbiwgaUNoLCBsb2NhbExldmVsKSk7XG4gICAgICAgICAgICBpQ2ggPSBpU2NhbjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXB1dGVTZWN0aW9uT3JkZXIobGluZSwgbGV2ZWwsIGJhc2VMZXZlbCwgaXNvbGF0ZXMsIGZyb20sIHRvLCBvcmRlcikge1xuICAgIGxldCBvdXRlclR5cGUgPSAobGV2ZWwgJSAyID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLyk7XG4gICAgY29tcHV0ZUNoYXJUeXBlcyhsaW5lLCBmcm9tLCB0bywgaXNvbGF0ZXMsIG91dGVyVHlwZSk7XG4gICAgcHJvY2Vzc0JyYWNrZXRQYWlycyhsaW5lLCBmcm9tLCB0bywgaXNvbGF0ZXMsIG91dGVyVHlwZSk7XG4gICAgcHJvY2Vzc05ldXRyYWxzKGZyb20sIHRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKTtcbiAgICBlbWl0U3BhbnMobGluZSwgZnJvbSwgdG8sIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBvcmRlcik7XG59XG5mdW5jdGlvbiBjb21wdXRlT3JkZXIobGluZSwgZGlyZWN0aW9uLCBpc29sYXRlcykge1xuICAgIGlmICghbGluZSlcbiAgICAgICAgcmV0dXJuIFtuZXcgQmlkaVNwYW4oMCwgMCwgZGlyZWN0aW9uID09IFJUTCA/IDEgOiAwKV07XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBMVFIgJiYgIWlzb2xhdGVzLmxlbmd0aCAmJiAhQmlkaVJFLnRlc3QobGluZSkpXG4gICAgICAgIHJldHVybiB0cml2aWFsT3JkZXIobGluZS5sZW5ndGgpO1xuICAgIGlmIChpc29sYXRlcy5sZW5ndGgpXG4gICAgICAgIHdoaWxlIChsaW5lLmxlbmd0aCA+IHR5cGVzLmxlbmd0aClcbiAgICAgICAgICAgIHR5cGVzW3R5cGVzLmxlbmd0aF0gPSAyNTYgLyogVC5OSSAqLzsgLy8gTWFrZSBzdXJlIHR5cGVzIGFycmF5IGhhcyBubyBnYXBzXG4gICAgbGV0IG9yZGVyID0gW10sIGxldmVsID0gZGlyZWN0aW9uID09IExUUiA/IDAgOiAxO1xuICAgIGNvbXB1dGVTZWN0aW9uT3JkZXIobGluZSwgbGV2ZWwsIGxldmVsLCBpc29sYXRlcywgMCwgbGluZS5sZW5ndGgsIG9yZGVyKTtcbiAgICByZXR1cm4gb3JkZXI7XG59XG5mdW5jdGlvbiB0cml2aWFsT3JkZXIobGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtuZXcgQmlkaVNwYW4oMCwgbGVuZ3RoLCAwKV07XG59XG5sZXQgbW92ZWRPdmVyID0gXCJcIjtcbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gbW92ZXMgc3RyaWN0bHkgdmlzdWFsbHksIHdpdGhvdXQgY29uY2VybiBmb3IgYVxuLy8gdHJhdmVyc2FsIHZpc2l0aW5nIGV2ZXJ5IGxvZ2ljYWwgcG9zaXRpb24gaW4gdGhlIHN0cmluZy4gSXQgd2lsbFxuLy8gc3RpbGwgZG8gc28gZm9yIHNpbXBsZSBpbnB1dCwgYnV0IHNpdHVhdGlvbnMgbGlrZSBtdWx0aXBsZSBpc29sYXRlc1xuLy8gd2l0aCB0aGUgc2FtZSBsZXZlbCBuZXh0IHRvIGVhY2ggb3RoZXIsIG9yIHRleHQgZ29pbmcgYWdhaW5zdCB0aGVcbi8vIG1haW4gZGlyIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUsIHdpbGwgbWFrZSBzb21lIHBvc2l0aW9uc1xuLy8gdW5yZWFjaGFibGUgd2l0aCB0aGlzIG1vdGlvbi4gRWFjaCB2aXNpYmxlIGN1cnNvciBwb3NpdGlvbiB3aWxsXG4vLyBjb3JyZXNwb25kIHRvIHRoZSBsb3dlci1sZXZlbCBiaWRpIHNwYW4gdGhhdCB0b3VjaGVzIGl0LlxuLy9cbi8vIFRoZSBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzb2x2ZSBhbiBvcmRlciBnbG9iYWxseSBmb3IgYSBnaXZlblxuLy8gbGluZSwgbWFraW5nIHN1cmUgdGhhdCBpdCBpbmNsdWRlcyBldmVyeSBwb3NpdGlvbiwgYnV0IHRoYXQgd291bGRcbi8vIHJlcXVpcmUgYXNzb2NpYXRpbmcgbm9uLWNhbm9uaWNhbCAoaGlnaGVyIGJpZGkgc3BhbiBsZXZlbClcbi8vIHBvc2l0aW9ucyB3aXRoIGEgZ2l2ZW4gdmlzdWFsIHBvc2l0aW9uLCB3aGljaCBpcyBsaWtlbHkgdG8gY29uZnVzZVxuLy8gcGVvcGxlLiAoQW5kIHdvdWxkIGdlbmVyYWxseSBiZSBhIGxvdCBtb3JlIGNvbXBsaWNhdGVkLilcbmZ1bmN0aW9uIG1vdmVWaXN1YWxseShsaW5lLCBvcmRlciwgZGlyLCBzdGFydCwgZm9yd2FyZCkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgc3RhcnRJbmRleCA9IHN0YXJ0LmhlYWQgLSBsaW5lLmZyb207XG4gICAgbGV0IHNwYW5JID0gQmlkaVNwYW4uZmluZChvcmRlciwgc3RhcnRJbmRleCwgKF9hID0gc3RhcnQuYmlkaUxldmVsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAtMSwgc3RhcnQuYXNzb2MpO1xuICAgIGxldCBzcGFuID0gb3JkZXJbc3BhbkldLCBzcGFuRW5kID0gc3Bhbi5zaWRlKGZvcndhcmQsIGRpcik7XG4gICAgLy8gRW5kIG9mIHNwYW5cbiAgICBpZiAoc3RhcnRJbmRleCA9PSBzcGFuRW5kKSB7XG4gICAgICAgIGxldCBuZXh0SSA9IHNwYW5JICs9IGZvcndhcmQgPyAxIDogLTE7XG4gICAgICAgIGlmIChuZXh0SSA8IDAgfHwgbmV4dEkgPj0gb3JkZXIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHNwYW4gPSBvcmRlcltzcGFuSSA9IG5leHRJXTtcbiAgICAgICAgc3RhcnRJbmRleCA9IHNwYW4uc2lkZSghZm9yd2FyZCwgZGlyKTtcbiAgICAgICAgc3BhbkVuZCA9IHNwYW4uc2lkZShmb3J3YXJkLCBkaXIpO1xuICAgIH1cbiAgICBsZXQgbmV4dEluZGV4ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHN0YXJ0SW5kZXgsIHNwYW4uZm9yd2FyZChmb3J3YXJkLCBkaXIpKTtcbiAgICBpZiAobmV4dEluZGV4IDwgc3Bhbi5mcm9tIHx8IG5leHRJbmRleCA+IHNwYW4udG8pXG4gICAgICAgIG5leHRJbmRleCA9IHNwYW5FbmQ7XG4gICAgbW92ZWRPdmVyID0gbGluZS50ZXh0LnNsaWNlKE1hdGgubWluKHN0YXJ0SW5kZXgsIG5leHRJbmRleCksIE1hdGgubWF4KHN0YXJ0SW5kZXgsIG5leHRJbmRleCkpO1xuICAgIGxldCBuZXh0U3BhbiA9IHNwYW5JID09IChmb3J3YXJkID8gb3JkZXIubGVuZ3RoIC0gMSA6IDApID8gbnVsbCA6IG9yZGVyW3NwYW5JICsgKGZvcndhcmQgPyAxIDogLTEpXTtcbiAgICBpZiAobmV4dFNwYW4gJiYgbmV4dEluZGV4ID09IHNwYW5FbmQgJiYgbmV4dFNwYW4ubGV2ZWwgKyAoZm9yd2FyZCA/IDAgOiAxKSA8IHNwYW4ubGV2ZWwpXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5leHRTcGFuLnNpZGUoIWZvcndhcmQsIGRpcikgKyBsaW5lLmZyb20sIG5leHRTcGFuLmZvcndhcmQoZm9yd2FyZCwgZGlyKSA/IDEgOiAtMSwgbmV4dFNwYW4ubGV2ZWwpO1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5leHRJbmRleCArIGxpbmUuZnJvbSwgc3Bhbi5mb3J3YXJkKGZvcndhcmQsIGRpcikgPyAtMSA6IDEsIHNwYW4ubGV2ZWwpO1xufVxuZnVuY3Rpb24gYXV0b0RpcmVjdGlvbih0ZXh0LCBmcm9tLCB0bykge1xuICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKykge1xuICAgICAgICBsZXQgdHlwZSA9IGNoYXJUeXBlKHRleHQuY2hhckNvZGVBdChpKSk7XG4gICAgICAgIGlmICh0eXBlID09IDEgLyogVC5MICovKVxuICAgICAgICAgICAgcmV0dXJuIExUUjtcbiAgICAgICAgaWYgKHR5cGUgPT0gMiAvKiBULlIgKi8gfHwgdHlwZSA9PSA0IC8qIFQuQUwgKi8pXG4gICAgICAgICAgICByZXR1cm4gUlRMO1xuICAgIH1cbiAgICByZXR1cm4gTFRSO1xufVxuXG5jb25zdCBjbGlja0FkZHNTZWxlY3Rpb25SYW5nZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGRyYWdNb3Zlc1NlbGVjdGlvbiQxID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgbW91c2VTZWxlY3Rpb25TdHlsZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGV4Y2VwdGlvblNpbmsgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCB1cGRhdGVMaXN0ZW5lciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGlucHV0SGFuZGxlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGZvY3VzQ2hhbmdlRWZmZWN0ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgY2xpcGJvYXJkSW5wdXRGaWx0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBjbGlwYm9hcmRPdXRwdXRGaWx0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBwZXJMaW5lVGV4dERpcmVjdGlvbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbmNvbnN0IG5hdGl2ZVNlbGVjdGlvbkhpZGRlbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbmNvbnN0IHNjcm9sbEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jbGFzcyBTY3JvbGxUYXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKHJhbmdlLCB5ID0gXCJuZWFyZXN0XCIsIHggPSBcIm5lYXJlc3RcIiwgeU1hcmdpbiA9IDUsIHhNYXJnaW4gPSA1LCBcbiAgICAvLyBUaGlzIGRhdGEgc3RydWN0dXJlIGlzIGFidXNlZCB0byBhbHNvIHN0b3JlIHByZWNpc2Ugc2Nyb2xsXG4gICAgLy8gc25hcHNob3RzLCBpbnN0ZWFkIG9mIGEgYHNjcm9sbEludG9WaWV3YCByZXF1ZXN0LiBXaGVuIHRoaXNcbiAgICAvLyBmbGFnIGlzIGB0cnVlYCwgYHJhbmdlYCBwb2ludHMgYXQgYSBwb3NpdGlvbiBpbiB0aGUgcmVmZXJlbmNlXG4gICAgLy8gbGluZSwgYHlNYXJnaW5gIGhvbGRzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHRvcCBvZiB0aGF0XG4gICAgLy8gbGluZSBhbmQgdGhlIHRvcCBvZiB0aGUgZWRpdG9yLCBhbmQgYHhNYXJnaW5gIGhvbGRzIHRoZVxuICAgIC8vIGVkaXRvcidzIGBzY3JvbGxMZWZ0YC5cbiAgICBpc1NuYXBzaG90ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnlNYXJnaW4gPSB5TWFyZ2luO1xuICAgICAgICB0aGlzLnhNYXJnaW4gPSB4TWFyZ2luO1xuICAgICAgICB0aGlzLmlzU25hcHNob3QgPSBpc1NuYXBzaG90O1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gY2hhbmdlcy5lbXB0eSA/IHRoaXMgOlxuICAgICAgICAgICAgbmV3IFNjcm9sbFRhcmdldCh0aGlzLnJhbmdlLm1hcChjaGFuZ2VzKSwgdGhpcy55LCB0aGlzLngsIHRoaXMueU1hcmdpbiwgdGhpcy54TWFyZ2luLCB0aGlzLmlzU25hcHNob3QpO1xuICAgIH1cbiAgICBjbGlwKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlLnRvIDw9IHN0YXRlLmRvYy5sZW5ndGggPyB0aGlzIDpcbiAgICAgICAgICAgIG5ldyBTY3JvbGxUYXJnZXQoRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihzdGF0ZS5kb2MubGVuZ3RoKSwgdGhpcy55LCB0aGlzLngsIHRoaXMueU1hcmdpbiwgdGhpcy54TWFyZ2luLCB0aGlzLmlzU25hcHNob3QpO1xuICAgIH1cbn1cbmNvbnN0IHNjcm9sbEludG9WaWV3ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7IG1hcDogKHQsIGNoKSA9PiB0Lm1hcChjaCkgfSk7XG5jb25zdCBzZXRFZGl0Q29udGV4dEZvcm1hdHRpbmcgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4vKipcbkxvZyBvciByZXBvcnQgYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiBpbiBjbGllbnQgY29kZS4gU2hvdWxkXG5wcm9iYWJseSBvbmx5IGJlIHVzZWQgYnkgZXh0ZW5zaW9uIGNvZGUgdGhhdCBhbGxvd3MgY2xpZW50IGNvZGUgdG9cbnByb3ZpZGUgZnVuY3Rpb25zLCBhbmQgY2FsbHMgdGhvc2UgZnVuY3Rpb25zIGluIGEgY29udGV4dCB3aGVyZSBhblxuZXhjZXB0aW9uIGNhbid0IGJlIHByb3BhZ2F0ZWQgdG8gY2FsbGluZyBjb2RlIGluIGEgcmVhc29uYWJsZSB3YXlcbihmb3IgZXhhbXBsZSB3aGVuIGluIGFuIGV2ZW50IGhhbmRsZXIpLlxuXG5FaXRoZXIgY2FsbHMgYSBoYW5kbGVyIHJlZ2lzdGVyZWQgd2l0aFxuW2BFZGl0b3JWaWV3LmV4Y2VwdGlvblNpbmtgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15leGNlcHRpb25TaW5rKSxcbmB3aW5kb3cub25lcnJvcmAsIGlmIGRlZmluZWQsIG9yIGBjb25zb2xlLmVycm9yYCAoaW4gd2hpY2ggY2FzZVxuaXQnbGwgcGFzcyBgY29udGV4dGAsIHdoZW4gZ2l2ZW4sIGFzIGZpcnN0IGFyZ3VtZW50KS5cbiovXG5mdW5jdGlvbiBsb2dFeGNlcHRpb24oc3RhdGUsIGV4Y2VwdGlvbiwgY29udGV4dCkge1xuICAgIGxldCBoYW5kbGVyID0gc3RhdGUuZmFjZXQoZXhjZXB0aW9uU2luayk7XG4gICAgaWYgKGhhbmRsZXIubGVuZ3RoKVxuICAgICAgICBoYW5kbGVyWzBdKGV4Y2VwdGlvbik7XG4gICAgZWxzZSBpZiAod2luZG93Lm9uZXJyb3IpXG4gICAgICAgIHdpbmRvdy5vbmVycm9yKFN0cmluZyhleGNlcHRpb24pLCBjb250ZXh0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXhjZXB0aW9uKTtcbiAgICBlbHNlIGlmIChjb250ZXh0KVxuICAgICAgICBjb25zb2xlLmVycm9yKGNvbnRleHQgKyBcIjpcIiwgZXhjZXB0aW9uKTtcbiAgICBlbHNlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKTtcbn1cbmNvbnN0IGVkaXRhYmxlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogdHJ1ZSB9KTtcbmxldCBuZXh0UGx1Z2luSUQgPSAwO1xuY29uc3Qgdmlld1BsdWdpbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8qKlxuVmlldyBwbHVnaW5zIGFzc29jaWF0ZSBzdGF0ZWZ1bCB2YWx1ZXMgd2l0aCBhIHZpZXcuIFRoZXkgY2FuXG5pbmZsdWVuY2UgdGhlIHdheSB0aGUgY29udGVudCBpcyBkcmF3biwgYW5kIGFyZSBub3RpZmllZCBvZiB0aGluZ3NcbnRoYXQgaGFwcGVuIGluIHRoZSB2aWV3LlxuKi9cbmNsYXNzIFZpZXdQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaWQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY3JlYXRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGRvbUV2ZW50SGFuZGxlcnMsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZG9tRXZlbnRPYnNlcnZlcnMsIGJ1aWxkRXh0ZW5zaW9ucykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlID0gY3JlYXRlO1xuICAgICAgICB0aGlzLmRvbUV2ZW50SGFuZGxlcnMgPSBkb21FdmVudEhhbmRsZXJzO1xuICAgICAgICB0aGlzLmRvbUV2ZW50T2JzZXJ2ZXJzID0gZG9tRXZlbnRPYnNlcnZlcnM7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gYnVpbGRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBwbHVnaW4gZnJvbSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0aGVcbiAgICBwbHVnaW4ncyB2YWx1ZSwgZ2l2ZW4gYW4gZWRpdG9yIHZpZXcuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKGNyZWF0ZSwgc3BlYykge1xuICAgICAgICBjb25zdCB7IGV2ZW50SGFuZGxlcnMsIGV2ZW50T2JzZXJ2ZXJzLCBwcm92aWRlLCBkZWNvcmF0aW9uczogZGVjbyB9ID0gc3BlYyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UGx1Z2luKG5leHRQbHVnaW5JRCsrLCBjcmVhdGUsIGV2ZW50SGFuZGxlcnMsIGV2ZW50T2JzZXJ2ZXJzLCBwbHVnaW4gPT4ge1xuICAgICAgICAgICAgbGV0IGV4dCA9IFt2aWV3UGx1Z2luLm9mKHBsdWdpbildO1xuICAgICAgICAgICAgaWYgKGRlY28pXG4gICAgICAgICAgICAgICAgZXh0LnB1c2goZGVjb3JhdGlvbnMub2YodmlldyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwbHVnaW5JbnN0ID0gdmlldy5wbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbkluc3QgPyBkZWNvKHBsdWdpbkluc3QpIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlKVxuICAgICAgICAgICAgICAgIGV4dC5wdXNoKHByb3ZpZGUocGx1Z2luKSk7XG4gICAgICAgICAgICByZXR1cm4gZXh0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcGx1Z2luIGZvciBhIGNsYXNzIHdob3NlIGNvbnN0cnVjdG9yIHRha2VzIGEgc2luZ2xlXG4gICAgZWRpdG9yIHZpZXcgYXMgYXJndW1lbnQuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUNsYXNzKGNscywgc3BlYykge1xuICAgICAgICByZXR1cm4gVmlld1BsdWdpbi5kZWZpbmUodmlldyA9PiBuZXcgY2xzKHZpZXcpLCBzcGVjKTtcbiAgICB9XG59XG5jbGFzcyBQbHVnaW5JbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICAvLyBXaGVuIHN0YXJ0aW5nIGFuIHVwZGF0ZSwgYWxsIHBsdWdpbnMgaGF2ZSB0aGlzIGZpZWxkIHNldCB0byB0aGVcbiAgICAgICAgLy8gdXBkYXRlIG9iamVjdCwgaW5kaWNhdGluZyB0aGV5IG5lZWQgdG8gYmUgdXBkYXRlZC4gV2hlbiBmaW5pc2hlZFxuICAgICAgICAvLyB1cGRhdGluZywgaXQgaXMgc2V0IHRvIGBmYWxzZWAuIFJldHJpZXZpbmcgYSBwbHVnaW4gdGhhdCBuZWVkcyB0b1xuICAgICAgICAvLyBiZSB1cGRhdGVkIHdpdGggYHZpZXcucGx1Z2luYCBmb3JjZXMgYW4gZWFnZXIgdXBkYXRlLlxuICAgICAgICB0aGlzLm11c3RVcGRhdGUgPSBudWxsO1xuICAgICAgICAvLyBUaGlzIGlzIG51bGwgd2hlbiB0aGUgcGx1Z2luIGlzIGluaXRpYWxseSBjcmVhdGVkLCBidXRcbiAgICAgICAgLy8gaW5pdGlhbGl6ZWQgb24gdGhlIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIHVwZGF0ZSh2aWV3KSB7XG4gICAgICAgIGlmICghdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3BlYykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnNwZWMuY3JlYXRlKHZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSwgXCJDb2RlTWlycm9yIHBsdWdpbiBjcmFzaGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tdXN0VXBkYXRlKSB7XG4gICAgICAgICAgICBsZXQgdXBkYXRlID0gdGhpcy5tdXN0VXBkYXRlO1xuICAgICAgICAgICAgdGhpcy5tdXN0VXBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLnVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih1cGRhdGUuc3RhdGUsIGUsIFwiQ29kZU1pcnJvciBwbHVnaW4gY3Jhc2hlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUuZGVzdHJveSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVzdHJveSh2aWV3KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSwgXCJDb2RlTWlycm9yIHBsdWdpbiBjcmFzaGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IHRoaXMudmFsdWUgPSBudWxsO1xuICAgIH1cbn1cbmNvbnN0IGVkaXRvckF0dHJpYnV0ZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBjb250ZW50QXR0cmlidXRlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8vIFByb3ZpZGUgZGVjb3JhdGlvbnNcbmNvbnN0IGRlY29yYXRpb25zID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3Qgb3V0ZXJEZWNvcmF0aW9ucyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGF0b21pY1JhbmdlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGJpZGlJc29sYXRlZFJhbmdlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmZ1bmN0aW9uIGdldElzb2xhdGVkUmFuZ2VzKHZpZXcsIGxpbmUpIHtcbiAgICBsZXQgaXNvbGF0ZXMgPSB2aWV3LnN0YXRlLmZhY2V0KGJpZGlJc29sYXRlZFJhbmdlcyk7XG4gICAgaWYgKCFpc29sYXRlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBpc29sYXRlcztcbiAgICBsZXQgc2V0cyA9IGlzb2xhdGVzLm1hcChpID0+IGkgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGkodmlldykgOiBpKTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgUmFuZ2VTZXQuc3BhbnMoc2V0cywgbGluZS5mcm9tLCBsaW5lLnRvLCB7XG4gICAgICAgIHBvaW50KCkgeyB9LFxuICAgICAgICBzcGFuKGZyb21Eb2MsIHRvRG9jLCBhY3RpdmUsIG9wZW4pIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gZnJvbURvYyAtIGxpbmUuZnJvbSwgdG8gPSB0b0RvYyAtIGxpbmUuZnJvbTtcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0sIG9wZW4tLSkge1xuICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBhY3RpdmVbaV0uc3BlYy5iaWRpSXNvbGF0ZSwgdXBkYXRlO1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gYXV0b0RpcmVjdGlvbihsaW5lLnRleHQsIGZyb20sIHRvKTtcbiAgICAgICAgICAgICAgICBpZiAob3BlbiA+IDAgJiYgbGV2ZWwubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgICh1cGRhdGUgPSBsZXZlbFtsZXZlbC5sZW5ndGggLSAxXSkudG8gPT0gZnJvbSAmJiB1cGRhdGUuZGlyZWN0aW9uID09IGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGUudG8gPSB0bztcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSB1cGRhdGUuaW5uZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWRkID0geyBmcm9tLCB0bywgZGlyZWN0aW9uLCBpbm5lcjogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwucHVzaChhZGQpO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IGFkZC5pbm5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3Qgc2Nyb2xsTWFyZ2lucyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmZ1bmN0aW9uIGdldFNjcm9sbE1hcmdpbnModmlldykge1xuICAgIGxldCBsZWZ0ID0gMCwgcmlnaHQgPSAwLCB0b3AgPSAwLCBib3R0b20gPSAwO1xuICAgIGZvciAobGV0IHNvdXJjZSBvZiB2aWV3LnN0YXRlLmZhY2V0KHNjcm9sbE1hcmdpbnMpKSB7XG4gICAgICAgIGxldCBtID0gc291cmNlKHZpZXcpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgaWYgKG0ubGVmdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCBtLmxlZnQpO1xuICAgICAgICAgICAgaWYgKG0ucmlnaHQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWF4KHJpZ2h0LCBtLnJpZ2h0KTtcbiAgICAgICAgICAgIGlmIChtLnRvcCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHRvcCwgbS50b3ApO1xuICAgICAgICAgICAgaWYgKG0uYm90dG9tICE9IG51bGwpXG4gICAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoYm90dG9tLCBtLmJvdHRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIH07XG59XG5jb25zdCBzdHlsZU1vZHVsZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNsYXNzIENoYW5nZWRSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikge1xuICAgICAgICB0aGlzLmZyb21BID0gZnJvbUE7XG4gICAgICAgIHRoaXMudG9BID0gdG9BO1xuICAgICAgICB0aGlzLmZyb21CID0gZnJvbUI7XG4gICAgICAgIHRoaXMudG9CID0gdG9CO1xuICAgIH1cbiAgICBqb2luKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlZFJhbmdlKE1hdGgubWluKHRoaXMuZnJvbUEsIG90aGVyLmZyb21BKSwgTWF0aC5tYXgodGhpcy50b0EsIG90aGVyLnRvQSksIE1hdGgubWluKHRoaXMuZnJvbUIsIG90aGVyLmZyb21CKSwgTWF0aC5tYXgodGhpcy50b0IsIG90aGVyLnRvQikpO1xuICAgIH1cbiAgICBhZGRUb1NldChzZXQpIHtcbiAgICAgICAgbGV0IGkgPSBzZXQubGVuZ3RoLCBtZSA9IHRoaXM7XG4gICAgICAgIGZvciAoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBzZXRbaSAtIDFdO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmZyb21BID4gbWUudG9BKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHJhbmdlLnRvQSA8IG1lLmZyb21BKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbWUgPSBtZS5qb2luKHJhbmdlKTtcbiAgICAgICAgICAgIHNldC5zcGxpY2UoaSAtIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHNldC5zcGxpY2UoaSwgMCwgbWUpO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgZXh0ZW5kV2l0aFJhbmdlcyhkaWZmLCByYW5nZXMpIHtcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGRJID0gMCwgckkgPSAwLCBwb3NBID0gMCwgcG9zQiA9IDA7OyBkSSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGRJID09IGRpZmYubGVuZ3RoID8gbnVsbCA6IGRpZmZbZEldLCBvZmYgPSBwb3NBIC0gcG9zQjtcbiAgICAgICAgICAgIGxldCBlbmQgPSBuZXh0ID8gbmV4dC5mcm9tQiA6IDFlOTtcbiAgICAgICAgICAgIHdoaWxlIChySSA8IHJhbmdlcy5sZW5ndGggJiYgcmFuZ2VzW3JJXSA8IGVuZCkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gcmFuZ2VzW3JJXSwgdG8gPSByYW5nZXNbckkgKyAxXTtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbUIgPSBNYXRoLm1heChwb3NCLCBmcm9tKSwgdG9CID0gTWF0aC5taW4oZW5kLCB0byk7XG4gICAgICAgICAgICAgICAgaWYgKGZyb21CIDw9IHRvQilcbiAgICAgICAgICAgICAgICAgICAgbmV3IENoYW5nZWRSYW5nZShmcm9tQiArIG9mZiwgdG9CICsgb2ZmLCBmcm9tQiwgdG9CKS5hZGRUb1NldChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmICh0byA+IGVuZClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBySSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICBuZXcgQ2hhbmdlZFJhbmdlKG5leHQuZnJvbUEsIG5leHQudG9BLCBuZXh0LmZyb21CLCBuZXh0LnRvQikuYWRkVG9TZXQocmVzdWx0KTtcbiAgICAgICAgICAgIHBvc0EgPSBuZXh0LnRvQTtcbiAgICAgICAgICAgIHBvc0IgPSBuZXh0LnRvQjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuVmlldyBbcGx1Z2luc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlZpZXdQbHVnaW4pIGFyZSBnaXZlbiBpbnN0YW5jZXMgb2YgdGhpc1xuY2xhc3MsIHdoaWNoIGRlc2NyaWJlIHdoYXQgaGFwcGVuZWQsIHdoZW5ldmVyIHRoZSB2aWV3IGlzIHVwZGF0ZWQuXG4qL1xuY2xhc3MgVmlld1VwZGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGVkaXRvciB2aWV3IHRoYXQgdGhlIHVwZGF0ZSBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAgKi9cbiAgICB2aWV3LCBcbiAgICAvKipcbiAgICBUaGUgbmV3IGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBUaGUgdHJhbnNhY3Rpb25zIGludm9sdmVkIGluIHRoZSB1cGRhdGUuIE1heSBiZSBlbXB0eS5cbiAgICAqL1xuICAgIHRyYW5zYWN0aW9ucykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25zID0gdHJhbnNhY3Rpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZmxhZ3MgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0U3RhdGUgPSB2aWV3LnN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBDaGFuZ2VTZXQuZW1wdHkodGhpcy5zdGFydFN0YXRlLmRvYy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCB0ciBvZiB0cmFuc2FjdGlvbnMpXG4gICAgICAgICAgICB0aGlzLmNoYW5nZXMgPSB0aGlzLmNoYW5nZXMuY29tcG9zZSh0ci5jaGFuZ2VzKTtcbiAgICAgICAgbGV0IGNoYW5nZWRSYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLml0ZXJDaGFuZ2VkUmFuZ2VzKChmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSA9PiBjaGFuZ2VkUmFuZ2VzLnB1c2gobmV3IENoYW5nZWRSYW5nZShmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSkpO1xuICAgICAgICB0aGlzLmNoYW5nZWRSYW5nZXMgPSBjaGFuZ2VkUmFuZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUodmlldywgc3RhdGUsIHRyYW5zYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdVcGRhdGUodmlldywgc3RhdGUsIHRyYW5zYWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRlbGxzIHlvdSB3aGV0aGVyIHRoZSBbdmlld3BvcnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnZpZXdwb3J0KSBvclxuICAgIFt2aXNpYmxlIHJhbmdlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudmlzaWJsZVJhbmdlcykgY2hhbmdlZCBpbiB0aGlzXG4gICAgdXBkYXRlLlxuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoZSBoZWlnaHQgb2YgYSBibG9jayBlbGVtZW50IGluIHRoZSBlZGl0b3JcbiAgICBjaGFuZ2VkIGluIHRoaXMgdXBkYXRlLlxuICAgICovXG4gICAgZ2V0IGhlaWdodENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIHdoZW4gdGhlIGRvY3VtZW50IHdhcyBtb2RpZmllZCBvciB0aGUgc2l6ZSBvZiB0aGVcbiAgICBlZGl0b3IsIG9yIGVsZW1lbnRzIHdpdGhpbiB0aGUgZWRpdG9yLCBjaGFuZ2VkLlxuICAgICovXG4gICAgZ2V0IGdlb21ldHJ5Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jQ2hhbmdlZCB8fCAodGhpcy5mbGFncyAmICg4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi8gfCAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSkgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyB1cGRhdGUgaW5kaWNhdGVzIGEgZm9jdXMgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IGZvY3VzQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgMSAvKiBVcGRhdGVGbGFnLkZvY3VzICovKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIGRvY3VtZW50IGNoYW5nZWQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgZG9jQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNoYW5nZXMuZW1wdHk7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiB3YXMgZXhwbGljaXRseSBzZXQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgc2VsZWN0aW9uU2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5zZWxlY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBlbXB0eSgpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgPT0gMCAmJiB0aGlzLnRyYW5zYWN0aW9ucy5sZW5ndGggPT0gMDsgfVxufVxuXG5jbGFzcyBEb2NWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aDsgfVxuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwID0gW2ZhbHNlXTtcbiAgICAgICAgdGhpcy5kb21DaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNDb21wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24gPSBuZXcgU2V0O1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0Rm9ybWF0dGluZyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgdGhpcy5sYXN0Q29tcG9zaXRpb25BZnRlckN1cnNvciA9IGZhbHNlO1xuICAgICAgICAvLyBUcmFjayBhIG1pbmltdW0gd2lkdGggZm9yIHRoZSBlZGl0b3IuIFdoZW4gbWVhc3VyaW5nIHNpemVzIGluXG4gICAgICAgIC8vIG1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHMsIHRoaXMgaXMgdXBkYXRlZCB0byBwb2ludCBhdCB0aGUgd2lkdGhcbiAgICAgICAgLy8gb2YgYSBnaXZlbiBlbGVtZW50IGFuZCBpdHMgZXh0ZW50IGluIHRoZSBkb2N1bWVudC4gV2hlbiBhIGNoYW5nZVxuICAgICAgICAvLyBoYXBwZW5zIGluIHRoYXQgcmFuZ2UsIHRoZXNlIGFyZSByZXNldC4gVGhhdCB3YXksIG9uY2Ugd2UndmUgc2VlblxuICAgICAgICAvLyBhIGxpbmUvZWxlbWVudCBvZiBhIGdpdmVuIGxlbmd0aCwgd2Uga2VlcCB0aGUgZWRpdG9yIHdpZGUgZW5vdWdoXG4gICAgICAgIC8vIHRvIGZpdCBhdCBsZWFzdCB0aGF0IGVsZW1lbnQsIHVudGlsIGl0IGlzIGNoYW5nZWQsIGF0IHdoaWNoIHBvaW50XG4gICAgICAgIC8vIHdlIGZvcmdldCBpdCBhZ2Fpbi5cbiAgICAgICAgdGhpcy5taW5XaWR0aCA9IDA7XG4gICAgICAgIHRoaXMubWluV2lkdGhGcm9tID0gMDtcbiAgICAgICAgdGhpcy5taW5XaWR0aFRvID0gMDtcbiAgICAgICAgLy8gVHJhY2sgd2hldGhlciB0aGUgRE9NIHNlbGVjdGlvbiB3YXMgc2V0IGluIGEgbG9zc3kgd2F5LCBzbyB0aGF0XG4gICAgICAgIC8vIHdlIGRvbid0IG1lc3MgaXQgdXAgd2hlbiByZWFkaW5nIGl0IGJhY2sgaXRcbiAgICAgICAgdGhpcy5pbXByZWNpc2VBbmNob3IgPSBudWxsO1xuICAgICAgICB0aGlzLmltcHJlY2lzZUhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIC8vIFVzZWQgYnkgdGhlIHJlc2l6ZSBvYnNlcnZlciB0byBpZ25vcmUgcmVzaXplcyB0aGF0IHdlIGNhdXNlZFxuICAgICAgICAvLyBvdXJzZWx2ZXNcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5zZXRET00odmlldy5jb250ZW50RE9NKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtuZXcgTGluZVZpZXddO1xuICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLnNldFBhcmVudCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVEZWNvKCk7XG4gICAgICAgIHRoaXMudXBkYXRlSW5uZXIoW25ldyBDaGFuZ2VkUmFuZ2UoMCwgMCwgMCwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoKV0sIDAsIG51bGwpO1xuICAgIH1cbiAgICAvLyBVcGRhdGUgdGhlIGRvY3VtZW50IHZpZXcgdG8gYSBnaXZlbiBzdGF0ZS5cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGNoYW5nZWRSYW5nZXMgPSB1cGRhdGUuY2hhbmdlZFJhbmdlcztcbiAgICAgICAgaWYgKHRoaXMubWluV2lkdGggPiAwICYmIGNoYW5nZWRSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoIWNoYW5nZWRSYW5nZXMuZXZlcnkoKHsgZnJvbUEsIHRvQSB9KSA9PiB0b0EgPCB0aGlzLm1pbldpZHRoRnJvbSB8fCBmcm9tQSA+IHRoaXMubWluV2lkdGhUbykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoID0gdGhpcy5taW5XaWR0aEZyb20gPSB0aGlzLm1pbldpZHRoVG8gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5taW5XaWR0aEZyb20sIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhUbyA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0aGlzLm1pbldpZHRoVG8sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdENvbnRleHRGb3JtYXR0aW5nKHVwZGF0ZSk7XG4gICAgICAgIGxldCByZWFkQ29tcG9zaXRpb25BdCA9IC0xO1xuICAgICAgICBpZiAodGhpcy52aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDAgJiYgIXRoaXMudmlldy5vYnNlcnZlci5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgaWYgKChfYSA9IHRoaXMuZG9tQ2hhbmdlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5ld1NlbClcbiAgICAgICAgICAgICAgICByZWFkQ29tcG9zaXRpb25BdCA9IHRoaXMuZG9tQ2hhbmdlZC5uZXdTZWwuaGVhZDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0b3VjaGVzQ29tcG9zaXRpb24odXBkYXRlLmNoYW5nZXMsIHRoaXMuaGFzQ29tcG9zaXRpb24pICYmICF1cGRhdGUuc2VsZWN0aW9uU2V0KVxuICAgICAgICAgICAgICAgIHJlYWRDb21wb3NpdGlvbkF0ID0gdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbXBvc2l0aW9uID0gcmVhZENvbXBvc2l0aW9uQXQgPiAtMSA/IGZpbmRDb21wb3NpdGlvblJhbmdlKHRoaXMudmlldywgdXBkYXRlLmNoYW5nZXMsIHJlYWRDb21wb3NpdGlvbkF0KSA6IG51bGw7XG4gICAgICAgIHRoaXMuZG9tQ2hhbmdlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmNsZWFyKCk7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gdGhpcy5oYXNDb21wb3NpdGlvbjtcbiAgICAgICAgICAgIGNoYW5nZWRSYW5nZXMgPSBuZXcgQ2hhbmdlZFJhbmdlKGZyb20sIHRvLCB1cGRhdGUuY2hhbmdlcy5tYXBQb3MoZnJvbSwgLTEpLCB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModG8sIDEpKVxuICAgICAgICAgICAgICAgIC5hZGRUb1NldChjaGFuZ2VkUmFuZ2VzLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzQ29tcG9zaXRpb24gPSBjb21wb3NpdGlvbiA/IHsgZnJvbTogY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIHRvOiBjb21wb3NpdGlvbi5yYW5nZS50b0IgfSA6IG51bGw7XG4gICAgICAgIC8vIFdoZW4gdGhlIERPTSBub2RlcyBhcm91bmQgdGhlIHNlbGVjdGlvbiBhcmUgbW92ZWQgdG8gYW5vdGhlclxuICAgICAgICAvLyBwYXJlbnQsIENocm9tZSBzb21ldGltZXMgcmVwb3J0cyBhIGRpZmZlcmVudCBzZWxlY3Rpb24gdGhyb3VnaFxuICAgICAgICAvLyBnZXRTZWxlY3Rpb24gdGhhbiB0aGUgb25lIHRoYXQgaXQgYWN0dWFsbHkgc2hvd3MgdG8gdGhlIHVzZXIuXG4gICAgICAgIC8vIFRoaXMgZm9yY2VzIGEgc2VsZWN0aW9uIHVwZGF0ZSB3aGVuIGxpbmVzIGFyZSBqb2luZWQgdG8gd29ya1xuICAgICAgICAvLyBhcm91bmQgdGhhdC4gSXNzdWUgIzU0XG4gICAgICAgIGlmICgoYnJvd3Nlci5pZSB8fCBicm93c2VyLmNocm9tZSkgJiYgIWNvbXBvc2l0aW9uICYmIHVwZGF0ZSAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLmRvYy5saW5lcyAhPSB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZXMpXG4gICAgICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgbGV0IHByZXZEZWNvID0gdGhpcy5kZWNvcmF0aW9ucywgZGVjbyA9IHRoaXMudXBkYXRlRGVjbygpO1xuICAgICAgICBsZXQgZGVjb0RpZmYgPSBmaW5kQ2hhbmdlZERlY28ocHJldkRlY28sIGRlY28sIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgY2hhbmdlZFJhbmdlcyA9IENoYW5nZWRSYW5nZS5leHRlbmRXaXRoUmFuZ2VzKGNoYW5nZWRSYW5nZXMsIGRlY29EaWZmKTtcbiAgICAgICAgaWYgKCEodGhpcy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pICYmIGNoYW5nZWRSYW5nZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5uZXIoY2hhbmdlZFJhbmdlcywgdXBkYXRlLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCwgY29tcG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVc2VkIGJ5IHVwZGF0ZSBhbmQgdGhlIGNvbnN0cnVjdG9yIGRvIHBlcmZvcm0gdGhlIGFjdHVhbCBET01cbiAgICAvLyB1cGRhdGVcbiAgICB1cGRhdGVJbm5lcihjaGFuZ2VzLCBvbGRMZW5ndGgsIGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihjaGFuZ2VzLCBvbGRMZW5ndGgsIGNvbXBvc2l0aW9uKTtcbiAgICAgICAgbGV0IHsgb2JzZXJ2ZXIgfSA9IHRoaXMudmlldztcbiAgICAgICAgb2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIC8vIExvY2sgdGhlIGhlaWdodCBkdXJpbmcgcmVkcmF3aW5nLCBzaW5jZSBDaHJvbWUgc29tZXRpbWVzXG4gICAgICAgICAgICAvLyBtZXNzZXMgd2l0aCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGR1cmluZyBET00gbXV0YXRpb24gKHRob3VnaFxuICAgICAgICAgICAgLy8gbm8gcmVsYXlvdXQgaXMgdHJpZ2dlcmVkIGFuZCBJIGNhbm5vdCBpbWFnaW5lIGhvdyBpdCBjYW5cbiAgICAgICAgICAgIC8vIHJlY29tcHV0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHdpdGhvdXQgYSBsYXlvdXQpXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5oZWlnaHQgPSB0aGlzLnZpZXcudmlld1N0YXRlLmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuZmxleEJhc2lzID0gdGhpcy5taW5XaWR0aCA/IHRoaXMubWluV2lkdGggKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgc29tZXRpbWVzLCB3aGVuIERPTSBtdXRhdGlvbnMgb2NjdXIgZGlyZWN0bHlcbiAgICAgICAgICAgIC8vIGFyb3VuZCB0aGUgc2VsZWN0aW9uLCBnZXQgY29uZnVzZWQgYW5kIHJlcG9ydCBhIGRpZmZlcmVudFxuICAgICAgICAgICAgLy8gc2VsZWN0aW9uIGZyb20gdGhlIG9uZSBpdCBkaXNwbGF5cyAoaXNzdWUgIzIxOCkuIFRoaXMgdHJpZXNcbiAgICAgICAgICAgIC8vIHRvIGRldGVjdCB0aGF0IHNpdHVhdGlvbi5cbiAgICAgICAgICAgIGxldCB0cmFjayA9IGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuaW9zID8geyBub2RlOiBvYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUsIHdyaXR0ZW46IGZhbHNlIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnN5bmModGhpcy52aWV3LCB0cmFjayk7XG4gICAgICAgICAgICB0aGlzLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgaWYgKHRyYWNrICYmICh0cmFjay53cml0dGVuIHx8IG9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSAhPSB0cmFjay5ub2RlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmZvckVhY2goY1ZpZXcgPT4gY1ZpZXcuZmxhZ3MgJj0gfjggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgICAgICBsZXQgZ2FwcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy52aWV3LnZpZXdwb3J0LmZyb20gfHwgdGhpcy52aWV3LnZpZXdwb3J0LnRvIDwgdGhpcy52aWV3LnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJiBjaGlsZC53aWRnZXQgaW5zdGFuY2VvZiBCbG9ja0dhcFdpZGdldClcbiAgICAgICAgICAgICAgICAgICAgZ2Fwcy5wdXNoKGNoaWxkLmRvbSk7XG4gICAgICAgIG9ic2VydmVyLnVwZGF0ZUdhcHMoZ2Fwcyk7XG4gICAgfVxuICAgIHVwZGF0ZUNoaWxkcmVuKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IGNvbXBvc2l0aW9uID8gY29tcG9zaXRpb24ucmFuZ2UuYWRkVG9TZXQoY2hhbmdlcy5zbGljZSgpKSA6IGNoYW5nZXM7XG4gICAgICAgIGxldCBjdXJzb3IgPSB0aGlzLmNoaWxkQ3Vyc29yKG9sZExlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSByYW5nZXMubGVuZ3RoIC0gMTs7IGktLSkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID49IDAgPyByYW5nZXNbaV0gOiBudWxsO1xuICAgICAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHsgZnJvbUEsIHRvQSwgZnJvbUIsIHRvQiB9ID0gbmV4dCwgY29udGVudCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQ7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRpb24gJiYgY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIgPCB0b0IgJiYgY29tcG9zaXRpb24ucmFuZ2UudG9CID4gZnJvbUIpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmVmb3JlID0gQ29udGVudEJ1aWxkZXIuYnVpbGQodGhpcy52aWV3LnN0YXRlLmRvYywgZnJvbUIsIGNvbXBvc2l0aW9uLnJhbmdlLmZyb21CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBjb21wb3NpdGlvbi5yYW5nZS50b0IsIHRvQiwgdGhpcy5kZWNvcmF0aW9ucywgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWtBdFN0YXJ0ID0gYmVmb3JlLmJyZWFrQXRTdGFydDtcbiAgICAgICAgICAgICAgICBvcGVuU3RhcnQgPSBiZWZvcmUub3BlblN0YXJ0O1xuICAgICAgICAgICAgICAgIG9wZW5FbmQgPSBhZnRlci5vcGVuRW5kO1xuICAgICAgICAgICAgICAgIGxldCBjb21wTGluZSA9IHRoaXMuY29tcG9zaXRpb25WaWV3KGNvbXBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIuYnJlYWtBdFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhZnRlci5jb250ZW50Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBjb21wTGluZS5tZXJnZShjb21wTGluZS5sZW5ndGgsIGNvbXBMaW5lLmxlbmd0aCwgYWZ0ZXIuY29udGVudFswXSwgZmFsc2UsIGFmdGVyLm9wZW5TdGFydCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUuYnJlYWtBZnRlciA9IGFmdGVyLmNvbnRlbnRbMF0uYnJlYWtBZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIuY29udGVudC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlLmNvbnRlbnQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLm1lcmdlKDAsIDAsIGJlZm9yZS5jb250ZW50W2JlZm9yZS5jb250ZW50Lmxlbmd0aCAtIDFdLCB0cnVlLCAwLCBiZWZvcmUub3BlbkVuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlLmNvbnRlbnQucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUuY29udGVudC5jb25jYXQoY29tcExpbmUpLmNvbmNhdChhZnRlci5jb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICh7IGNvbnRlbnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kIH0gPVxuICAgICAgICAgICAgICAgICAgICBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBmcm9tQiwgdG9CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeyBpOiB0b0ksIG9mZjogdG9PZmYgfSA9IGN1cnNvci5maW5kUG9zKHRvQSwgMSk7XG4gICAgICAgICAgICBsZXQgeyBpOiBmcm9tSSwgb2ZmOiBmcm9tT2ZmIH0gPSBjdXJzb3IuZmluZFBvcyhmcm9tQSwgLTEpO1xuICAgICAgICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5maXhDb21wb3NpdGlvbkRPTShjb21wb3NpdGlvbik7XG4gICAgfVxuICAgIHVwZGF0ZUVkaXRDb250ZXh0Rm9ybWF0dGluZyh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5lZGl0Q29udGV4dEZvcm1hdHRpbmcgPSB0aGlzLmVkaXRDb250ZXh0Rm9ybWF0dGluZy5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBmb3IgKGxldCB0ciBvZiB1cGRhdGUudHJhbnNhY3Rpb25zKVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzZXRFZGl0Q29udGV4dEZvcm1hdHRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHRGb3JtYXR0aW5nID0gZWZmZWN0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9zaXRpb25WaWV3KGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBjdXIgPSBuZXcgVGV4dFZpZXcoY29tcG9zaXRpb24udGV4dC5ub2RlVmFsdWUpO1xuICAgICAgICBjdXIuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLztcbiAgICAgICAgZm9yIChsZXQgeyBkZWNvIH0gb2YgY29tcG9zaXRpb24ubWFya3MpXG4gICAgICAgICAgICBjdXIgPSBuZXcgTWFya1ZpZXcoZGVjbywgW2N1cl0sIGN1ci5sZW5ndGgpO1xuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgbGluZS5hcHBlbmQoY3VyLCAwKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGZpeENvbXBvc2l0aW9uRE9NKGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBmaXggPSAoZG9tLCBjVmlldykgPT4ge1xuICAgICAgICAgICAgY1ZpZXcuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyB8IChjVmlldy5jaGlsZHJlbi5zb21lKGMgPT4gYy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pID8gMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovIDogMCk7XG4gICAgICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmFkZChjVmlldyk7XG4gICAgICAgICAgICBsZXQgcHJldiA9IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICAgICAgaWYgKHByZXYgJiYgcHJldiAhPSBjVmlldylcbiAgICAgICAgICAgICAgICBwcmV2LmRvbSA9IG51bGw7XG4gICAgICAgICAgICBjVmlldy5zZXRET00oZG9tKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuY2hpbGRQb3MoY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIDEpO1xuICAgICAgICBsZXQgY1ZpZXcgPSB0aGlzLmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgZml4KGNvbXBvc2l0aW9uLmxpbmUsIGNWaWV3KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbXBvc2l0aW9uLm1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gLTE7IGktLSkge1xuICAgICAgICAgICAgcG9zID0gY1ZpZXcuY2hpbGRQb3MocG9zLm9mZiwgMSk7XG4gICAgICAgICAgICBjVmlldyA9IGNWaWV3LmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgICAgIGZpeChpID49IDAgPyBjb21wb3NpdGlvbi5tYXJrc1tpXS5ub2RlIDogY29tcG9zaXRpb24udGV4dCwgY1ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFN5bmMgdGhlIERPTSBzZWxlY3Rpb24gdG8gdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB1cGRhdGVTZWxlY3Rpb24obXVzdFJlYWQgPSBmYWxzZSwgZnJvbVBvaW50ZXIgPSBmYWxzZSkge1xuICAgICAgICBpZiAobXVzdFJlYWQgfHwgIXRoaXMudmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUpXG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBhY3RpdmVFbHQgPSB0aGlzLnZpZXcucm9vdC5hY3RpdmVFbGVtZW50LCBmb2N1c2VkID0gYWN0aXZlRWx0ID09IHRoaXMuZG9tO1xuICAgICAgICBsZXQgc2VsZWN0aW9uTm90Rm9jdXMgPSAhZm9jdXNlZCAmJlxuICAgICAgICAgICAgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UpICYmICEoYWN0aXZlRWx0ICYmIHRoaXMuZG9tLmNvbnRhaW5zKGFjdGl2ZUVsdCkpO1xuICAgICAgICBpZiAoIShmb2N1c2VkIHx8IGZyb21Qb2ludGVyIHx8IHNlbGVjdGlvbk5vdEZvY3VzKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZvcmNlID0gdGhpcy5mb3JjZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5mb3JjZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IGFuY2hvciA9IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uYW5jaG9yKSk7XG4gICAgICAgIGxldCBoZWFkID0gbWFpbi5lbXB0eSA/IGFuY2hvciA6IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uaGVhZCkpO1xuICAgICAgICAvLyBBbHdheXMgcmVzZXQgb24gRmlyZWZveCB3aGVuIG5leHQgdG8gYW4gdW5lZGl0YWJsZSBub2RlIHRvXG4gICAgICAgIC8vIGF2b2lkIGludmlzaWJsZSBjdXJzb3IgYnVncyAoIzExMSlcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbWFpbi5lbXB0eSAmJiAhdGhpcy5oYXNDb21wb3NpdGlvbiAmJiBiZXR3ZWVuVW5lZGl0YWJsZShhbmNob3IpKSB7XG4gICAgICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4gYW5jaG9yLm5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15LCBhbmNob3Iubm9kZS5jaGlsZE5vZGVzW2FuY2hvci5vZmZzZXRdIHx8IG51bGwpKTtcbiAgICAgICAgICAgIGFuY2hvciA9IGhlYWQgPSBuZXcgRE9NUG9zKGR1bW15LCAwKTtcbiAgICAgICAgICAgIGZvcmNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZG9tU2VsID0gdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGFscmVhZHkgaGVyZSwgb3IgaW4gYW4gZXF1aXZhbGVudCBwb3NpdGlvbiwgZG9uJ3QgdG91Y2ggaXRcbiAgICAgICAgaWYgKGZvcmNlIHx8ICFkb21TZWwuZm9jdXNOb2RlIHx8ICghaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSB8fFxuICAgICAgICAgICAgIWlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpICYmICF0aGlzLnN1cHByZXNzV2lkZ2V0Q3Vyc29yQ2hhbmdlKGRvbVNlbCwgbWFpbikpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgaGlkZSB0aGUgdmlydHVhbCBrZXlib2FyZCB3aGVuIHRhcHBpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnNpZGUgYW4gdW5lZGl0YWJsZSBub2RlLCBhbmQgbm90IGJyaW5nIGl0IGJhY2sgd2hlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGN1cnNvciB0byBpdHMgcHJvcGVyIHBvc2l0aW9uLiBUaGlzIHRyaWVzIHRvXG4gICAgICAgICAgICAgICAgLy8gcmVzdG9yZSB0aGUga2V5Ym9hcmQgYnkgY3ljbGluZyBmb2N1cy5cbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmIHRoaXMuZG9tLmNvbnRhaW5zKGRvbVNlbC5mb2N1c05vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVW5lZGl0YWJsZShkb21TZWwuZm9jdXNOb2RlLCB0aGlzLmRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByYXdTZWwgPSBnZXRTZWxlY3Rpb24odGhpcy52aWV3LnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmICghcmF3U2VsKSA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWFpbi5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjEyMDc2XG4gICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvID0gbmV4dFRvVW5lZGl0YWJsZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvICYmIG5leHRUbyAhPSAoMSAvKiBOZXh0VG8uQmVmb3JlICovIHwgMiAvKiBOZXh0VG8uQWZ0ZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSAobmV4dFRvID09IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA/IHRleHROb2RlQmVmb3JlIDogdGV4dE5vZGVBZnRlcikoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXcgRE9NUG9zKHRleHQubm9kZSwgdGV4dC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5jb2xsYXBzZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWluLmJpZGlMZXZlbCAhPSBudWxsICYmIHJhd1NlbC5jYXJldEJpZGlMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmNhcmV0QmlkaUxldmVsID0gbWFpbi5iaWRpTGV2ZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJhd1NlbC5leHRlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VsZWN0aW9uLmV4dGVuZCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gJ2ludmVydGVkJyBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gKG9uZSB3aGVyZSB0aGUgZm9jdXMgaXMgYmVmb3JlIHRoZSBhbmNob3IpLCBidXQgbm90IGFsbFxuICAgICAgICAgICAgICAgICAgICAvLyBicm93c2VycyBzdXBwb3J0IGl0IHlldC5cbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmNvbGxhcHNlKGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpIHdpbGwgaWdub3JlIHRoZSBjYWxsIGFib3ZlIHdoZW4gdGhlIGVkaXRvciBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWRkZW4sIGFuZCB0aGVuIHJhaXNlIGFuIGVycm9yIG9uIHRoZSBjYWxsIHRvIGV4dGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyAoIzk0MCkuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXdTZWwuZXh0ZW5kKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByaW1pdGl2ZSAoSUUpIHdheVxuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFpbi5hbmNob3IgPiBtYWluLmhlYWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBbYW5jaG9yLCBoZWFkXSA9IFtoZWFkLCBhbmNob3JdO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoaGVhZC5ub2RlLCBoZWFkLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICByYXdTZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uTm90Rm9jdXMgJiYgdGhpcy52aWV3LnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5zZXRTZWxlY3Rpb25SYW5nZShhbmNob3IsIGhlYWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlQW5jaG9yID0gYW5jaG9yLnByZWNpc2UgPyBudWxsIDogbmV3IERPTVBvcyhkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCk7XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlSGVhZCA9IGhlYWQucHJlY2lzZSA/IG51bGwgOiBuZXcgRE9NUG9zKGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCk7XG4gICAgfVxuICAgIC8vIElmIGEgemVyby1sZW5ndGggd2lkZ2V0IGlzIGluc2VydGVkIG5leHQgdG8gdGhlIGN1cnNvciBkdXJpbmdcbiAgICAvLyBjb21wb3NpdGlvbiwgYXZvaWQgbW92aW5nIGl0IGFjcm9zcyBpdCBhbmQgZGlzcnVwdGluZyB0aGVcbiAgICAvLyBjb21wb3NpdGlvbi5cbiAgICBzdXBwcmVzc1dpZGdldEN1cnNvckNoYW5nZShzZWwsIGN1cnNvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNDb21wb3NpdGlvbiAmJiBjdXJzb3IuZW1wdHkgJiZcbiAgICAgICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpICYmXG4gICAgICAgICAgICB0aGlzLnBvc0Zyb21ET00oc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KSA9PSBjdXJzb3IuaGVhZDtcbiAgICB9XG4gICAgZW5mb3JjZUN1cnNvckFzc29jKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wb3NpdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgY3Vyc29yID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgICAgICBsZXQgeyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQgfSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICghc2VsIHx8ICFjdXJzb3IuZW1wdHkgfHwgIWN1cnNvci5hc3NvYyB8fCAhc2VsLm1vZGlmeSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGxpbmUgPSBMaW5lVmlldy5maW5kKHRoaXMsIGN1cnNvci5oZWFkKTtcbiAgICAgICAgaWYgKCFsaW5lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGluZVN0YXJ0ID0gbGluZS5wb3NBdFN0YXJ0O1xuICAgICAgICBpZiAoY3Vyc29yLmhlYWQgPT0gbGluZVN0YXJ0IHx8IGN1cnNvci5oZWFkID09IGxpbmVTdGFydCArIGxpbmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgYmVmb3JlID0gdGhpcy5jb29yZHNBdChjdXJzb3IuaGVhZCwgLTEpLCBhZnRlciA9IHRoaXMuY29vcmRzQXQoY3Vyc29yLmhlYWQsIDEpO1xuICAgICAgICBpZiAoIWJlZm9yZSB8fCAhYWZ0ZXIgfHwgYmVmb3JlLmJvdHRvbSA+IGFmdGVyLnRvcClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tQXRQb3MoY3Vyc29yLmhlYWQgKyBjdXJzb3IuYXNzb2MpO1xuICAgICAgICBzZWwuY29sbGFwc2UoZG9tLm5vZGUsIGRvbS5vZmZzZXQpO1xuICAgICAgICBzZWwubW9kaWZ5KFwibW92ZVwiLCBjdXJzb3IuYXNzb2MgPCAwID8gXCJmb3J3YXJkXCIgOiBcImJhY2t3YXJkXCIsIFwibGluZWJvdW5kYXJ5XCIpO1xuICAgICAgICAvLyBUaGlzIGNhbiBnbyB3cm9uZyBpbiBjb3JuZXIgY2FzZXMgbGlrZSBzaW5nbGUtY2hhcmFjdGVyIGxpbmVzLFxuICAgICAgICAvLyBzbyBjaGVjayBhbmQgcmVzZXQgaWYgbmVjZXNzYXJ5LlxuICAgICAgICB2aWV3Lm9ic2VydmVyLnJlYWRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBsZXQgbmV3UmFuZ2UgPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICBpZiAodmlldy5kb2NWaWV3LnBvc0Zyb21ET00obmV3UmFuZ2UuYW5jaG9yTm9kZSwgbmV3UmFuZ2UuYW5jaG9yT2Zmc2V0KSAhPSBjdXJzb3IuZnJvbSlcbiAgICAgICAgICAgIHNlbC5jb2xsYXBzZShhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICAgIH1cbiAgICAvLyBJZiBhIHBvc2l0aW9uIGlzIGluL25lYXIgYSBibG9jayB3aWRnZXQsIG1vdmUgaXQgdG8gYSBuZWFyYnkgdGV4dFxuICAgIC8vIGxpbmUsIHNpbmNlIHdlIGRvbid0IHdhbnQgdGhlIGN1cnNvciBpbnNpZGUgYSBibG9jayB3aWRnZXQuXG4gICAgbW92ZVRvTGluZShwb3MpIHtcbiAgICAgICAgLy8gQmxvY2sgd2lkZ2V0cyB3aWxsIHJldHVybiBwb3NpdGlvbnMgYmVmb3JlL2FmdGVyIHRoZW0sIHdoaWNoXG4gICAgICAgIC8vIGFyZSB0aHVzIGRpcmVjdGx5IGluIHRoZSBkb2N1bWVudCBET00gZWxlbWVudC5cbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tLCBuZXdQb3M7XG4gICAgICAgIGlmIChwb3Mubm9kZSAhPSBkb20pXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldDsgIW5ld1BvcyAmJiBpIDwgZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcygwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldCAtIDE7ICFuZXdQb3MgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcyh2aWV3Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1BvcyA/IG5ldyBET01Qb3MobmV3UG9zLm5vZGUsIG5ld1Bvcy5vZmZzZXQsIHRydWUpIDogcG9zO1xuICAgIH1cbiAgICBuZWFyZXN0KGRvbSkge1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjspIHtcbiAgICAgICAgICAgIGxldCBkb21WaWV3ID0gQ29udGVudFZpZXcuZ2V0KGN1cik7XG4gICAgICAgICAgICBpZiAoZG9tVmlldyAmJiBkb21WaWV3LnJvb3RWaWV3ID09IHRoaXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVZpZXc7XG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLm5lYXJlc3Qobm9kZSk7XG4gICAgICAgIGlmICghdmlldylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGZpbmQgcG9zaXRpb24gZm9yIGEgRE9NIHBvc2l0aW9uIG91dHNpZGUgb2YgdGhlIGRvY3VtZW50XCIpO1xuICAgICAgICByZXR1cm4gdmlldy5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSArIHZpZXcucG9zQXRTdGFydDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIGxldCB7IGksIG9mZiB9ID0gdGhpcy5jaGlsZEN1cnNvcigpLmZpbmRQb3MocG9zLCAtMSk7XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChvZmYgPCBjaGlsZC5sZW5ndGggfHwgY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIG9mZiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV0uZG9tQXRQb3Mob2ZmKTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCBiZXN0ID0gbnVsbCwgYmVzdFBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IG9mZiA9IHRoaXMubGVuZ3RoLCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmIC0gY2hpbGQuYnJlYWtBZnRlciwgc3RhcnQgPSBlbmQgLSBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kIDwgcG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDw9IHBvcyAmJiAoc3RhcnQgPCBwb3MgfHwgY2hpbGQuY292ZXJzKC0xKSkgJiYgKGVuZCA+IHBvcyB8fCBjaGlsZC5jb3ZlcnMoMSkpICYmXG4gICAgICAgICAgICAgICAgKCFiZXN0IHx8IGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcgJiYgIShiZXN0IGluc3RhbmNlb2YgTGluZVZpZXcgJiYgc2lkZSA+PSAwKSkpIHtcbiAgICAgICAgICAgICAgICBiZXN0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgYmVzdFBvcyA9IHN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmVzdCAmJiBzdGFydCA9PSBwb3MgJiYgZW5kID09IHBvcyAmJiBjaGlsZCBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJiBNYXRoLmFicyhzaWRlKSA8IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZGVjby5zdGFydFNpZGUgPCAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpKVxuICAgICAgICAgICAgICAgICAgICBiZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZiA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0ID8gYmVzdC5jb29yZHNBdChwb3MgLSBiZXN0UG9zLCBzaWRlKSA6IG51bGw7XG4gICAgfVxuICAgIGNvb3Jkc0ZvckNoYXIocG9zKSB7XG4gICAgICAgIGxldCB7IGksIG9mZiB9ID0gdGhpcy5jaGlsZFBvcyhwb3MsIDEpLCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIGlmICghKGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHdoaWxlIChjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGksIG9mZjogY2hpbGRPZmYgfSA9IGNoaWxkLmNoaWxkUG9zKG9mZiwgMSk7XG4gICAgICAgICAgICBmb3IgKDs7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID09IGNoaWxkLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKChjaGlsZCA9IGNoaWxkLmNoaWxkcmVuW2ldKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gY2hpbGRPZmY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBUZXh0VmlldykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IGVuZCA9IGZpbmRDbHVzdGVyQnJlYWsoY2hpbGQudGV4dCwgb2ZmKTtcbiAgICAgICAgaWYgKGVuZCA9PSBvZmYpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKGNoaWxkLmRvbSwgb2ZmLCBlbmQpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PSByZWN0cy5sZW5ndGggLSAxIHx8IHJlY3QudG9wIDwgcmVjdC5ib3R0b20gJiYgcmVjdC5sZWZ0IDwgcmVjdC5yaWdodClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh2aWV3cG9ydCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW10sIHsgZnJvbSwgdG8gfSA9IHZpZXdwb3J0O1xuICAgICAgICBsZXQgY29udGVudFdpZHRoID0gdGhpcy52aWV3LmNvbnRlbnRET00uY2xpZW50V2lkdGg7XG4gICAgICAgIGxldCBpc1dpZGVyID0gY29udGVudFdpZHRoID4gTWF0aC5tYXgodGhpcy52aWV3LnNjcm9sbERPTS5jbGllbnRXaWR0aCwgdGhpcy5taW5XaWR0aCkgKyAxO1xuICAgICAgICBsZXQgd2lkZXN0ID0gLTEsIGx0ciA9IHRoaXMudmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHBvcyA+PSBmcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkUmVjdCA9IGNoaWxkLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjaGlsZFJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNXaWRlcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGNoaWxkLmRvbS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0cyA9IGxhc3QgPyBjbGllbnRSZWN0c0ZvcihsYXN0KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW3JlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gbHRyID8gcmVjdC5yaWdodCAtIGNoaWxkUmVjdC5sZWZ0IDogY2hpbGRSZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gd2lkZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZXN0ID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aCA9IGNvbnRlbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoRnJvbSA9IHBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRleHREaXJlY3Rpb25BdChwb3MpIHtcbiAgICAgICAgbGV0IHsgaSB9ID0gdGhpcy5jaGlsZFBvcyhwb3MsIDEpO1xuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNoaWxkcmVuW2ldLmRvbSkuZGlyZWN0aW9uID09IFwicnRsXCIgPyBEaXJlY3Rpb24uUlRMIDogRGlyZWN0aW9uLkxUUjtcbiAgICB9XG4gICAgbWVhc3VyZVRleHRTaXplKCkge1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldykge1xuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJlID0gY2hpbGQubWVhc3VyZVRleHRTaXplKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1lYXN1cmUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWFzdXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIHdvcmthYmxlIGxpbmUgZXhpc3RzLCBmb3JjZSBhIGxheW91dCBvZiBhIG1lYXN1cmFibGUgZWxlbWVudFxuICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQ7XG4gICAgICAgIGR1bW15LmNsYXNzTmFtZSA9IFwiY20tbGluZVwiO1xuICAgICAgICBkdW1teS5zdHlsZS53aWR0aCA9IFwiOTk5OTlweFwiO1xuICAgICAgICBkdW1teS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZHVtbXkudGV4dENvbnRlbnQgPSBcImFiYyBkZWYgZ2hpIGprbCBtbm8gcHFyIHN0dVwiO1xuICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgICAgIGxldCByZWN0ID0gY2xpZW50UmVjdHNGb3IoZHVtbXkuZmlyc3RDaGlsZClbMF07XG4gICAgICAgICAgICBsaW5lSGVpZ2h0ID0gZHVtbXkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgY2hhcldpZHRoID0gcmVjdCA/IHJlY3Qud2lkdGggLyAyNyA6IDc7XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0ID0gcmVjdCA/IHJlY3QuaGVpZ2h0IDogbGluZUhlaWdodDtcbiAgICAgICAgICAgIGR1bW15LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0IH07XG4gICAgfVxuICAgIGNoaWxkQ3Vyc29yKHBvcyA9IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIE1vdmUgYmFjayB0byBzdGFydCBvZiBsYXN0IGVsZW1lbnQgd2hlbiBwb3NzaWJsZSwgc28gdGhhdFxuICAgICAgICAvLyBgQ2hpbGRDdXJzb3IuZmluZFBvc2AgZG9lc24ndCBoYXZlIHRvIGRlYWwgd2l0aCB0aGUgZWRnZSBjYXNlXG4gICAgICAgIC8vIG9mIGJlaW5nIGFmdGVyIHRoZSBsYXN0IGVsZW1lbnQuXG4gICAgICAgIGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGlmIChpKVxuICAgICAgICAgICAgcG9zIC09IHRoaXMuY2hpbGRyZW5bLS1pXS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBuZXcgQ2hpbGRDdXJzb3IodGhpcy5jaGlsZHJlbiwgcG9zLCBpKTtcbiAgICB9XG4gICAgY29tcHV0ZUJsb2NrR2FwRGVjbygpIHtcbiAgICAgICAgbGV0IGRlY28gPSBbXSwgdnMgPSB0aGlzLnZpZXcudmlld1N0YXRlO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSAwLCBpID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID09IHZzLnZpZXdwb3J0cy5sZW5ndGggPyBudWxsIDogdnMudmlld3BvcnRzW2ldO1xuICAgICAgICAgICAgbGV0IGVuZCA9IG5leHQgPyBuZXh0LmZyb20gLSAxIDogdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9ICh2cy5saW5lQmxvY2tBdChlbmQpLmJvdHRvbSAtIHZzLmxpbmVCbG9ja0F0KHBvcykudG9wKSAvIHRoaXMudmlldy5zY2FsZVk7XG4gICAgICAgICAgICAgICAgZGVjby5wdXNoKERlY29yYXRpb24ucmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldDogbmV3IEJsb2NrR2FwV2lkZ2V0KGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzQmxvY2tHYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgfSkucmFuZ2UocG9zLCBlbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHBvcyA9IG5leHQudG8gKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvKTtcbiAgICB9XG4gICAgdXBkYXRlRGVjbygpIHtcbiAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICBsZXQgYWxsRGVjbyA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChkZWNvcmF0aW9ucykubWFwKGQgPT4ge1xuICAgICAgICAgICAgbGV0IGR5bmFtaWMgPSB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSB0eXBlb2YgZCA9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICByZXR1cm4gZHluYW1pYyA/IGQodGhpcy52aWV3KSA6IGQ7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgZHluYW1pY091dGVyID0gZmFsc2UsIG91dGVyRGVjbyA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChvdXRlckRlY29yYXRpb25zKS5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBkeW5hbWljID0gdHlwZW9mIGQgPT0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgaWYgKGR5bmFtaWMpXG4gICAgICAgICAgICAgICAgZHluYW1pY091dGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBkeW5hbWljID8gZCh0aGlzLnZpZXcpIDogZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvdXRlckRlY28ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSBkeW5hbWljT3V0ZXI7XG4gICAgICAgICAgICBhbGxEZWNvLnB1c2goUmFuZ2VTZXQuam9pbihvdXRlckRlY28pKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gW1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dEZvcm1hdHRpbmcsXG4gICAgICAgICAgICAuLi5hbGxEZWNvLFxuICAgICAgICAgICAgdGhpcy5jb21wdXRlQmxvY2tHYXBEZWNvKCksXG4gICAgICAgICAgICB0aGlzLnZpZXcudmlld1N0YXRlLmxpbmVHYXBEZWNvXG4gICAgICAgIF07XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5kZWNvcmF0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbnM7XG4gICAgfVxuICAgIHNjcm9sbEludG9WaWV3KHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0LmlzU25hcHNob3QpIHtcbiAgICAgICAgICAgIGxldCByZWYgPSB0aGlzLnZpZXcudmlld1N0YXRlLmxpbmVCbG9ja0F0KHRhcmdldC5yYW5nZS5oZWFkKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxET00uc2Nyb2xsVG9wID0gcmVmLnRvcCAtIHRhcmdldC55TWFyZ2luO1xuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0ID0gdGFyZ2V0LnhNYXJnaW47XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoc2Nyb2xsSGFuZGxlcikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIodGhpcy52aWV3LCB0YXJnZXQucmFuZ2UsIHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy52aWV3LnN0YXRlLCBlLCBcInNjcm9sbCBoYW5kbGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB7IHJhbmdlIH0gPSB0YXJnZXQ7XG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5jb29yZHNBdChyYW5nZS5oZWFkLCByYW5nZS5lbXB0eSA/IHJhbmdlLmFzc29jIDogcmFuZ2UuaGVhZCA+IHJhbmdlLmFuY2hvciA/IC0xIDogMSksIG90aGVyO1xuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgJiYgKG90aGVyID0gdGhpcy5jb29yZHNBdChyYW5nZS5hbmNob3IsIHJhbmdlLmFuY2hvciA+IHJhbmdlLmhlYWQgPyAtMSA6IDEpKSlcbiAgICAgICAgICAgIHJlY3QgPSB7IGxlZnQ6IE1hdGgubWluKHJlY3QubGVmdCwgb3RoZXIubGVmdCksIHRvcDogTWF0aC5taW4ocmVjdC50b3AsIG90aGVyLnRvcCksXG4gICAgICAgICAgICAgICAgcmlnaHQ6IE1hdGgubWF4KHJlY3QucmlnaHQsIG90aGVyLnJpZ2h0KSwgYm90dG9tOiBNYXRoLm1heChyZWN0LmJvdHRvbSwgb3RoZXIuYm90dG9tKSB9O1xuICAgICAgICBsZXQgbWFyZ2lucyA9IGdldFNjcm9sbE1hcmdpbnModGhpcy52aWV3KTtcbiAgICAgICAgbGV0IHRhcmdldFJlY3QgPSB7XG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBtYXJnaW5zLmxlZnQsIHRvcDogcmVjdC50b3AgLSBtYXJnaW5zLnRvcCxcbiAgICAgICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0ICsgbWFyZ2lucy5yaWdodCwgYm90dG9tOiByZWN0LmJvdHRvbSArIG1hcmdpbnMuYm90dG9tXG4gICAgICAgIH07XG4gICAgICAgIGxldCB7IG9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgfSA9IHRoaXMudmlldy5zY3JvbGxET007XG4gICAgICAgIHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLnZpZXcuc2Nyb2xsRE9NLCB0YXJnZXRSZWN0LCByYW5nZS5oZWFkIDwgcmFuZ2UuYW5jaG9yID8gLTEgOiAxLCB0YXJnZXQueCwgdGFyZ2V0LnksIE1hdGgubWF4KE1hdGgubWluKHRhcmdldC54TWFyZ2luLCBvZmZzZXRXaWR0aCksIC1vZmZzZXRXaWR0aCksIE1hdGgubWF4KE1hdGgubWluKHRhcmdldC55TWFyZ2luLCBvZmZzZXRIZWlnaHQpLCAtb2Zmc2V0SGVpZ2h0KSwgdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUik7XG4gICAgfVxufVxuZnVuY3Rpb24gYmV0d2VlblVuZWRpdGFibGUocG9zKSB7XG4gICAgcmV0dXJuIHBvcy5ub2RlLm5vZGVUeXBlID09IDEgJiYgcG9zLm5vZGUuZmlyc3RDaGlsZCAmJlxuICAgICAgICAocG9zLm9mZnNldCA9PSAwIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldCAtIDFdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpICYmXG4gICAgICAgIChwb3Mub2Zmc2V0ID09IHBvcy5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldF0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIik7XG59XG5mdW5jdGlvbiBmaW5kQ29tcG9zaXRpb25Ob2RlKHZpZXcsIGhlYWRQb3MpIHtcbiAgICBsZXQgc2VsID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICBpZiAoIXNlbC5mb2N1c05vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gdGV4dE5vZGVCZWZvcmUoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICBsZXQgdGV4dEFmdGVyID0gdGV4dE5vZGVBZnRlcihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpO1xuICAgIGxldCB0ZXh0Tm9kZSA9IHRleHRCZWZvcmUgfHwgdGV4dEFmdGVyO1xuICAgIGlmICh0ZXh0QWZ0ZXIgJiYgdGV4dEJlZm9yZSAmJiB0ZXh0QWZ0ZXIubm9kZSAhPSB0ZXh0QmVmb3JlLm5vZGUpIHtcbiAgICAgICAgbGV0IGRlc2NBZnRlciA9IENvbnRlbnRWaWV3LmdldCh0ZXh0QWZ0ZXIubm9kZSk7XG4gICAgICAgIGlmICghZGVzY0FmdGVyIHx8IGRlc2NBZnRlciBpbnN0YW5jZW9mIFRleHRWaWV3ICYmIGRlc2NBZnRlci50ZXh0ICE9IHRleHRBZnRlci5ub2RlLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgdGV4dE5vZGUgPSB0ZXh0QWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmlldy5kb2NWaWV3Lmxhc3RDb21wb3NpdGlvbkFmdGVyQ3Vyc29yKSB7XG4gICAgICAgICAgICBsZXQgZGVzY0JlZm9yZSA9IENvbnRlbnRWaWV3LmdldCh0ZXh0QmVmb3JlLm5vZGUpO1xuICAgICAgICAgICAgaWYgKCEoIWRlc2NCZWZvcmUgfHwgZGVzY0JlZm9yZSBpbnN0YW5jZW9mIFRleHRWaWV3ICYmIGRlc2NCZWZvcmUudGV4dCAhPSB0ZXh0QmVmb3JlLm5vZGUubm9kZVZhbHVlKSlcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZSA9IHRleHRBZnRlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aWV3LmRvY1ZpZXcubGFzdENvbXBvc2l0aW9uQWZ0ZXJDdXJzb3IgPSB0ZXh0Tm9kZSAhPSB0ZXh0QmVmb3JlO1xuICAgIGlmICghdGV4dE5vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBmcm9tID0gaGVhZFBvcyAtIHRleHROb2RlLm9mZnNldDtcbiAgICByZXR1cm4geyBmcm9tLCB0bzogZnJvbSArIHRleHROb2RlLm5vZGUubm9kZVZhbHVlLmxlbmd0aCwgbm9kZTogdGV4dE5vZGUubm9kZSB9O1xufVxuZnVuY3Rpb24gZmluZENvbXBvc2l0aW9uUmFuZ2UodmlldywgY2hhbmdlcywgaGVhZFBvcykge1xuICAgIGxldCBmb3VuZCA9IGZpbmRDb21wb3NpdGlvbk5vZGUodmlldywgaGVhZFBvcyk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHsgbm9kZTogdGV4dE5vZGUsIGZyb20sIHRvIH0gPSBmb3VuZCwgdGV4dCA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAvLyBEb24ndCB0cnkgdG8gcHJlc2VydmUgbXVsdGktbGluZSBjb21wb3NpdGlvbnNcbiAgICBpZiAoL1tcXG5cXHJdLy50ZXN0KHRleHQpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAodmlldy5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcoZm91bmQuZnJvbSwgZm91bmQudG8pICE9IHRleHQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBpbnYgPSBjaGFuZ2VzLmludmVydGVkRGVzYztcbiAgICBsZXQgcmFuZ2UgPSBuZXcgQ2hhbmdlZFJhbmdlKGludi5tYXBQb3MoZnJvbSksIGludi5tYXBQb3ModG8pLCBmcm9tLCB0byk7XG4gICAgbGV0IG1hcmtzID0gW107XG4gICAgZm9yIChsZXQgcGFyZW50ID0gdGV4dE5vZGUucGFyZW50Tm9kZTs7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGxldCBwYXJlbnRWaWV3ID0gQ29udGVudFZpZXcuZ2V0KHBhcmVudCk7XG4gICAgICAgIGlmIChwYXJlbnRWaWV3IGluc3RhbmNlb2YgTWFya1ZpZXcpXG4gICAgICAgICAgICBtYXJrcy5wdXNoKHsgbm9kZTogcGFyZW50LCBkZWNvOiBwYXJlbnRWaWV3Lm1hcmsgfSk7XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBMaW5lVmlldyB8fCBwYXJlbnQubm9kZU5hbWUgPT0gXCJESVZcIiAmJiBwYXJlbnQucGFyZW50Tm9kZSA9PSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSwgdGV4dDogdGV4dE5vZGUsIG1hcmtzLCBsaW5lOiBwYXJlbnQgfTtcbiAgICAgICAgZWxzZSBpZiAocGFyZW50ICE9IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgICAgIG1hcmtzLnB1c2goeyBub2RlOiBwYXJlbnQsIGRlY286IG5ldyBNYXJrRGVjb3JhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogZ2V0QXR0cnMocGFyZW50KSxcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZTogcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIH0pIH0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXh0VG9VbmVkaXRhYmxlKG5vZGUsIG9mZnNldCkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiAob2Zmc2V0ICYmIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiID8gMSAvKiBOZXh0VG8uQmVmb3JlICovIDogMCkgfFxuICAgICAgICAob2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAmJiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiID8gMiAvKiBOZXh0VG8uQWZ0ZXIgKi8gOiAwKTtcbn1cbmxldCBEZWNvcmF0aW9uQ29tcGFyYXRvciQxID0gY2xhc3MgRGVjb3JhdGlvbkNvbXBhcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBbXTtcbiAgICB9XG4gICAgY29tcGFyZVJhbmdlKGZyb20sIHRvKSB7IGFkZFJhbmdlKGZyb20sIHRvLCB0aGlzLmNoYW5nZXMpOyB9XG4gICAgY29tcGFyZVBvaW50KGZyb20sIHRvKSB7IGFkZFJhbmdlKGZyb20sIHRvLCB0aGlzLmNoYW5nZXMpOyB9XG59O1xuZnVuY3Rpb24gZmluZENoYW5nZWREZWNvKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvciQxO1xuICAgIFJhbmdlU2V0LmNvbXBhcmUoYSwgYiwgZGlmZiwgY29tcCk7XG4gICAgcmV0dXJuIGNvbXAuY2hhbmdlcztcbn1cbmZ1bmN0aW9uIGluVW5lZGl0YWJsZShub2RlLCBpbnNpZGUpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOyBjdXIgJiYgY3VyICE9IGluc2lkZTsgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09IDEgJiYgY3VyLmNvbnRlbnRFZGl0YWJsZSA9PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b3VjaGVzQ29tcG9zaXRpb24oY2hhbmdlcywgY29tcG9zaXRpb24pIHtcbiAgICBsZXQgdG91Y2hlZCA9IGZhbHNlO1xuICAgIGlmIChjb21wb3NpdGlvbilcbiAgICAgICAgY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgY29tcG9zaXRpb24udG8gJiYgdG8gPiBjb21wb3NpdGlvbi5mcm9tKVxuICAgICAgICAgICAgICAgIHRvdWNoZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hlZDtcbn1cblxuZnVuY3Rpb24gZ3JvdXBBdChzdGF0ZSwgcG9zLCBiaWFzID0gMSkge1xuICAgIGxldCBjYXRlZ29yaXplID0gc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyksIGxpbmVQb3MgPSBwb3MgLSBsaW5lLmZyb207XG4gICAgaWYgKGxpbmUubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcyk7XG4gICAgaWYgKGxpbmVQb3MgPT0gMClcbiAgICAgICAgYmlhcyA9IDE7XG4gICAgZWxzZSBpZiAobGluZVBvcyA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgYmlhcyA9IC0xO1xuICAgIGxldCBmcm9tID0gbGluZVBvcywgdG8gPSBsaW5lUG9zO1xuICAgIGlmIChiaWFzIDwgMClcbiAgICAgICAgZnJvbSA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBsaW5lUG9zLCBmYWxzZSk7XG4gICAgZWxzZVxuICAgICAgICB0byA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBsaW5lUG9zKTtcbiAgICBsZXQgY2F0ID0gY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UoZnJvbSwgdG8pKTtcbiAgICB3aGlsZSAoZnJvbSA+IDApIHtcbiAgICAgICAgbGV0IHByZXYgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgZnJvbSwgZmFsc2UpO1xuICAgICAgICBpZiAoY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UocHJldiwgZnJvbSkpICE9IGNhdClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBmcm9tID0gcHJldjtcbiAgICB9XG4gICAgd2hpbGUgKHRvIDwgbGluZS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgdG8pO1xuICAgICAgICBpZiAoY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UodG8sIG5leHQpKSAhPSBjYXQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgdG8gPSBuZXh0O1xuICAgIH1cbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20gKyBsaW5lLmZyb20sIHRvICsgbGluZS5mcm9tKTtcbn1cbi8vIFNlYXJjaCB0aGUgRE9NIGZvciB0aGUge25vZGUsIG9mZnNldH0gcG9zaXRpb24gY2xvc2VzdCB0byB0aGUgZ2l2ZW5cbi8vIGNvb3JkaW5hdGVzLiBWZXJ5IGluZWZmaWNpZW50IGFuZCBjcnVkZSwgYnV0IGNhbiB1c3VhbGx5IGJlIGF2b2lkZWRcbi8vIGJ5IGNhbGxpbmcgY2FyZXQoUG9zaXRpb258UmFuZ2UpRnJvbVBvaW50IGluc3RlYWQuXG5mdW5jdGlvbiBnZXRkeCh4LCByZWN0KSB7XG4gICAgcmV0dXJuIHJlY3QubGVmdCA+IHggPyByZWN0LmxlZnQgLSB4IDogTWF0aC5tYXgoMCwgeCAtIHJlY3QucmlnaHQpO1xufVxuZnVuY3Rpb24gZ2V0ZHkoeSwgcmVjdCkge1xuICAgIHJldHVybiByZWN0LnRvcCA+IHkgPyByZWN0LnRvcCAtIHkgOiBNYXRoLm1heCgwLCB5IC0gcmVjdC5ib3R0b20pO1xufVxuZnVuY3Rpb24geU92ZXJsYXAoYSwgYikge1xuICAgIHJldHVybiBhLnRvcCA8IGIuYm90dG9tIC0gMSAmJiBhLmJvdHRvbSA+IGIudG9wICsgMTtcbn1cbmZ1bmN0aW9uIHVwVG9wKHJlY3QsIHRvcCkge1xuICAgIHJldHVybiB0b3AgPCByZWN0LnRvcCA/IHsgdG9wLCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0LCBib3R0b206IHJlY3QuYm90dG9tIH0gOiByZWN0O1xufVxuZnVuY3Rpb24gdXBCb3QocmVjdCwgYm90dG9tKSB7XG4gICAgcmV0dXJuIGJvdHRvbSA+IHJlY3QuYm90dG9tID8geyB0b3A6IHJlY3QudG9wLCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0LCBib3R0b20gfSA6IHJlY3Q7XG59XG5mdW5jdGlvbiBkb21Qb3NBdENvb3JkcyhwYXJlbnQsIHgsIHkpIHtcbiAgICBsZXQgY2xvc2VzdCwgY2xvc2VzdFJlY3QsIGNsb3Nlc3RYLCBjbG9zZXN0WSwgY2xvc2VzdE92ZXJsYXAgPSBmYWxzZTtcbiAgICBsZXQgYWJvdmUsIGJlbG93LCBhYm92ZVJlY3QsIGJlbG93UmVjdDtcbiAgICBmb3IgKGxldCBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICBsZXQgcmVjdHMgPSBjbGllbnRSZWN0c0ZvcihjaGlsZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgICAgICBpZiAoY2xvc2VzdFJlY3QgJiYgeU92ZXJsYXAoY2xvc2VzdFJlY3QsIHJlY3QpKVxuICAgICAgICAgICAgICAgIHJlY3QgPSB1cFRvcCh1cEJvdChyZWN0LCBjbG9zZXN0UmVjdC5ib3R0b20pLCBjbG9zZXN0UmVjdC50b3ApO1xuICAgICAgICAgICAgbGV0IGR4ID0gZ2V0ZHgoeCwgcmVjdCksIGR5ID0gZ2V0ZHkoeSwgcmVjdCk7XG4gICAgICAgICAgICBpZiAoZHggPT0gMCAmJiBkeSA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5ub2RlVHlwZSA9PSAzID8gZG9tUG9zSW5UZXh0KGNoaWxkLCB4LCB5KSA6IGRvbVBvc0F0Q29vcmRzKGNoaWxkLCB4LCB5KTtcbiAgICAgICAgICAgIGlmICghY2xvc2VzdCB8fCBjbG9zZXN0WSA+IGR5IHx8IGNsb3Nlc3RZID09IGR5ICYmIGNsb3Nlc3RYID4gZHgpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFJlY3QgPSByZWN0O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RYID0gZHg7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFkgPSBkeTtcbiAgICAgICAgICAgICAgICBsZXQgc2lkZSA9IGR5ID8gKHkgPCByZWN0LnRvcCA/IC0xIDogMSkgOiBkeCA/ICh4IDwgcmVjdC5sZWZ0ID8gLTEgOiAxKSA6IDA7XG4gICAgICAgICAgICAgICAgY2xvc2VzdE92ZXJsYXAgPSAhc2lkZSB8fCAoc2lkZSA+IDAgPyBpIDwgcmVjdHMubGVuZ3RoIC0gMSA6IGkgPiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHkgPiByZWN0LmJvdHRvbSAmJiAoIWFib3ZlUmVjdCB8fCBhYm92ZVJlY3QuYm90dG9tIDwgcmVjdC5ib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFib3ZlID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGFib3ZlUmVjdCA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHkgPCByZWN0LnRvcCAmJiAoIWJlbG93UmVjdCB8fCBiZWxvd1JlY3QudG9wID4gcmVjdC50b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlbG93ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJlbG93UmVjdCA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWJvdmVSZWN0ICYmIHlPdmVybGFwKGFib3ZlUmVjdCwgcmVjdCkpIHtcbiAgICAgICAgICAgICAgICBhYm92ZVJlY3QgPSB1cEJvdChhYm92ZVJlY3QsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlbG93UmVjdCAmJiB5T3ZlcmxhcChiZWxvd1JlY3QsIHJlY3QpKSB7XG4gICAgICAgICAgICAgICAgYmVsb3dSZWN0ID0gdXBUb3AoYmVsb3dSZWN0LCByZWN0LnRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFib3ZlUmVjdCAmJiBhYm92ZVJlY3QuYm90dG9tID49IHkpIHtcbiAgICAgICAgY2xvc2VzdCA9IGFib3ZlO1xuICAgICAgICBjbG9zZXN0UmVjdCA9IGFib3ZlUmVjdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmVsb3dSZWN0ICYmIGJlbG93UmVjdC50b3AgPD0geSkge1xuICAgICAgICBjbG9zZXN0ID0gYmVsb3c7XG4gICAgICAgIGNsb3Nlc3RSZWN0ID0gYmVsb3dSZWN0O1xuICAgIH1cbiAgICBpZiAoIWNsb3Nlc3QpXG4gICAgICAgIHJldHVybiB7IG5vZGU6IHBhcmVudCwgb2Zmc2V0OiAwIH07XG4gICAgbGV0IGNsaXBYID0gTWF0aC5tYXgoY2xvc2VzdFJlY3QubGVmdCwgTWF0aC5taW4oY2xvc2VzdFJlY3QucmlnaHQsIHgpKTtcbiAgICBpZiAoY2xvc2VzdC5ub2RlVHlwZSA9PSAzKVxuICAgICAgICByZXR1cm4gZG9tUG9zSW5UZXh0KGNsb3Nlc3QsIGNsaXBYLCB5KTtcbiAgICBpZiAoY2xvc2VzdE92ZXJsYXAgJiYgY2xvc2VzdC5jb250ZW50RWRpdGFibGUgIT0gXCJmYWxzZVwiKVxuICAgICAgICByZXR1cm4gZG9tUG9zQXRDb29yZHMoY2xvc2VzdCwgY2xpcFgsIHkpO1xuICAgIGxldCBvZmZzZXQgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHBhcmVudC5jaGlsZE5vZGVzLCBjbG9zZXN0KSArXG4gICAgICAgICh4ID49IChjbG9zZXN0UmVjdC5sZWZ0ICsgY2xvc2VzdFJlY3QucmlnaHQpIC8gMiA/IDEgOiAwKTtcbiAgICByZXR1cm4geyBub2RlOiBwYXJlbnQsIG9mZnNldCB9O1xufVxuZnVuY3Rpb24gZG9tUG9zSW5UZXh0KG5vZGUsIHgsIHkpIHtcbiAgICBsZXQgbGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xuICAgIGxldCBjbG9zZXN0T2Zmc2V0ID0gLTEsIGNsb3Nlc3REWSA9IDFlOSwgZ2VuZXJhbFNpZGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKG5vZGUsIGksIGkgKyAxKS5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2pdO1xuICAgICAgICAgICAgaWYgKHJlY3QudG9wID09IHJlY3QuYm90dG9tKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFnZW5lcmFsU2lkZSlcbiAgICAgICAgICAgICAgICBnZW5lcmFsU2lkZSA9IHggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICBsZXQgZHkgPSAocmVjdC50b3AgPiB5ID8gcmVjdC50b3AgLSB5IDogeSAtIHJlY3QuYm90dG9tKSAtIDE7XG4gICAgICAgICAgICBpZiAocmVjdC5sZWZ0IC0gMSA8PSB4ICYmIHJlY3QucmlnaHQgKyAxID49IHggJiYgZHkgPCBjbG9zZXN0RFkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSB4ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsIGFmdGVyID0gcmlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuZ2Vja28pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIFJUTCBvbiBicm93c2VycyB0aGF0IHN1cHBvcnQgZ2V0dGluZyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdHMgZm9yIGVtcHR5IHJhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3RCZWZvcmUgPSB0ZXh0UmFuZ2Uobm9kZSwgaSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN0QmVmb3JlLmxlZnQgPT0gcmVjdC5yaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyID0gIXJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZHkgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiBpICsgKGFmdGVyID8gMSA6IDApIH07XG4gICAgICAgICAgICAgICAgY2xvc2VzdE9mZnNldCA9IGkgKyAoYWZ0ZXIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgY2xvc2VzdERZID0gZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiBjbG9zZXN0T2Zmc2V0ID4gLTEgPyBjbG9zZXN0T2Zmc2V0IDogZ2VuZXJhbFNpZGUgPiAwID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogMCB9O1xufVxuZnVuY3Rpb24gcG9zQXRDb29yZHModmlldywgY29vcmRzLCBwcmVjaXNlLCBiaWFzID0gLTEpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb2NUb3AgPSBjb250ZW50LnRvcCArIHZpZXcudmlld1N0YXRlLnBhZGRpbmdUb3A7XG4gICAgbGV0IGJsb2NrLCB7IGRvY0hlaWdodCB9ID0gdmlldy52aWV3U3RhdGU7XG4gICAgbGV0IHsgeCwgeSB9ID0gY29vcmRzLCB5T2Zmc2V0ID0geSAtIGRvY1RvcDtcbiAgICBpZiAoeU9mZnNldCA8IDApXG4gICAgICAgIHJldHVybiAwO1xuICAgIGlmICh5T2Zmc2V0ID4gZG9jSGVpZ2h0KVxuICAgICAgICByZXR1cm4gdmlldy5zdGF0ZS5kb2MubGVuZ3RoO1xuICAgIC8vIFNjYW4gZm9yIGEgdGV4dCBibG9jayBuZWFyIHRoZSBxdWVyaWVkIHkgcG9zaXRpb25cbiAgICBmb3IgKGxldCBoYWxmTGluZSA9IHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0IC8gMiwgYm91bmNlZCA9IGZhbHNlOzspIHtcbiAgICAgICAgYmxvY2sgPSB2aWV3LmVsZW1lbnRBdEhlaWdodCh5T2Zmc2V0KTtcbiAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgLy8gTW92ZSB0aGUgeSBwb3NpdGlvbiBvdXQgb2YgdGhpcyBibG9ja1xuICAgICAgICAgICAgeU9mZnNldCA9IGJpYXMgPiAwID8gYmxvY2suYm90dG9tICsgaGFsZkxpbmUgOiBibG9jay50b3AgLSBoYWxmTGluZTtcbiAgICAgICAgICAgIGlmICh5T2Zmc2V0ID49IDAgJiYgeU9mZnNldCA8PSBkb2NIZWlnaHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgY29uc2lzdHMgZW50aXJlbHkgb2YgcmVwbGFjZWQgd2lkZ2V0cywgd2VcbiAgICAgICAgICAgIC8vIHdvbid0IGZpbmQgYSB0ZXh0IGJsb2NrLCBzbyByZXR1cm4gMFxuICAgICAgICAgICAgaWYgKGJvdW5jZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWNpc2UgPyBudWxsIDogMDtcbiAgICAgICAgICAgIGJvdW5jZWQgPSB0cnVlO1xuICAgICAgICAgICAgYmlhcyA9IC1iaWFzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHkgPSBkb2NUb3AgKyB5T2Zmc2V0O1xuICAgIGxldCBsaW5lU3RhcnQgPSBibG9jay5mcm9tO1xuICAgIC8vIElmIHRoaXMgaXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyZWQgdmlld3BvcnQsIHdlIGNhbid0IGRldGVybWluZSBhIHBvc2l0aW9uXG4gICAgaWYgKGxpbmVTdGFydCA8IHZpZXcudmlld3BvcnQuZnJvbSlcbiAgICAgICAgcmV0dXJuIHZpZXcudmlld3BvcnQuZnJvbSA9PSAwID8gMCA6IHByZWNpc2UgPyBudWxsIDogcG9zQXRDb29yZHNJbXByZWNpc2UodmlldywgY29udGVudCwgYmxvY2ssIHgsIHkpO1xuICAgIGlmIChsaW5lU3RhcnQgPiB2aWV3LnZpZXdwb3J0LnRvKVxuICAgICAgICByZXR1cm4gdmlldy52aWV3cG9ydC50byA9PSB2aWV3LnN0YXRlLmRvYy5sZW5ndGggPyB2aWV3LnN0YXRlLmRvYy5sZW5ndGggOlxuICAgICAgICAgICAgcHJlY2lzZSA/IG51bGwgOiBwb3NBdENvb3Jkc0ltcHJlY2lzZSh2aWV3LCBjb250ZW50LCBibG9jaywgeCwgeSk7XG4gICAgLy8gUHJlZmVyIFNoYWRvd1Jvb3RPckRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQgaWYgcHJlc2VudCwgZmFsbCBiYWNrIHRvIGRvY3VtZW50IGlmIG5vdFxuICAgIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICAgIGxldCByb290ID0gdmlldy5yb290LmVsZW1lbnRGcm9tUG9pbnQgPyB2aWV3LnJvb3QgOiBkb2M7XG4gICAgbGV0IGVsZW1lbnQgPSByb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgaWYgKGVsZW1lbnQgJiYgIXZpZXcuY29udGVudERPTS5jb250YWlucyhlbGVtZW50KSlcbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgdW5leHBlY3RlZCwgY2xpcCB4IGF0IHRoZSBzaWRlcyBvZiB0aGUgY29udGVudCBhcmVhIGFuZCB0cnkgYWdhaW5cbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgeCA9IE1hdGgubWF4KGNvbnRlbnQubGVmdCArIDEsIE1hdGgubWluKGNvbnRlbnQucmlnaHQgLSAxLCB4KSk7XG4gICAgICAgIGVsZW1lbnQgPSByb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgICAgIGlmIChlbGVtZW50ICYmICF2aWV3LmNvbnRlbnRET00uY29udGFpbnMoZWxlbWVudCkpXG4gICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgLy8gVGhlcmUncyB2aXNpYmxlIGVkaXRvciBjb250ZW50IHVuZGVyIHRoZSBwb2ludCwgc28gd2UgY2FuIHRyeVxuICAgIC8vIHVzaW5nIGNhcmV0KFBvc2l0aW9ufFJhbmdlKUZyb21Qb2ludCBhcyBhIHNob3J0Y3V0XG4gICAgbGV0IG5vZGUsIG9mZnNldCA9IC0xO1xuICAgIGlmIChlbGVtZW50ICYmICgoX2EgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdChlbGVtZW50KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRWRpdGFibGUpICE9IGZhbHNlKSB7XG4gICAgICAgIGlmIChkb2MuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGRvYy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgaWYgKHBvcylcbiAgICAgICAgICAgICAgICAoeyBvZmZzZXROb2RlOiBub2RlLCBvZmZzZXQgfSA9IHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9jLmNhcmV0UmFuZ2VGcm9tUG9pbnQpIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IGRvYy5jYXJldFJhbmdlRnJvbVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgKHsgc3RhcnRDb250YWluZXI6IG5vZGUsIHN0YXJ0T2Zmc2V0OiBvZmZzZXQgfSA9IHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZpZXcuY29udGVudERPTS5jb250YWlucyhub2RlKSB8fFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyLnNhZmFyaSAmJiBpc1N1c3BpY2lvdXNTYWZhcmlDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpIHx8XG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXIuY2hyb21lICYmIGlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkpXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTm8gbHVjaywgZG8gb3VyIG93biAocG90ZW50aWFsbHkgZXhwZW5zaXZlKSBzZWFyY2hcbiAgICBpZiAoIW5vZGUgfHwgIXZpZXcuZG9jVmlldy5kb20uY29udGFpbnMobm9kZSkpIHtcbiAgICAgICAgbGV0IGxpbmUgPSBMaW5lVmlldy5maW5kKHZpZXcuZG9jVmlldywgbGluZVN0YXJ0KTtcbiAgICAgICAgaWYgKCFsaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHlPZmZzZXQgPiBibG9jay50b3AgKyBibG9jay5oZWlnaHQgLyAyID8gYmxvY2sudG8gOiBibG9jay5mcm9tO1xuICAgICAgICAoeyBub2RlLCBvZmZzZXQgfSA9IGRvbVBvc0F0Q29vcmRzKGxpbmUuZG9tLCB4LCB5KSk7XG4gICAgfVxuICAgIGxldCBuZWFyZXN0ID0gdmlldy5kb2NWaWV3Lm5lYXJlc3Qobm9kZSk7XG4gICAgaWYgKCFuZWFyZXN0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobmVhcmVzdC5pc1dpZGdldCAmJiAoKF9iID0gbmVhcmVzdC5kb20pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ub2RlVHlwZSkgPT0gMSkge1xuICAgICAgICBsZXQgcmVjdCA9IG5lYXJlc3QuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4gY29vcmRzLnkgPCByZWN0LnRvcCB8fCBjb29yZHMueSA8PSByZWN0LmJvdHRvbSAmJiBjb29yZHMueCA8PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyXG4gICAgICAgICAgICA/IG5lYXJlc3QucG9zQXRTdGFydCA6IG5lYXJlc3QucG9zQXRFbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmVhcmVzdC5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSArIG5lYXJlc3QucG9zQXRTdGFydDtcbiAgICB9XG59XG5mdW5jdGlvbiBwb3NBdENvb3Jkc0ltcHJlY2lzZSh2aWV3LCBjb250ZW50UmVjdCwgYmxvY2ssIHgsIHkpIHtcbiAgICBsZXQgaW50byA9IE1hdGgucm91bmQoKHggLSBjb250ZW50UmVjdC5sZWZ0KSAqIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKTtcbiAgICBpZiAodmlldy5saW5lV3JhcHBpbmcgJiYgYmxvY2suaGVpZ2h0ID4gdmlldy5kZWZhdWx0TGluZUhlaWdodCAqIDEuNSkge1xuICAgICAgICBsZXQgdGV4dEhlaWdodCA9IHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0O1xuICAgICAgICBsZXQgbGluZSA9IE1hdGguZmxvb3IoKHkgLSBibG9jay50b3AgLSAodmlldy5kZWZhdWx0TGluZUhlaWdodCAtIHRleHRIZWlnaHQpICogMC41KSAvIHRleHRIZWlnaHQpO1xuICAgICAgICBpbnRvICs9IGxpbmUgKiB2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUubGluZUxlbmd0aDtcbiAgICB9XG4gICAgbGV0IGNvbnRlbnQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGJsb2NrLmZyb20sIGJsb2NrLnRvKTtcbiAgICByZXR1cm4gYmxvY2suZnJvbSArIGZpbmRDb2x1bW4oY29udGVudCwgaW50bywgdmlldy5zdGF0ZS50YWJTaXplKTtcbn1cbi8vIEluIGNhc2Ugb2YgYSBoaWdoIGxpbmUgaGVpZ2h0LCBTYWZhcmkncyBjYXJldFJhbmdlRnJvbVBvaW50IHRyZWF0c1xuLy8gdGhlIHNwYWNlIGJldHdlZW4gbGluZXMgYXMgYmVsb25naW5nIHRvIHRoZSBsYXN0IGNoYXJhY3RlciBvZiB0aGVcbi8vIGxpbmUgYmVmb3JlLiBUaGlzIGlzIHVzZWQgdG8gZGV0ZWN0IHN1Y2ggYSByZXN1bHQgc28gdGhhdCBpdCBjYW4gYmVcbi8vIGlnbm9yZWQgKGlzc3VlICM0MDEpLlxuZnVuY3Rpb24gaXNTdXNwaWNpb3VzU2FmYXJpQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSB7XG4gICAgbGV0IGxlbjtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAzIHx8IG9mZnNldCAhPSAobGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nOyBuZXh0OyBuZXh0ID0gbmV4dC5uZXh0U2libGluZylcbiAgICAgICAgaWYgKG5leHQubm9kZVR5cGUgIT0gMSB8fCBuZXh0Lm5vZGVOYW1lICE9IFwiQlJcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGV4dFJhbmdlKG5vZGUsIGxlbiAtIDEsIGxlbikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA+IHg7XG59XG4vLyBDaHJvbWUgd2lsbCBtb3ZlIHBvc2l0aW9ucyBiZXR3ZWVuIGxpbmVzIHRvIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBsaW5lXG5mdW5jdGlvbiBpc1N1c3BpY2lvdXNDaHJvbWVDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpIHtcbiAgICBpZiAob2Zmc2V0ICE9IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOzspIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgIT0gMSB8fCBwYXJlbnQuZmlyc3RDaGlsZCAhPSBjdXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY20tbGluZVwiKSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjdXIgPSBwYXJlbnQ7XG4gICAgfVxuICAgIGxldCByZWN0ID0gbm9kZS5ub2RlVHlwZSA9PSAxID8gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICA6IHRleHRSYW5nZShub2RlLCAwLCBNYXRoLm1heChub2RlLm5vZGVWYWx1ZS5sZW5ndGgsIDEpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geCAtIHJlY3QubGVmdCA+IDU7XG59XG5mdW5jdGlvbiBibG9ja0F0KHZpZXcsIHBvcykge1xuICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChwb3MpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxpbmUudHlwZSkpXG4gICAgICAgIGZvciAobGV0IGwgb2YgbGluZS50eXBlKSB7XG4gICAgICAgICAgICBpZiAobC50byA+IHBvcyB8fCBsLnRvID09IHBvcyAmJiAobC50byA9PSBsaW5lLnRvIHx8IGwudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICByZXR1cm4gbGluZTtcbn1cbmZ1bmN0aW9uIG1vdmVUb0xpbmVCb3VuZGFyeSh2aWV3LCBzdGFydCwgZm9yd2FyZCwgaW5jbHVkZVdyYXApIHtcbiAgICBsZXQgbGluZSA9IGJsb2NrQXQodmlldywgc3RhcnQuaGVhZCk7XG4gICAgbGV0IGNvb3JkcyA9ICFpbmNsdWRlV3JhcCB8fCBsaW5lLnR5cGUgIT0gQmxvY2tUeXBlLlRleHQgfHwgISh2aWV3LmxpbmVXcmFwcGluZyB8fCBsaW5lLndpZGdldExpbmVCcmVha3MpID8gbnVsbFxuICAgICAgICA6IHZpZXcuY29vcmRzQXRQb3Moc3RhcnQuYXNzb2MgPCAwICYmIHN0YXJ0LmhlYWQgPiBsaW5lLmZyb20gPyBzdGFydC5oZWFkIC0gMSA6IHN0YXJ0LmhlYWQpO1xuICAgIGlmIChjb29yZHMpIHtcbiAgICAgICAgbGV0IGVkaXRvclJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHZpZXcudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZm9yd2FyZCA9PSAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIpID8gZWRpdG9yUmVjdC5yaWdodCAtIDEgOiBlZGl0b3JSZWN0LmxlZnQgKyAxLFxuICAgICAgICAgICAgeTogKGNvb3Jkcy50b3AgKyBjb29yZHMuYm90dG9tKSAvIDIgfSk7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgZm9yd2FyZCA/IC0xIDogMSk7XG4gICAgfVxuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tLCBmb3J3YXJkID8gLTEgOiAxKTtcbn1cbmZ1bmN0aW9uIG1vdmVCeUNoYXIodmlldywgc3RhcnQsIGZvcndhcmQsIGJ5KSB7XG4gICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQoc3RhcnQuaGVhZCksIHNwYW5zID0gdmlldy5iaWRpU3BhbnMobGluZSk7XG4gICAgbGV0IGRpcmVjdGlvbiA9IHZpZXcudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgZm9yIChsZXQgY3VyID0gc3RhcnQsIGNoZWNrID0gbnVsbDs7KSB7XG4gICAgICAgIGxldCBuZXh0ID0gbW92ZVZpc3VhbGx5KGxpbmUsIHNwYW5zLCBkaXJlY3Rpb24sIGN1ciwgZm9yd2FyZCksIGNoYXIgPSBtb3ZlZE92ZXI7XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgaWYgKGxpbmUubnVtYmVyID09IChmb3J3YXJkID8gdmlldy5zdGF0ZS5kb2MubGluZXMgOiAxKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICAgICAgY2hhciA9IFwiXFxuXCI7XG4gICAgICAgICAgICBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZShsaW5lLm51bWJlciArIChmb3J3YXJkID8gMSA6IC0xKSk7XG4gICAgICAgICAgICBzcGFucyA9IHZpZXcuYmlkaVNwYW5zKGxpbmUpO1xuICAgICAgICAgICAgbmV4dCA9IHZpZXcudmlzdWFsTGluZVNpZGUobGluZSwgIWZvcndhcmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hlY2spIHtcbiAgICAgICAgICAgIGlmICghYnkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICBjaGVjayA9IGJ5KGNoYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFjaGVjayhjaGFyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgfVxuICAgICAgICBjdXIgPSBuZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ5R3JvdXAodmlldywgcG9zLCBzdGFydCkge1xuICAgIGxldCBjYXRlZ29yaXplID0gdmlldy5zdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocG9zKTtcbiAgICBsZXQgY2F0ID0gY2F0ZWdvcml6ZShzdGFydCk7XG4gICAgcmV0dXJuIChuZXh0KSA9PiB7XG4gICAgICAgIGxldCBuZXh0Q2F0ID0gY2F0ZWdvcml6ZShuZXh0KTtcbiAgICAgICAgaWYgKGNhdCA9PSBDaGFyQ2F0ZWdvcnkuU3BhY2UpXG4gICAgICAgICAgICBjYXQgPSBuZXh0Q2F0O1xuICAgICAgICByZXR1cm4gY2F0ID09IG5leHRDYXQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1vdmVWZXJ0aWNhbGx5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkge1xuICAgIGxldCBzdGFydFBvcyA9IHN0YXJ0LmhlYWQsIGRpciA9IGZvcndhcmQgPyAxIDogLTE7XG4gICAgaWYgKHN0YXJ0UG9zID09IChmb3J3YXJkID8gdmlldy5zdGF0ZS5kb2MubGVuZ3RoIDogMCkpXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHN0YXJ0UG9zLCBzdGFydC5hc3NvYyk7XG4gICAgbGV0IGdvYWwgPSBzdGFydC5nb2FsQ29sdW1uLCBzdGFydFk7XG4gICAgbGV0IHJlY3QgPSB2aWV3LmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHN0YXJ0Q29vcmRzID0gdmlldy5jb29yZHNBdFBvcyhzdGFydFBvcywgc3RhcnQuYXNzb2MgfHwgLTEpLCBkb2NUb3AgPSB2aWV3LmRvY3VtZW50VG9wO1xuICAgIGlmIChzdGFydENvb3Jkcykge1xuICAgICAgICBpZiAoZ29hbCA9PSBudWxsKVxuICAgICAgICAgICAgZ29hbCA9IHN0YXJ0Q29vcmRzLmxlZnQgLSByZWN0LmxlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGRpciA8IDAgPyBzdGFydENvb3Jkcy50b3AgOiBzdGFydENvb3Jkcy5ib3R0b207XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbGluZSA9IHZpZXcudmlld1N0YXRlLmxpbmVCbG9ja0F0KHN0YXJ0UG9zKTtcbiAgICAgICAgaWYgKGdvYWwgPT0gbnVsbClcbiAgICAgICAgICAgIGdvYWwgPSBNYXRoLm1pbihyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LCB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCAqIChzdGFydFBvcyAtIGxpbmUuZnJvbSkpO1xuICAgICAgICBzdGFydFkgPSAoZGlyIDwgMCA/IGxpbmUudG9wIDogbGluZS5ib3R0b20pICsgZG9jVG9wO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRHb2FsID0gcmVjdC5sZWZ0ICsgZ29hbDtcbiAgICBsZXQgZGlzdCA9IGRpc3RhbmNlICE9PSBudWxsICYmIGRpc3RhbmNlICE9PSB2b2lkIDAgPyBkaXN0YW5jZSA6ICh2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUudGV4dEhlaWdodCA+PiAxKTtcbiAgICBmb3IgKGxldCBleHRyYSA9IDA7OyBleHRyYSArPSAxMCkge1xuICAgICAgICBsZXQgY3VyWSA9IHN0YXJ0WSArIChkaXN0ICsgZXh0cmEpICogZGlyO1xuICAgICAgICBsZXQgcG9zID0gcG9zQXRDb29yZHModmlldywgeyB4OiByZXNvbHZlZEdvYWwsIHk6IGN1clkgfSwgZmFsc2UsIGRpcik7XG4gICAgICAgIGlmIChjdXJZIDwgcmVjdC50b3AgfHwgY3VyWSA+IHJlY3QuYm90dG9tIHx8IChkaXIgPCAwID8gcG9zIDwgc3RhcnRQb3MgOiBwb3MgPiBzdGFydFBvcykpIHtcbiAgICAgICAgICAgIGxldCBjaGFyUmVjdCA9IHZpZXcuZG9jVmlldy5jb29yZHNGb3JDaGFyKHBvcyk7XG4gICAgICAgICAgICBsZXQgYXNzb2MgPSAhY2hhclJlY3QgfHwgY3VyWSA8IGNoYXJSZWN0LnRvcCA/IC0xIDogMTtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgYXNzb2MsIHVuZGVmaW5lZCwgZ29hbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBza2lwQXRvbWljUmFuZ2VzKGF0b21zLCBwb3MsIGJpYXMpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBtb3ZlZCA9IDA7XG4gICAgICAgIGZvciAobGV0IHNldCBvZiBhdG9tcykge1xuICAgICAgICAgICAgc2V0LmJldHdlZW4ocG9zIC0gMSwgcG9zICsgMSwgKGZyb20sIHRvLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tICYmIHBvcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWRlID0gbW92ZWQgfHwgYmlhcyB8fCAocG9zIC0gZnJvbSA8IHRvIC0gcG9zID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gc2lkZSA8IDAgPyBmcm9tIDogdG87XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkID0gc2lkZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vdmVkKVxuICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG59XG5mdW5jdGlvbiBza2lwQXRvbXModmlldywgb2xkUG9zLCBwb3MpIHtcbiAgICBsZXQgbmV3UG9zID0gc2tpcEF0b21pY1Jhbmdlcyh2aWV3LnN0YXRlLmZhY2V0KGF0b21pY1JhbmdlcykubWFwKGYgPT4gZih2aWV3KSksIHBvcy5mcm9tLCBvbGRQb3MuaGVhZCA+IHBvcy5mcm9tID8gLTEgOiAxKTtcbiAgICByZXR1cm4gbmV3UG9zID09IHBvcy5mcm9tID8gcG9zIDogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXdQb3MsIG5ld1BvcyA8IHBvcy5mcm9tID8gMSA6IC0xKTtcbn1cblxuY29uc3QgTGluZUJyZWFrUGxhY2Vob2xkZXIgPSBcIlxcdWZmZmZcIjtcbmNsYXNzIERPTVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IocG9pbnRzLCBzdGF0ZSkge1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5saW5lU2VwYXJhdG9yID0gc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcik7XG4gICAgfVxuICAgIGFwcGVuZCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCArPSB0ZXh0O1xuICAgIH1cbiAgICBsaW5lQnJlYWsoKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBMaW5lQnJlYWtQbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgcmVhZFJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKCFzdGFydClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgcGFyZW50ID0gc3RhcnQucGFyZW50Tm9kZTtcbiAgICAgICAgZm9yIChsZXQgY3VyID0gc3RhcnQ7Oykge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRCZWZvcmUocGFyZW50LCBjdXIpO1xuICAgICAgICAgICAgbGV0IG9sZExlbiA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnJlYWROb2RlKGN1cik7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGN1ci5uZXh0U2libGluZztcbiAgICAgICAgICAgIGlmIChuZXh0ID09IGVuZClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGN1ciksIG5leHRWaWV3ID0gQ29udGVudFZpZXcuZ2V0KG5leHQpO1xuICAgICAgICAgICAgaWYgKHZpZXcgJiYgbmV4dFZpZXcgPyB2aWV3LmJyZWFrQWZ0ZXIgOlxuICAgICAgICAgICAgICAgICh2aWV3ID8gdmlldy5icmVha0FmdGVyIDogaXNCbG9ja0VsZW1lbnQoY3VyKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzQmxvY2tFbGVtZW50KG5leHQpICYmIChjdXIubm9kZU5hbWUgIT0gXCJCUlwiIHx8IGN1ci5jbUlnbm9yZSkgJiYgdGhpcy50ZXh0Lmxlbmd0aCA+IG9sZExlbikpXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maW5kUG9pbnRCZWZvcmUocGFyZW50LCBlbmQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVhZFRleHROb2RlKG5vZGUpIHtcbiAgICAgICAgbGV0IHRleHQgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAocG9pbnQubm9kZSA9PSBub2RlKVxuICAgICAgICAgICAgICAgIHBvaW50LnBvcyA9IHRoaXMudGV4dC5sZW5ndGggKyBNYXRoLm1pbihwb2ludC5vZmZzZXQsIHRleHQubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgb2ZmID0gMCwgcmUgPSB0aGlzLmxpbmVTZXBhcmF0b3IgPyBudWxsIDogL1xcclxcbj98XFxuL2c7Oykge1xuICAgICAgICAgICAgbGV0IG5leHRCcmVhayA9IC0xLCBicmVha1NpemUgPSAxLCBtO1xuICAgICAgICAgICAgaWYgKHRoaXMubGluZVNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIG5leHRCcmVhayA9IHRleHQuaW5kZXhPZih0aGlzLmxpbmVTZXBhcmF0b3IsIG9mZik7XG4gICAgICAgICAgICAgICAgYnJlYWtTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG0gPSByZS5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJyZWFrID0gbS5pbmRleDtcbiAgICAgICAgICAgICAgICBicmVha1NpemUgPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRleHQuc2xpY2Uob2ZmLCBuZXh0QnJlYWsgPCAwID8gdGV4dC5sZW5ndGggOiBuZXh0QnJlYWspKTtcbiAgICAgICAgICAgIGlmIChuZXh0QnJlYWsgPCAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgIGlmIChicmVha1NpemUgPiAxKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQubm9kZSA9PSBub2RlICYmIHBvaW50LnBvcyA+IHRoaXMudGV4dC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5wb3MgLT0gYnJlYWtTaXplIC0gMTtcbiAgICAgICAgICAgIG9mZiA9IG5leHRCcmVhayArIGJyZWFrU2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkTm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmNtSWdub3JlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdmlldyA9IENvbnRlbnRWaWV3LmdldChub2RlKTtcbiAgICAgICAgbGV0IGZyb21WaWV3ID0gdmlldyAmJiB2aWV3Lm92ZXJyaWRlRE9NVGV4dDtcbiAgICAgICAgaWYgKGZyb21WaWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZFBvaW50SW5zaWRlKG5vZGUsIGZyb21WaWV3Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZnJvbVZpZXcuaXRlcigpOyAhaS5uZXh0KCkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICBpZiAoaS5saW5lQnJlYWspXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZFRleHROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJCUlwiKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZylcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkUmFuZ2Uobm9kZS5maXJzdENoaWxkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kUG9pbnRCZWZvcmUobm9kZSwgbmV4dCkge1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiB0aGlzLnBvaW50cylcbiAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUgJiYgbm9kZS5jaGlsZE5vZGVzW3BvaW50Lm9mZnNldF0gPT0gbmV4dClcbiAgICAgICAgICAgICAgICBwb2ludC5wb3MgPSB0aGlzLnRleHQubGVuZ3RoO1xuICAgIH1cbiAgICBmaW5kUG9pbnRJbnNpZGUobm9kZSwgbGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyA/IHBvaW50Lm5vZGUgPT0gbm9kZSA6IG5vZGUuY29udGFpbnMocG9pbnQubm9kZSkpXG4gICAgICAgICAgICAgICAgcG9pbnQucG9zID0gdGhpcy50ZXh0Lmxlbmd0aCArIChpc0F0RW5kKG5vZGUsIHBvaW50Lm5vZGUsIHBvaW50Lm9mZnNldCkgPyBsZW5ndGggOiAwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0F0RW5kKHBhcmVudCwgbm9kZSwgb2Zmc2V0KSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAoIW5vZGUgfHwgb2Zmc2V0IDwgbWF4T2Zmc2V0KG5vZGUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSkgKyAxO1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbn1cbmNsYXNzIERPTVBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9zID0gLTE7XG4gICAgfVxufVxuXG5jbGFzcyBET01DaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXJ0LCBlbmQsIHR5cGVPdmVyKSB7XG4gICAgICAgIHRoaXMudHlwZU92ZXIgPSB0eXBlT3ZlcjtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLmRvbUNoYW5nZWQgPSBzdGFydCA+IC0xO1xuICAgICAgICBsZXQgeyBpbXByZWNpc2VIZWFkOiBpSGVhZCwgaW1wcmVjaXNlQW5jaG9yOiBpQW5jaG9yIH0gPSB2aWV3LmRvY1ZpZXc7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5ICYmIHN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBjaGFuZ2VzIHdoZW4gdGhlIGVkaXRvciBpcyByZWFkLW9ubHlcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA+IC0xICYmICh0aGlzLmJvdW5kcyA9IHZpZXcuZG9jVmlldy5kb21Cb3VuZHNBcm91bmQoc3RhcnQsIGVuZCwgMCkpKSB7XG4gICAgICAgICAgICBsZXQgc2VsUG9pbnRzID0gaUhlYWQgfHwgaUFuY2hvciA/IFtdIDogc2VsZWN0aW9uUG9pbnRzKHZpZXcpO1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBET01SZWFkZXIoc2VsUG9pbnRzLCB2aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkUmFuZ2UodGhpcy5ib3VuZHMuc3RhcnRET00sIHRoaXMuYm91bmRzLmVuZERPTSk7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSByZWFkZXIudGV4dDtcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gc2VsZWN0aW9uRnJvbVBvaW50cyhzZWxQb2ludHMsIHRoaXMuYm91bmRzLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRvbVNlbCA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgICAgICBsZXQgaGVhZCA9IGlIZWFkICYmIGlIZWFkLm5vZGUgPT0gZG9tU2VsLmZvY3VzTm9kZSAmJiBpSGVhZC5vZmZzZXQgPT0gZG9tU2VsLmZvY3VzT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmZvY3VzTm9kZSlcbiAgICAgICAgICAgICAgICA/IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZFxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBhbmNob3IgPSBpQW5jaG9yICYmIGlBbmNob3Iubm9kZSA9PSBkb21TZWwuYW5jaG9yTm9kZSAmJiBpQW5jaG9yLm9mZnNldCA9PSBkb21TZWwuYW5jaG9yT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmFuY2hvck5vZGUpXG4gICAgICAgICAgICAgICAgPyB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvclxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgLy8gaU9TIHdpbGwgcmVmdXNlIHRvIHNlbGVjdCB0aGUgYmxvY2sgZ2FwcyB3aGVuIGRvaW5nXG4gICAgICAgICAgICAvLyBzZWxlY3QtYWxsLlxuICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgcHV0IHRoZSBzZWxlY3Rpb24gKmluc2lkZSogdGhlbSwgY29uZnVzaW5nXG4gICAgICAgICAgICAvLyBwb3NGcm9tRE9NXG4gICAgICAgICAgICBsZXQgdnAgPSB2aWV3LnZpZXdwb3J0O1xuICAgICAgICAgICAgaWYgKChicm93c2VyLmlvcyB8fCBicm93c2VyLmNocm9tZSkgJiYgdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5lbXB0eSAmJiBoZWFkICE9IGFuY2hvciAmJlxuICAgICAgICAgICAgICAgICh2cC5mcm9tID4gMCB8fCB2cC50byA8IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWluKGhlYWQsIGFuY2hvciksIHRvID0gTWF0aC5tYXgoaGVhZCwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgb2ZmRnJvbSA9IHZwLmZyb20gLSBmcm9tLCBvZmZUbyA9IHZwLnRvIC0gdG87XG4gICAgICAgICAgICAgICAgaWYgKChvZmZGcm9tID09IDAgfHwgb2ZmRnJvbSA9PSAxIHx8IGZyb20gPT0gMCkgJiYgKG9mZlRvID09IDAgfHwgb2ZmVG8gPT0gLTEgfHwgdG8gPT0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShhbmNob3IsIGhlYWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlET01DaGFuZ2UodmlldywgZG9tQ2hhbmdlKSB7XG4gICAgbGV0IGNoYW5nZTtcbiAgICBsZXQgeyBuZXdTZWwgfSA9IGRvbUNoYW5nZSwgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBsZXQgbGFzdEtleSA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5VGltZSA+IERhdGUubm93KCkgLSAxMDAgPyB2aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgOiAtMTtcbiAgICBpZiAoZG9tQ2hhbmdlLmJvdW5kcykge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gZG9tQ2hhbmdlLmJvdW5kcztcbiAgICAgICAgbGV0IHByZWZlcnJlZFBvcyA9IHNlbC5mcm9tLCBwcmVmZXJyZWRTaWRlID0gbnVsbDtcbiAgICAgICAgLy8gUHJlZmVyIGFuY2hvcmluZyB0byBlbmQgd2hlbiBCYWNrc3BhY2UgaXMgcHJlc3NlZCAob3IsIG9uXG4gICAgICAgIC8vIEFuZHJvaWQsIHdoZW4gc29tZXRoaW5nIHdhcyBkZWxldGVkKVxuICAgICAgICBpZiAobGFzdEtleSA9PT0gOCB8fCBicm93c2VyLmFuZHJvaWQgJiYgZG9tQ2hhbmdlLnRleHQubGVuZ3RoIDwgdG8gLSBmcm9tKSB7XG4gICAgICAgICAgICBwcmVmZXJyZWRQb3MgPSBzZWwudG87XG4gICAgICAgICAgICBwcmVmZXJyZWRTaWRlID0gXCJlbmRcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlmZiA9IGZpbmREaWZmKHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvLCBMaW5lQnJlYWtQbGFjZWhvbGRlciksIGRvbUNoYW5nZS50ZXh0LCBwcmVmZXJyZWRQb3MgLSBmcm9tLCBwcmVmZXJyZWRTaWRlKTtcbiAgICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgICAgIC8vIENocm9tZSBpbnNlcnRzIHR3byBuZXdsaW5lcyB3aGVuIHByZXNzaW5nIHNoaWZ0LWVudGVyIGF0IHRoZVxuICAgICAgICAgICAgLy8gZW5kIG9mIGEgbGluZS4gRG9tQ2hhbmdlIGRyb3BzIG9uZSBvZiB0aG9zZS5cbiAgICAgICAgICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBsYXN0S2V5ID09IDEzICYmXG4gICAgICAgICAgICAgICAgZGlmZi50b0IgPT0gZGlmZi5mcm9tICsgMiAmJiBkb21DaGFuZ2UudGV4dC5zbGljZShkaWZmLmZyb20sIGRpZmYudG9CKSA9PSBMaW5lQnJlYWtQbGFjZWhvbGRlciArIExpbmVCcmVha1BsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgIGRpZmYudG9CLS07XG4gICAgICAgICAgICBjaGFuZ2UgPSB7IGZyb206IGZyb20gKyBkaWZmLmZyb20sIHRvOiBmcm9tICsgZGlmZi50b0EsXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiBUZXh0Lm9mKGRvbUNoYW5nZS50ZXh0LnNsaWNlKGRpZmYuZnJvbSwgZGlmZi50b0IpLnNwbGl0KExpbmVCcmVha1BsYWNlaG9sZGVyKSkgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChuZXdTZWwgJiYgKCF2aWV3Lmhhc0ZvY3VzICYmIHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpIHx8IG5ld1NlbC5tYWluLmVxKHNlbCkpKSB7XG4gICAgICAgIG5ld1NlbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICghY2hhbmdlICYmICFuZXdTZWwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWNoYW5nZSAmJiBkb21DaGFuZ2UudHlwZU92ZXIgJiYgIXNlbC5lbXB0eSAmJiBuZXdTZWwgJiYgbmV3U2VsLm1haW4uZW1wdHkpIHtcbiAgICAgICAgLy8gSGV1cmlzdGljIHRvIG5vdGljZSB0eXBpbmcgb3ZlciBhIHNlbGVjdGVkIGNoYXJhY3RlclxuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBzZWwudG8pIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA+PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPD0gc2VsLnRvICYmXG4gICAgICAgIChjaGFuZ2UuZnJvbSAhPSBzZWwuZnJvbSB8fCBjaGFuZ2UudG8gIT0gc2VsLnRvKSAmJlxuICAgICAgICAoc2VsLnRvIC0gc2VsLmZyb20pIC0gKGNoYW5nZS50byAtIGNoYW5nZS5mcm9tKSA8PSA0KSB7XG4gICAgICAgIC8vIElmIHRoZSBjaGFuZ2UgaXMgaW5zaWRlIHRoZSBzZWxlY3Rpb24gYW5kIGNvdmVycyBtb3N0IG9mIGl0LFxuICAgICAgICAvLyBhc3N1bWUgaXQgaXMgYSBzZWxlY3Rpb24gcmVwbGFjZSAod2l0aCBpZGVudGljYWwgY2hhcmFjdGVycyBhdFxuICAgICAgICAvLyB0aGUgc3RhcnQvZW5kIG5vdCBpbmNsdWRlZCBpbiB0aGUgZGlmZilcbiAgICAgICAgY2hhbmdlID0ge1xuICAgICAgICAgICAgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sXG4gICAgICAgICAgICBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBjaGFuZ2UuZnJvbSkuYXBwZW5kKGNoYW5nZS5pbnNlcnQpLmFwcGVuZCh2aWV3LnN0YXRlLmRvYy5zbGljZShjaGFuZ2UudG8sIHNlbC50bykpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKChicm93c2VyLm1hYyB8fCBicm93c2VyLmFuZHJvaWQpICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgY2hhbmdlLmZyb20gPT0gc2VsLmhlYWQgLSAxICYmXG4gICAgICAgIC9eXFwuID8kLy50ZXN0KGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKSkgJiYgdmlldy5jb250ZW50RE9NLmdldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIpID09IFwib2ZmXCIpIHtcbiAgICAgICAgLy8gRGV0ZWN0IGluc2VydC1wZXJpb2Qtb24tZG91YmxlLXNwYWNlIE1hYyBhbmQgQW5kcm9pZCBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHRyYW5zZm9ybSBpdCBpbnRvIGEgcmVndWxhciBzcGFjZSBpbnNlcnQuXG4gICAgICAgIGlmIChuZXdTZWwgJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMilcbiAgICAgICAgICAgIG5ld1NlbCA9IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUobmV3U2VsLm1haW4uYW5jaG9yIC0gMSwgbmV3U2VsLm1haW4uaGVhZCAtIDEpO1xuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IFRleHQub2YoW1wiIFwiXSkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgY2hhbmdlICYmIGNoYW5nZS5mcm9tID09IGNoYW5nZS50byAmJiBjaGFuZ2UuZnJvbSA9PSBzZWwuaGVhZCAmJlxuICAgICAgICBjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCkgPT0gXCJcXG4gXCIgJiYgdmlldy5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgLy8gSW4gQ2hyb21lLCBpZiB5b3UgaW5zZXJ0IGEgc3BhY2UgYXQgdGhlIHN0YXJ0IG9mIGEgd3JhcHBlZFxuICAgICAgICAvLyBsaW5lLCBpdCB3aWxsIGFjdHVhbGx5IGluc2VydCBhIG5ld2xpbmUgYW5kIGEgc3BhY2UsIGNhdXNpbmcgYVxuICAgICAgICAvLyBib2d1cyBuZXcgbGluZSB0byBiZSBjcmVhdGVkIGluIENvZGVNaXJyb3IgKCM5NjgpXG4gICAgICAgIGlmIChuZXdTZWwpXG4gICAgICAgICAgICBuZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKG5ld1NlbC5tYWluLmFuY2hvciAtIDEsIG5ld1NlbC5tYWluLmhlYWQgLSAxKTtcbiAgICAgICAgY2hhbmdlID0geyBmcm9tOiBzZWwuZnJvbSwgdG86IHNlbC50bywgaW5zZXJ0OiBUZXh0Lm9mKFtcIiBcIl0pIH07XG4gICAgfVxuICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5RE9NQ2hhbmdlSW5uZXIodmlldywgY2hhbmdlLCBuZXdTZWwsIGxhc3RLZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuZXdTZWwgJiYgIW5ld1NlbC5tYWluLmVxKHNlbCkpIHtcbiAgICAgICAgbGV0IHNjcm9sbEludG9WaWV3ID0gZmFsc2UsIHVzZXJFdmVudCA9IFwic2VsZWN0XCI7XG4gICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUubGFzdFNlbGVjdGlvblRpbWUgPiBEYXRlLm5vdygpIC0gNTApIHtcbiAgICAgICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUubGFzdFNlbGVjdGlvbk9yaWdpbiA9PSBcInNlbGVjdFwiKVxuICAgICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIHVzZXJFdmVudCA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBzZWxlY3Rpb246IG5ld1NlbCwgc2Nyb2xsSW50b1ZpZXcsIHVzZXJFdmVudCB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCBjaGFuZ2UsIG5ld1NlbCwgbGFzdEtleSA9IC0xKSB7XG4gICAgaWYgKGJyb3dzZXIuaW9zICYmIHZpZXcuaW5wdXRTdGF0ZS5mbHVzaElPU0tleShjaGFuZ2UpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAvLyBBbmRyb2lkIGJyb3dzZXJzIGRvbid0IGZpcmUgcmVhc29uYWJsZSBrZXkgZXZlbnRzIGZvciBlbnRlcixcbiAgICAvLyBiYWNrc3BhY2UsIG9yIGRlbGV0ZS4gU28gdGhpcyBkZXRlY3RzIGNoYW5nZXMgdGhhdCBsb29rIGxpa2VcbiAgICAvLyB0aGV5J3JlIGNhdXNlZCBieSB0aG9zZSBrZXlzLCBhbmQgcmVpbnRlcnByZXRzIHRoZW0gYXMga2V5XG4gICAgLy8gZXZlbnRzLiAoU29tZSBvZiB0aGVzZSBrZXlzIGFyZSBhbHNvIGhhbmRsZWQgYnkgYmVmb3JlaW5wdXRcbiAgICAvLyBldmVudHMgYW5kIHRoZSBwZW5kaW5nQW5kcm9pZEtleSBtZWNoYW5pc20sIGJ1dCB0aGF0J3Mgbm90XG4gICAgLy8gcmVsaWFibGUgaW4gYWxsIHNpdHVhdGlvbnMuKVxuICAgIGlmIChicm93c2VyLmFuZHJvaWQgJiZcbiAgICAgICAgKChjaGFuZ2UudG8gPT0gc2VsLnRvICYmXG4gICAgICAgICAgICAvLyBHQm9hcmQgd2lsbCBzb21ldGltZXMgcmVtb3ZlIGEgc3BhY2UgaXQganVzdCBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gYWZ0ZXIgYSBjb21wbGV0aW9uIHdoZW4geW91IHByZXNzIGVudGVyXG4gICAgICAgICAgICAoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gfHwgY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gLSAxICYmIHZpZXcuc3RhdGUuc2xpY2VEb2MoY2hhbmdlLmZyb20sIHNlbC5mcm9tKSA9PSBcIiBcIikgJiZcbiAgICAgICAgICAgIGNoYW5nZS5pbnNlcnQubGVuZ3RoID09IDEgJiYgY2hhbmdlLmluc2VydC5saW5lcyA9PSAyICYmXG4gICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiRW50ZXJcIiwgMTMpKSB8fFxuICAgICAgICAgICAgKChjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAtIDEgJiYgY2hhbmdlLnRvID09IHNlbC50byAmJiBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA9PSAwIHx8XG4gICAgICAgICAgICAgICAgbGFzdEtleSA9PSA4ICYmIGNoYW5nZS5pbnNlcnQubGVuZ3RoIDwgY2hhbmdlLnRvIC0gY2hhbmdlLmZyb20gJiYgY2hhbmdlLnRvID4gc2VsLmhlYWQpICYmXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodmlldy5jb250ZW50RE9NLCBcIkJhY2tzcGFjZVwiLCA4KSkgfHxcbiAgICAgICAgICAgIChjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPT0gc2VsLnRvICsgMSAmJiBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA9PSAwICYmXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodmlldy5jb250ZW50RE9NLCBcIkRlbGV0ZVwiLCA0NikpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IHRleHQgPSBjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCk7XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMClcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZysrO1xuICAgIGxldCBkZWZhdWx0VHI7XG4gICAgbGV0IGRlZmF1bHRJbnNlcnQgPSAoKSA9PiBkZWZhdWx0VHIgfHwgKGRlZmF1bHRUciA9IGFwcGx5RGVmYXVsdEluc2VydCh2aWV3LCBjaGFuZ2UsIG5ld1NlbCkpO1xuICAgIGlmICghdmlldy5zdGF0ZS5mYWNldChpbnB1dEhhbmRsZXIpLnNvbWUoaCA9PiBoKHZpZXcsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8sIHRleHQsIGRlZmF1bHRJbnNlcnQpKSlcbiAgICAgICAgdmlldy5kaXNwYXRjaChkZWZhdWx0SW5zZXJ0KCkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0SW5zZXJ0KHZpZXcsIGNoYW5nZSwgbmV3U2VsKSB7XG4gICAgbGV0IHRyLCBzdGFydFN0YXRlID0gdmlldy5zdGF0ZSwgc2VsID0gc3RhcnRTdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBpZiAoY2hhbmdlLmZyb20gPj0gc2VsLmZyb20gJiYgY2hhbmdlLnRvIDw9IHNlbC50byAmJiBjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSA+PSAoc2VsLnRvIC0gc2VsLmZyb20pIC8gMyAmJlxuICAgICAgICAoIW5ld1NlbCB8fCBuZXdTZWwubWFpbi5lbXB0eSAmJiBuZXdTZWwubWFpbi5mcm9tID09IGNoYW5nZS5mcm9tICsgY2hhbmdlLmluc2VydC5sZW5ndGgpICYmXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPCAwKSB7XG4gICAgICAgIGxldCBiZWZvcmUgPSBzZWwuZnJvbSA8IGNoYW5nZS5mcm9tID8gc3RhcnRTdGF0ZS5zbGljZURvYyhzZWwuZnJvbSwgY2hhbmdlLmZyb20pIDogXCJcIjtcbiAgICAgICAgbGV0IGFmdGVyID0gc2VsLnRvID4gY2hhbmdlLnRvID8gc3RhcnRTdGF0ZS5zbGljZURvYyhjaGFuZ2UudG8sIHNlbC50bykgOiBcIlwiO1xuICAgICAgICB0ciA9IHN0YXJ0U3RhdGUucmVwbGFjZVNlbGVjdGlvbih2aWV3LnN0YXRlLnRvVGV4dChiZWZvcmUgKyBjaGFuZ2UuaW5zZXJ0LnNsaWNlU3RyaW5nKDAsIHVuZGVmaW5lZCwgdmlldy5zdGF0ZS5saW5lQnJlYWspICsgYWZ0ZXIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gc3RhcnRTdGF0ZS5jaGFuZ2VzKGNoYW5nZSk7XG4gICAgICAgIGxldCBtYWluU2VsID0gbmV3U2VsICYmIG5ld1NlbC5tYWluLnRvIDw9IGNoYW5nZXMubmV3TGVuZ3RoID8gbmV3U2VsLm1haW4gOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFRyeSB0byBhcHBseSBhIGNvbXBvc2l0aW9uIGNoYW5nZSB0byBhbGwgY3Vyc29yc1xuICAgICAgICBpZiAoc3RhcnRTdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aCA+IDEgJiYgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwICYmXG4gICAgICAgICAgICBjaGFuZ2UudG8gPD0gc2VsLnRvICYmIGNoYW5nZS50byA+PSBzZWwudG8gLSAxMCkge1xuICAgICAgICAgICAgbGV0IHJlcGxhY2VkID0gdmlldy5zdGF0ZS5zbGljZURvYyhjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKTtcbiAgICAgICAgICAgIGxldCBjb21wb3NpdGlvblJhbmdlLCBjb21wb3NpdGlvbiA9IG5ld1NlbCAmJiBmaW5kQ29tcG9zaXRpb25Ob2RlKHZpZXcsIG5ld1NlbC5tYWluLmhlYWQpO1xuICAgICAgICAgICAgaWYgKGNvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRMZW4gPSBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCAtIChjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSk7XG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25SYW5nZSA9IHsgZnJvbTogY29tcG9zaXRpb24uZnJvbSwgdG86IGNvbXBvc2l0aW9uLnRvIC0gZExlbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25SYW5nZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChzZWwuaGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gc2VsLnRvIC0gY2hhbmdlLnRvLCBzaXplID0gc2VsLnRvIC0gc2VsLmZyb207XG4gICAgICAgICAgICB0ciA9IHN0YXJ0U3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmZyb20gPT0gc2VsLmZyb20gJiYgcmFuZ2UudG8gPT0gc2VsLnRvKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzLCByYW5nZTogbWFpblNlbCB8fCByYW5nZS5tYXAoY2hhbmdlcykgfTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSByYW5nZS50byAtIG9mZnNldCwgZnJvbSA9IHRvIC0gcmVwbGFjZWQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS50byAtIHJhbmdlLmZyb20gIT0gc2l6ZSB8fCB2aWV3LnN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKSAhPSByZXBsYWNlZCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGVyZSdzIG5vIHdheSB0byBtYWtlIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZXMgaW4gdGhlIHNhbWUgbm9kZSB3b3JrIHdpdGhvdXQgYWJvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9zaXRpb24sIHNvIGN1cnNvcnMgaW4gdGhlIGNvbXBvc2l0aW9uIHJhbmdlIGFyZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmVkLlxuICAgICAgICAgICAgICAgICAgICByYW5nZS50byA+PSBjb21wb3NpdGlvblJhbmdlLmZyb20gJiYgcmFuZ2UuZnJvbSA8PSBjb21wb3NpdGlvblJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICAgICAgICAgIGxldCByYW5nZUNoYW5nZXMgPSBzdGFydFN0YXRlLmNoYW5nZXMoeyBmcm9tLCB0bywgaW5zZXJ0OiBjaGFuZ2UuaW5zZXJ0IH0pLCBzZWxPZmYgPSByYW5nZS50byAtIHNlbC50bztcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzOiByYW5nZUNoYW5nZXMsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiAhbWFpblNlbCA/IHJhbmdlLm1hcChyYW5nZUNoYW5nZXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRvclNlbGVjdGlvbi5yYW5nZShNYXRoLm1heCgwLCBtYWluU2VsLmFuY2hvciArIHNlbE9mZiksIE1hdGgubWF4KDAsIG1haW5TZWwuaGVhZCArIHNlbE9mZikpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHIgPSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IG1haW5TZWwgJiYgc3RhcnRTdGF0ZS5zZWxlY3Rpb24ucmVwbGFjZVJhbmdlKG1haW5TZWwpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyRXZlbnQgPSBcImlucHV0LnR5cGVcIjtcbiAgICBpZiAodmlldy5jb21wb3NpbmcgfHxcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSAmJiB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25FbmRlZEF0ID4gRGF0ZS5ub3coKSAtIDUwKSB7XG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdXNlckV2ZW50ICs9IFwiLmNvbXBvc2VcIjtcbiAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICB1c2VyRXZlbnQgKz0gXCIuc3RhcnRcIjtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0U3RhdGUudXBkYXRlKHRyLCB7IHVzZXJFdmVudCwgc2Nyb2xsSW50b1ZpZXc6IHRydWUgfSk7XG59XG5mdW5jdGlvbiBmaW5kRGlmZihhLCBiLCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGUpIHtcbiAgICBsZXQgbWluTGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBsZXQgZnJvbSA9IDA7XG4gICAgd2hpbGUgKGZyb20gPCBtaW5MZW4gJiYgYS5jaGFyQ29kZUF0KGZyb20pID09IGIuY2hhckNvZGVBdChmcm9tKSlcbiAgICAgICAgZnJvbSsrO1xuICAgIGlmIChmcm9tID09IG1pbkxlbiAmJiBhLmxlbmd0aCA9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHRvQSA9IGEubGVuZ3RoLCB0b0IgPSBiLmxlbmd0aDtcbiAgICB3aGlsZSAodG9BID4gMCAmJiB0b0IgPiAwICYmIGEuY2hhckNvZGVBdCh0b0EgLSAxKSA9PSBiLmNoYXJDb2RlQXQodG9CIC0gMSkpIHtcbiAgICAgICAgdG9BLS07XG4gICAgICAgIHRvQi0tO1xuICAgIH1cbiAgICBpZiAocHJlZmVycmVkU2lkZSA9PSBcImVuZFwiKSB7XG4gICAgICAgIGxldCBhZGp1c3QgPSBNYXRoLm1heCgwLCBmcm9tIC0gTWF0aC5taW4odG9BLCB0b0IpKTtcbiAgICAgICAgcHJlZmVycmVkUG9zIC09IHRvQSArIGFkanVzdCAtIGZyb207XG4gICAgfVxuICAgIGlmICh0b0EgPCBmcm9tICYmIGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gZnJvbSAmJiBwcmVmZXJyZWRQb3MgPj0gdG9BID8gZnJvbSAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgICAgIGZyb20gLT0gbW92ZTtcbiAgICAgICAgdG9CID0gZnJvbSArICh0b0IgLSB0b0EpO1xuICAgICAgICB0b0EgPSBmcm9tO1xuICAgIH1cbiAgICBlbHNlIGlmICh0b0IgPCBmcm9tKSB7XG4gICAgICAgIGxldCBtb3ZlID0gcHJlZmVycmVkUG9zIDw9IGZyb20gJiYgcHJlZmVycmVkUG9zID49IHRvQiA/IGZyb20gLSBwcmVmZXJyZWRQb3MgOiAwO1xuICAgICAgICBmcm9tIC09IG1vdmU7XG4gICAgICAgIHRvQSA9IGZyb20gKyAodG9BIC0gdG9CKTtcbiAgICAgICAgdG9CID0gZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZnJvbSwgdG9BLCB0b0IgfTtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvblBvaW50cyh2aWV3KSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGlmICh2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCAhPSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgbGV0IHsgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0IH0gPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgIGlmIChhbmNob3JOb2RlKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBET01Qb2ludChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpKTtcbiAgICAgICAgaWYgKGZvY3VzTm9kZSAhPSBhbmNob3JOb2RlIHx8IGZvY3VzT2Zmc2V0ICE9IGFuY2hvck9mZnNldClcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBET01Qb2ludChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzZWxlY3Rpb25Gcm9tUG9pbnRzKHBvaW50cywgYmFzZSkge1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBhbmNob3IgPSBwb2ludHNbMF0ucG9zLCBoZWFkID0gcG9pbnRzLmxlbmd0aCA9PSAyID8gcG9pbnRzWzFdLnBvcyA6IGFuY2hvcjtcbiAgICByZXR1cm4gYW5jaG9yID4gLTEgJiYgaGVhZCA+IC0xID8gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShhbmNob3IgKyBiYXNlLCBoZWFkICsgYmFzZSkgOiBudWxsO1xufVxuXG4vLyBUaGlzIHdpbGwgYWxzbyBiZSB3aGVyZSBkcmFnZ2luZyBpbmZvIGFuZCBzdWNoIGdvZXNcbmNsYXNzIElucHV0U3RhdGUge1xuICAgIHNldFNlbGVjdGlvbk9yaWdpbihvcmlnaW4pIHtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb25UaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gMDtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFRvdWNoVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSAwO1xuICAgICAgICAvLyBPbiBpT1MsIHNvbWUga2V5cyBuZWVkIHRvIGhhdmUgdGhlaXIgZGVmYXVsdCBiZWhhdmlvciBoYXBwZW5cbiAgICAgICAgLy8gKGFmdGVyIHdoaWNoIHdlIHJldHJvYWN0aXZlbHkgaGFuZGxlIHRoZW0gYW5kIHJlc2V0IHRoZSBET00pIHRvXG4gICAgICAgIC8vIGF2b2lkIG1lc3NpbmcgdXAgdGhlIHZpcnR1YWwga2V5Ym9hcmQgc3RhdGUuXG4gICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgIFdoZW4gZW5hYmxlZCAoPi0xKSwgdGFiIHByZXNzZXMgYXJlIG5vdCBnaXZlbiB0byBrZXkgaGFuZGxlcnMsXG4gICAgICAgIGxlYXZpbmcgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yLiBJZiA+MCwgdGhlIG1vZGUgZXhwaXJlc1xuICAgICAgICBhdCB0aGF0IHRpbWVzdGFtcCwgYW5kIGFueSBvdGhlciBrZXlwcmVzcyBjbGVhcnMgaXQuXG4gICAgICAgIEVzYyBlbmFibGVzIHRlbXBvcmFyeSB0YWIgZm9jdXMgbW9kZSBmb3IgdHdvIHNlY29uZHMgd2hlbiBub3RcbiAgICAgICAgb3RoZXJ3aXNlIGhhbmRsZWQuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudGFiRm9jdXNNb2RlID0gLTE7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb250ZXh0TWVudSA9IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8vIC0xIG1lYW5zIG5vdCBpbiBhIGNvbXBvc2l0aW9uLiBPdGhlcndpc2UsIHRoaXMgY291bnRzIHRoZSBudW1iZXJcbiAgICAgICAgLy8gb2YgY2hhbmdlcyBtYWRlIGR1cmluZyB0aGUgY29tcG9zaXRpb24uIFRoZSBjb3VudCBpcyB1c2VkIHRvXG4gICAgICAgIC8vIGF2b2lkIHRyZWF0aW5nIHRoZSBzdGFydCBzdGF0ZSBvZiB0aGUgY29tcG9zaXRpb24sIGJlZm9yZSBhbnlcbiAgICAgICAgLy8gY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSwgYXMgcGFydCBvZiB0aGUgY29tcG9zaXRpb24uXG4gICAgICAgIHRoaXMuY29tcG9zaW5nID0gLTE7XG4gICAgICAgIC8vIFRyYWNrcyB3aGV0aGVyIHRoZSBuZXh0IGNoYW5nZSBzaG91bGQgYmUgbWFya2VkIGFzIHN0YXJ0aW5nIHRoZVxuICAgICAgICAvLyBjb21wb3NpdGlvbiAobnVsbCBtZWFucyBubyBjb21wb3NpdGlvbiwgdHJ1ZSBtZWFucyBuZXh0IGlzIHRoZVxuICAgICAgICAvLyBmaXJzdCwgZmFsc2UgbWVhbnMgZmlyc3QgaGFzIGFscmVhZHkgYmVlbiBtYXJrZWQgZm9yIHRoaXNcbiAgICAgICAgLy8gY29tcG9zaXRpb24pXG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IG51bGw7XG4gICAgICAgIC8vIEVuZCB0aW1lIG9mIHRoZSBwcmV2aW91cyBjb21wb3NpdGlvblxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRW5kZWRBdCA9IDA7XG4gICAgICAgIC8vIFVzZWQgaW4gYSBrbHVkZ2UgdG8gZGV0ZWN0IHdoZW4gYW4gRW50ZXIga2V5cHJlc3Mgc2hvdWxkIGJlXG4gICAgICAgIC8vIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgY29tcG9zaXRpb24gb24gU2FmYXJpLCB3aGljaCBmaXJlcyBldmVudHNcbiAgICAgICAgLy8gaW4gdGhlIHdyb25nIG9yZGVyXG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25QZW5kaW5nS2V5ID0gZmFsc2U7XG4gICAgICAgIC8vIFVzZWQgdG8gY2F0ZWdvcml6ZSBjaGFuZ2VzIGFzIHBhcnQgb2YgYSBjb21wb3NpdGlvbiwgZXZlbiB3aGVuXG4gICAgICAgIC8vIHRoZSBtdXRhdGlvbiBldmVudHMgZmlyZSBzaG9ydGx5IGFmdGVyIHRoZSBjb21wb3NpdGlvbmVuZCBldmVudFxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgLy8gV2hlbiBhIGRyYWcgZnJvbSB0aGUgZWRpdG9yIGlzIGFjdGl2ZSwgdGhpcyBwb2ludHMgYXQgdGhlIHJhbmdlXG4gICAgICAgIC8vIGJlaW5nIGRyYWdnZWQuXG4gICAgICAgIHRoaXMuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50ID0gdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm5vdGlmaWVkRm9jdXNlZCA9IHZpZXcuaGFzRm9jdXM7XG4gICAgICAgIC8vIE9uIFNhZmFyaSBhZGRpbmcgYW4gaW5wdXQgZXZlbnQgaGFuZGxlciBzb21laG93IHByZXZlbnRzIGFuXG4gICAgICAgIC8vIGlzc3VlIHdoZXJlIHRoZSBjb21wb3NpdGlvbiB2YW5pc2hlcyB3aGVuIHlvdSBwcmVzcyBlbnRlci5cbiAgICAgICAgaWYgKGJyb3dzZXIuc2FmYXJpKVxuICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiBudWxsKTtcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28pXG4gICAgICAgICAgICBmaXJlZm94Q29weUN1dEhhY2sodmlldy5jb250ZW50RE9NLm93bmVyRG9jdW1lbnQpO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50QmVsb25nc1RvRWRpdG9yKHRoaXMudmlldywgZXZlbnQpIHx8IHRoaXMuaWdub3JlRHVyaW5nQ29tcG9zaXRpb24oZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSBcImtleWRvd25cIiAmJiB0aGlzLmtleWRvd24oZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJ1bkhhbmRsZXJzKGV2ZW50LnR5cGUsIGV2ZW50KTtcbiAgICB9XG4gICAgcnVuSGFuZGxlcnModHlwZSwgZXZlbnQpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1t0eXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBvYnNlcnZlciBvZiBoYW5kbGVycy5vYnNlcnZlcnMpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIodGhpcy52aWV3LCBldmVudCk7XG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIGhhbmRsZXJzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKHRoaXMudmlldywgZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnN1cmVIYW5kbGVycyhwbHVnaW5zKSB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IGNvbXB1dGVIYW5kbGVycyhwbHVnaW5zKSwgcHJldiA9IHRoaXMuaGFuZGxlcnMsIGRvbSA9IHRoaXMudmlldy5jb250ZW50RE9NO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKVxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gXCJzY3JvbGxcIikge1xuICAgICAgICAgICAgICAgIGxldCBwYXNzaXZlID0gIWhhbmRsZXJzW3R5cGVdLmhhbmRsZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgZXhpc3RzID0gcHJldlt0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzICYmIHBhc3NpdmUgIT0gIWV4aXN0cy5oYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGhpcy5oYW5kbGVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICAgICAgICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLmhhbmRsZUV2ZW50LCB7IHBhc3NpdmUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gcHJldilcbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwic2Nyb2xsXCIgJiYgIWhhbmRsZXJzW3R5cGVdKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMuaGFuZGxlRXZlbnQpO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIGtleWRvd24oZXZlbnQpIHtcbiAgICAgICAgLy8gTXVzdCBhbHdheXMgcnVuLCBldmVuIGlmIGEgY3VzdG9tIGhhbmRsZXIgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICAgICAgdGhpcy5sYXN0S2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICAgIHRoaXMubGFzdEtleVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA5ICYmIHRoaXMudGFiRm9jdXNNb2RlID4gLTEgJiYgKCF0aGlzLnRhYkZvY3VzTW9kZSB8fCBEYXRlLm5vdygpIDw9IHRoaXMudGFiRm9jdXNNb2RlKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy50YWJGb2N1c01vZGUgPiAwICYmIGV2ZW50LmtleUNvZGUgIT0gMjcgJiYgbW9kaWZpZXJDb2Rlcy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMudGFiRm9jdXNNb2RlID0gLTE7XG4gICAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZCB1c3VhbGx5IGRvZXNuJ3QgZmlyZSBwcm9wZXIga2V5IGV2ZW50cywgYnV0XG4gICAgICAgIC8vIG9jY2FzaW9uYWxseSBkb2VzLCB1c3VhbGx5IHN1cnJvdW5kZWQgYnkgYSBidW5jaCBvZiBjb21wbGljYXRlZFxuICAgICAgICAvLyBjb21wb3NpdGlvbiBjaGFuZ2VzLiBXaGVuIGFuIGVudGVyIG9yIGJhY2tzcGFjZSBrZXkgZXZlbnQgaXNcbiAgICAgICAgLy8gc2VlbiwgaG9sZCBvZmYgb24gaGFuZGxpbmcgRE9NIGV2ZW50cyBmb3IgYSBiaXQsIGFuZCB0aGVuXG4gICAgICAgIC8vIGRpc3BhdGNoIGl0LlxuICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmICFldmVudC5zeW50aGV0aWMgJiZcbiAgICAgICAgICAgIChldmVudC5rZXlDb2RlID09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT0gOCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5kZWxheUFuZHJvaWRLZXkoZXZlbnQua2V5LCBldmVudC5rZXlDb2RlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgRW50ZXIgb24gaU9TIG1ha2VzIHRoZVxuICAgICAgICAvLyB2aXJ0dWFsIGtleWJvYXJkIGdldCBzdHVjayBpbiB0aGUgd3JvbmcgKGxvd2VyY2FzZSlcbiAgICAgICAgLy8gc3RhdGUuIFNvIHdlIGxldCBpdCBnbyB0aHJvdWdoLCBhbmQgdGhlbiwgaW5cbiAgICAgICAgLy8gYXBwbHlET01DaGFuZ2UsIG5vdGlmeSBrZXkgaGFuZGxlcnMgb2YgaXQgYW5kIHJlc2V0IHRvXG4gICAgICAgIC8vIHRoZSBzdGF0ZSB0aGV5IHByb2R1Y2UuXG4gICAgICAgIGxldCBwZW5kaW5nO1xuICAgICAgICBpZiAoYnJvd3Nlci5pb3MgJiYgIWV2ZW50LnN5bnRoZXRpYyAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5tZXRhS2V5ICYmXG4gICAgICAgICAgICAoKHBlbmRpbmcgPSBQZW5kaW5nS2V5cy5maW5kKGtleSA9PiBrZXkua2V5Q29kZSA9PSBldmVudC5rZXlDb2RlKSkgJiYgIWV2ZW50LmN0cmxLZXkgfHxcbiAgICAgICAgICAgICAgICBFbWFjc3lQZW5kaW5nS2V5cy5pbmRleE9mKGV2ZW50LmtleSkgPiAtMSAmJiBldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSkpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHBlbmRpbmcgfHwgZXZlbnQ7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZmx1c2hJT1NLZXkoKSwgMjUwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlICE9IDIyOSlcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmx1c2hJT1NLZXkoY2hhbmdlKSB7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLnBlbmRpbmdJT1NLZXk7XG4gICAgICAgIGlmICgha2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgYW4gYXV0b2NvcnJlY3Rpb24gYmVmb3JlIEVudGVyXG4gICAgICAgIGlmIChrZXkua2V5ID09IFwiRW50ZXJcIiAmJiBjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPCBjaGFuZ2UudG8gJiYgL15cXFMrJC8udGVzdChjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdJT1NLZXkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaEtleSh0aGlzLnZpZXcuY29udGVudERPTSwga2V5LmtleSwga2V5LmtleUNvZGUsIGtleSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQgPyBrZXkgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBpZ25vcmVEdXJpbmdDb21wb3NpdGlvbihldmVudCkge1xuICAgICAgICBpZiAoIS9ea2V5Ly50ZXN0KGV2ZW50LnR5cGUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb21wb3NpbmcgPiAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFNlZSBodHRwczovL3d3dy5zdHVtLmRlLzIwMTYvMDYvMjQvaGFuZGxpbmctaW1lLWV2ZW50cy1pbi1qYXZhc2NyaXB0Ly5cbiAgICAgICAgLy8gT24gc29tZSBpbnB1dCBtZXRob2QgZWRpdG9ycyAoSU1FcyksIHRoZSBFbnRlciBrZXkgaXMgdXNlZCB0b1xuICAgICAgICAvLyBjb25maXJtIGNoYXJhY3RlciBzZWxlY3Rpb24uIE9uIFNhZmFyaSwgd2hlbiBFbnRlciBpcyBwcmVzc2VkLFxuICAgICAgICAvLyBjb21wb3NpdGlvbmVuZCBhbmQga2V5ZG93biBldmVudHMgYXJlIHNvbWV0aW1lcyBlbWl0dGVkIGluIHRoZVxuICAgICAgICAvLyB3cm9uZyBvcmRlci4gVGhlIGtleSBldmVudCBzaG91bGQgc3RpbGwgYmUgaWdub3JlZCwgZXZlbiB3aGVuXG4gICAgICAgIC8vIGl0IGhhcHBlbnMgYWZ0ZXIgdGhlIGNvbXBvc2l0aW9uZW5kIGV2ZW50LlxuICAgICAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgIWJyb3dzZXIuaW9zICYmIHRoaXMuY29tcG9zaXRpb25QZW5kaW5nS2V5ICYmIERhdGUubm93KCkgLSB0aGlzLmNvbXBvc2l0aW9uRW5kZWRBdCA8IDEwMCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRNb3VzZVNlbGVjdGlvbihtb3VzZVNlbGVjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uID0gbW91c2VTZWxlY3Rpb247XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24udXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRDb250ZW50ICYmIHVwZGF0ZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdGhpcy5kcmFnZ2VkQ29udGVudCA9IHRoaXMuZHJhZ2dlZENvbnRlbnQubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5sYXN0S2V5Q29kZSA9IHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJpbmRIYW5kbGVyKHBsdWdpbiwgaGFuZGxlcikge1xuICAgIHJldHVybiAodmlldywgZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmNhbGwocGx1Z2luLCBldmVudCwgdmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlSGFuZGxlcnMocGx1Z2lucykge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZ1bmN0aW9uIHJlY29yZCh0eXBlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRbdHlwZV0gfHwgKHJlc3VsdFt0eXBlXSA9IHsgb2JzZXJ2ZXJzOiBbXSwgaGFuZGxlcnM6IFtdIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBwbHVnaW4gb2YgcGx1Z2lucykge1xuICAgICAgICBsZXQgc3BlYyA9IHBsdWdpbi5zcGVjO1xuICAgICAgICBpZiAoc3BlYyAmJiBzcGVjLmRvbUV2ZW50SGFuZGxlcnMpXG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIHNwZWMuZG9tRXZlbnRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGxldCBmID0gc3BlYy5kb21FdmVudEhhbmRsZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgICAgICByZWNvcmQodHlwZSkuaGFuZGxlcnMucHVzaChiaW5kSGFuZGxlcihwbHVnaW4udmFsdWUsIGYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWMgJiYgc3BlYy5kb21FdmVudE9ic2VydmVycylcbiAgICAgICAgICAgIGZvciAobGV0IHR5cGUgaW4gc3BlYy5kb21FdmVudE9ic2VydmVycykge1xuICAgICAgICAgICAgICAgIGxldCBmID0gc3BlYy5kb21FdmVudE9ic2VydmVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkKHR5cGUpLm9ic2VydmVycy5wdXNoKGJpbmRIYW5kbGVyKHBsdWdpbi52YWx1ZSwgZikpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKVxuICAgICAgICByZWNvcmQodHlwZSkuaGFuZGxlcnMucHVzaChoYW5kbGVyc1t0eXBlXSk7XG4gICAgZm9yIChsZXQgdHlwZSBpbiBvYnNlcnZlcnMpXG4gICAgICAgIHJlY29yZCh0eXBlKS5vYnNlcnZlcnMucHVzaChvYnNlcnZlcnNbdHlwZV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBQZW5kaW5nS2V5cyA9IFtcbiAgICB7IGtleTogXCJCYWNrc3BhY2VcIiwga2V5Q29kZTogOCwgaW5wdXRUeXBlOiBcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiIH0sXG4gICAgeyBrZXk6IFwiRW50ZXJcIiwga2V5Q29kZTogMTMsIGlucHV0VHlwZTogXCJpbnNlcnRQYXJhZ3JhcGhcIiB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIGtleUNvZGU6IDEzLCBpbnB1dFR5cGU6IFwiaW5zZXJ0TGluZUJyZWFrXCIgfSxcbiAgICB7IGtleTogXCJEZWxldGVcIiwga2V5Q29kZTogNDYsIGlucHV0VHlwZTogXCJkZWxldGVDb250ZW50Rm9yd2FyZFwiIH1cbl07XG5jb25zdCBFbWFjc3lQZW5kaW5nS2V5cyA9IFwiZHRoa29cIjtcbi8vIEtleSBjb2RlcyBmb3IgbW9kaWZpZXIga2V5c1xuY29uc3QgbW9kaWZpZXJDb2RlcyA9IFsxNiwgMTcsIDE4LCAyMCwgOTEsIDkyLCAyMjQsIDIyNV07XG5jb25zdCBkcmFnU2Nyb2xsTWFyZ2luID0gNjtcbmZ1bmN0aW9uIGRyYWdTY3JvbGxTcGVlZChkaXN0KSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIGRpc3QpICogMC43ICsgODtcbn1cbmZ1bmN0aW9uIGRpc3QoYSwgYikge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLmFicyhhLmNsaWVudFggLSBiLmNsaWVudFgpLCBNYXRoLmFicyhhLmNsaWVudFkgLSBiLmNsaWVudFkpKTtcbn1cbmNsYXNzIE1vdXNlU2VsZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzdGFydEV2ZW50LCBzdHlsZSwgbXVzdFNlbGVjdCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnN0YXJ0RXZlbnQgPSBzdGFydEV2ZW50O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMubXVzdFNlbGVjdCA9IG11c3RTZWxlY3Q7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgPSBzdGFydEV2ZW50O1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMgPSBzY3JvbGxhYmxlUGFyZW50cyh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLmF0b21zID0gdmlldy5zdGF0ZS5mYWNldChhdG9taWNSYW5nZXMpLm1hcChmID0+IGYodmlldykpO1xuICAgICAgICBsZXQgZG9jID0gdmlldy5jb250ZW50RE9NLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZSA9IHRoaXMubW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXAgPSB0aGlzLnVwLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV4dGVuZCA9IHN0YXJ0RXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIHRoaXMubXVsdGlwbGUgPSB2aWV3LnN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKSAmJiBhZGRzU2VsZWN0aW9uUmFuZ2Uodmlldywgc3RhcnRFdmVudCk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpc0luUHJpbWFyeVNlbGVjdGlvbih2aWV3LCBzdGFydEV2ZW50KSAmJiBnZXRDbGlja1R5cGUoc3RhcnRFdmVudCkgPT0gMSA/IG51bGwgOiBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnQoZXZlbnQpIHtcbiAgICAgICAgLy8gV2hlbiBjbGlja2luZyBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb24sIGltbWVkaWF0ZWx5IGFwcGx5IHRoZVxuICAgICAgICAvLyBlZmZlY3Qgb2Ygc3RhcnRpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdChldmVudCk7XG4gICAgfVxuICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgfHwgdGhpcy5kcmFnZ2luZyA9PSBudWxsICYmIGRpc3QodGhpcy5zdGFydEV2ZW50LCBldmVudCkgPCAxMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5sYXN0RXZlbnQgPSBldmVudCk7XG4gICAgICAgIGxldCBzeCA9IDAsIHN5ID0gMDtcbiAgICAgICAgbGV0IGxlZnQgPSAwLCB0b3AgPSAwLCByaWdodCA9IHRoaXMudmlldy53aW4uaW5uZXJXaWR0aCwgYm90dG9tID0gdGhpcy52aWV3Lndpbi5pbm5lckhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50cy54KVxuICAgICAgICAgICAgKHsgbGVmdCwgcmlnaHQgfSA9IHRoaXMuc2Nyb2xsUGFyZW50cy54LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50cy55KVxuICAgICAgICAgICAgKHsgdG9wLCBib3R0b20gfSA9IHRoaXMuc2Nyb2xsUGFyZW50cy55LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgbGV0IG1hcmdpbnMgPSBnZXRTY3JvbGxNYXJnaW5zKHRoaXMudmlldyk7XG4gICAgICAgIGlmIChldmVudC5jbGllbnRYIC0gbWFyZ2lucy5sZWZ0IDw9IGxlZnQgKyBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3ggPSAtZHJhZ1Njcm9sbFNwZWVkKGxlZnQgLSBldmVudC5jbGllbnRYKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuY2xpZW50WCArIG1hcmdpbnMucmlnaHQgPj0gcmlnaHQgLSBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3ggPSBkcmFnU2Nyb2xsU3BlZWQoZXZlbnQuY2xpZW50WCAtIHJpZ2h0KTtcbiAgICAgICAgaWYgKGV2ZW50LmNsaWVudFkgLSBtYXJnaW5zLnRvcCA8PSB0b3AgKyBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3kgPSAtZHJhZ1Njcm9sbFNwZWVkKHRvcCAtIGV2ZW50LmNsaWVudFkpO1xuICAgICAgICBlbHNlIGlmIChldmVudC5jbGllbnRZICsgbWFyZ2lucy5ib3R0b20gPj0gYm90dG9tIC0gZHJhZ1Njcm9sbE1hcmdpbilcbiAgICAgICAgICAgIHN5ID0gZHJhZ1Njcm9sbFNwZWVkKGV2ZW50LmNsaWVudFkgLSBib3R0b20pO1xuICAgICAgICB0aGlzLnNldFNjcm9sbFNwZWVkKHN4LCBzeSk7XG4gICAgfVxuICAgIHVwKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCk7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2luZylcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldFNjcm9sbFNwZWVkKDAsIDApO1xuICAgICAgICBsZXQgZG9jID0gdGhpcy52aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudDtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlKTtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXApO1xuICAgICAgICB0aGlzLnZpZXcuaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbiA9IHRoaXMudmlldy5pbnB1dFN0YXRlLmRyYWdnZWRDb250ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgc2V0U2Nyb2xsU3BlZWQoc3gsIHN5KSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB7IHg6IHN4LCB5OiBzeSB9O1xuICAgICAgICBpZiAoc3ggfHwgc3kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGluZyA8IDApXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnNjcm9sbCgpLCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY3JvbGxpbmcgPiAtMSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjcm9sbGluZyk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZyA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjcm9sbCgpIHtcbiAgICAgICAgbGV0IHsgeCwgeSB9ID0gdGhpcy5zY3JvbGxTcGVlZDtcbiAgICAgICAgaWYgKHggJiYgdGhpcy5zY3JvbGxQYXJlbnRzLngpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cy54LnNjcm9sbExlZnQgKz0geDtcbiAgICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5ICYmIHRoaXMuc2Nyb2xsUGFyZW50cy55KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMueS5zY3JvbGxUb3AgKz0geTtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4IHx8IHkpXG4gICAgICAgICAgICB0aGlzLnZpZXcud2luLnNjcm9sbEJ5KHgsIHkpO1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCk7XG4gICAgfVxuICAgIHNraXBBdG9tcyhzZWwpIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2VsLnJhbmdlc1tpXSwgdXBkYXRlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gc2tpcEF0b21pY1Jhbmdlcyh0aGlzLmF0b21zLCByYW5nZS5mcm9tLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zICE9IHJhbmdlLmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLmZyb20sIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLnRvLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSAhPSByYW5nZS5mcm9tIHx8IHRvICE9IHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmZyb20gPT0gcmFuZ2UuYW5jaG9yID8gZnJvbSA6IHRvLCByYW5nZS5mcm9tID09IHJhbmdlLmhlYWQgPyBmcm9tIDogdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzID0gc2VsLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlc1tpXSA9IHVwZGF0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlcyA/IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCBzZWwubWFpbkluZGV4KSA6IHNlbDtcbiAgICB9XG4gICAgc2VsZWN0KGV2ZW50KSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbGVjdGlvbiA9IHRoaXMuc2tpcEF0b21zKHRoaXMuc3R5bGUuZ2V0KGV2ZW50LCB0aGlzLmV4dGVuZCwgdGhpcy5tdWx0aXBsZSkpO1xuICAgICAgICBpZiAodGhpcy5tdXN0U2VsZWN0IHx8ICFzZWxlY3Rpb24uZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24sIHRoaXMuZHJhZ2dpbmcgPT09IGZhbHNlKSlcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogXCJzZWxlY3QucG9pbnRlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXN0U2VsZWN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5pc1VzZXJFdmVudChcImlucHV0LnR5cGVcIikpKVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3R5bGUudXBkYXRlKHVwZGF0ZSkpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KSwgMjApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZHNTZWxlY3Rpb25SYW5nZSh2aWV3LCBldmVudCkge1xuICAgIGxldCBmYWNldCA9IHZpZXcuc3RhdGUuZmFjZXQoY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UpO1xuICAgIHJldHVybiBmYWNldC5sZW5ndGggPyBmYWNldFswXShldmVudCkgOiBicm93c2VyLm1hYyA/IGV2ZW50Lm1ldGFLZXkgOiBldmVudC5jdHJsS2V5O1xufVxuZnVuY3Rpb24gZHJhZ01vdmVzU2VsZWN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IGZhY2V0ID0gdmlldy5zdGF0ZS5mYWNldChkcmFnTW92ZXNTZWxlY3Rpb24kMSk7XG4gICAgcmV0dXJuIGZhY2V0Lmxlbmd0aCA/IGZhY2V0WzBdKGV2ZW50KSA6IGJyb3dzZXIubWFjID8gIWV2ZW50LmFsdEtleSA6ICFldmVudC5jdHJsS2V5O1xufVxuZnVuY3Rpb24gaXNJblByaW1hcnlTZWxlY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgeyBtYWluIH0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAobWFpbi5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIE9uIGJvdW5kYXJ5IGNsaWNrcywgY2hlY2sgd2hldGhlciB0aGUgY29vcmRpbmF0ZXMgYXJlIGluc2lkZSB0aGVcbiAgICAvLyBzZWxlY3Rpb24ncyBjbGllbnQgcmVjdGFuZ2xlc1xuICAgIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICBpZiAoIXNlbCB8fCBzZWwucmFuZ2VDb3VudCA9PSAwKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgcmVjdHMgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tpXTtcbiAgICAgICAgaWYgKHJlY3QubGVmdCA8PSBldmVudC5jbGllbnRYICYmIHJlY3QucmlnaHQgPj0gZXZlbnQuY2xpZW50WCAmJlxuICAgICAgICAgICAgcmVjdC50b3AgPD0gZXZlbnQuY2xpZW50WSAmJiByZWN0LmJvdHRvbSA+PSBldmVudC5jbGllbnRZKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGV2ZW50QmVsb25nc1RvRWRpdG9yKHZpZXcsIGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5idWJibGVzKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IG5vZGUgPSBldmVudC50YXJnZXQsIGNWaWV3OyBub2RlICE9IHZpZXcuY29udGVudERPTTsgbm9kZSA9IG5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgPT0gMTEgfHwgKChjVmlldyA9IENvbnRlbnRWaWV3LmdldChub2RlKSkgJiYgY1ZpZXcuaWdub3JlRXZlbnQoZXZlbnQpKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IGhhbmRsZXJzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBvYnNlcnZlcnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8vIFRoaXMgaXMgdmVyeSBjcnVkZSwgYnV0IHVuZm9ydHVuYXRlbHkgYm90aCB0aGVzZSBicm93c2VycyBfcHJldGVuZF9cbi8vIHRoYXQgdGhleSBoYXZlIGEgY2xpcGJvYXJkIEFQSeKAlGFsbCB0aGUgb2JqZWN0cyBhbmQgbWV0aG9kcyBhcmVcbi8vIHRoZXJlLCB0aGV5IGp1c3QgZG9uJ3Qgd29yaywgYW5kIHRoZXkgYXJlIGhhcmQgdG8gdGVzdC5cbmNvbnN0IGJyb2tlbkNsaXBib2FyZEFQSSA9IChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8IDE1KSB8fFxuICAgIChicm93c2VyLmlvcyAmJiBicm93c2VyLndlYmtpdF92ZXJzaW9uIDwgNjA0KTtcbmZ1bmN0aW9uIGNhcHR1cmVQYXN0ZSh2aWV3KSB7XG4gICAgbGV0IHBhcmVudCA9IHZpZXcuZG9tLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgdGFyZ2V0ID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSk7XG4gICAgdGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiO1xuICAgIHRhcmdldC5mb2N1cygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudmFsdWUpO1xuICAgIH0sIDUwKTtcbn1cbmZ1bmN0aW9uIHRleHRGaWx0ZXIoc3RhdGUsIGZhY2V0LCB0ZXh0KSB7XG4gICAgZm9yIChsZXQgZmlsdGVyIG9mIHN0YXRlLmZhY2V0KGZhY2V0KSlcbiAgICAgICAgdGV4dCA9IGZpbHRlcih0ZXh0LCBzdGF0ZSk7XG4gICAgcmV0dXJuIHRleHQ7XG59XG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIGlucHV0KSB7XG4gICAgaW5wdXQgPSB0ZXh0RmlsdGVyKHZpZXcuc3RhdGUsIGNsaXBib2FyZElucHV0RmlsdGVyLCBpbnB1dCk7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNoYW5nZXMsIGkgPSAxLCB0ZXh0ID0gc3RhdGUudG9UZXh0KGlucHV0KTtcbiAgICBsZXQgYnlMaW5lID0gdGV4dC5saW5lcyA9PSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aDtcbiAgICBsZXQgbGluZXdpc2UgPSBsYXN0TGluZXdpc2VDb3B5ICE9IG51bGwgJiYgc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5ldmVyeShyID0+IHIuZW1wdHkpICYmIGxhc3RMaW5ld2lzZUNvcHkgPT0gdGV4dC50b1N0cmluZygpO1xuICAgIGlmIChsaW5ld2lzZSkge1xuICAgICAgICBsZXQgbGFzdExpbmUgPSAtMTtcbiAgICAgICAgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUuZnJvbSA9PSBsYXN0TGluZSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICAgICAgbGFzdExpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gc3RhdGUudG9UZXh0KChieUxpbmUgPyB0ZXh0LmxpbmUoaSsrKS50ZXh0IDogaW5wdXQpICsgc3RhdGUubGluZUJyZWFrKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogbGluZS5mcm9tLCBpbnNlcnQgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgaW5zZXJ0Lmxlbmd0aCkgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5TGluZSkge1xuICAgICAgICBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHRleHQubGluZShpKyspO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogbGluZS50ZXh0IH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIGxpbmUubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYW5nZXMgPSBzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHRleHQpO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKGNoYW5nZXMsIHtcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnBhc3RlXCIsXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgfSk7XG59XG5vYnNlcnZlcnMuc2Nyb2xsID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3AgPSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3A7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0ID0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdDtcbn07XG5oYW5kbGVycy5rZXlkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdFwiKTtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNyAmJiB2aWV3LmlucHV0U3RhdGUudGFiRm9jdXNNb2RlICE9IDApXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPSBEYXRlLm5vdygpICsgMjAwMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xub2JzZXJ2ZXJzLnRvdWNoc3RhcnQgPSAodmlldywgZSkgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuc2V0U2VsZWN0aW9uT3JpZ2luKFwic2VsZWN0LnBvaW50ZXJcIik7XG59O1xub2JzZXJ2ZXJzLnRvdWNobW92ZSA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5zZXRTZWxlY3Rpb25PcmlnaW4oXCJzZWxlY3QucG9pbnRlclwiKTtcbn07XG5oYW5kbGVycy5tb3VzZWRvd24gPSAodmlldywgZXZlbnQpID0+IHtcbiAgICB2aWV3Lm9ic2VydmVyLmZsdXNoKCk7XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lID4gRGF0ZS5ub3coKSAtIDIwMDApXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gSWdub3JlIHRvdWNoIGludGVyYWN0aW9uXG4gICAgbGV0IHN0eWxlID0gbnVsbDtcbiAgICBmb3IgKGxldCBtYWtlU3R5bGUgb2Ygdmlldy5zdGF0ZS5mYWNldChtb3VzZVNlbGVjdGlvblN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IG1ha2VTdHlsZSh2aWV3LCBldmVudCk7XG4gICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIXN0eWxlICYmIGV2ZW50LmJ1dHRvbiA9PSAwKVxuICAgICAgICBzdHlsZSA9IGJhc2ljTW91c2VTZWxlY3Rpb24odmlldywgZXZlbnQpO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgICBsZXQgbXVzdEZvY3VzID0gIXZpZXcuaGFzRm9jdXM7XG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5zdGFydE1vdXNlU2VsZWN0aW9uKG5ldyBNb3VzZVNlbGVjdGlvbih2aWV3LCBldmVudCwgc3R5bGUsIG11c3RGb2N1cykpO1xuICAgICAgICBpZiAobXVzdEZvY3VzKVxuICAgICAgICAgICAgdmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvY3VzUHJldmVudFNjcm9sbCh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlICYmICFhY3RpdmUuY29udGFpbnModmlldy5jb250ZW50RE9NKSlcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLmJsdXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBsZXQgbW91c2VTZWwgPSB2aWV3LmlucHV0U3RhdGUubW91c2VTZWxlY3Rpb247XG4gICAgICAgIGlmIChtb3VzZVNlbCkge1xuICAgICAgICAgICAgbW91c2VTZWwuc3RhcnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIG1vdXNlU2VsLmRyYWdnaW5nID09PSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZnVuY3Rpb24gcmFuZ2VGb3JDbGljayh2aWV3LCBwb3MsIGJpYXMsIHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSAxKSB7IC8vIFNpbmdsZSBjbGlja1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MsIGJpYXMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09IDIpIHsgLy8gRG91YmxlIGNsaWNrXG4gICAgICAgIHJldHVybiBncm91cEF0KHZpZXcuc3RhdGUsIHBvcywgYmlhcyk7XG4gICAgfVxuICAgIGVsc2UgeyAvLyBUcmlwbGUgY2xpY2tcbiAgICAgICAgbGV0IHZpc3VhbCA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBwb3MpLCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHZpc3VhbCA/IHZpc3VhbC5wb3NBdEVuZCA6IHBvcyk7XG4gICAgICAgIGxldCBmcm9tID0gdmlzdWFsID8gdmlzdWFsLnBvc0F0U3RhcnQgOiBsaW5lLmZyb20sIHRvID0gdmlzdWFsID8gdmlzdWFsLnBvc0F0RW5kIDogbGluZS50bztcbiAgICAgICAgaWYgKHRvIDwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoICYmIHRvID09IGxpbmUudG8pXG4gICAgICAgICAgICB0bysrO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5sZXQgaW5zaWRlID0gKHgsIHksIHJlY3QpID0+IHkgPj0gcmVjdC50b3AgJiYgeSA8PSByZWN0LmJvdHRvbSAmJiB4ID49IHJlY3QubGVmdCAmJiB4IDw9IHJlY3QucmlnaHQ7XG4vLyBUcnkgdG8gZGV0ZXJtaW5lLCBmb3IgdGhlIGdpdmVuIGNvb3JkaW5hdGVzLCBhc3NvY2lhdGVkIHdpdGggdGhlXG4vLyBnaXZlbiBwb3NpdGlvbiwgd2hldGhlciB0aGV5IGFyZSByZWxhdGVkIHRvIHRoZSBlbGVtZW50IGJlZm9yZSBvclxuLy8gdGhlIGVsZW1lbnQgYWZ0ZXIgdGhlIHBvc2l0aW9uLlxuZnVuY3Rpb24gZmluZFBvc2l0aW9uU2lkZSh2aWV3LCBwb3MsIHgsIHkpIHtcbiAgICBsZXQgbGluZSA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBwb3MpO1xuICAgIGlmICghbGluZSlcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgbGV0IG9mZiA9IHBvcyAtIGxpbmUucG9zQXRTdGFydDtcbiAgICAvLyBMaW5lIGJvdW5kYXJpZXMgcG9pbnQgaW50byB0aGUgbGluZVxuICAgIGlmIChvZmYgPT0gMClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKG9mZiA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIC8vIFBvc2l0aW9ucyBvbiB0b3Agb2YgYW4gZWxlbWVudCBwb2ludCBhdCB0aGF0IGVsZW1lbnRcbiAgICBsZXQgYmVmb3JlID0gbGluZS5jb29yZHNBdChvZmYsIC0xKTtcbiAgICBpZiAoYmVmb3JlICYmIGluc2lkZSh4LCB5LCBiZWZvcmUpKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgbGV0IGFmdGVyID0gbGluZS5jb29yZHNBdChvZmYsIDEpO1xuICAgIGlmIChhZnRlciAmJiBpbnNpZGUoeCwgeSwgYWZ0ZXIpKVxuICAgICAgICByZXR1cm4gMTtcbiAgICAvLyBUaGlzIGlzIHByb2JhYmx5IGEgbGluZSB3cmFwIHBvaW50LiBQaWNrIGJlZm9yZSBpZiB0aGUgcG9pbnQgaXNcbiAgICAvLyBhYm92ZSBpdHMgYm90dG9tLlxuICAgIHJldHVybiBiZWZvcmUgJiYgYmVmb3JlLmJvdHRvbSA+PSB5ID8gLTEgOiAxO1xufVxuZnVuY3Rpb24gcXVlcnlQb3ModmlldywgZXZlbnQpIHtcbiAgICBsZXQgcG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIHJldHVybiB7IHBvcywgYmlhczogZmluZFBvc2l0aW9uU2lkZSh2aWV3LCBwb3MsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpIH07XG59XG5jb25zdCBCYWRNb3VzZURldGFpbCA9IGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExO1xubGV0IGxhc3RNb3VzZURvd24gPSBudWxsLCBsYXN0TW91c2VEb3duQ291bnQgPSAwLCBsYXN0TW91c2VEb3duVGltZSA9IDA7XG5mdW5jdGlvbiBnZXRDbGlja1R5cGUoZXZlbnQpIHtcbiAgICBpZiAoIUJhZE1vdXNlRGV0YWlsKVxuICAgICAgICByZXR1cm4gZXZlbnQuZGV0YWlsO1xuICAgIGxldCBsYXN0ID0gbGFzdE1vdXNlRG93biwgbGFzdFRpbWUgPSBsYXN0TW91c2VEb3duVGltZTtcbiAgICBsYXN0TW91c2VEb3duID0gZXZlbnQ7XG4gICAgbGFzdE1vdXNlRG93blRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiBsYXN0TW91c2VEb3duQ291bnQgPSAhbGFzdCB8fCAobGFzdFRpbWUgPiBEYXRlLm5vdygpIC0gNDAwICYmIE1hdGguYWJzKGxhc3QuY2xpZW50WCAtIGV2ZW50LmNsaWVudFgpIDwgMiAmJlxuICAgICAgICBNYXRoLmFicyhsYXN0LmNsaWVudFkgLSBldmVudC5jbGllbnRZKSA8IDIpID8gKGxhc3RNb3VzZURvd25Db3VudCArIDEpICUgMyA6IDE7XG59XG5mdW5jdGlvbiBiYXNpY01vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gcXVlcnlQb3ModmlldywgZXZlbnQpLCB0eXBlID0gZ2V0Q2xpY2tUeXBlKGV2ZW50KTtcbiAgICBsZXQgc3RhcnRTZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBzdGFydC5wb3MgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3Moc3RhcnQucG9zKTtcbiAgICAgICAgICAgICAgICBzdGFydFNlbCA9IHN0YXJ0U2VsLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldChldmVudCwgZXh0ZW5kLCBtdWx0aXBsZSkge1xuICAgICAgICAgICAgbGV0IGN1ciA9IHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSwgcmVtb3ZlZDtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlRm9yQ2xpY2sodmlldywgY3VyLnBvcywgY3VyLmJpYXMsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0LnBvcyAhPSBjdXIucG9zICYmICFleHRlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRSYW5nZSA9IHJhbmdlRm9yQ2xpY2sodmlldywgc3RhcnQucG9zLCBzdGFydC5iaWFzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWluKHN0YXJ0UmFuZ2UuZnJvbSwgcmFuZ2UuZnJvbSksIHRvID0gTWF0aC5tYXgoc3RhcnRSYW5nZS50bywgcmFuZ2UudG8pO1xuICAgICAgICAgICAgICAgIHJhbmdlID0gZnJvbSA8IHJhbmdlLmZyb20gPyBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgdG8pIDogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRvLCBmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsLnJlcGxhY2VSYW5nZShzdGFydFNlbC5tYWluLmV4dGVuZChyYW5nZS5mcm9tLCByYW5nZS50bykpO1xuICAgICAgICAgICAgZWxzZSBpZiAobXVsdGlwbGUgJiYgdHlwZSA9PSAxICYmIHN0YXJ0U2VsLnJhbmdlcy5sZW5ndGggPiAxICYmIChyZW1vdmVkID0gcmVtb3ZlUmFuZ2VBcm91bmQoc3RhcnRTZWwsIGN1ci5wb3MpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgICAgIGVsc2UgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoW3JhbmdlXSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcmVtb3ZlUmFuZ2VBcm91bmQoc2VsLCBwb3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICAgIGlmIChmcm9tIDw9IHBvcyAmJiB0byA+PSBwb3MpXG4gICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShzZWwucmFuZ2VzLnNsaWNlKDAsIGkpLmNvbmNhdChzZWwucmFuZ2VzLnNsaWNlKGkgKyAxKSksIHNlbC5tYWluSW5kZXggPT0gaSA/IDAgOiBzZWwubWFpbkluZGV4IC0gKHNlbC5tYWluSW5kZXggPiBpID8gMSA6IDApKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5oYW5kbGVycy5kcmFnc3RhcnQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBsZXQgeyBzZWxlY3Rpb246IHsgbWFpbjogcmFuZ2UgfSB9ID0gdmlldy5zdGF0ZTtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmRyYWdnYWJsZSkge1xuICAgICAgICBsZXQgY1ZpZXcgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdChldmVudC50YXJnZXQpO1xuICAgICAgICBpZiAoY1ZpZXcgJiYgY1ZpZXcuaXNXaWRnZXQpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gY1ZpZXcucG9zQXRTdGFydCwgdG8gPSBmcm9tICsgY1ZpZXcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZyb20gPj0gcmFuZ2UudG8gfHwgdG8gPD0gcmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICByYW5nZSA9IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHsgaW5wdXRTdGF0ZSB9ID0gdmlldztcbiAgICBpZiAoaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbi5kcmFnZ2luZyA9IHRydWU7XG4gICAgaW5wdXRTdGF0ZS5kcmFnZ2VkQ29udGVudCA9IHJhbmdlO1xuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIHRleHRGaWx0ZXIodmlldy5zdGF0ZSwgY2xpcGJvYXJkT3V0cHV0RmlsdGVyLCB2aWV3LnN0YXRlLnNsaWNlRG9jKHJhbmdlLmZyb20sIHJhbmdlLnRvKSkpO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmhhbmRsZXJzLmRyYWdlbmQgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5mdW5jdGlvbiBkcm9wVGV4dCh2aWV3LCBldmVudCwgdGV4dCwgZGlyZWN0KSB7XG4gICAgdGV4dCA9IHRleHRGaWx0ZXIodmlldy5zdGF0ZSwgY2xpcGJvYXJkSW5wdXRGaWx0ZXIsIHRleHQpO1xuICAgIGlmICghdGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkcm9wUG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGxldCB7IGRyYWdnZWRDb250ZW50IH0gPSB2aWV3LmlucHV0U3RhdGU7XG4gICAgbGV0IGRlbCA9IGRpcmVjdCAmJiBkcmFnZ2VkQ29udGVudCAmJiBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgZXZlbnQpXG4gICAgICAgID8geyBmcm9tOiBkcmFnZ2VkQ29udGVudC5mcm9tLCB0bzogZHJhZ2dlZENvbnRlbnQudG8gfSA6IG51bGw7XG4gICAgbGV0IGlucyA9IHsgZnJvbTogZHJvcFBvcywgaW5zZXJ0OiB0ZXh0IH07XG4gICAgbGV0IGNoYW5nZXMgPSB2aWV3LnN0YXRlLmNoYW5nZXMoZGVsID8gW2RlbCwgaW5zXSA6IGlucyk7XG4gICAgdmlldy5mb2N1cygpO1xuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IHsgYW5jaG9yOiBjaGFuZ2VzLm1hcFBvcyhkcm9wUG9zLCAtMSksIGhlYWQ6IGNoYW5nZXMubWFwUG9zKGRyb3BQb3MsIDEpIH0sXG4gICAgICAgIHVzZXJFdmVudDogZGVsID8gXCJtb3ZlLmRyb3BcIiA6IFwiaW5wdXQuZHJvcFwiXG4gICAgfSk7XG4gICAgdmlldy5pbnB1dFN0YXRlLmRyYWdnZWRDb250ZW50ID0gbnVsbDtcbn1cbmhhbmRsZXJzLmRyb3AgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50LmRhdGFUcmFuc2ZlcilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgZmlsZXMgPSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkgeyAvLyBGb3IgYSBmaWxlIGRyb3AsIHJlYWQgdGhlIGZpbGUncyB0ZXh0LlxuICAgICAgICBsZXQgdGV4dCA9IEFycmF5KGZpbGVzLmxlbmd0aCksIHJlYWQgPSAwO1xuICAgICAgICBsZXQgZmluaXNoRmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgrK3JlYWQgPT0gZmlsZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGRyb3BUZXh0KHZpZXcsIGV2ZW50LCB0ZXh0LmZpbHRlcihzID0+IHMgIT0gbnVsbCkuam9pbih2aWV3LnN0YXRlLmxpbmVCcmVhayksIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyO1xuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmaW5pc2hGaWxlO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIS9bXFx4MDAtXFx4MDhcXHgwZS1cXHgxZl17Mn0vLnRlc3QocmVhZGVyLnJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0gPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgICAgIGZpbmlzaEZpbGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgdGV4dCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIGRyb3BUZXh0KHZpZXcsIGV2ZW50LCB0ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5oYW5kbGVycy5wYXN0ZSA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB2aWV3Lm9ic2VydmVyLmZsdXNoKCk7XG4gICAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBkb1Bhc3RlKHZpZXcsIGRhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikgfHwgZGF0YS5nZXREYXRhKFwidGV4dC91cmktbGlzdFwiKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FwdHVyZVBhc3RlKHZpZXcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNhcHR1cmVDb3B5KHZpZXcsIHRleHQpIHtcbiAgICAvLyBUaGUgZXh0cmEgd3JhcHBlciBpcyBzb21laG93IG5lY2Vzc2FyeSBvbiBJRS9FZGdlIHRvIHByZXZlbnQgdGhlXG4gICAgLy8gY29udGVudCBmcm9tIGJlaW5nIG1hbmdsZWQgd2hlbiBpdCBpcyBwdXQgb250byB0aGUgY2xpcGJvYXJkXG4gICAgbGV0IHBhcmVudCA9IHZpZXcuZG9tLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgdGFyZ2V0ID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSk7XG4gICAgdGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiO1xuICAgIHRhcmdldC52YWx1ZSA9IHRleHQ7XG4gICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgdGFyZ2V0LnNlbGVjdGlvbkVuZCA9IHRleHQubGVuZ3RoO1xuICAgIHRhcmdldC5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgIH0sIDUwKTtcbn1cbmZ1bmN0aW9uIGNvcGllZFJhbmdlKHN0YXRlKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBbXSwgcmFuZ2VzID0gW10sIGxpbmV3aXNlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcylcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKHN0YXRlLnNsaWNlRG9jKHJhbmdlLmZyb20sIHJhbmdlLnRvKSk7XG4gICAgICAgICAgICByYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgIH1cbiAgICBpZiAoIWNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIC8vIE5vdGhpbmcgc2VsZWN0ZWQsIGRvIGEgbGluZS13aXNlIGNvcHlcbiAgICAgICAgbGV0IHVwdG8gPSAtMTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tIH0gb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUubnVtYmVyID4gdXB0bykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaChsaW5lLnRleHQpO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgbGluZS50byArIDEpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXB0byA9IGxpbmUubnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGxpbmV3aXNlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdGV4dDogdGV4dEZpbHRlcihzdGF0ZSwgY2xpcGJvYXJkT3V0cHV0RmlsdGVyLCBjb250ZW50LmpvaW4oc3RhdGUubGluZUJyZWFrKSksIHJhbmdlcywgbGluZXdpc2UgfTtcbn1cbmxldCBsYXN0TGluZXdpc2VDb3B5ID0gbnVsbDtcbmhhbmRsZXJzLmNvcHkgPSBoYW5kbGVycy5jdXQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBsZXQgeyB0ZXh0LCByYW5nZXMsIGxpbmV3aXNlIH0gPSBjb3BpZWRSYW5nZSh2aWV3LnN0YXRlKTtcbiAgICBpZiAoIXRleHQgJiYgIWxpbmV3aXNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGFzdExpbmV3aXNlQ29weSA9IGxpbmV3aXNlID8gdGV4dCA6IG51bGw7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjdXRcIiAmJiAhdmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICBjaGFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIHVzZXJFdmVudDogXCJkZWxldGUuY3V0XCJcbiAgICAgICAgfSk7XG4gICAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmNsZWFyRGF0YSgpO1xuICAgICAgICBkYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhcHR1cmVDb3B5KHZpZXcsIHRleHQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmNvbnN0IGlzRm9jdXNDaGFuZ2UgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbmZ1bmN0aW9uIGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24oc3RhdGUsIGZvY3VzKSB7XG4gICAgbGV0IGVmZmVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBnZXRFZmZlY3Qgb2Ygc3RhdGUuZmFjZXQoZm9jdXNDaGFuZ2VFZmZlY3QpKSB7XG4gICAgICAgIGxldCBlZmZlY3QgPSBnZXRFZmZlY3Qoc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgaWYgKGVmZmVjdClcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cbiAgICByZXR1cm4gZWZmZWN0cyA/IHN0YXRlLnVwZGF0ZSh7IGVmZmVjdHMsIGFubm90YXRpb25zOiBpc0ZvY3VzQ2hhbmdlLm9mKHRydWUpIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUZvckZvY3VzQ2hhbmdlKHZpZXcpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0IGZvY3VzID0gdmlldy5oYXNGb2N1cztcbiAgICAgICAgaWYgKGZvY3VzICE9IHZpZXcuaW5wdXRTdGF0ZS5ub3RpZmllZEZvY3VzZWQpIHtcbiAgICAgICAgICAgIGxldCB0ciA9IGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24odmlldy5zdGF0ZSwgZm9jdXMpO1xuICAgICAgICAgICAgaWYgKHRyKVxuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgfVxuICAgIH0sIDEwKTtcbn1cbm9ic2VydmVycy5mb2N1cyA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0Rm9jdXNUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAvLyBXaGVuIGZvY3VzaW5nIHJlc2V0IHRoZSBzY3JvbGwgcG9zaXRpb24sIG1vdmUgaXQgYmFjayB0byB3aGVyZSBpdCB3YXNcbiAgICBpZiAoIXZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAmJiAodmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3AgfHwgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0KSkge1xuICAgICAgICB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgPSB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbFRvcDtcbiAgICAgICAgdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldyk7XG59O1xub2JzZXJ2ZXJzLmJsdXIgPSB2aWV3ID0+IHtcbiAgICB2aWV3Lm9ic2VydmVyLmNsZWFyU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICB1cGRhdGVGb3JGb2N1c0NoYW5nZSh2aWV3KTtcbn07XG5vYnNlcnZlcnMuY29tcG9zaXRpb25zdGFydCA9IG9ic2VydmVycy5jb21wb3NpdGlvbnVwZGF0ZSA9IHZpZXcgPT4ge1xuICAgIGlmICh2aWV3Lm9ic2VydmVyLmVkaXRDb250ZXh0KVxuICAgICAgICByZXR1cm47IC8vIENvbXBvc2l0aW9uIGhhbmRsZWQgYnkgZWRpdCBjb250ZXh0XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID09IG51bGwpXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gdHJ1ZTtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgLy8gRklYTUUgcG9zc2libHkgc2V0IGEgdGltZW91dCB0byBjbGVhciBpdCBhZ2FpbiBvbiBBbmRyb2lkXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAwO1xuICAgIH1cbn07XG5vYnNlcnZlcnMuY29tcG9zaXRpb25lbmQgPSB2aWV3ID0+IHtcbiAgICBpZiAodmlldy5vYnNlcnZlci5lZGl0Q29udGV4dClcbiAgICAgICAgcmV0dXJuOyAvLyBDb21wb3NpdGlvbiBoYW5kbGVkIGJ5IGVkaXQgY29udGV4dFxuICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25FbmRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nS2V5ID0gdHJ1ZTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlID0gdmlldy5vYnNlcnZlci5wZW5kaW5nUmVjb3JkcygpLmxlbmd0aCA+IDA7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBudWxsO1xuICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgLy8gRGVsYXkgZmx1c2hpbmcgZm9yIGEgYml0IG9uIEFuZHJvaWQgYmVjYXVzZSBpdCdsbCBvZnRlbiBmaXJlIGFcbiAgICAgICAgLy8gYnVuY2ggb2YgY29udHJhZGljdG9yeSBjaGFuZ2VzIGluIGEgcm93IGF0IGVuZCBvZiBjb21wb3NpdG9uXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UpIHtcbiAgICAgICAgLy8gSWYgd2UgZm91bmQgcGVuZGluZyByZWNvcmRzLCBzY2hlZHVsZSBhIGZsdXNoLlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHZpZXcub2JzZXJ2ZXIuZmx1c2goKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1ha2Ugc3VyZSB0aGF0LCBpZiBubyBjaGFuZ2VzIGNvbWUgaW4gc29vbiwgdGhlXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIHZpZXcgaXMgY2xlYXJlZC5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDAgJiYgdmlldy5kb2NWaWV3Lmhhc0NvbXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cbn07XG5vYnNlcnZlcnMuY29udGV4dG1lbnUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdENvbnRleHRNZW51ID0gRGF0ZS5ub3coKTtcbn07XG5oYW5kbGVycy5iZWZvcmVpbnB1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgLy8gSW4gRWRpdENvbnRleHQgbW9kZSwgd2UgbXVzdCBoYW5kbGUgaW5zZXJ0UmVwbGFjZW1lbnRUZXh0IGV2ZW50c1xuICAgIC8vIGRpcmVjdGx5LCB0byBtYWtlIHNwZWxsIGNoZWNraW5nIGNvcnJlY3Rpb25zIHdvcmtcbiAgICBpZiAoZXZlbnQuaW5wdXRUeXBlID09IFwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCIgJiYgdmlldy5vYnNlcnZlci5lZGl0Q29udGV4dCkge1xuICAgICAgICBsZXQgdGV4dCA9IChfYSA9IGV2ZW50LmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLCByYW5nZXMgPSBldmVudC5nZXRUYXJnZXRSYW5nZXMoKTtcbiAgICAgICAgaWYgKHRleHQgJiYgcmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHIgPSByYW5nZXNbMF07XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHZpZXcucG9zQXRET00oci5zdGFydENvbnRhaW5lciwgci5zdGFydE9mZnNldCksIHRvID0gdmlldy5wb3NBdERPTShyLmVuZENvbnRhaW5lciwgci5lbmRPZmZzZXQpO1xuICAgICAgICAgICAgYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCB7IGZyb20sIHRvLCBpbnNlcnQ6IHZpZXcuc3RhdGUudG9UZXh0KHRleHQpIH0sIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmVjYXVzZSBDaHJvbWUgQW5kcm9pZCBkb2Vzbid0IGZpcmUgdXNlZnVsIGtleSBldmVudHMsIHVzZVxuICAgIC8vIGJlZm9yZWlucHV0IHRvIGRldGVjdCBiYWNrc3BhY2UgKGFuZCBwb3NzaWJseSBlbnRlciBhbmQgZGVsZXRlLFxuICAgIC8vIGJ1dCB0aG9zZSB1c3VhbGx5IGRvbid0IGV2ZW4gc2VlbSB0byBmaXJlIGJlZm9yZWlucHV0IGV2ZW50cyBhdFxuICAgIC8vIHRoZSBtb21lbnQpIGFuZCBmYWtlIGEga2V5IGV2ZW50IGZvciBpdC5cbiAgICAvL1xuICAgIC8vIChwcmV2ZW50RGVmYXVsdCBvbiBiZWZvcmVpbnB1dCwgdGhvdWdoIHN1cHBvcnRlZCBpbiB0aGUgc3BlYyxcbiAgICAvLyBzZWVtcyB0byBkbyBub3RoaW5nIGF0IGFsbCBvbiBDaHJvbWUpLlxuICAgIGxldCBwZW5kaW5nO1xuICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQgJiYgKHBlbmRpbmcgPSBQZW5kaW5nS2V5cy5maW5kKGtleSA9PiBrZXkuaW5wdXRUeXBlID09IGV2ZW50LmlucHV0VHlwZSkpKSB7XG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZGVsYXlBbmRyb2lkS2V5KHBlbmRpbmcua2V5LCBwZW5kaW5nLmtleUNvZGUpO1xuICAgICAgICBpZiAocGVuZGluZy5rZXkgPT0gXCJCYWNrc3BhY2VcIiB8fCBwZW5kaW5nLmtleSA9PSBcIkRlbGV0ZVwiKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnRWaWV3SGVpZ2h0ID0gKChfYiA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhlaWdodCkgfHwgMDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAvLyBCYWNrc3BhY2luZyBuZWFyIHVuZWRpdGFibGUgbm9kZXMgb24gQ2hyb21lIEFuZHJvaWQgc29tZXRpbWVzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2VzIHRoZSB2aXJ0dWFsIGtleWJvYXJkLiBUaGlzIHRyaWVzIHRvIGNydWRlbHkgZGV0ZWN0XG4gICAgICAgICAgICAgICAgLy8gdGhhdCBhbmQgcmVmb2N1cyB0byBnZXQgaXQgYmFjay5cbiAgICAgICAgICAgICAgICBpZiAoKCgoX2EgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWlnaHQpIHx8IDApID4gc3RhcnRWaWV3SGVpZ2h0ICsgMTAgJiYgdmlldy5oYXNGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYnJvd3Nlci5pb3MgJiYgZXZlbnQuaW5wdXRUeXBlID09IFwiZGVsZXRlQ29udGVudEZvcndhcmRcIikge1xuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24sIERPTSBjaGFuZ2VzIChhbmQgYmVmb3JlaW5wdXQpIGhhcHBlbiBfYmVmb3JlX1xuICAgICAgICAvLyB0aGUga2V5IGV2ZW50IGZvciBjdHJsLWQgb24gaU9TIHdoZW4gdXNpbmcgYW4gZXh0ZXJuYWxcbiAgICAgICAgLy8ga2V5Ym9hcmQuXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgfVxuICAgIC8vIFNhZmFyaSB3aWxsIG9jY2FzaW9uYWxseSBmb3JnZXQgdG8gZmlyZSBjb21wb3NpdGlvbmVuZCBhdCB0aGUgZW5kIG9mIGEgZGVhZC1rZXkgY29tcG9zaXRpb25cbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgZXZlbnQuaW5wdXRUeXBlID09IFwiaW5zZXJ0VGV4dFwiICYmIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG9ic2VydmVycy5jb21wb3NpdGlvbmVuZCh2aWV3LCBldmVudCksIDIwKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGFwcGxpZWRGaXJlZm94SGFjayA9IC8qQF9fUFVSRV9fKi9uZXcgU2V0O1xuLy8gSW4gRmlyZWZveCwgd2hlbiBjdXQvY29weSBoYW5kbGVycyBhcmUgYWRkZWQgdG8gdGhlIGRvY3VtZW50LCB0aGF0XG4vLyBzb21laG93IGF2b2lkcyBhIGJ1ZyB3aGVyZSB0aG9zZSBldmVudHMgYXJlbid0IGZpcmVkIHdoZW4gdGhlXG4vLyBzZWxlY3Rpb24gaXMgZW1wdHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9kZXYvaXNzdWVzLzEwODJcbi8vIGFuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05OTU5NjFcbmZ1bmN0aW9uIGZpcmVmb3hDb3B5Q3V0SGFjayhkb2MpIHtcbiAgICBpZiAoIWFwcGxpZWRGaXJlZm94SGFjay5oYXMoZG9jKSkge1xuICAgICAgICBhcHBsaWVkRmlyZWZveEhhY2suYWRkKGRvYyk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCAoKSA9PiB7IH0pO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImN1dFwiLCAoKSA9PiB7IH0pO1xuICAgIH1cbn1cblxuY29uc3Qgd3JhcHBpbmdXaGl0ZVNwYWNlID0gW1wicHJlLXdyYXBcIiwgXCJub3JtYWxcIiwgXCJwcmUtbGluZVwiLCBcImJyZWFrLXNwYWNlc1wiXTtcbi8vIFVzZWQgdG8gdHJhY2ssIGR1cmluZyB1cGRhdGVIZWlnaHQsIGlmIGFueSBhY3R1YWwgaGVpZ2h0cyBjaGFuZ2VkXG5sZXQgaGVpZ2h0Q2hhbmdlRmxhZyA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYXJIZWlnaHRDaGFuZ2VGbGFnKCkgeyBoZWlnaHRDaGFuZ2VGbGFnID0gZmFsc2U7IH1cbmNsYXNzIEhlaWdodE9yYWNsZSB7XG4gICAgY29uc3RydWN0b3IobGluZVdyYXBwaW5nKSB7XG4gICAgICAgIHRoaXMubGluZVdyYXBwaW5nID0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmRvYyA9IFRleHQuZW1wdHk7XG4gICAgICAgIHRoaXMuaGVpZ2h0U2FtcGxlcyA9IHt9O1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSAxNDsgLy8gVGhlIGhlaWdodCBvZiBhbiBlbnRpcmUgbGluZSAobGluZS1oZWlnaHQpXG4gICAgICAgIHRoaXMuY2hhcldpZHRoID0gNztcbiAgICAgICAgdGhpcy50ZXh0SGVpZ2h0ID0gMTQ7IC8vIFRoZSBoZWlnaHQgb2YgdGhlIGFjdHVhbCBmb250IChmb250LXNpemUpXG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IDMwO1xuICAgIH1cbiAgICBoZWlnaHRGb3JHYXAoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGxpbmVzID0gdGhpcy5kb2MubGluZUF0KHRvKS5udW1iZXIgLSB0aGlzLmRvYy5saW5lQXQoZnJvbSkubnVtYmVyICsgMTtcbiAgICAgICAgaWYgKHRoaXMubGluZVdyYXBwaW5nKVxuICAgICAgICAgICAgbGluZXMgKz0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKCgodG8gLSBmcm9tKSAtIChsaW5lcyAqIHRoaXMubGluZUxlbmd0aCAqIDAuNSkpIC8gdGhpcy5saW5lTGVuZ3RoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQgKiBsaW5lcztcbiAgICB9XG4gICAgaGVpZ2h0Rm9yTGluZShsZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGxldCBsaW5lcyA9IDEgKyBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGxlbmd0aCAtIHRoaXMubGluZUxlbmd0aCkgLyAodGhpcy5saW5lTGVuZ3RoIC0gNSkpKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzICogdGhpcy5saW5lSGVpZ2h0O1xuICAgIH1cbiAgICBzZXREb2MoZG9jKSB7IHRoaXMuZG9jID0gZG9jOyByZXR1cm4gdGhpczsgfVxuICAgIG11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTEpICE9IHRoaXMubGluZVdyYXBwaW5nO1xuICAgIH1cbiAgICBtdXN0UmVmcmVzaEZvckhlaWdodHMobGluZUhlaWdodHMpIHtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVIZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaCA9IGxpbmVIZWlnaHRzW2ldO1xuICAgICAgICAgICAgaWYgKGggPCAwKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaGVpZ2h0U2FtcGxlc1tNYXRoLmZsb29yKGggKiAxMCldKSB7IC8vIFJvdW5kIHRvIC4xIHBpeGVsc1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzW01hdGguZmxvb3IoaCAqIDEwKV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdIZWlnaHQ7XG4gICAgfVxuICAgIHJlZnJlc2god2hpdGVTcGFjZSwgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0LCBsaW5lTGVuZ3RoLCBrbm93bkhlaWdodHMpIHtcbiAgICAgICAgbGV0IGxpbmVXcmFwcGluZyA9IHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTE7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gTWF0aC5yb3VuZChsaW5lSGVpZ2h0KSAhPSBNYXRoLnJvdW5kKHRoaXMubGluZUhlaWdodCkgfHwgdGhpcy5saW5lV3JhcHBpbmcgIT0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmxpbmVXcmFwcGluZyA9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5jaGFyV2lkdGggPSBjaGFyV2lkdGg7XG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IHRleHRIZWlnaHQ7XG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IGxpbmVMZW5ndGg7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga25vd25IZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBrbm93bkhlaWdodHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGggPCAwKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXNbTWF0aC5mbG9vcihoICogMTApXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxufVxuLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBieSBgdXBkYXRlSGVpZ2h0YCB0byBtYWtlIERPTSBtZWFzdXJlbWVudHNcbi8vIGFycml2ZSBhdCB0aGUgcmlnaHQgbmlkZXMuIFRoZSBgaGVpZ2h0c2AgYXJyYXkgaXMgYSBzZXF1ZW5jZSBvZlxuLy8gYmxvY2sgaGVpZ2h0cywgc3RhcnRpbmcgZnJvbSBwb3NpdGlvbiBgZnJvbWAuXG5jbGFzcyBNZWFzdXJlZEhlaWdodHMge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIGhlaWdodHMpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5oZWlnaHRzID0gaGVpZ2h0cztcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGdldCBtb3JlKCkgeyByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuaGVpZ2h0cy5sZW5ndGg7IH1cbn1cbi8qKlxuUmVjb3JkIHVzZWQgdG8gcmVwcmVzZW50IGluZm9ybWF0aW9uIGFib3V0IGEgYmxvY2stbGV2ZWwgZWxlbWVudFxuaW4gdGhlIGVkaXRvciB2aWV3LlxuKi9cbmNsYXNzIEJsb2NrSW5mbyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGxlbmd0aCwgXG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIHRvcCBvZiB0aGVcbiAgICBkb2N1bWVudCkuXG4gICAgKi9cbiAgICB0b3AsIFxuICAgIC8qKlxuICAgIEl0cyBoZWlnaHQuXG4gICAgKi9cbiAgICBoZWlnaHQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbCBXZWlyZCBwYWNrZWQgZmllbGQgdGhhdCBob2xkcyBhbiBhcnJheSBvZiBjaGlsZHJlblxuICAgIGZvciBjb21wb3NpdGUgYmxvY2tzLCBhIGRlY29yYXRpb24gZm9yIGJsb2NrIHdpZGdldHMsIGFuZCBhXG4gICAgbnVtYmVyIGluZGljYXRpbmcgdGhlIGFtb3VudCBvZiB3aWRnZXQtY3JlYXRlIGxpbmUgYnJlYWtzIGZvclxuICAgIHRleHQgYmxvY2tzLlxuICAgICovXG4gICAgX2NvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IF9jb250ZW50O1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgdHlwZSBvZiBlbGVtZW50IHRoaXMgaXMuIFdoZW4gcXVlcnlpbmcgbGluZXMsIHRoaXMgbWF5IGJlXG4gICAgYW4gYXJyYXkgb2YgYWxsIHRoZSBibG9ja3MgdGhhdCBtYWtlIHVwIHRoZSBsaW5lLlxuICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fY29udGVudCA9PSBcIm51bWJlclwiID8gQmxvY2tUeXBlLlRleHQgOlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLl9jb250ZW50KSA/IHRoaXMuX2NvbnRlbnQgOiB0aGlzLl9jb250ZW50LnR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIGVsZW1lbnQgYXMgYSBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMubGVuZ3RoOyB9XG4gICAgLyoqXG4gICAgVGhlIGJvdHRvbSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGdldCBib3R0b20oKSB7IHJldHVybiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OyB9XG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBhIHdpZGdldCBibG9jaywgdGhpcyB3aWxsIHJldHVybiB0aGUgd2lkZ2V0XG4gICAgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICovXG4gICAgZ2V0IHdpZGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQgaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24gPyB0aGlzLl9jb250ZW50LndpZGdldCA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSB0ZXh0YmxvY2ssIHRoaXMgaG9sZHMgdGhlIG51bWJlciBvZiBsaW5lIGJyZWFrc1xuICAgIHRoYXQgYXBwZWFyIGluIHdpZGdldHMgaW5zaWRlIHRoZSBibG9jay5cbiAgICAqL1xuICAgIGdldCB3aWRnZXRMaW5lQnJlYWtzKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX2NvbnRlbnQgPT0gXCJudW1iZXJcIiA/IHRoaXMuX2NvbnRlbnQgOiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGpvaW4ob3RoZXIpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAoQXJyYXkuaXNBcnJheSh0aGlzLl9jb250ZW50KSA/IHRoaXMuX2NvbnRlbnQgOiBbdGhpc10pXG4gICAgICAgICAgICAuY29uY2F0KEFycmF5LmlzQXJyYXkob3RoZXIuX2NvbnRlbnQpID8gb3RoZXIuX2NvbnRlbnQgOiBbb3RoZXJdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8odGhpcy5mcm9tLCB0aGlzLmxlbmd0aCArIG90aGVyLmxlbmd0aCwgdGhpcy50b3AsIHRoaXMuaGVpZ2h0ICsgb3RoZXIuaGVpZ2h0LCBjb250ZW50KTtcbiAgICB9XG59XG52YXIgUXVlcnlUeXBlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUXVlcnlUeXBlKSB7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5UG9zXCJdID0gMF0gPSBcIkJ5UG9zXCI7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5SGVpZ2h0XCJdID0gMV0gPSBcIkJ5SGVpZ2h0XCI7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5UG9zTm9IZWlnaHRcIl0gPSAyXSA9IFwiQnlQb3NOb0hlaWdodFwiO1xucmV0dXJuIFF1ZXJ5VHlwZX0pKFF1ZXJ5VHlwZSB8fCAoUXVlcnlUeXBlID0ge30pKTtcbmNvbnN0IEVwc2lsb24gPSAxZS0zO1xuY2xhc3MgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIC8vIFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb3ZlcmVkXG4gICAgaGVpZ2h0LCAvLyBIZWlnaHQgb2YgdGhpcyBwYXJ0IG9mIHRoZSBkb2N1bWVudFxuICAgIGZsYWdzID0gMiAvKiBGbGFnLk91dGRhdGVkICovKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICBnZXQgb3V0ZGF0ZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogRmxhZy5PdXRkYXRlZCAqLykgPiAwOyB9XG4gICAgc2V0IG91dGRhdGVkKHZhbHVlKSB7IHRoaXMuZmxhZ3MgPSAodmFsdWUgPyAyIC8qIEZsYWcuT3V0ZGF0ZWQgKi8gOiAwKSB8ICh0aGlzLmZsYWdzICYgfjIgLyogRmxhZy5PdXRkYXRlZCAqLyk7IH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmhlaWdodCAtIGhlaWdodCkgPiBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIGhlaWdodENoYW5nZUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmFzZSBjYXNlIGlzIHRvIHJlcGxhY2UgYSBsZWFmIG5vZGUsIHdoaWNoIHNpbXBseSBidWlsZHMgYSB0cmVlXG4gICAgLy8gZnJvbSB0aGUgbmV3IG5vZGVzIGFuZCByZXR1cm5zIHRoYXQgKEhlaWdodE1hcEJyYW5jaCBhbmRcbiAgICAvLyBIZWlnaHRNYXBHYXAgb3ZlcnJpZGUgdGhpcyB0byBhY3R1YWxseSB1c2UgZnJvbS90bylcbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgIH1cbiAgICAvLyBBZ2FpbiwgdGhlc2UgYXJlIGJhc2UgY2FzZXMsIGFuZCBhcmUgb3ZlcnJpZGRlbiBmb3IgYnJhbmNoIGFuZCBnYXAgbm9kZXMuXG4gICAgZGVjb21wb3NlTGVmdChfdG8sIHJlc3VsdCkgeyByZXN1bHQucHVzaCh0aGlzKTsgfVxuICAgIGRlY29tcG9zZVJpZ2h0KF9mcm9tLCByZXN1bHQpIHsgcmVzdWx0LnB1c2godGhpcyk7IH1cbiAgICBhcHBseUNoYW5nZXMoZGVjb3JhdGlvbnMsIG9sZERvYywgb3JhY2xlLCBjaGFuZ2VzKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXMsIGRvYyA9IG9yYWNsZS5kb2M7XG4gICAgICAgIGZvciAobGV0IGkgPSBjaGFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgeyBmcm9tQSwgdG9BLCBmcm9tQiwgdG9CIH0gPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gbWUubGluZUF0KGZyb21BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb3JhY2xlLnNldERvYyhvbGREb2MpLCAwLCAwKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydC50byA+PSB0b0EgPyBzdGFydCA6IG1lLmxpbmVBdCh0b0EsIFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0LCBvcmFjbGUsIDAsIDApO1xuICAgICAgICAgICAgdG9CICs9IGVuZC50byAtIHRvQTtcbiAgICAgICAgICAgIHRvQSA9IGVuZC50bztcbiAgICAgICAgICAgIHdoaWxlIChpID4gMCAmJiBzdGFydC5mcm9tIDw9IGNoYW5nZXNbaSAtIDFdLnRvQSkge1xuICAgICAgICAgICAgICAgIGZyb21BID0gY2hhbmdlc1tpIC0gMV0uZnJvbUE7XG4gICAgICAgICAgICAgICAgZnJvbUIgPSBjaGFuZ2VzW2kgLSAxXS5mcm9tQjtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgaWYgKGZyb21BIDwgc3RhcnQuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBtZS5saW5lQXQoZnJvbUEsIFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0LCBvcmFjbGUsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUIgKz0gc3RhcnQuZnJvbSAtIGZyb21BO1xuICAgICAgICAgICAgZnJvbUEgPSBzdGFydC5mcm9tO1xuICAgICAgICAgICAgbGV0IG5vZGVzID0gTm9kZUJ1aWxkZXIuYnVpbGQob3JhY2xlLnNldERvYyhkb2MpLCBkZWNvcmF0aW9ucywgZnJvbUIsIHRvQik7XG4gICAgICAgICAgICBtZSA9IHJlcGxhY2UobWUsIG1lLnJlcGxhY2UoZnJvbUEsIHRvQSwgbm9kZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWUudXBkYXRlSGVpZ2h0KG9yYWNsZSwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHsgcmV0dXJuIG5ldyBIZWlnaHRNYXBUZXh0KDAsIDApOyB9XG4gICAgLy8gbm9kZXMgdXNlcyBudWxsIHZhbHVlcyB0byBpbmRpY2F0ZSB0aGUgcG9zaXRpb24gb2YgbGluZSBicmVha3MuXG4gICAgLy8gVGhlcmUgYXJlIG5ldmVyIGxpbmUgYnJlYWtzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGFycmF5LCBvclxuICAgIC8vIHR3byBsaW5lIGJyZWFrcyBuZXh0IHRvIGVhY2ggb3RoZXIsIGFuZCB0aGUgYXJyYXkgaXNuJ3QgYWxsb3dlZFxuICAgIC8vIHRvIGJlIGVtcHR5IChzYW1lIHJlc3RyaWN0aW9ucyBhcyByZXR1cm4gdmFsdWUgZnJvbSB0aGUgYnVpbGRlcikuXG4gICAgc3RhdGljIG9mKG5vZGVzKSB7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgIHJldHVybiBub2Rlc1swXTtcbiAgICAgICAgbGV0IGkgPSAwLCBqID0gbm9kZXMubGVuZ3RoLCBiZWZvcmUgPSAwLCBhZnRlciA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChpID09IGopIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlID4gYWZ0ZXIgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0LmJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKC0taSwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoLS1pLCAxLCBzcGxpdC5sZWZ0LCBzcGxpdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGogKz0gMSArIHNwbGl0LmJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWZ0ZXIgPiBiZWZvcmUgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXQuYnJlYWspXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBqICs9IDIgKyBzcGxpdC5icmVhaztcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlZm9yZSA8IGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1tpKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgKz0gbmV4dC5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1stLWpdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBhZnRlciArPSBuZXh0LnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJyayA9IDA7XG4gICAgICAgIGlmIChub2Rlc1tpIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYnJrID0gMTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2Rlc1tpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBicmsgPSAxO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGVpZ2h0TWFwQnJhbmNoKEhlaWdodE1hcC5vZihub2Rlcy5zbGljZSgwLCBpKSksIGJyaywgSGVpZ2h0TWFwLm9mKG5vZGVzLnNsaWNlKGopKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVwbGFjZShvbGQsIHZhbCkge1xuICAgIGlmIChvbGQgPT0gdmFsKVxuICAgICAgICByZXR1cm4gb2xkO1xuICAgIGlmIChvbGQuY29uc3RydWN0b3IgIT0gdmFsLmNvbnN0cnVjdG9yKVxuICAgICAgICBoZWlnaHRDaGFuZ2VGbGFnID0gdHJ1ZTtcbiAgICByZXR1cm4gdmFsO1xufVxuSGVpZ2h0TWFwLnByb3RvdHlwZS5zaXplID0gMTtcbmNsYXNzIEhlaWdodE1hcEJsb2NrIGV4dGVuZHMgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGhlaWdodCwgZGVjbykge1xuICAgICAgICBzdXBlcihsZW5ndGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuZGVjbyA9IGRlY287XG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX29yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy5kZWNvIHx8IDApO1xuICAgIH1cbiAgICBsaW5lQXQoX3ZhbHVlLCBfdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9ja0F0KDAsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgIH1cbiAgICBmb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZikge1xuICAgICAgICBpZiAoZnJvbSA8PSBvZmZzZXQgKyB0aGlzLmxlbmd0aCAmJiB0byA+PSBvZmZzZXQpXG4gICAgICAgICAgICBmKHRoaXMuYmxvY2tBdCgwLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSk7XG4gICAgfVxuICAgIHVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCA9IDAsIF9mb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBibG9jaygke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBUZXh0IGV4dGVuZHMgSGVpZ2h0TWFwQmxvY2sge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCwgaGVpZ2h0LCBudWxsKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWQgPSAwOyAvLyBBbW91bnQgb2YgY29sbGFwc2VkIGNvbnRlbnQgaW4gdGhlIGxpbmVcbiAgICAgICAgdGhpcy53aWRnZXRIZWlnaHQgPSAwOyAvLyBNYXhpbXVtIGlubGluZSB3aWRnZXQgaGVpZ2h0XG4gICAgICAgIHRoaXMuYnJlYWtzID0gMDsgLy8gTnVtYmVyIG9mIHdpZGdldC1pbnRyb2R1Y2VkIGxpbmUgYnJlYWtzIG9uIHRoZSBsaW5lXG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX29yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy5icmVha3MpO1xuICAgIH1cbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSAmJiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQgfHwgbm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcCAmJiAobm9kZS5mbGFncyAmIDQgLyogRmxhZy5TaW5nbGVMaW5lICovKSkgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGVuZ3RoIC0gbm9kZS5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgSGVpZ2h0TWFwVGV4dChub2RlLmxlbmd0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICAgICAgbm9kZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICBlbHNlIGlmIChmb3JjZSB8fCB0aGlzLm91dGRhdGVkKVxuICAgICAgICAgICAgdGhpcy5zZXRIZWlnaHQoTWF0aC5tYXgodGhpcy53aWRnZXRIZWlnaHQsIG9yYWNsZS5oZWlnaHRGb3JMaW5lKHRoaXMubGVuZ3RoIC0gdGhpcy5jb2xsYXBzZWQpKSArXG4gICAgICAgICAgICAgICAgdGhpcy5icmVha3MgKiBvcmFjbGUubGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYGxpbmUoJHt0aGlzLmxlbmd0aH0ke3RoaXMuY29sbGFwc2VkID8gLXRoaXMuY29sbGFwc2VkIDogXCJcIn0ke3RoaXMud2lkZ2V0SGVpZ2h0ID8gXCI6XCIgKyB0aGlzLndpZGdldEhlaWdodCA6IFwiXCJ9KWA7XG4gICAgfVxufVxuY2xhc3MgSGVpZ2h0TWFwR2FwIGV4dGVuZHMgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgpIHsgc3VwZXIobGVuZ3RoLCAwKTsgfVxuICAgIGhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IGZpcnN0TGluZSA9IG9yYWNsZS5kb2MubGluZUF0KG9mZnNldCkubnVtYmVyLCBsYXN0TGluZSA9IG9yYWNsZS5kb2MubGluZUF0KG9mZnNldCArIHRoaXMubGVuZ3RoKS5udW1iZXI7XG4gICAgICAgIGxldCBsaW5lcyA9IGxhc3RMaW5lIC0gZmlyc3RMaW5lICsgMTtcbiAgICAgICAgbGV0IHBlckxpbmUsIHBlckNoYXIgPSAwO1xuICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgbGV0IHRvdGFsUGVyTGluZSA9IE1hdGgubWluKHRoaXMuaGVpZ2h0LCBvcmFjbGUubGluZUhlaWdodCAqIGxpbmVzKTtcbiAgICAgICAgICAgIHBlckxpbmUgPSB0b3RhbFBlckxpbmUgLyBsaW5lcztcbiAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IGxpbmVzICsgMSlcbiAgICAgICAgICAgICAgICBwZXJDaGFyID0gKHRoaXMuaGVpZ2h0IC0gdG90YWxQZXJMaW5lKSAvICh0aGlzLmxlbmd0aCAtIGxpbmVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZXJMaW5lID0gdGhpcy5oZWlnaHQgLyBsaW5lcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmaXJzdExpbmUsIGxhc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH07XG4gICAgfVxuICAgIGJsb2NrQXQoaGVpZ2h0LCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCB7IGZpcnN0TGluZSwgbGFzdExpbmUsIHBlckxpbmUsIHBlckNoYXIgfSA9IHRoaXMuaGVpZ2h0TWV0cmljcyhvcmFjbGUsIG9mZnNldCk7XG4gICAgICAgIGlmIChvcmFjbGUubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgICBsZXQgZ3Vlc3MgPSBvZmZzZXQgKyAoaGVpZ2h0IDwgb3JhY2xlLmxpbmVIZWlnaHQgPyAwXG4gICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChoZWlnaHQgLSB0b3ApIC8gdGhpcy5oZWlnaHQpKSAqIHRoaXMubGVuZ3RoKSk7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KGd1ZXNzKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgICAgICBsZXQgbGluZVRvcCA9IE1hdGgubWF4KHRvcCwgaGVpZ2h0IC0gbGluZUhlaWdodCAvIDIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8obGluZS5mcm9tLCBsaW5lLmxlbmd0aCwgbGluZVRvcCwgbGluZUhlaWdodCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxhc3RMaW5lIC0gZmlyc3RMaW5lLCBNYXRoLmZsb29yKChoZWlnaHQgLSB0b3ApIC8gcGVyTGluZSkpKTtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIGxlbmd0aCB9ID0gb3JhY2xlLmRvYy5saW5lKGZpcnN0TGluZSArIGxpbmUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8oZnJvbSwgbGVuZ3RoLCB0b3AgKyBwZXJMaW5lICogbGluZSwgcGVyTGluZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGlmICh0eXBlID09IFF1ZXJ5VHlwZS5CeUhlaWdodClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrQXQodmFsdWUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCkge1xuICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGZyb20sIHRvIC0gZnJvbSwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgIGxldCBsaW5lc0Fib3ZlID0gbGluZS5udW1iZXIgLSBmaXJzdExpbmU7XG4gICAgICAgIGxldCBsaW5lVG9wID0gdG9wICsgcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGxpbmUuZnJvbSAtIG9mZnNldCAtIGxpbmVzQWJvdmUpO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBNYXRoLm1heCh0b3AsIE1hdGgubWluKGxpbmVUb3AsIHRvcCArIHRoaXMuaGVpZ2h0IC0gbGluZUhlaWdodCkpLCBsaW5lSGVpZ2h0LCAwKTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIG9mZnNldCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odG8sIG9mZnNldCArIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tLCBsaW5lVG9wID0gdG9wOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAocG9zID09IGZyb20pIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZXNBYm92ZSA9IGxpbmUubnVtYmVyIC0gZmlyc3RMaW5lO1xuICAgICAgICAgICAgICAgIGxpbmVUb3AgKz0gcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGZyb20gLSBvZmZzZXQgLSBsaW5lc0Fib3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gcGVyTGluZSArIHBlckNoYXIgKiBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGYobmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBsaW5lVG9wLCBsaW5lSGVpZ2h0LCAwKSk7XG4gICAgICAgICAgICBsaW5lVG9wICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCBub2Rlcykge1xuICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmxlbmd0aCAtIHRvO1xuICAgICAgICBpZiAoYWZ0ZXIgPiAwKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXApXG4gICAgICAgICAgICAgICAgbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0gPSBuZXcgSGVpZ2h0TWFwR2FwKGxhc3QubGVuZ3RoICsgYWZ0ZXIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCwgbmV3IEhlaWdodE1hcEdhcChhZnRlciAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbSA+IDApIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IG5vZGVzWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGVzWzBdID0gbmV3IEhlaWdodE1hcEdhcChmcm9tICsgZmlyc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBub2Rlcy51bnNoaWZ0KG5ldyBIZWlnaHRNYXBHYXAoZnJvbSAtIDEpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBIZWlnaHRNYXBHYXAodG8gLSAxKSwgbnVsbCk7XG4gICAgfVxuICAgIGRlY29tcG9zZVJpZ2h0KGZyb20sIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQucHVzaChudWxsLCBuZXcgSGVpZ2h0TWFwR2FwKHRoaXMubGVuZ3RoIC0gZnJvbSAtIDEpKTtcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG9mZnNldCArIHRoaXMubGVuZ3RoO1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgKyB0aGlzLmxlbmd0aCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGluIHBhcnQgb2YgdGhpcyBnYXAgd2l0aCBtZWFzdXJlZCBsaW5lcy4gV2Uga25vdyB0aGVyZVxuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgd2lkZ2V0cyBvciBjb2xsYXBzZWQgcmFuZ2VzIGluIHRob3NlIGxpbmVzLCBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGV5IHdvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBoZWlnaHRtYXAgKGdhcHNcbiAgICAgICAgICAgIC8vIG9ubHkgY29udGFpbiBwbGFpbiB0ZXh0KS5cbiAgICAgICAgICAgIGxldCBub2RlcyA9IFtdLCBwb3MgPSBNYXRoLm1heChvZmZzZXQsIG1lYXN1cmVkLmZyb20pLCBzaW5nbGVIZWlnaHQgPSAtMTtcbiAgICAgICAgICAgIGlmIChtZWFzdXJlZC5mcm9tID4gb2Zmc2V0KVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3IEhlaWdodE1hcEdhcChtZWFzdXJlZC5mcm9tIC0gb2Zmc2V0IC0gMSkudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0KSk7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDw9IGVuZCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IG9yYWNsZS5kb2MubGluZUF0KHBvcykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK107XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGhlaWdodCAtIHNpbmdsZUhlaWdodCkgPj0gRXBzaWxvbilcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gLTI7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dChsZW4sIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgbGluZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDw9IGVuZClcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAoZW5kIC0gcG9zKS51cGRhdGVIZWlnaHQob3JhY2xlLCBwb3MpKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA8IDAgfHwgTWF0aC5hYnMocmVzdWx0LmhlaWdodCAtIHRoaXMuaGVpZ2h0KSA+PSBFcHNpbG9uIHx8XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoc2luZ2xlSGVpZ2h0IC0gdGhpcy5oZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KS5wZXJMaW5lKSA+PSBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIGhlaWdodENoYW5nZUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UodGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JjZSB8fCB0aGlzLm91dGRhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUuaGVpZ2h0Rm9yR2FwKG9mZnNldCwgb2Zmc2V0ICsgdGhpcy5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiBgZ2FwKCR7dGhpcy5sZW5ndGh9KWA7IH1cbn1cbmNsYXNzIEhlaWdodE1hcEJyYW5jaCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVmdCwgYnJrLCByaWdodCkge1xuICAgICAgICBzdXBlcihsZWZ0Lmxlbmd0aCArIGJyayArIHJpZ2h0Lmxlbmd0aCwgbGVmdC5oZWlnaHQgKyByaWdodC5oZWlnaHQsIGJyayB8IChsZWZ0Lm91dGRhdGVkIHx8IHJpZ2h0Lm91dGRhdGVkID8gMiAvKiBGbGFnLk91dGRhdGVkICovIDogMCkpO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgfVxuICAgIGdldCBicmVhaygpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgJiAxIC8qIEZsYWcuQnJlYWsgKi87IH1cbiAgICBibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgbWlkID0gdG9wICsgdGhpcy5sZWZ0LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGhlaWdodCA8IG1pZCA/IHRoaXMubGVmdC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCBtaWQsIG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrKTtcbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGxldCBsZWZ0ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlIZWlnaHQgPyB2YWx1ZSA8IHJpZ2h0VG9wIDogdmFsdWUgPCByaWdodE9mZnNldDtcbiAgICAgICAgbGV0IGJhc2UgPSBsZWZ0ID8gdGhpcy5sZWZ0LmxpbmVBdCh2YWx1ZSwgdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5saW5lQXQodmFsdWUsIHR5cGUsIG9yYWNsZSwgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0KTtcbiAgICAgICAgaWYgKHRoaXMuYnJlYWsgfHwgKGxlZnQgPyBiYXNlLnRvIDwgcmlnaHRPZmZzZXQgOiBiYXNlLmZyb20gPiByaWdodE9mZnNldCkpXG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgbGV0IHN1YlF1ZXJ5ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCA/IFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0IDogUXVlcnlUeXBlLkJ5UG9zO1xuICAgICAgICBpZiAobGVmdClcbiAgICAgICAgICAgIHJldHVybiBiYXNlLmpvaW4odGhpcy5yaWdodC5saW5lQXQocmlnaHRPZmZzZXQsIHN1YlF1ZXJ5LCBvcmFjbGUsIHJpZ2h0VG9wLCByaWdodE9mZnNldCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmxpbmVBdChyaWdodE9mZnNldCwgc3ViUXVlcnksIG9yYWNsZSwgdG9wLCBvZmZzZXQpLmpvaW4oYmFzZSk7XG4gICAgfVxuICAgIGZvckVhY2hMaW5lKGZyb20sIHRvLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHJpZ2h0T2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMubGVmdC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZik7XG4gICAgICAgICAgICBpZiAodG8gPj0gcmlnaHRPZmZzZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1pZCA9IHRoaXMubGluZUF0KHJpZ2h0T2Zmc2V0LCBRdWVyeVR5cGUuQnlQb3MsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKGZyb20gPCBtaWQuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaExpbmUoZnJvbSwgbWlkLmZyb20gLSAxLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKTtcbiAgICAgICAgICAgIGlmIChtaWQudG8gPj0gZnJvbSAmJiBtaWQuZnJvbSA8PSB0bylcbiAgICAgICAgICAgICAgICBmKG1pZCk7XG4gICAgICAgICAgICBpZiAodG8gPiBtaWQudG8pXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShtaWQudG8gKyAxLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCByaWdodFN0YXJ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0byA8IHJpZ2h0U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlZCh0aGlzLmxlZnQucmVwbGFjZShmcm9tLCB0bywgbm9kZXMpLCB0aGlzLnJpZ2h0KTtcbiAgICAgICAgaWYgKGZyb20gPiB0aGlzLmxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LnJlcGxhY2UoZnJvbSAtIHJpZ2h0U3RhcnQsIHRvIC0gcmlnaHRTdGFydCwgbm9kZXMpKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZUxlZnQoZnJvbSwgcmVzdWx0KTtcbiAgICAgICAgbGV0IGxlZnQgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIG5vZGVzKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgIGlmIChmcm9tID4gMClcbiAgICAgICAgICAgIG1lcmdlR2FwcyhyZXN1bHQsIGxlZnQgLSAxKTtcbiAgICAgICAgaWYgKHRvIDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByaWdodCA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZVJpZ2h0KHRvLCByZXN1bHQpO1xuICAgICAgICAgICAgbWVyZ2VHYXBzKHJlc3VsdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YocmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRvIDw9IGxlZnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubGVmdCk7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBsZWZ0Kys7XG4gICAgICAgICAgICBpZiAodG8gPj0gbGVmdClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG8gPiBsZWZ0KVxuICAgICAgICAgICAgdGhpcy5yaWdodC5kZWNvbXBvc2VMZWZ0KHRvIC0gbGVmdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCwgcmlnaHQgPSBsZWZ0ICsgdGhpcy5icmVhaztcbiAgICAgICAgaWYgKGZyb20gPj0gcmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5kZWNvbXBvc2VSaWdodChmcm9tIC0gcmlnaHQsIHJlc3VsdCk7XG4gICAgICAgIGlmIChmcm9tIDwgbGVmdClcbiAgICAgICAgICAgIHRoaXMubGVmdC5kZWNvbXBvc2VSaWdodChmcm9tLCByZXN1bHQpO1xuICAgICAgICBpZiAodGhpcy5icmVhayAmJiBmcm9tIDwgcmlnaHQpXG4gICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGJhbGFuY2VkKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGlmIChsZWZ0LnNpemUgPiAyICogcmlnaHQuc2l6ZSB8fCByaWdodC5zaXplID4gMiAqIGxlZnQuc2l6ZSlcbiAgICAgICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YodGhpcy5icmVhayA/IFtsZWZ0LCBudWxsLCByaWdodF0gOiBbbGVmdCwgcmlnaHRdKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gcmVwbGFjZSh0aGlzLmxlZnQsIGxlZnQpO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmVwbGFjZSh0aGlzLnJpZ2h0LCByaWdodCk7XG4gICAgICAgIHRoaXMuc2V0SGVpZ2h0KGxlZnQuaGVpZ2h0ICsgcmlnaHQuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGxlZnQub3V0ZGF0ZWQgfHwgcmlnaHQub3V0ZGF0ZWQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrICsgcmlnaHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IHsgbGVmdCwgcmlnaHQgfSA9IHRoaXMsIHJpZ2h0U3RhcnQgPSBvZmZzZXQgKyBsZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWssIHJlYmFsYW5jZSA9IG51bGw7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IG9mZnNldCArIGxlZnQubGVuZ3RoICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICByZWJhbGFuY2UgPSBsZWZ0ID0gbGVmdC51cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQsIGZvcmNlLCBtZWFzdXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxlZnQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0LCBmb3JjZSk7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IHJpZ2h0U3RhcnQgKyByaWdodC5sZW5ndGggJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHJlYmFsYW5jZSA9IHJpZ2h0ID0gcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UsIG1lYXN1cmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UpO1xuICAgICAgICBpZiAocmViYWxhbmNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQobGVmdCwgcmlnaHQpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubGVmdC5oZWlnaHQgKyB0aGlzLnJpZ2h0LmhlaWdodDtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLmxlZnQgKyAodGhpcy5icmVhayA/IFwiIFwiIDogXCItXCIpICsgdGhpcy5yaWdodDsgfVxufVxuZnVuY3Rpb24gbWVyZ2VHYXBzKG5vZGVzLCBhcm91bmQpIHtcbiAgICBsZXQgYmVmb3JlLCBhZnRlcjtcbiAgICBpZiAobm9kZXNbYXJvdW5kXSA9PSBudWxsICYmXG4gICAgICAgIChiZWZvcmUgPSBub2Rlc1thcm91bmQgLSAxXSkgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXAgJiZcbiAgICAgICAgKGFmdGVyID0gbm9kZXNbYXJvdW5kICsgMV0pIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICBub2Rlcy5zcGxpY2UoYXJvdW5kIC0gMSwgMywgbmV3IEhlaWdodE1hcEdhcChiZWZvcmUubGVuZ3RoICsgMSArIGFmdGVyLmxlbmd0aCkpO1xufVxuY29uc3QgcmVsZXZhbnRXaWRnZXRIZWlnaHQgPSA1O1xuY2xhc3MgTm9kZUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHBvcywgb3JhY2xlKSB7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLm9yYWNsZSA9IG9yYWNsZTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmxpbmVTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSAtMTtcbiAgICAgICAgdGhpcy5jb3ZlcmluZyA9IG51bGw7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gcG9zO1xuICAgIH1cbiAgICBnZXQgaXNDb3ZlcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3ZlcmluZyAmJiB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gPT0gdGhpcy5jb3ZlcmluZztcbiAgICB9XG4gICAgc3BhbihfZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbih0bywgdGhpcy5saW5lRW5kKSwgbGFzdCA9IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBsYXN0Lmxlbmd0aCArPSBlbmQgLSB0aGlzLnBvcztcbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZCA+IHRoaXMucG9zIHx8ICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoZW5kIC0gdGhpcy5wb3MsIC0xKSk7XG4gICAgICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IGVuZDtcbiAgICAgICAgICAgIGlmICh0byA+IGVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXR0ZW5UbysrO1xuICAgICAgICAgICAgICAgIHRoaXMubGluZVN0YXJ0ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICB9XG4gICAgcG9pbnQoZnJvbSwgdG8sIGRlY28pIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBkZWNvLmhlaWdodFJlbGV2YW50KSB7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGVjby53aWRnZXQgPyBkZWNvLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgOiAwO1xuICAgICAgICAgICAgbGV0IGJyZWFrcyA9IGRlY28ud2lkZ2V0ID8gZGVjby53aWRnZXQubGluZUJyZWFrcyA6IDA7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0IDwgMClcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLm9yYWNsZS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRvIC0gZnJvbTtcbiAgICAgICAgICAgIGlmIChkZWNvLmJsb2NrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCbG9jayhuZXcgSGVpZ2h0TWFwQmxvY2sobGVuLCBoZWlnaHQsIGRlY28pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxlbiB8fCBicmVha3MgfHwgaGVpZ2h0ID49IHJlbGV2YW50V2lkZ2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lRGVjbyhoZWlnaHQsIGJyZWFrcywgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0byA+IGZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuc3Bhbihmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZUVuZCA+IC0xICYmIHRoaXMubGluZUVuZCA8IHRoaXMucG9zKVxuICAgICAgICAgICAgdGhpcy5saW5lRW5kID0gdGhpcy5vcmFjbGUuZG9jLmxpbmVBdCh0aGlzLnBvcykudG87XG4gICAgfVxuICAgIGVudGVyTGluZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLm9yYWNsZS5kb2MubGluZUF0KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5saW5lU3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSB0bztcbiAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSAtIDEgfHwgdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKHRoaXMuYmxhbmtDb250ZW50KHRoaXMud3JpdHRlblRvLCBmcm9tIC0gMSkpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA+IGZyb20pXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQodGhpcy5wb3MgLSBmcm9tLCAtMSkpO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zO1xuICAgIH1cbiAgICBibGFua0NvbnRlbnQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGdhcCA9IG5ldyBIZWlnaHRNYXBHYXAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKHRoaXMub3JhY2xlLmRvYy5saW5lQXQoZnJvbSkudG8gPT0gdG8pXG4gICAgICAgICAgICBnYXAuZmxhZ3MgfD0gNCAvKiBGbGFnLlNpbmdsZUxpbmUgKi87XG4gICAgICAgIHJldHVybiBnYXA7XG4gICAgfVxuICAgIGVuc3VyZUxpbmUoKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5ub2Rlcy5sZW5ndGggPyB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpXG4gICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dCgwLCAtMSk7XG4gICAgICAgIHRoaXMubm9kZXMucHVzaChsaW5lKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGFkZEJsb2NrKGJsb2NrKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGxldCBkZWNvID0gYmxvY2suZGVjbztcbiAgICAgICAgaWYgKGRlY28gJiYgZGVjby5zdGFydFNpZGUgPiAwICYmICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTGluZSgpO1xuICAgICAgICB0aGlzLm5vZGVzLnB1c2goYmxvY2spO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zID0gdGhpcy5wb3MgKyBibG9jay5sZW5ndGg7XG4gICAgICAgIGlmIChkZWNvICYmIGRlY28uZW5kU2lkZSA+IDApXG4gICAgICAgICAgICB0aGlzLmNvdmVyaW5nID0gYmxvY2s7XG4gICAgfVxuICAgIGFkZExpbmVEZWNvKGhlaWdodCwgYnJlYWtzLCBsZW5ndGgpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLmVuc3VyZUxpbmUoKTtcbiAgICAgICAgbGluZS5sZW5ndGggKz0gbGVuZ3RoO1xuICAgICAgICBsaW5lLmNvbGxhcHNlZCArPSBsZW5ndGg7XG4gICAgICAgIGxpbmUud2lkZ2V0SGVpZ2h0ID0gTWF0aC5tYXgobGluZS53aWRnZXRIZWlnaHQsIGhlaWdodCk7XG4gICAgICAgIGxpbmUuYnJlYWtzICs9IGJyZWFrcztcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcyA9IHRoaXMucG9zICsgbGVuZ3RoO1xuICAgIH1cbiAgICBmaW5pc2goZnJvbSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoID09IDAgPyBudWxsIDogdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy5saW5lU3RhcnQgPiAtMSAmJiAhKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KSAmJiAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoMCwgLTEpKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy53cml0dGVuVG8gPCB0aGlzLnBvcyB8fCBsYXN0ID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2godGhpcy5ibGFua0NvbnRlbnQodGhpcy53cml0dGVuVG8sIHRoaXMucG9zKSk7XG4gICAgICAgIGxldCBwb3MgPSBmcm9tO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBub2RlLnVwZGF0ZUhlaWdodCh0aGlzLm9yYWNsZSwgcG9zKTtcbiAgICAgICAgICAgIHBvcyArPSBub2RlID8gbm9kZS5sZW5ndGggOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICAgIH1cbiAgICAvLyBBbHdheXMgY2FsbGVkIHdpdGggYSByZWdpb24gdGhhdCBvbiBib3RoIHNpZGVzIGVpdGhlciBzdHJldGNoZXNcbiAgICAvLyB0byBhIGxpbmUgYnJlYWsgb3IgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgLy8gVGhlIHJldHVybmVkIGFycmF5IHVzZXMgbnVsbCB0byBpbmRpY2F0ZSBsaW5lIGJyZWFrcywgYnV0IG5ldmVyXG4gICAgLy8gc3RhcnRzIG9yIGVuZHMgaW4gYSBsaW5lIGJyZWFrLCBvciBoYXMgbXVsdGlwbGUgbGluZSBicmVha3MgbmV4dFxuICAgIC8vIHRvIGVhY2ggb3RoZXIuXG4gICAgc3RhdGljIGJ1aWxkKG9yYWNsZSwgZGVjb3JhdGlvbnMsIGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IE5vZGVCdWlsZGVyKGZyb20sIG9yYWNsZSk7XG4gICAgICAgIFJhbmdlU2V0LnNwYW5zKGRlY29yYXRpb25zLCBmcm9tLCB0bywgYnVpbGRlciwgMCk7XG4gICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaChmcm9tKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvcjtcbiAgICBSYW5nZVNldC5jb21wYXJlKGEsIGIsIGRpZmYsIGNvbXAsIDApO1xuICAgIHJldHVybiBjb21wLmNoYW5nZXM7XG59XG5jbGFzcyBEZWNvcmF0aW9uQ29tcGFyYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBjb21wYXJlUmFuZ2UoKSB7IH1cbiAgICBjb21wYXJlUG9pbnQoZnJvbSwgdG8sIGEsIGIpIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBhICYmIGEuaGVpZ2h0UmVsZXZhbnQgfHwgYiAmJiBiLmhlaWdodFJlbGV2YW50KVxuICAgICAgICAgICAgYWRkUmFuZ2UoZnJvbSwgdG8sIHRoaXMuY2hhbmdlcywgNSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2aXNpYmxlUGl4ZWxSYW5nZShkb20sIHBhZGRpbmdUb3ApIHtcbiAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgZG9jID0gZG9tLm93bmVyRG9jdW1lbnQsIHdpbiA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgbGV0IGxlZnQgPSBNYXRoLm1heCgwLCByZWN0LmxlZnQpLCByaWdodCA9IE1hdGgubWluKHdpbi5pbm5lcldpZHRoLCByZWN0LnJpZ2h0KTtcbiAgICBsZXQgdG9wID0gTWF0aC5tYXgoMCwgcmVjdC50b3ApLCBib3R0b20gPSBNYXRoLm1pbih3aW4uaW5uZXJIZWlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTsgcGFyZW50ICYmIHBhcmVudCAhPSBkb2MuYm9keTspIHtcbiAgICAgICAgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgZWx0ID0gcGFyZW50O1xuICAgICAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWx0KTtcbiAgICAgICAgICAgIGlmICgoZWx0LnNjcm9sbEhlaWdodCA+IGVsdC5jbGllbnRIZWlnaHQgfHwgZWx0LnNjcm9sbFdpZHRoID4gZWx0LmNsaWVudFdpZHRoKSAmJlxuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ICE9IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudFJlY3QgPSBlbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIHBhcmVudFJlY3QubGVmdCk7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgcGFyZW50UmVjdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBwYXJlbnRSZWN0LnRvcCk7XG4gICAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5taW4ocGFyZW50ID09IGRvbS5wYXJlbnROb2RlID8gd2luLmlubmVySGVpZ2h0IDogYm90dG9tLCBwYXJlbnRSZWN0LmJvdHRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBzdHlsZS5wb3NpdGlvbiA9PSBcImFic29sdXRlXCIgfHwgc3R5bGUucG9zaXRpb24gPT0gXCJmaXhlZFwiID8gZWx0Lm9mZnNldFBhcmVudCA6IGVsdC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSAxMSkgeyAvLyBTaGFkb3cgcm9vdFxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBsZWZ0OiBsZWZ0IC0gcmVjdC5sZWZ0LCByaWdodDogTWF0aC5tYXgobGVmdCwgcmlnaHQpIC0gcmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IHRvcCAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApLCBib3R0b206IE1hdGgubWF4KHRvcCwgYm90dG9tKSAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApIH07XG59XG5mdW5jdGlvbiBmdWxsUGl4ZWxSYW5nZShkb20sIHBhZGRpbmdUb3ApIHtcbiAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geyBsZWZ0OiAwLCByaWdodDogcmVjdC5yaWdodCAtIHJlY3QubGVmdCxcbiAgICAgICAgdG9wOiBwYWRkaW5nVG9wLCBib3R0b206IHJlY3QuYm90dG9tIC0gKHJlY3QudG9wICsgcGFkZGluZ1RvcCkgfTtcbn1cbi8vIExpbmUgZ2FwcyBhcmUgcGxhY2Vob2xkZXIgd2lkZ2V0cyB1c2VkIHRvIGhpZGUgcGllY2VzIG9mIG92ZXJsb25nXG4vLyBsaW5lcyB3aXRoaW4gdGhlIHZpZXdwb3J0LCBhcyBhIGtsdWRnZSB0byBrZWVwIHRoZSBlZGl0b3Jcbi8vIHJlc3BvbnNpdmUgd2hlbiBhIHJpZGljdWxvdXNseSBsb25nIGxpbmUgaXMgbG9hZGVkIGludG8gaXQuXG5jbGFzcyBMaW5lR2FwIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgc2l6ZSkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIHN0YXRpYyBzYW1lKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBnQSA9IGFbaV0sIGdCID0gYltpXTtcbiAgICAgICAgICAgIGlmIChnQS5mcm9tICE9IGdCLmZyb20gfHwgZ0EudG8gIT0gZ0IudG8gfHwgZ0Euc2l6ZSAhPSBnQi5zaXplKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZHJhdyh2aWV3U3RhdGUsIHdyYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnJlcGxhY2Uoe1xuICAgICAgICAgICAgd2lkZ2V0OiBuZXcgTGluZUdhcFdpZGdldCh0aGlzLnNpemUgKiAod3JhcHBpbmcgPyB2aWV3U3RhdGUuc2NhbGVZIDogdmlld1N0YXRlLnNjYWxlWCksIHdyYXBwaW5nKVxuICAgICAgICB9KS5yYW5nZSh0aGlzLmZyb20sIHRoaXMudG8pO1xuICAgIH1cbn1cbmNsYXNzIExpbmVHYXBXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihzaXplLCB2ZXJ0aWNhbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLnZlcnRpY2FsID0gdmVydGljYWw7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci5zaXplID09IHRoaXMuc2l6ZSAmJiBvdGhlci52ZXJ0aWNhbCA9PSB0aGlzLnZlcnRpY2FsOyB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IHRoaXMuc2l6ZSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsdC5zdHlsZS53aWR0aCA9IHRoaXMuc2l6ZSArIFwicHhcIjtcbiAgICAgICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSBcIjJweFwiO1xuICAgICAgICAgICAgZWx0LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIGdldCBlc3RpbWF0ZWRIZWlnaHQoKSB7IHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5zaXplIDogLTE7IH1cbn1cbmNsYXNzIFZpZXdTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAvLyBUaGVzZSBhcmUgY29udGVudERPTS1sb2NhbCBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLnBpeGVsVmlld3BvcnQgPSB7IGxlZnQ6IDAsIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCwgdG9wOiAwLCBib3R0b206IDAgfTtcbiAgICAgICAgdGhpcy5pblZpZXcgPSB0cnVlO1xuICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSAwOyAvLyBQYWRkaW5nIGFib3ZlIHRoZSBkb2N1bWVudCwgc2NhbGVkXG4gICAgICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IDA7IC8vIFBhZGRpbmcgYmVsb3cgdGhlIGRvY3VtZW50LCBzY2FsZWRcbiAgICAgICAgdGhpcy5jb250ZW50RE9NV2lkdGggPSAwOyAvLyBjb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG4gICAgICAgIHRoaXMuY29udGVudERPTUhlaWdodCA9IDA7IC8vIGNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XG4gICAgICAgIHRoaXMuZWRpdG9ySGVpZ2h0ID0gMDsgLy8gc2Nyb2xsRE9NLmNsaWVudEhlaWdodCwgdW5zY2FsZWRcbiAgICAgICAgdGhpcy5lZGl0b3JXaWR0aCA9IDA7IC8vIHNjcm9sbERPTS5jbGllbnRXaWR0aCwgdW5zY2FsZWRcbiAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSAwOyAvLyBMYXN0IHNlZW4gc2Nyb2xsRE9NLnNjcm9sbFRvcCwgc2NhbGVkXG4gICAgICAgIHRoaXMuc2Nyb2xsZWRUb0JvdHRvbSA9IGZhbHNlO1xuICAgICAgICAvLyBUaGUgQ1NTLXRyYW5zZm9ybWF0aW9uIHNjYWxlIG9mIHRoZSBlZGl0b3IgKHRyYW5zZm9ybWVkIHNpemUgL1xuICAgICAgICAvLyBjb25jcmV0ZSBzaXplKVxuICAgICAgICB0aGlzLnNjYWxlWCA9IDE7XG4gICAgICAgIHRoaXMuc2NhbGVZID0gMTtcbiAgICAgICAgLy8gVGhlIHZlcnRpY2FsIHBvc2l0aW9uIChkb2N1bWVudC1yZWxhdGl2ZSkgdG8gd2hpY2ggdG8gYW5jaG9yIHRoZVxuICAgICAgICAvLyBzY3JvbGwgcG9zaXRpb24uIC0xIG1lYW5zIGFuY2hvciB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JQb3MgPSAwO1xuICAgICAgICAvLyBUaGUgaGVpZ2h0IGF0IHRoZSBhbmNob3IgcG9zaXRpb24uIFNldCBieSB0aGUgRE9NIHVwZGF0ZSBwaGFzZS5cbiAgICAgICAgLy8gLTEgbWVhbnMgbm8gaGVpZ2h0IGF2YWlsYWJsZS5cbiAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgLy8gU2VlIFZQLk1heERPTUhlaWdodFxuICAgICAgICB0aGlzLnNjYWxlciA9IElkU2NhbGVyO1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIEJyaWVmbHkgc2V0IHRvIHRydWUgd2hlbiBwcmludGluZywgdG8gZGlzYWJsZSB2aWV3cG9ydCBsaW1pdGluZ1xuICAgICAgICB0aGlzLnByaW50aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIEZsYWcgc2V0IHdoZW4gZWRpdG9yIGNvbnRlbnQgd2FzIHJlZHJhd24sIHNvIHRoYXQgdGhlIG5leHRcbiAgICAgICAgLy8gbWVhc3VyZSBzdGFnZSBrbm93cyBpdCBtdXN0IHJlYWQgRE9NIGxheW91dFxuICAgICAgICB0aGlzLm11c3RNZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMgPSBbXTtcbiAgICAgICAgLy8gQ3Vyc29yICdhc3NvYycgaXMgb25seSBzaWduaWZpY2FudCB3aGVuIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lXG4gICAgICAgIC8vIHdyYXAgcG9pbnQsIHdoZXJlIGl0IG11c3Qgc3RpY2sgdG8gdGhlIGNoYXJhY3RlciB0aGF0IGl0IGlzXG4gICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aC4gU2luY2UgYnJvd3NlcnMgZG9uJ3QgcHJvdmlkZSBhIHJlYXNvbmFibGVcbiAgICAgICAgLy8gaW50ZXJmYWNlIHRvIHNldCBvciBxdWVyeSB0aGlzLCB3aGVuIGEgc2VsZWN0aW9uIGlzIHNldCB0aGF0XG4gICAgICAgIC8vIG1pZ2h0IGNhdXNlIHRoaXMgdG8gYmUgc2lnbmlmaWNhbnQsIHRoaXMgZmxhZyBpcyBzZXQuIFRoZSBuZXh0XG4gICAgICAgIC8vIG1lYXN1cmUgcGhhc2Ugd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lLXdyYXBwaW5nXG4gICAgICAgIC8vIGJvdW5kYXJ5IGFuZCwgaWYgc28sIHJlc2V0IGl0IHRvIG1ha2Ugc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGluXG4gICAgICAgIC8vIHRoZSByaWdodCBwbGFjZS5cbiAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gZmFsc2U7XG4gICAgICAgIGxldCBndWVzc1dyYXBwaW5nID0gc3RhdGUuZmFjZXQoY29udGVudEF0dHJpYnV0ZXMpLnNvbWUodiA9PiB0eXBlb2YgdiAhPSBcImZ1bmN0aW9uXCIgJiYgdi5jbGFzcyA9PSBcImNtLWxpbmVXcmFwcGluZ1wiKTtcbiAgICAgICAgdGhpcy5oZWlnaHRPcmFjbGUgPSBuZXcgSGVpZ2h0T3JhY2xlKGd1ZXNzV3JhcHBpbmcpO1xuICAgICAgICB0aGlzLnN0YXRlRGVjbyA9IHN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5maWx0ZXIoZCA9PiB0eXBlb2YgZCAhPSBcImZ1bmN0aW9uXCIpO1xuICAgICAgICB0aGlzLmhlaWdodE1hcCA9IEhlaWdodE1hcC5lbXB0eSgpLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgVGV4dC5lbXB0eSwgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHN0YXRlLmRvYyksIFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHN0YXRlLmRvYy5sZW5ndGgpXSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydCgwLCBudWxsKTtcbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRMaW5lcygpO1xuICAgICAgICB0aGlzLmxpbmVHYXBzID0gdGhpcy5lbnN1cmVMaW5lR2FwcyhbXSk7XG4gICAgICAgIHRoaXMubGluZUdhcERlY28gPSBEZWNvcmF0aW9uLnNldCh0aGlzLmxpbmVHYXBzLm1hcChnYXAgPT4gZ2FwLmRyYXcodGhpcywgZmFsc2UpKSk7XG4gICAgICAgIHRoaXMuY29tcHV0ZVZpc2libGVSYW5nZXMoKTtcbiAgICB9XG4gICAgdXBkYXRlRm9yVmlld3BvcnQoKSB7XG4gICAgICAgIGxldCB2aWV3cG9ydHMgPSBbdGhpcy52aWV3cG9ydF0sIHsgbWFpbiB9ID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDE7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGkgPyBtYWluLmhlYWQgOiBtYWluLmFuY2hvcjtcbiAgICAgICAgICAgIGlmICghdmlld3BvcnRzLnNvbWUoKHsgZnJvbSwgdG8gfSkgPT4gcG9zID49IGZyb20gJiYgcG9zIDw9IHRvKSkge1xuICAgICAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRzLnB1c2gobmV3IFZpZXdwb3J0KGZyb20sIHRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlU2NhbGVyKCk7XG4gICAgfVxuICAgIHVwZGF0ZVNjYWxlcigpIHtcbiAgICAgICAgbGV0IHNjYWxlciA9IHRoaXMuc2NhbGVyO1xuICAgICAgICB0aGlzLnNjYWxlciA9IHRoaXMuaGVpZ2h0TWFwLmhlaWdodCA8PSA3MDAwMDAwIC8qIFZQLk1heERPTUhlaWdodCAqLyA/IElkU2NhbGVyIDpcbiAgICAgICAgICAgIG5ldyBCaWdTY2FsZXIodGhpcy5oZWlnaHRPcmFjbGUsIHRoaXMuaGVpZ2h0TWFwLCB0aGlzLnZpZXdwb3J0cyk7XG4gICAgICAgIHJldHVybiBzY2FsZXIuZXEodGhpcy5zY2FsZXIpID8gMCA6IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgfVxuICAgIHVwZGF0ZVZpZXdwb3J0TGluZXMoKSB7XG4gICAgICAgIHRoaXMudmlld3BvcnRMaW5lcyA9IFtdO1xuICAgICAgICB0aGlzLmhlaWdodE1hcC5mb3JFYWNoTGluZSh0aGlzLnZpZXdwb3J0LmZyb20sIHRoaXMudmlld3BvcnQudG8sIHRoaXMuaGVpZ2h0T3JhY2xlLnNldERvYyh0aGlzLnN0YXRlLmRvYyksIDAsIDAsIGJsb2NrID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRMaW5lcy5wdXNoKHNjYWxlQmxvY2soYmxvY2ssIHRoaXMuc2NhbGVyKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlLCBzY3JvbGxUYXJnZXQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB1cGRhdGUuc3RhdGU7XG4gICAgICAgIGxldCBwcmV2RGVjbyA9IHRoaXMuc3RhdGVEZWNvO1xuICAgICAgICB0aGlzLnN0YXRlRGVjbyA9IHRoaXMuc3RhdGUuZmFjZXQoZGVjb3JhdGlvbnMpLmZpbHRlcihkID0+IHR5cGVvZiBkICE9IFwiZnVuY3Rpb25cIik7XG4gICAgICAgIGxldCBjb250ZW50Q2hhbmdlcyA9IHVwZGF0ZS5jaGFuZ2VkUmFuZ2VzO1xuICAgICAgICBsZXQgaGVpZ2h0Q2hhbmdlcyA9IENoYW5nZWRSYW5nZS5leHRlbmRXaXRoUmFuZ2VzKGNvbnRlbnRDaGFuZ2VzLCBoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzKHByZXZEZWNvLCB0aGlzLnN0YXRlRGVjbywgdXBkYXRlID8gdXBkYXRlLmNoYW5nZXMgOiBDaGFuZ2VTZXQuZW1wdHkodGhpcy5zdGF0ZS5kb2MubGVuZ3RoKSkpO1xuICAgICAgICBsZXQgcHJldkhlaWdodCA9IHRoaXMuaGVpZ2h0TWFwLmhlaWdodDtcbiAgICAgICAgbGV0IHNjcm9sbEFuY2hvciA9IHRoaXMuc2Nyb2xsZWRUb0JvdHRvbSA/IG51bGwgOiB0aGlzLnNjcm9sbEFuY2hvckF0KHRoaXMuc2Nyb2xsVG9wKTtcbiAgICAgICAgY2xlYXJIZWlnaHRDaGFuZ2VGbGFnKCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwID0gdGhpcy5oZWlnaHRNYXAuYXBwbHlDaGFuZ2VzKHRoaXMuc3RhdGVEZWNvLCB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MsIHRoaXMuaGVpZ2h0T3JhY2xlLnNldERvYyh0aGlzLnN0YXRlLmRvYyksIGhlaWdodENoYW5nZXMpO1xuICAgICAgICBpZiAodGhpcy5oZWlnaHRNYXAuaGVpZ2h0ICE9IHByZXZIZWlnaHQgfHwgaGVpZ2h0Q2hhbmdlRmxhZylcbiAgICAgICAgICAgIHVwZGF0ZS5mbGFncyB8PSAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICBpZiAoc2Nyb2xsQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvclBvcyA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyhzY3JvbGxBbmNob3IuZnJvbSwgLTEpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JIZWlnaHQgPSBzY3JvbGxBbmNob3IudG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JQb3MgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gdGhpcy5oZWlnaHRNYXAuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3cG9ydCA9IGhlaWdodENoYW5nZXMubGVuZ3RoID8gdGhpcy5tYXBWaWV3cG9ydCh0aGlzLnZpZXdwb3J0LCB1cGRhdGUuY2hhbmdlcykgOiB0aGlzLnZpZXdwb3J0O1xuICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0ICYmIChzY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA8IHZpZXdwb3J0LmZyb20gfHwgc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPiB2aWV3cG9ydC50bykgfHxcbiAgICAgICAgICAgICF0aGlzLnZpZXdwb3J0SXNBcHByb3ByaWF0ZSh2aWV3cG9ydCkpXG4gICAgICAgICAgICB2aWV3cG9ydCA9IHRoaXMuZ2V0Vmlld3BvcnQoMCwgc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgbGV0IHZpZXdwb3J0Q2hhbmdlID0gdmlld3BvcnQuZnJvbSAhPSB0aGlzLnZpZXdwb3J0LmZyb20gfHwgdmlld3BvcnQudG8gIT0gdGhpcy52aWV3cG9ydC50bztcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICBpZiAodmlld3BvcnRDaGFuZ2UgfHwgIXVwZGF0ZS5jaGFuZ2VzLmVtcHR5IHx8ICh1cGRhdGUuZmxhZ3MgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRMaW5lcygpO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGggfHwgdGhpcy52aWV3cG9ydC50byAtIHRoaXMudmlld3BvcnQuZnJvbSA+ICgyMDAwIC8qIExHLk1hcmdpbiAqLyA8PCAxKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGluZUdhcHModGhpcy5lbnN1cmVMaW5lR2Fwcyh0aGlzLm1hcExpbmVHYXBzKHRoaXMubGluZUdhcHMsIHVwZGF0ZS5jaGFuZ2VzKSkpO1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcygpO1xuICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQgPSBzY3JvbGxUYXJnZXQ7XG4gICAgICAgIGlmICghdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jICYmIHVwZGF0ZS5zZWxlY3Rpb25TZXQgJiYgdXBkYXRlLnZpZXcubGluZVdyYXBwaW5nICYmXG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuc2VsZWN0aW9uLm1haW4uZW1wdHkgJiYgdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmFzc29jICYmXG4gICAgICAgICAgICAhdXBkYXRlLnN0YXRlLmZhY2V0KG5hdGl2ZVNlbGVjdGlvbkhpZGRlbikpXG4gICAgICAgICAgICB0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgPSB0cnVlO1xuICAgIH1cbiAgICBtZWFzdXJlKHZpZXcpIHtcbiAgICAgICAgbGV0IGRvbSA9IHZpZXcuY29udGVudERPTSwgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb20pO1xuICAgICAgICBsZXQgb3JhY2xlID0gdGhpcy5oZWlnaHRPcmFjbGU7XG4gICAgICAgIGxldCB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0VGV4dERpcmVjdGlvbiA9IHN0eWxlLmRpcmVjdGlvbiA9PSBcInJ0bFwiID8gRGlyZWN0aW9uLlJUTCA6IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIGxldCByZWZyZXNoID0gdGhpcy5oZWlnaHRPcmFjbGUubXVzdFJlZnJlc2hGb3JXcmFwcGluZyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgbGV0IGRvbVJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBtZWFzdXJlQ29udGVudCA9IHJlZnJlc2ggfHwgdGhpcy5tdXN0TWVhc3VyZUNvbnRlbnQgfHwgdGhpcy5jb250ZW50RE9NSGVpZ2h0ICE9IGRvbVJlY3QuaGVpZ2h0O1xuICAgICAgICB0aGlzLmNvbnRlbnRET01IZWlnaHQgPSBkb21SZWN0LmhlaWdodDtcbiAgICAgICAgdGhpcy5tdXN0TWVhc3VyZUNvbnRlbnQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDAsIGJpYXMgPSAwO1xuICAgICAgICBpZiAoZG9tUmVjdC53aWR0aCAmJiBkb21SZWN0LmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IHsgc2NhbGVYLCBzY2FsZVkgfSA9IGdldFNjYWxlKGRvbSwgZG9tUmVjdCk7XG4gICAgICAgICAgICBpZiAoc2NhbGVYID4gLjAwNSAmJiBNYXRoLmFicyh0aGlzLnNjYWxlWCAtIHNjYWxlWCkgPiAuMDA1IHx8XG4gICAgICAgICAgICAgICAgc2NhbGVZID4gLjAwNSAmJiBNYXRoLmFicyh0aGlzLnNjYWxlWSAtIHNjYWxlWSkgPiAuMDA1KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZVkgPSBzY2FsZVk7XG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgICAgICAgICByZWZyZXNoID0gbWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFZlcnRpY2FsIHBhZGRpbmdcbiAgICAgICAgbGV0IHBhZGRpbmdUb3AgPSAocGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCkgfHwgMCkgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgbGV0IHBhZGRpbmdCb3R0b20gPSAocGFyc2VJbnQoc3R5bGUucGFkZGluZ0JvdHRvbSkgfHwgMCkgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgaWYgKHRoaXMucGFkZGluZ1RvcCAhPSBwYWRkaW5nVG9wIHx8IHRoaXMucGFkZGluZ0JvdHRvbSAhPSBwYWRkaW5nQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbTtcbiAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi8gfCAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVkaXRvcldpZHRoICE9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgICAgICBtZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVkaXRvcldpZHRoID0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGg7XG4gICAgICAgICAgICByZXN1bHQgfD0gOCAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzY3JvbGxUb3AgPSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wICE9IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Nyb2xsZWRUb0JvdHRvbSA9IGlzU2Nyb2xsZWRUb0JvdHRvbSh2aWV3LnNjcm9sbERPTSk7XG4gICAgICAgIC8vIFBpeGVsIHZpZXdwb3J0XG4gICAgICAgIGxldCBwaXhlbFZpZXdwb3J0ID0gKHRoaXMucHJpbnRpbmcgPyBmdWxsUGl4ZWxSYW5nZSA6IHZpc2libGVQaXhlbFJhbmdlKShkb20sIHRoaXMucGFkZGluZ1RvcCk7XG4gICAgICAgIGxldCBkVG9wID0gcGl4ZWxWaWV3cG9ydC50b3AgLSB0aGlzLnBpeGVsVmlld3BvcnQudG9wLCBkQm90dG9tID0gcGl4ZWxWaWV3cG9ydC5ib3R0b20gLSB0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tO1xuICAgICAgICB0aGlzLnBpeGVsVmlld3BvcnQgPSBwaXhlbFZpZXdwb3J0O1xuICAgICAgICBsZXQgaW5WaWV3ID0gdGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbSA+IHRoaXMucGl4ZWxWaWV3cG9ydC50b3AgJiYgdGhpcy5waXhlbFZpZXdwb3J0LnJpZ2h0ID4gdGhpcy5waXhlbFZpZXdwb3J0LmxlZnQ7XG4gICAgICAgIGlmIChpblZpZXcgIT0gdGhpcy5pblZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuaW5WaWV3ID0gaW5WaWV3O1xuICAgICAgICAgICAgaWYgKGluVmlldylcbiAgICAgICAgICAgICAgICBtZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluVmlldyAmJiAhdGhpcy5zY3JvbGxUYXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IGNvbnRlbnRXaWR0aCA9IGRvbVJlY3Qud2lkdGg7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET01XaWR0aCAhPSBjb250ZW50V2lkdGggfHwgdGhpcy5lZGl0b3JIZWlnaHQgIT0gdmlldy5zY3JvbGxET00uY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRET01XaWR0aCA9IGRvbVJlY3Qud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmVkaXRvckhlaWdodCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lYXN1cmVDb250ZW50KSB7XG4gICAgICAgICAgICBsZXQgbGluZUhlaWdodHMgPSB2aWV3LmRvY1ZpZXcubWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh0aGlzLnZpZXdwb3J0KTtcbiAgICAgICAgICAgIGlmIChvcmFjbGUubXVzdFJlZnJlc2hGb3JIZWlnaHRzKGxpbmVIZWlnaHRzKSlcbiAgICAgICAgICAgICAgICByZWZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChyZWZyZXNoIHx8IG9yYWNsZS5saW5lV3JhcHBpbmcgJiYgTWF0aC5hYnMoY29udGVudFdpZHRoIC0gdGhpcy5jb250ZW50RE9NV2lkdGgpID4gb3JhY2xlLmNoYXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIGxldCB7IGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodCB9ID0gdmlldy5kb2NWaWV3Lm1lYXN1cmVUZXh0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSBsaW5lSGVpZ2h0ID4gMCAmJiBvcmFjbGUucmVmcmVzaCh3aGl0ZVNwYWNlLCBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQsIGNvbnRlbnRXaWR0aCAvIGNoYXJXaWR0aCwgbGluZUhlaWdodHMpO1xuICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZG9jVmlldy5taW5XaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRUb3AgPiAwICYmIGRCb3R0b20gPiAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1heChkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRUb3AgPCAwICYmIGRCb3R0b20gPCAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1pbihkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIGNsZWFySGVpZ2h0Q2hhbmdlRmxhZygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdnAgb2YgdGhpcy52aWV3cG9ydHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0cyA9IHZwLmZyb20gPT0gdGhpcy52aWV3cG9ydC5mcm9tID8gbGluZUhlaWdodHMgOiB2aWV3LmRvY1ZpZXcubWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh2cCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRNYXAgPSAocmVmcmVzaCA/IEhlaWdodE1hcC5lbXB0eSgpLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgVGV4dC5lbXB0eSwgdGhpcy5oZWlnaHRPcmFjbGUsIFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHZpZXcuc3RhdGUuZG9jLmxlbmd0aCldKSA6IHRoaXMuaGVpZ2h0TWFwKS51cGRhdGVIZWlnaHQob3JhY2xlLCAwLCByZWZyZXNoLCBuZXcgTWVhc3VyZWRIZWlnaHRzKHZwLmZyb20sIGhlaWdodHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoZWlnaHRDaGFuZ2VGbGFnKVxuICAgICAgICAgICAgICAgIHJlc3VsdCB8PSAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3cG9ydENoYW5nZSA9ICF0aGlzLnZpZXdwb3J0SXNBcHByb3ByaWF0ZSh0aGlzLnZpZXdwb3J0LCBiaWFzKSB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQgJiYgKHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPCB0aGlzLnZpZXdwb3J0LmZyb20gfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5yYW5nZS5oZWFkID4gdGhpcy52aWV3cG9ydC50byk7XG4gICAgICAgIGlmICh2aWV3cG9ydENoYW5nZSkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAmIDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pXG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IHRoaXMudXBkYXRlU2NhbGVyKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydChiaWFzLCB0aGlzLnNjcm9sbFRhcmdldCk7XG4gICAgICAgICAgICByZXN1bHQgfD0gdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocmVzdWx0ICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgfHwgdmlld3BvcnRDaGFuZ2UpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoIHx8IHRoaXMudmlld3BvcnQudG8gLSB0aGlzLnZpZXdwb3J0LmZyb20gPiAoMjAwMCAvKiBMRy5NYXJnaW4gKi8gPDwgMSkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmVHYXBzKHRoaXMuZW5zdXJlTGluZUdhcHMocmVmcmVzaCA/IFtdIDogdGhpcy5saW5lR2FwcywgdmlldykpO1xuICAgICAgICByZXN1bHQgfD0gdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcygpO1xuICAgICAgICBpZiAodGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jKSB7XG4gICAgICAgICAgICB0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgZG9uZSBpbiB0aGUgcmVhZCBzdGFnZSwgYmVjYXVzZSBtb3ZpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgLy8gdG8gYSBsaW5lIGVuZCBpcyBnb2luZyB0byB0cmlnZ2VyIGEgbGF5b3V0IGFueXdheSwgc28gaXRcbiAgICAgICAgICAgIC8vIGNhbid0IGJlIGEgcHVyZSB3cml0ZS4gSXQgc2hvdWxkIGJlIHJhcmUgdGhhdCBpdCBkb2VzIGFueVxuICAgICAgICAgICAgLy8gd3JpdGluZy5cbiAgICAgICAgICAgIHZpZXcuZG9jVmlldy5lbmZvcmNlQ3Vyc29yQXNzb2MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXQgdmlzaWJsZVRvcCgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LnRvcCk7IH1cbiAgICBnZXQgdmlzaWJsZUJvdHRvbSgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbSk7IH1cbiAgICBnZXRWaWV3cG9ydChiaWFzLCBzY3JvbGxUYXJnZXQpIHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGRpdmlkZSBWUC5NYXJnaW4gYmV0d2VlbiB0aGUgdG9wIGFuZCB0aGVcbiAgICAgICAgLy8gYm90dG9tLCBkZXBlbmRpbmcgb24gdGhlIGJpYXMgKHRoZSBjaGFuZ2UgaW4gdmlld3BvcnQgcG9zaXRpb25cbiAgICAgICAgLy8gc2luY2UgdGhlIGxhc3QgdXBkYXRlKS4gSXQnbGwgaG9sZCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgICAgbGV0IG1hcmdpblRvcCA9IDAuNSAtIE1hdGgubWF4KC0wLjUsIE1hdGgubWluKDAuNSwgYmlhcyAvIDEwMDAgLyogVlAuTWFyZ2luICovIC8gMikpO1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5oZWlnaHRNYXAsIG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgeyB2aXNpYmxlVG9wLCB2aXNpYmxlQm90dG9tIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh2aXNpYmxlVG9wIC0gbWFyZ2luVG9wICogMTAwMCAvKiBWUC5NYXJnaW4gKi8sIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHZpc2libGVCb3R0b20gKyAoMSAtIG1hcmdpblRvcCkgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLywgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLnRvKTtcbiAgICAgICAgLy8gSWYgc2Nyb2xsVGFyZ2V0IGlzIGdpdmVuLCBtYWtlIHN1cmUgdGhlIHZpZXdwb3J0IGluY2x1ZGVzIHRoYXQgcG9zaXRpb25cbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldCkge1xuICAgICAgICAgICAgbGV0IHsgaGVhZCB9ID0gc2Nyb2xsVGFyZ2V0LnJhbmdlO1xuICAgICAgICAgICAgaWYgKGhlYWQgPCB2aWV3cG9ydC5mcm9tIHx8IGhlYWQgPiB2aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgIGxldCB2aWV3SGVpZ2h0ID0gTWF0aC5taW4odGhpcy5lZGl0b3JIZWlnaHQsIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b20gLSB0aGlzLnBpeGVsVmlld3BvcnQudG9wKTtcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSBtYXAubGluZUF0KGhlYWQsIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKSwgdG9wUG9zO1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcImNlbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSAoYmxvY2sudG9wICsgYmxvY2suYm90dG9tKSAvIDIgLSB2aWV3SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcInN0YXJ0XCIgfHwgc2Nyb2xsVGFyZ2V0LnkgPT0gXCJuZWFyZXN0XCIgJiYgaGVhZCA8IHZpZXdwb3J0LmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLmJvdHRvbSAtIHZpZXdIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh0b3BQb3MgLSAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHRvcFBvcyArIHZpZXdIZWlnaHQgKyAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS50byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0O1xuICAgIH1cbiAgICBtYXBWaWV3cG9ydCh2aWV3cG9ydCwgY2hhbmdlcykge1xuICAgICAgICBsZXQgZnJvbSA9IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG8gPSBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC50bywgMSk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnQodGhpcy5oZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLmZyb20sIHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCkudG8pO1xuICAgIH1cbiAgICAvLyBDaGVja3MgaWYgYSBnaXZlbiB2aWV3cG9ydCBjb3ZlcnMgdGhlIHZpc2libGUgcGFydCBvZiB0aGVcbiAgICAvLyBkb2N1bWVudCBhbmQgbm90IHRvbyBtdWNoIGJleW9uZCB0aGF0LlxuICAgIHZpZXdwb3J0SXNBcHByb3ByaWF0ZSh7IGZyb20sIHRvIH0sIGJpYXMgPSAwKSB7XG4gICAgICAgIGlmICghdGhpcy5pblZpZXcpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHsgdG9wIH0gPSB0aGlzLmhlaWdodE1hcC5saW5lQXQoZnJvbSwgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCk7XG4gICAgICAgIGxldCB7IGJvdHRvbSB9ID0gdGhpcy5oZWlnaHRNYXAubGluZUF0KHRvLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKTtcbiAgICAgICAgbGV0IHsgdmlzaWJsZVRvcCwgdmlzaWJsZUJvdHRvbSB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChmcm9tID09IDAgfHwgdG9wIDw9IHZpc2libGVUb3AgLSBNYXRoLm1heCgxMCAvKiBWUC5NaW5Db3Zlck1hcmdpbiAqLywgTWF0aC5taW4oLWJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvID09IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIGJvdHRvbSA+PSB2aXNpYmxlQm90dG9tICsgTWF0aC5tYXgoMTAgLyogVlAuTWluQ292ZXJNYXJnaW4gKi8sIE1hdGgubWluKGJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvcCA+IHZpc2libGVUb3AgLSAyICogMTAwMCAvKiBWUC5NYXJnaW4gKi8gJiYgYm90dG9tIDwgdmlzaWJsZUJvdHRvbSArIDIgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLyk7XG4gICAgfVxuICAgIG1hcExpbmVHYXBzKGdhcHMsIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCFnYXBzLmxlbmd0aCB8fCBjaGFuZ2VzLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIGdhcHM7XG4gICAgICAgIGxldCBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICBpZiAoIWNoYW5nZXMudG91Y2hlc1JhbmdlKGdhcC5mcm9tLCBnYXAudG8pKVxuICAgICAgICAgICAgICAgIG1hcHBlZC5wdXNoKG5ldyBMaW5lR2FwKGNoYW5nZXMubWFwUG9zKGdhcC5mcm9tKSwgY2hhbmdlcy5tYXBQb3MoZ2FwLnRvKSwgZ2FwLnNpemUpKTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgLy8gQ29tcHV0ZXMgcG9zaXRpb25zIGluIHRoZSB2aWV3cG9ydCB3aGVyZSB0aGUgc3RhcnQgb3IgZW5kIG9mIGFcbiAgICAvLyBsaW5lIHNob3VsZCBiZSBoaWRkZW4sIHRyeWluZyB0byByZXVzZSBleGlzdGluZyBsaW5lIGdhcHMgd2hlblxuICAgIC8vIGFwcHJvcHJpYXRlIHRvIGF2b2lkIHVubmVjY2VzYXJ5IHJlZHJhd3MuXG4gICAgLy8gVXNlcyBjcnVkZSBjaGFyYWN0ZXItY291bnRpbmcgZm9yIHRoZSBwb3NpdGlvbmluZyBhbmQgc2l6aW5nLFxuICAgIC8vIHNpbmNlIGFjdHVhbCBET00gY29vcmRpbmF0ZXMgYXJlbid0IGFsd2F5cyBhdmFpbGFibGUgYW5kXG4gICAgLy8gcHJlZGljdGFibGUuIFJlbGllcyBvbiBnZW5lcm91cyBtYXJnaW5zIChzZWUgTEcuTWFyZ2luKSB0byBoaWRlXG4gICAgLy8gdGhlIGFydGlmYWN0cyB0aGlzIG1pZ2h0IHByb2R1Y2UgZnJvbSB0aGUgdXNlci5cbiAgICBlbnN1cmVMaW5lR2FwcyhjdXJyZW50LCBtYXlNZWFzdXJlKSB7XG4gICAgICAgIGxldCB3cmFwcGluZyA9IHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVXcmFwcGluZztcbiAgICAgICAgbGV0IG1hcmdpbiA9IHdyYXBwaW5nID8gMTAwMDAgLyogTEcuTWFyZ2luV3JhcCAqLyA6IDIwMDAgLyogTEcuTWFyZ2luICovLCBoYWxmTWFyZ2luID0gbWFyZ2luID4+IDEsIGRvdWJsZU1hcmdpbiA9IG1hcmdpbiA8PCAxO1xuICAgICAgICAvLyBUaGUgbm9uLXdyYXBwaW5nIGxvZ2ljIHdvbid0IHdvcmsgYXQgYWxsIGluIHByZWRvbWluYW50bHkgcmlnaHQtdG8tbGVmdCB0ZXh0LlxuICAgICAgICBpZiAodGhpcy5kZWZhdWx0VGV4dERpcmVjdGlvbiAhPSBEaXJlY3Rpb24uTFRSICYmICF3cmFwcGluZylcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgbGV0IGdhcHMgPSBbXTtcbiAgICAgICAgbGV0IGFkZEdhcCA9IChmcm9tLCB0bywgbGluZSwgc3RydWN0dXJlKSA9PiB7XG4gICAgICAgICAgICBpZiAodG8gLSBmcm9tIDwgaGFsZk1hcmdpbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgc2VsID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb24ubWFpbiwgYXZvaWQgPSBbc2VsLmZyb21dO1xuICAgICAgICAgICAgaWYgKCFzZWwuZW1wdHkpXG4gICAgICAgICAgICAgICAgYXZvaWQucHVzaChzZWwudG8pO1xuICAgICAgICAgICAgZm9yIChsZXQgcG9zIG9mIGF2b2lkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgcG9zIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkR2FwKGZyb20sIHBvcyAtIDEwIC8qIExHLlNlbGVjdGlvbk1hcmdpbiAqLywgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkR2FwKHBvcyArIDEwIC8qIExHLlNlbGVjdGlvbk1hcmdpbiAqLywgdG8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZ2FwID0gZmluZChjdXJyZW50LCBnYXAgPT4gZ2FwLmZyb20gPj0gbGluZS5mcm9tICYmIGdhcC50byA8PSBsaW5lLnRvICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoZ2FwLmZyb20gLSBmcm9tKSA8IGhhbGZNYXJnaW4gJiYgTWF0aC5hYnMoZ2FwLnRvIC0gdG8pIDwgaGFsZk1hcmdpbiAmJlxuICAgICAgICAgICAgICAgICFhdm9pZC5zb21lKHBvcyA9PiBnYXAuZnJvbSA8IHBvcyAmJiBnYXAudG8gPiBwb3MpKTtcbiAgICAgICAgICAgIGlmICghZ2FwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBzY3JvbGxpbmcgZG93biwgc25hcCBnYXAgZW5kcyB0byBsaW5lIHN0YXJ0cyB0byBhdm9pZCBzaGlmdHMgaW4gd3JhcHBpbmdcbiAgICAgICAgICAgICAgICBpZiAodG8gPCBsaW5lLnRvICYmIG1heU1lYXN1cmUgJiYgd3JhcHBpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbWF5TWVhc3VyZS52aXNpYmxlUmFuZ2VzLnNvbWUociA9PiByLmZyb20gPD0gdG8gJiYgci50byA+PSB0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmVTdGFydCA9IG1heU1lYXN1cmUubW92ZVRvTGluZUJvdW5kYXJ5KEVkaXRvclNlbGVjdGlvbi5jdXJzb3IodG8pLCBmYWxzZSwgdHJ1ZSkuaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVTdGFydCA+IGZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICB0byA9IGxpbmVTdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FwID0gbmV3IExpbmVHYXAoZnJvbSwgdG8sIHRoaXMuZ2FwU2l6ZShsaW5lLCBmcm9tLCB0bywgc3RydWN0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBzLnB1c2goZ2FwKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNoZWNrTGluZSA9IChsaW5lKSA9PiB7XG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPCBkb3VibGVNYXJnaW4gfHwgbGluZS50eXBlICE9IEJsb2NrVHlwZS5UZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmUgPSBsaW5lU3RydWN0dXJlKGxpbmUuZnJvbSwgbGluZS50bywgdGhpcy5zdGF0ZURlY28pO1xuICAgICAgICAgICAgaWYgKHN0cnVjdHVyZS50b3RhbCA8IGRvdWJsZU1hcmdpbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zY3JvbGxUYXJnZXQgPyB0aGlzLnNjcm9sbFRhcmdldC5yYW5nZS5oZWFkIDogbnVsbDtcbiAgICAgICAgICAgIGxldCB2aWV3RnJvbSwgdmlld1RvO1xuICAgICAgICAgICAgaWYgKHdyYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbkhlaWdodCA9IChtYXJnaW4gLyB0aGlzLmhlaWdodE9yYWNsZS5saW5lTGVuZ3RoKSAqIHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IHRvcCwgYm90O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RnJhYyA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGFjZUZyYWMgPSAoKHRoaXMudmlzaWJsZUJvdHRvbSAtIHRoaXMudmlzaWJsZVRvcCkgLyAyICsgbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSB0YXJnZXRGcmFjIC0gc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgICAgICBib3QgPSB0YXJnZXRGcmFjICsgc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gKHRoaXMudmlzaWJsZVRvcCAtIGxpbmUudG9wIC0gbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBib3QgPSAodGhpcy52aXNpYmxlQm90dG9tIC0gbGluZS50b3AgKyBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXdGcm9tID0gZmluZFBvc2l0aW9uKHN0cnVjdHVyZSwgdG9wKTtcbiAgICAgICAgICAgICAgICB2aWV3VG8gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCBib3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsV2lkdGggPSBzdHJ1Y3R1cmUudG90YWwgKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbldpZHRoID0gbWFyZ2luICogdGhpcy5oZWlnaHRPcmFjbGUuY2hhcldpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBsZWZ0LCByaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldEZyYWMgPSBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BhY2VGcmFjID0gKCh0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgLSB0aGlzLnBpeGVsVmlld3BvcnQubGVmdCkgLyAyICsgbWFyZ2luV2lkdGgpIC8gdG90YWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHRhcmdldEZyYWMgLSBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gdGFyZ2V0RnJhYyArIHNwYWNlRnJhYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSAodGhpcy5waXhlbFZpZXdwb3J0LmxlZnQgLSBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9ICh0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgKyBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3RnJvbSA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHZpZXdUbyA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIHJpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWV3RnJvbSA+IGxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICBhZGRHYXAobGluZS5mcm9tLCB2aWV3RnJvbSwgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgIGlmICh2aWV3VG8gPCBsaW5lLnRvKVxuICAgICAgICAgICAgICAgIGFkZEdhcCh2aWV3VG8sIGxpbmUudG8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy52aWV3cG9ydExpbmVzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5lLnR5cGUpKVxuICAgICAgICAgICAgICAgIGxpbmUudHlwZS5mb3JFYWNoKGNoZWNrTGluZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2hlY2tMaW5lKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYXBzO1xuICAgIH1cbiAgICBnYXBTaXplKGxpbmUsIGZyb20sIHRvLCBzdHJ1Y3R1cmUpIHtcbiAgICAgICAgbGV0IGZyYWN0aW9uID0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgdG8pIC0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgZnJvbSk7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lLmhlaWdodCAqIGZyYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdHVyZS50b3RhbCAqIHRoaXMuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aCAqIGZyYWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUxpbmVHYXBzKGdhcHMpIHtcbiAgICAgICAgaWYgKCFMaW5lR2FwLnNhbWUoZ2FwcywgdGhpcy5saW5lR2FwcykpIHtcbiAgICAgICAgICAgIHRoaXMubGluZUdhcHMgPSBnYXBzO1xuICAgICAgICAgICAgdGhpcy5saW5lR2FwRGVjbyA9IERlY29yYXRpb24uc2V0KGdhcHMubWFwKGdhcCA9PiBnYXAuZHJhdyh0aGlzLCB0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmcpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZVZpc2libGVSYW5nZXMoKSB7XG4gICAgICAgIGxldCBkZWNvID0gdGhpcy5zdGF0ZURlY287XG4gICAgICAgIGlmICh0aGlzLmxpbmVHYXBzLmxlbmd0aClcbiAgICAgICAgICAgIGRlY28gPSBkZWNvLmNvbmNhdCh0aGlzLmxpbmVHYXBEZWNvKTtcbiAgICAgICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgICAgICBSYW5nZVNldC5zcGFucyhkZWNvLCB0aGlzLnZpZXdwb3J0LmZyb20sIHRoaXMudmlld3BvcnQudG8sIHtcbiAgICAgICAgICAgIHNwYW4oZnJvbSwgdG8pIHsgcmFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTsgfSxcbiAgICAgICAgICAgIHBvaW50KCkgeyB9XG4gICAgICAgIH0sIDIwKTtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSByYW5nZXMubGVuZ3RoICE9IHRoaXMudmlzaWJsZVJhbmdlcy5sZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVJhbmdlcy5zb21lKChyLCBpKSA9PiByLmZyb20gIT0gcmFuZ2VzW2ldLmZyb20gfHwgci50byAhPSByYW5nZXNbaV0udG8pO1xuICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkID8gNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovIDogMDtcbiAgICB9XG4gICAgbGluZUJsb2NrQXQocG9zKSB7XG4gICAgICAgIHJldHVybiAocG9zID49IHRoaXMudmlld3BvcnQuZnJvbSAmJiBwb3MgPD0gdGhpcy52aWV3cG9ydC50byAmJlxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydExpbmVzLmZpbmQoYiA9PiBiLmZyb20gPD0gcG9zICYmIGIudG8gPj0gcG9zKSkgfHxcbiAgICAgICAgICAgIHNjYWxlQmxvY2sodGhpcy5oZWlnaHRNYXAubGluZUF0KHBvcywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgbGluZUJsb2NrQXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiAoaGVpZ2h0ID49IHRoaXMudmlld3BvcnRMaW5lc1swXS50b3AgJiYgaGVpZ2h0IDw9IHRoaXMudmlld3BvcnRMaW5lc1t0aGlzLnZpZXdwb3J0TGluZXMubGVuZ3RoIC0gMV0uYm90dG9tICYmXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMuZmluZChsID0+IGwudG9wIDw9IGhlaWdodCAmJiBsLmJvdHRvbSA+PSBoZWlnaHQpKSB8fFxuICAgICAgICAgICAgc2NhbGVCbG9jayh0aGlzLmhlaWdodE1hcC5saW5lQXQodGhpcy5zY2FsZXIuZnJvbURPTShoZWlnaHQpLCBRdWVyeVR5cGUuQnlIZWlnaHQsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKSwgdGhpcy5zY2FsZXIpO1xuICAgIH1cbiAgICBzY3JvbGxBbmNob3JBdChzY3JvbGxUb3ApIHtcbiAgICAgICAgbGV0IGJsb2NrID0gdGhpcy5saW5lQmxvY2tBdEhlaWdodChzY3JvbGxUb3AgKyA4KTtcbiAgICAgICAgcmV0dXJuIGJsb2NrLmZyb20gPj0gdGhpcy52aWV3cG9ydC5mcm9tIHx8IHRoaXMudmlld3BvcnRMaW5lc1swXS50b3AgLSBzY3JvbGxUb3AgPiAyMDAgPyBibG9jayA6IHRoaXMudmlld3BvcnRMaW5lc1swXTtcbiAgICB9XG4gICAgZWxlbWVudEF0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICByZXR1cm4gc2NhbGVCbG9jayh0aGlzLmhlaWdodE1hcC5ibG9ja0F0KHRoaXMuc2NhbGVyLmZyb21ET00oaGVpZ2h0KSwgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLCB0aGlzLnNjYWxlcik7XG4gICAgfVxuICAgIGdldCBkb2NIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlci50b0RPTSh0aGlzLmhlaWdodE1hcC5oZWlnaHQpO1xuICAgIH1cbiAgICBnZXQgY29udGVudEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jSGVpZ2h0ICsgdGhpcy5wYWRkaW5nVG9wICsgdGhpcy5wYWRkaW5nQm90dG9tO1xuICAgIH1cbn1cbmNsYXNzIFZpZXdwb3J0IHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxufVxuZnVuY3Rpb24gbGluZVN0cnVjdHVyZShmcm9tLCB0bywgc3RhdGVEZWNvKSB7XG4gICAgbGV0IHJhbmdlcyA9IFtdLCBwb3MgPSBmcm9tLCB0b3RhbCA9IDA7XG4gICAgUmFuZ2VTZXQuc3BhbnMoc3RhdGVEZWNvLCBmcm9tLCB0bywge1xuICAgICAgICBzcGFuKCkgeyB9LFxuICAgICAgICBwb2ludChmcm9tLCB0bykge1xuICAgICAgICAgICAgaWYgKGZyb20gPiBwb3MpIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IHBvcywgdG86IGZyb20gfSk7XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gZnJvbSAtIHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IHRvO1xuICAgICAgICB9XG4gICAgfSwgMjApOyAvLyBXZSdyZSBvbmx5IGludGVyZXN0ZWQgaW4gY29sbGFwc2VkIHJhbmdlcyBvZiBhIHNpZ25pZmljYW50IHNpemVcbiAgICBpZiAocG9zIDwgdG8pIHtcbiAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBwb3MsIHRvIH0pO1xuICAgICAgICB0b3RhbCArPSB0byAtIHBvcztcbiAgICB9XG4gICAgcmV0dXJuIHsgdG90YWwsIHJhbmdlcyB9O1xufVxuZnVuY3Rpb24gZmluZFBvc2l0aW9uKHsgdG90YWwsIHJhbmdlcyB9LCByYXRpbykge1xuICAgIGlmIChyYXRpbyA8PSAwKVxuICAgICAgICByZXR1cm4gcmFuZ2VzWzBdLmZyb207XG4gICAgaWYgKHJhdGlvID49IDEpXG4gICAgICAgIHJldHVybiByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvO1xuICAgIGxldCBkaXN0ID0gTWF0aC5mbG9vcih0b3RhbCAqIHJhdGlvKTtcbiAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gcmFuZ2VzW2ldLCBzaXplID0gdG8gLSBmcm9tO1xuICAgICAgICBpZiAoZGlzdCA8PSBzaXplKVxuICAgICAgICAgICAgcmV0dXJuIGZyb20gKyBkaXN0O1xuICAgICAgICBkaXN0IC09IHNpemU7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgcG9zKSB7XG4gICAgbGV0IGNvdW50ZWQgPSAwO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiBzdHJ1Y3R1cmUucmFuZ2VzKSB7XG4gICAgICAgIGlmIChwb3MgPD0gdG8pIHtcbiAgICAgICAgICAgIGNvdW50ZWQgKz0gcG9zIC0gZnJvbTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50ZWQgKz0gdG8gLSBmcm9tO1xuICAgIH1cbiAgICByZXR1cm4gY291bnRlZCAvIHN0cnVjdHVyZS50b3RhbDtcbn1cbmZ1bmN0aW9uIGZpbmQoYXJyYXksIGYpIHtcbiAgICBmb3IgKGxldCB2YWwgb2YgYXJyYXkpXG4gICAgICAgIGlmIChmKHZhbCkpXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vLyBEb24ndCBzY2FsZSB3aGVuIHRoZSBkb2N1bWVudCBoZWlnaHQgaXMgd2l0aGluIHRoZSByYW5nZSBvZiB3aGF0XG4vLyB0aGUgRE9NIGNhbiBoYW5kbGUuXG5jb25zdCBJZFNjYWxlciA9IHtcbiAgICB0b0RPTShuKSB7IHJldHVybiBuOyB9LFxuICAgIGZyb21ET00obikgeyByZXR1cm4gbjsgfSxcbiAgICBzY2FsZTogMSxcbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIgPT0gdGhpczsgfVxufTtcbi8vIFdoZW4gdGhlIGhlaWdodCBpcyB0b28gYmlnICg+IFZQLk1heERPTUhlaWdodCksIHNjYWxlIGRvd24gdGhlXG4vLyByZWdpb25zIG91dHNpZGUgdGhlIHZpZXdwb3J0cyBzbyB0aGF0IHRoZSB0b3RhbCBoZWlnaHQgaXNcbi8vIFZQLk1heERPTUhlaWdodC5cbmNsYXNzIEJpZ1NjYWxlciB7XG4gICAgY29uc3RydWN0b3Iob3JhY2xlLCBoZWlnaHRNYXAsIHZpZXdwb3J0cykge1xuICAgICAgICBsZXQgdnBIZWlnaHQgPSAwLCBiYXNlID0gMCwgZG9tQmFzZSA9IDA7XG4gICAgICAgIHRoaXMudmlld3BvcnRzID0gdmlld3BvcnRzLm1hcCgoeyBmcm9tLCB0byB9KSA9PiB7XG4gICAgICAgICAgICBsZXQgdG9wID0gaGVpZ2h0TWFwLmxpbmVBdChmcm9tLCBRdWVyeVR5cGUuQnlQb3MsIG9yYWNsZSwgMCwgMCkudG9wO1xuICAgICAgICAgICAgbGV0IGJvdHRvbSA9IGhlaWdodE1hcC5saW5lQXQodG8sIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKS5ib3R0b207XG4gICAgICAgICAgICB2cEhlaWdodCArPSBib3R0b20gLSB0b3A7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgdG9wLCBib3R0b20sIGRvbVRvcDogMCwgZG9tQm90dG9tOiAwIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNjYWxlID0gKDcwMDAwMDAgLyogVlAuTWF4RE9NSGVpZ2h0ICovIC0gdnBIZWlnaHQpIC8gKGhlaWdodE1hcC5oZWlnaHQgLSB2cEhlaWdodCk7XG4gICAgICAgIGZvciAobGV0IG9iaiBvZiB0aGlzLnZpZXdwb3J0cykge1xuICAgICAgICAgICAgb2JqLmRvbVRvcCA9IGRvbUJhc2UgKyAob2JqLnRvcCAtIGJhc2UpICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGRvbUJhc2UgPSBvYmouZG9tQm90dG9tID0gb2JqLmRvbVRvcCArIChvYmouYm90dG9tIC0gb2JqLnRvcCk7XG4gICAgICAgICAgICBiYXNlID0gb2JqLmJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0RPTShuKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBiYXNlID0gMCwgZG9tQmFzZSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2cCA9IGkgPCB0aGlzLnZpZXdwb3J0cy5sZW5ndGggPyB0aGlzLnZpZXdwb3J0c1tpXSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoIXZwIHx8IG4gPCB2cC50b3ApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbUJhc2UgKyAobiAtIGJhc2UpICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGlmIChuIDw9IHZwLmJvdHRvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdnAuZG9tVG9wICsgKG4gLSB2cC50b3ApO1xuICAgICAgICAgICAgYmFzZSA9IHZwLmJvdHRvbTtcbiAgICAgICAgICAgIGRvbUJhc2UgPSB2cC5kb21Cb3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnJvbURPTShuKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBiYXNlID0gMCwgZG9tQmFzZSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2cCA9IGkgPCB0aGlzLnZpZXdwb3J0cy5sZW5ndGggPyB0aGlzLnZpZXdwb3J0c1tpXSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoIXZwIHx8IG4gPCB2cC5kb21Ub3ApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UgKyAobiAtIGRvbUJhc2UpIC8gdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGlmIChuIDw9IHZwLmRvbUJvdHRvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdnAudG9wICsgKG4gLSB2cC5kb21Ub3ApO1xuICAgICAgICAgICAgYmFzZSA9IHZwLmJvdHRvbTtcbiAgICAgICAgICAgIGRvbUJhc2UgPSB2cC5kb21Cb3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBCaWdTY2FsZXIpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZSA9PSBvdGhlci5zY2FsZSAmJiB0aGlzLnZpZXdwb3J0cy5sZW5ndGggPT0gb3RoZXIudmlld3BvcnRzLmxlbmd0aCAmJlxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydHMuZXZlcnkoKHZwLCBpKSA9PiB2cC5mcm9tID09IG90aGVyLnZpZXdwb3J0c1tpXS5mcm9tICYmIHZwLnRvID09IG90aGVyLnZpZXdwb3J0c1tpXS50byk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2NhbGVCbG9jayhibG9jaywgc2NhbGVyKSB7XG4gICAgaWYgKHNjYWxlci5zY2FsZSA9PSAxKVxuICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgbGV0IGJUb3AgPSBzY2FsZXIudG9ET00oYmxvY2sudG9wKSwgYkJvdHRvbSA9IHNjYWxlci50b0RPTShibG9jay5ib3R0b20pO1xuICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGJsb2NrLmZyb20sIGJsb2NrLmxlbmd0aCwgYlRvcCwgYkJvdHRvbSAtIGJUb3AsIEFycmF5LmlzQXJyYXkoYmxvY2suX2NvbnRlbnQpID8gYmxvY2suX2NvbnRlbnQubWFwKGIgPT4gc2NhbGVCbG9jayhiLCBzY2FsZXIpKSA6IGJsb2NrLl9jb250ZW50KTtcbn1cblxuY29uc3QgdGhlbWUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogc3RycyA9PiBzdHJzLmpvaW4oXCIgXCIpIH0pO1xuY29uc3QgZGFya1RoZW1lID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuaW5kZXhPZih0cnVlKSA+IC0xIH0pO1xuY29uc3QgYmFzZVRoZW1lSUQgPSAvKkBfX1BVUkVfXyovU3R5bGVNb2R1bGUubmV3TmFtZSgpLCBiYXNlTGlnaHRJRCA9IC8qQF9fUFVSRV9fKi9TdHlsZU1vZHVsZS5uZXdOYW1lKCksIGJhc2VEYXJrSUQgPSAvKkBfX1BVUkVfXyovU3R5bGVNb2R1bGUubmV3TmFtZSgpO1xuY29uc3QgbGlnaHREYXJrSURzID0geyBcIiZsaWdodFwiOiBcIi5cIiArIGJhc2VMaWdodElELCBcIiZkYXJrXCI6IFwiLlwiICsgYmFzZURhcmtJRCB9O1xuZnVuY3Rpb24gYnVpbGRUaGVtZShtYWluLCBzcGVjLCBzY29wZXMpIHtcbiAgICByZXR1cm4gbmV3IFN0eWxlTW9kdWxlKHNwZWMsIHtcbiAgICAgICAgZmluaXNoKHNlbCkge1xuICAgICAgICAgICAgcmV0dXJuIC8mLy50ZXN0KHNlbCkgPyBzZWwucmVwbGFjZSgvJlxcdyovLCBtID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobSA9PSBcIiZcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1haW47XG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZXMgfHwgIXNjb3Blc1ttXSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFVuc3VwcG9ydGVkIHNlbGVjdG9yOiAke219YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3Blc1ttXTtcbiAgICAgICAgICAgIH0pIDogbWFpbiArIFwiIFwiICsgc2VsO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5jb25zdCBiYXNlVGhlbWUkMSA9IC8qQF9fUFVSRV9fKi9idWlsZFRoZW1lKFwiLlwiICsgYmFzZVRoZW1lSUQsIHtcbiAgICBcIiZcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZSAhaW1wb3J0YW50XCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIFwiJi5jbS1mb2N1c2VkXCI6IHtcbiAgICAgICAgICAgIC8vIFByb3ZpZGUgYSBzaW1wbGUgZGVmYXVsdCBvdXRsaW5lIHRvIG1ha2Ugc3VyZSBhIGZvY3VzZWRcbiAgICAgICAgICAgIC8vIGVkaXRvciBpcyB2aXN1YWxseSBkaXN0aW5jdC4gQ2FuJ3QgbGVhdmUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhhdCB3aWxsIGFwcGx5IHRvIHRoZSBjb250ZW50IGVsZW1lbnQsIHdoaWNoIGlzXG4gICAgICAgICAgICAvLyBpbnNpZGUgdGhlIHNjcm9sbGFibGUgY29udGFpbmVyIGFuZCBkb2Vzbid0IGluY2x1ZGUgdGhlXG4gICAgICAgICAgICAvLyBndXR0ZXJzLiBXZSBhbHNvIGNhbid0IHVzZSBhbiAnYXV0bycgb3V0bGluZSwgc2luY2UgdGhvc2VcbiAgICAgICAgICAgIC8vIGFyZSwgZm9yIHNvbWUgcmVhc29uLCBkcmF3biBiZWhpbmQgdGhlIGVsZW1lbnQgY29udGVudCwgd2hpY2hcbiAgICAgICAgICAgIC8vIHdpbGwgY2F1c2UgdGhpbmdzIGxpa2UgdGhlIGFjdGl2ZSBsaW5lIGJhY2tncm91bmQgdG8gY292ZXJcbiAgICAgICAgICAgIC8vIHRoZSBvdXRsaW5lICgjMjk3KS5cbiAgICAgICAgICAgIG91dGxpbmU6IFwiMXB4IGRvdHRlZCAjMjEyMTIxXCJcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4ICFpbXBvcnRhbnRcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICAgIH0sXG4gICAgXCIuY20tc2Nyb2xsZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXggIWltcG9ydGFudFwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnQgIWltcG9ydGFudFwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjQsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIHpJbmRleDogMCxcbiAgICAgICAgb3ZlcmZsb3dBbmNob3I6IFwibm9uZVwiLFxuICAgIH0sXG4gICAgXCIuY20tY29udGVudFwiOiB7XG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgZmxleEdyb3c6IDIsXG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgICAgICAgd29yZFdyYXA6IFwibm9ybWFsXCIsIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlbWlycm9yL2Rldi9pc3N1ZXMvNDU2XG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIG1pbkhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiNHB4IDBcIixcbiAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgIFwiJltjb250ZW50ZWRpdGFibGU9dHJ1ZV1cIjoge1xuICAgICAgICAgICAgV2Via2l0VXNlck1vZGlmeTogXCJyZWFkLXdyaXRlLXBsYWludGV4dC1vbmx5XCIsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmNtLWxpbmVXcmFwcGluZ1wiOiB7XG4gICAgICAgIHdoaXRlU3BhY2VfZmFsbGJhY2s6IFwicHJlLXdyYXBcIiwgLy8gRm9yIElFXG4gICAgICAgIHdoaXRlU3BhY2U6IFwiYnJlYWstc3BhY2VzXCIsXG4gICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsIC8vIEZvciBTYWZhcmksIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCBvdmVyZmxvdy13cmFwOiBhbnl3aGVyZVxuICAgICAgICBvdmVyZmxvd1dyYXA6IFwiYW55d2hlcmVcIixcbiAgICAgICAgZmxleFNocmluazogMVxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWNvbnRlbnRcIjogeyBjYXJldENvbG9yOiBcImJsYWNrXCIgfSxcbiAgICBcIiZkYXJrIC5jbS1jb250ZW50XCI6IHsgY2FyZXRDb2xvcjogXCJ3aGl0ZVwiIH0sXG4gICAgXCIuY20tbGluZVwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgcGFkZGluZzogXCIwIDJweCAwIDZweFwiXG4gICAgfSxcbiAgICBcIi5jbS1sYXllclwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgY29udGFpbjogXCJzaXplIHN0eWxlXCIsXG4gICAgICAgIFwiJiA+ICpcIjoge1xuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2Q5ZDlkOVwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjMjIyXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0LmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tc2VsZWN0aW9uTGF5ZXIgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkN2Q0ZjBcIlxuICAgIH0sXG4gICAgXCImZGFyay5jbS1mb2N1c2VkID4gLmNtLXNjcm9sbGVyID4gLmNtLXNlbGVjdGlvbkxheWVyIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjMjMzXCJcbiAgICB9LFxuICAgIFwiLmNtLWN1cnNvckxheWVyXCI6IHtcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICB9LFxuICAgIFwiJi5jbS1mb2N1c2VkID4gLmNtLXNjcm9sbGVyID4gLmNtLWN1cnNvckxheWVyXCI6IHtcbiAgICAgICAgYW5pbWF0aW9uOiBcInN0ZXBzKDEpIGNtLWJsaW5rIDEuMnMgaW5maW5pdGVcIlxuICAgIH0sXG4gICAgLy8gVHdvIGFuaW1hdGlvbnMgZGVmaW5lZCBzbyB0aGF0IHdlIGNhbiBzd2l0Y2ggYmV0d2VlbiB0aGVtIHRvXG4gICAgLy8gcmVzdGFydCB0aGUgYW5pbWF0aW9uIHdpdGhvdXQgZm9yY2luZyBhbm90aGVyIHN0eWxlXG4gICAgLy8gcmVjb21wdXRhdGlvbi5cbiAgICBcIkBrZXlmcmFtZXMgY20tYmxpbmtcIjogeyBcIjAlXCI6IHt9LCBcIjUwJVwiOiB7IG9wYWNpdHk6IDAgfSwgXCIxMDAlXCI6IHt9IH0sXG4gICAgXCJAa2V5ZnJhbWVzIGNtLWJsaW5rMlwiOiB7IFwiMCVcIjoge30sIFwiNTAlXCI6IHsgb3BhY2l0eTogMCB9LCBcIjEwMCVcIjoge30gfSxcbiAgICBcIi5jbS1jdXJzb3IsIC5jbS1kcm9wQ3Vyc29yXCI6IHtcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxLjJweCBzb2xpZCBibGFja1wiLFxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi0wLjZweFwiLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICB9LFxuICAgIFwiLmNtLWN1cnNvclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1jdXJzb3JcIjoge1xuICAgICAgICBib3JkZXJMZWZ0Q29sb3I6IFwiIzQ0NFwiXG4gICAgfSxcbiAgICBcIi5jbS1kcm9wQ3Vyc29yXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuICAgIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tY3Vyc29yTGF5ZXIgLmNtLWN1cnNvclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgIH0sXG4gICAgXCIuY20taXNvXCI6IHtcbiAgICAgICAgdW5pY29kZUJpZGk6IFwiaXNvbGF0ZVwiXG4gICAgfSxcbiAgICBcIi5jbS1hbm5vdW5jZWRcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICB0b3A6IFwiLTEwMDAwcHhcIlxuICAgIH0sXG4gICAgXCJAbWVkaWEgcHJpbnRcIjoge1xuICAgICAgICBcIi5jbS1hbm5vdW5jZWRcIjogeyBkaXNwbGF5OiBcIm5vbmVcIiB9XG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tYWN0aXZlTGluZVwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjY2NlZWZmNDRcIiB9LFxuICAgIFwiJmRhcmsgLmNtLWFjdGl2ZUxpbmVcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5ZWVmZjMzXCIgfSxcbiAgICBcIiZsaWdodCAuY20tc3BlY2lhbENoYXJcIjogeyBjb2xvcjogXCJyZWRcIiB9LFxuICAgIFwiJmRhcmsgLmNtLXNwZWNpYWxDaGFyXCI6IHsgY29sb3I6IFwiI2Y3OFwiIH0sXG4gICAgXCIuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBpbnNldElubGluZVN0YXJ0OiAwLFxuICAgICAgICB6SW5kZXg6IDIwMFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWd1dHRlcnNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y1ZjVmNVwiLFxuICAgICAgICBjb2xvcjogXCIjNmM2YzZjXCIsXG4gICAgICAgIGJvcmRlclJpZ2h0OiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWd1dHRlcnNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCIjY2NjXCJcbiAgICB9LFxuICAgIFwiLmNtLWd1dHRlclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsIC8vIE5lY2Vzc2FyeSAtLSBwcmV2ZW50cyBtYXJnaW4gY29sbGFwc2luZ1xuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBtaW5IZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICAgIH0sXG4gICAgXCIuY20tZ3V0dGVyRWxlbWVudFwiOiB7XG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCJcbiAgICB9LFxuICAgIFwiLmNtLWxpbmVOdW1iZXJzIC5jbS1ndXR0ZXJFbGVtZW50XCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIwIDNweCAwIDVweFwiLFxuICAgICAgICBtaW5XaWR0aDogXCIyMHB4XCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tYWN0aXZlTGluZUd1dHRlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZTJmMmZmXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWFjdGl2ZUxpbmVHdXR0ZXJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzIyMjIyN1wiXG4gICAgfSxcbiAgICBcIi5jbS1wYW5lbHNcIjoge1xuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJzdGlja3lcIixcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHpJbmRleDogMzAwXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIixcbiAgICAgICAgY29sb3I6IFwiYmxhY2tcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVscy10b3BcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVscy1ib3R0b21cIjoge1xuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzMzMzhcIixcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG4gICAgXCIuY20tdGFiXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwiYm90dG9tXCJcbiAgICB9LFxuICAgIFwiLmNtLXdpZGdldEJ1ZmZlclwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwidGV4dC10b3BcIixcbiAgICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmVcIlxuICAgIH0sXG4gICAgXCIuY20tcGxhY2Vob2xkZXJcIjoge1xuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG4gICAgfSxcbiAgICBcIi5jbS1oaWdobGlnaHRTcGFjZTpiZWZvcmVcIjoge1xuICAgICAgICBjb250ZW50OiBcImF0dHIoZGF0YS1kaXNwbGF5KVwiLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgY29sb3I6IFwiIzg4OFwiXG4gICAgfSxcbiAgICBcIi5jbS1oaWdobGlnaHRUYWJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwMFwiIGhlaWdodD1cIjIwXCI+PHBhdGggc3Ryb2tlPVwiJTIzODg4XCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZD1cIk0xIDEwSDE5NkwxOTAgNU0xOTAgMTVMMTk2IDEwTTE5NyA0TDE5NyAxNlwiLz48L3N2Zz4nKWAsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiBcImF1dG8gMTAwJVwiLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFwicmlnaHQgOTAlXCIsXG4gICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCJcbiAgICB9LFxuICAgIFwiLmNtLXRyYWlsaW5nU3BhY2VcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmMzMyMjU1XCJcbiAgICB9LFxuICAgIFwiLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgICAgZm9udFNpemU6IFwiNzAlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiLjJlbSAxZW1cIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjFweFwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tYnV0dG9uXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjZWZmMWY1LCAjZDlkOWRmKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4ODhcIixcbiAgICAgICAgXCImOmFjdGl2ZVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCNiNGI0YjQsICNkMGQzZDYpXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCImZGFyayAuY20tYnV0dG9uXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjMzkzOTM5LCAjMTExKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4ODhcIixcbiAgICAgICAgXCImOmFjdGl2ZVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCMxMTEsICMzMzMpXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuY20tdGV4dGZpZWxkXCI6IHtcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICBmb250U2l6ZTogXCI3MCVcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCBzaWx2ZXJcIixcbiAgICAgICAgcGFkZGluZzogXCIuMmVtIC41ZW1cIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRleHRmaWVsZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10ZXh0ZmllbGRcIjoge1xuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM1NTVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImluaGVyaXRcIlxuICAgIH1cbn0sIGxpZ2h0RGFya0lEcyk7XG5cbmNvbnN0IG9ic2VydmVPcHRpb25zID0ge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWVcbn07XG4vLyBJRTExIGhhcyB2ZXJ5IGJyb2tlbiBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHdlIGFsc28gbGlzdGVuIHRvXG4vLyBET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQgdGhlcmVcbmNvbnN0IHVzZUNoYXJEYXRhID0gYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTE7XG5jbGFzcyBET01PYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIGtub3duIHNlbGVjdGlvbi4gS2VwdCBpbiBvdXIgb3duIG9iamVjdCwgYXMgb3Bwb3NlZCB0byBqdXN0XG4gICAgICAgIC8vIGRpcmVjdGx5IGFjY2Vzc2luZyB0aGUgc2VsZWN0aW9uIGJlY2F1c2U6XG4gICAgICAgIC8vICAtIFNhZmFyaSBkb2Vzbid0IHJlcG9ydCB0aGUgcmlnaHQgc2VsZWN0aW9uIGluIHNoYWRvdyBET01cbiAgICAgICAgLy8gIC0gUmVhZGluZyBmcm9tIHRoZSBzZWxlY3Rpb24gZm9yY2VzIGEgRE9NIGxheW91dFxuICAgICAgICAvLyAgLSBUaGlzIHdheSwgd2UgY2FuIGlnbm9yZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnRzIGlmIHdlIGhhdmVcbiAgICAgICAgLy8gICAgYWxyZWFkeSBzZWVuIHRoZSAnbmV3JyBzZWxlY3Rpb25cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZSA9IG5ldyBET01TZWxlY3Rpb25TdGF0ZTtcbiAgICAgICAgLy8gU2V0IHdoZW4gYSBzZWxlY3Rpb24gY2hhbmdlIGlzIGRldGVjdGVkLCBjbGVhcmVkIG9uIGZsdXNoXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVTY3JvbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyc2VjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2FwcyA9IFtdO1xuICAgICAgICB0aGlzLnByaW50UXVlcnkgPSBudWxsO1xuICAgICAgICAvLyBUaW1lb3V0IGZvciBzY2hlZHVsaW5nIGNoZWNrIG9mIHRoZSBwYXJlbnRzIHRoYXQgbmVlZCBzY3JvbGwgaGFuZGxlcnNcbiAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IC0xO1xuICAgICAgICB0aGlzLmRvbSA9IHZpZXcuY29udGVudERPTTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBtdXQgb2YgbXV0YXRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChtdXQpO1xuICAgICAgICAgICAgLy8gSUUxMSB3aWxsIHNvbWV0aW1lcyAob24gdHlwaW5nIG92ZXIgYSBzZWxlY3Rpb24gb3JcbiAgICAgICAgICAgIC8vIGJhY2tzcGFjaW5nIG91dCBhIHNpbmdsZSBjaGFyYWN0ZXIgdGV4dCBub2RlKSBjYWxsIHRoZVxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIgY2FsbGJhY2sgYmVmb3JlIGFjdHVhbGx5IHVwZGF0aW5nIHRoZSBET00uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVW5yZWxhdGVkbHksIGlPUyBTYWZhcmkgd2lsbCwgd2hlbiBlbmRpbmcgYSBjb21wb3NpdGlvbixcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyBmaXJzdCBjbGVhciBpdCwgZGVsaXZlciB0aGUgbXV0YXRpb25zLCBhbmQgdGhlblxuICAgICAgICAgICAgLy8gcmVpbnNlcnQgdGhlIGZpbmlzaGVkIHRleHQuIENvZGVNaXJyb3IncyBoYW5kbGluZyBvZiB0aGVcbiAgICAgICAgICAgIC8vIGRlbGV0aW9uIHdpbGwgcHJldmVudCB0aGUgcmVpbnNlcnRpb24gZnJvbSBoYXBwZW5pbmcsXG4gICAgICAgICAgICAvLyBicmVha2luZyBjb21wb3NpdGlvbi5cbiAgICAgICAgICAgIGlmICgoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgfHwgYnJvd3Nlci5pb3MgJiYgdmlldy5jb21wb3NpbmcpICYmXG4gICAgICAgICAgICAgICAgbXV0YXRpb25zLnNvbWUobSA9PiBtLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtLnJlbW92ZWROb2Rlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAgICAgbS50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiICYmIG0ub2xkVmFsdWUubGVuZ3RoID4gbS50YXJnZXQubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAod2luZG93LkVkaXRDb250ZXh0ICYmIHZpZXcuY29uc3RydWN0b3IuRURJVF9DT05URVhUICE9PSBmYWxzZSAmJlxuICAgICAgICAgICAgLy8gQ2hyb21lIDwxMjYgZG9lc24ndCBzdXBwb3J0IGludmVydGVkIHNlbGVjdGlvbnMgaW4gZWRpdCBjb250ZXh0ICgjMTM5MilcbiAgICAgICAgICAgICEoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5jaHJvbWVfdmVyc2lvbiA8IDEyNikpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQgPSBuZXcgRWRpdENvbnRleHRNYW5hZ2VyKHZpZXcpO1xuICAgICAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpKVxuICAgICAgICAgICAgICAgIHZpZXcuY29udGVudERPTS5lZGl0Q29udGV4dCA9IHRoaXMuZWRpdENvbnRleHQuZWRpdENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5vbkNoYXJEYXRhID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHsgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hhcmFjdGVyRGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnQucHJldlZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUHJpbnQgPSB0aGlzLm9uUHJpbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblNjcm9sbCA9IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKVxuICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCJwcmludFwiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplU2Nyb2xsID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcuZG9jVmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RVcGRhdGUpIDwgRGF0ZS5ub3coKSAtIDc1KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplU2Nyb2xsLm9ic2VydmUodmlldy5zY3JvbGxET00pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkV2luZG93TGlzdGVuZXJzKHRoaXMud2luID0gdmlldy53aW4pO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDaGVjayA8IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Q2hlY2sgPSBzZXRUaW1lb3V0KHRoaXMubGlzdGVuRm9yU2Nyb2xsLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDAgJiYgKGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApICE9IHRoaXMuaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW5nID0gIXRoaXMuaW50ZXJzZWN0aW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RpbmcgIT0gdGhpcy52aWV3LmluVmlldylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHsgdGhyZXNob2xkOiBbMCwgLjAwMV0gfSk7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbi5vYnNlcnZlKHRoaXMuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuZ2FwSW50ZXJzZWN0aW9uID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDAgJiYgZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdLmludGVyc2VjdGlvblJhdGlvID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZWQoZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSk7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JTY3JvbGwoKTtcbiAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICB9XG4gICAgb25TY3JvbGxDaGFuZ2VkKGUpIHtcbiAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUucnVuSGFuZGxlcnMoXCJzY3JvbGxcIiwgZSk7XG4gICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZylcbiAgICAgICAgICAgIHRoaXMudmlldy5tZWFzdXJlKCk7XG4gICAgfVxuICAgIG9uU2Nyb2xsKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW5nKVxuICAgICAgICAgICAgdGhpcy5mbHVzaChmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmVkaXRDb250ZXh0KVxuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMuZWRpdENvbnRleHQubWVhc3VyZVJlcSk7XG4gICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGUpO1xuICAgIH1cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplVGltZW91dCA8IDApXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgb25QcmludChldmVudCkge1xuICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIiB8fCAhZXZlbnQudHlwZSkgJiYgIWV2ZW50Lm1hdGNoZXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXcubWVhc3VyZSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbiAgICB1cGRhdGVHYXBzKGdhcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FwSW50ZXJzZWN0aW9uICYmIChnYXBzLmxlbmd0aCAhPSB0aGlzLmdhcHMubGVuZ3RoIHx8IHRoaXMuZ2Fwcy5zb21lKChnLCBpKSA9PiBnICE9IGdhcHNbaV0pKSkge1xuICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24ub2JzZXJ2ZShnYXApO1xuICAgICAgICAgICAgdGhpcy5nYXBzID0gZ2FwcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblNlbGVjdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgICBsZXQgd2FzQ2hhbmdlZCA9IHRoaXMuc2VsZWN0aW9uQ2hhbmdlZDtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWRTZWxlY3Rpb25SYW5nZSgpIHx8IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbCA9IHRoaXMuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHRoaXMuZG9tIDogIWhhc1NlbGVjdGlvbih2aWV3LmRvbSwgc2VsKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBzZWwuYW5jaG9yTm9kZSAmJiB2aWV3LmRvY1ZpZXcubmVhcmVzdChzZWwuYW5jaG9yTm9kZSk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuaWdub3JlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIXdhc0NoYW5nZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRpb25zIG9uIElFMTEgZmlyZSB0aGVpciBldmVudHMgaW4gdGhlIHdyb25nIG9yZGVyLCBnaXZpbmdcbiAgICAgICAgLy8gdXMgYSBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgRE9NIGNoYW5nZXMgYXJlXG4gICAgICAgIC8vIHJlcG9ydGVkLlxuICAgICAgICAvLyBDaHJvbWUgQW5kcm9pZCBoYXMgYSBzaW1pbGFyIGlzc3VlIHdoZW4gYmFja3NwYWNpbmcgb3V0IGFcbiAgICAgICAgLy8gc2VsZWN0aW9uICgjNjQ1KS5cbiAgICAgICAgaWYgKChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSB8fCBicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUpICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmXG4gICAgICAgICAgICAvLyAoU2VsZWN0aW9uLmlzQ29sbGFwc2VkIGlzbid0IHJlbGlhYmxlIG9uIElFKVxuICAgICAgICAgICAgc2VsLmZvY3VzTm9kZSAmJiBpc0VxdWl2YWxlbnRQb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQsIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KSlcbiAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZmx1c2goZmFsc2UpO1xuICAgIH1cbiAgICByZWFkU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXM7XG4gICAgICAgIC8vIFRoZSBTZWxlY3Rpb24gb2JqZWN0IGlzIGJyb2tlbiBpbiBzaGFkb3cgcm9vdHMgaW4gU2FmYXJpLiBTZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy80MTRcbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHJhbmdlID0gYnJvd3Nlci5zYWZhcmkgJiYgdmlldy5yb290Lm5vZGVUeXBlID09IDExICYmXG4gICAgICAgICAgICBkZWVwQWN0aXZlRWxlbWVudCh0aGlzLmRvbS5vd25lckRvY3VtZW50KSA9PSB0aGlzLmRvbSAmJlxuICAgICAgICAgICAgc2FmYXJpU2VsZWN0aW9uUmFuZ2VIYWNrKHRoaXMudmlldywgc2VsZWN0aW9uKSB8fCBzZWxlY3Rpb247XG4gICAgICAgIGlmICghcmFuZ2UgfHwgdGhpcy5zZWxlY3Rpb25SYW5nZS5lcShyYW5nZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBsb2NhbCA9IGhhc1NlbGVjdGlvbih0aGlzLmRvbSwgcmFuZ2UpO1xuICAgICAgICAvLyBEZXRlY3QgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgYnJvd3NlciBoYXMsIG9uIGZvY3VzLCBtb3ZlZCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgY29udGVudCBlbGVtZW50LiBSZXNldCBpdCB0byB0aGVcbiAgICAgICAgLy8gcG9zaXRpb24gZnJvbSB0aGUgZWRpdG9yIHN0YXRlLlxuICAgICAgICBpZiAobG9jYWwgJiYgIXRoaXMuc2VsZWN0aW9uQ2hhbmdlZCAmJlxuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPiBEYXRlLm5vdygpIC0gMjAwICYmXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA8IERhdGUubm93KCkgLSAzMDAgJiZcbiAgICAgICAgICAgIGF0RWxlbWVudFN0YXJ0KHRoaXMuZG9tLCByYW5nZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICAgICAgdmlldy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAobG9jYWwpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uUmFuZ2UoYW5jaG9yLCBoZWFkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0LCBoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGNsZWFyU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KG51bGwsIDAsIG51bGwsIDApO1xuICAgIH1cbiAgICBsaXN0ZW5Gb3JTY3JvbGwoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgbGV0IGkgPSAwLCBjaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgZG9tID0gdGhpcy5kb207IGRvbTspIHtcbiAgICAgICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlZCAmJiBpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiB0aGlzLnNjcm9sbFRhcmdldHNbaV0gPT0gZG9tKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQucHVzaChkb20pO1xuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5hc3NpZ25lZFNsb3QgfHwgZG9tLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMTEpIHsgLy8gU2hhZG93IHJvb3RcbiAgICAgICAgICAgICAgICBkb20gPSBkb20uaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiAhY2hhbmdlZClcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cyA9IGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWdub3JlKGYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMuZG9tLCBvYnNlcnZlT3B0aW9ucyk7XG4gICAgICAgIGlmICh1c2VDaGFyRGF0YSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpO1xuICAgIH1cbiAgICAvLyBUaHJvdyBhd2F5IGFueSBwZW5kaW5nIGNoYW5nZXNcbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzUmVjb3JkcygpO1xuICAgICAgICB0aGlzLnF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgQW5kcm9pZCwgZXNwZWNpYWxseSBpbiBjb21iaW5hdGlvbiB3aXRoIEdCb2FyZCwgbm90IG9ubHlcbiAgICAvLyBkb2Vzbid0IHJlbGlhYmx5IGZpcmUgcmVndWxhciBrZXkgZXZlbnRzLCBidXQgYWxzbyBvZnRlblxuICAgIC8vIHN1cnJvdW5kcyB0aGUgZWZmZWN0IG9mIGVudGVyIG9yIGJhY2tzcGFjZSB3aXRoIGEgYnVuY2ggb2ZcbiAgICAvLyBjb21wb3NpdGlvbiBldmVudHMgdGhhdCwgd2hlbiBpbnRlcnJ1cHRlZCwgY2F1c2UgdGV4dCBkdXBsaWNhdGlvblxuICAgIC8vIG9yIG90aGVyIGtpbmRzIG9mIGNvcnJ1cHRpb24uIFRoaXMgaGFjayBtYWtlcyB0aGUgZWRpdG9yIGJhY2sgb2ZmXG4gICAgLy8gZnJvbSBoYW5kbGluZyBET00gY2hhbmdlcyBmb3IgYSBtb21lbnQgd2hlbiBzdWNoIGEga2V5IGlzXG4gICAgLy8gZGV0ZWN0ZWQgKHZpYSBiZWZvcmVpbnB1dCBvciBrZXlkb3duKSwgYW5kIHRoZW4gdHJpZXMgdG8gZmx1c2hcbiAgICAvLyB0aGVtIG9yLCBpZiB0aGF0IGhhcyBubyBlZmZlY3QsIGRpc3BhdGNoZXMgdGhlIGdpdmVuIGtleS5cbiAgICBkZWxheUFuZHJvaWRLZXkoa2V5LCBrZXlDb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KSB7XG4gICAgICAgICAgICBsZXQgZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgPSBrZXkua2V5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmx1c2hlZCA9IHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbHVzaGVkICYmIGtleS5mb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHRoaXMuZG9tLCBrZXkua2V5LCBrZXkua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIGJhY2tzcGFjZSBiZWZvcmVpbnB1dCBpcyBzb21ldGltZXMgc2lnbmFsbGVkIHNwdXJpb3VzbHksXG4gICAgICAgIC8vIEVudGVyIGFsd2F5cyB0YWtlcyBwcmVjZWRlbmNlLlxuICAgICAgICBpZiAoIXRoaXMuZGVsYXllZEFuZHJvaWRLZXkgfHwga2V5ID09IFwiRW50ZXJcIilcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSB7XG4gICAgICAgICAgICAgICAga2V5LCBrZXlDb2RlLFxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcnVuIHRoZSBrZXkgaGFuZGxlciB3aGVuIG5vIGNoYW5nZXMgYXJlIGRldGVjdGVkIGlmXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpc24ndCBjb21pbmcgcmlnaHQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBpdCBpcyBwcm9iYWJseSBwYXJ0IG9mIGEgd2VpcmQgY2hhaW4gb2YgdXBkYXRlcywgYW5kIHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIGJlIGlnbm9yZWQgaWYgaXQgcmV0dXJucyB0aGUgRE9NIHRvIGl0cyBwcmV2aW91cyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBmb3JjZTogdGhpcy5sYXN0Q2hhbmdlIDwgRGF0ZS5ub3coKSAtIDUwIHx8ICEhKChfYSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JjZSlcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIGNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKSB7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5KTtcbiAgICAgICAgdGhpcy5kZWxheWVkQW5kcm9pZEtleSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gLTE7XG4gICAgfVxuICAgIGZsdXNoU29vbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsYXllZEZsdXNoIDwgMClcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xOyB0aGlzLmZsdXNoKCk7IH0pO1xuICAgIH1cbiAgICBmb3JjZUZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Lndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmRlbGF5ZWRGbHVzaCk7XG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gICAgcGVuZGluZ1JlY29yZHMoKSB7XG4gICAgICAgIGZvciAobGV0IG11dCBvZiB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkpXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobXV0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWU7XG4gICAgfVxuICAgIHByb2Nlc3NSZWNvcmRzKCkge1xuICAgICAgICBsZXQgcmVjb3JkcyA9IHRoaXMucGVuZGluZ1JlY29yZHMoKTtcbiAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZnJvbSA9IC0xLCB0byA9IC0xLCB0eXBlT3ZlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yZWFkTXV0YXRpb24ocmVjb3JkKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZU92ZXIpXG4gICAgICAgICAgICAgICAgdHlwZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGZyb20gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAoeyBmcm9tLCB0byB9ID0gcmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IE1hdGgubWluKHJhbmdlLmZyb20sIGZyb20pO1xuICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgocmFuZ2UudG8sIHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgdHlwZU92ZXIgfTtcbiAgICB9XG4gICAgcmVhZENoYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8sIHR5cGVPdmVyIH0gPSB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIGxldCBuZXdTZWwgPSB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgJiYgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgaWYgKGZyb20gPCAwICYmICFuZXdTZWwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGZyb20gPiAtMSlcbiAgICAgICAgICAgIHRoaXMubGFzdENoYW5nZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNoYW5nZSA9IG5ldyBET01DaGFuZ2UodGhpcy52aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIpO1xuICAgICAgICB0aGlzLnZpZXcuZG9jVmlldy5kb21DaGFuZ2VkID0geyBuZXdTZWw6IGNoYW5nZS5uZXdTZWwgPyBjaGFuZ2UubmV3U2VsLm1haW4gOiBudWxsIH07XG4gICAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuICAgIC8vIEFwcGx5IHBlbmRpbmcgY2hhbmdlcywgaWYgYW55XG4gICAgZmx1c2gocmVhZFNlbGVjdGlvbiA9IHRydWUpIHtcbiAgICAgICAgLy8gQ29tcGxldGVseSBob2xkIG9mZiBmbHVzaGluZyB3aGVuIHBlbmRpbmcga2V5cyBhcmUgc2V04oCUdGhlIGNvZGVcbiAgICAgICAgLy8gbWFuYWdpbmcgdGhvc2Ugd2lsbCBtYWtlIHN1cmUgcHJvY2Vzc1JlY29yZHMgaXMgY2FsbGVkIGFuZCB0aGVcbiAgICAgICAgLy8gdmlldyBpcyByZXN5bmNocm9uaXplZCBhZnRlclxuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCB8fCB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAocmVhZFNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBkb21DaGFuZ2UgPSB0aGlzLnJlYWRDaGFuZ2UoKTtcbiAgICAgICAgaWYgKCFkb21DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydFN0YXRlID0gdGhpcy52aWV3LnN0YXRlO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGFwcGx5RE9NQ2hhbmdlKHRoaXMudmlldywgZG9tQ2hhbmdlKTtcbiAgICAgICAgLy8gVGhlIHZpZXcgd2Fzbid0IHVwZGF0ZWQgYnV0IERPTS9zZWxlY3Rpb24gY2hhbmdlcyB3ZXJlIHNlZW4uIFJlc2V0IHRoZSB2aWV3LlxuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlID09IHN0YXJ0U3RhdGUgJiZcbiAgICAgICAgICAgIChkb21DaGFuZ2UuZG9tQ2hhbmdlZCB8fCBkb21DaGFuZ2UubmV3U2VsICYmICFkb21DaGFuZ2UubmV3U2VsLm1haW4uZXEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluKSkpXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XG4gICAgfVxuICAgIHJlYWRNdXRhdGlvbihyZWMpIHtcbiAgICAgICAgbGV0IGNWaWV3ID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdChyZWMudGFyZ2V0KTtcbiAgICAgICAgaWYgKCFjVmlldyB8fCBjVmlldy5pZ25vcmVNdXRhdGlvbihyZWMpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNWaWV3Lm1hcmtEaXJ0eShyZWMudHlwZSA9PSBcImF0dHJpYnV0ZXNcIik7XG4gICAgICAgIGlmIChyZWMudHlwZSA9PSBcImF0dHJpYnV0ZXNcIilcbiAgICAgICAgICAgIGNWaWV3LmZsYWdzIHw9IDQgLyogVmlld0ZsYWcuQXR0cnNEaXJ0eSAqLztcbiAgICAgICAgaWYgKHJlYy50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZEJlZm9yZSA9IGZpbmRDaGlsZChjVmlldywgcmVjLnByZXZpb3VzU2libGluZyB8fCByZWMudGFyZ2V0LnByZXZpb3VzU2libGluZywgLTEpO1xuICAgICAgICAgICAgbGV0IGNoaWxkQWZ0ZXIgPSBmaW5kQ2hpbGQoY1ZpZXcsIHJlYy5uZXh0U2libGluZyB8fCByZWMudGFyZ2V0Lm5leHRTaWJsaW5nLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb206IGNoaWxkQmVmb3JlID8gY1ZpZXcucG9zQWZ0ZXIoY2hpbGRCZWZvcmUpIDogY1ZpZXcucG9zQXRTdGFydCxcbiAgICAgICAgICAgICAgICB0bzogY2hpbGRBZnRlciA/IGNWaWV3LnBvc0JlZm9yZShjaGlsZEFmdGVyKSA6IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWMudHlwZSA9PSBcImNoYXJhY3RlckRhdGFcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogY1ZpZXcucG9zQXRTdGFydCwgdG86IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogcmVjLnRhcmdldC5ub2RlVmFsdWUgPT0gcmVjLm9sZFZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaW5kb3cod2luKSB7XG4gICAgICAgIGlmICh3aW4gIT0gdGhpcy53aW4pIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgICAgIHRoaXMud2luID0gd2luO1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdpbmRvd0xpc3RlbmVycyh3aW4pIHtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgIGlmICh0aGlzLnByaW50UXVlcnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByaW50UXVlcnkuYWRkRXZlbnRMaXN0ZW5lcilcbiAgICAgICAgICAgICAgICB0aGlzLnByaW50UXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnRRdWVyeS5hZGRMaXN0ZW5lcih0aGlzLm9uUHJpbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlcHJpbnRcIiwgdGhpcy5vblByaW50KTtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHdpbi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH1cbiAgICByZW1vdmVXaW5kb3dMaXN0ZW5lcnMod2luKSB7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKVxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnRRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMub25QcmludCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5LnJlbW92ZUxpc3RlbmVyKHRoaXMub25QcmludCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmVwcmludFwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICB3aW4uZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChlZGl0YWJsZSkgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSlcbiAgICAgICAgICAgICAgICB1cGRhdGUudmlldy5jb250ZW50RE9NLmVkaXRDb250ZXh0ID0gdXBkYXRlLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IHRoaXMuZWRpdENvbnRleHQuZWRpdENvbnRleHQgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYiA9IHRoaXMuZ2FwSW50ZXJzZWN0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAoX2MgPSB0aGlzLnJlc2l6ZVNjcm9sbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cylcbiAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVycyh0aGlzLndpbik7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBhcmVudENoZWNrKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZGVsYXllZEZsdXNoKTtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkpO1xuICAgICAgICBpZiAodGhpcy5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy52aWV3LmNvbnRlbnRET00uZWRpdENvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kQ2hpbGQoY1ZpZXcsIGRvbSwgZGlyKSB7XG4gICAgd2hpbGUgKGRvbSkge1xuICAgICAgICBsZXQgY3VyVmlldyA9IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICBpZiAoY3VyVmlldyAmJiBjdXJWaWV3LnBhcmVudCA9PSBjVmlldylcbiAgICAgICAgICAgIHJldHVybiBjdXJWaWV3O1xuICAgICAgICBsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGU7XG4gICAgICAgIGRvbSA9IHBhcmVudCAhPSBjVmlldy5kb20gPyBwYXJlbnQgOiBkaXIgPiAwID8gZG9tLm5leHRTaWJsaW5nIDogZG9tLnByZXZpb3VzU2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBidWlsZFNlbGVjdGlvblJhbmdlRnJvbVJhbmdlKHZpZXcsIHJhbmdlKSB7XG4gICAgbGV0IGFuY2hvck5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lciwgYW5jaG9yT2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XG4gICAgbGV0IGZvY3VzTm9kZSA9IHJhbmdlLmVuZENvbnRhaW5lciwgZm9jdXNPZmZzZXQgPSByYW5nZS5lbmRPZmZzZXQ7XG4gICAgbGV0IGN1ckFuY2hvciA9IHZpZXcuZG9jVmlldy5kb21BdFBvcyh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvcik7XG4gICAgLy8gU2luY2Ugc3VjaCBhIHJhbmdlIGRvZXNuJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBhbmNob3IgYW5kIGhlYWQsXG4gICAgLy8gdXNlIGEgaGV1cmlzdGljIHRoYXQgZmxpcHMgaXQgYXJvdW5kIGlmIGl0cyBlbmQgbWF0Y2hlcyB0aGVcbiAgICAvLyBjdXJyZW50IGFuY2hvci5cbiAgICBpZiAoaXNFcXVpdmFsZW50UG9zaXRpb24oY3VyQW5jaG9yLm5vZGUsIGN1ckFuY2hvci5vZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpKVxuICAgICAgICBbYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0XSA9IFtmb2N1c05vZGUsIGZvY3VzT2Zmc2V0LCBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXRdO1xuICAgIHJldHVybiB7IGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCB9O1xufVxuLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBhIFNhZmFyaSBTZWxlY3Rpb24vc2hhZG93IERPTSBidWcgKCM0MTQpXG5mdW5jdGlvbiBzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2sodmlldywgc2VsZWN0aW9uKSB7XG4gICAgaWYgKHNlbGVjdGlvbi5nZXRDb21wb3NlZFJhbmdlcykge1xuICAgICAgICBsZXQgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0Q29tcG9zZWRSYW5nZXModmlldy5yb290KVswXTtcbiAgICAgICAgaWYgKHJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkU2VsZWN0aW9uUmFuZ2VGcm9tUmFuZ2UodmlldywgcmFuZ2UpO1xuICAgIH1cbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIC8vIEJlY2F1c2UgU2FmYXJpIChhdCBsZWFzdCBpbiAyMDE4LTIwMjEpIGRvZXNuJ3QgcHJvdmlkZSByZWd1bGFyXG4gICAgLy8gYWNjZXNzIHRvIHRoZSBzZWxlY3Rpb24gaW5zaWRlIGEgc2hhZG93cm9vdCwgd2UgaGF2ZSB0byBwZXJmb3JtIGFcbiAgICAvLyByaWRpY3Vsb3VzIGhhY2sgdG8gZ2V0IGF0IGl04oCUdXNpbmcgYGV4ZWNDb21tYW5kYCB0byB0cmlnZ2VyIGFcbiAgICAvLyBgYmVmb3JlSW5wdXRgIGV2ZW50IHNvIHRoYXQgd2UgY2FuIHJlYWQgdGhlIHRhcmdldCByYW5nZSBmcm9tIHRoZVxuICAgIC8vIGV2ZW50LlxuICAgIGZ1bmN0aW9uIHJlYWQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGZvdW5kID0gZXZlbnQuZ2V0VGFyZ2V0UmFuZ2VzKClbMF07XG4gICAgfVxuICAgIHZpZXcuY29udGVudERPTS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgcmVhZCwgdHJ1ZSk7XG4gICAgdmlldy5kb20ub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImluZGVudFwiKTtcbiAgICB2aWV3LmNvbnRlbnRET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZWlucHV0XCIsIHJlYWQsIHRydWUpO1xuICAgIHJldHVybiBmb3VuZCA/IGJ1aWxkU2VsZWN0aW9uUmFuZ2VGcm9tUmFuZ2UodmlldywgZm91bmQpIDogbnVsbDtcbn1cbmNsYXNzIEVkaXRDb250ZXh0TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICAvLyBUaGUgZG9jdW1lbnQgd2luZG93IGZvciB3aGljaCB0aGUgdGV4dCBpbiB0aGUgY29udGV4dCBpc1xuICAgICAgICAvLyBtYWludGFpbmVkLiBGb3IgbGFyZ2UgZG9jdW1lbnRzLCB0aGlzIG1heSBiZSBzbWFsbGVyIHRoYW4gdGhlXG4gICAgICAgIC8vIGVkaXRvciBkb2N1bWVudC4gVGhpcyB3aW5kb3cgYWx3YXlzIGluY2x1ZGVzIHRoZSBzZWxlY3Rpb24gaGVhZC5cbiAgICAgICAgdGhpcy5mcm9tID0gMDtcbiAgICAgICAgdGhpcy50byA9IDA7XG4gICAgICAgIC8vIFdoZW4gYXBwbHlpbmcgYSB0cmFuc2FjdGlvbiwgdGhpcyBpcyB1c2VkIHRvIGNvbXBhcmUgdGhlIGNoYW5nZVxuICAgICAgICAvLyBtYWRlIHRvIHRoZSBjb250ZXh0IGNvbnRlbnQgdG8gdGhlIGNoYW5nZSBpbiB0aGUgdHJhbnNhY3Rpb24gaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gbWFrZSB0aGUgbWluaW1hbCBjaGFuZ2VzIHRvIHRoZSBjb250ZXh0IChzaW5jZSB0b3VjaGluZ1xuICAgICAgICAvLyB0aGF0IHNvbWV0aW1lcyBicmVha3Mgc2VyaWVzIG9mIG11bHRpcGxlIGVkaXRzIG1hZGUgZm9yIGEgc2luZ2xlXG4gICAgICAgIC8vIHVzZXIgYWN0aW9uIG9uIHNvbWUgQW5kcm9pZCBrZXlib2FyZHMpXG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5yZXNldFJhbmdlKHZpZXcuc3RhdGUpO1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuZWRpdENvbnRleHQgPSBuZXcgd2luZG93LkVkaXRDb250ZXh0KHtcbiAgICAgICAgICAgIHRleHQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHRoaXMuZnJvbSwgdGhpcy50byksXG4gICAgICAgICAgICBzZWxlY3Rpb25TdGFydDogdGhpcy50b0NvbnRleHRQb3MoTWF0aC5tYXgodGhpcy5mcm9tLCBNYXRoLm1pbih0aGlzLnRvLCB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvcikpKSxcbiAgICAgICAgICAgIHNlbGVjdGlvbkVuZDogdGhpcy50b0NvbnRleHRQb3Modmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy50ZXh0dXBkYXRlID0gZSA9PiB7XG4gICAgICAgICAgICBsZXQgeyBhbmNob3IgfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgICAgICBsZXQgY2hhbmdlID0geyBmcm9tOiB0aGlzLnRvRWRpdG9yUG9zKGUudXBkYXRlUmFuZ2VTdGFydCksXG4gICAgICAgICAgICAgICAgdG86IHRoaXMudG9FZGl0b3JQb3MoZS51cGRhdGVSYW5nZUVuZCksXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiBUZXh0Lm9mKGUudGV4dC5zcGxpdChcIlxcblwiKSkgfTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB3aW5kb3cgZG9lc24ndCBpbmNsdWRlIHRoZSBhbmNob3IsIGFzc3VtZSBjaGFuZ2VzXG4gICAgICAgICAgICAvLyBhZGphY2VudCB0byBhIHNpZGUgZ28gdXAgdG8gdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UuZnJvbSA9PSB0aGlzLmZyb20gJiYgYW5jaG9yIDwgdGhpcy5mcm9tKVxuICAgICAgICAgICAgICAgIGNoYW5nZS5mcm9tID0gYW5jaG9yO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnRvID09IHRoaXMudG8gJiYgYW5jaG9yID4gdGhpcy50bylcbiAgICAgICAgICAgICAgICBjaGFuZ2UudG8gPSBhbmNob3I7XG4gICAgICAgICAgICAvLyBFZGl0IGNvbnRleHRzIHNvbWV0aW1lcyBmaXJlIGVtcHR5IGNoYW5nZXNcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgIWNoYW5nZS5pbnNlcnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBjaGFuZ2U7XG4gICAgICAgICAgICBpZiAoIXZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICAgICAgYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCBjaGFuZ2UsIEVkaXRvclNlbGVjdGlvbi5zaW5nbGUodGhpcy50b0VkaXRvclBvcyhlLnNlbGVjdGlvblN0YXJ0KSwgdGhpcy50b0VkaXRvclBvcyhlLnNlbGVjdGlvbkVuZCkpKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBkaWRuJ3QgZmx1c2ggb3VyIGNoYW5nZSwgcmV2ZXJ0IGl0IHNvXG4gICAgICAgICAgICAvLyB0aGF0IHRoZSBjb250ZXh0IGlzIGluIHN5bmMgd2l0aCB0aGUgZWRpdG9yIHN0YXRlIGFnYWluLlxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVydFBlbmRpbmcodmlldy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24odmlldy5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuY2hhcmFjdGVyYm91bmRzdXBkYXRlID0gZSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVjdHMgPSBbXSwgcHJldiA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b0VkaXRvclBvcyhlLnJhbmdlU3RhcnQpLCBlbmQgPSB0aGlzLnRvRWRpdG9yUG9zKGUucmFuZ2VFbmQpOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHZpZXcuY29vcmRzRm9yQ2hhcihpKTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gKHJlY3QgJiYgbmV3IERPTVJlY3QocmVjdC5sZWZ0LCByZWN0LnRvcCwgcmVjdC5yaWdodCAtIHJlY3QubGVmdCwgcmVjdC5ib3R0b20gLSByZWN0LnRvcCkpXG4gICAgICAgICAgICAgICAgICAgIHx8IHByZXYgfHwgbmV3IERPTVJlY3Q7XG4gICAgICAgICAgICAgICAgcmVjdHMucHVzaChwcmV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQudXBkYXRlQ2hhcmFjdGVyQm91bmRzKGUucmFuZ2VTdGFydCwgcmVjdHMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnRleHRmb3JtYXR1cGRhdGUgPSBlID0+IHtcbiAgICAgICAgICAgIGxldCBkZWNvID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBmb3JtYXQgb2YgZS5nZXRUZXh0Rm9ybWF0cygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVTdHlsZSA9IGZvcm1hdC51bmRlcmxpbmVTdHlsZSwgdGhpY2tuZXNzID0gZm9ybWF0LnVuZGVybGluZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICBpZiAobGluZVN0eWxlICE9IFwiTm9uZVwiICYmIHRoaWNrbmVzcyAhPSBcIk5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSBgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgJHtsaW5lU3R5bGUgPT0gXCJEYXNoZWRcIiA/IFwiZGFzaGVkIFwiIDogbGluZVN0eWxlID09IFwiU3F1aWdnbGVcIiA/IFwid2F2eSBcIiA6IFwiXCJ9JHt0aGlja25lc3MgPT0gXCJUaGluXCIgPyAxIDogMn1weGA7XG4gICAgICAgICAgICAgICAgICAgIGRlY28ucHVzaChEZWNvcmF0aW9uLm1hcmsoeyBhdHRyaWJ1dGVzOiB7IHN0eWxlIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yYW5nZSh0aGlzLnRvRWRpdG9yUG9zKGZvcm1hdC5yYW5nZVN0YXJ0KSwgdGhpcy50b0VkaXRvclBvcyhmb3JtYXQucmFuZ2VFbmQpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldEVkaXRDb250ZXh0Rm9ybWF0dGluZy5vZihEZWNvcmF0aW9uLnNldChkZWNvKSkgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuY29tcG9zaXRpb25zdGFydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nIDwgMCkge1xuICAgICAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAwO1xuICAgICAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5jb21wb3NpdGlvbmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gdGhpcy5oYW5kbGVycylcbiAgICAgICAgICAgIGNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5oYW5kbGVyc1tldmVudF0pO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlQ29udHJvbEJvdW5kcyh2aWV3LmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsICYmIHNlbC5yYW5nZUNvdW50KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZVNlbGVjdGlvbkJvdW5kcyhzZWwuZ2V0UmFuZ2VBdCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICB9IH07XG4gICAgfVxuICAgIGFwcGx5RWRpdHModXBkYXRlKSB7XG4gICAgICAgIGxldCBvZmYgPSAwLCBhYm9ydCA9IGZhbHNlLCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZTtcbiAgICAgICAgdXBkYXRlLmNoYW5nZXMuaXRlckNoYW5nZXMoKGZyb21BLCB0b0EsIF9mcm9tQiwgX3RvQiwgaW5zZXJ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoYWJvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGRMZW4gPSBpbnNlcnQubGVuZ3RoIC0gKHRvQSAtIGZyb21BKTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nICYmIHRvQSA+PSBwZW5kaW5nLnRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcuZnJvbSA9PSBmcm9tQSAmJiBwZW5kaW5nLnRvID09IHRvQSAmJiBwZW5kaW5nLmluc2VydC5lcShpbnNlcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSB0aGlzLnBlbmRpbmdDb250ZXh0Q2hhbmdlID0gbnVsbDsgLy8gTWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgb2ZmICs9IGRMZW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG8gKz0gZExlbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gTWlzbWF0Y2gsIHJldmVydFxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnRQZW5kaW5nKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUEgKz0gb2ZmO1xuICAgICAgICAgICAgdG9BICs9IG9mZjtcbiAgICAgICAgICAgIGlmICh0b0EgPD0gdGhpcy5mcm9tKSB7IC8vIEJlZm9yZSB0aGUgd2luZG93XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tICs9IGRMZW47XG4gICAgICAgICAgICAgICAgdGhpcy50byArPSBkTGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbUEgPCB0aGlzLnRvKSB7IC8vIE92ZXJsYXBzIHdpdGggd2luZG93XG4gICAgICAgICAgICAgICAgaWYgKGZyb21BIDwgdGhpcy5mcm9tIHx8IHRvQSA+IHRoaXMudG8gfHwgKHRoaXMudG8gLSB0aGlzLmZyb20pICsgaW5zZXJ0Lmxlbmd0aCA+IDMwMDAwIC8qIEN4VnAuTWF4U2l6ZSAqLykge1xuICAgICAgICAgICAgICAgICAgICBhYm9ydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVUZXh0KHRoaXMudG9Db250ZXh0UG9zKGZyb21BKSwgdGhpcy50b0NvbnRleHRQb3ModG9BKSwgaW5zZXJ0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudG8gKz0gZExlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZiArPSBkTGVuO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBlbmRpbmcgJiYgIWFib3J0KVxuICAgICAgICAgICAgdGhpcy5yZXZlcnRQZW5kaW5nKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIHJldHVybiAhYWJvcnQ7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHJldmVydGVkID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZTtcbiAgICAgICAgaWYgKCF0aGlzLmFwcGx5RWRpdHModXBkYXRlKSB8fCAhdGhpcy5yYW5nZUlzVmFsaWQodXBkYXRlLnN0YXRlKSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFuZ2UodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlVGV4dCgwLCB0aGlzLmVkaXRDb250ZXh0LnRleHQubGVuZ3RoLCB1cGRhdGUuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHRoaXMuZnJvbSwgdGhpcy50bykpO1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24odXBkYXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IHJldmVydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbih1cGRhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkIHx8IHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQpXG4gICAgICAgICAgICB1cGRhdGUudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgIH1cbiAgICByZXNldFJhbmdlKHN0YXRlKSB7XG4gICAgICAgIGxldCB7IGhlYWQgfSA9IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICB0aGlzLmZyb20gPSBNYXRoLm1heCgwLCBoZWFkIC0gMTAwMDAgLyogQ3hWcC5NYXJnaW4gKi8pO1xuICAgICAgICB0aGlzLnRvID0gTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgaGVhZCArIDEwMDAwIC8qIEN4VnAuTWFyZ2luICovKTtcbiAgICB9XG4gICAgcmV2ZXJ0UGVuZGluZyhzdGF0ZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZVRleHQodGhpcy50b0NvbnRleHRQb3MocGVuZGluZy5mcm9tKSwgdGhpcy50b0NvbnRleHRQb3MocGVuZGluZy5mcm9tICsgcGVuZGluZy5pbnNlcnQubGVuZ3RoKSwgc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHBlbmRpbmcuZnJvbSwgcGVuZGluZy50bykpO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgbGV0IHsgbWFpbiB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnRvQ29udGV4dFBvcyhNYXRoLm1heCh0aGlzLmZyb20sIE1hdGgubWluKHRoaXMudG8sIG1haW4uYW5jaG9yKSkpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy50b0NvbnRleHRQb3MobWFpbi5oZWFkKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdENvbnRleHQuc2VsZWN0aW9uU3RhcnQgIT0gc3RhcnQgfHwgdGhpcy5lZGl0Q29udGV4dC5zZWxlY3Rpb25FbmQgIT0gZW5kKVxuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVTZWxlY3Rpb24oc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHJhbmdlSXNWYWxpZChzdGF0ZSkge1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgcmV0dXJuICEodGhpcy5mcm9tID4gMCAmJiBoZWFkIC0gdGhpcy5mcm9tIDwgNTAwIC8qIEN4VnAuTWluTWFyZ2luICovIHx8XG4gICAgICAgICAgICB0aGlzLnRvIDwgc3RhdGUuZG9jLmxlbmd0aCAmJiB0aGlzLnRvIC0gaGVhZCA8IDUwMCAvKiBDeFZwLk1pbk1hcmdpbiAqLyB8fFxuICAgICAgICAgICAgdGhpcy50byAtIHRoaXMuZnJvbSA+IDEwMDAwIC8qIEN4VnAuTWFyZ2luICovICogMyk7XG4gICAgfVxuICAgIHRvRWRpdG9yUG9zKGNvbnRleHRQb3MpIHsgcmV0dXJuIGNvbnRleHRQb3MgKyB0aGlzLmZyb207IH1cbiAgICB0b0NvbnRleHRQb3MoZWRpdG9yUG9zKSB7IHJldHVybiBlZGl0b3JQb3MgLSB0aGlzLmZyb207IH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBldmVudCBpbiB0aGlzLmhhbmRsZXJzKVxuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmhhbmRsZXJzW2V2ZW50XSk7XG4gICAgfVxufVxuXG4vLyBUaGUgZWRpdG9yJ3MgdXBkYXRlIHN0YXRlIG1hY2hpbmUgbG9va3Mgc29tZXRoaW5nIGxpa2UgdGhpczpcbi8vXG4vLyAgICAgSWRsZSDihpIgVXBkYXRpbmcg4oeGIElkbGUgKHVuY2hlY2tlZCkg4oaSIE1lYXN1cmluZyDihpIgSWRsZVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGkSAgICAgIOKGk1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0aW5nIChtZWFzdXJlKVxuLy9cbi8vIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gJ0lkbGUnIGFuZCAnSWRsZSAodW5jaGVja2VkKScgbGllcyBpblxuLy8gd2hldGhlciBhIGxheW91dCBjaGVjayBoYXMgYmVlbiBzY2hlZHVsZWQuIEEgcmVndWxhciB1cGRhdGUgdGhyb3VnaFxuLy8gdGhlIGB1cGRhdGVgIG1ldGhvZCB1cGRhdGVzIHRoZSBET00gaW4gYSB3cml0ZS1vbmx5IGZhc2hpb24sIGFuZFxuLy8gcmVsaWVzIG9uIGEgY2hlY2sgKHNjaGVkdWxlZCB3aXRoIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgKSB0byBtYWtlXG4vLyBzdXJlIGV2ZXJ5dGhpbmcgaXMgd2hlcmUgaXQgc2hvdWxkIGJlIGFuZCB0aGUgdmlld3BvcnQgY292ZXJzIHRoZVxuLy8gdmlzaWJsZSBjb2RlLiBUaGF0IGNoZWNrIGNvbnRpbnVlcyB0byBtZWFzdXJlIGFuZCB0aGVuIG9wdGlvbmFsbHlcbi8vIHVwZGF0ZSB1bnRpbCBpdCByZWFjaGVzIGEgY29oZXJlbnQgc3RhdGUuXG4vKipcbkFuIGVkaXRvciB2aWV3IHJlcHJlc2VudHMgdGhlIGVkaXRvcidzIHVzZXIgaW50ZXJmYWNlLiBJdCBob2xkc1xudGhlIGVkaXRhYmxlIERPTSBzdXJmYWNlLCBhbmQgcG9zc2libHkgb3RoZXIgZWxlbWVudHMgc3VjaCBhcyB0aGVcbmxpbmUgbnVtYmVyIGd1dHRlci4gSXQgaGFuZGxlcyBldmVudHMgYW5kIGRpc3BhdGNoZXMgc3RhdGVcbnRyYW5zYWN0aW9ucyBmb3IgZWRpdGluZyBhY3Rpb25zLlxuKi9cbmNsYXNzIEVkaXRvclZpZXcge1xuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnN0YXRlOyB9XG4gICAgLyoqXG4gICAgVG8gYmUgYWJsZSB0byBkaXNwbGF5IGxhcmdlIGRvY3VtZW50cyB3aXRob3V0IGNvbnN1bWluZyB0b28gbXVjaFxuICAgIG1lbW9yeSBvciBvdmVybG9hZGluZyB0aGUgYnJvd3NlciwgQ29kZU1pcnJvciBvbmx5IGRyYXdzIHRoZVxuICAgIGNvZGUgdGhhdCBpcyB2aXNpYmxlIChwbHVzIGEgbWFyZ2luIGFyb3VuZCBpdCkgdG8gdGhlIERPTS4gVGhpc1xuICAgIHByb3BlcnR5IHRlbGxzIHlvdSB0aGUgZXh0ZW50IG9mIHRoZSBjdXJyZW50IGRyYXduIHZpZXdwb3J0LCBpblxuICAgIGRvY3VtZW50IHBvc2l0aW9ucy5cbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpZXdwb3J0OyB9XG4gICAgLyoqXG4gICAgV2hlbiB0aGVyZSBhcmUsIGZvciBleGFtcGxlLCBsYXJnZSBjb2xsYXBzZWQgcmFuZ2VzIGluIHRoZVxuICAgIHZpZXdwb3J0LCBpdHMgc2l6ZSBjYW4gYmUgYSBsb3QgYmlnZ2VyIHRoYW4gdGhlIGFjdHVhbCB2aXNpYmxlXG4gICAgY29udGVudC4gVGh1cywgaWYgeW91IGFyZSBkb2luZyBzb21ldGhpbmcgbGlrZSBzdHlsaW5nIHRoZVxuICAgIGNvbnRlbnQgaW4gdGhlIHZpZXdwb3J0LCBpdCBpcyBwcmVmZXJhYmxlIHRvIG9ubHkgZG8gc28gZm9yXG4gICAgdGhlc2UgcmFuZ2VzLCB3aGljaCBhcmUgdGhlIHN1YnNldCBvZiB0aGUgdmlld3BvcnQgdGhhdCBpc1xuICAgIGFjdHVhbGx5IGRyYXduLlxuICAgICovXG4gICAgZ2V0IHZpc2libGVSYW5nZXMoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS52aXNpYmxlUmFuZ2VzOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBmYWxzZSB3aGVuIHRoZSBlZGl0b3IgaXMgZW50aXJlbHkgc2Nyb2xsZWQgb3V0IG9mIHZpZXdcbiAgICBvciBvdGhlcndpc2UgaGlkZGVuLlxuICAgICovXG4gICAgZ2V0IGluVmlldygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmluVmlldzsgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBjb21wb3NpbmcgdGV4dCB2aWFcbiAgICBbSU1FXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnB1dF9tZXRob2QpLCBhbmQgYXQgbGVhc3RcbiAgICBvbmUgY2hhbmdlIGhhcyBiZWVuIG1hZGUgaW4gdGhlIGN1cnJlbnQgY29tcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgY29tcG9zaW5nKCkgeyByZXR1cm4gdGhpcy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+IDA7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdXNlciBpcyBjdXJyZW50bHkgaW4gY29tcG9zaW5nIHN0YXRlLiBOb3RlXG4gICAgdGhhdCBvbiBzb21lIHBsYXRmb3JtcywgbGlrZSBBbmRyb2lkLCB0aGlzIHdpbGwgYmUgdGhlIGNhc2UgYVxuICAgIGxvdCwgc2luY2UganVzdCBwdXR0aW5nIHRoZSBjdXJzb3Igb24gYSB3b3JkIHN0YXJ0cyBhXG4gICAgY29tcG9zaXRpb24gdGhlcmUuXG4gICAgKi9cbiAgICBnZXQgY29tcG9zaXRpb25TdGFydGVkKCkgeyByZXR1cm4gdGhpcy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwOyB9XG4gICAgLyoqXG4gICAgVGhlIGRvY3VtZW50IG9yIHNoYWRvdyByb290IHRoYXQgdGhlIHZpZXcgbGl2ZXMgaW4uXG4gICAgKi9cbiAgICBnZXQgcm9vdCgpIHsgcmV0dXJuIHRoaXMuX3Jvb3Q7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCB3aW4oKSB7IHJldHVybiB0aGlzLmRvbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdzsgfVxuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIG5ldyB2aWV3LiBZb3UnbGwgd2FudCB0byBlaXRoZXIgcHJvdmlkZSBhIGBwYXJlbnRgXG4gICAgb3B0aW9uLCBvciBwdXQgYHZpZXcuZG9tYCBpbnRvIHlvdXIgZG9jdW1lbnQgYWZ0ZXIgY3JlYXRpbmcgYVxuICAgIHZpZXcsIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHNlZSB0aGUgZWRpdG9yLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5wbHVnaW5NYXAgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLmVkaXRvckF0dHJzID0ge307XG4gICAgICAgIHRoaXMuY29udGVudEF0dHJzID0ge307XG4gICAgICAgIHRoaXMuYmlkaUNhY2hlID0gW107XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxdWVzdHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb250ZW50RE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5zY3JvbGxET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnNjcm9sbERPTS50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnNjcm9sbERPTS5jbGFzc05hbWUgPSBcImNtLXNjcm9sbGVyXCI7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKHRoaXMuY29udGVudERPTSk7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmFubm91bmNlRE9NLmNsYXNzTmFtZSA9IFwiY20tYW5ub3VuY2VkXCI7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuYW5ub3VuY2VET00pO1xuICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbERPTSk7XG4gICAgICAgIGlmIChjb25maWcucGFyZW50KVxuICAgICAgICAgICAgY29uZmlnLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7XG4gICAgICAgIGxldCB7IGRpc3BhdGNoIH0gPSBjb25maWc7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgPSBjb25maWcuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgfHxcbiAgICAgICAgICAgIChkaXNwYXRjaCAmJiAoKHRycykgPT4gdHJzLmZvckVhY2godHIgPT4gZGlzcGF0Y2godHIsIHRoaXMpKSkpIHx8XG4gICAgICAgICAgICAoKHRycykgPT4gdGhpcy51cGRhdGUodHJzKSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSB0aGlzLmRpc3BhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSAoY29uZmlnLnJvb3QgfHwgZ2V0Um9vdChjb25maWcucGFyZW50KSB8fCBkb2N1bWVudCk7XG4gICAgICAgIHRoaXMudmlld1N0YXRlID0gbmV3IFZpZXdTdGF0ZShjb25maWcuc3RhdGUgfHwgRWRpdG9yU3RhdGUuY3JlYXRlKGNvbmZpZykpO1xuICAgICAgICBpZiAoY29uZmlnLnNjcm9sbFRvICYmIGNvbmZpZy5zY3JvbGxUby5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQgPSBjb25maWcuc2Nyb2xsVG8udmFsdWUuY2xpcCh0aGlzLnZpZXdTdGF0ZS5zdGF0ZSk7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRoaXMuc3RhdGUuZmFjZXQodmlld1BsdWdpbikubWFwKHNwZWMgPT4gbmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgIHBsdWdpbi51cGRhdGUodGhpcyk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgRE9NT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9IG5ldyBJbnB1dFN0YXRlKHRoaXMpO1xuICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICAgICAgdGhpcy5kb2NWaWV3ID0gbmV3IERvY1ZpZXcodGhpcyk7XG4gICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIGlmICgoX2EgPSBkb2N1bWVudC5mb250cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlYWR5KVxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKSA9PiB0aGlzLnJlcXVlc3RNZWFzdXJlKCkpO1xuICAgIH1cbiAgICBkaXNwYXRjaCguLi5pbnB1dCkge1xuICAgICAgICBsZXQgdHJzID0gaW5wdXQubGVuZ3RoID09IDEgJiYgaW5wdXRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiA/IGlucHV0XG4gICAgICAgICAgICA6IGlucHV0Lmxlbmd0aCA9PSAxICYmIEFycmF5LmlzQXJyYXkoaW5wdXRbMF0pID8gaW5wdXRbMF1cbiAgICAgICAgICAgICAgICA6IFt0aGlzLnN0YXRlLnVwZGF0ZSguLi5pbnB1dCldO1xuICAgICAgICB0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb25zKHRycywgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldyBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gVGhpcyB3aWxsXG4gICAgdXBkYXRlIHRoZSB2aXNpYmxlIGRvY3VtZW50IGFuZCBzZWxlY3Rpb24gdG8gbWF0Y2ggdGhlIHN0YXRlXG4gICAgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9ucywgYW5kIG5vdGlmeSB2aWV3IHBsdWdpbnMgb2YgdGhlXG4gICAgY2hhbmdlLiBZb3Ugc2hvdWxkIHVzdWFsbHkgY2FsbFxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZCwgd2hpY2ggdXNlcyB0aGlzXG4gICAgYXMgYSBwcmltaXRpdmUuXG4gICAgKi9cbiAgICB1cGRhdGUodHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcudXBkYXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGxldCByZWRyYXduID0gZmFsc2UsIGF0dHJzQ2hhbmdlZCA9IGZhbHNlLCB1cGRhdGU7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUgIT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gdXBkYXRlIHN0YXRlIHdpdGggYSB0cmFuc2FjdGlvbiB0aGF0IGRvZXNuJ3Qgc3RhcnQgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUuXCIpO1xuICAgICAgICAgICAgc3RhdGUgPSB0ci5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvY3VzID0gdGhpcy5oYXNGb2N1cywgZm9jdXNGbGFnID0gMCwgZGlzcGF0Y2hGb2N1cyA9IG51bGw7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5hbm5vdGF0aW9uKGlzRm9jdXNDaGFuZ2UpKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gSWYgYSBmb2N1cy1jaGFuZ2UgdHJhbnNhY3Rpb24gaXMgYmVpbmcgZGlzcGF0Y2hlZCwgc2V0IHRoaXMgdXBkYXRlIGZsYWcuXG4gICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9jdXMgIT0gdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBzZXBhcmF0ZSBmb2N1cyB0cmFuc2FjdGlvbiBpZiBuZWNlc3NhcnksIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gYWRkIGEgZmxhZyB0byB0aGlzIHVwZGF0ZVxuICAgICAgICAgICAgZGlzcGF0Y2hGb2N1cyA9IGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24oc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgICAgIGlmICghZGlzcGF0Y2hGb2N1cylcbiAgICAgICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgcGVuZGluZyBET00gY2hhbmdlLCBlYWdlcmx5IHJlYWQgaXQgYW5kIHRyeSB0b1xuICAgICAgICAvLyBhcHBseSBpdCBhZnRlciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb25zLlxuICAgICAgICBsZXQgcGVuZGluZ0tleSA9IHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXksIGRvbUNoYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChwZW5kaW5nS2V5KSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgIGRvbUNoYW5nZSA9IHRoaXMub2JzZXJ2ZXIucmVhZENoYW5nZSgpO1xuICAgICAgICAgICAgLy8gT25seSB0cnkgdG8gYXBwbHkgRE9NIGNoYW5nZXMgaWYgdGhlIHRyYW5zYWN0aW9ucyBkaWRuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgZG9jIG9yIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIGlmIChkb21DaGFuZ2UgJiYgIXRoaXMuc3RhdGUuZG9jLmVxKHN0YXRlLmRvYykgfHwgIXRoaXMuc3RhdGUuc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgZG9tQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBwaHJhc2VzIGNoYW5nZSwgcmVkcmF3IHRoZSBlZGl0b3JcbiAgICAgICAgaWYgKHN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLnBocmFzZXMpICE9IHRoaXMuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gZm9jdXNGbGFnO1xuICAgICAgICBsZXQgc2Nyb2xsVGFyZ2V0ID0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICBmb3IgKGxldCB0ciBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBzY3JvbGxUYXJnZXQubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyBtYWluIH0gPSB0ci5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IG5ldyBTY3JvbGxUYXJnZXQobWFpbi5lbXB0eSA/IG1haW4gOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG1haW4uaGVhZCwgbWFpbi5oZWFkID4gbWFpbi5hbmNob3IgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBlLnZhbHVlLmNsaXAodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS51cGRhdGUodXBkYXRlLCBzY3JvbGxUYXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBDYWNoZWRPcmRlci51cGRhdGUodGhpcy5iaWRpQ2FjaGUsIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIGlmICghdXBkYXRlLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbHVnaW5zKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVkcmF3biA9IHRoaXMuZG9jVmlldy51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmZhY2V0KHN0eWxlTW9kdWxlKSAhPSB0aGlzLnN0eWxlTW9kdWxlcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgICAgICBhdHRyc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgICAgICB0aGlzLnNob3dBbm5vdW5jZW1lbnRzKHRyYW5zYWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKHJlZHJhd24sIHRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLmlzVXNlckV2ZW50KFwic2VsZWN0LnBvaW50ZXJcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KHRoZW1lKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQodGhlbWUpKVxuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHJlZHJhd24gfHwgYXR0cnNDaGFuZ2VkIHx8IHNjcm9sbFRhcmdldCB8fCB0aGlzLnZpZXdTdGF0ZS5tdXN0RW5mb3JjZUN1cnNvckFzc29jIHx8IHRoaXMudmlld1N0YXRlLm11c3RNZWFzdXJlQ29udGVudClcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgaWYgKHJlZHJhd24pXG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXdVcGRhdGUoKTtcbiAgICAgICAgaWYgKCF1cGRhdGUuZW1wdHkpXG4gICAgICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlLmZhY2V0KHVwZGF0ZUxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlLCBcInVwZGF0ZSBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwYXRjaEZvY3VzIHx8IGRvbUNoYW5nZSlcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkaXNwYXRjaEZvY3VzICYmIHRoaXMuc3RhdGUgPT0gZGlzcGF0Y2hGb2N1cy5zdGFydFN0YXRlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKGRpc3BhdGNoRm9jdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkb21DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcHBseURPTUNoYW5nZSh0aGlzLCBkb21DaGFuZ2UpICYmIHBlbmRpbmdLZXkuZm9yY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh0aGlzLmNvbnRlbnRET00sIHBlbmRpbmdLZXkua2V5LCBwZW5kaW5nS2V5LmtleUNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXNldCB0aGUgdmlldyB0byB0aGUgZ2l2ZW4gc3RhdGUuIChUaGlzIHdpbGwgY2F1c2UgdGhlIGVudGlyZVxuICAgIGRvY3VtZW50IHRvIGJlIHJlZHJhd24gYW5kIGFsbCB2aWV3IHBsdWdpbnMgdG8gYmUgcmVpbml0aWFsaXplZCxcbiAgICBzbyB5b3Ugc2hvdWxkIHByb2JhYmx5IG9ubHkgdXNlIGl0IHdoZW4gdGhlIG5ldyBzdGF0ZSBpc24ndFxuICAgIGRlcml2ZWQgZnJvbSB0aGUgb2xkIHN0YXRlLiBPdGhlcndpc2UsIHVzZVxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZC4pXG4gICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSAhPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxscyB0byBFZGl0b3JWaWV3LnNldFN0YXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgbGV0IGhhZEZvY3VzID0gdGhpcy5oYXNGb2N1cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZSA9IG5ldyBWaWV3U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zID0gbmV3U3RhdGUuZmFjZXQodmlld1BsdWdpbikubWFwKHNwZWMgPT4gbmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLmNsZWFyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIHBsdWdpbi51cGRhdGUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kb2NWaWV3ID0gbmV3IERvY1ZpZXcodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0cnMoKTtcbiAgICAgICAgICAgIHRoaXMuYmlkaUNhY2hlID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYWRGb2N1cylcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgIH1cbiAgICB1cGRhdGVQbHVnaW5zKHVwZGF0ZSkge1xuICAgICAgICBsZXQgcHJldlNwZWNzID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQodmlld1BsdWdpbiksIHNwZWNzID0gdXBkYXRlLnN0YXRlLmZhY2V0KHZpZXdQbHVnaW4pO1xuICAgICAgICBpZiAocHJldlNwZWNzICE9IHNwZWNzKSB7XG4gICAgICAgICAgICBsZXQgbmV3UGx1Z2lucyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgc3BlYyBvZiBzcGVjcykge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IHByZXZTcGVjcy5pbmRleE9mKHNwZWMpO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGx1Z2lucy5wdXNoKG5ldyBQbHVnaW5JbnN0YW5jZShzcGVjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy5wbHVnaW5zW2ZvdW5kXTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm11c3RVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5tdXN0VXBkYXRlICE9IHVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXdQbHVnaW5zO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIHAubXVzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGx1Z2lucy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tpXS51cGRhdGUodGhpcyk7XG4gICAgICAgIGlmIChwcmV2U3BlY3MgIT0gc3BlY3MpXG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICB9XG4gICAgZG9jVmlld1VwZGF0ZSgpIHtcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IHBsdWdpbi52YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgdmFsLmRvY1ZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YWwuZG9jVmlld1VwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMuc3RhdGUsIGUsIFwiZG9jIHZpZXcgdXBkYXRlIGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1lYXN1cmUoZmx1c2ggPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXkpIHtcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IDA7IC8vIFByZXZlbnQgcmVxdWVzdE1lYXN1cmUgY2FsbHMgZnJvbSBzY2hlZHVsaW5nIGFub3RoZXIgYW5pbWF0aW9uIGZyYW1lXG4gICAgICAgIGlmIChmbHVzaClcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZm9yY2VGbHVzaCgpO1xuICAgICAgICBsZXQgdXBkYXRlZCA9IG51bGw7XG4gICAgICAgIGxldCBzRE9NID0gdGhpcy5zY3JvbGxET00sIHNjcm9sbFRvcCA9IHNET00uc2Nyb2xsVG9wICogdGhpcy5zY2FsZVk7XG4gICAgICAgIGxldCB7IHNjcm9sbEFuY2hvclBvcywgc2Nyb2xsQW5jaG9ySGVpZ2h0IH0gPSB0aGlzLnZpZXdTdGF0ZTtcbiAgICAgICAgaWYgKE1hdGguYWJzKHNjcm9sbFRvcCAtIHRoaXMudmlld1N0YXRlLnNjcm9sbFRvcCkgPiAxKVxuICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW5jaG9ySGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTY3JvbGxlZFRvQm90dG9tKHNET00pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3JQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IHRoaXMudmlld1N0YXRlLmhlaWdodE1hcC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxBbmNob3JBdChzY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yUG9zID0gYmxvY2suZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IGJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMSAvKiBVcGRhdGVTdGF0ZS5NZWFzdXJpbmcgKi87XG4gICAgICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLnZpZXdTdGF0ZS5tZWFzdXJlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlZCAmJiAhdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoICYmIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk1lYXN1cmUgbG9vcCByZXN0YXJ0ZWQgbW9yZSB0aGFuIDUgdGltZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlZpZXdwb3J0IGZhaWxlZCB0byBzdGFiaWxpemVcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyaW5nID0gW107XG4gICAgICAgICAgICAgICAgLy8gT25seSBydW4gbWVhc3VyZSByZXF1ZXN0cyBpbiB0aGlzIGN5Y2xlIHdoZW4gdGhlIHZpZXdwb3J0IGRpZG4ndCBjaGFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoIShjaGFuZ2VkICYgNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovKSlcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMubWVhc3VyZVJlcXVlc3RzLCBtZWFzdXJpbmddID0gW21lYXN1cmluZywgdGhpcy5tZWFzdXJlUmVxdWVzdHNdO1xuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJlZCA9IG1lYXN1cmluZy5tYXAobSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5yZWFkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmFkTWVhc3VyZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxldCB1cGRhdGUgPSBWaWV3VXBkYXRlLmNyZWF0ZSh0aGlzLCB0aGlzLnN0YXRlLCBbXSksIHJlZHJhd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gY2hhbmdlZDtcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB1cGRhdGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmZsYWdzIHw9IGNoYW5nZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGUuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbHVnaW5zKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgICAgICAgICByZWRyYXduID0gdGhpcy5kb2NWaWV3LnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVkcmF3bilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlld1VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lYXN1cmluZy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lYXN1cmVkW2ldICE9IEJhZE1lYXN1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBtZWFzdXJpbmdbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0ud3JpdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0ud3JpdGUobWVhc3VyZWRbaV0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVkcmF3bilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZS52aWV3cG9ydENoYW5nZWQgJiYgdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld1N0YXRlLmVkaXRvckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlldy5zY3JvbGxJbnRvVmlldyh0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3QW5jaG9ySGVpZ2h0ID0gc2Nyb2xsQW5jaG9yUG9zIDwgMCA/IHRoaXMudmlld1N0YXRlLmhlaWdodE1hcC5oZWlnaHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdChzY3JvbGxBbmNob3JQb3MpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IG5ld0FuY2hvckhlaWdodCAtIHNjcm9sbEFuY2hvckhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+IDEgfHwgZGlmZiA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIGRpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNET00uc2Nyb2xsVG9wID0gc2Nyb2xsVG9wIC8gdGhpcy5zY2FsZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLztcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVkICYmICF1cGRhdGVkLmVtcHR5KVxuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZS5mYWNldCh1cGRhdGVMaXN0ZW5lcikpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodXBkYXRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgQ1NTIGNsYXNzZXMgZm9yIHRoZSBjdXJyZW50bHkgYWN0aXZlIGVkaXRvciB0aGVtZXMuXG4gICAgKi9cbiAgICBnZXQgdGhlbWVDbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4gYmFzZVRoZW1lSUQgKyBcIiBcIiArXG4gICAgICAgICAgICAodGhpcy5zdGF0ZS5mYWNldChkYXJrVGhlbWUpID8gYmFzZURhcmtJRCA6IGJhc2VMaWdodElEKSArIFwiIFwiICtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZmFjZXQodGhlbWUpO1xuICAgIH1cbiAgICB1cGRhdGVBdHRycygpIHtcbiAgICAgICAgbGV0IGVkaXRvckF0dHJzID0gYXR0cnNGcm9tRmFjZXQodGhpcywgZWRpdG9yQXR0cmlidXRlcywge1xuICAgICAgICAgICAgY2xhc3M6IFwiY20tZWRpdG9yXCIgKyAodGhpcy5oYXNGb2N1cyA/IFwiIGNtLWZvY3VzZWQgXCIgOiBcIiBcIikgKyB0aGlzLnRoZW1lQ2xhc3Nlc1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGNvbnRlbnRBdHRycyA9IHtcbiAgICAgICAgICAgIHNwZWxsY2hlY2s6IFwiZmFsc2VcIixcbiAgICAgICAgICAgIGF1dG9jb3JyZWN0OiBcIm9mZlwiLFxuICAgICAgICAgICAgYXV0b2NhcGl0YWxpemU6IFwib2ZmXCIsXG4gICAgICAgICAgICB0cmFuc2xhdGU6IFwibm9cIixcbiAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogIXRoaXMuc3RhdGUuZmFjZXQoZWRpdGFibGUpID8gXCJmYWxzZVwiIDogXCJ0cnVlXCIsXG4gICAgICAgICAgICBjbGFzczogXCJjbS1jb250ZW50XCIsXG4gICAgICAgICAgICBzdHlsZTogYCR7YnJvd3Nlci50YWJTaXplfTogJHt0aGlzLnN0YXRlLnRhYlNpemV9YCxcbiAgICAgICAgICAgIHJvbGU6IFwidGV4dGJveFwiLFxuICAgICAgICAgICAgXCJhcmlhLW11bHRpbGluZVwiOiBcInRydWVcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIGNvbnRlbnRBdHRyc1tcImFyaWEtcmVhZG9ubHlcIl0gPSBcInRydWVcIjtcbiAgICAgICAgYXR0cnNGcm9tRmFjZXQodGhpcywgY29udGVudEF0dHJpYnV0ZXMsIGNvbnRlbnRBdHRycyk7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNoYW5nZWRDb250ZW50ID0gdXBkYXRlQXR0cnModGhpcy5jb250ZW50RE9NLCB0aGlzLmNvbnRlbnRBdHRycywgY29udGVudEF0dHJzKTtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkRWRpdG9yID0gdXBkYXRlQXR0cnModGhpcy5kb20sIHRoaXMuZWRpdG9yQXR0cnMsIGVkaXRvckF0dHJzKTtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VkQ29udGVudCB8fCBjaGFuZ2VkRWRpdG9yO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lZGl0b3JBdHRycyA9IGVkaXRvckF0dHJzO1xuICAgICAgICB0aGlzLmNvbnRlbnRBdHRycyA9IGNvbnRlbnRBdHRycztcbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICAgIHNob3dBbm5vdW5jZW1lbnRzKHRycykge1xuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCB0ciBvZiB0cnMpXG4gICAgICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKEVkaXRvclZpZXcuYW5ub3VuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VET00udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGl2ID0gdGhpcy5hbm5vdW5jZURPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gZWZmZWN0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICB9XG4gICAgbW91bnRTdHlsZXMoKSB7XG4gICAgICAgIHRoaXMuc3R5bGVNb2R1bGVzID0gdGhpcy5zdGF0ZS5mYWNldChzdHlsZU1vZHVsZSk7XG4gICAgICAgIGxldCBub25jZSA9IHRoaXMuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5jc3BOb25jZSk7XG4gICAgICAgIFN0eWxlTW9kdWxlLm1vdW50KHRoaXMucm9vdCwgdGhpcy5zdHlsZU1vZHVsZXMuY29uY2F0KGJhc2VUaGVtZSQxKS5yZXZlcnNlKCksIG5vbmNlID8geyBub25jZSB9IDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmVhZE1lYXN1cmVkKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSA9PSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVhZGluZyB0aGUgZWRpdG9yIGxheW91dCBpc24ndCBhbGxvd2VkIGR1cmluZyBhbiB1cGRhdGVcIik7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlID09IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLyAmJiB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPiAtMSlcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZShmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNjaGVkdWxlIGEgbGF5b3V0IG1lYXN1cmVtZW50LCBvcHRpb25hbGx5IHByb3ZpZGluZyBjYWxsYmFja3MgdG9cbiAgICBkbyBjdXN0b20gRE9NIG1lYXN1cmluZyBmb2xsb3dlZCBieSBhIERPTSB3cml0ZSBwaGFzZS4gVXNpbmdcbiAgICB0aGlzIGlzIHByZWZlcmFibGUgcmVhZGluZyBET00gbGF5b3V0IGRpcmVjdGx5IGZyb20sIGZvclxuICAgIGV4YW1wbGUsIGFuIGV2ZW50IGhhbmRsZXIsIGJlY2F1c2UgaXQnbGwgbWFrZSBzdXJlIG1lYXN1cmluZyBhbmRcbiAgICBkcmF3aW5nIGRvbmUgYnkgb3RoZXIgY29tcG9uZW50cyBpcyBzeW5jaHJvbml6ZWQsIGF2b2lkaW5nXG4gICAgdW5uZWNlc3NhcnkgRE9NIGxheW91dCBjb21wdXRhdGlvbnMuXG4gICAgKi9cbiAgICByZXF1ZXN0TWVhc3VyZShyZXF1ZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPCAwKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gdGhpcy53aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMubWVhc3VyZSgpKTtcbiAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lYXN1cmVSZXF1ZXN0cy5pbmRleE9mKHJlcXVlc3QpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3Qua2V5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWFzdXJlUmVxdWVzdHNbaV0ua2V5ID09PSByZXF1ZXN0LmtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlUmVxdWVzdHNbaV0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlUmVxdWVzdHMucHVzaChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWMgcGx1Z2luLCBpZiBwcmVzZW50LiBOb3RlIHRoYXRcbiAgICBwbHVnaW5zIHRoYXQgY3Jhc2ggY2FuIGJlIGRyb3BwZWQgZnJvbSBhIHZpZXcsIHNvIGV2ZW4gd2hlbiB5b3VcbiAgICBrbm93IHlvdSByZWdpc3RlcmVkIGEgZ2l2ZW4gcGx1Z2luLCBpdCBpcyByZWNvbW1lbmRlZCB0byBjaGVja1xuICAgIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhpcyBtZXRob2QuXG4gICAgKi9cbiAgICBwbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIGxldCBrbm93biA9IHRoaXMucGx1Z2luTWFwLmdldChwbHVnaW4pO1xuICAgICAgICBpZiAoa25vd24gPT09IHVuZGVmaW5lZCB8fCBrbm93biAmJiBrbm93bi5zcGVjICE9IHBsdWdpbilcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLnNldChwbHVnaW4sIGtub3duID0gdGhpcy5wbHVnaW5zLmZpbmQocCA9PiBwLnNwZWMgPT0gcGx1Z2luKSB8fCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGtub3duICYmIGtub3duLnVwZGF0ZSh0aGlzKS52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgZG9jdW1lbnQsIGluIHNjcmVlbiBjb29yZGluYXRlcy4gVGhpc1xuICAgIG1heSBiZSBuZWdhdGl2ZSB3aGVuIHRoZSBlZGl0b3IgaXMgc2Nyb2xsZWQgZG93bi4gUG9pbnRzXG4gICAgZGlyZWN0bHkgdG8gdGhlIHRvcCBvZiB0aGUgZmlyc3QgbGluZSwgbm90IGFib3ZlIHRoZSBwYWRkaW5nLlxuICAgICovXG4gICAgZ2V0IGRvY3VtZW50VG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHRoaXMudmlld1N0YXRlLnBhZGRpbmdUb3A7XG4gICAgfVxuICAgIC8qKlxuICAgIFJlcG9ydHMgdGhlIHBhZGRpbmcgYWJvdmUgYW5kIGJlbG93IHRoZSBkb2N1bWVudC5cbiAgICAqL1xuICAgIGdldCBkb2N1bWVudFBhZGRpbmcoKSB7XG4gICAgICAgIHJldHVybiB7IHRvcDogdGhpcy52aWV3U3RhdGUucGFkZGluZ1RvcCwgYm90dG9tOiB0aGlzLnZpZXdTdGF0ZS5wYWRkaW5nQm90dG9tIH07XG4gICAgfVxuICAgIC8qKlxuICAgIElmIHRoZSBlZGl0b3IgaXMgdHJhbnNmb3JtZWQgd2l0aCBDU1MsIHRoaXMgcHJvdmlkZXMgdGhlIHNjYWxlXG4gICAgYWxvbmcgdGhlIFggYXhpcy4gT3RoZXJ3aXNlLCBpdCB3aWxsIGp1c3QgYmUgMS4gTm90ZSB0aGF0XG4gICAgdHJhbnNmb3JtcyBvdGhlciB0aGFuIHRyYW5zbGF0aW9uIGFuZCBzY2FsaW5nIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICovXG4gICAgZ2V0IHNjYWxlWCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnNjYWxlWDsgfVxuICAgIC8qKlxuICAgIFByb3ZpZGUgdGhlIENTUyB0cmFuc2Zvcm1lZCBzY2FsZSBhbG9uZyB0aGUgWSBheGlzLlxuICAgICovXG4gICAgZ2V0IHNjYWxlWSgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnNjYWxlWTsgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIHRleHQgbGluZSBvciBibG9jayB3aWRnZXQgYXQgdGhlIGdpdmVuIHZlcnRpY2FsXG4gICAgcG9zaXRpb24gKHdoaWNoIGlzIGludGVycHJldGVkIGFzIHJlbGF0aXZlIHRvIHRoZSBbdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb2N1bWVudFRvcCkpLlxuICAgICovXG4gICAgZWxlbWVudEF0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUuZWxlbWVudEF0SGVpZ2h0KGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGxpbmUgYmxvY2sgKHNlZVxuICAgIFtgbGluZUJsb2NrQXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5saW5lQmxvY2tBdCkgYXQgdGhlIGdpdmVuXG4gICAgaGVpZ2h0LCBhZ2FpbiBpbnRlcnByZXRlZCByZWxhdGl2ZSB0byB0aGUgW3RvcCBvZiB0aGVcbiAgICBkb2N1bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9jdW1lbnRUb3ApLlxuICAgICovXG4gICAgbGluZUJsb2NrQXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdEhlaWdodChoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGV4dGVudCBhbmQgdmVydGljYWwgcG9zaXRpb24gb2YgYWxsIFtsaW5lXG4gICAgYmxvY2tzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5saW5lQmxvY2tBdCkgaW4gdGhlIHZpZXdwb3J0LiBQb3NpdGlvbnNcbiAgICBhcmUgcmVsYXRpdmUgdG8gdGhlIFt0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRvY3VtZW50VG9wKTtcbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydExpbmVCbG9ja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS52aWV3cG9ydExpbmVzO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBsaW5lIGJsb2NrIGFyb3VuZCB0aGUgZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIEEgbGluZVxuICAgIGJsb2NrIGlzIGEgcmFuZ2UgZGVsaW1pdGVkIG9uIGJvdGggc2lkZXMgYnkgZWl0aGVyIGFcbiAgICBub24tW2hpZGRlbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25ecmVwbGFjZSkgbGluZSBicmVhaywgb3IgdGhlXG4gICAgc3RhcnQvZW5kIG9mIHRoZSBkb2N1bWVudC4gSXQgd2lsbCB1c3VhbGx5IGp1c3QgaG9sZCBhIGxpbmUgb2ZcbiAgICB0ZXh0LCBidXQgbWF5IGJlIGJyb2tlbiBpbnRvIG11bHRpcGxlIHRleHRibG9ja3MgYnkgYmxvY2tcbiAgICB3aWRnZXRzLlxuICAgICovXG4gICAgbGluZUJsb2NrQXQocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdChwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZWRpdG9yJ3MgdG90YWwgY29udGVudCBoZWlnaHQuXG4gICAgKi9cbiAgICBnZXQgY29udGVudEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmNvbnRlbnRIZWlnaHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gYnkgW2dyYXBoZW1lXG4gICAgY2x1c3Rlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5maW5kQ2x1c3RlckJyZWFrKS4gYGZvcndhcmRgIGRldGVybWluZXMgd2hldGhlclxuICAgIHRoZSBtb3Rpb24gaXMgYXdheSBmcm9tIHRoZSBsaW5lIHN0YXJ0LCBvciB0b3dhcmRzIGl0LiBJblxuICAgIGJpZGlyZWN0aW9uYWwgdGV4dCwgdGhlIGxpbmUgaXMgdHJhdmVyc2VkIGluIHZpc3VhbCBvcmRlciwgdXNpbmdcbiAgICB0aGUgZWRpdG9yJ3MgW3RleHQgZGlyZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy50ZXh0RGlyZWN0aW9uKS5cbiAgICBXaGVuIHRoZSBzdGFydCBwb3NpdGlvbiB3YXMgdGhlIGxhc3Qgb25lIG9uIHRoZSBsaW5lLCB0aGVcbiAgICByZXR1cm5lZCBwb3NpdGlvbiB3aWxsIGJlIGFjcm9zcyB0aGUgbGluZSBicmVhay4gSWYgdGhlcmUgaXMgbm9cbiAgICBmdXJ0aGVyIGxpbmUsIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbiAgICBcbiAgICBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBtb3ZlcyBvdmVyIGEgc2luZ2xlIGNsdXN0ZXIuIFRoZVxuICAgIG9wdGlvbmFsIGBieWAgYXJndW1lbnQgY2FuIGJlIHVzZWQgdG8gbW92ZSBhY3Jvc3MgbW9yZS4gSXQgd2lsbFxuICAgIGJlIGNhbGxlZCB3aXRoIHRoZSBmaXJzdCBjbHVzdGVyIGFzIGFyZ3VtZW50LCBhbmQgc2hvdWxkIHJldHVyblxuICAgIGEgcHJlZGljYXRlIHRoYXQgZGV0ZXJtaW5lcywgZm9yIGVhY2ggc3Vic2VxdWVudCBjbHVzdGVyLFxuICAgIHdoZXRoZXIgaXQgc2hvdWxkIGFsc28gYmUgbW92ZWQgb3Zlci5cbiAgICAqL1xuICAgIG1vdmVCeUNoYXIoc3RhcnQsIGZvcndhcmQsIGJ5KSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVCeUNoYXIodGhpcywgc3RhcnQsIGZvcndhcmQsIGJ5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gYWNyb3NzIHRoZSBuZXh0IGdyb3VwIG9mIGVpdGhlclxuICAgIFtsZXR0ZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikgb3Igbm9uLWxldHRlclxuICAgIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMuXG4gICAgKi9cbiAgICBtb3ZlQnlHcm91cChzdGFydCwgZm9yd2FyZCkge1xuICAgICAgICByZXR1cm4gc2tpcEF0b21zKHRoaXMsIHN0YXJ0LCBtb3ZlQnlDaGFyKHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBpbml0aWFsID0+IGJ5R3JvdXAodGhpcywgc3RhcnQuaGVhZCwgaW5pdGlhbCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjdXJzb3IgcG9zaXRpb24gdmlzdWFsbHkgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIGxpbmUuXG4gICAgTm90ZSB0aGF0IHRoaXMgbWF5IGRpZmZlciBmcm9tIHRoZSBfbG9naWNhbF8gcG9zaXRpb24gYXQgaXRzXG4gICAgc3RhcnQgb3IgZW5kICh3aGljaCBpcyBzaW1wbHkgYXQgYGxpbmUuZnJvbWAvYGxpbmUudG9gKSBpZiB0ZXh0XG4gICAgYXQgdGhlIHN0YXJ0IG9yIGVuZCBnb2VzIGFnYWluc3QgdGhlIGxpbmUncyBiYXNlIHRleHQgZGlyZWN0aW9uLlxuICAgICovXG4gICAgdmlzdWFsTGluZVNpZGUobGluZSwgZW5kKSB7XG4gICAgICAgIGxldCBvcmRlciA9IHRoaXMuYmlkaVNwYW5zKGxpbmUpLCBkaXIgPSB0aGlzLnRleHREaXJlY3Rpb25BdChsaW5lLmZyb20pO1xuICAgICAgICBsZXQgc3BhbiA9IG9yZGVyW2VuZCA/IG9yZGVyLmxlbmd0aCAtIDEgOiAwXTtcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioc3Bhbi5zaWRlKGVuZCwgZGlyKSArIGxpbmUuZnJvbSwgc3Bhbi5mb3J3YXJkKCFlbmQsIGRpcikgPyAxIDogLTEpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IGxpbmUgYm91bmRhcnkgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbi4gSWZcbiAgICBgaW5jbHVkZVdyYXBgIGlzIHRydWUsIGxpbmUgd3JhcHBpbmcgaXMgb24sIGFuZCB0aGVyZSBpcyBhXG4gICAgZnVydGhlciB3cmFwIHBvaW50IG9uIHRoZSBjdXJyZW50IGxpbmUsIHRoZSB3cmFwIHBvaW50IHdpbGwgYmVcbiAgICByZXR1cm5lZC4gT3RoZXJ3aXNlIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHN0YXJ0IG9yIGVuZFxuICAgIG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgbW92ZVRvTGluZUJvdW5kYXJ5KHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG1vdmVUb0xpbmVCb3VuZGFyeSh0aGlzLCBzdGFydCwgZm9yd2FyZCwgaW5jbHVkZVdyYXApO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIGEgY3Vyc29yIHBvc2l0aW9uIHZlcnRpY2FsbHkuIFdoZW4gYGRpc3RhbmNlYCBpc24ndCBnaXZlbixcbiAgICBpdCBkZWZhdWx0cyB0byBtb3ZpbmcgdG8gdGhlIG5leHQgbGluZSAoaW5jbHVkaW5nIHdyYXBwZWRcbiAgICBsaW5lcykuIE90aGVyd2lzZSwgYGRpc3RhbmNlYCBzaG91bGQgcHJvdmlkZSBhIHBvc2l0aXZlIGRpc3RhbmNlXG4gICAgaW4gcGl4ZWxzLlxuICAgIFxuICAgIFdoZW4gYHN0YXJ0YCBoYXMgYVxuICAgIFtgZ29hbENvbHVtbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU2VsZWN0aW9uUmFuZ2UuZ29hbENvbHVtbiksIHRoZSB2ZXJ0aWNhbFxuICAgIG1vdGlvbiB3aWxsIHVzZSB0aGF0IGFzIGEgdGFyZ2V0IGhvcml6b250YWwgcG9zaXRpb24uIE90aGVyd2lzZSxcbiAgICB0aGUgY3Vyc29yJ3Mgb3duIGhvcml6b250YWwgcG9zaXRpb24gaXMgdXNlZC4gVGhlIHJldHVybmVkXG4gICAgY3Vyc29yIHdpbGwgaGF2ZSBpdHMgZ29hbCBjb2x1bW4gc2V0IHRvIHdoaWNoZXZlciBjb2x1bW4gd2FzXG4gICAgdXNlZC5cbiAgICAqL1xuICAgIG1vdmVWZXJ0aWNhbGx5KHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkge1xuICAgICAgICByZXR1cm4gc2tpcEF0b21zKHRoaXMsIHN0YXJ0LCBtb3ZlVmVydGljYWxseSh0aGlzLCBzdGFydCwgZm9yd2FyZCwgZGlzdGFuY2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgRE9NIHBhcmVudCBub2RlIGFuZCBvZmZzZXQgKGNoaWxkIG9mZnNldCBpZiBgbm9kZWAgaXNcbiAgICBhbiBlbGVtZW50LCBjaGFyYWN0ZXIgb2Zmc2V0IHdoZW4gaXQgaXMgYSB0ZXh0IG5vZGUpIGF0IHRoZVxuICAgIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgIFxuICAgIE5vdGUgdGhhdCBmb3IgcG9zaXRpb25zIHRoYXQgYXJlbid0IGN1cnJlbnRseSBpblxuICAgIGB2aXNpYmxlUmFuZ2VzYCwgdGhlIHJlc3VsdGluZyBET00gcG9zaXRpb24gaXNuJ3QgbmVjZXNzYXJpbHlcbiAgICBtZWFuaW5nZnVsIChpdCBtYXkganVzdCBwb2ludCBiZWZvcmUgb3IgYWZ0ZXIgYSBwbGFjZWhvbGRlclxuICAgIGVsZW1lbnQpLlxuICAgICovXG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcuZG9tQXRQb3MocG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgZG9jdW1lbnQgcG9zaXRpb24gYXQgdGhlIGdpdmVuIERPTSBub2RlLiBDYW4gYmUgdXNlZnVsXG4gICAgZm9yIGFzc29jaWF0aW5nIHBvc2l0aW9ucyB3aXRoIERPTSBldmVudHMuIFdpbGwgcmFpc2UgYW4gZXJyb3JcbiAgICB3aGVuIGBub2RlYCBpc24ndCBwYXJ0IG9mIHRoZSBlZGl0b3IgY29udGVudC5cbiAgICAqL1xuICAgIHBvc0F0RE9NKG5vZGUsIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldCk7XG4gICAgfVxuICAgIHBvc0F0Q29vcmRzKGNvb3JkcywgcHJlY2lzZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHBvc0F0Q29vcmRzKHRoaXMsIGNvb3JkcywgcHJlY2lzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgc2NyZWVuIGNvb3JkaW5hdGVzIGF0IHRoZSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICBgc2lkZWAgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjb29yZGluYXRlcyBhcmUgYmFzZWQgb24gdGhlXG4gICAgZWxlbWVudCBiZWZvcmUgKC0xKSBvciBhZnRlciAoMSkgdGhlIHBvc2l0aW9uIChpZiBubyBlbGVtZW50IGlzXG4gICAgYXZhaWxhYmxlIG9uIHRoZSBnaXZlbiBzaWRlLCB0aGUgbWV0aG9kIHdpbGwgdHJhbnNwYXJlbnRseSB1c2VcbiAgICBhbm90aGVyIHN0cmF0ZWd5IHRvIGdldCByZWFzb25hYmxlIGNvb3JkaW5hdGVzKS5cbiAgICAqL1xuICAgIGNvb3Jkc0F0UG9zKHBvcywgc2lkZSA9IDEpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmRvY1ZpZXcuY29vcmRzQXQocG9zLCBzaWRlKTtcbiAgICAgICAgaWYgKCFyZWN0IHx8IHJlY3QubGVmdCA9PSByZWN0LnJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHBvcyksIG9yZGVyID0gdGhpcy5iaWRpU3BhbnMobGluZSk7XG4gICAgICAgIGxldCBzcGFuID0gb3JkZXJbQmlkaVNwYW4uZmluZChvcmRlciwgcG9zIC0gbGluZS5mcm9tLCAtMSwgc2lkZSldO1xuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QocmVjdCwgKHNwYW4uZGlyID09IERpcmVjdGlvbi5MVFIpID09IChzaWRlID4gMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIHJlY3RhbmdsZSBhcm91bmQgYSBnaXZlbiBjaGFyYWN0ZXIuIElmIGBwb3NgIGRvZXMgbm90XG4gICAgcG9pbnQgaW4gZnJvbnQgb2YgYSBjaGFyYWN0ZXIgdGhhdCBpcyBpbiB0aGUgdmlld3BvcnQgYW5kXG4gICAgcmVuZGVyZWQgKGkuZS4gbm90IHJlcGxhY2VkLCBub3QgYSBsaW5lIGJyZWFrKSwgdGhpcyB3aWxsIHJldHVyblxuICAgIG51bGwuIEZvciBzcGFjZSBjaGFyYWN0ZXJzIHRoYXQgYXJlIGEgbGluZSB3cmFwIHBvaW50LCB0aGlzIHdpbGxcbiAgICByZXR1cm4gdGhlIHBvc2l0aW9uIGJlZm9yZSB0aGUgbGluZSBicmVhay5cbiAgICAqL1xuICAgIGNvb3Jkc0ZvckNoYXIocG9zKSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcuY29vcmRzRm9yQ2hhcihwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGVmYXVsdCB3aWR0aCBvZiBhIGNoYXJhY3RlciBpbiB0aGUgZWRpdG9yLiBNYXkgbm90XG4gICAgYWNjdXJhdGVseSByZWZsZWN0IHRoZSB3aWR0aCBvZiBhbGwgY2hhcmFjdGVycyAoZ2l2ZW4gdmFyaWFibGVcbiAgICB3aWR0aCBmb250cyBvciBzdHlsaW5nIG9mIGludmlkaWR1YWwgcmFuZ2VzKS5cbiAgICAqL1xuICAgIGdldCBkZWZhdWx0Q2hhcmFjdGVyV2lkdGgoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUuY2hhcldpZHRoOyB9XG4gICAgLyoqXG4gICAgVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIGEgbGluZSBpbiB0aGUgZWRpdG9yLiBNYXkgbm90IGJlIGFjY3VyYXRlXG4gICAgZm9yIGFsbCBsaW5lcy5cbiAgICAqL1xuICAgIGdldCBkZWZhdWx0TGluZUhlaWdodCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5saW5lSGVpZ2h0OyB9XG4gICAgLyoqXG4gICAgVGhlIHRleHQgZGlyZWN0aW9uXG4gICAgKFtgZGlyZWN0aW9uYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2RpcmVjdGlvbilcbiAgICBDU1MgcHJvcGVydHkpIG9mIHRoZSBlZGl0b3IncyBjb250ZW50IGVsZW1lbnQuXG4gICAgKi9cbiAgICBnZXQgdGV4dERpcmVjdGlvbigpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmRlZmF1bHRUZXh0RGlyZWN0aW9uOyB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdGV4dCBkaXJlY3Rpb24gb2YgdGhlIGJsb2NrIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiwgYXNcbiAgICBhc3NpZ25lZCBieSBDU1MuIElmXG4gICAgW2BwZXJMaW5lVGV4dERpcmVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnBlckxpbmVUZXh0RGlyZWN0aW9uKVxuICAgIGlzbid0IGVuYWJsZWQsIG9yIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCxcbiAgICB0aGlzIHdpbGwgYWx3YXlzIHJldHVybiB0aGUgc2FtZSBhc1xuICAgIFtgdGV4dERpcmVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLiBOb3RlIHRoYXRcbiAgICB0aGlzIG1heSB0cmlnZ2VyIGEgRE9NIGxheW91dC5cbiAgICAqL1xuICAgIHRleHREaXJlY3Rpb25BdChwb3MpIHtcbiAgICAgICAgbGV0IHBlckxpbmUgPSB0aGlzLnN0YXRlLmZhY2V0KHBlckxpbmVUZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKCFwZXJMaW5lIHx8IHBvcyA8IHRoaXMudmlld3BvcnQuZnJvbSB8fCBwb3MgPiB0aGlzLnZpZXdwb3J0LnRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dERpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy50ZXh0RGlyZWN0aW9uQXQocG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGlzIGVkaXRvciBbd3JhcHMgbGluZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVXcmFwcGluZylcbiAgICAoYXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICBbYHdoaXRlLXNwYWNlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3doaXRlLXNwYWNlKVxuICAgIENTUyBwcm9wZXJ0eSBvZiBpdHMgY29udGVudCBlbGVtZW50KS5cbiAgICAqL1xuICAgIGdldCBsaW5lV3JhcHBpbmcoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgYmlkaXJlY3Rpb25hbCB0ZXh0IHN0cnVjdHVyZSBvZiB0aGUgZ2l2ZW4gbGluZVxuICAgICh3aGljaCBzaG91bGQgYmUgaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQpIGFzIGFuIGFycmF5IG9mIHNwYW5cbiAgICBvYmplY3RzLiBUaGUgb3JkZXIgb2YgdGhlc2Ugc3BhbnMgbWF0Y2hlcyB0aGUgW3RleHRcbiAgICBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24p4oCUaWYgdGhhdCBpc1xuICAgIGxlZnQtdG8tcmlnaHQsIHRoZSBsZWZ0bW9zdCBzcGFucyBjb21lIGZpcnN0LCBvdGhlcndpc2UgdGhlXG4gICAgcmlnaHRtb3N0IHNwYW5zIGNvbWUgZmlyc3QuXG4gICAgKi9cbiAgICBiaWRpU3BhbnMobGluZSkge1xuICAgICAgICBpZiAobGluZS5sZW5ndGggPiBNYXhCaWRpTGluZSlcbiAgICAgICAgICAgIHJldHVybiB0cml2aWFsT3JkZXIobGluZS5sZW5ndGgpO1xuICAgICAgICBsZXQgZGlyID0gdGhpcy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKSwgaXNvbGF0ZXM7XG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHRoaXMuYmlkaUNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoZW50cnkuZnJvbSA9PSBsaW5lLmZyb20gJiYgZW50cnkuZGlyID09IGRpciAmJlxuICAgICAgICAgICAgICAgIChlbnRyeS5mcmVzaCB8fCBpc29sYXRlc0VxKGVudHJ5Lmlzb2xhdGVzLCBpc29sYXRlcyA9IGdldElzb2xhdGVkUmFuZ2VzKHRoaXMsIGxpbmUpKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5Lm9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNvbGF0ZXMpXG4gICAgICAgICAgICBpc29sYXRlcyA9IGdldElzb2xhdGVkUmFuZ2VzKHRoaXMsIGxpbmUpO1xuICAgICAgICBsZXQgb3JkZXIgPSBjb21wdXRlT3JkZXIobGluZS50ZXh0LCBkaXIsIGlzb2xhdGVzKTtcbiAgICAgICAgdGhpcy5iaWRpQ2FjaGUucHVzaChuZXcgQ2FjaGVkT3JkZXIobGluZS5mcm9tLCBsaW5lLnRvLCBkaXIsIGlzb2xhdGVzLCB0cnVlLCBvcmRlcikpO1xuICAgICAgICByZXR1cm4gb3JkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgIENoZWNrIHdoZXRoZXIgdGhlIGVkaXRvciBoYXMgZm9jdXMuXG4gICAgKi9cbiAgICBnZXQgaGFzRm9jdXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gU2FmYXJpIHJldHVybiBmYWxzZSBmb3IgaGFzRm9jdXMgd2hlbiB0aGUgY29udGV4dCBtZW51IGlzIG9wZW5cbiAgICAgICAgLy8gb3IgY2xvc2luZywgd2hpY2ggbGVhZHMgdXMgdG8gaWdub3JlIHNlbGVjdGlvbiBjaGFuZ2VzIGZyb20gdGhlXG4gICAgICAgIC8vIGNvbnRleHQgbWVudSBiZWNhdXNlIGl0IGxvb2tzIGxpa2UgdGhlIGVkaXRvciBpc24ndCBmb2N1c2VkLlxuICAgICAgICAvLyBUaGlzIGtsdWRnZXMgYXJvdW5kIHRoYXQuXG4gICAgICAgIHJldHVybiAodGhpcy5kb20ub3duZXJEb2N1bWVudC5oYXNGb2N1cygpIHx8IGJyb3dzZXIuc2FmYXJpICYmICgoX2EgPSB0aGlzLmlucHV0U3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0Q29udGV4dE1lbnUpID4gRGF0ZS5ub3coKSAtIDNlNCkgJiZcbiAgICAgICAgICAgIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuY29udGVudERPTTtcbiAgICB9XG4gICAgLyoqXG4gICAgUHV0IGZvY3VzIG9uIHRoZSBlZGl0b3IuXG4gICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgZm9jdXNQcmV2ZW50U2Nyb2xsKHRoaXMuY29udGVudERPTSk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBVcGRhdGUgdGhlIFtyb290XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvIyN2aWV3LkVkaXRvclZpZXdDb25maWcucm9vdCkgaW4gd2hpY2ggdGhlIGVkaXRvciBsaXZlcy4gVGhpcyBpcyBvbmx5XG4gICAgbmVjZXNzYXJ5IHdoZW4gbW92aW5nIHRoZSBlZGl0b3IncyBleGlzdGluZyBET00gdG8gYSBuZXcgd2luZG93IG9yIHNoYWRvdyByb290LlxuICAgICovXG4gICAgc2V0Um9vdChyb290KSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9IHJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5zZXRXaW5kb3coKHJvb3Qubm9kZVR5cGUgPT0gOSA/IHJvb3QgOiByb290Lm93bmVyRG9jdW1lbnQpLmRlZmF1bHRWaWV3IHx8IHdpbmRvdyk7XG4gICAgICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ2xlYW4gdXAgdGhpcyBlZGl0b3IgdmlldywgcmVtb3ZpbmcgaXRzIGVsZW1lbnQgZnJvbSB0aGVcbiAgICBkb2N1bWVudCwgdW5yZWdpc3RlcmluZyBldmVudCBoYW5kbGVycywgYW5kIG5vdGlmeWluZ1xuICAgIHBsdWdpbnMuIFRoZSB2aWV3IGluc3RhbmNlIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlclxuICAgIGNhbGxpbmcgdGhpcy5cbiAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmNvbnRlbnRET00pXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRET00uYmx1cigpO1xuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IFtdO1xuICAgICAgICB0aGlzLmlucHV0U3RhdGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPiAtMSlcbiAgICAgICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubWVhc3VyZVNjaGVkdWxlZCk7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBlZmZlY3QgdGhhdCBjYW4gYmVcbiAgICBbYWRkZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmVmZmVjdHMpIHRvIGEgdHJhbnNhY3Rpb24gdG9cbiAgICBjYXVzZSBpdCB0byBzY3JvbGwgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIHJhbmdlIGludG8gdmlldy5cbiAgICAqL1xuICAgIHN0YXRpYyBzY3JvbGxJbnRvVmlldyhwb3MsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsSW50b1ZpZXcub2YobmV3IFNjcm9sbFRhcmdldCh0eXBlb2YgcG9zID09IFwibnVtYmVyXCIgPyBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcykgOiBwb3MsIG9wdGlvbnMueSwgb3B0aW9ucy54LCBvcHRpb25zLnlNYXJnaW4sIG9wdGlvbnMueE1hcmdpbikpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gYW4gZWZmZWN0IHRoYXQgcmVzZXRzIHRoZSBlZGl0b3IgdG8gaXRzIGN1cnJlbnQgKGF0IHRoZVxuICAgIHRpbWUgdGhpcyBtZXRob2Qgd2FzIGNhbGxlZCkgc2Nyb2xsIHBvc2l0aW9uLiBOb3RlIHRoYXQgdGhpc1xuICAgIG9ubHkgYWZmZWN0cyB0aGUgZWRpdG9yJ3Mgb3duIHNjcm9sbGFibGUgZWxlbWVudCwgbm90IHBhcmVudHMuXG4gICAgU2VlIGFsc29cbiAgICBbYEVkaXRvclZpZXdDb25maWcuc2Nyb2xsVG9gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld0NvbmZpZy5zY3JvbGxUbykuXG4gICAgXG4gICAgVGhlIGVmZmVjdCBzaG91bGQgYmUgdXNlZCB3aXRoIGEgZG9jdW1lbnQgaWRlbnRpY2FsIHRvIHRoZSBvbmVcbiAgICBpdCB3YXMgY3JlYXRlZCBmb3IuIEZhaWxpbmcgdG8gZG8gc28gaXMgbm90IGFuIGVycm9yLCBidXQgbWF5XG4gICAgbm90IHNjcm9sbCB0byB0aGUgZXhwZWN0ZWQgcG9zaXRpb24uIFlvdSBjYW5cbiAgICBbbWFwXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0Lm1hcCkgdGhlIGVmZmVjdCB0byBhY2NvdW50IGZvciBjaGFuZ2VzLlxuICAgICovXG4gICAgc2Nyb2xsU25hcHNob3QoKSB7XG4gICAgICAgIGxldCB7IHNjcm9sbFRvcCwgc2Nyb2xsTGVmdCB9ID0gdGhpcy5zY3JvbGxET007XG4gICAgICAgIGxldCByZWYgPSB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxBbmNob3JBdChzY3JvbGxUb3ApO1xuICAgICAgICByZXR1cm4gc2Nyb2xsSW50b1ZpZXcub2YobmV3IFNjcm9sbFRhcmdldChFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJlZi5mcm9tKSwgXCJzdGFydFwiLCBcInN0YXJ0XCIsIHJlZi50b3AgLSBzY3JvbGxUb3AsIHNjcm9sbExlZnQsIHRydWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRW5hYmxlIG9yIGRpc2FibGUgdGFiLWZvY3VzIG1vZGUsIHdoaWNoIGRpc2FibGVzIGtleSBiaW5kaW5nc1xuICAgIGZvciBUYWIgYW5kIFNoaWZ0LVRhYiwgbGV0dGluZyB0aGUgYnJvd3NlcidzIGRlZmF1bHRcbiAgICBmb2N1cy1jaGFuZ2luZyBiZWhhdmlvciBnbyB0aHJvdWdoIGluc3RlYWQuIFRoaXMgaXMgdXNlZnVsIHRvXG4gICAgcHJldmVudCB0cmFwcGluZyBrZXlib2FyZCB1c2VycyBpbiB5b3VyIGVkaXRvci5cbiAgICBcbiAgICBXaXRob3V0IGFyZ3VtZW50LCB0aGlzIHRvZ2dsZXMgdGhlIG1vZGUuIFdpdGggYSBib29sZWFuLCBpdFxuICAgIGVuYWJsZXMgKHRydWUpIG9yIGRpc2FibGVzIGl0IChmYWxzZSkuIEdpdmVuIGEgbnVtYmVyLCBpdFxuICAgIHRlbXBvcmFyaWx5IGVuYWJsZXMgdGhlIG1vZGUgdW50aWwgdGhhdCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAgaGF2ZSBwYXNzZWQgb3IgYW5vdGhlciBub24tVGFiIGtleSBpcyBwcmVzc2VkLlxuICAgICovXG4gICAgc2V0VGFiRm9jdXNNb2RlKHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA9IHRoaXMuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPCAwID8gMCA6IC0xO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdG8gPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUudGFiRm9jdXNNb2RlID0gdG8gPyAwIDogLTE7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgIT0gMClcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPSBEYXRlLm5vdygpICsgdG87XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIERPTSBldmVudCBoYW5kbGVycy5cbiAgICBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIG9iamVjdCBtYXBwaW5nIGV2ZW50IG5hbWVzIHRvIGhhbmRsZXJcbiAgICBmdW5jdGlvbnMuIEZvciBhbnkgZ2l2ZW4gZXZlbnQsIHN1Y2ggZnVuY3Rpb25zIGFyZSBvcmRlcmVkIGJ5XG4gICAgZXh0ZW5zaW9uIHByZWNlZGVuY2UsIGFuZCB0aGUgZmlyc3QgaGFuZGxlciB0byByZXR1cm4gdHJ1ZSB3aWxsXG4gICAgYmUgYXNzdW1lZCB0byBoYXZlIGhhbmRsZWQgdGhhdCBldmVudCwgYW5kIG5vIG90aGVyIGhhbmRsZXJzIG9yXG4gICAgYnVpbHQtaW4gYmVoYXZpb3Igd2lsbCBiZSBhY3RpdmF0ZWQgZm9yIGl0LiBUaGVzZSBhcmUgcmVnaXN0ZXJlZFxuICAgIG9uIHRoZSBbY29udGVudCBlbGVtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5jb250ZW50RE9NKSwgZXhjZXB0XG4gICAgZm9yIGBzY3JvbGxgIGhhbmRsZXJzLCB3aGljaCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSB0aGVcbiAgICBlZGl0b3IncyBbc2Nyb2xsIGVsZW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnNjcm9sbERPTSkgb3Igb25lIG9mXG4gICAgaXRzIHBhcmVudCBub2RlcyBpcyBzY3JvbGxlZC5cbiAgICAqL1xuICAgIHN0YXRpYyBkb21FdmVudEhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgoKSA9PiAoe30pLCB7IGV2ZW50SGFuZGxlcnM6IGhhbmRsZXJzIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgcmVnaXN0ZXJzIERPTSBldmVudCBvYnNlcnZlcnMuIENvbnRyYXJ5XG4gICAgdG8gZXZlbnQgW2hhbmRsZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15kb21FdmVudEhhbmRsZXJzKSxcbiAgICBvYnNlcnZlcnMgY2FuJ3QgYmUgcHJldmVudGVkIGZyb20gcnVubmluZyBieSBhIGhpZ2hlci1wcmVjZWRlbmNlXG4gICAgaGFuZGxlciByZXR1cm5pbmcgdHJ1ZS4gVGhleSBhbHNvIGRvbid0IHByZXZlbnQgb3RoZXIgaGFuZGxlcnNcbiAgICBhbmQgb2JzZXJ2ZXJzIGZyb20gcnVubmluZyB3aGVuIHRoZXkgcmV0dXJuIHRydWUsIGFuZCBzaG91bGQgbm90XG4gICAgY2FsbCBgcHJldmVudERlZmF1bHRgLlxuICAgICovXG4gICAgc3RhdGljIGRvbUV2ZW50T2JzZXJ2ZXJzKG9ic2VydmVycykge1xuICAgICAgICByZXR1cm4gVmlld1BsdWdpbi5kZWZpbmUoKCkgPT4gKHt9KSwgeyBldmVudE9ic2VydmVyczogb2JzZXJ2ZXJzIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSB0aGVtZSBleHRlbnNpb24uIFRoZSBmaXJzdCBhcmd1bWVudCBjYW4gYmUgYVxuICAgIFtgc3R5bGUtbW9kYF0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pXG4gICAgc3R5bGUgc3BlYyBwcm92aWRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIHRoZW1lLiBUaGVzZSB3aWxsIGJlXG4gICAgcHJlZml4ZWQgd2l0aCBhIGdlbmVyYXRlZCBjbGFzcyBmb3IgdGhlIHN0eWxlLlxuICAgIFxuICAgIEJlY2F1c2UgdGhlIHNlbGVjdG9ycyB3aWxsIGJlIHByZWZpeGVkIHdpdGggYSBzY29wZSBjbGFzcywgcnVsZVxuICAgIHRoYXQgZGlyZWN0bHkgbWF0Y2ggdGhlIGVkaXRvcidzIFt3cmFwcGVyXG4gICAgZWxlbWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9tKeKAlHRvIHdoaWNoIHRoZSBzY29wZSBjbGFzcyB3aWxsIGJlXG4gICAgYWRkZWTigJRuZWVkIHRvIGJlIGV4cGxpY2l0bHkgZGlmZmVyZW50aWF0ZWQgYnkgYWRkaW5nIGFuIGAmYCB0b1xuICAgIHRoZSBzZWxlY3RvciBmb3IgdGhhdCBlbGVtZW504oCUZm9yIGV4YW1wbGVcbiAgICBgJi5jbS1mb2N1c2VkYC5cbiAgICBcbiAgICBXaGVuIGBkYXJrYCBpcyBzZXQgdG8gdHJ1ZSwgdGhlIHRoZW1lIHdpbGwgYmUgbWFya2VkIGFzIGRhcmssXG4gICAgd2hpY2ggd2lsbCBjYXVzZSB0aGUgYCZkYXJrYCBydWxlcyBmcm9tIFtiYXNlXG4gICAgdGhlbWVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15iYXNlVGhlbWUpIHRvIGJlIHVzZWQgKGFzIG9wcG9zZWQgdG9cbiAgICBgJmxpZ2h0YCB3aGVuIGEgbGlnaHQgdGhlbWUgaXMgYWN0aXZlKS5cbiAgICAqL1xuICAgIHN0YXRpYyB0aGVtZShzcGVjLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBwcmVmaXggPSBTdHlsZU1vZHVsZS5uZXdOYW1lKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBbdGhlbWUub2YocHJlZml4KSwgc3R5bGVNb2R1bGUub2YoYnVpbGRUaGVtZShgLiR7cHJlZml4fWAsIHNwZWMpKV07XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGFyaylcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRhcmtUaGVtZS5vZih0cnVlKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBhZGRzIHN0eWxlcyB0byB0aGUgYmFzZSB0aGVtZS4gTGlrZVxuICAgIHdpdGggW2B0aGVtZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnRoZW1lKSwgdXNlIGAmYCB0byBpbmRpY2F0ZSB0aGVcbiAgICBwbGFjZSBvZiB0aGUgZWRpdG9yIHdyYXBwZXIgZWxlbWVudCB3aGVuIGRpcmVjdGx5IHRhcmdldGluZ1xuICAgIHRoYXQuIFlvdSBjYW4gYWxzbyB1c2UgYCZkYXJrYCBvciBgJmxpZ2h0YCBpbnN0ZWFkIHRvIG9ubHlcbiAgICB0YXJnZXQgZWRpdG9ycyB3aXRoIGEgZGFyayBvciBsaWdodCB0aGVtZS5cbiAgICAqL1xuICAgIHN0YXRpYyBiYXNlVGhlbWUoc3BlYykge1xuICAgICAgICByZXR1cm4gUHJlYy5sb3dlc3Qoc3R5bGVNb2R1bGUub2YoYnVpbGRUaGVtZShcIi5cIiArIGJhc2VUaGVtZUlELCBzcGVjLCBsaWdodERhcmtJRHMpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIGFuIGVkaXRvciB2aWV3IGluc3RhbmNlIGZyb20gdGhlIHZpZXcncyBET01cbiAgICByZXByZXNlbnRhdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBmaW5kRnJvbURPTShkb20pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY29udGVudCA9IGRvbS5xdWVyeVNlbGVjdG9yKFwiLmNtLWNvbnRlbnRcIik7XG4gICAgICAgIGxldCBjVmlldyA9IGNvbnRlbnQgJiYgQ29udGVudFZpZXcuZ2V0KGNvbnRlbnQpIHx8IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICByZXR1cm4gKChfYSA9IGNWaWV3ID09PSBudWxsIHx8IGNWaWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjVmlldy5yb290VmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZpZXcpIHx8IG51bGw7XG4gICAgfVxufVxuLyoqXG5GYWNldCB0byBhZGQgYSBbc3R5bGVcbm1vZHVsZV0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pIHRvXG5hbiBlZGl0b3Igdmlldy4gVGhlIHZpZXcgd2lsbCBlbnN1cmUgdGhhdCB0aGUgbW9kdWxlIGlzXG5tb3VudGVkIGluIGl0cyBbZG9jdW1lbnRcbnJvb3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmNvbnN0cnVjdG9yXmNvbmZpZy5yb290KS5cbiovXG5FZGl0b3JWaWV3LnN0eWxlTW9kdWxlID0gc3R5bGVNb2R1bGU7XG4vKipcbkFuIGlucHV0IGhhbmRsZXIgY2FuIG92ZXJyaWRlIHRoZSB3YXkgY2hhbmdlcyB0byB0aGUgZWRpdGFibGVcbkRPTSBjb250ZW50IGFyZSBoYW5kbGVkLiBIYW5kbGVycyBhcmUgcGFzc2VkIHRoZSBkb2N1bWVudFxucG9zaXRpb25zIGJldHdlZW4gd2hpY2ggdGhlIGNoYW5nZSB3YXMgZm91bmQsIGFuZCB0aGUgbmV3XG5jb250ZW50LiBXaGVuIG9uZSByZXR1cm5zIHRydWUsIG5vIGZ1cnRoZXIgaW5wdXQgaGFuZGxlcnMgYXJlXG5jYWxsZWQgYW5kIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHByZXZlbnRlZC5cblxuVGhlIGBpbnNlcnRgIGFyZ3VtZW50IGNhbiBiZSB1c2VkIHRvIGdldCB0aGUgZGVmYXVsdCB0cmFuc2FjdGlvblxudGhhdCB3b3VsZCBiZSBhcHBsaWVkIGZvciB0aGlzIGlucHV0LiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlblxuZGlzcGF0Y2hpbmcgdGhlIGN1c3RvbSBiZWhhdmlvciBhcyBhIHNlcGFyYXRlIHRyYW5zYWN0aW9uLlxuKi9cbkVkaXRvclZpZXcuaW5wdXRIYW5kbGVyID0gaW5wdXRIYW5kbGVyO1xuLyoqXG5GdW5jdGlvbnMgcHJvdmlkZWQgaW4gdGhpcyBmYWNldCB3aWxsIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHRleHRcbnBhc3RlZCBvciBkcm9wcGVkIGludG8gdGhlIGVkaXRvci5cbiovXG5FZGl0b3JWaWV3LmNsaXBib2FyZElucHV0RmlsdGVyID0gY2xpcGJvYXJkSW5wdXRGaWx0ZXI7XG4vKipcblRyYW5zZm9ybSB0ZXh0IGNvcGllZCBvciBkcmFnZ2VkIGZyb20gdGhlIGVkaXRvci5cbiovXG5FZGl0b3JWaWV3LmNsaXBib2FyZE91dHB1dEZpbHRlciA9IGNsaXBib2FyZE91dHB1dEZpbHRlcjtcbi8qKlxuU2Nyb2xsIGhhbmRsZXJzIGNhbiBvdmVycmlkZSBob3cgdGhpbmdzIGFyZSBzY3JvbGxlZCBpbnRvIHZpZXcuXG5JZiB0aGV5IHJldHVybiBgdHJ1ZWAsIG5vIGZ1cnRoZXIgaGFuZGxpbmcgaGFwcGVucyBmb3IgdGhlXG5zY3JvbGxpbmcuIElmIHRoZXkgcmV0dXJuIGZhbHNlLCB0aGUgZGVmYXVsdCBzY3JvbGwgYmVoYXZpb3IgaXNcbmFwcGxpZWQuIFNjcm9sbCBoYW5kbGVycyBzaG91bGQgbmV2ZXIgaW5pdGlhdGUgZWRpdG9yIHVwZGF0ZXMuXG4qL1xuRWRpdG9yVmlldy5zY3JvbGxIYW5kbGVyID0gc2Nyb2xsSGFuZGxlcjtcbi8qKlxuVGhpcyBmYWNldCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGZ1bmN0aW9ucyB0aGF0IGNyZWF0ZSBlZmZlY3RzXG50byBiZSBkaXNwYXRjaGVkIHdoZW4gdGhlIGVkaXRvcidzIGZvY3VzIHN0YXRlIGNoYW5nZXMuXG4qL1xuRWRpdG9yVmlldy5mb2N1c0NoYW5nZUVmZmVjdCA9IGZvY3VzQ2hhbmdlRWZmZWN0O1xuLyoqXG5CeSBkZWZhdWx0LCB0aGUgZWRpdG9yIGFzc3VtZXMgYWxsIGl0cyBjb250ZW50IGhhcyB0aGUgc2FtZVxuW3RleHQgZGlyZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGlyZWN0aW9uKS4gQ29uZmlndXJlIHRoaXMgd2l0aCBhIGB0cnVlYFxudmFsdWUgdG8gbWFrZSBpdCByZWFkIHRoZSB0ZXh0IGRpcmVjdGlvbiBvZiBldmVyeSAocmVuZGVyZWQpXG5saW5lIHNlcGFyYXRlbHkuXG4qL1xuRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbiA9IHBlckxpbmVUZXh0RGlyZWN0aW9uO1xuLyoqXG5BbGxvd3MgeW91IHRvIHByb3ZpZGUgYSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGVcbmxpYnJhcnkgY2F0Y2hlcyBhbiBleGNlcHRpb24gZnJvbSBhbiBleHRlbnNpb24gKG1vc3RseSBmcm9tIHZpZXdcbnBsdWdpbnMsIGJ1dCBtYXkgYmUgdXNlZCBieSBvdGhlciBleHRlbnNpb25zIHRvIHJvdXRlIGV4Y2VwdGlvbnNcbmZyb20gdXNlci1jb2RlLXByb3ZpZGVkIGNhbGxiYWNrcykuIFRoaXMgaXMgbW9zdGx5IHVzZWZ1bCBmb3JcbmRlYnVnZ2luZyBhbmQgbG9nZ2luZy4gU2VlIFtgbG9nRXhjZXB0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmxvZ0V4Y2VwdGlvbikuXG4qL1xuRWRpdG9yVmlldy5leGNlcHRpb25TaW5rID0gZXhjZXB0aW9uU2luaztcbi8qKlxuQSBmYWNldCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG5ldmVyeSB0aW1lIHRoZSB2aWV3IHVwZGF0ZXMuXG4qL1xuRWRpdG9yVmlldy51cGRhdGVMaXN0ZW5lciA9IHVwZGF0ZUxpc3RlbmVyO1xuLyoqXG5GYWNldCB0aGF0IGNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvciBjb250ZW50IERPTSBpcyBlZGl0YWJsZS5cbldoZW4gaXRzIGhpZ2hlc3QtcHJlY2VkZW5jZSB2YWx1ZSBpcyBgZmFsc2VgLCB0aGUgZWxlbWVudCB3aWxsXG5ub3QgaGF2ZSBpdHMgYGNvbnRlbnRlZGl0YWJsZWAgYXR0cmlidXRlIHNldC4gKE5vdGUgdGhhdCB0aGlzXG5kb2Vzbid0IGFmZmVjdCBBUEkgY2FsbHMgdGhhdCBjaGFuZ2UgdGhlIGVkaXRvciBjb250ZW50LCBldmVuXG53aGVuIHRob3NlIGFyZSBib3VuZCB0byBrZXlzIG9yIGJ1dHRvbnMuIFNlZSB0aGVcbltgcmVhZE9ubHlgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnJlYWRPbmx5KSBmYWNldCBmb3IgdGhhdC4pXG4qL1xuRWRpdG9yVmlldy5lZGl0YWJsZSA9IGVkaXRhYmxlO1xuLyoqXG5BbGxvd3MgeW91IHRvIGluZmx1ZW5jZSB0aGUgd2F5IG1vdXNlIHNlbGVjdGlvbiBoYXBwZW5zLiBUaGVcbmZ1bmN0aW9ucyBpbiB0aGlzIGZhY2V0IHdpbGwgYmUgY2FsbGVkIGZvciBhIGBtb3VzZWRvd25gIGV2ZW50XG5vbiB0aGUgZWRpdG9yLCBhbmQgY2FuIHJldHVybiBhbiBvYmplY3QgdGhhdCBvdmVycmlkZXMgdGhlIHdheSBhXG5zZWxlY3Rpb24gaXMgY29tcHV0ZWQgZnJvbSB0aGF0IG1vdXNlIGNsaWNrIG9yIGRyYWcuXG4qL1xuRWRpdG9yVmlldy5tb3VzZVNlbGVjdGlvblN0eWxlID0gbW91c2VTZWxlY3Rpb25TdHlsZTtcbi8qKlxuRmFjZXQgdXNlZCB0byBjb25maWd1cmUgd2hldGhlciBhIGdpdmVuIHNlbGVjdGlvbiBkcmFnIGV2ZW50XG5zaG91bGQgbW92ZSBvciBjb3B5IHRoZSBzZWxlY3Rpb24uIFRoZSBnaXZlbiBwcmVkaWNhdGUgd2lsbCBiZVxuY2FsbGVkIHdpdGggdGhlIGBtb3VzZWRvd25gIGV2ZW50LCBhbmQgY2FuIHJldHVybiBgdHJ1ZWAgd2hlblxudGhlIGRyYWcgc2hvdWxkIG1vdmUgdGhlIGNvbnRlbnQuXG4qL1xuRWRpdG9yVmlldy5kcmFnTW92ZXNTZWxlY3Rpb24gPSBkcmFnTW92ZXNTZWxlY3Rpb24kMTtcbi8qKlxuRmFjZXQgdXNlZCB0byBjb25maWd1cmUgd2hldGhlciBhIGdpdmVuIHNlbGVjdGluZyBjbGljayBhZGRzIGFcbm5ldyByYW5nZSB0byB0aGUgZXhpc3Rpbmcgc2VsZWN0aW9uIG9yIHJlcGxhY2VzIGl0IGVudGlyZWx5LiBUaGVcbmRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gY2hlY2sgYGV2ZW50Lm1ldGFLZXlgIG9uIG1hY09TLCBhbmRcbmBldmVudC5jdHJsS2V5YCBlbHNld2hlcmUuXG4qL1xuRWRpdG9yVmlldy5jbGlja0FkZHNTZWxlY3Rpb25SYW5nZSA9IGNsaWNrQWRkc1NlbGVjdGlvblJhbmdlO1xuLyoqXG5BIGZhY2V0IHRoYXQgZGV0ZXJtaW5lcyB3aGljaCBbZGVjb3JhdGlvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uKVxuYXJlIHNob3duIGluIHRoZSB2aWV3LiBEZWNvcmF0aW9ucyBjYW4gYmUgcHJvdmlkZWQgaW4gdHdvXG53YXlz4oCUZGlyZWN0bHksIG9yIHZpYSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gZWRpdG9yIHZpZXcuXG5cbk9ubHkgZGVjb3JhdGlvbiBzZXRzIHByb3ZpZGVkIGRpcmVjdGx5IGFyZSBhbGxvd2VkIHRvIGluZmx1ZW5jZVxudGhlIGVkaXRvcidzIHZlcnRpY2FsIGxheW91dCBzdHJ1Y3R1cmUuIFRoZSBvbmVzIHByb3ZpZGVkIGFzXG5mdW5jdGlvbnMgYXJlIGNhbGxlZCBfYWZ0ZXJfIHRoZSBuZXcgdmlld3BvcnQgaGFzIGJlZW4gY29tcHV0ZWQsXG5hbmQgdGh1cyAqKm11c3Qgbm90KiogaW50cm9kdWNlIGJsb2NrIHdpZGdldHMgb3IgcmVwbGFjaW5nXG5kZWNvcmF0aW9ucyB0aGF0IGNvdmVyIGxpbmUgYnJlYWtzLlxuXG5JZiB5b3Ugd2FudCBkZWNvcmF0ZWQgcmFuZ2VzIHRvIGJlaGF2ZSBsaWtlIGF0b21pYyB1bml0cyBmb3JcbmN1cnNvciBtb3Rpb24gYW5kIGRlbGV0aW9uIHB1cnBvc2VzLCBhbHNvIHByb3ZpZGUgdGhlIHJhbmdlIHNldFxuY29udGFpbmluZyB0aGUgZGVjb3JhdGlvbnMgdG9cbltgRWRpdG9yVmlldy5hdG9taWNSYW5nZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15hdG9taWNSYW5nZXMpLlxuKi9cbkVkaXRvclZpZXcuZGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucztcbi8qKlxuRmFjZXQgdGhhdCB3b3JrcyBtdWNoIGxpa2VcbltgZGVjb3JhdGlvbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15kZWNvcmF0aW9ucyksIGJ1dCBwdXRzIGl0c1xuaW5wdXRzIGF0IHRoZSB2ZXJ5IGJvdHRvbSBvZiB0aGUgcHJlY2VkZW5jZSBzdGFjaywgbWVhbmluZyBtYXJrXG5kZWNvcmF0aW9ucyBwcm92aWRlZCBoZXJlIHdpbGwgb25seSBiZSBzcGxpdCBieSBvdGhlciwgcGFydGlhbGx5XG5vdmVybGFwcGluZyBcXGBvdXRlckRlY29yYXRpb25zXFxgIHJhbmdlcywgYW5kIHdyYXAgYXJvdW5kIGFsbFxucmVndWxhciBkZWNvcmF0aW9ucy4gVXNlIHRoaXMgZm9yIG1hcmsgZWxlbWVudHMgdGhhdCBzaG91bGQsIGFzXG5tdWNoIGFzIHBvc3NpYmxlLCByZW1haW4gaW4gb25lIHBpZWNlLlxuKi9cbkVkaXRvclZpZXcub3V0ZXJEZWNvcmF0aW9ucyA9IG91dGVyRGVjb3JhdGlvbnM7XG4vKipcblVzZWQgdG8gcHJvdmlkZSByYW5nZXMgdGhhdCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhdG9tcyBhcyBmYXIgYXNcbmN1cnNvciBtb3Rpb24gaXMgY29uY2VybmVkLiBUaGlzIGNhdXNlcyBtZXRob2RzIGxpa2VcbltgbW92ZUJ5Q2hhcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVCeUNoYXIpIGFuZFxuW2Btb3ZlVmVydGljYWxseWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVWZXJ0aWNhbGx5KSAoYW5kIHRoZVxuY29tbWFuZHMgYnVpbHQgb24gdG9wIG9mIHRoZW0pIHRvIHNraXAgYWNyb3NzIHN1Y2ggcmVnaW9ucyB3aGVuXG5hIHNlbGVjdGlvbiBlbmRwb2ludCB3b3VsZCBlbnRlciB0aGVtLiBUaGlzIGRvZXMgX25vdF8gcHJldmVudFxuZGlyZWN0IHByb2dyYW1tYXRpYyBbc2VsZWN0aW9uXG51cGRhdGVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZWxlY3Rpb24pIGZyb20gbW92aW5nIGludG8gc3VjaFxucmVnaW9ucy5cbiovXG5FZGl0b3JWaWV3LmF0b21pY1JhbmdlcyA9IGF0b21pY1Jhbmdlcztcbi8qKlxuV2hlbiByYW5nZSBkZWNvcmF0aW9ucyBhZGQgYSBgdW5pY29kZS1iaWRpOiBpc29sYXRlYCBzdHlsZSwgdGhleVxuc2hvdWxkIGFsc28gaW5jbHVkZSBhXG5bYGJpZGlJc29sYXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3Lk1hcmtEZWNvcmF0aW9uU3BlYy5iaWRpSXNvbGF0ZSkgcHJvcGVydHlcbmluIHRoZWlyIGRlY29yYXRpb24gc3BlYywgYW5kIGJlIGV4cG9zZWQgdGhyb3VnaCB0aGlzIGZhY2V0LCBzb1xudGhhdCB0aGUgZWRpdG9yIGNhbiBjb21wdXRlIHRoZSBwcm9wZXIgdGV4dCBvcmRlci4gKE90aGVyIHZhbHVlc1xuZm9yIGB1bmljb2RlLWJpZGlgLCBleGNlcHQgb2YgY291cnNlIGBub3JtYWxgLCBhcmUgbm90XG5zdXBwb3J0ZWQuKVxuKi9cbkVkaXRvclZpZXcuYmlkaUlzb2xhdGVkUmFuZ2VzID0gYmlkaUlzb2xhdGVkUmFuZ2VzO1xuLyoqXG5GYWNldCB0aGF0IGFsbG93cyBleHRlbnNpb25zIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBzY3JvbGxcbm1hcmdpbnMgKHNwYWNlIGFyb3VuZCB0aGUgc2lkZXMgb2YgdGhlIHNjcm9sbGluZyBlbGVtZW50IHRoYXRcbnNob3VsZCBiZSBjb25zaWRlcmVkIGludmlzaWJsZSkuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZVxucGx1Z2luIGludHJvZHVjZXMgZWxlbWVudHMgdGhhdCBjb3ZlciBwYXJ0IG9mIHRoYXQgZWxlbWVudCAoZm9yXG5leGFtcGxlIGEgaG9yaXpvbnRhbGx5IGZpeGVkIGd1dHRlcikuXG4qL1xuRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zID0gc2Nyb2xsTWFyZ2lucztcbi8qKlxuVGhpcyBmYWNldCByZWNvcmRzIHdoZXRoZXIgYSBkYXJrIHRoZW1lIGlzIGFjdGl2ZS4gVGhlIGV4dGVuc2lvblxucmV0dXJuZWQgYnkgW2B0aGVtZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnRoZW1lKSBhdXRvbWF0aWNhbGx5XG5pbmNsdWRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIHdoZW4gdGhlIGBkYXJrYCBvcHRpb24gaXMgc2V0IHRvXG50cnVlLlxuKi9cbkVkaXRvclZpZXcuZGFya1RoZW1lID0gZGFya1RoZW1lO1xuLyoqXG5Qcm92aWRlcyBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IG5vbmNlIHRvIHVzZSB3aGVuIGNyZWF0aW5nXG50aGUgc3R5bGUgc2hlZXRzIGZvciB0aGUgZWRpdG9yLiBIb2xkcyB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gbm9cbm5vbmNlIGhhcyBiZWVuIHByb3ZpZGVkLlxuKi9cbkVkaXRvclZpZXcuY3NwTm9uY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiBcIlwiIH0pO1xuLyoqXG5GYWNldCB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgRE9NIGF0dHJpYnV0ZXMgZm9yIHRoZSBlZGl0b3Inc1xuZWRpdGFibGUgRE9NIGVsZW1lbnQuXG4qL1xuRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcyA9IGNvbnRlbnRBdHRyaWJ1dGVzO1xuLyoqXG5GYWNldCB0aGF0IHByb3ZpZGVzIERPTSBhdHRyaWJ1dGVzIGZvciB0aGUgZWRpdG9yJ3Mgb3V0ZXJcbmVsZW1lbnQuXG4qL1xuRWRpdG9yVmlldy5lZGl0b3JBdHRyaWJ1dGVzID0gZWRpdG9yQXR0cmlidXRlcztcbi8qKlxuQW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBsaW5lIHdyYXBwaW5nIGluIHRoZSBlZGl0b3IgKGJ5XG5zZXR0aW5nIENTUyBgd2hpdGUtc3BhY2VgIHRvIGBwcmUtd3JhcGAgaW4gdGhlIGNvbnRlbnQpLlxuKi9cbkVkaXRvclZpZXcubGluZVdyYXBwaW5nID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMub2YoeyBcImNsYXNzXCI6IFwiY20tbGluZVdyYXBwaW5nXCIgfSk7XG4vKipcblN0YXRlIGVmZmVjdCB1c2VkIHRvIGluY2x1ZGUgc2NyZWVuIHJlYWRlciBhbm5vdW5jZW1lbnRzIGluIGFcbnRyYW5zYWN0aW9uLiBUaGVzZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBET00gaW4gYSB2aXN1YWxseSBoaWRkZW5cbmVsZW1lbnQgd2l0aCBgYXJpYS1saXZlPVwicG9saXRlXCJgIHNldCwgYW5kIHNob3VsZCBiZSB1c2VkIHRvXG5kZXNjcmliZSBlZmZlY3RzIHRoYXQgYXJlIHZpc3VhbGx5IG9idmlvdXMgYnV0IG1heSBub3QgYmVcbm5vdGljZWQgYnkgc2NyZWVuIHJlYWRlciB1c2VycyAoc3VjaCBhcyBtb3ZpbmcgdG8gdGhlIG5leHRcbnNlYXJjaCBtYXRjaCkuXG4qL1xuRWRpdG9yVmlldy5hbm5vdW5jZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8vIE1heGltdW0gbGluZSBsZW5ndGggZm9yIHdoaWNoIHdlIGNvbXB1dGUgYWNjdXJhdGUgYmlkaSBpbmZvXG5jb25zdCBNYXhCaWRpTGluZSA9IDQwOTY7XG5jb25zdCBCYWRNZWFzdXJlID0ge307XG5jbGFzcyBDYWNoZWRPcmRlciB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIGRpciwgaXNvbGF0ZXMsIGZyZXNoLCBvcmRlcikge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZGlyID0gZGlyO1xuICAgICAgICB0aGlzLmlzb2xhdGVzID0gaXNvbGF0ZXM7XG4gICAgICAgIHRoaXMuZnJlc2ggPSBmcmVzaDtcbiAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xuICAgIH1cbiAgICBzdGF0aWMgdXBkYXRlKGNhY2hlLCBjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmVtcHR5ICYmICFjYWNoZS5zb21lKGMgPT4gYy5mcmVzaCkpXG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgbGFzdERpciA9IGNhY2hlLmxlbmd0aCA/IGNhY2hlW2NhY2hlLmxlbmd0aCAtIDFdLmRpciA6IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIGZvciAobGV0IGkgPSBNYXRoLm1heCgwLCBjYWNoZS5sZW5ndGggLSAxMCk7IGkgPCBjYWNoZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gY2FjaGVbaV07XG4gICAgICAgICAgICBpZiAoZW50cnkuZGlyID09IGxhc3REaXIgJiYgIWNoYW5nZXMudG91Y2hlc1JhbmdlKGVudHJ5LmZyb20sIGVudHJ5LnRvKSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ2FjaGVkT3JkZXIoY2hhbmdlcy5tYXBQb3MoZW50cnkuZnJvbSwgMSksIGNoYW5nZXMubWFwUG9zKGVudHJ5LnRvLCAtMSksIGVudHJ5LmRpciwgZW50cnkuaXNvbGF0ZXMsIGZhbHNlLCBlbnRyeS5vcmRlcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cnNGcm9tRmFjZXQodmlldywgZmFjZXQsIGJhc2UpIHtcbiAgICBmb3IgKGxldCBzb3VyY2VzID0gdmlldy5zdGF0ZS5mYWNldChmYWNldCksIGkgPSBzb3VyY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBzb3VyY2VzW2ldLCB2YWx1ZSA9IHR5cGVvZiBzb3VyY2UgPT0gXCJmdW5jdGlvblwiID8gc291cmNlKHZpZXcpIDogc291cmNlO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBjb21iaW5lQXR0cnModmFsdWUsIGJhc2UpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTtcbn1cblxuY29uc3QgY3VycmVudFBsYXRmb3JtID0gYnJvd3Nlci5tYWMgPyBcIm1hY1wiIDogYnJvd3Nlci53aW5kb3dzID8gXCJ3aW5cIiA6IGJyb3dzZXIubGludXggPyBcImxpbnV4XCIgOiBcImtleVwiO1xuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lLCBwbGF0Zm9ybSkge1xuICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyk7XG4gICAgbGV0IHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChyZXN1bHQgPT0gXCJTcGFjZVwiKVxuICAgICAgICByZXN1bHQgPSBcIiBcIjtcbiAgICBsZXQgYWx0LCBjdHJsLCBzaGlmdCwgbWV0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBtb2QgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSlcbiAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBhbHQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgY3RybCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9ecyhoaWZ0KT8kL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgc2hpZnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHtcbiAgICAgICAgICAgIGlmIChwbGF0Zm9ybSA9PSBcIm1hY1wiKVxuICAgICAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGN0cmwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCk7XG4gICAgfVxuICAgIGlmIChhbHQpXG4gICAgICAgIHJlc3VsdCA9IFwiQWx0LVwiICsgcmVzdWx0O1xuICAgIGlmIChjdHJsKVxuICAgICAgICByZXN1bHQgPSBcIkN0cmwtXCIgKyByZXN1bHQ7XG4gICAgaWYgKG1ldGEpXG4gICAgICAgIHJlc3VsdCA9IFwiTWV0YS1cIiArIHJlc3VsdDtcbiAgICBpZiAoc2hpZnQpXG4gICAgICAgIHJlc3VsdCA9IFwiU2hpZnQtXCIgKyByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVycyhuYW1lLCBldmVudCwgc2hpZnQpIHtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KVxuICAgICAgICBuYW1lID0gXCJBbHQtXCIgKyBuYW1lO1xuICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICBuYW1lID0gXCJDdHJsLVwiICsgbmFtZTtcbiAgICBpZiAoZXZlbnQubWV0YUtleSlcbiAgICAgICAgbmFtZSA9IFwiTWV0YS1cIiArIG5hbWU7XG4gICAgaWYgKHNoaWZ0ICE9PSBmYWxzZSAmJiBldmVudC5zaGlmdEtleSlcbiAgICAgICAgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xufVxuY29uc3QgaGFuZGxlS2V5RXZlbnRzID0gLypAX19QVVJFX18qL1ByZWMuZGVmYXVsdCgvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBrZXlkb3duKGV2ZW50LCB2aWV3KSB7XG4gICAgICAgIHJldHVybiBydW5IYW5kbGVycyhnZXRLZXltYXAodmlldy5zdGF0ZSksIGV2ZW50LCB2aWV3LCBcImVkaXRvclwiKTtcbiAgICB9XG59KSk7XG4vKipcbkZhY2V0IHVzZWQgZm9yIHJlZ2lzdGVyaW5nIGtleW1hcHMuXG5cbllvdSBjYW4gYWRkIG11bHRpcGxlIGtleW1hcHMgdG8gYW4gZWRpdG9yLiBUaGVpciBwcmlvcml0aWVzXG5kZXRlcm1pbmUgdGhlaXIgcHJlY2VkZW5jZSAodGhlIG9uZXMgc3BlY2lmaWVkIGVhcmx5IG9yIHdpdGggaGlnaFxucHJpb3JpdHkgZ2V0IGNoZWNrZWQgZmlyc3QpLiBXaGVuIGEgaGFuZGxlciBoYXMgcmV0dXJuZWQgYHRydWVgXG5mb3IgYSBnaXZlbiBrZXksIG5vIGZ1cnRoZXIgaGFuZGxlcnMgYXJlIGNhbGxlZC5cbiovXG5jb25zdCBrZXltYXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgZW5hYmxlczogaGFuZGxlS2V5RXZlbnRzIH0pO1xuY29uc3QgS2V5bWFwcyA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuLy8gVGhpcyBpcyBoaWRkZW4gYmVoaW5kIGFuIGluZGlyZWN0aW9uLCByYXRoZXIgdGhhbiBkaXJlY3RseSBjb21wdXRlZFxuLy8gYnkgdGhlIGZhY2V0LCB0byBrZWVwIGludGVybmFsIHR5cGVzIG91dCBvZiB0aGUgZmFjZXQncyB0eXBlLlxuZnVuY3Rpb24gZ2V0S2V5bWFwKHN0YXRlKSB7XG4gICAgbGV0IGJpbmRpbmdzID0gc3RhdGUuZmFjZXQoa2V5bWFwKTtcbiAgICBsZXQgbWFwID0gS2V5bWFwcy5nZXQoYmluZGluZ3MpO1xuICAgIGlmICghbWFwKVxuICAgICAgICBLZXltYXBzLnNldChiaW5kaW5ncywgbWFwID0gYnVpbGRLZXltYXAoYmluZGluZ3MucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pKSk7XG4gICAgcmV0dXJuIG1hcDtcbn1cbi8qKlxuUnVuIHRoZSBrZXkgaGFuZGxlcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBzY29wZS4gVGhlIGV2ZW50XG5vYmplY3Qgc2hvdWxkIGJlIGEgYFwia2V5ZG93blwiYCBldmVudC4gUmV0dXJucyB0cnVlIGlmIGFueSBvZiB0aGVcbmhhbmRsZXJzIGhhbmRsZWQgaXQuXG4qL1xuZnVuY3Rpb24gcnVuU2NvcGVIYW5kbGVycyh2aWV3LCBldmVudCwgc2NvcGUpIHtcbiAgICByZXR1cm4gcnVuSGFuZGxlcnMoZ2V0S2V5bWFwKHZpZXcuc3RhdGUpLCBldmVudCwgdmlldywgc2NvcGUpO1xufVxubGV0IHN0b3JlZFByZWZpeCA9IG51bGw7XG5jb25zdCBQcmVmaXhUaW1lb3V0ID0gNDAwMDtcbmZ1bmN0aW9uIGJ1aWxkS2V5bWFwKGJpbmRpbmdzLCBwbGF0Zm9ybSA9IGN1cnJlbnRQbGF0Zm9ybSkge1xuICAgIGxldCBib3VuZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGlzUHJlZml4ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgY2hlY2tQcmVmaXggPSAobmFtZSwgaXMpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBpc1ByZWZpeFtuYW1lXTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIGlzUHJlZml4W25hbWVdID0gaXM7XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgIT0gaXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXkgYmluZGluZyBcIiArIG5hbWUgKyBcIiBpcyB1c2VkIGJvdGggYXMgYSByZWd1bGFyIGJpbmRpbmcgYW5kIGFzIGEgbXVsdGktc3Ryb2tlIHByZWZpeFwiKTtcbiAgICB9O1xuICAgIGxldCBhZGQgPSAoc2NvcGUsIGtleSwgY29tbWFuZCwgcHJldmVudERlZmF1bHQsIHN0b3BQcm9wYWdhdGlvbikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgc2NvcGVPYmogPSBib3VuZFtzY29wZV0gfHwgKGJvdW5kW3Njb3BlXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBsZXQgcGFydHMgPSBrZXkuc3BsaXQoLyAoPyEkKS8pLm1hcChrID0+IG5vcm1hbGl6ZUtleU5hbWUoaywgcGxhdGZvcm0pKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByZWZpeCA9IHBhcnRzLnNsaWNlKDAsIGkpLmpvaW4oXCIgXCIpO1xuICAgICAgICAgICAgY2hlY2tQcmVmaXgocHJlZml4LCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghc2NvcGVPYmpbcHJlZml4XSlcbiAgICAgICAgICAgICAgICBzY29wZU9ialtwcmVmaXhdID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcnVuOiBbKHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3VyT2JqID0gc3RvcmVkUHJlZml4ID0geyB2aWV3LCBwcmVmaXgsIHNjb3BlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGlmIChzdG9yZWRQcmVmaXggPT0gb3VyT2JqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRQcmVmaXggPSBudWxsOyB9LCBQcmVmaXhUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnVsbCA9IHBhcnRzLmpvaW4oXCIgXCIpO1xuICAgICAgICBjaGVja1ByZWZpeChmdWxsLCBmYWxzZSk7XG4gICAgICAgIGxldCBiaW5kaW5nID0gc2NvcGVPYmpbZnVsbF0gfHwgKHNjb3BlT2JqW2Z1bGxdID0ge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIHJ1bjogKChfYiA9IChfYSA9IHNjb3BlT2JqLl9hbnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ydW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zbGljZSgpKSB8fCBbXVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbW1hbmQpXG4gICAgICAgICAgICBiaW5kaW5nLnJ1bi5wdXNoKGNvbW1hbmQpO1xuICAgICAgICBpZiAocHJldmVudERlZmF1bHQpXG4gICAgICAgICAgICBiaW5kaW5nLnByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgIGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICB9O1xuICAgIGZvciAobGV0IGIgb2YgYmluZGluZ3MpIHtcbiAgICAgICAgbGV0IHNjb3BlcyA9IGIuc2NvcGUgPyBiLnNjb3BlLnNwbGl0KFwiIFwiKSA6IFtcImVkaXRvclwiXTtcbiAgICAgICAgaWYgKGIuYW55KVxuICAgICAgICAgICAgZm9yIChsZXQgc2NvcGUgb2Ygc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNjb3BlT2JqID0gYm91bmRbc2NvcGVdIHx8IChib3VuZFtzY29wZV0gPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlT2JqLl9hbnkpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlT2JqLl9hbnkgPSB7IHByZXZlbnREZWZhdWx0OiBmYWxzZSwgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSwgcnVuOiBbXSB9O1xuICAgICAgICAgICAgICAgIGxldCB7IGFueSB9ID0gYjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2NvcGVPYmopXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlT2JqW2tleV0ucnVuLnB1c2godmlldyA9PiBhbnkodmlldywgY3VycmVudEtleUV2ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lID0gYltwbGF0Zm9ybV0gfHwgYi5rZXk7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGxldCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICAgICAgICAgIGFkZChzY29wZSwgbmFtZSwgYi5ydW4sIGIucHJldmVudERlZmF1bHQsIGIuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChiLnNoaWZ0KVxuICAgICAgICAgICAgICAgIGFkZChzY29wZSwgXCJTaGlmdC1cIiArIG5hbWUsIGIuc2hpZnQsIGIucHJldmVudERlZmF1bHQsIGIuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm91bmQ7XG59XG5sZXQgY3VycmVudEtleUV2ZW50ID0gbnVsbDtcbmZ1bmN0aW9uIHJ1bkhhbmRsZXJzKG1hcCwgZXZlbnQsIHZpZXcsIHNjb3BlKSB7XG4gICAgY3VycmVudEtleUV2ZW50ID0gZXZlbnQ7XG4gICAgbGV0IG5hbWUgPSBrZXlOYW1lKGV2ZW50KTtcbiAgICBsZXQgY2hhckNvZGUgPSBjb2RlUG9pbnRBdChuYW1lLCAwKSwgaXNDaGFyID0gY29kZVBvaW50U2l6ZShjaGFyQ29kZSkgPT0gbmFtZS5sZW5ndGggJiYgbmFtZSAhPSBcIiBcIjtcbiAgICBsZXQgcHJlZml4ID0gXCJcIiwgaGFuZGxlZCA9IGZhbHNlLCBwcmV2ZW50ZWQgPSBmYWxzZSwgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2U7XG4gICAgaWYgKHN0b3JlZFByZWZpeCAmJiBzdG9yZWRQcmVmaXgudmlldyA9PSB2aWV3ICYmIHN0b3JlZFByZWZpeC5zY29wZSA9PSBzY29wZSkge1xuICAgICAgICBwcmVmaXggPSBzdG9yZWRQcmVmaXgucHJlZml4ICsgXCIgXCI7XG4gICAgICAgIGlmIChtb2RpZmllckNvZGVzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgPCAwKSB7XG4gICAgICAgICAgICBwcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgc3RvcmVkUHJlZml4ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmFuID0gbmV3IFNldDtcbiAgICBsZXQgcnVuRm9yID0gKGJpbmRpbmcpID0+IHtcbiAgICAgICAgaWYgKGJpbmRpbmcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNtZCBvZiBiaW5kaW5nLnJ1bilcbiAgICAgICAgICAgICAgICBpZiAoIXJhbi5oYXMoY21kKSkge1xuICAgICAgICAgICAgICAgICAgICByYW4uYWRkKGNtZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbWQodmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmluZGluZy5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIGxldCBzY29wZU9iaiA9IG1hcFtzY29wZV0sIGJhc2VOYW1lLCBzaGlmdE5hbWU7XG4gICAgaWYgKHNjb3BlT2JqKSB7XG4gICAgICAgIGlmIChydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCAhaXNDaGFyKV0pKSB7XG4gICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NoYXIgJiYgKGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICAgICAvLyBDdHJsLUFsdCBtYXkgYmUgdXNlZCBmb3IgQWx0R3Igb24gV2luZG93c1xuICAgICAgICAgICAgIShicm93c2VyLndpbmRvd3MgJiYgZXZlbnQuY3RybEtleSAmJiBldmVudC5hbHRLZXkpICYmXG4gICAgICAgICAgICAoYmFzZU5hbWUgPSBiYXNlW2V2ZW50LmtleUNvZGVdKSAmJiBiYXNlTmFtZSAhPSBuYW1lKSB7XG4gICAgICAgICAgICBpZiAocnVuRm9yKHNjb3BlT2JqW3ByZWZpeCArIG1vZGlmaWVycyhiYXNlTmFtZSwgZXZlbnQsIHRydWUpXSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIChzaGlmdE5hbWUgPSBzaGlmdFtldmVudC5rZXlDb2RlXSkgIT0gbmFtZSAmJiBzaGlmdE5hbWUgIT0gYmFzZU5hbWUgJiZcbiAgICAgICAgICAgICAgICBydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKHNoaWZ0TmFtZSwgZXZlbnQsIGZhbHNlKV0pKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDaGFyICYmIGV2ZW50LnNoaWZ0S2V5ICYmXG4gICAgICAgICAgICBydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCB0cnVlKV0pKSB7XG4gICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhbmRsZWQgJiYgcnVuRm9yKHNjb3BlT2JqLl9hbnkpKVxuICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwcmV2ZW50ZWQpXG4gICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgIGlmIChoYW5kbGVkICYmIHN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY3VycmVudEtleUV2ZW50ID0gbnVsbDtcbiAgICByZXR1cm4gaGFuZGxlZDtcbn1cblxuLyoqXG5JbXBsZW1lbnRhdGlvbiBvZiBbYExheWVyTWFya2VyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkxheWVyTWFya2VyKSB0aGF0IGNyZWF0ZXNcbmEgcmVjdGFuZ2xlIGF0IGEgZ2l2ZW4gc2V0IG9mIGNvb3JkaW5hdGVzLlxuKi9cbmNsYXNzIFJlY3RhbmdsZU1hcmtlciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbWFya2VyIHdpdGggdGhlIGdpdmVuIGNsYXNzIGFuZCBkaW1lbnNpb25zLiBJZiBgd2lkdGhgXG4gICAgaXMgbnVsbCwgdGhlIERPTSBlbGVtZW50IHdpbGwgZ2V0IG5vIHdpZHRoIHN0eWxlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY2xhc3NOYW1lLCBcbiAgICAvKipcbiAgICBUaGUgbGVmdCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyIChpbiBwaXhlbHMsIGRvY3VtZW50LXJlbGF0aXZlKS5cbiAgICAqL1xuICAgIGxlZnQsIFxuICAgIC8qKlxuICAgIFRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIG1hcmtlci5cbiAgICAqL1xuICAgIHRvcCwgXG4gICAgLyoqXG4gICAgVGhlIHdpZHRoIG9mIHRoZSBtYXJrZXIsIG9yIG51bGwgaWYgaXQgc2hvdWxkbid0IGdldCBhIHdpZHRoIGFzc2lnbmVkLlxuICAgICovXG4gICAgd2lkdGgsIFxuICAgIC8qKlxuICAgIFRoZSBoZWlnaHQgb2YgdGhlIG1hcmtlci5cbiAgICAqL1xuICAgIGhlaWdodCkge1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbHQuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgIHRoaXMuYWRqdXN0KGVsdCk7XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIHVwZGF0ZShlbHQsIHByZXYpIHtcbiAgICAgICAgaWYgKHByZXYuY2xhc3NOYW1lICE9IHRoaXMuY2xhc3NOYW1lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmFkanVzdChlbHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYWRqdXN0KGVsdCkge1xuICAgICAgICBlbHQuc3R5bGUubGVmdCA9IHRoaXMubGVmdCArIFwicHhcIjtcbiAgICAgICAgZWx0LnN0eWxlLnRvcCA9IHRoaXMudG9wICsgXCJweFwiO1xuICAgICAgICBpZiAodGhpcy53aWR0aCAhPSBudWxsKVxuICAgICAgICAgICAgZWx0LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArIFwicHhcIjtcbiAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cbiAgICBlcShwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQgPT0gcC5sZWZ0ICYmIHRoaXMudG9wID09IHAudG9wICYmIHRoaXMud2lkdGggPT0gcC53aWR0aCAmJiB0aGlzLmhlaWdodCA9PSBwLmhlaWdodCAmJlxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPT0gcC5jbGFzc05hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiByZWN0YW5nbGVzIGZvciB0aGUgZ2l2ZW4gc2VsZWN0aW9uIHJhbmdlLFxuICAgIGFzc2lnbmluZyB0aGVtIHRoZWNsYXNzYGNsYXNzTmFtZWAuIFdpbGwgY3JlYXRlIGEgc2luZ2xlXG4gICAgcmVjdGFuZ2xlIGZvciBlbXB0eSByYW5nZXMsIGFuZCBhIHNldCBvZiBzZWxlY3Rpb24tc3R5bGVcbiAgICByZWN0YW5nbGVzIGNvdmVyaW5nIHRoZSByYW5nZSdzIGNvbnRlbnQgKGluIGEgYmlkaS1hd2FyZVxuICAgIHdheSkgZm9yIG5vbi1lbXB0eSBvbmVzLlxuICAgICovXG4gICAgc3RhdGljIGZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gdmlldy5jb29yZHNBdFBvcyhyYW5nZS5oZWFkLCByYW5nZS5hc3NvYyB8fCAxKTtcbiAgICAgICAgICAgIGlmICghcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIGxldCBiYXNlID0gZ2V0QmFzZSh2aWV3KTtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IFJlY3RhbmdsZU1hcmtlcihjbGFzc05hbWUsIHBvcy5sZWZ0IC0gYmFzZS5sZWZ0LCBwb3MudG9wIC0gYmFzZS50b3AsIG51bGwsIHBvcy5ib3R0b20gLSBwb3MudG9wKV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjdGFuZ2xlc0ZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0QmFzZSh2aWV3KSB7XG4gICAgbGV0IHJlY3QgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbGVmdCA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCAtIHZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoICogdmlldy5zY2FsZVg7XG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCAtIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgKiB2aWV3LnNjYWxlWCwgdG9wOiByZWN0LnRvcCAtIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAqIHZpZXcuc2NhbGVZIH07XG59XG5mdW5jdGlvbiB3cmFwcGVkTGluZSh2aWV3LCBwb3MsIHNpZGUsIGluc2lkZSkge1xuICAgIGxldCBjb29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKHBvcywgc2lkZSAqIDIpO1xuICAgIGlmICghY29vcmRzKVxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIGxldCBlZGl0b3JSZWN0ID0gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHkgPSAoY29vcmRzLnRvcCArIGNvb3Jkcy5ib3R0b20pIC8gMjtcbiAgICBsZXQgbGVmdCA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBlZGl0b3JSZWN0LmxlZnQgKyAxLCB5IH0pO1xuICAgIGxldCByaWdodCA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBlZGl0b3JSZWN0LnJpZ2h0IC0gMSwgeSB9KTtcbiAgICBpZiAobGVmdCA9PSBudWxsIHx8IHJpZ2h0ID09IG51bGwpXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgcmV0dXJuIHsgZnJvbTogTWF0aC5tYXgoaW5zaWRlLmZyb20sIE1hdGgubWluKGxlZnQsIHJpZ2h0KSksIHRvOiBNYXRoLm1pbihpbnNpZGUudG8sIE1hdGgubWF4KGxlZnQsIHJpZ2h0KSkgfTtcbn1cbmZ1bmN0aW9uIHJlY3RhbmdsZXNGb3JSYW5nZSh2aWV3LCBjbGFzc05hbWUsIHJhbmdlKSB7XG4gICAgaWYgKHJhbmdlLnRvIDw9IHZpZXcudmlld3BvcnQuZnJvbSB8fCByYW5nZS5mcm9tID49IHZpZXcudmlld3BvcnQudG8pXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBsZXQgZnJvbSA9IE1hdGgubWF4KHJhbmdlLmZyb20sIHZpZXcudmlld3BvcnQuZnJvbSksIHRvID0gTWF0aC5taW4ocmFuZ2UudG8sIHZpZXcudmlld3BvcnQudG8pO1xuICAgIGxldCBsdHIgPSB2aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUjtcbiAgICBsZXQgY29udGVudCA9IHZpZXcuY29udGVudERPTSwgY29udGVudFJlY3QgPSBjb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBiYXNlID0gZ2V0QmFzZSh2aWV3KTtcbiAgICBsZXQgbGluZUVsdCA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jbS1saW5lXCIpLCBsaW5lU3R5bGUgPSBsaW5lRWx0ICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGxpbmVFbHQpO1xuICAgIGxldCBsZWZ0U2lkZSA9IGNvbnRlbnRSZWN0LmxlZnQgK1xuICAgICAgICAobGluZVN0eWxlID8gcGFyc2VJbnQobGluZVN0eWxlLnBhZGRpbmdMZWZ0KSArIE1hdGgubWluKDAsIHBhcnNlSW50KGxpbmVTdHlsZS50ZXh0SW5kZW50KSkgOiAwKTtcbiAgICBsZXQgcmlnaHRTaWRlID0gY29udGVudFJlY3QucmlnaHQgLSAobGluZVN0eWxlID8gcGFyc2VJbnQobGluZVN0eWxlLnBhZGRpbmdSaWdodCkgOiAwKTtcbiAgICBsZXQgc3RhcnRCbG9jayA9IGJsb2NrQXQodmlldywgZnJvbSksIGVuZEJsb2NrID0gYmxvY2tBdCh2aWV3LCB0byk7XG4gICAgbGV0IHZpc3VhbFN0YXJ0ID0gc3RhcnRCbG9jay50eXBlID09IEJsb2NrVHlwZS5UZXh0ID8gc3RhcnRCbG9jayA6IG51bGw7XG4gICAgbGV0IHZpc3VhbEVuZCA9IGVuZEJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgPyBlbmRCbG9jayA6IG51bGw7XG4gICAgaWYgKHZpc3VhbFN0YXJ0ICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MpKVxuICAgICAgICB2aXN1YWxTdGFydCA9IHdyYXBwZWRMaW5lKHZpZXcsIGZyb20sIDEsIHZpc3VhbFN0YXJ0KTtcbiAgICBpZiAodmlzdWFsRW5kICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBlbmRCbG9jay53aWRnZXRMaW5lQnJlYWtzKSlcbiAgICAgICAgdmlzdWFsRW5kID0gd3JhcHBlZExpbmUodmlldywgdG8sIC0xLCB2aXN1YWxFbmQpO1xuICAgIGlmICh2aXN1YWxTdGFydCAmJiB2aXN1YWxFbmQgJiYgdmlzdWFsU3RhcnQuZnJvbSA9PSB2aXN1YWxFbmQuZnJvbSAmJiB2aXN1YWxTdGFydC50byA9PSB2aXN1YWxFbmQudG8pIHtcbiAgICAgICAgcmV0dXJuIHBpZWNlcyhkcmF3Rm9yTGluZShyYW5nZS5mcm9tLCByYW5nZS50bywgdmlzdWFsU3RhcnQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0b3AgPSB2aXN1YWxTdGFydCA/IGRyYXdGb3JMaW5lKHJhbmdlLmZyb20sIG51bGwsIHZpc3VhbFN0YXJ0KSA6IGRyYXdGb3JXaWRnZXQoc3RhcnRCbG9jaywgZmFsc2UpO1xuICAgICAgICBsZXQgYm90dG9tID0gdmlzdWFsRW5kID8gZHJhd0ZvckxpbmUobnVsbCwgcmFuZ2UudG8sIHZpc3VhbEVuZCkgOiBkcmF3Rm9yV2lkZ2V0KGVuZEJsb2NrLCB0cnVlKTtcbiAgICAgICAgbGV0IGJldHdlZW4gPSBbXTtcbiAgICAgICAgaWYgKCh2aXN1YWxTdGFydCB8fCBzdGFydEJsb2NrKS50byA8ICh2aXN1YWxFbmQgfHwgZW5kQmxvY2spLmZyb20gLSAodmlzdWFsU3RhcnQgJiYgdmlzdWFsRW5kID8gMSA6IDApIHx8XG4gICAgICAgICAgICBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MgPiAxICYmIHRvcC5ib3R0b20gKyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC8gMiA8IGJvdHRvbS50b3ApXG4gICAgICAgICAgICBiZXR3ZWVuLnB1c2gocGllY2UobGVmdFNpZGUsIHRvcC5ib3R0b20sIHJpZ2h0U2lkZSwgYm90dG9tLnRvcCkpO1xuICAgICAgICBlbHNlIGlmICh0b3AuYm90dG9tIDwgYm90dG9tLnRvcCAmJiB2aWV3LmVsZW1lbnRBdEhlaWdodCgodG9wLmJvdHRvbSArIGJvdHRvbS50b3ApIC8gMikudHlwZSA9PSBCbG9ja1R5cGUuVGV4dClcbiAgICAgICAgICAgIHRvcC5ib3R0b20gPSBib3R0b20udG9wID0gKHRvcC5ib3R0b20gKyBib3R0b20udG9wKSAvIDI7XG4gICAgICAgIHJldHVybiBwaWVjZXModG9wKS5jb25jYXQoYmV0d2VlbikuY29uY2F0KHBpZWNlcyhib3R0b20pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2UobGVmdCwgdG9wLCByaWdodCwgYm90dG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgbGVmdCAtIGJhc2UubGVmdCwgdG9wIC0gYmFzZS50b3AgLSAwLjAxIC8qIEMuRXBzaWxvbiAqLywgcmlnaHQgLSBsZWZ0LCBib3R0b20gLSB0b3AgKyAwLjAxIC8qIEMuRXBzaWxvbiAqLyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpZWNlcyh7IHRvcCwgYm90dG9tLCBob3Jpem9udGFsIH0pIHtcbiAgICAgICAgbGV0IHBpZWNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvcml6b250YWwubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgICAgICBwaWVjZXMucHVzaChwaWVjZShob3Jpem9udGFsW2ldLCB0b3AsIGhvcml6b250YWxbaSArIDFdLCBib3R0b20pKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlcztcbiAgICB9XG4gICAgLy8gR2V0cyBwYXNzZWQgZnJvbS90byBpbiBsaW5lLWxvY2FsIHBvc2l0aW9uc1xuICAgIGZ1bmN0aW9uIGRyYXdGb3JMaW5lKGZyb20sIHRvLCBsaW5lKSB7XG4gICAgICAgIGxldCB0b3AgPSAxZTksIGJvdHRvbSA9IC0xZTksIGhvcml6b250YWwgPSBbXTtcbiAgICAgICAgZnVuY3Rpb24gYWRkU3Bhbihmcm9tLCBmcm9tT3BlbiwgdG8sIHRvT3BlbiwgZGlyKSB7XG4gICAgICAgICAgICAvLyBQYXNzaW5nIDIvLTIgaXMgYSBrbHVkZ2UgdG8gZm9yY2UgdGhlIHZpZXcgdG8gcmV0dXJuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvbiB0aGUgcHJvcGVyIHNpZGUgb2YgYmxvY2sgd2lkZ2V0cywgc2luY2VcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6aW5nIHRoZSBzaWRlIHRoZXJlLCB0aG91Z2ggYXBwcm9wcmlhdGUgZm9yIG1vc3RcbiAgICAgICAgICAgIC8vIGNvb3Jkc0F0UG9zIHF1ZXJpZXMsIHdvdWxkIGJyZWFrIHNlbGVjdGlvbiBkcmF3aW5nLlxuICAgICAgICAgICAgbGV0IGZyb21Db29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKGZyb20sIChmcm9tID09IGxpbmUudG8gPyAtMiA6IDIpKTtcbiAgICAgICAgICAgIGxldCB0b0Nvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3ModG8sICh0byA9PSBsaW5lLmZyb20gPyAyIDogLTIpKTtcbiAgICAgICAgICAgIGlmICghZnJvbUNvb3JkcyB8fCAhdG9Db29yZHMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdG9wID0gTWF0aC5taW4oZnJvbUNvb3Jkcy50b3AsIHRvQ29vcmRzLnRvcCwgdG9wKTtcbiAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KGZyb21Db29yZHMuYm90dG9tLCB0b0Nvb3Jkcy5ib3R0b20sIGJvdHRvbSk7XG4gICAgICAgICAgICBpZiAoZGlyID09IERpcmVjdGlvbi5MVFIpXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbC5wdXNoKGx0ciAmJiBmcm9tT3BlbiA/IGxlZnRTaWRlIDogZnJvbUNvb3Jkcy5sZWZ0LCBsdHIgJiYgdG9PcGVuID8gcmlnaHRTaWRlIDogdG9Db29yZHMucmlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhvcml6b250YWwucHVzaCghbHRyICYmIHRvT3BlbiA/IGxlZnRTaWRlIDogdG9Db29yZHMubGVmdCwgIWx0ciAmJiBmcm9tT3BlbiA/IHJpZ2h0U2lkZSA6IGZyb21Db29yZHMucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGZyb20gIT09IG51bGwgJiYgZnJvbSAhPT0gdm9pZCAwID8gZnJvbSA6IGxpbmUuZnJvbSwgZW5kID0gdG8gIT09IG51bGwgJiYgdG8gIT09IHZvaWQgMCA/IHRvIDogbGluZS50bztcbiAgICAgICAgLy8gU3BsaXQgdGhlIHJhbmdlIGJ5IHZpc2libGUgcmFuZ2UgYW5kIGRvY3VtZW50IGxpbmVcbiAgICAgICAgZm9yIChsZXQgciBvZiB2aWV3LnZpc2libGVSYW5nZXMpXG4gICAgICAgICAgICBpZiAoci50byA+IHN0YXJ0ICYmIHIuZnJvbSA8IGVuZCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IE1hdGgubWF4KHIuZnJvbSwgc3RhcnQpLCBlbmRQb3MgPSBNYXRoLm1pbihyLnRvLCBlbmQpOzspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRvY0xpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc3BhbiBvZiB2aWV3LmJpZGlTcGFucyhkb2NMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwYW5Gcm9tID0gc3Bhbi5mcm9tICsgZG9jTGluZS5mcm9tLCBzcGFuVG8gPSBzcGFuLnRvICsgZG9jTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5Gcm9tID49IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuVG8gPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3BhbihNYXRoLm1heChzcGFuRnJvbSwgcG9zKSwgZnJvbSA9PSBudWxsICYmIHNwYW5Gcm9tIDw9IHN0YXJ0LCBNYXRoLm1pbihzcGFuVG8sIGVuZFBvcyksIHRvID09IG51bGwgJiYgc3BhblRvID49IGVuZCwgc3Bhbi5kaXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IGRvY0xpbmUudG8gKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID49IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGhvcml6b250YWwubGVuZ3RoID09IDApXG4gICAgICAgICAgICBhZGRTcGFuKHN0YXJ0LCBmcm9tID09IG51bGwsIGVuZCwgdG8gPT0gbnVsbCwgdmlldy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHsgdG9wLCBib3R0b20sIGhvcml6b250YWwgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZHJhd0ZvcldpZGdldChibG9jaywgdG9wKSB7XG4gICAgICAgIGxldCB5ID0gY29udGVudFJlY3QudG9wICsgKHRvcCA/IGJsb2NrLnRvcCA6IGJsb2NrLmJvdHRvbSk7XG4gICAgICAgIHJldHVybiB7IHRvcDogeSwgYm90dG9tOiB5LCBob3Jpem9udGFsOiBbXSB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXIoYSwgYikge1xuICAgIHJldHVybiBhLmNvbnN0cnVjdG9yID09IGIuY29uc3RydWN0b3IgJiYgYS5lcShiKTtcbn1cbmNsYXNzIExheWVyVmlldyB7XG4gICAgY29uc3RydWN0b3IodmlldywgbGF5ZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgICAgICB0aGlzLmRyYXduID0gW107XG4gICAgICAgIHRoaXMuc2NhbGVYID0gMTtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSAxO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHRoaXMubWVhc3VyZS5iaW5kKHRoaXMpLCB3cml0ZTogdGhpcy5kcmF3LmJpbmQodGhpcykgfTtcbiAgICAgICAgdGhpcy5kb20gPSB2aWV3LnNjcm9sbERPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLWxheWVyXCIpO1xuICAgICAgICBpZiAobGF5ZXIuYWJvdmUpXG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGF5ZXItYWJvdmVcIik7XG4gICAgICAgIGlmIChsYXllci5jbGFzcylcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQobGF5ZXIuY2xhc3MpO1xuICAgICAgICB0aGlzLnNjYWxlKCk7XG4gICAgICAgIHRoaXMuZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgdGhpcy5zZXRPcmRlcih2aWV3LnN0YXRlKTtcbiAgICAgICAgdmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICBpZiAobGF5ZXIubW91bnQpXG4gICAgICAgICAgICBsYXllci5tb3VudCh0aGlzLmRvbSwgdmlldyk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGxheWVyT3JkZXIpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsYXllck9yZGVyKSlcbiAgICAgICAgICAgIHRoaXMuc2V0T3JkZXIodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXIudXBkYXRlKHVwZGF0ZSwgdGhpcy5kb20pIHx8IHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUoKTtcbiAgICAgICAgICAgIHVwZGF0ZS52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9jVmlld1VwZGF0ZSh2aWV3KSB7XG4gICAgICAgIGlmICh0aGlzLmxheWVyLnVwZGF0ZU9uRG9jVmlld1VwZGF0ZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICB2aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgfVxuICAgIHNldE9yZGVyKHN0YXRlKSB7XG4gICAgICAgIGxldCBwb3MgPSAwLCBvcmRlciA9IHN0YXRlLmZhY2V0KGxheWVyT3JkZXIpO1xuICAgICAgICB3aGlsZSAocG9zIDwgb3JkZXIubGVuZ3RoICYmIG9yZGVyW3Bvc10gIT0gdGhpcy5sYXllcilcbiAgICAgICAgICAgIHBvcysrO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS56SW5kZXggPSBTdHJpbmcoKHRoaXMubGF5ZXIuYWJvdmUgPyAxNTAgOiAtMSkgLSBwb3MpO1xuICAgIH1cbiAgICBtZWFzdXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllci5tYXJrZXJzKHRoaXMudmlldyk7XG4gICAgfVxuICAgIHNjYWxlKCkge1xuICAgICAgICBsZXQgeyBzY2FsZVgsIHNjYWxlWSB9ID0gdGhpcy52aWV3O1xuICAgICAgICBpZiAoc2NhbGVYICE9IHRoaXMuc2NhbGVYIHx8IHNjYWxlWSAhPSB0aGlzLnNjYWxlWSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgICAgICB0aGlzLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgkezEgLyBzY2FsZVh9LCAkezEgLyBzY2FsZVl9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhdyhtYXJrZXJzKSB7XG4gICAgICAgIGlmIChtYXJrZXJzLmxlbmd0aCAhPSB0aGlzLmRyYXduLmxlbmd0aCB8fCBtYXJrZXJzLnNvbWUoKHAsIGkpID0+ICFzYW1lTWFya2VyKHAsIHRoaXMuZHJhd25baV0pKSkge1xuICAgICAgICAgICAgbGV0IG9sZCA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQsIG9sZEkgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgbWFya2VyIG9mIG1hcmtlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyLnVwZGF0ZSAmJiBvbGQgJiYgbWFya2VyLmNvbnN0cnVjdG9yICYmIHRoaXMuZHJhd25bb2xkSV0uY29uc3RydWN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyLnVwZGF0ZShvbGQsIHRoaXMuZHJhd25bb2xkSV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZCA9IG9sZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgb2xkSSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uaW5zZXJ0QmVmb3JlKG1hcmtlci5kcmF3KCksIG9sZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKG9sZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gb2xkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIG9sZC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBvbGQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3biA9IG1hcmtlcnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXIuZGVzdHJveSlcbiAgICAgICAgICAgIHRoaXMubGF5ZXIuZGVzdHJveSh0aGlzLmRvbSwgdGhpcy52aWV3KTtcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgfVxufVxuY29uc3QgbGF5ZXJPcmRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8qKlxuRGVmaW5lIGEgbGF5ZXIuXG4qL1xuZnVuY3Rpb24gbGF5ZXIoY29uZmlnKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgVmlld1BsdWdpbi5kZWZpbmUodiA9PiBuZXcgTGF5ZXJWaWV3KHYsIGNvbmZpZykpLFxuICAgICAgICBsYXllck9yZGVyLm9mKGNvbmZpZylcbiAgICBdO1xufVxuXG5jb25zdCBDYW5IaWRlUHJpbWFyeSA9ICFicm93c2VyLmlvczsgLy8gRklYTUUgdGVzdCBJRVxuY29uc3Qgc2VsZWN0aW9uQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIGN1cnNvckJsaW5rUmF0ZTogMTIwMCxcbiAgICAgICAgICAgIGRyYXdSYW5nZUN1cnNvcjogdHJ1ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjdXJzb3JCbGlua1JhdGU6IChhLCBiKSA9PiBNYXRoLm1pbihhLCBiKSxcbiAgICAgICAgICAgIGRyYXdSYW5nZUN1cnNvcjogKGEsIGIpID0+IGEgfHwgYlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBoaWRlcyB0aGUgYnJvd3NlcidzIG5hdGl2ZSBzZWxlY3Rpb24gYW5kXG5jdXJzb3IsIHJlcGxhY2luZyB0aGUgc2VsZWN0aW9uIHdpdGggYSBiYWNrZ3JvdW5kIGJlaGluZCB0aGUgdGV4dFxuKHdpdGggdGhlIGBjbS1zZWxlY3Rpb25CYWNrZ3JvdW5kYCBjbGFzcyksIGFuZCB0aGVcbmN1cnNvcnMgd2l0aCBlbGVtZW50cyBvdmVybGFpZCBvdmVyIHRoZSBjb2RlICh1c2luZ1xuYGNtLWN1cnNvci1wcmltYXJ5YCBhbmQgYGNtLWN1cnNvci1zZWNvbmRhcnlgKS5cblxuVGhpcyBhbGxvd3MgdGhlIGVkaXRvciB0byBkaXNwbGF5IHNlY29uZGFyeSBzZWxlY3Rpb24gcmFuZ2VzLCBhbmRcbnRlbmRzIHRvIHByb2R1Y2UgYSB0eXBlIG9mIHNlbGVjdGlvbiBtb3JlIGluIGxpbmUgd2l0aCB0aGF0IHVzZXJzXG5leHBlY3QgaW4gYSB0ZXh0IGVkaXRvciAodGhlIG5hdGl2ZSBzZWxlY3Rpb24gc3R5bGluZyB3aWxsIG9mdGVuXG5sZWF2ZSBnYXBzIGJldHdlZW4gbGluZXMgYW5kIHdvbid0IGZpbGwgdGhlIGhvcml6b250YWwgc3BhY2UgYWZ0ZXJcbmEgbGluZSB3aGVuIHRoZSBzZWxlY3Rpb24gY29udGludWVzIHBhc3QgaXQpLlxuXG5JdCBkb2VzIGhhdmUgYSBwZXJmb3JtYW5jZSBjb3N0LCBpbiB0aGF0IGl0IHJlcXVpcmVzIGFuIGV4dHJhIERPTVxubGF5b3V0IGN5Y2xlIGZvciBtYW55IHVwZGF0ZXMgKHRoZSBzZWxlY3Rpb24gaXMgZHJhd24gYmFzZWQgb24gRE9NXG5sYXlvdXQgaW5mb3JtYXRpb24gdGhhdCdzIG9ubHkgYXZhaWxhYmxlIGFmdGVyIGxheWluZyBvdXQgdGhlXG5jb250ZW50KS5cbiovXG5mdW5jdGlvbiBkcmF3U2VsZWN0aW9uKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgc2VsZWN0aW9uQ29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIGN1cnNvckxheWVyLFxuICAgICAgICBzZWxlY3Rpb25MYXllcixcbiAgICAgICAgaGlkZU5hdGl2ZVNlbGVjdGlvbixcbiAgICAgICAgbmF0aXZlU2VsZWN0aW9uSGlkZGVuLm9mKHRydWUpXG4gICAgXTtcbn1cbi8qKlxuUmV0cmlldmUgdGhlIFtgZHJhd1NlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5kcmF3U2VsZWN0aW9uKSBjb25maWd1cmF0aW9uXG5mb3IgdGhpcyBzdGF0ZS4gKE5vdGUgdGhhdCB0aGlzIHdpbGwgcmV0dXJuIGEgc2V0IG9mIGRlZmF1bHRzIGV2ZW5cbmlmIGBkcmF3U2VsZWN0aW9uYCBpc24ndCBlbmFibGVkLilcbiovXG5mdW5jdGlvbiBnZXREcmF3U2VsZWN0aW9uQ29uZmlnKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZhY2V0KHNlbGVjdGlvbkNvbmZpZyk7XG59XG5mdW5jdGlvbiBjb25maWdDaGFuZ2VkKHVwZGF0ZSkge1xuICAgIHJldHVybiB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xufVxuY29uc3QgY3Vyc29yTGF5ZXIgPSAvKkBfX1BVUkVfXyovbGF5ZXIoe1xuICAgIGFib3ZlOiB0cnVlLFxuICAgIG1hcmtlcnModmlldykge1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY29uZiA9IHN0YXRlLmZhY2V0KHNlbGVjdGlvbkNvbmZpZyk7XG4gICAgICAgIGxldCBjdXJzb3JzID0gW107XG4gICAgICAgIGZvciAobGV0IHIgb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IHByaW0gPSByID09IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICAgICAgaWYgKHIuZW1wdHkgPyAhcHJpbSB8fCBDYW5IaWRlUHJpbWFyeSA6IGNvbmYuZHJhd1JhbmdlQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHByaW0gPyBcImNtLWN1cnNvciBjbS1jdXJzb3ItcHJpbWFyeVwiIDogXCJjbS1jdXJzb3IgY20tY3Vyc29yLXNlY29uZGFyeVwiO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3IgPSByLmVtcHR5ID8gciA6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioci5oZWFkLCByLmhlYWQgPiByLmFuY2hvciA/IC0xIDogMSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGllY2Ugb2YgUmVjdGFuZ2xlTWFya2VyLmZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgY3Vyc29yKSlcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29ycy5wdXNoKHBpZWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3Vyc29ycztcbiAgICB9LFxuICAgIHVwZGF0ZSh1cGRhdGUsIGRvbSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICBkb20uc3R5bGUuYW5pbWF0aW9uTmFtZSA9IGRvbS5zdHlsZS5hbmltYXRpb25OYW1lID09IFwiY20tYmxpbmtcIiA/IFwiY20tYmxpbmsyXCIgOiBcImNtLWJsaW5rXCI7XG4gICAgICAgIGxldCBjb25mQ2hhbmdlID0gY29uZmlnQ2hhbmdlZCh1cGRhdGUpO1xuICAgICAgICBpZiAoY29uZkNoYW5nZSlcbiAgICAgICAgICAgIHNldEJsaW5rUmF0ZSh1cGRhdGUuc3RhdGUsIGRvbSk7XG4gICAgICAgIHJldHVybiB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IGNvbmZDaGFuZ2U7XG4gICAgfSxcbiAgICBtb3VudChkb20sIHZpZXcpIHtcbiAgICAgICAgc2V0QmxpbmtSYXRlKHZpZXcuc3RhdGUsIGRvbSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1jdXJzb3JMYXllclwiXG59KTtcbmZ1bmN0aW9uIHNldEJsaW5rUmF0ZShzdGF0ZSwgZG9tKSB7XG4gICAgZG9tLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKS5jdXJzb3JCbGlua1JhdGUgKyBcIm1zXCI7XG59XG5jb25zdCBzZWxlY3Rpb25MYXllciA9IC8qQF9fUFVSRV9fKi9sYXllcih7XG4gICAgYWJvdmU6IGZhbHNlLFxuICAgIG1hcmtlcnModmlldykge1xuICAgICAgICByZXR1cm4gdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLm1hcChyID0+IHIuZW1wdHkgPyBbXSA6IFJlY3RhbmdsZU1hcmtlci5mb3JSYW5nZSh2aWV3LCBcImNtLXNlbGVjdGlvbkJhY2tncm91bmRcIiwgcikpXG4gICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSk7XG4gICAgfSxcbiAgICB1cGRhdGUodXBkYXRlLCBkb20pIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fCBjb25maWdDaGFuZ2VkKHVwZGF0ZSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1zZWxlY3Rpb25MYXllclwiXG59KTtcbmNvbnN0IHRoZW1lU3BlYyA9IHtcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgXCImIDo6c2VsZWN0aW9uLCAmOjpzZWxlY3Rpb25cIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiIH0sXG4gICAgfSxcbiAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgXCImIDpmb2N1c1wiOiB7XG4gICAgICAgICAgICBjYXJldENvbG9yOiBcImluaXRpYWwgIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgXCImOjpzZWxlY3Rpb24sICYgOjpzZWxlY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJIaWdobGlnaHQgIWltcG9ydGFudFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuaWYgKENhbkhpZGVQcmltYXJ5KVxuICAgIHRoZW1lU3BlY1tcIi5jbS1saW5lXCJdLmNhcmV0Q29sb3IgPSB0aGVtZVNwZWNbXCIuY20tY29udGVudFwiXS5jYXJldENvbG9yID0gXCJ0cmFuc3BhcmVudCAhaW1wb3J0YW50XCI7XG5jb25zdCBoaWRlTmF0aXZlU2VsZWN0aW9uID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyovRWRpdG9yVmlldy50aGVtZSh0aGVtZVNwZWMpKTtcblxuY29uc3Qgc2V0RHJvcEN1cnNvclBvcyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcChwb3MsIG1hcHBpbmcpIHsgcmV0dXJuIHBvcyA9PSBudWxsID8gbnVsbCA6IG1hcHBpbmcubWFwUG9zKHBvcyk7IH1cbn0pO1xuY29uc3QgZHJvcEN1cnNvclBvcyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICB1cGRhdGUocG9zLCB0cikge1xuICAgICAgICBpZiAocG9zICE9IG51bGwpXG4gICAgICAgICAgICBwb3MgPSB0ci5jaGFuZ2VzLm1hcFBvcyhwb3MpO1xuICAgICAgICByZXR1cm4gdHIuZWZmZWN0cy5yZWR1Y2UoKHBvcywgZSkgPT4gZS5pcyhzZXREcm9wQ3Vyc29yUG9zKSA/IGUudmFsdWUgOiBwb3MsIHBvcyk7XG4gICAgfVxufSk7XG5jb25zdCBkcmF3RHJvcEN1cnNvciA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIHRoaXMubWVhc3VyZVJlcSA9IHsgcmVhZDogdGhpcy5yZWFkUG9zLmJpbmQodGhpcyksIHdyaXRlOiB0aGlzLmRyYXdDdXJzb3IuYmluZCh0aGlzKSB9O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGN1cnNvclBvcyA9IHVwZGF0ZS5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKTtcbiAgICAgICAgaWYgKGN1cnNvclBvcyA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJzb3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY3Vyc29yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnNvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gdGhpcy52aWV3LnNjcm9sbERPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5jbGFzc05hbWUgPSBcImNtLWRyb3BDdXJzb3JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKSAhPSBjdXJzb3JQb3MgfHwgdXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkUG9zKCkge1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0aGlzO1xuICAgICAgICBsZXQgcG9zID0gdmlldy5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKTtcbiAgICAgICAgbGV0IHJlY3QgPSBwb3MgIT0gbnVsbCAmJiB2aWV3LmNvb3Jkc0F0UG9zKHBvcyk7XG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgb3V0ZXIgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIG91dGVyLmxlZnQgKyB2aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0ICogdmlldy5zY2FsZVgsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wIC0gb3V0ZXIudG9wICsgdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICogdmlldy5zY2FsZVksXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZHJhd0N1cnNvcihwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yKSB7XG4gICAgICAgICAgICBsZXQgeyBzY2FsZVgsIHNjYWxlWSB9ID0gdGhpcy52aWV3O1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCAvIHNjYWxlWCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS50b3AgPSBwb3MudG9wIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmhlaWdodCA9IHBvcy5oZWlnaHQgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS5sZWZ0ID0gXCItMTAwMDAwcHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3IpXG4gICAgICAgICAgICB0aGlzLmN1cnNvci5yZW1vdmUoKTtcbiAgICB9XG4gICAgc2V0RHJvcFBvcyhwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5maWVsZChkcm9wQ3Vyc29yUG9zKSAhPSBwb3MpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXREcm9wQ3Vyc29yUG9zLm9mKHBvcykgfSk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgIGRyYWdvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3ModGhpcy52aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdsZWF2ZShldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzLnZpZXcuY29udGVudERPTSB8fCAhdGhpcy52aWV3LmNvbnRlbnRET00uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcmFnZW5kKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcm9wKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vKipcbkRyYXdzIGEgY3Vyc29yIGF0IHRoZSBjdXJyZW50IGRyb3AgcG9zaXRpb24gd2hlbiBzb21ldGhpbmcgaXNcbmRyYWdnZWQgb3ZlciB0aGUgZWRpdG9yLlxuKi9cbmZ1bmN0aW9uIGRyb3BDdXJzb3IoKSB7XG4gICAgcmV0dXJuIFtkcm9wQ3Vyc29yUG9zLCBkcmF3RHJvcEN1cnNvcl07XG59XG5cbmZ1bmN0aW9uIGl0ZXJNYXRjaGVzKGRvYywgcmUsIGZyb20sIHRvLCBmKSB7XG4gICAgcmUubGFzdEluZGV4ID0gMDtcbiAgICBmb3IgKGxldCBjdXJzb3IgPSBkb2MuaXRlclJhbmdlKGZyb20sIHRvKSwgcG9zID0gZnJvbSwgbTsgIWN1cnNvci5uZXh0KCkuZG9uZTsgcG9zICs9IGN1cnNvci52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFjdXJzb3IubGluZUJyZWFrKVxuICAgICAgICAgICAgd2hpbGUgKG0gPSByZS5leGVjKGN1cnNvci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgZihwb3MgKyBtLmluZGV4LCBtKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaFJhbmdlcyh2aWV3LCBtYXhMZW5ndGgpIHtcbiAgICBsZXQgdmlzaWJsZSA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAodmlzaWJsZS5sZW5ndGggPT0gMSAmJiB2aXNpYmxlWzBdLmZyb20gPT0gdmlldy52aWV3cG9ydC5mcm9tICYmXG4gICAgICAgIHZpc2libGVbMF0udG8gPT0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiB2aXNpYmxlKSB7XG4gICAgICAgIGZyb20gPSBNYXRoLm1heCh2aWV3LnN0YXRlLmRvYy5saW5lQXQoZnJvbSkuZnJvbSwgZnJvbSAtIG1heExlbmd0aCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odmlldy5zdGF0ZS5kb2MubGluZUF0KHRvKS50bywgdG8gKyBtYXhMZW5ndGgpO1xuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCAmJiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID49IGZyb20pXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID0gdG87XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkhlbHBlciBjbGFzcyB1c2VkIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIGRlY29yYXRpb25zIG9uXG52aXNpYmxlIGNvZGUgdGhhdCBtYXRjaGVzIGEgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uLiBUbyBiZSB1c2VkXG5pbiBhIFt2aWV3IHBsdWdpbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlZpZXdQbHVnaW4pLiBJbnN0YW5jZXMgb2YgdGhpcyBvYmplY3RcbnJlcHJlc2VudCBhIG1hdGNoaW5nIGNvbmZpZ3VyYXRpb24uXG4qL1xuY2xhc3MgTWF0Y2hEZWNvcmF0b3Ige1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIGRlY29yYXRvci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBjb25zdCB7IHJlZ2V4cCwgZGVjb3JhdGlvbiwgZGVjb3JhdGUsIGJvdW5kYXJ5LCBtYXhMZW5ndGggPSAxMDAwIH0gPSBjb25maWc7XG4gICAgICAgIGlmICghcmVnZXhwLmdsb2JhbClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiB0byBNYXRjaERlY29yYXRvciBzaG91bGQgaGF2ZSBpdHMgJ2cnIGZsYWcgc2V0XCIpO1xuICAgICAgICB0aGlzLnJlZ2V4cCA9IHJlZ2V4cDtcbiAgICAgICAgaWYgKGRlY29yYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCB2aWV3LCBmcm9tLCBhZGQpID0+IGRlY29yYXRlKGFkZCwgZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgbWF0Y2gsIHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkZWNvcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCA9IChtYXRjaCwgdmlldywgZnJvbSwgYWRkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRlY28gPSBkZWNvcmF0aW9uKG1hdGNoLCB2aWV3LCBmcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICAgICAgYWRkKGZyb20sIGZyb20gKyBtYXRjaFswXS5sZW5ndGgsIGRlY28pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCBfdmlldywgZnJvbSwgYWRkKSA9PiBhZGQoZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgZGVjb3JhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkVpdGhlciAnZGVjb3JhdGUnIG9yICdkZWNvcmF0aW9uJyBzaG91bGQgYmUgcHJvdmlkZWQgdG8gTWF0Y2hEZWNvcmF0b3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3VuZGFyeSA9IGJvdW5kYXJ5O1xuICAgICAgICB0aGlzLm1heExlbmd0aCA9IG1heExlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcHV0ZSB0aGUgZnVsbCBzZXQgb2YgZGVjb3JhdGlvbnMgZm9yIG1hdGNoZXMgaW4gdGhlIGdpdmVuXG4gICAgdmlldydzIHZpZXdwb3J0LiBZb3UnbGwgd2FudCB0byBjYWxsIHRoaXMgd2hlbiBpbml0aWFsaXppbmcgeW91clxuICAgIHBsdWdpbi5cbiAgICAqL1xuICAgIGNyZWF0ZURlY28odmlldykge1xuICAgICAgICBsZXQgYnVpbGQgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCksIGFkZCA9IGJ1aWxkLmFkZC5iaW5kKGJ1aWxkKTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIG1hdGNoUmFuZ2VzKHZpZXcsIHRoaXMubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIGl0ZXJNYXRjaGVzKHZpZXcuc3RhdGUuZG9jLCB0aGlzLnJlZ2V4cCwgZnJvbSwgdG8sIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICByZXR1cm4gYnVpbGQuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSBhIHNldCBvZiBkZWNvcmF0aW9ucyBmb3IgYSB2aWV3IHVwZGF0ZS4gYGRlY29gIF9tdXN0XyBiZVxuICAgIHRoZSBzZXQgb2YgZGVjb3JhdGlvbnMgcHJvZHVjZWQgYnkgX3RoaXNfIGBNYXRjaERlY29yYXRvcmAgZm9yXG4gICAgdGhlIHZpZXcgc3RhdGUgYmVmb3JlIHRoZSB1cGRhdGUuXG4gICAgKi9cbiAgICB1cGRhdGVEZWNvKHVwZGF0ZSwgZGVjbykge1xuICAgICAgICBsZXQgY2hhbmdlRnJvbSA9IDFlOSwgY2hhbmdlVG8gPSAtMTtcbiAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdXBkYXRlLmNoYW5nZXMuaXRlckNoYW5nZXMoKF9mLCBfdCwgZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tICYmIGZyb20gPCB1cGRhdGUudmlldy52aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VGcm9tID0gTWF0aC5taW4oZnJvbSwgY2hhbmdlRnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVRvID0gTWF0aC5tYXgodG8sIGNoYW5nZVRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHwgY2hhbmdlVG8gLSBjaGFuZ2VGcm9tID4gMTAwMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURlY28odXBkYXRlLnZpZXcpO1xuICAgICAgICBpZiAoY2hhbmdlVG8gPiAtMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVJhbmdlKHVwZGF0ZS52aWV3LCBkZWNvLm1hcCh1cGRhdGUuY2hhbmdlcyksIGNoYW5nZUZyb20sIGNoYW5nZVRvKTtcbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxuICAgIHVwZGF0ZVJhbmdlKHZpZXcsIGRlY28sIHVwZGF0ZUZyb20sIHVwZGF0ZVRvKSB7XG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KHIuZnJvbSwgdXBkYXRlRnJvbSksIHRvID0gTWF0aC5taW4oci50bywgdXBkYXRlVG8pO1xuICAgICAgICAgICAgaWYgKHRvID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKSwgdG9MaW5lID0gZnJvbUxpbmUudG8gPCB0byA/IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh0bykgOiBmcm9tTGluZTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChyLmZyb20sIGZyb21MaW5lLmZyb20pLCBlbmQgPSBNYXRoLm1pbihyLnRvLCB0b0xpbmUudG8pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBmcm9tID4gZnJvbUxpbmUuZnJvbTsgZnJvbS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRhcnkudGVzdChmcm9tTGluZS50ZXh0W2Zyb20gLSAxIC0gZnJvbUxpbmUuZnJvbV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgdG8gPCB0b0xpbmUudG87IHRvKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZGFyeS50ZXN0KHRvTGluZS50ZXh0W3RvIC0gdG9MaW5lLmZyb21dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gW10sIG07XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IChmcm9tLCB0bywgZGVjbykgPT4gcmFuZ2VzLnB1c2goZGVjby5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tTGluZSA9PSB0b0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gc3RhcnQgLSBmcm9tTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSB0aGlzLnJlZ2V4cC5leGVjKGZyb21MaW5lLnRleHQpKSAmJiBtLmluZGV4IDwgZW5kIC0gZnJvbUxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2gobSwgdmlldywgbS5pbmRleCArIGZyb21MaW5lLmZyb20sIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVyTWF0Y2hlcyh2aWV3LnN0YXRlLmRvYywgdGhpcy5yZWdleHAsIHN0YXJ0LCBlbmQsIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvID0gZGVjby51cGRhdGUoeyBmaWx0ZXJGcm9tOiBzdGFydCwgZmlsdGVyVG86IGVuZCwgZmlsdGVyOiAoZnJvbSwgdG8pID0+IGZyb20gPCBzdGFydCB8fCB0byA+IGVuZCwgYWRkOiByYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxufVxuXG5jb25zdCBVbmljb2RlUmVnZXhwU3VwcG9ydCA9IC94Ly51bmljb2RlICE9IG51bGwgPyBcImd1XCIgOiBcImdcIjtcbmNvbnN0IFNwZWNpYWxzID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFx1MDAwMC1cXHUwMDA4XFx1MDAwYS1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MWNcXHUyMDBiXFx1MjAwZVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMmRcXHUyMDJlXFx1MjA2NlxcdTIwNjdcXHUyMDY5XFx1ZmVmZlxcdWZmZjktXFx1ZmZmY11cIiwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuY29uc3QgTmFtZXMgPSB7XG4gICAgMDogXCJudWxsXCIsXG4gICAgNzogXCJiZWxsXCIsXG4gICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAxMDogXCJuZXdsaW5lXCIsXG4gICAgMTE6IFwidmVydGljYWwgdGFiXCIsXG4gICAgMTM6IFwiY2FycmlhZ2UgcmV0dXJuXCIsXG4gICAgMjc6IFwiZXNjYXBlXCIsXG4gICAgODIwMzogXCJ6ZXJvIHdpZHRoIHNwYWNlXCIsXG4gICAgODIwNDogXCJ6ZXJvIHdpZHRoIG5vbi1qb2luZXJcIixcbiAgICA4MjA1OiBcInplcm8gd2lkdGggam9pbmVyXCIsXG4gICAgODIwNjogXCJsZWZ0LXRvLXJpZ2h0IG1hcmtcIixcbiAgICA4MjA3OiBcInJpZ2h0LXRvLWxlZnQgbWFya1wiLFxuICAgIDgyMzI6IFwibGluZSBzZXBhcmF0b3JcIixcbiAgICA4MjM3OiBcImxlZnQtdG8tcmlnaHQgb3ZlcnJpZGVcIixcbiAgICA4MjM4OiBcInJpZ2h0LXRvLWxlZnQgb3ZlcnJpZGVcIixcbiAgICA4Mjk0OiBcImxlZnQtdG8tcmlnaHQgaXNvbGF0ZVwiLFxuICAgIDgyOTU6IFwicmlnaHQtdG8tbGVmdCBpc29sYXRlXCIsXG4gICAgODI5NzogXCJwb3AgZGlyZWN0aW9uYWwgaXNvbGF0ZVwiLFxuICAgIDgyMzM6IFwicGFyYWdyYXBoIHNlcGFyYXRvclwiLFxuICAgIDY1Mjc5OiBcInplcm8gd2lkdGggbm8tYnJlYWsgc3BhY2VcIixcbiAgICA2NTUzMjogXCJvYmplY3QgcmVwbGFjZW1lbnRcIlxufTtcbmxldCBfc3VwcG9ydHNUYWJTaXplID0gbnVsbDtcbmZ1bmN0aW9uIHN1cHBvcnRzVGFiU2l6ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKF9zdXBwb3J0c1RhYlNpemUgPT0gbnVsbCAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCBzdHlsZXMgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICBfc3VwcG9ydHNUYWJTaXplID0gKChfYSA9IHN0eWxlcy50YWJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzdHlsZXMuTW96VGFiU2l6ZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9zdXBwb3J0c1RhYlNpemUgfHwgZmFsc2U7XG59XG5jb25zdCBzcGVjaWFsQ2hhckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgY29uZmlnID0gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgICAgICBzcGVjaWFsQ2hhcnM6IFNwZWNpYWxzLFxuICAgICAgICAgICAgYWRkU3BlY2lhbENoYXJzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnJlcGxhY2VUYWJzID0gIXN1cHBvcnRzVGFiU2l6ZSgpKVxuICAgICAgICAgICAgY29uZmlnLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAoXCJcXHR8XCIgKyBjb25maWcuc3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICBpZiAoY29uZmlnLmFkZFNwZWNpYWxDaGFycylcbiAgICAgICAgICAgIGNvbmZpZy5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKGNvbmZpZy5zcGVjaWFsQ2hhcnMuc291cmNlICsgXCJ8XCIgKyBjb25maWcuYWRkU3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGluc3RhbGxzIGhpZ2hsaWdodGluZyBvZiBzcGVjaWFsXG5jaGFyYWN0ZXJzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFNwZWNpYWxDaGFycyhcbi8qKlxuQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuKi9cbmNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtzcGVjaWFsQ2hhckNvbmZpZy5vZihjb25maWcpLCBzcGVjaWFsQ2hhclBsdWdpbigpXTtcbn1cbmxldCBfcGx1Z2luID0gbnVsbDtcbmZ1bmN0aW9uIHNwZWNpYWxDaGFyUGx1Z2luKCkge1xuICAgIHJldHVybiBfcGx1Z2luIHx8IChfcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbkNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKHZpZXcuc3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VEZWNvcmF0b3IoY29uZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRjaERlY29yYXRvcih7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjb25mLnNwZWNpYWxDaGFycyxcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiAobSwgdmlldywgcG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGRvYyB9ID0gdmlldy5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb2RlUG9pbnRBdChtWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBkb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHZpZXcuc3RhdGUudGFiU2l6ZSwgY29sID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBzaXplLCBwb3MgLSBsaW5lLmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ucmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBuZXcgVGFiV2lkZ2V0KChzaXplIC0gKGNvbCAlIHNpemUpKSAqIHRoaXMudmlldy5kZWZhdWx0Q2hhcmFjdGVyV2lkdGggLyB0aGlzLnZpZXcuc2NhbGVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbkNhY2hlW2NvZGVdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5kZWNvcmF0aW9uQ2FjaGVbY29kZV0gPSBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBTcGVjaWFsQ2hhcldpZGdldChjb25mLCBjb2RlKSB9KSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib3VuZGFyeTogY29uZi5yZXBsYWNlVGFicyA/IHVuZGVmaW5lZCA6IC9bXl0vXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBsZXQgY29uZiA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZyk7XG4gICAgICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpICE9IGNvbmYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRvciA9IHRoaXMubWFrZURlY29yYXRvcihjb25mKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IuY3JlYXRlRGVjbyh1cGRhdGUudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IudXBkYXRlRGVjbyh1cGRhdGUsIHRoaXMuZGVjb3JhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG4gICAgfSkpO1xufVxuY29uc3QgRGVmYXVsdFBsYWNlaG9sZGVyID0gXCJcXHUyMDIyXCI7XG4vLyBBc3NpZ25zIHBsYWNlaG9sZGVyIGNoYXJhY3RlcnMgZnJvbSB0aGUgQ29udHJvbCBQaWN0dXJlcyBibG9jayB0b1xuLy8gQVNDSUkgY29udHJvbCBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwbGFjZWhvbGRlciQxKGNvZGUpIHtcbiAgICBpZiAoY29kZSA+PSAzMilcbiAgICAgICAgcmV0dXJuIERlZmF1bHRQbGFjZWhvbGRlcjtcbiAgICBpZiAoY29kZSA9PSAxMClcbiAgICAgICAgcmV0dXJuIFwiXFx1MjQyNFwiO1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDkyMTYgKyBjb2RlKTtcbn1cbmNsYXNzIFNwZWNpYWxDaGFyV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY29kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuY29kZSA9PSB0aGlzLmNvZGU7IH1cbiAgICB0b0RPTSh2aWV3KSB7XG4gICAgICAgIGxldCBwaCA9IHBsYWNlaG9sZGVyJDEodGhpcy5jb2RlKTtcbiAgICAgICAgbGV0IGRlc2MgPSB2aWV3LnN0YXRlLnBocmFzZShcIkNvbnRyb2wgY2hhcmFjdGVyXCIpICsgXCIgXCIgKyAoTmFtZXNbdGhpcy5jb2RlXSB8fCBcIjB4XCIgKyB0aGlzLmNvZGUudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMub3B0aW9ucy5yZW5kZXIgJiYgdGhpcy5vcHRpb25zLnJlbmRlcih0aGlzLmNvZGUsIGRlc2MsIHBoKTtcbiAgICAgICAgaWYgKGN1c3RvbSlcbiAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBwaDtcbiAgICAgICAgc3Bhbi50aXRsZSA9IGRlc2M7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBkZXNjKTtcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLXNwZWNpYWxDaGFyXCI7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5jbGFzcyBUYWJXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci53aWR0aCA9PSB0aGlzLndpZHRoOyB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIlxcdFwiO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tdGFiXCI7XG4gICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG4gICAgaWdub3JlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuXG5jb25zdCBwbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IDEwMDA7XG4gICAgICAgIHRoaXMuYXR0cnMgPSB7IHN0eWxlOiBcInBhZGRpbmctYm90dG9tOiAxMDAwcHhcIiB9O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHVwZGF0ZTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHZpZXcudmlld1N0YXRlLmVkaXRvckhlaWdodCAtXG4gICAgICAgICAgICB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC0gdmlldy5kb2N1bWVudFBhZGRpbmcudG9wIC0gMC41O1xuICAgICAgICBpZiAoaGVpZ2h0ID49IDAgJiYgaGVpZ2h0ICE9IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSB7IHN0eWxlOiBgcGFkZGluZy1ib3R0b206ICR7aGVpZ2h0fXB4YCB9O1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgbWFrZXMgc3VyZSB0aGUgY29udGVudCBoYXMgYSBib3R0b21cbm1hcmdpbiBlcXVpdmFsZW50IHRvIHRoZSBoZWlnaHQgb2YgdGhlIGVkaXRvciwgbWludXMgb25lIGxpbmVcbmhlaWdodCwgc28gdGhhdCBldmVyeSBsaW5lIGluIHRoZSBkb2N1bWVudCBjYW4gYmUgc2Nyb2xsZWQgdG8gdGhlXG50b3Agb2YgdGhlIGVkaXRvci5cblxuVGhpcyBpcyBvbmx5IG1lYW5pbmdmdWwgd2hlbiB0aGUgZWRpdG9yIGlzIHNjcm9sbGFibGUsIGFuZCBzaG91bGRcbm5vdCBiZSBlbmFibGVkIGluIGVkaXRvcnMgdGhhdCB0YWtlIHRoZSBzaXplIG9mIHRoZWlyIGNvbnRlbnQuXG4qL1xuZnVuY3Rpb24gc2Nyb2xsUGFzdEVuZCgpIHtcbiAgICByZXR1cm4gW3BsdWdpbiwgY29udGVudEF0dHJpYnV0ZXMub2YodmlldyA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSB2aWV3LnBsdWdpbihwbHVnaW4pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXR0cnMpIHx8IG51bGw7IH0pXTtcbn1cblxuLyoqXG5NYXJrIGxpbmVzIHRoYXQgaGF2ZSBhIGN1cnNvciBvbiB0aGVtIHdpdGggdGhlIGBcImNtLWFjdGl2ZUxpbmVcImBcbkRPTSBjbGFzcy5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRBY3RpdmVMaW5lKCkge1xuICAgIHJldHVybiBhY3RpdmVMaW5lSGlnaGxpZ2h0ZXI7XG59XG5jb25zdCBsaW5lRGVjbyA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLmxpbmUoeyBjbGFzczogXCJjbS1hY3RpdmVMaW5lXCIgfSk7XG5jb25zdCBhY3RpdmVMaW5lSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZ2V0RGVjbyh2aWV3KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLnNlbGVjdGlvblNldClcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmdldERlY28odXBkYXRlLnZpZXcpO1xuICAgIH1cbiAgICBnZXREZWNvKHZpZXcpIHtcbiAgICAgICAgbGV0IGxhc3RMaW5lU3RhcnQgPSAtMSwgZGVjbyA9IFtdO1xuICAgICAgICBmb3IgKGxldCByIG9mIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHIuaGVhZCk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID4gbGFzdExpbmVTdGFydCkge1xuICAgICAgICAgICAgICAgIGRlY28ucHVzaChsaW5lRGVjby5yYW5nZShsaW5lLmZyb20pKTtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVN0YXJ0ID0gbGluZS5mcm9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvKTtcbiAgICB9XG59LCB7XG4gICAgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9uc1xufSk7XG5cbmNsYXNzIFBsYWNlaG9sZGVyIGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IoY29udGVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbiAgICB0b0RPTSgpIHtcbiAgICAgICAgbGV0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgd3JhcC5jbGFzc05hbWUgPSBcImNtLXBsYWNlaG9sZGVyXCI7XG4gICAgICAgIHdyYXAuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuY29udGVudCkgOiB0aGlzLmNvbnRlbnQpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29udGVudCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgd3JhcC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwicGxhY2Vob2xkZXIgXCIgKyB0aGlzLmNvbnRlbnQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB3cmFwLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXA7XG4gICAgfVxuICAgIGNvb3Jkc0F0KGRvbSkge1xuICAgICAgICBsZXQgcmVjdHMgPSBkb20uZmlyc3RDaGlsZCA/IGNsaWVudFJlY3RzRm9yKGRvbS5maXJzdENoaWxkKSA6IFtdO1xuICAgICAgICBpZiAoIXJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb20ucGFyZW50Tm9kZSk7XG4gICAgICAgIGxldCByZWN0ID0gZmxhdHRlblJlY3QocmVjdHNbMF0sIHN0eWxlLmRpcmVjdGlvbiAhPSBcInJ0bFwiKTtcbiAgICAgICAgbGV0IGxpbmVIZWlnaHQgPSBwYXJzZUludChzdHlsZS5saW5lSGVpZ2h0KTtcbiAgICAgICAgaWYgKHJlY3QuYm90dG9tIC0gcmVjdC50b3AgPiBsaW5lSGVpZ2h0ICogMS41KVxuICAgICAgICAgICAgcmV0dXJuIHsgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LnRvcCArIGxpbmVIZWlnaHQgfTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfVxuICAgIGlnbm9yZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbi8qKlxuRXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBhIHBsYWNlaG9sZGVy4oCUYSBwaWVjZSBvZiBleGFtcGxlIGNvbnRlbnRcbnRvIHNob3cgd2hlbiB0aGUgZWRpdG9yIGlzIGVtcHR5LlxuKi9cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IGNvbnRlbnRcbiAgICAgICAgICAgICAgICA/IERlY29yYXRpb24uc2V0KFtEZWNvcmF0aW9uLndpZGdldCh7IHdpZGdldDogbmV3IFBsYWNlaG9sZGVyKGNvbnRlbnQpLCBzaWRlOiAxIH0pLnJhbmdlKDApXSlcbiAgICAgICAgICAgICAgICA6IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGVjb3JhdGlvbnMoKSB7IHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aCA/IERlY29yYXRpb24ubm9uZSA6IHRoaXMucGxhY2Vob2xkZXI7IH1cbiAgICB9LCB7IGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnMgfSk7XG59XG5cbi8vIERvbid0IGNvbXB1dGUgcHJlY2lzZSBjb2x1bW4gcG9zaXRpb25zIGZvciBsaW5lIG9mZnNldHMgYWJvdmUgdGhpc1xuLy8gKHNpbmNlIGl0IGNvdWxkIGdldCBleHBlbnNpdmUpLiBBc3N1bWUgb2Zmc2V0PT1jb2x1bW4gZm9yIHRoZW0uXG5jb25zdCBNYXhPZmYgPSAyMDAwO1xuZnVuY3Rpb24gcmVjdGFuZ2xlRm9yKHN0YXRlLCBhLCBiKSB7XG4gICAgbGV0IHN0YXJ0TGluZSA9IE1hdGgubWluKGEubGluZSwgYi5saW5lKSwgZW5kTGluZSA9IE1hdGgubWF4KGEubGluZSwgYi5saW5lKTtcbiAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgaWYgKGEub2ZmID4gTWF4T2ZmIHx8IGIub2ZmID4gTWF4T2ZmIHx8IGEuY29sIDwgMCB8fCBiLmNvbCA8IDApIHtcbiAgICAgICAgbGV0IHN0YXJ0T2ZmID0gTWF0aC5taW4oYS5vZmYsIGIub2ZmKSwgZW5kT2ZmID0gTWF0aC5tYXgoYS5vZmYsIGIub2ZmKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0TGluZTsgaSA8PSBlbmRMaW5lOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmUoaSk7XG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPD0gZW5kT2ZmKVxuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKEVkaXRvclNlbGVjdGlvbi5yYW5nZShsaW5lLmZyb20gKyBzdGFydE9mZiwgbGluZS50byArIGVuZE9mZikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgc3RhcnRDb2wgPSBNYXRoLm1pbihhLmNvbCwgYi5jb2wpLCBlbmRDb2wgPSBNYXRoLm1heChhLmNvbCwgYi5jb2wpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShpKTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IGZpbmRDb2x1bW4obGluZS50ZXh0LCBzdGFydENvbCwgc3RhdGUudGFiU2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihsaW5lLnRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gZmluZENvbHVtbihsaW5lLnRleHQsIGVuZENvbCwgc3RhdGUudGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGxpbmUuZnJvbSArIHN0YXJ0LCBsaW5lLmZyb20gKyBlbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuZnVuY3Rpb24gYWJzb2x1dGVDb2x1bW4odmlldywgeCkge1xuICAgIGxldCByZWYgPSB2aWV3LmNvb3Jkc0F0UG9zKHZpZXcudmlld3BvcnQuZnJvbSk7XG4gICAgcmV0dXJuIHJlZiA/IE1hdGgucm91bmQoTWF0aC5hYnMoKHJlZi5sZWZ0IC0geCkgLyB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCkpIDogLTE7XG59XG5mdW5jdGlvbiBnZXRQb3ModmlldywgZXZlbnQpIHtcbiAgICBsZXQgb2Zmc2V0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KG9mZnNldCksIG9mZiA9IG9mZnNldCAtIGxpbmUuZnJvbTtcbiAgICBsZXQgY29sID0gb2ZmID4gTWF4T2ZmID8gLTFcbiAgICAgICAgOiBvZmYgPT0gbGluZS5sZW5ndGggPyBhYnNvbHV0ZUNvbHVtbih2aWV3LCBldmVudC5jbGllbnRYKVxuICAgICAgICAgICAgOiBjb3VudENvbHVtbihsaW5lLnRleHQsIHZpZXcuc3RhdGUudGFiU2l6ZSwgb2Zmc2V0IC0gbGluZS5mcm9tKTtcbiAgICByZXR1cm4geyBsaW5lOiBsaW5lLm51bWJlciwgY29sLCBvZmYgfTtcbn1cbmZ1bmN0aW9uIHJlY3RhbmdsZVNlbGVjdGlvblN0eWxlKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gZ2V0UG9zKHZpZXcsIGV2ZW50KSwgc3RhcnRTZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoIXN0YXJ0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U3RhcnQgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModXBkYXRlLnN0YXJ0U3RhdGUuZG9jLmxpbmUoc3RhcnQubGluZSkuZnJvbSk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0xpbmUgPSB1cGRhdGUuc3RhdGUuZG9jLmxpbmVBdChuZXdTdGFydCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB7IGxpbmU6IG5ld0xpbmUubnVtYmVyLCBjb2w6IHN0YXJ0LmNvbCwgb2ZmOiBNYXRoLm1pbihzdGFydC5vZmYsIG5ld0xpbmUubGVuZ3RoKSB9O1xuICAgICAgICAgICAgICAgIHN0YXJ0U2VsID0gc3RhcnRTZWwubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KGV2ZW50LCBfZXh0ZW5kLCBtdWx0aXBsZSkge1xuICAgICAgICAgICAgbGV0IGN1ciA9IGdldFBvcyh2aWV3LCBldmVudCk7XG4gICAgICAgICAgICBpZiAoIWN1cilcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRTZWw7XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gcmVjdGFuZ2xlRm9yKHZpZXcuc3RhdGUsIHN0YXJ0LCBjdXIpO1xuICAgICAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbDtcbiAgICAgICAgICAgIGlmIChtdWx0aXBsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMuY29uY2F0KHN0YXJ0U2VsLnJhbmdlcykpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG5DcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyByZWN0YW5ndWxhciBzZWxlY3Rpb25zLiBCeVxuZGVmYXVsdCwgaXQgd2lsbCByZWFjdCB0byBsZWZ0IG1vdXNlIGRyYWcgd2l0aCB0aGUgQWx0IGtleSBoZWxkXG5kb3duLiBXaGVuIHN1Y2ggYSBzZWxlY3Rpb24gb2NjdXJzLCB0aGUgdGV4dCB3aXRoaW4gdGhlIHJlY3RhbmdsZVxudGhhdCB3YXMgZHJhZ2dlZCBvdmVyIHdpbGwgYmUgc2VsZWN0ZWQsIGFzIG9uZSBzZWxlY3Rpb25cbltyYW5nZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZSkgcGVyIGxpbmUuXG4qL1xuZnVuY3Rpb24gcmVjdGFuZ3VsYXJTZWxlY3Rpb24ob3B0aW9ucykge1xuICAgIGxldCBmaWx0ZXIgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmV2ZW50RmlsdGVyKSB8fCAoZSA9PiBlLmFsdEtleSAmJiBlLmJ1dHRvbiA9PSAwKTtcbiAgICByZXR1cm4gRWRpdG9yVmlldy5tb3VzZVNlbGVjdGlvblN0eWxlLm9mKCh2aWV3LCBldmVudCkgPT4gZmlsdGVyKGV2ZW50KSA/IHJlY3RhbmdsZVNlbGVjdGlvblN0eWxlKHZpZXcsIGV2ZW50KSA6IG51bGwpO1xufVxuY29uc3Qga2V5cyA9IHtcbiAgICBBbHQ6IFsxOCwgZSA9PiAhIWUuYWx0S2V5XSxcbiAgICBDb250cm9sOiBbMTcsIGUgPT4gISFlLmN0cmxLZXldLFxuICAgIFNoaWZ0OiBbMTYsIGUgPT4gISFlLnNoaWZ0S2V5XSxcbiAgICBNZXRhOiBbOTEsIGUgPT4gISFlLm1ldGFLZXldXG59O1xuY29uc3Qgc2hvd0Nyb3NzaGFpciA9IHsgc3R5bGU6IFwiY3Vyc29yOiBjcm9zc2hhaXJcIiB9O1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IHR1cm5zIHRoZSBwb2ludGVyIGN1cnNvciBpbnRvIGFcbmNyb3NzaGFpciB3aGVuIGEgZ2l2ZW4gbW9kaWZpZXIga2V5LCBkZWZhdWx0aW5nIHRvIEFsdCwgaXMgaGVsZFxuZG93bi4gQ2FuIHNlcnZlIGFzIGEgdmlzdWFsIGhpbnQgdGhhdCByZWN0YW5ndWxhciBzZWxlY3Rpb24gaXNcbmdvaW5nIHRvIGhhcHBlbiB3aGVuIHBhaXJlZCB3aXRoXG5bYHJlY3Rhbmd1bGFyU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LnJlY3Rhbmd1bGFyU2VsZWN0aW9uKS5cbiovXG5mdW5jdGlvbiBjcm9zc2hhaXJDdXJzb3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IFtjb2RlLCBnZXR0ZXJdID0ga2V5c1tvcHRpb25zLmtleSB8fCBcIkFsdFwiXTtcbiAgICBsZXQgcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQoaXNEb3duKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rvd24gIT0gaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBpc0Rvd247XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgICAgICBrZXlkb3duKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlLmtleUNvZGUgPT0gY29kZSB8fCBnZXR0ZXIoZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleXVwKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IGNvZGUgfHwgIWdldHRlcihlKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vdXNlbW92ZShlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZ2V0dGVyKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIHBsdWdpbixcbiAgICAgICAgRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcy5vZih2aWV3ID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0Rvd24pID8gc2hvd0Nyb3NzaGFpciA6IG51bGw7IH0pXG4gICAgXTtcbn1cblxuY29uc3QgT3V0c2lkZSA9IFwiLTEwMDAwcHhcIjtcbmNsYXNzIFRvb2x0aXBWaWV3TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IodmlldywgZmFjZXQsIGNyZWF0ZVRvb2x0aXBWaWV3LCByZW1vdmVUb29sdGlwVmlldykge1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMuY3JlYXRlVG9vbHRpcFZpZXcgPSBjcmVhdGVUb29sdGlwVmlldztcbiAgICAgICAgdGhpcy5yZW1vdmVUb29sdGlwVmlldyA9IHJlbW92ZVRvb2x0aXBWaWV3O1xuICAgICAgICB0aGlzLmlucHV0ID0gdmlldy5zdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgIHRoaXMudG9vbHRpcHMgPSB0aGlzLmlucHV0LmZpbHRlcih0ID0+IHQpO1xuICAgICAgICBsZXQgcHJldiA9IG51bGw7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdGhpcy50b29sdGlwcy5tYXAodCA9PiBwcmV2ID0gY3JlYXRlVG9vbHRpcFZpZXcodCwgcHJldikpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlLCBhYm92ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0aGlzLmZhY2V0KTtcbiAgICAgICAgbGV0IHRvb2x0aXBzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICBpZiAodC51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHQudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRvb2x0aXBWaWV3cyA9IFtdLCBuZXdBYm92ZSA9IGFib3ZlID8gW10gOiBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlwID0gdG9vbHRpcHNbaV0sIGtub3duID0gLTE7XG4gICAgICAgICAgICBpZiAoIXRpcClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IHRoaXMudG9vbHRpcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyICYmIG90aGVyLmNyZWF0ZSA9PSB0aXAuY3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICBrbm93biA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcFZpZXdzW2ldID0gdGhpcy5jcmVhdGVUb29sdGlwVmlldyh0aXAsIGkgPyB0b29sdGlwVmlld3NbaSAtIDFdIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0Fib3ZlKVxuICAgICAgICAgICAgICAgICAgICBuZXdBYm92ZVtpXSA9ICEhdGlwLmFib3ZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvb2x0aXBWaWV3ID0gdG9vbHRpcFZpZXdzW2ldID0gdGhpcy50b29sdGlwVmlld3Nba25vd25dO1xuICAgICAgICAgICAgICAgIGlmIChuZXdBYm92ZSlcbiAgICAgICAgICAgICAgICAgICAgbmV3QWJvdmVbaV0gPSBhYm92ZVtrbm93bl07XG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBWaWV3LnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIGlmICh0b29sdGlwVmlld3MuaW5kZXhPZih0KSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRvb2x0aXBWaWV3KHQpO1xuICAgICAgICAgICAgICAgIChfYSA9IHQuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChhYm92ZSkge1xuICAgICAgICAgICAgbmV3QWJvdmUuZm9yRWFjaCgodmFsLCBpKSA9PiBhYm92ZVtpXSA9IHZhbCk7XG4gICAgICAgICAgICBhYm92ZS5sZW5ndGggPSBuZXdBYm92ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnRvb2x0aXBzID0gdG9vbHRpcHM7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdG9vbHRpcFZpZXdzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vKipcbkNyZWF0ZXMgYW4gZXh0ZW5zaW9uIHRoYXQgY29uZmlndXJlcyB0b29sdGlwIGJlaGF2aW9yLlxuKi9cbmZ1bmN0aW9uIHRvb2x0aXBzKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIHRvb2x0aXBDb25maWcub2YoY29uZmlnKTtcbn1cbmZ1bmN0aW9uIHdpbmRvd1NwYWNlKHZpZXcpIHtcbiAgICBsZXQgeyB3aW4gfSA9IHZpZXc7XG4gICAgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IHdpbi5pbm5lckhlaWdodCwgcmlnaHQ6IHdpbi5pbm5lcldpZHRoIH07XG59XG5jb25zdCB0b29sdGlwQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgcG9zaXRpb246IGJyb3dzZXIuaW9zID8gXCJhYnNvbHV0ZVwiIDogKChfYSA9IHZhbHVlcy5maW5kKGNvbmYgPT4gY29uZi5wb3NpdGlvbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wb3NpdGlvbikgfHwgXCJmaXhlZFwiLFxuICAgICAgICAgICAgcGFyZW50OiAoKF9iID0gdmFsdWVzLmZpbmQoY29uZiA9PiBjb25mLnBhcmVudCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wYXJlbnQpIHx8IG51bGwsXG4gICAgICAgICAgICB0b29sdGlwU3BhY2U6ICgoX2MgPSB2YWx1ZXMuZmluZChjb25mID0+IGNvbmYudG9vbHRpcFNwYWNlKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvb2x0aXBTcGFjZSkgfHwgd2luZG93U3BhY2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuY29uc3Qga25vd25IZWlnaHQgPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRvb2x0aXBQbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5hYm92ZSA9IFtdO1xuICAgICAgICB0aGlzLmluVmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMubWFkZUFic29sdXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFRyYW5zYWN0aW9uID0gMDtcbiAgICAgICAgdGhpcy5tZWFzdXJlVGltZW91dCA9IC0xO1xuICAgICAgICBsZXQgY29uZmlnID0gdmlldy5zdGF0ZS5mYWNldCh0b29sdGlwQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGNvbmZpZy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjb25maWcucGFyZW50O1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSB2aWV3LnRoZW1lQ2xhc3NlcztcbiAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB0aGlzLnJlYWRNZWFzdXJlLmJpbmQodGhpcyksIHdyaXRlOiB0aGlzLndyaXRlTWVhc3VyZS5iaW5kKHRoaXMpLCBrZXk6IHRoaXMgfTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIgPyBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy5tZWFzdXJlU29vbigpKSA6IG51bGw7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG5ldyBUb29sdGlwVmlld01hbmFnZXIodmlldywgc2hvd1Rvb2x0aXAsICh0LCBwKSA9PiB0aGlzLmNyZWF0ZVRvb2x0aXAodCwgcCksIHQgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplT2JzZXJ2ZXIpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUodC5kb20pO1xuICAgICAgICAgICAgdC5kb20ucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFib3ZlID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBzLm1hcCh0ID0+ICEhdC5hYm92ZSk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiID8gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPiB0aGlzLmxhc3RUcmFuc2FjdGlvbiAtIDUwICYmXG4gICAgICAgICAgICAgICAgZW50cmllcy5sZW5ndGggPiAwICYmIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA8IDEpXG4gICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlU29vbigpO1xuICAgICAgICB9LCB7IHRocmVzaG9sZDogWzFdIH0pIDogbnVsbDtcbiAgICAgICAgdGhpcy5vYnNlcnZlSW50ZXJzZWN0aW9uKCk7XG4gICAgICAgIHZpZXcud2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbiA9IHRoaXMubWVhc3VyZVNvb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IHRoaXMudmlldy50aGVtZUNsYXNzZXM7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMudmlldy5kb207XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JzZXJ2ZUludGVyc2VjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdG9vbHRpcCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwLmRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVNvb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVUaW1lb3V0IDwgMClcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbiA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUsIHRoaXMuYWJvdmUpO1xuICAgICAgICBpZiAodXBkYXRlZClcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUludGVyc2VjdGlvbigpO1xuICAgICAgICBsZXQgc2hvdWxkTWVhc3VyZSA9IHVwZGF0ZWQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZDtcbiAgICAgICAgbGV0IG5ld0NvbmZpZyA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0b29sdGlwQ29uZmlnKTtcbiAgICAgICAgaWYgKG5ld0NvbmZpZy5wb3NpdGlvbiAhPSB0aGlzLnBvc2l0aW9uICYmICF0aGlzLm1hZGVBYnNvbHV0ZSkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld0NvbmZpZy5wb3NpdGlvbjtcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICB0LmRvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgICAgICBzaG91bGRNZWFzdXJlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Q29uZmlnLnBhcmVudCAhPSB0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBuZXdDb25maWcucGFyZW50O1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0LmRvbSk7XG4gICAgICAgICAgICBzaG91bGRNZWFzdXJlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnZpZXcudGhlbWVDbGFzc2VzICE9IHRoaXMuY2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy52aWV3LnRoZW1lQ2xhc3NlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkTWVhc3VyZSlcbiAgICAgICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgfVxuICAgIGNyZWF0ZVRvb2x0aXAodG9vbHRpcCwgcHJldikge1xuICAgICAgICBsZXQgdG9vbHRpcFZpZXcgPSB0b29sdGlwLmNyZWF0ZSh0aGlzLnZpZXcpO1xuICAgICAgICBsZXQgYmVmb3JlID0gcHJldiA/IHByZXYuZG9tIDogbnVsbDtcbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwXCIpO1xuICAgICAgICBpZiAodG9vbHRpcC5hcnJvdyAmJiAhdG9vbHRpcFZpZXcuZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tdG9vbHRpcCA+IC5jbS10b29sdGlwLWFycm93XCIpKSB7XG4gICAgICAgICAgICBsZXQgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgYXJyb3cuY2xhc3NOYW1lID0gXCJjbS10b29sdGlwLWFycm93XCI7XG4gICAgICAgICAgICB0b29sdGlwVmlldy5kb20uYXBwZW5kQ2hpbGQoYXJyb3cpO1xuICAgICAgICB9XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5zdHlsZS50b3AgPSBPdXRzaWRlO1xuICAgICAgICB0b29sdGlwVmlldy5kb20uc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0b29sdGlwVmlldy5kb20sIGJlZm9yZSk7XG4gICAgICAgIGlmICh0b29sdGlwVmlldy5tb3VudClcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3Lm1vdW50KHRoaXMudmlldyk7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKVxuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRvb2x0aXBWaWV3LmRvbSk7XG4gICAgICAgIHJldHVybiB0b29sdGlwVmlldztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMudmlldy53aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm1lYXN1cmVTb29uKTtcbiAgICAgICAgZm9yIChsZXQgdG9vbHRpcFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnJlbW92ZSgpO1xuICAgICAgICAgICAgKF9hID0gdG9vbHRpcFZpZXcuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodG9vbHRpcFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAoX2IgPSB0aGlzLnJlc2l6ZU9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAoX2MgPSB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzY29ubmVjdCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5tZWFzdXJlVGltZW91dCk7XG4gICAgfVxuICAgIHJlYWRNZWFzdXJlKCkge1xuICAgICAgICBsZXQgZWRpdG9yID0gdGhpcy52aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIG1ha2VBYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PSBcImZpeGVkXCIgJiYgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGRvbSB9ID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3c1swXTtcbiAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBzZXRzIHRoZSBlbGVtZW50J3MgYG9mZnNldFBhcmVudGAgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmb3JtZWQgZWxlbWVudCB3aGVuIGEgdHJhbnNmb3JtIGludGVyZmVyZXMgd2l0aCBmaXhlZFxuICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uaW5nLlxuICAgICAgICAgICAgICAgIG1ha2VBYnNvbHV0ZSA9IGRvbS5vZmZzZXRQYXJlbnQgIT0gdGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tLnN0eWxlLnRvcCA9PSBPdXRzaWRlICYmIGRvbS5zdHlsZS5sZWZ0ID09IFwiMHB4XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBvdGhlciBicm93c2Vycywgd2UgaGF2ZSB0byBhd2t3YXJkbHkgdHJ5IGFuZCB1c2Ugb3RoZXJcbiAgICAgICAgICAgICAgICAvLyBpbmZvcm1hdGlvbiB0byBkZXRlY3QgYSB0cmFuc2Zvcm0uXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbWFrZUFic29sdXRlID0gTWF0aC5hYnMocmVjdC50b3AgKyAxMDAwMCkgPiAxIHx8IE1hdGguYWJzKHJlY3QubGVmdCkgPiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYWtlQWJzb2x1dGUgfHwgdGhpcy5wb3NpdGlvbiA9PSBcImFic29sdXRlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5wYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVYID0gcmVjdC53aWR0aCAvIHRoaXMucGFyZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzY2FsZVkgPSByZWN0LmhlaWdodCAvIHRoaXMucGFyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoeyBzY2FsZVgsIHNjYWxlWSB9ID0gdGhpcy52aWV3LnZpZXdTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5wYXJlbnQgPyB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGVkaXRvcixcbiAgICAgICAgICAgIHBvczogdGhpcy5tYW5hZ2VyLnRvb2x0aXBzLm1hcCgodCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0diA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2LmdldENvb3JkcyA/IHR2LmdldENvb3Jkcyh0LnBvcykgOiB0aGlzLnZpZXcuY29vcmRzQXRQb3ModC5wb3MpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzaXplOiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzLm1hcCgoeyBkb20gfSkgPT4gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgICAgICAgIHNwYWNlOiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQodG9vbHRpcENvbmZpZykudG9vbHRpcFNwYWNlKHRoaXMudmlldyksXG4gICAgICAgICAgICBzY2FsZVgsIHNjYWxlWSwgbWFrZUFic29sdXRlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHdyaXRlTWVhc3VyZShtZWFzdXJlZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChtZWFzdXJlZC5tYWtlQWJzb2x1dGUpIHtcbiAgICAgICAgICAgIHRoaXMubWFkZUFic29sdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpXG4gICAgICAgICAgICAgICAgdC5kb20uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgZWRpdG9yLCBzcGFjZSwgc2NhbGVYLCBzY2FsZVkgfSA9IG1lYXN1cmVkO1xuICAgICAgICBsZXQgb3RoZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYW5hZ2VyLnRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMubWFuYWdlci50b29sdGlwc1tpXSwgdFZpZXcgPSB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ldLCB7IGRvbSB9ID0gdFZpZXc7XG4gICAgICAgICAgICBsZXQgcG9zID0gbWVhc3VyZWQucG9zW2ldLCBzaXplID0gbWVhc3VyZWQuc2l6ZVtpXTtcbiAgICAgICAgICAgIC8vIEhpZGUgdG9vbHRpcHMgdGhhdCBhcmUgb3V0c2lkZSBvZiB0aGUgZWRpdG9yLlxuICAgICAgICAgICAgaWYgKCFwb3MgfHwgcG9zLmJvdHRvbSA8PSBNYXRoLm1heChlZGl0b3IudG9wLCBzcGFjZS50b3ApIHx8XG4gICAgICAgICAgICAgICAgcG9zLnRvcCA+PSBNYXRoLm1pbihlZGl0b3IuYm90dG9tLCBzcGFjZS5ib3R0b20pIHx8XG4gICAgICAgICAgICAgICAgcG9zLnJpZ2h0IDwgTWF0aC5tYXgoZWRpdG9yLmxlZnQsIHNwYWNlLmxlZnQpIC0gLjEgfHxcbiAgICAgICAgICAgICAgICBwb3MubGVmdCA+IE1hdGgubWluKGVkaXRvci5yaWdodCwgc3BhY2UucmlnaHQpICsgLjEpIHtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBhcnJvdyA9IHRvb2x0aXAuYXJyb3cgPyB0Vmlldy5kb20ucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwLWFycm93XCIpIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBhcnJvd0hlaWdodCA9IGFycm93ID8gNyAvKiBBcnJvdy5TaXplICovIDogMDtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHNpemUucmlnaHQgLSBzaXplLmxlZnQsIGhlaWdodCA9IChfYSA9IGtub3duSGVpZ2h0LmdldCh0VmlldykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNpemUuYm90dG9tIC0gc2l6ZS50b3A7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gdFZpZXcub2Zmc2V0IHx8IG5vT2Zmc2V0LCBsdHIgPSB0aGlzLnZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBzaXplLndpZHRoID4gc3BhY2UucmlnaHQgLSBzcGFjZS5sZWZ0XG4gICAgICAgICAgICAgICAgPyAobHRyID8gc3BhY2UubGVmdCA6IHNwYWNlLnJpZ2h0IC0gc2l6ZS53aWR0aClcbiAgICAgICAgICAgICAgICA6IGx0ciA/IE1hdGgubWF4KHNwYWNlLmxlZnQsIE1hdGgubWluKHBvcy5sZWZ0IC0gKGFycm93ID8gMTQgLyogQXJyb3cuT2Zmc2V0ICovIDogMCkgKyBvZmZzZXQueCwgc3BhY2UucmlnaHQgLSB3aWR0aCkpXG4gICAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4oTWF0aC5tYXgoc3BhY2UubGVmdCwgcG9zLmxlZnQgLSB3aWR0aCArIChhcnJvdyA/IDE0IC8qIEFycm93Lk9mZnNldCAqLyA6IDApIC0gb2Zmc2V0LngpLCBzcGFjZS5yaWdodCAtIHdpZHRoKTtcbiAgICAgICAgICAgIGxldCBhYm92ZSA9IHRoaXMuYWJvdmVbaV07XG4gICAgICAgICAgICBpZiAoIXRvb2x0aXAuc3RyaWN0U2lkZSAmJiAoYWJvdmVcbiAgICAgICAgICAgICAgICA/IHBvcy50b3AgLSAoc2l6ZS5ib3R0b20gLSBzaXplLnRvcCkgLSBvZmZzZXQueSA8IHNwYWNlLnRvcFxuICAgICAgICAgICAgICAgIDogcG9zLmJvdHRvbSArIChzaXplLmJvdHRvbSAtIHNpemUudG9wKSArIG9mZnNldC55ID4gc3BhY2UuYm90dG9tKSAmJlxuICAgICAgICAgICAgICAgIGFib3ZlID09IChzcGFjZS5ib3R0b20gLSBwb3MuYm90dG9tID4gcG9zLnRvcCAtIHNwYWNlLnRvcCkpXG4gICAgICAgICAgICAgICAgYWJvdmUgPSB0aGlzLmFib3ZlW2ldID0gIWFib3ZlO1xuICAgICAgICAgICAgbGV0IHNwYWNlVmVydCA9IChhYm92ZSA/IHBvcy50b3AgLSBzcGFjZS50b3AgOiBzcGFjZS5ib3R0b20gLSBwb3MuYm90dG9tKSAtIGFycm93SGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHNwYWNlVmVydCA8IGhlaWdodCAmJiB0Vmlldy5yZXNpemUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlVmVydCA8IHRoaXMudmlldy5kZWZhdWx0TGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtub3duSGVpZ2h0LnNldCh0VmlldywgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUuaGVpZ2h0ID0gKGhlaWdodCA9IHNwYWNlVmVydCkgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb20uc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9wID0gYWJvdmUgPyBwb3MudG9wIC0gaGVpZ2h0IC0gYXJyb3dIZWlnaHQgLSBvZmZzZXQueSA6IHBvcy5ib3R0b20gKyBhcnJvd0hlaWdodCArIG9mZnNldC55O1xuICAgICAgICAgICAgbGV0IHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgICAgICAgICAgaWYgKHRWaWV3Lm92ZXJsYXAgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBvdGhlcnMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmxlZnQgPCByaWdodCAmJiByLnJpZ2h0ID4gbGVmdCAmJiByLnRvcCA8IHRvcCArIGhlaWdodCAmJiByLmJvdHRvbSA+IHRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IGFib3ZlID8gci50b3AgLSBoZWlnaHQgLSAyIC0gYXJyb3dIZWlnaHQgOiByLmJvdHRvbSArIGFycm93SGVpZ2h0ICsgMjtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09IFwiYWJzb2x1dGVcIikge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSAodG9wIC0gbWVhc3VyZWQucGFyZW50LnRvcCkgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmxlZnQgPSAobGVmdCAtIG1lYXN1cmVkLnBhcmVudC5sZWZ0KSAvIHNjYWxlWCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSB0b3AgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmxlZnQgPSBsZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycm93KSB7XG4gICAgICAgICAgICAgICAgbGV0IGFycm93TGVmdCA9IHBvcy5sZWZ0ICsgKGx0ciA/IG9mZnNldC54IDogLW9mZnNldC54KSAtIChsZWZ0ICsgMTQgLyogQXJyb3cuT2Zmc2V0ICovIC0gNyAvKiBBcnJvdy5TaXplICovKTtcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5sZWZ0ID0gYXJyb3dMZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRWaWV3Lm92ZXJsYXAgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgb3RoZXJzLnB1c2goeyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b206IHRvcCArIGhlaWdodCB9KTtcbiAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1hYm92ZVwiLCBhYm92ZSk7XG4gICAgICAgICAgICBkb20uY2xhc3NMaXN0LnRvZ2dsZShcImNtLXRvb2x0aXAtYmVsb3dcIiwgIWFib3ZlKTtcbiAgICAgICAgICAgIGlmICh0Vmlldy5wb3NpdGlvbmVkKVxuICAgICAgICAgICAgICAgIHRWaWV3LnBvc2l0aW9uZWQobWVhc3VyZWQuc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heWJlTWVhc3VyZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcuaW5WaWV3KVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5WaWV3ICE9IHRoaXMudmlldy5pblZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlldyA9IHRoaXMudmlldy5pblZpZXc7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluVmlldylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHYgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICAgICAgICAgIHR2LmRvbS5zdHlsZS50b3AgPSBPdXRzaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgIHNjcm9sbCgpIHsgdGhpcy5tYXliZU1lYXN1cmUoKTsgfVxuICAgIH1cbn0pO1xuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgekluZGV4OiAxMDAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjYmJiXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLXNlY3Rpb246bm90KDpmaXJzdC1jaGlsZClcIjoge1xuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNiYmJcIixcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRvb2x0aXBcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgaGVpZ2h0OiBgJHs3IC8qIEFycm93LlNpemUgKi99cHhgLFxuICAgICAgICB3aWR0aDogYCR7NyAvKiBBcnJvdy5TaXplICovICogMn1weGAsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBcIiY6YmVmb3JlLCAmOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJydcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIGJvcmRlckxlZnQ6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICAgICAgICBib3JkZXJSaWdodDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkIHRyYW5zcGFyZW50YCxcbiAgICAgICAgfSxcbiAgICAgICAgXCIuY20tdG9vbHRpcC1hYm92ZSAmXCI6IHtcbiAgICAgICAgICAgIGJvdHRvbTogYC0kezcgLyogQXJyb3cuU2l6ZSAqL31weGAsXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjYmJiYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlclRvcDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNmNWY1ZjVgLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxcHhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIi5jbS10b29sdGlwLWJlbG93ICZcIjoge1xuICAgICAgICAgICAgdG9wOiBgLSR7NyAvKiBBcnJvdy5TaXplICovfXB4YCxcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNiYmJgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2Y1ZjVmNWAsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjFweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwIC5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICBib3JkZXJUb3BDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCIjMzMzMzM4XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIH1cbiAgICB9XG59KTtcbmNvbnN0IG5vT2Zmc2V0ID0geyB4OiAwLCB5OiAwIH07XG4vKipcbkZhY2V0IHRvIHdoaWNoIGFuIGV4dGVuc2lvbiBjYW4gYWRkIGEgdmFsdWUgdG8gc2hvdyBhIHRvb2x0aXAuXG4qL1xuY29uc3Qgc2hvd1Rvb2x0aXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBbdG9vbHRpcFBsdWdpbiwgYmFzZVRoZW1lXVxufSk7XG5jb25zdCBzaG93SG92ZXJUb29sdGlwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogaW5wdXRzID0+IGlucHV0cy5yZWR1Y2UoKGEsIGkpID0+IGEuY29uY2F0KGkpLCBbXSlcbn0pO1xuY2xhc3MgSG92ZXJUb29sdGlwSG9zdCB7XG4gICAgLy8gTmVlZHMgdG8gYmUgc3RhdGljIHNvIHRoYXQgaG9zdCB0b29sdGlwIGluc3RhbmNlcyBhbHdheXMgbWF0Y2hcbiAgICBzdGF0aWMgY3JlYXRlKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb3ZlclRvb2x0aXBIb3N0KHZpZXcpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwLWhvdmVyXCIpO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dIb3ZlclRvb2x0aXAsICh0LCBwKSA9PiB0aGlzLmNyZWF0ZUhvc3RlZFZpZXcodCwgcCksIHQgPT4gdC5kb20ucmVtb3ZlKCkpO1xuICAgIH1cbiAgICBjcmVhdGVIb3N0ZWRWaWV3KHRvb2x0aXAsIHByZXYpIHtcbiAgICAgICAgbGV0IGhvc3RlZFZpZXcgPSB0b29sdGlwLmNyZWF0ZSh0aGlzLnZpZXcpO1xuICAgICAgICBob3N0ZWRWaWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tdG9vbHRpcC1zZWN0aW9uXCIpO1xuICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUoaG9zdGVkVmlldy5kb20sIHByZXYgPyBwcmV2LmRvbS5uZXh0U2libGluZyA6IHRoaXMuZG9tLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpZiAodGhpcy5tb3VudGVkICYmIGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICBob3N0ZWRWaWV3Lm1vdW50KHRoaXMudmlldyk7XG4gICAgICAgIHJldHVybiBob3N0ZWRWaWV3O1xuICAgIH1cbiAgICBtb3VudCh2aWV3KSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICAgICAgaG9zdGVkVmlldy5tb3VudCh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBwb3NpdGlvbmVkKHNwYWNlKSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcucG9zaXRpb25lZClcbiAgICAgICAgICAgICAgICBob3N0ZWRWaWV3LnBvc2l0aW9uZWQoc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIChfYSA9IHQuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodCk7XG4gICAgfVxuICAgIHBhc3NQcm9wKG5hbWUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIGxldCBnaXZlbiA9IHZpZXdbbmFtZV07XG4gICAgICAgICAgICBpZiAoZ2l2ZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGdpdmVuO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSBnaXZlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGdldCBvZmZzZXQoKSB7IHJldHVybiB0aGlzLnBhc3NQcm9wKFwib2Zmc2V0XCIpOyB9XG4gICAgZ2V0IGdldENvb3JkcygpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJnZXRDb29yZHNcIik7IH1cbiAgICBnZXQgb3ZlcmxhcCgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJvdmVybGFwXCIpOyB9XG4gICAgZ2V0IHJlc2l6ZSgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJyZXNpemVcIik7IH1cbn1cbmNvbnN0IHNob3dIb3ZlclRvb2x0aXBIb3N0ID0gLypAX19QVVJFX18qL3Nob3dUb29sdGlwLmNvbXB1dGUoW3Nob3dIb3ZlclRvb2x0aXBdLCBzdGF0ZSA9PiB7XG4gICAgbGV0IHRvb2x0aXBzID0gc3RhdGUuZmFjZXQoc2hvd0hvdmVyVG9vbHRpcCk7XG4gICAgaWYgKHRvb2x0aXBzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zOiBNYXRoLm1pbiguLi50b29sdGlwcy5tYXAodCA9PiB0LnBvcykpLFxuICAgICAgICBlbmQ6IE1hdGgubWF4KC4uLnRvb2x0aXBzLm1hcCh0ID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdC5lbmQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHQucG9zOyB9KSksXG4gICAgICAgIGNyZWF0ZTogSG92ZXJUb29sdGlwSG9zdC5jcmVhdGUsXG4gICAgICAgIGFib3ZlOiB0b29sdGlwc1swXS5hYm92ZSxcbiAgICAgICAgYXJyb3c6IHRvb2x0aXBzLnNvbWUodCA9PiB0LmFycm93KSxcbiAgICB9O1xufSk7XG5jbGFzcyBIb3ZlclBsdWdpbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc291cmNlLCBmaWVsZCwgc2V0SG92ZXIsIGhvdmVyVGltZSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLnNldEhvdmVyID0gc2V0SG92ZXI7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lID0gaG92ZXJUaW1lO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdE1vdmUgPSB7IHg6IDAsIHk6IDAsIHRhcmdldDogdmlldy5kb20sIHRpbWU6IDAgfTtcbiAgICAgICAgdGhpcy5jaGVja0hvdmVyID0gdGhpcy5jaGVja0hvdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMubW91c2VsZWF2ZSA9IHRoaXMubW91c2VsZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZSA9IHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0YXJ0SG92ZXIoKSwgMjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZmllbGQodGhpcy5maWVsZCk7XG4gICAgfVxuICAgIGNoZWNrSG92ZXIoKSB7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gLTE7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBob3ZlcmVkID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmUudGltZTtcbiAgICAgICAgaWYgKGhvdmVyZWQgPCB0aGlzLmhvdmVyVGltZSlcbiAgICAgICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNoZWNrSG92ZXIsIHRoaXMuaG92ZXJUaW1lIC0gaG92ZXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIb3ZlcigpO1xuICAgIH1cbiAgICBzdGFydEhvdmVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgIGxldCB7IHZpZXcsIGxhc3RNb3ZlIH0gPSB0aGlzO1xuICAgICAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0KGxhc3RNb3ZlLnRhcmdldCk7XG4gICAgICAgIGlmICghZGVzYylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHBvcywgc2lkZSA9IDE7XG4gICAgICAgIGlmIChkZXNjIGluc3RhbmNlb2YgV2lkZ2V0Vmlldykge1xuICAgICAgICAgICAgcG9zID0gZGVzYy5wb3NBdFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zID0gdmlldy5wb3NBdENvb3JkcyhsYXN0TW92ZSk7XG4gICAgICAgICAgICBpZiAocG9zID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvc0Nvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MocG9zKTtcbiAgICAgICAgICAgIGlmICghcG9zQ29vcmRzIHx8XG4gICAgICAgICAgICAgICAgbGFzdE1vdmUueSA8IHBvc0Nvb3Jkcy50b3AgfHwgbGFzdE1vdmUueSA+IHBvc0Nvb3Jkcy5ib3R0b20gfHxcbiAgICAgICAgICAgICAgICBsYXN0TW92ZS54IDwgcG9zQ29vcmRzLmxlZnQgLSB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCB8fFxuICAgICAgICAgICAgICAgIGxhc3RNb3ZlLnggPiBwb3NDb29yZHMucmlnaHQgKyB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgYmlkaSA9IHZpZXcuYmlkaVNwYW5zKHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpKS5maW5kKHMgPT4gcy5mcm9tIDw9IHBvcyAmJiBzLnRvID49IHBvcyk7XG4gICAgICAgICAgICBsZXQgcnRsID0gYmlkaSAmJiBiaWRpLmRpciA9PSBEaXJlY3Rpb24uUlRMID8gLTEgOiAxO1xuICAgICAgICAgICAgc2lkZSA9IChsYXN0TW92ZS54IDwgcG9zQ29vcmRzLmxlZnQgPyAtcnRsIDogcnRsKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3BlbiA9IHRoaXMuc291cmNlKHZpZXcsIHBvcywgc2lkZSk7XG4gICAgICAgIGlmIChvcGVuID09PSBudWxsIHx8IG9wZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wZW4udGhlbikge1xuICAgICAgICAgICAgbGV0IHBlbmRpbmcgPSB0aGlzLnBlbmRpbmcgPSB7IHBvcyB9O1xuICAgICAgICAgICAgb3Blbi50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZyA9PSBwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgIShBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgIXJlc3VsdC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogW3Jlc3VsdF0pIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGUgPT4gbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUsIFwiaG92ZXIgdG9vbHRpcFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3BlbiAmJiAhKEFycmF5LmlzQXJyYXkob3BlbikgJiYgIW9wZW4ubGVuZ3RoKSkge1xuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoQXJyYXkuaXNBcnJheShvcGVuKSA/IG9wZW4gOiBbb3Blbl0pIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0b29sdGlwKCkge1xuICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy52aWV3LnBsdWdpbih0b29sdGlwUGx1Z2luKTtcbiAgICAgICAgbGV0IGluZGV4ID0gcGx1Z2luID8gcGx1Z2luLm1hbmFnZXIudG9vbHRpcHMuZmluZEluZGV4KHQgPT4gdC5jcmVhdGUgPT0gSG92ZXJUb29sdGlwSG9zdC5jcmVhdGUpIDogLTE7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2luZGV4XSA6IG51bGw7XG4gICAgfVxuICAgIG1vdXNlbW92ZShldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0YXJnZXQ6IGV2ZW50LnRhcmdldCwgdGltZTogRGF0ZS5ub3coKSB9O1xuICAgICAgICBpZiAodGhpcy5ob3ZlclRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUpO1xuICAgICAgICBsZXQgeyBhY3RpdmUsIHRvb2x0aXAgfSA9IHRoaXM7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoICYmIHRvb2x0aXAgJiYgIWlzSW5Ub29sdGlwKHRvb2x0aXAuZG9tLCBldmVudCkgfHwgdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICBsZXQgeyBwb3MgfSA9IGFjdGl2ZVswXSB8fCB0aGlzLnBlbmRpbmcsIGVuZCA9IChfYiA9IChfYSA9IGFjdGl2ZVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVuZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcG9zO1xuICAgICAgICAgICAgaWYgKChwb3MgPT0gZW5kID8gdGhpcy52aWV3LnBvc0F0Q29vcmRzKHRoaXMubGFzdE1vdmUpICE9IHBvc1xuICAgICAgICAgICAgICAgIDogIWlzT3ZlclJhbmdlKHRoaXMudmlldywgcG9zLCBlbmQsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoW10pIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW91c2VsZWF2ZShldmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICBsZXQgeyBhY3RpdmUgfSA9IHRoaXM7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyB0b29sdGlwIH0gPSB0aGlzO1xuICAgICAgICAgICAgbGV0IGluVG9vbHRpcCA9IHRvb2x0aXAgJiYgdG9vbHRpcC5kb20uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIWluVG9vbHRpcClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB0aGlzLnNldEhvdmVyLm9mKFtdKSB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLndhdGNoVG9vbHRpcExlYXZlKHRvb2x0aXAuZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YXRjaFRvb2x0aXBMZWF2ZSh0b29sdGlwKSB7XG4gICAgICAgIGxldCB3YXRjaCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB3YXRjaCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUubGVuZ3RoICYmICF0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoW10pIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0b29sdGlwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHdhdGNoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm1vdXNlbGVhdmUpO1xuICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZW1vdmUpO1xuICAgIH1cbn1cbmNvbnN0IHRvb2x0aXBNYXJnaW4gPSA0O1xuZnVuY3Rpb24gaXNJblRvb2x0aXAodG9vbHRpcCwgZXZlbnQpIHtcbiAgICBsZXQgeyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gfSA9IHRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGFycm93O1xuICAgIGlmIChhcnJvdyA9IHRvb2x0aXAucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwLWFycm93XCIpKSB7XG4gICAgICAgIGxldCBhcnJvd1JlY3QgPSBhcnJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdG9wID0gTWF0aC5taW4oYXJyb3dSZWN0LnRvcCwgdG9wKTtcbiAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoYXJyb3dSZWN0LmJvdHRvbSwgYm90dG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LmNsaWVudFggPj0gbGVmdCAtIHRvb2x0aXBNYXJnaW4gJiYgZXZlbnQuY2xpZW50WCA8PSByaWdodCArIHRvb2x0aXBNYXJnaW4gJiZcbiAgICAgICAgZXZlbnQuY2xpZW50WSA+PSB0b3AgLSB0b29sdGlwTWFyZ2luICYmIGV2ZW50LmNsaWVudFkgPD0gYm90dG9tICsgdG9vbHRpcE1hcmdpbjtcbn1cbmZ1bmN0aW9uIGlzT3ZlclJhbmdlKHZpZXcsIGZyb20sIHRvLCB4LCB5LCBtYXJnaW4pIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBkb2NCb3R0b20gPSB2aWV3LmRvY3VtZW50VG9wICsgdmlldy5kb2N1bWVudFBhZGRpbmcudG9wICsgdmlldy5jb250ZW50SGVpZ2h0O1xuICAgIGlmIChyZWN0LmxlZnQgPiB4IHx8IHJlY3QucmlnaHQgPCB4IHx8IHJlY3QudG9wID4geSB8fCBNYXRoLm1pbihyZWN0LmJvdHRvbSwgZG9jQm90dG9tKSA8IHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHgsIHkgfSwgZmFsc2UpO1xuICAgIHJldHVybiBwb3MgPj0gZnJvbSAmJiBwb3MgPD0gdG87XG59XG4vKipcblNldCB1cCBhIGhvdmVyIHRvb2x0aXAsIHdoaWNoIHNob3dzIHVwIHdoZW4gdGhlIHBvaW50ZXIgaG92ZXJzXG5vdmVyIHJhbmdlcyBvZiB0ZXh0LiBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIGhvdmVyc1xub3ZlciB0aGUgZG9jdW1lbnQgdGV4dC4gSXQgc2hvdWxkLCBpZiB0aGVyZSBpcyBhIHRvb2x0aXBcbmFzc29jaWF0ZWQgd2l0aCBwb3NpdGlvbiBgcG9zYCwgcmV0dXJuIHRoZSB0b29sdGlwIGRlc2NyaXB0aW9uXG4oZWl0aGVyIGRpcmVjdGx5IG9yIGluIGEgcHJvbWlzZSkuIFRoZSBgc2lkZWAgYXJndW1lbnQgaW5kaWNhdGVzXG5vbiB3aGljaCBzaWRlIG9mIHRoZSBwb3NpdGlvbiB0aGUgcG9pbnRlciBpc+KAlGl0IHdpbGwgYmUgLTEgaWYgdGhlXG5wb2ludGVyIGlzIGJlZm9yZSB0aGUgcG9zaXRpb24sIDEgaWYgYWZ0ZXIgdGhlIHBvc2l0aW9uLlxuXG5Ob3RlIHRoYXQgYWxsIGhvdmVyIHRvb2x0aXBzIGFyZSBob3N0ZWQgd2l0aGluIGEgc2luZ2xlIHRvb2x0aXBcbmNvbnRhaW5lciBlbGVtZW50LiBUaGlzIGFsbG93cyBtdWx0aXBsZSB0b29sdGlwcyBvdmVyIHRoZSBzYW1lXG5yYW5nZSB0byBiZSBcIm1lcmdlZFwiIHRvZ2V0aGVyIHdpdGhvdXQgb3ZlcmxhcHBpbmcuXG5cblRoZSByZXR1cm4gdmFsdWUgaXMgYSB2YWxpZCBbZWRpdG9yIGV4dGVuc2lvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FeHRlbnNpb24pXG5idXQgYWxzbyBwcm92aWRlcyBhbiBgYWN0aXZlYCBwcm9wZXJ0eSBob2xkaW5nIGEgc3RhdGUgZmllbGQgdGhhdFxuY2FuIGJlIHVzZWQgdG8gcmVhZCB0aGUgY3VycmVudGx5IGFjdGl2ZSB0b29sdGlwcyBwcm9kdWNlZCBieSB0aGlzXG5leHRlbnNpb24uXG4qL1xuZnVuY3Rpb24gaG92ZXJUb29sdGlwKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHNldEhvdmVyID0gU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4gICAgbGV0IGhvdmVyU3RhdGUgPSBTdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgICAgIGNyZWF0ZSgpIHsgcmV0dXJuIFtdOyB9LFxuICAgICAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZU9uQ2hhbmdlICYmICh0ci5kb2NDaGFuZ2VkIHx8IHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5oaWRlT24pXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuZmlsdGVyKHYgPT4gIW9wdGlvbnMuaGlkZU9uKHRyLCB2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHRyLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcHBlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b29sdGlwIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3UG9zID0gdHIuY2hhbmdlcy5tYXBQb3ModG9vbHRpcC5wb3MsIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQb3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3B5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5LnBvcyA9IG5ld1BvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29weS5lbmQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weS5lbmQgPSB0ci5jaGFuZ2VzLm1hcFBvcyhjb3B5LmVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkLnB1c2goY29weSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEhvdmVyKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhjbG9zZUhvdmVyVG9vbHRpcEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGU6IGYgPT4gc2hvd0hvdmVyVG9vbHRpcC5mcm9tKGYpXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlOiBob3ZlclN0YXRlLFxuICAgICAgICBleHRlbnNpb246IFtcbiAgICAgICAgICAgIGhvdmVyU3RhdGUsXG4gICAgICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBIb3ZlclBsdWdpbih2aWV3LCBzb3VyY2UsIGhvdmVyU3RhdGUsIHNldEhvdmVyLCBvcHRpb25zLmhvdmVyVGltZSB8fCAzMDAgLyogSG92ZXIuVGltZSAqLykpLFxuICAgICAgICAgICAgc2hvd0hvdmVyVG9vbHRpcEhvc3RcbiAgICAgICAgXVxuICAgIH07XG59XG4vKipcbkdldCB0aGUgYWN0aXZlIHRvb2x0aXAgdmlldyBmb3IgYSBnaXZlbiB0b29sdGlwLCBpZiBhdmFpbGFibGUuXG4qL1xuZnVuY3Rpb24gZ2V0VG9vbHRpcCh2aWV3LCB0b29sdGlwKSB7XG4gICAgbGV0IHBsdWdpbiA9IHZpZXcucGx1Z2luKHRvb2x0aXBQbHVnaW4pO1xuICAgIGlmICghcGx1Z2luKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZm91bmQgPSBwbHVnaW4ubWFuYWdlci50b29sdGlwcy5pbmRleE9mKHRvb2x0aXApO1xuICAgIHJldHVybiBmb3VuZCA8IDAgPyBudWxsIDogcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ZvdW5kXTtcbn1cbi8qKlxuUmV0dXJucyB0cnVlIGlmIGFueSBob3ZlciB0b29sdGlwcyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiovXG5mdW5jdGlvbiBoYXNIb3ZlclRvb2x0aXBzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZhY2V0KHNob3dIb3ZlclRvb2x0aXApLnNvbWUoeCA9PiB4KTtcbn1cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5UcmFuc2FjdGlvbiBlZmZlY3QgdGhhdCBjbG9zZXMgYWxsIGhvdmVyIHRvb2x0aXBzLlxuKi9cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwcyA9IC8qQF9fUFVSRV9fKi9jbG9zZUhvdmVyVG9vbHRpcEVmZmVjdC5vZihudWxsKTtcbi8qKlxuVGVsbCB0aGUgdG9vbHRpcCBleHRlbnNpb24gdG8gcmVjb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYWN0aXZlXG50b29sdGlwcy4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgKHN1Y2ggYXMgYVxucmUtcG9zaXRpb25pbmcgb3IgQ1NTIGNoYW5nZSBhZmZlY3RpbmcgdGhlIGVkaXRvcikgdGhhdCBjb3VsZFxuaW52YWxpZGF0ZSB0aGUgZXhpc3RpbmcgdG9vbHRpcCBwb3NpdGlvbnMuXG4qL1xuZnVuY3Rpb24gcmVwb3NpdGlvblRvb2x0aXBzKHZpZXcpIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4odG9vbHRpcFBsdWdpbik7XG4gICAgaWYgKHBsdWdpbilcbiAgICAgICAgcGx1Z2luLm1heWJlTWVhc3VyZSgpO1xufVxuXG5jb25zdCBwYW5lbENvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgdG9wQ29udGFpbmVyLCBib3R0b21Db250YWluZXI7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY29uZmlncykge1xuICAgICAgICAgICAgdG9wQ29udGFpbmVyID0gdG9wQ29udGFpbmVyIHx8IGMudG9wQ29udGFpbmVyO1xuICAgICAgICAgICAgYm90dG9tQ29udGFpbmVyID0gYm90dG9tQ29udGFpbmVyIHx8IGMuYm90dG9tQ29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcENvbnRhaW5lciwgYm90dG9tQ29udGFpbmVyIH07XG4gICAgfVxufSk7XG4vKipcbkNvbmZpZ3VyZXMgdGhlIHBhbmVsLW1hbmFnaW5nIGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBwYW5lbHMoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZyA/IFtwYW5lbENvbmZpZy5vZihjb25maWcpXSA6IFtdO1xufVxuLyoqXG5HZXQgdGhlIGFjdGl2ZSBwYW5lbCBjcmVhdGVkIGJ5IHRoZSBnaXZlbiBjb25zdHJ1Y3RvciwgaWYgYW55LlxuVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4geW91IG5lZWQgYWNjZXNzIHRvIHlvdXIgcGFuZWxzJyBET01cbnN0cnVjdHVyZS5cbiovXG5mdW5jdGlvbiBnZXRQYW5lbCh2aWV3LCBwYW5lbCkge1xuICAgIGxldCBwbHVnaW4gPSB2aWV3LnBsdWdpbihwYW5lbFBsdWdpbik7XG4gICAgbGV0IGluZGV4ID0gcGx1Z2luID8gcGx1Z2luLnNwZWNzLmluZGV4T2YocGFuZWwpIDogLTE7XG4gICAgcmV0dXJuIGluZGV4ID4gLTEgPyBwbHVnaW4ucGFuZWxzW2luZGV4XSA6IG51bGw7XG59XG5jb25zdCBwYW5lbFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmlucHV0ID0gdmlldy5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICB0aGlzLnNwZWNzID0gdGhpcy5pbnB1dC5maWx0ZXIocyA9PiBzKTtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSB0aGlzLnNwZWNzLm1hcChzcGVjID0+IHNwZWModmlldykpO1xuICAgICAgICBsZXQgY29uZiA9IHZpZXcuc3RhdGUuZmFjZXQocGFuZWxDb25maWcpO1xuICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHZpZXcsIHRydWUsIGNvbmYudG9wQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSBuZXcgUGFuZWxHcm91cCh2aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB0aGlzLnRvcC5zeW5jKHRoaXMucGFuZWxzLmZpbHRlcihwID0+IHAudG9wKSk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmModGhpcy5wYW5lbHMuZmlsdGVyKHAgPT4gIXAudG9wKSk7XG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIHAuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1wYW5lbFwiKTtcbiAgICAgICAgICAgIGlmIChwLm1vdW50KVxuICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KHBhbmVsQ29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMudG9wLmNvbnRhaW5lciAhPSBjb25mLnRvcENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy50b3Auc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCB0cnVlLCBjb25mLnRvcENvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm90dG9tLmNvbnRhaW5lciAhPSBjb25mLmJvdHRvbUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5ib3R0b20uc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9wLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgbGV0IHNwZWNzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgICAgICBsZXQgcGFuZWxzID0gW10sIHRvcCA9IFtdLCBib3R0b20gPSBbXSwgbW91bnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHNwZWMgb2Ygc3BlY3MpIHtcbiAgICAgICAgICAgICAgICBsZXQga25vd24gPSB0aGlzLnNwZWNzLmluZGV4T2Yoc3BlYyksIHBhbmVsO1xuICAgICAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwgPSBzcGVjKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgbW91bnQucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbCA9IHRoaXMucGFuZWxzW2tub3duXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhbmVsLnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYW5lbHMucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgKHBhbmVsLnRvcCA/IHRvcCA6IGJvdHRvbSkucHVzaChwYW5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgICAgICAgICB0aGlzLnBhbmVscyA9IHBhbmVscztcbiAgICAgICAgICAgIHRoaXMudG9wLnN5bmModG9wKTtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tLnN5bmMoYm90dG9tKTtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgbW91bnQpIHtcbiAgICAgICAgICAgICAgICBwLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tcGFuZWxcIik7XG4gICAgICAgICAgICAgICAgaWYgKHAubW91bnQpXG4gICAgICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpXG4gICAgICAgICAgICAgICAgaWYgKHAudXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBwLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG9wLnN5bmMoW10pO1xuICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKFtdKTtcbiAgICB9XG59LCB7XG4gICAgcHJvdmlkZTogcGx1Z2luID0+IEVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucy5vZih2aWV3ID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmlldy5wbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHsgdG9wOiB2YWx1ZS50b3Auc2Nyb2xsTWFyZ2luKCksIGJvdHRvbTogdmFsdWUuYm90dG9tLnNjcm9sbE1hcmdpbigpIH07XG4gICAgfSlcbn0pO1xuY2xhc3MgUGFuZWxHcm91cCB7XG4gICAgY29uc3RydWN0b3IodmlldywgdG9wLCBjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gXCJcIjtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBbXTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcygpO1xuICAgIH1cbiAgICBzeW5jKHBhbmVscykge1xuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFuZWxzKVxuICAgICAgICAgICAgaWYgKHAuZGVzdHJveSAmJiBwYW5lbHMuaW5kZXhPZihwKSA8IDApXG4gICAgICAgICAgICAgICAgcC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGFuZWxzID0gcGFuZWxzO1xuICAgICAgICB0aGlzLnN5bmNET00oKTtcbiAgICB9XG4gICAgc3luY0RPTSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFuZWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSB0aGlzLnRvcCA/IFwiY20tcGFuZWxzIGNtLXBhbmVscy10b3BcIiA6IFwiY20tcGFuZWxzIGNtLXBhbmVscy1ib3R0b21cIjtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlW3RoaXMudG9wID8gXCJ0b3BcIiA6IFwiYm90dG9tXCJdID0gXCIwXCI7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250YWluZXIgfHwgdGhpcy52aWV3LmRvbTtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5kb20sIHRoaXMudG9wID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VyRE9NID0gdGhpcy5kb20uZmlyc3RDaGlsZDtcbiAgICAgICAgZm9yIChsZXQgcGFuZWwgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIGlmIChwYW5lbC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJET00gIT0gcGFuZWwuZG9tKVxuICAgICAgICAgICAgICAgICAgICBjdXJET00gPSBybShjdXJET00pO1xuICAgICAgICAgICAgICAgIGN1ckRPTSA9IGN1ckRPTS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShwYW5lbC5kb20sIGN1ckRPTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGN1ckRPTSlcbiAgICAgICAgICAgIGN1ckRPTSA9IHJtKGN1ckRPTSk7XG4gICAgfVxuICAgIHNjcm9sbE1hcmdpbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRvbSB8fCB0aGlzLmNvbnRhaW5lciA/IDBcbiAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgdGhpcy50b3AgP1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIE1hdGgubWF4KDAsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSA6XG4gICAgICAgICAgICAgICAgTWF0aC5taW4oaW5uZXJIZWlnaHQsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSAtIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgfVxuICAgIHN5bmNDbGFzc2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyIHx8IHRoaXMuY2xhc3NlcyA9PSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgdGhpcy5jbGFzc2VzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgKHRoaXMuY2xhc3NlcyA9IHRoaXMudmlldy50aGVtZUNsYXNzZXMpLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChjbHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgbm9kZS5yZW1vdmUoKTtcbiAgICByZXR1cm4gbmV4dDtcbn1cbi8qKlxuT3BlbmluZyBhIHBhbmVsIGlzIGRvbmUgYnkgcHJvdmlkaW5nIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yXG50aGUgcGFuZWwgdGhyb3VnaCB0aGlzIGZhY2V0LiAoVGhlIHBhbmVsIGlzIGNsb3NlZCBhZ2FpbiB3aGVuIGl0c1xuY29uc3RydWN0b3IgaXMgbm8gbG9uZ2VyIHByb3ZpZGVkLikgVmFsdWVzIG9mIGBudWxsYCBhcmUgaWdub3JlZC5cbiovXG5jb25zdCBzaG93UGFuZWwgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBwYW5lbFBsdWdpblxufSk7XG5cbi8qKlxuQSBndXR0ZXIgbWFya2VyIHJlcHJlc2VudHMgYSBiaXQgb2YgaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gYSBsaW5lXG5pbiBhIHNwZWNpZmljIGd1dHRlci4gWW91ciBvd24gY3VzdG9tIG1hcmtlcnMgaGF2ZSB0byBleHRlbmQgdGhpc1xuY2xhc3MuXG4qL1xuY2xhc3MgR3V0dGVyTWFya2VyIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyBtYXJrZXIgdG8gYW5vdGhlciBtYXJrZXIgb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIENhbGxlZCBpZiB0aGUgbWFya2VyIGhhcyBhIGB0b0RPTWAgbWV0aG9kIGFuZCBpdHMgcmVwcmVzZW50YXRpb25cbiAgICB3YXMgcmVtb3ZlZCBmcm9tIGEgZ3V0dGVyLlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5lbGVtZW50Q2xhc3MgPSBcIlwiO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS50b0RPTSA9IHVuZGVmaW5lZDtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLnN0YXJ0U2lkZSA9IEd1dHRlck1hcmtlci5wcm90b3R5cGUuZW5kU2lkZSA9IC0xO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG4vKipcbkZhY2V0IHVzZWQgdG8gYWRkIGEgY2xhc3MgdG8gYWxsIGd1dHRlciBlbGVtZW50cyBmb3IgYSBnaXZlbiBsaW5lLlxuTWFya2VycyBnaXZlbiB0byB0aGlzIGZhY2V0IHNob3VsZCBfb25seV8gZGVmaW5lIGFuXG5bYGVsZW1lbnRjbGFzc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5HdXR0ZXJNYXJrZXIuZWxlbWVudENsYXNzKSwgbm90IGFcbltgdG9ET01gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuR3V0dGVyTWFya2VyLnRvRE9NKSAob3IgdGhlIG1hcmtlciB3aWxsIGFwcGVhclxuaW4gYWxsIGd1dHRlcnMgZm9yIHRoZSBsaW5lKS5cbiovXG5jb25zdCBndXR0ZXJMaW5lQ2xhc3MgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IHVzZWQgdG8gYWRkIGEgY2xhc3MgdG8gYWxsIGd1dHRlciBlbGVtZW50cyBuZXh0IHRvIGEgd2lkZ2V0LlxuU2hvdWxkIG5vdCBwcm92aWRlIHdpZGdldHMgd2l0aCBhIGB0b0RPTWAgbWV0aG9kLlxuKi9cbmNvbnN0IGd1dHRlcldpZGdldENsYXNzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgY2xhc3M6IFwiXCIsXG4gICAgcmVuZGVyRW1wdHlFbGVtZW50czogZmFsc2UsXG4gICAgZWxlbWVudFN0eWxlOiBcIlwiLFxuICAgIG1hcmtlcnM6ICgpID0+IFJhbmdlU2V0LmVtcHR5LFxuICAgIGxpbmVNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgd2lkZ2V0TWFya2VyOiAoKSA9PiBudWxsLFxuICAgIGxpbmVNYXJrZXJDaGFuZ2U6IG51bGwsXG4gICAgaW5pdGlhbFNwYWNlcjogbnVsbCxcbiAgICB1cGRhdGVTcGFjZXI6IG51bGwsXG4gICAgZG9tRXZlbnRIYW5kbGVyczoge31cbn07XG5jb25zdCBhY3RpdmVHdXR0ZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5EZWZpbmUgYW4gZWRpdG9yIGd1dHRlci4gVGhlIG9yZGVyIGluIHdoaWNoIHRoZSBndXR0ZXJzIGFwcGVhciBpc1xuZGV0ZXJtaW5lZCBieSB0aGVpciBleHRlbnNpb24gcHJpb3JpdHkuXG4qL1xuZnVuY3Rpb24gZ3V0dGVyKGNvbmZpZykge1xuICAgIHJldHVybiBbZ3V0dGVycygpLCBhY3RpdmVHdXR0ZXJzLm9mKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMpLCBjb25maWcpKV07XG59XG5jb25zdCB1bmZpeEd1dHRlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG4vKipcblRoZSBndXR0ZXItZHJhd2luZyBwbHVnaW4gaXMgYXV0b21hdGljYWxseSBlbmFibGVkIHdoZW4geW91IGFkZCBhXG5ndXR0ZXIsIGJ1dCB5b3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGV4cGxpY2l0bHkgY29uZmlndXJlIGl0LlxuXG5Vbmxlc3MgYGZpeGVkYCBpcyBleHBsaWNpdGx5IHNldCB0byBgZmFsc2VgLCB0aGUgZ3V0dGVycyBhcmVcbmZpeGVkLCBtZWFuaW5nIHRoZXkgZG9uJ3Qgc2Nyb2xsIGFsb25nIHdpdGggdGhlIGNvbnRlbnRcbmhvcml6b250YWxseSAoZXhjZXB0IG9uIEludGVybmV0IEV4cGxvcmVyLCB3aGljaCBkb2Vzbid0IHN1cHBvcnRcbkNTUyBbYHBvc2l0aW9uOlxuc3RpY2t5YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3Bvc2l0aW9uI3N0aWNreSkpLlxuKi9cbmZ1bmN0aW9uIGd1dHRlcnMoY29uZmlnKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtcbiAgICAgICAgZ3V0dGVyVmlldyxcbiAgICBdO1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLmZpeGVkID09PSBmYWxzZSlcbiAgICAgICAgcmVzdWx0LnB1c2godW5maXhHdXR0ZXJzLm9mKHRydWUpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ3V0dGVyVmlldyA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnByZXZWaWV3cG9ydCA9IHZpZXcudmlld3BvcnQ7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJzXCI7XG4gICAgICAgIHRoaXMuZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgdGhpcy5kb20uc3R5bGUubWluSGVpZ2h0ID0gKHRoaXMudmlldy5jb250ZW50SGVpZ2h0IC8gdGhpcy52aWV3LnNjYWxlWSkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZ3V0dGVycyA9IHZpZXcuc3RhdGUuZmFjZXQoYWN0aXZlR3V0dGVycykubWFwKGNvbmYgPT4gbmV3IFNpbmdsZUd1dHRlclZpZXcodmlldywgY29uZikpO1xuICAgICAgICBmb3IgKGxldCBndXR0ZXIgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoZ3V0dGVyLmRvbSk7XG4gICAgICAgIHRoaXMuZml4ZWQgPSAhdmlldy5zdGF0ZS5mYWNldCh1bmZpeEd1dHRlcnMpO1xuICAgICAgICBpZiAodGhpcy5maXhlZCkge1xuICAgICAgICAgICAgLy8gRklYTUUgSUUxMSBmYWxsYmFjaywgd2hpY2ggZG9lc24ndCBzdXBwb3J0IHBvc2l0aW9uOiBzdGlja3ksXG4gICAgICAgICAgICAvLyBieSB1c2luZyBwb3NpdGlvbjogcmVsYXRpdmUgKyBldmVudCBoYW5kbGVycyB0aGF0IHJlYWxpZ24gdGhlXG4gICAgICAgICAgICAvLyBndXR0ZXIgKG9yIGp1c3QgZm9yY2UgZml4ZWQ9ZmFsc2Ugb24gSUUxMT8pXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5wb3NpdGlvbiA9IFwic3RpY2t5XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeW5jR3V0dGVycyhmYWxzZSk7XG4gICAgICAgIHZpZXcuc2Nyb2xsRE9NLmluc2VydEJlZm9yZSh0aGlzLmRvbSwgdmlldy5jb250ZW50RE9NKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVHdXR0ZXJzKHVwZGF0ZSkpIHtcbiAgICAgICAgICAgIC8vIERldGFjaCBkdXJpbmcgc3luYyB3aGVuIHRoZSB2aWV3cG9ydCBjaGFuZ2VkIHNpZ25pZmljYW50bHlcbiAgICAgICAgICAgIC8vIChzdWNoIGFzIGR1cmluZyBzY3JvbGxpbmcpLCBzaW5jZSBmb3IgbGFyZ2UgdXBkYXRlcyB0aGF0IGlzXG4gICAgICAgICAgICAvLyBmYXN0ZXIuXG4gICAgICAgICAgICBsZXQgdnBBID0gdGhpcy5wcmV2Vmlld3BvcnQsIHZwQiA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgICAgICAgICAgbGV0IHZwT3ZlcmxhcCA9IE1hdGgubWluKHZwQS50bywgdnBCLnRvKSAtIE1hdGgubWF4KHZwQS5mcm9tLCB2cEIuZnJvbSk7XG4gICAgICAgICAgICB0aGlzLnN5bmNHdXR0ZXJzKHZwT3ZlcmxhcCA8ICh2cEIudG8gLSB2cEIuZnJvbSkgKiAwLjgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSAodGhpcy52aWV3LmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZKSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlLmZhY2V0KHVuZml4R3V0dGVycykgIT0gIXRoaXMuZml4ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWQgPSAhdGhpcy5maXhlZDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5maXhlZCA/IFwic3RpY2t5XCIgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJldlZpZXdwb3J0ID0gdXBkYXRlLnZpZXcudmlld3BvcnQ7XG4gICAgfVxuICAgIHN5bmNHdXR0ZXJzKGRldGFjaCkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmRvbS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICBsZXQgbGluZUNsYXNzZXMgPSBSYW5nZVNldC5pdGVyKHRoaXMudmlldy5zdGF0ZS5mYWNldChndXR0ZXJMaW5lQ2xhc3MpLCB0aGlzLnZpZXcudmlld3BvcnQuZnJvbSk7XG4gICAgICAgIGxldCBjbGFzc1NldCA9IFtdO1xuICAgICAgICBsZXQgY29udGV4dHMgPSB0aGlzLmd1dHRlcnMubWFwKGd1dHRlciA9PiBuZXcgVXBkYXRlQ29udGV4dChndXR0ZXIsIHRoaXMudmlldy52aWV3cG9ydCwgLXRoaXMudmlldy5kb2N1bWVudFBhZGRpbmcudG9wKSk7XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy52aWV3LnZpZXdwb3J0TGluZUJsb2Nrcykge1xuICAgICAgICAgICAgaWYgKGNsYXNzU2V0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICBjbGFzc1NldCA9IFtdO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSkge1xuICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYiBvZiBsaW5lLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCAmJiBmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUN1cnNvcihsaW5lQ2xhc3NlcywgY2xhc3NTZXQsIGIuZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeC5saW5lKHRoaXMudmlldywgYiwgY2xhc3NTZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChiLndpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gud2lkZ2V0KHRoaXMudmlldywgYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQpIHtcbiAgICAgICAgICAgICAgICBhZHZhbmNlQ3Vyc29yKGxpbmVDbGFzc2VzLCBjbGFzc1NldCwgbGluZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgY3gubGluZSh0aGlzLnZpZXcsIGxpbmUsIGNsYXNzU2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUud2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgIGN4LndpZGdldCh0aGlzLnZpZXcsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgY3guZmluaXNoKCk7XG4gICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsRE9NLmluc2VydEJlZm9yZSh0aGlzLmRvbSwgYWZ0ZXIpO1xuICAgIH1cbiAgICB1cGRhdGVHdXR0ZXJzKHVwZGF0ZSkge1xuICAgICAgICBsZXQgcHJldiA9IHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGFjdGl2ZUd1dHRlcnMpLCBjdXIgPSB1cGRhdGUuc3RhdGUuZmFjZXQoYWN0aXZlR3V0dGVycyk7XG4gICAgICAgIGxldCBjaGFuZ2UgPSB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuaGVpZ2h0Q2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAhUmFuZ2VTZXQuZXEodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoZ3V0dGVyTGluZUNsYXNzKSwgdXBkYXRlLnN0YXRlLmZhY2V0KGd1dHRlckxpbmVDbGFzcyksIHVwZGF0ZS52aWV3LnZpZXdwb3J0LmZyb20sIHVwZGF0ZS52aWV3LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKHByZXYgPT0gY3VyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBndXR0ZXIgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgICAgIGlmIChndXR0ZXIudXBkYXRlKHVwZGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGd1dHRlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbmYgb2YgY3VyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtub3duID0gcHJldi5pbmRleE9mKGNvbmYpO1xuICAgICAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVycy5wdXNoKG5ldyBTaW5nbGVHdXR0ZXJWaWV3KHRoaXMudmlldywgY29uZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ndXR0ZXJzW2tub3duXS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVycy5wdXNoKHRoaXMuZ3V0dGVyc1trbm93bl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGcgb2YgdGhpcy5ndXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgZy5kb20ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGd1dHRlcnMuaW5kZXhPZihnKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIGcuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZyBvZiBndXR0ZXJzKVxuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGcuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuZ3V0dGVycyA9IGd1dHRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICB2aWV3LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiBFZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMub2YodmlldyA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHZpZXcucGx1Z2luKHBsdWdpbik7XG4gICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUuZ3V0dGVycy5sZW5ndGggPT0gMCB8fCAhdmFsdWUuZml4ZWQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSXG4gICAgICAgICAgICA/IHsgbGVmdDogdmFsdWUuZG9tLm9mZnNldFdpZHRoICogdmlldy5zY2FsZVggfVxuICAgICAgICAgICAgOiB7IHJpZ2h0OiB2YWx1ZS5kb20ub2Zmc2V0V2lkdGggKiB2aWV3LnNjYWxlWCB9O1xuICAgIH0pXG59KTtcbmZ1bmN0aW9uIGFzQXJyYXkodmFsKSB7IHJldHVybiAoQXJyYXkuaXNBcnJheSh2YWwpID8gdmFsIDogW3ZhbF0pOyB9XG5mdW5jdGlvbiBhZHZhbmNlQ3Vyc29yKGN1cnNvciwgY29sbGVjdCwgcG9zKSB7XG4gICAgd2hpbGUgKGN1cnNvci52YWx1ZSAmJiBjdXJzb3IuZnJvbSA8PSBwb3MpIHtcbiAgICAgICAgaWYgKGN1cnNvci5mcm9tID09IHBvcylcbiAgICAgICAgICAgIGNvbGxlY3QucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgIH1cbn1cbmNsYXNzIFVwZGF0ZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKGd1dHRlciwgdmlld3BvcnQsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmd1dHRlciA9IGd1dHRlcjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gUmFuZ2VTZXQuaXRlcihndXR0ZXIubWFya2Vycywgdmlld3BvcnQuZnJvbSk7XG4gICAgfVxuICAgIGFkZEVsZW1lbnQodmlldywgYmxvY2ssIG1hcmtlcnMpIHtcbiAgICAgICAgbGV0IHsgZ3V0dGVyIH0gPSB0aGlzLCBhYm92ZSA9IChibG9jay50b3AgLSB0aGlzLmhlaWdodCkgLyB2aWV3LnNjYWxlWSwgaGVpZ2h0ID0gYmxvY2suaGVpZ2h0IC8gdmlldy5zY2FsZVk7XG4gICAgICAgIGlmICh0aGlzLmkgPT0gZ3V0dGVyLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5ld0VsdCA9IG5ldyBHdXR0ZXJFbGVtZW50KHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgICAgICAgICAgZ3V0dGVyLmVsZW1lbnRzLnB1c2gobmV3RWx0KTtcbiAgICAgICAgICAgIGd1dHRlci5kb20uYXBwZW5kQ2hpbGQobmV3RWx0LmRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBndXR0ZXIuZWxlbWVudHNbdGhpcy5pXS51cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBibG9jay5ib3R0b207XG4gICAgICAgIHRoaXMuaSsrO1xuICAgIH1cbiAgICBsaW5lKHZpZXcsIGxpbmUsIGV4dHJhTWFya2Vycykge1xuICAgICAgICBsZXQgbG9jYWxNYXJrZXJzID0gW107XG4gICAgICAgIGFkdmFuY2VDdXJzb3IodGhpcy5jdXJzb3IsIGxvY2FsTWFya2VycywgbGluZS5mcm9tKTtcbiAgICAgICAgaWYgKGV4dHJhTWFya2Vycy5sZW5ndGgpXG4gICAgICAgICAgICBsb2NhbE1hcmtlcnMgPSBsb2NhbE1hcmtlcnMuY29uY2F0KGV4dHJhTWFya2Vycyk7XG4gICAgICAgIGxldCBmb3JMaW5lID0gdGhpcy5ndXR0ZXIuY29uZmlnLmxpbmVNYXJrZXIodmlldywgbGluZSwgbG9jYWxNYXJrZXJzKTtcbiAgICAgICAgaWYgKGZvckxpbmUpXG4gICAgICAgICAgICBsb2NhbE1hcmtlcnMudW5zaGlmdChmb3JMaW5lKTtcbiAgICAgICAgbGV0IGd1dHRlciA9IHRoaXMuZ3V0dGVyO1xuICAgICAgICBpZiAobG9jYWxNYXJrZXJzLmxlbmd0aCA9PSAwICYmICFndXR0ZXIuY29uZmlnLnJlbmRlckVtcHR5RWxlbWVudHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudCh2aWV3LCBsaW5lLCBsb2NhbE1hcmtlcnMpO1xuICAgIH1cbiAgICB3aWRnZXQodmlldywgYmxvY2spIHtcbiAgICAgICAgbGV0IG1hcmtlciA9IHRoaXMuZ3V0dGVyLmNvbmZpZy53aWRnZXRNYXJrZXIodmlldywgYmxvY2sud2lkZ2V0LCBibG9jayksIG1hcmtlcnMgPSBtYXJrZXIgPyBbbWFya2VyXSA6IG51bGw7XG4gICAgICAgIGZvciAobGV0IGNscyBvZiB2aWV3LnN0YXRlLmZhY2V0KGd1dHRlcldpZGdldENsYXNzKSkge1xuICAgICAgICAgICAgbGV0IG1hcmtlciA9IGNscyh2aWV3LCBibG9jay53aWRnZXQsIGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChtYXJrZXIpXG4gICAgICAgICAgICAgICAgKG1hcmtlcnMgfHwgKG1hcmtlcnMgPSBbXSkpLnB1c2gobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFya2VycylcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudCh2aWV3LCBibG9jaywgbWFya2Vycyk7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgbGV0IGd1dHRlciA9IHRoaXMuZ3V0dGVyO1xuICAgICAgICB3aGlsZSAoZ3V0dGVyLmVsZW1lbnRzLmxlbmd0aCA+IHRoaXMuaSkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBndXR0ZXIuZWxlbWVudHMucG9wKCk7XG4gICAgICAgICAgICBndXR0ZXIuZG9tLnJlbW92ZUNoaWxkKGxhc3QuZG9tKTtcbiAgICAgICAgICAgIGxhc3QuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2luZ2xlR3V0dGVyVmlldyB7XG4gICAgY29uc3RydWN0b3IodmlldywgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuc3BhY2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlclwiICsgKHRoaXMuY29uZmlnLmNsYXNzID8gXCIgXCIgKyB0aGlzLmNvbmZpZy5jbGFzcyA6IFwiXCIpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGNvbmZpZy5kb21FdmVudEhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKHByb3AsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQsIHk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSB0aGlzLmRvbSAmJiB0aGlzLmRvbS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAhPSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IChyZWN0LnRvcCArIHJlY3QuYm90dG9tKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0SGVpZ2h0KHkgLSB2aWV3LmRvY3VtZW50VG9wKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmRvbUV2ZW50SGFuZGxlcnNbcHJvcF0odmlldywgbGluZSwgZXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheShjb25maWcubWFya2Vycyh2aWV3KSk7XG4gICAgICAgIGlmIChjb25maWcuaW5pdGlhbFNwYWNlcikge1xuICAgICAgICAgICAgdGhpcy5zcGFjZXIgPSBuZXcgR3V0dGVyRWxlbWVudCh2aWV3LCAwLCAwLCBbY29uZmlnLmluaXRpYWxTcGFjZXIodmlldyldKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuc3BhY2VyLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnNwYWNlci5kb20uc3R5bGUuY3NzVGV4dCArPSBcInZpc2liaWxpdHk6IGhpZGRlbjsgcG9pbnRlci1ldmVudHM6IG5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2TWFya2VycyA9IHRoaXMubWFya2VycztcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheSh0aGlzLmNvbmZpZy5tYXJrZXJzKHVwZGF0ZS52aWV3KSk7XG4gICAgICAgIGlmICh0aGlzLnNwYWNlciAmJiB0aGlzLmNvbmZpZy51cGRhdGVTcGFjZXIpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5jb25maWcudXBkYXRlU3BhY2VyKHRoaXMuc3BhY2VyLm1hcmtlcnNbMF0sIHVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodXBkYXRlZCAhPSB0aGlzLnNwYWNlci5tYXJrZXJzWzBdKVxuICAgICAgICAgICAgICAgIHRoaXMuc3BhY2VyLnVwZGF0ZSh1cGRhdGUudmlldywgMCwgMCwgW3VwZGF0ZWRdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdnAgPSB1cGRhdGUudmlldy52aWV3cG9ydDtcbiAgICAgICAgcmV0dXJuICFSYW5nZVNldC5lcSh0aGlzLm1hcmtlcnMsIHByZXZNYXJrZXJzLCB2cC5mcm9tLCB2cC50bykgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbmZpZy5saW5lTWFya2VyQ2hhbmdlID8gdGhpcy5jb25maWcubGluZU1hcmtlckNoYW5nZSh1cGRhdGUpIDogZmFsc2UpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBlbHQgb2YgdGhpcy5lbGVtZW50cylcbiAgICAgICAgICAgIGVsdC5kZXN0cm95KCk7XG4gICAgfVxufVxuY2xhc3MgR3V0dGVyRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICB0aGlzLmFib3ZlID0gMDtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gW107XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJFbGVtZW50XCI7XG4gICAgICAgIHRoaXMudXBkYXRlKHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgIH1cbiAgICB1cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm92ZSAhPSBhYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLmFib3ZlID0gYWJvdmUpID8gYWJvdmUgKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICBpZiAoIXNhbWVNYXJrZXJzKHRoaXMubWFya2VycywgbWFya2VycykpXG4gICAgICAgICAgICB0aGlzLnNldE1hcmtlcnModmlldywgbWFya2Vycyk7XG4gICAgfVxuICAgIHNldE1hcmtlcnModmlldywgbWFya2Vycykge1xuICAgICAgICBsZXQgY2xzID0gXCJjbS1ndXR0ZXJFbGVtZW50XCIsIGRvbVBvcyA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGZvciAobGV0IGlOZXcgPSAwLCBpT2xkID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgc2tpcFRvID0gaU9sZCwgbWFya2VyID0gaU5ldyA8IG1hcmtlcnMubGVuZ3RoID8gbWFya2Vyc1tpTmV3KytdIDogbnVsbCwgbWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgICAgIGxldCBjID0gbWFya2VyLmVsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiICsgYztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaU9sZDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5jb21wYXJlKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUbyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwVG8gPSB0aGlzLm1hcmtlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGlPbGQgPCBza2lwVG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubWFya2Vyc1tpT2xkKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZGVzdHJveShkb21Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBkb21Qb3MubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zID0gYWZ0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXJrZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobWFya2VyLnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcyA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShtYXJrZXIudG9ET00odmlldyksIGRvbVBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgICAgICBpT2xkKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gY2xzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldE1hcmtlcnMobnVsbCwgW10pOyAvLyBGaXJzdCBhcmd1bWVudCBub3QgdXNlZCB1bmxlc3MgY3JlYXRpbmcgbWFya2Vyc1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghYVtpXS5jb21wYXJlKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5GYWNldCB1c2VkIHRvIHByb3ZpZGUgbWFya2VycyB0byB0aGUgbGluZSBudW1iZXIgZ3V0dGVyLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJNYXJrZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNyZWF0ZSBtYXJrZXJzIGluIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgbmV4dCB0byB3aWRnZXRzLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBsaW5lTnVtYmVyQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcodmFsdWVzLCB7IGZvcm1hdE51bWJlcjogU3RyaW5nLCBkb21FdmVudEhhbmRsZXJzOiB7fSB9LCB7XG4gICAgICAgICAgICBkb21FdmVudEhhbmRsZXJzKGEsIGIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgYSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gYikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXhpc3RzID0gcmVzdWx0W2V2ZW50XSwgYWRkID0gYltldmVudF07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtldmVudF0gPSBleGlzdHMgPyAodmlldywgbGluZSwgZXZlbnQpID0+IGV4aXN0cyh2aWV3LCBsaW5lLCBldmVudCkgfHwgYWRkKHZpZXcsIGxpbmUsIGV2ZW50KSA6IGFkZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jbGFzcyBOdW1iZXJNYXJrZXIgZXh0ZW5kcyBHdXR0ZXJNYXJrZXIge1xuICAgIGNvbnN0cnVjdG9yKG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIHRoaXMubnVtYmVyID09IG90aGVyLm51bWJlcjsgfVxuICAgIHRvRE9NKCkgeyByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5udW1iZXIpOyB9XG59XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIodmlldywgbnVtYmVyKSB7XG4gICAgcmV0dXJuIHZpZXcuc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZykuZm9ybWF0TnVtYmVyKG51bWJlciwgdmlldy5zdGF0ZSk7XG59XG5jb25zdCBsaW5lTnVtYmVyR3V0dGVyID0gLypAX19QVVJFX18qL2FjdGl2ZUd1dHRlcnMuY29tcHV0ZShbbGluZU51bWJlckNvbmZpZ10sIHN0YXRlID0+ICh7XG4gICAgY2xhc3M6IFwiY20tbGluZU51bWJlcnNcIixcbiAgICByZW5kZXJFbXB0eUVsZW1lbnRzOiBmYWxzZSxcbiAgICBtYXJrZXJzKHZpZXcpIHsgcmV0dXJuIHZpZXcuc3RhdGUuZmFjZXQobGluZU51bWJlck1hcmtlcnMpOyB9LFxuICAgIGxpbmVNYXJrZXIodmlldywgbGluZSwgb3RoZXJzKSB7XG4gICAgICAgIGlmIChvdGhlcnMuc29tZShtID0+IG0udG9ET00pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyTWFya2VyKGZvcm1hdE51bWJlcih2aWV3LCB2aWV3LnN0YXRlLmRvYy5saW5lQXQobGluZS5mcm9tKS5udW1iZXIpKTtcbiAgICB9LFxuICAgIHdpZGdldE1hcmtlcjogKHZpZXcsIHdpZGdldCwgYmxvY2spID0+IHtcbiAgICAgICAgZm9yIChsZXQgbSBvZiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbSh2aWV3LCB3aWRnZXQsIGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGxpbmVNYXJrZXJDaGFuZ2U6IHVwZGF0ZSA9PiB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZyksXG4gICAgaW5pdGlhbFNwYWNlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyTWFya2VyKGZvcm1hdE51bWJlcih2aWV3LCBtYXhMaW5lTnVtYmVyKHZpZXcuc3RhdGUuZG9jLmxpbmVzKSkpO1xuICAgIH0sXG4gICAgdXBkYXRlU3BhY2VyKHNwYWNlciwgdXBkYXRlKSB7XG4gICAgICAgIGxldCBtYXggPSBmb3JtYXROdW1iZXIodXBkYXRlLnZpZXcsIG1heExpbmVOdW1iZXIodXBkYXRlLnZpZXcuc3RhdGUuZG9jLmxpbmVzKSk7XG4gICAgICAgIHJldHVybiBtYXggPT0gc3BhY2VyLm51bWJlciA/IHNwYWNlciA6IG5ldyBOdW1iZXJNYXJrZXIobWF4KTtcbiAgICB9LFxuICAgIGRvbUV2ZW50SGFuZGxlcnM6IHN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpLmRvbUV2ZW50SGFuZGxlcnNcbn0pKTtcbi8qKlxuQ3JlYXRlIGEgbGluZSBudW1iZXIgZ3V0dGVyIGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBsaW5lTnVtYmVycyhjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIGxpbmVOdW1iZXJDb25maWcub2YoY29uZmlnKSxcbiAgICAgICAgZ3V0dGVycygpLFxuICAgICAgICBsaW5lTnVtYmVyR3V0dGVyXG4gICAgXTtcbn1cbmZ1bmN0aW9uIG1heExpbmVOdW1iZXIobGluZXMpIHtcbiAgICBsZXQgbGFzdCA9IDk7XG4gICAgd2hpbGUgKGxhc3QgPCBsaW5lcylcbiAgICAgICAgbGFzdCA9IGxhc3QgKiAxMCArIDk7XG4gICAgcmV0dXJuIGxhc3Q7XG59XG5jb25zdCBhY3RpdmVMaW5lR3V0dGVyTWFya2VyID0gLypAX19QVVJFX18qL25ldyBjbGFzcyBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZWxlbWVudENsYXNzID0gXCJjbS1hY3RpdmVMaW5lR3V0dGVyXCI7XG4gICAgfVxufTtcbmNvbnN0IGFjdGl2ZUxpbmVHdXR0ZXJIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9ndXR0ZXJMaW5lQ2xhc3MuY29tcHV0ZShbXCJzZWxlY3Rpb25cIl0sIHN0YXRlID0+IHtcbiAgICBsZXQgbWFya3MgPSBbXSwgbGFzdCA9IC0xO1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgbGV0IGxpbmVQb3MgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmhlYWQpLmZyb207XG4gICAgICAgIGlmIChsaW5lUG9zID4gbGFzdCkge1xuICAgICAgICAgICAgbGFzdCA9IGxpbmVQb3M7XG4gICAgICAgICAgICBtYXJrcy5wdXNoKGFjdGl2ZUxpbmVHdXR0ZXJNYXJrZXIucmFuZ2UobGluZVBvcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSYW5nZVNldC5vZihtYXJrcyk7XG59KTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBhZGRzIGEgYGNtLWFjdGl2ZUxpbmVHdXR0ZXJgIGNsYXNzIHRvXG5hbGwgZ3V0dGVyIGVsZW1lbnRzIG9uIHRoZSBbYWN0aXZlXG5saW5lXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuaGlnaGxpZ2h0QWN0aXZlTGluZSkuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlcigpIHtcbiAgICByZXR1cm4gYWN0aXZlTGluZUd1dHRlckhpZ2hsaWdodGVyO1xufVxuXG5jb25zdCBXaGl0ZXNwYWNlRGVjbyA9IC8qQF9fUFVSRV9fKi9uZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXRXaGl0ZXNwYWNlRGVjbyhzcGFjZSkge1xuICAgIGxldCBkZWNvID0gV2hpdGVzcGFjZURlY28uZ2V0KHNwYWNlKTtcbiAgICBpZiAoIWRlY28pXG4gICAgICAgIFdoaXRlc3BhY2VEZWNvLnNldChzcGFjZSwgZGVjbyA9IERlY29yYXRpb24ubWFyayh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzcGFjZSA9PT0gXCJcXHRcIiA/IHtcbiAgICAgICAgICAgICAgICBjbGFzczogXCJjbS1oaWdobGlnaHRUYWJcIixcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiY20taGlnaGxpZ2h0U3BhY2VcIixcbiAgICAgICAgICAgICAgICBcImRhdGEtZGlzcGxheVwiOiBzcGFjZS5yZXBsYWNlKC8gL2csIFwiwrdcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIHJldHVybiBkZWNvO1xufVxuZnVuY3Rpb24gbWF0Y2hlcihkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gVmlld1BsdWdpbi5kZWZpbmUodmlldyA9PiAoe1xuICAgICAgICBkZWNvcmF0aW9uczogZGVjb3JhdG9yLmNyZWF0ZURlY28odmlldyksXG4gICAgICAgIHVwZGF0ZSh1KSB7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gZGVjb3JhdG9yLnVwZGF0ZURlY28odSwgdGhpcy5kZWNvcmF0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgfSksIHtcbiAgICAgICAgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9uc1xuICAgIH0pO1xufVxuY29uc3Qgd2hpdGVzcGFjZUhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL21hdGNoZXIoLypAX19QVVJFX18qL25ldyBNYXRjaERlY29yYXRvcih7XG4gICAgcmVnZXhwOiAvXFx0fCArL2csXG4gICAgZGVjb3JhdGlvbjogbWF0Y2ggPT4gZ2V0V2hpdGVzcGFjZURlY28obWF0Y2hbMF0pLFxuICAgIGJvdW5kYXJ5OiAvXFxTLyxcbn0pKTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBoaWdobGlnaHRzIHdoaXRlc3BhY2UsIGFkZGluZyBhXG5gY20taGlnaGxpZ2h0U3BhY2VgIGNsYXNzIHRvIHN0cmV0Y2hlcyBvZiBzcGFjZXMsIGFuZCBhXG5gY20taGlnaGxpZ2h0VGFiYCBjbGFzcyB0byBpbmRpdmlkdWFsIHRhYiBjaGFyYWN0ZXJzLiBCeSBkZWZhdWx0LFxudGhlIGZvcm1lciBhcmUgc2hvd24gYXMgZmFpbnQgZG90cywgYW5kIHRoZSBsYXR0ZXIgYXMgYXJyb3dzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFdoaXRlc3BhY2UoKSB7XG4gICAgcmV0dXJuIHdoaXRlc3BhY2VIaWdobGlnaHRlcjtcbn1cbmNvbnN0IHRyYWlsaW5nSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovbWF0Y2hlcigvKkBfX1BVUkVfXyovbmV3IE1hdGNoRGVjb3JhdG9yKHtcbiAgICByZWdleHA6IC9cXHMrJC9nLFxuICAgIGRlY29yYXRpb246IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS10cmFpbGluZ1NwYWNlXCIgfSksXG4gICAgYm91bmRhcnk6IC9cXFMvLFxufSkpO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgYSBgY20tdHJhaWxpbmdTcGFjZWAgY2xhc3MgdG8gYWxsXG50cmFpbGluZyB3aGl0ZXNwYWNlLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFRyYWlsaW5nV2hpdGVzcGFjZSgpIHtcbiAgICByZXR1cm4gdHJhaWxpbmdIaWdobGlnaHRlcjtcbn1cblxuLyoqXG5AaW50ZXJuYWxcbiovXG5jb25zdCBfX3Rlc3QgPSB7IEhlaWdodE1hcCwgSGVpZ2h0T3JhY2xlLCBNZWFzdXJlZEhlaWdodHMsIFF1ZXJ5VHlwZSwgQ2hhbmdlZFJhbmdlLCBjb21wdXRlT3JkZXIsXG4gICAgbW92ZVZpc3VhbGx5LCBjbGVhckhlaWdodENoYW5nZUZsYWcsIGdldEhlaWdodENoYW5nZUZsYWc6ICgpID0+IGhlaWdodENoYW5nZUZsYWcgfTtcblxuZXhwb3J0IHsgQmlkaVNwYW4sIEJsb2NrSW5mbywgQmxvY2tUeXBlLCBEZWNvcmF0aW9uLCBEaXJlY3Rpb24sIEVkaXRvclZpZXcsIEd1dHRlck1hcmtlciwgTWF0Y2hEZWNvcmF0b3IsIFJlY3RhbmdsZU1hcmtlciwgVmlld1BsdWdpbiwgVmlld1VwZGF0ZSwgV2lkZ2V0VHlwZSwgX190ZXN0LCBjbG9zZUhvdmVyVG9vbHRpcHMsIGNyb3NzaGFpckN1cnNvciwgZHJhd1NlbGVjdGlvbiwgZHJvcEN1cnNvciwgZ2V0RHJhd1NlbGVjdGlvbkNvbmZpZywgZ2V0UGFuZWwsIGdldFRvb2x0aXAsIGd1dHRlciwgZ3V0dGVyTGluZUNsYXNzLCBndXR0ZXJXaWRnZXRDbGFzcywgZ3V0dGVycywgaGFzSG92ZXJUb29sdGlwcywgaGlnaGxpZ2h0QWN0aXZlTGluZSwgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlciwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzLCBoaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2UsIGhpZ2hsaWdodFdoaXRlc3BhY2UsIGhvdmVyVG9vbHRpcCwga2V5bWFwLCBsYXllciwgbGluZU51bWJlck1hcmtlcnMsIGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIsIGxpbmVOdW1iZXJzLCBsb2dFeGNlcHRpb24sIHBhbmVscywgcGxhY2Vob2xkZXIsIHJlY3Rhbmd1bGFyU2VsZWN0aW9uLCByZXBvc2l0aW9uVG9vbHRpcHMsIHJ1blNjb3BlSGFuZGxlcnMsIHNjcm9sbFBhc3RFbmQsIHNob3dQYW5lbCwgc2hvd1Rvb2x0aXAsIHRvb2x0aXBzIH07XG4iLAogICAgIi8qKlxuVGhlIGRlZmF1bHQgbWF4aW11bSBsZW5ndGggb2YgYSBgVHJlZUJ1ZmZlcmAgbm9kZS5cbiovXG5jb25zdCBEZWZhdWx0QnVmZmVyTGVuZ3RoID0gMTAyNDtcbmxldCBuZXh0UHJvcElEID0gMDtcbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxufVxuLyoqXG5FYWNoIFtub2RlIHR5cGVdKCNjb21tb24uTm9kZVR5cGUpIG9yIFtpbmRpdmlkdWFsIHRyZWVdKCNjb21tb24uVHJlZSlcbmNhbiBoYXZlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBpdCBpbiBwcm9wcy4gSW5zdGFuY2VzIG9mIHRoaXNcbmNsYXNzIHJlcHJlc2VudCBwcm9wIG5hbWVzLlxuKi9cbmNsYXNzIE5vZGVQcm9wIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgbm9kZSBwcm9wIHR5cGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLmlkID0gbmV4dFByb3BJRCsrO1xuICAgICAgICB0aGlzLnBlck5vZGUgPSAhIWNvbmZpZy5wZXJOb2RlO1xuICAgICAgICB0aGlzLmRlc2VyaWFsaXplID0gY29uZmlnLmRlc2VyaWFsaXplIHx8ICgoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG5vZGUgdHlwZSBkb2Vzbid0IGRlZmluZSBhIGRlc2VyaWFsaXplIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhpcyBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGhcbiAgICBbYE5vZGVTZXQuZXh0ZW5kYF0oI2NvbW1vbi5Ob2RlU2V0LmV4dGVuZCkgb3JcbiAgICBbYExSUGFyc2VyLmNvbmZpZ3VyZWBdKCNsci5QYXJzZXJDb25maWcucHJvcHMpIHRvIGNvbXB1dGVcbiAgICBwcm9wIHZhbHVlcyBmb3IgZWFjaCBub2RlIHR5cGUgaW4gdGhlIHNldC4gVGFrZXMgYSBbbWF0Y2hcbiAgICBvYmplY3RdKCNjb21tb24uTm9kZVR5cGVebWF0Y2gpIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB1bmRlZmluZWRcbiAgICBpZiB0aGUgbm9kZSB0eXBlIGRvZXNuJ3QgZ2V0IHRoaXMgcHJvcCwgYW5kIHRoZSBwcm9wJ3MgdmFsdWUgaWZcbiAgICBpdCBkb2VzLlxuICAgICovXG4gICAgYWRkKG1hdGNoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlck5vZGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IGFkZCBwZXItbm9kZSBwcm9wcyB0byBub2RlIHR5cGVzXCIpO1xuICAgICAgICBpZiAodHlwZW9mIG1hdGNoICE9IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIG1hdGNoID0gTm9kZVR5cGUubWF0Y2gobWF0Y2gpO1xuICAgICAgICByZXR1cm4gKHR5cGUpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBtYXRjaCh0eXBlKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBbdGhpcywgcmVzdWx0XTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcblByb3AgdGhhdCBpcyB1c2VkIHRvIGRlc2NyaWJlIG1hdGNoaW5nIGRlbGltaXRlcnMuIEZvciBvcGVuaW5nXG5kZWxpbWl0ZXJzLCB0aGlzIGhvbGRzIGFuIGFycmF5IG9mIG5vZGUgbmFtZXMgKHdyaXR0ZW4gYXMgYVxuc3BhY2Utc2VwYXJhdGVkIHN0cmluZyB3aGVuIGRlY2xhcmluZyB0aGlzIHByb3AgaW4gYSBncmFtbWFyKVxuZm9yIHRoZSBub2RlIHR5cGVzIG9mIGNsb3NpbmcgZGVsaW1pdGVycyB0aGF0IG1hdGNoIGl0LlxuKi9cbk5vZGVQcm9wLmNsb3NlZEJ5ID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHN0ciA9PiBzdHIuc3BsaXQoXCIgXCIpIH0pO1xuLyoqXG5UaGUgaW52ZXJzZSBvZiBbYGNsb3NlZEJ5YF0oI2NvbW1vbi5Ob2RlUHJvcF5jbG9zZWRCeSkuIFRoaXMgaXNcbmF0dGFjaGVkIHRvIGNsb3NpbmcgZGVsaW1pdGVycywgaG9sZGluZyBhbiBhcnJheSBvZiBub2RlIG5hbWVzXG5vZiB0eXBlcyBvZiBtYXRjaGluZyBvcGVuaW5nIGRlbGltaXRlcnMuXG4qL1xuTm9kZVByb3Aub3BlbmVkQnkgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogc3RyID0+IHN0ci5zcGxpdChcIiBcIikgfSk7XG4vKipcblVzZWQgdG8gYXNzaWduIG5vZGUgdHlwZXMgdG8gZ3JvdXBzIChmb3IgZXhhbXBsZSwgYWxsIG5vZGVcbnR5cGVzIHRoYXQgcmVwcmVzZW50IGFuIGV4cHJlc3Npb24gY291bGQgYmUgdGFnZ2VkIHdpdGggYW5cbmBcIkV4cHJlc3Npb25cImAgZ3JvdXApLlxuKi9cbk5vZGVQcm9wLmdyb3VwID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHN0ciA9PiBzdHIuc3BsaXQoXCIgXCIpIH0pO1xuLyoqXG5BdHRhY2hlZCB0byBub2RlcyB0byBpbmRpY2F0ZSB0aGVzZSBzaG91bGQgYmVcbltkaXNwbGF5ZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFRyZWUpXG5pbiBhIGJpZGlyZWN0aW9uYWwgdGV4dCBpc29sYXRlLCBzbyB0aGF0IGRpcmVjdGlvbi1uZXV0cmFsXG5jaGFyYWN0ZXJzIG9uIHRoZWlyIHNpZGVzIGRvbid0IGluY29ycmVjdGx5IGdldCBhc3NvY2lhdGVkIHdpdGhcbnN1cnJvdW5kaW5nIHRleHQuIFlvdSdsbCBnZW5lcmFsbHkgd2FudCB0byBzZXQgdGhpcyBmb3Igbm9kZXNcbnRoYXQgY29udGFpbiBhcmJpdHJhcnkgdGV4dCwgbGlrZSBzdHJpbmdzIGFuZCBjb21tZW50cywgYW5kIGZvclxubm9kZXMgdGhhdCBhcHBlYXIgX2luc2lkZV8gYXJiaXRyYXJ5IHRleHQsIGxpa2UgSFRNTCB0YWdzLiBXaGVuXG5ub3QgZ2l2ZW4gYSB2YWx1ZSwgaW4gYSBncmFtbWFyIGRlY2xhcmF0aW9uLCBkZWZhdWx0cyB0b1xuYFwiYXV0b1wiYC5cbiovXG5Ob2RlUHJvcC5pc29sYXRlID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9IFwicnRsXCIgJiYgdmFsdWUgIT0gXCJsdHJcIiAmJiB2YWx1ZSAhPSBcImF1dG9cIilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgaXNvbGF0ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZSB8fCBcImF1dG9cIjtcbiAgICB9IH0pO1xuLyoqXG5UaGUgaGFzaCBvZiB0aGUgW2NvbnRleHRdKCNsci5Db250ZXh0VHJhY2tlci5jb25zdHJ1Y3RvcilcbnRoYXQgdGhlIG5vZGUgd2FzIHBhcnNlZCBpbiwgaWYgYW55LiBVc2VkIHRvIGxpbWl0IHJldXNlIG9mXG5jb250ZXh0dWFsIG5vZGVzLlxuKi9cbk5vZGVQcm9wLmNvbnRleHRIYXNoID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbi8qKlxuVGhlIGRpc3RhbmNlIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBub2RlIHRoYXQgdGhlIHRva2VuaXplclxubG9va2VkIGFoZWFkIGZvciBhbnkgb2YgdGhlIHRva2VucyBpbnNpZGUgdGhlIG5vZGUuIChUaGUgTFJcbnBhcnNlciBvbmx5IHN0b3JlcyB0aGlzIHdoZW4gaXQgaXMgbGFyZ2VyIHRoYW4gMjUsIGZvclxuZWZmaWNpZW5jeSByZWFzb25zLilcbiovXG5Ob2RlUHJvcC5sb29rQWhlYWQgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLyoqXG5UaGlzIHBlci1ub2RlIHByb3AgaXMgdXNlZCB0byByZXBsYWNlIGEgZ2l2ZW4gbm9kZSwgb3IgcGFydCBvZiBhXG5ub2RlLCB3aXRoIGFub3RoZXIgdHJlZS4gVGhpcyBpcyB1c2VmdWwgdG8gaW5jbHVkZSB0cmVlcyBmcm9tXG5kaWZmZXJlbnQgbGFuZ3VhZ2VzIGluIG1peGVkLWxhbmd1YWdlIHBhcnNlcnMuXG4qL1xuTm9kZVByb3AubW91bnRlZCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vKipcbkEgbW91bnRlZCB0cmVlLCB3aGljaCBjYW4gYmUgW3N0b3JlZF0oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSBvblxuYSB0cmVlIG5vZGUgdG8gaW5kaWNhdGUgdGhhdCBwYXJ0cyBvZiBpdHMgY29udGVudCBhcmVcbnJlcHJlc2VudGVkIGJ5IGFub3RoZXIgdHJlZS5cbiovXG5jbGFzcyBNb3VudGVkVHJlZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGlubmVyIHRyZWUuXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBJZiB0aGlzIGlzIG51bGwsIHRoaXMgdHJlZSByZXBsYWNlcyB0aGUgZW50aXJlIG5vZGUgKGl0IHdpbGxcbiAgICBiZSBpbmNsdWRlZCBpbiB0aGUgcmVndWxhciBpdGVyYXRpb24gaW5zdGVhZCBvZiBpdHMgaG9zdFxuICAgIG5vZGUpLiBJZiBub3QsIG9ubHkgdGhlIGdpdmVuIHJhbmdlcyBhcmUgY29uc2lkZXJlZCB0byBiZVxuICAgIGNvdmVyZWQgYnkgdGhpcyB0cmVlLiBUaGlzIGlzIHVzZWQgZm9yIHRyZWVzIHRoYXQgYXJlIG1peGVkIGluXG4gICAgYSB3YXkgdGhhdCBpc24ndCBzdHJpY3RseSBoaWVyYXJjaGljYWwuIFN1Y2ggbW91bnRlZCB0cmVlcyBhcmVcbiAgICBvbmx5IGVudGVyZWQgYnkgW2ByZXNvbHZlSW5uZXJgXSgjY29tbW9uLlRyZWUucmVzb2x2ZUlubmVyKVxuICAgIGFuZCBbYGVudGVyYF0oI2NvbW1vbi5TeW50YXhOb2RlLmVudGVyKS5cbiAgICAqL1xuICAgIG92ZXJsYXksIFxuICAgIC8qKlxuICAgIFRoZSBwYXJzZXIgdXNlZCB0byBjcmVhdGUgdGhpcyBzdWJ0cmVlLlxuICAgICovXG4gICAgcGFyc2VyKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBnZXQodHJlZSkge1xuICAgICAgICByZXR1cm4gdHJlZSAmJiB0cmVlLnByb3BzICYmIHRyZWUucHJvcHNbTm9kZVByb3AubW91bnRlZC5pZF07XG4gICAgfVxufVxuY29uc3Qgbm9Qcm9wcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbkVhY2ggbm9kZSBpbiBhIHN5bnRheCB0cmVlIGhhcyBhIG5vZGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggaXQuXG4qL1xuY2xhc3MgTm9kZVR5cGUge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIG5hbWUgb2YgdGhlIG5vZGUgdHlwZS4gTm90IG5lY2Vzc2FyaWx5IHVuaXF1ZSwgYnV0IGlmIHRoZVxuICAgIGdyYW1tYXIgd2FzIHdyaXR0ZW4gcHJvcGVybHksIGRpZmZlcmVudCBub2RlIHR5cGVzIHdpdGggdGhlXG4gICAgc2FtZSBuYW1lIHdpdGhpbiBhIG5vZGUgc2V0IHNob3VsZCBwbGF5IHRoZSBzYW1lIHNlbWFudGljXG4gICAgcm9sZS5cbiAgICAqL1xuICAgIG5hbWUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcHJvcHMsIFxuICAgIC8qKlxuICAgIFRoZSBpZCBvZiB0aGlzIG5vZGUgaW4gaXRzIHNldC4gQ29ycmVzcG9uZHMgdG8gdGhlIHRlcm0gaWRzXG4gICAgdXNlZCBpbiB0aGUgcGFyc2VyLlxuICAgICovXG4gICAgaWQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmxhZ3MgPSAwKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5vZGUgdHlwZS5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgcHJvcHMgPSBzcGVjLnByb3BzICYmIHNwZWMucHJvcHMubGVuZ3RoID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG5vUHJvcHM7XG4gICAgICAgIGxldCBmbGFncyA9IChzcGVjLnRvcCA/IDEgLyogTm9kZUZsYWcuVG9wICovIDogMCkgfCAoc3BlYy5za2lwcGVkID8gMiAvKiBOb2RlRmxhZy5Ta2lwcGVkICovIDogMCkgfFxuICAgICAgICAgICAgKHNwZWMuZXJyb3IgPyA0IC8qIE5vZGVGbGFnLkVycm9yICovIDogMCkgfCAoc3BlYy5uYW1lID09IG51bGwgPyA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLyA6IDApO1xuICAgICAgICBsZXQgdHlwZSA9IG5ldyBOb2RlVHlwZShzcGVjLm5hbWUgfHwgXCJcIiwgcHJvcHMsIHNwZWMuaWQsIGZsYWdzKTtcbiAgICAgICAgaWYgKHNwZWMucHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBzcmMgb2Ygc3BlYy5wcm9wcykge1xuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzcmMpKVxuICAgICAgICAgICAgICAgICAgICBzcmMgPSBzcmModHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjWzBdLnBlck5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IHN0b3JlIGEgcGVyLW5vZGUgcHJvcCBvbiBhIG5vZGUgdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbc3JjWzBdLmlkXSA9IHNyY1sxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXRyaWV2ZXMgYSBub2RlIHByb3AgZm9yIHRoaXMgdHlwZS4gV2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgaWZcbiAgICB0aGUgcHJvcCBpc24ndCBwcmVzZW50IG9uIHRoaXMgbm9kZS5cbiAgICAqL1xuICAgIHByb3AocHJvcCkgeyByZXR1cm4gdGhpcy5wcm9wc1twcm9wLmlkXTsgfVxuICAgIC8qKlxuICAgIFRydWUgd2hlbiB0aGlzIGlzIHRoZSB0b3Agbm9kZSBvZiBhIGdyYW1tYXIuXG4gICAgKi9cbiAgICBnZXQgaXNUb3AoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDEgLyogTm9kZUZsYWcuVG9wICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyBub2RlIGlzIHByb2R1Y2VkIGJ5IGEgc2tpcCBydWxlLlxuICAgICovXG4gICAgZ2V0IGlzU2tpcHBlZCgpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgMiAvKiBOb2RlRmxhZy5Ta2lwcGVkICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGFuIGVycm9yIG5vZGUuXG4gICAgKi9cbiAgICBnZXQgaXNFcnJvcigpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgNCAvKiBOb2RlRmxhZy5FcnJvciAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgV2hlbiB0cnVlLCB0aGlzIG5vZGUgdHlwZSBkb2Vzbid0IGNvcnJlc3BvbmQgdG8gYSB1c2VyLWRlY2xhcmVkXG4gICAgbmFtZWQgbm9kZSwgZm9yIGV4YW1wbGUgYmVjYXVzZSBpdCBpcyB1c2VkIHRvIGNhY2hlIHJlcGV0aXRpb24uXG4gICAgKi9cbiAgICBnZXQgaXNBbm9ueW1vdXMoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGlzIG5vZGUncyBuYW1lIG9yIG9uZSBvZiBpdHNcbiAgICBbZ3JvdXBzXSgjY29tbW9uLk5vZGVQcm9wXmdyb3VwKSBtYXRjaGVzIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICBpcyhuYW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSA9PSBuYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5wcm9wKE5vZGVQcm9wLmdyb3VwKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cCA/IGdyb3VwLmluZGV4T2YobmFtZSkgPiAtMSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmlkID09IG5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGZ1bmN0aW9uIGZyb20gbm9kZSB0eXBlcyB0byBhcmJpdHJhcnkgdmFsdWVzIGJ5XG4gICAgc3BlY2lmeWluZyBhbiBvYmplY3Qgd2hvc2UgcHJvcGVydHkgbmFtZXMgYXJlIG5vZGUgb3JcbiAgICBbZ3JvdXBdKCNjb21tb24uTm9kZVByb3BeZ3JvdXApIG5hbWVzLiBPZnRlbiB1c2VmdWwgd2l0aFxuICAgIFtgTm9kZVByb3AuYWRkYF0oI2NvbW1vbi5Ob2RlUHJvcC5hZGQpLiBZb3UgY2FuIHB1dCBtdWx0aXBsZVxuICAgIG5hbWVzLCBzZXBhcmF0ZWQgYnkgc3BhY2VzLCBpbiBhIHNpbmdsZSBwcm9wZXJ0eSBuYW1lIHRvIG1hcFxuICAgIG11bHRpcGxlIG5vZGUgbmFtZXMgdG8gYSBzaW5nbGUgdmFsdWUuXG4gICAgKi9cbiAgICBzdGF0aWMgbWF0Y2gobWFwKSB7XG4gICAgICAgIGxldCBkaXJlY3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIG1hcClcbiAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgcHJvcC5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICAgICAgZGlyZWN0W25hbWVdID0gbWFwW3Byb3BdO1xuICAgICAgICByZXR1cm4gKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGdyb3VwcyA9IG5vZGUucHJvcChOb2RlUHJvcC5ncm91cCksIGkgPSAtMTsgaSA8IChncm91cHMgPyBncm91cHMubGVuZ3RoIDogMCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGRpcmVjdFtpIDwgMCA/IG5vZGUubmFtZSA6IGdyb3Vwc1tpXV07XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG5BbiBlbXB0eSBkdW1teSBub2RlIHR5cGUgdG8gdXNlIHdoZW4gbm8gYWN0dWFsIHR5cGUgaXMgYXZhaWxhYmxlLlxuKi9cbk5vZGVUeXBlLm5vbmUgPSBuZXcgTm9kZVR5cGUoXCJcIiwgT2JqZWN0LmNyZWF0ZShudWxsKSwgMCwgOCAvKiBOb2RlRmxhZy5Bbm9ueW1vdXMgKi8pO1xuLyoqXG5BIG5vZGUgc2V0IGhvbGRzIGEgY29sbGVjdGlvbiBvZiBub2RlIHR5cGVzLiBJdCBpcyB1c2VkIHRvXG5jb21wYWN0bHkgcmVwcmVzZW50IHRyZWVzIGJ5IHN0b3JpbmcgdGhlaXIgdHlwZSBpZHMsIHJhdGhlciB0aGFuIGFcbmZ1bGwgcG9pbnRlciB0byB0aGUgdHlwZSBvYmplY3QsIGluIGEgbnVtZXJpYyBhcnJheS4gRWFjaCBwYXJzZXJcbltoYXNdKCNsci5MUlBhcnNlci5ub2RlU2V0KSBhIG5vZGUgc2V0LCBhbmQgW3RyZWVcbmJ1ZmZlcnNdKCNjb21tb24uVHJlZUJ1ZmZlcikgY2FuIG9ubHkgc3RvcmUgY29sbGVjdGlvbnMgb2Ygbm9kZXNcbmZyb20gdGhlIHNhbWUgc2V0LiBBIHNldCBjYW4gaGF2ZSBhIG1heGltdW0gb2YgMioqMTYgKDY1NTM2KSBub2RlXG50eXBlcyBpbiBpdCwgc28gdGhhdCB0aGUgaWRzIGZpdCBpbnRvIDE2LWJpdCB0eXBlZCBhcnJheSBzbG90cy5cbiovXG5jbGFzcyBOb2RlU2V0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZXQgd2l0aCB0aGUgZ2l2ZW4gdHlwZXMuIFRoZSBgaWRgIHByb3BlcnR5IG9mIGVhY2hcbiAgICB0eXBlIHNob3VsZCBjb3JyZXNwb25kIHRvIGl0cyBwb3NpdGlvbiB3aXRoaW4gdGhlIGFycmF5LlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIG5vZGUgdHlwZXMgaW4gdGhpcyBzZXQsIGJ5IGlkLlxuICAgICovXG4gICAgdHlwZXMpIHtcbiAgICAgICAgdGhpcy50eXBlcyA9IHR5cGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKHR5cGVzW2ldLmlkICE9IGkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJOb2RlIHR5cGUgaWRzIHNob3VsZCBjb3JyZXNwb25kIHRvIGFycmF5IHBvc2l0aW9ucyB3aGVuIGNyZWF0aW5nIGEgbm9kZSBzZXRcIik7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBzZXQgd2l0aCBzb21lIG5vZGUgcHJvcGVydGllcyBhZGRlZC4gVGhlXG4gICAgYXJndW1lbnRzIHRvIHRoaXMgbWV0aG9kIGNhbiBiZSBjcmVhdGVkIHdpdGhcbiAgICBbYE5vZGVQcm9wLmFkZGBdKCNjb21tb24uTm9kZVByb3AuYWRkKS5cbiAgICAqL1xuICAgIGV4dGVuZCguLi5wcm9wcykge1xuICAgICAgICBsZXQgbmV3VHlwZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiB0aGlzLnR5cGVzKSB7XG4gICAgICAgICAgICBsZXQgbmV3UHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgc291cmNlIG9mIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IHNvdXJjZSh0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV3UHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHR5cGUucHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1thZGRbMF0uaWRdID0gYWRkWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1R5cGVzLnB1c2gobmV3UHJvcHMgPyBuZXcgTm9kZVR5cGUodHlwZS5uYW1lLCBuZXdQcm9wcywgdHlwZS5pZCwgdHlwZS5mbGFncykgOiB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE5vZGVTZXQobmV3VHlwZXMpO1xuICAgIH1cbn1cbmNvbnN0IENhY2hlZE5vZGUgPSBuZXcgV2Vha01hcCgpLCBDYWNoZWRJbm5lck5vZGUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG5PcHRpb25zIHRoYXQgY29udHJvbCBpdGVyYXRpb24uIENhbiBiZSBjb21iaW5lZCB3aXRoIHRoZSBgfGBcbm9wZXJhdG9yIHRvIGVuYWJsZSBtdWx0aXBsZSBvbmVzLlxuKi9cbnZhciBJdGVyTW9kZTtcbihmdW5jdGlvbiAoSXRlck1vZGUpIHtcbiAgICAvKipcbiAgICBXaGVuIGVuYWJsZWQsIGl0ZXJhdGlvbiB3aWxsIG9ubHkgdmlzaXQgW2BUcmVlYF0oI2NvbW1vbi5UcmVlKVxuICAgIG9iamVjdHMsIG5vdCBub2RlcyBwYWNrZWQgaW50b1xuICAgIFtgVHJlZUJ1ZmZlcmBdKCNjb21tb24uVHJlZUJ1ZmZlcilzLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJFeGNsdWRlQnVmZmVyc1wiXSA9IDFdID0gXCJFeGNsdWRlQnVmZmVyc1wiO1xuICAgIC8qKlxuICAgIEVuYWJsZSB0aGlzIHRvIG1ha2UgaXRlcmF0aW9uIGluY2x1ZGUgYW5vbnltb3VzIG5vZGVzIChzdWNoIGFzXG4gICAgdGhlIG5vZGVzIHRoYXQgd3JhcCByZXBlYXRlZCBncmFtbWFyIGNvbnN0cnVjdHMgaW50byBhIGJhbGFuY2VkXG4gICAgdHJlZSkuXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIkluY2x1ZGVBbm9ueW1vdXNcIl0gPSAyXSA9IFwiSW5jbHVkZUFub255bW91c1wiO1xuICAgIC8qKlxuICAgIEJ5IGRlZmF1bHQsIHJlZ3VsYXIgW21vdW50ZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgbm9kZXNcbiAgICByZXBsYWNlIHRoZWlyIGJhc2Ugbm9kZSBpbiBpdGVyYXRpb24uIEVuYWJsZSB0aGlzIHRvIGlnbm9yZSB0aGVtXG4gICAgaW5zdGVhZC5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiSWdub3JlTW91bnRzXCJdID0gNF0gPSBcIklnbm9yZU1vdW50c1wiO1xuICAgIC8qKlxuICAgIFRoaXMgb3B0aW9uIG9ubHkgYXBwbGllcyBpblxuICAgIFtgZW50ZXJgXSgjY29tbW9uLlN5bnRheE5vZGUuZW50ZXIpLXN0eWxlIG1ldGhvZHMuIEl0IHRlbGxzIHRoZVxuICAgIGxpYnJhcnkgdG8gbm90IGVudGVyIG1vdW50ZWQgb3ZlcmxheXMgaWYgb25lIGNvdmVycyB0aGUgZ2l2ZW5cbiAgICBwb3NpdGlvbi5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiSWdub3JlT3ZlcmxheXNcIl0gPSA4XSA9IFwiSWdub3JlT3ZlcmxheXNcIjtcbn0pKEl0ZXJNb2RlIHx8IChJdGVyTW9kZSA9IHt9KSk7XG4vKipcbkEgcGllY2Ugb2Ygc3ludGF4IHRyZWUuIFRoZXJlIGFyZSB0d28gd2F5cyB0byBhcHByb2FjaCB0aGVzZVxudHJlZXM6IHRoZSB3YXkgdGhleSBhcmUgYWN0dWFsbHkgc3RvcmVkIGluIG1lbW9yeSwgYW5kIHRoZVxuY29udmVuaWVudCB3YXkuXG5cblN5bnRheCB0cmVlcyBhcmUgc3RvcmVkIGFzIGEgdHJlZSBvZiBgVHJlZWAgYW5kIGBUcmVlQnVmZmVyYFxub2JqZWN0cy4gQnkgcGFja2luZyBkZXRhaWwgaW5mb3JtYXRpb24gaW50byBgVHJlZUJ1ZmZlcmAgbGVhZlxubm9kZXMsIHRoZSByZXByZXNlbnRhdGlvbiBpcyBtYWRlIGEgbG90IG1vcmUgbWVtb3J5LWVmZmljaWVudC5cblxuSG93ZXZlciwgd2hlbiB5b3Ugd2FudCB0byBhY3R1YWxseSB3b3JrIHdpdGggdHJlZSBub2RlcywgdGhpc1xucmVwcmVzZW50YXRpb24gaXMgdmVyeSBhd2t3YXJkLCBzbyBtb3N0IGNsaWVudCBjb2RlIHdpbGwgd2FudCB0b1xudXNlIHRoZSBbYFRyZWVDdXJzb3JgXSgjY29tbW9uLlRyZWVDdXJzb3IpIG9yXG5bYFN5bnRheE5vZGVgXSgjY29tbW9uLlN5bnRheE5vZGUpIGludGVyZmFjZSBpbnN0ZWFkLCB3aGljaCBwcm92aWRlc1xuYSB2aWV3IG9uIHNvbWUgcGFydCBvZiB0aGlzIGRhdGEgc3RydWN0dXJlLCBhbmQgY2FuIGJlIHVzZWQgdG9cbm1vdmUgYXJvdW5kIHRvIGFkamFjZW50IG5vZGVzLlxuKi9cbmNsYXNzIFRyZWUge1xuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIG5ldyB0cmVlLiBTZWUgYWxzbyBbYFRyZWUuYnVpbGRgXSgjY29tbW9uLlRyZWVeYnVpbGQpLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHR5cGUgb2YgdGhlIHRvcCBub2RlLlxuICAgICovXG4gICAgdHlwZSwgXG4gICAgLyoqXG4gICAgVGhpcyBub2RlJ3MgY2hpbGQgbm9kZXMuXG4gICAgKi9cbiAgICBjaGlsZHJlbiwgXG4gICAgLyoqXG4gICAgVGhlIHBvc2l0aW9ucyAob2Zmc2V0cyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhpcyB0cmVlKSBvZlxuICAgIHRoZSBjaGlsZHJlbi5cbiAgICAqL1xuICAgIHBvc2l0aW9ucywgXG4gICAgLyoqXG4gICAgVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGlzIHRyZWVcbiAgICAqL1xuICAgIGxlbmd0aCwgXG4gICAgLyoqXG4gICAgUGVyLW5vZGUgW25vZGUgcHJvcHNdKCNjb21tb24uTm9kZVByb3ApIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgbm9kZS5cbiAgICAqL1xuICAgIHByb3BzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucHJvcHMgPSBudWxsO1xuICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIGZvciAobGV0IFtwcm9wLCB2YWx1ZV0gb2YgcHJvcHMpXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wc1t0eXBlb2YgcHJvcCA9PSBcIm51bWJlclwiID8gcHJvcCA6IHByb3AuaWRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IG1vdW50ZWQgPSBNb3VudGVkVHJlZS5nZXQodGhpcyk7XG4gICAgICAgIGlmIChtb3VudGVkICYmICFtb3VudGVkLm92ZXJsYXkpXG4gICAgICAgICAgICByZXR1cm4gbW91bnRlZC50cmVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBzdHIgPSBjaC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gKz0gXCIsXCI7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gKz0gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhdGhpcy50eXBlLm5hbWUgPyBjaGlsZHJlbiA6XG4gICAgICAgICAgICAoL1xcVy8udGVzdCh0aGlzLnR5cGUubmFtZSkgJiYgIXRoaXMudHlwZS5pc0Vycm9yID8gSlNPTi5zdHJpbmdpZnkodGhpcy50eXBlLm5hbWUpIDogdGhpcy50eXBlLm5hbWUpICtcbiAgICAgICAgICAgICAgICAoY2hpbGRyZW4ubGVuZ3RoID8gXCIoXCIgKyBjaGlsZHJlbiArIFwiKVwiIDogXCJcIik7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFt0cmVlIGN1cnNvcl0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBwb3NpdGlvbmVkIGF0IHRoZSB0b3Agb2ZcbiAgICB0aGUgdHJlZS4gTW9kZSBjYW4gYmUgdXNlZCB0byBbY29udHJvbF0oI2NvbW1vbi5JdGVyTW9kZSkgd2hpY2hcbiAgICBub2RlcyB0aGUgY3Vyc29yIHZpc2l0cy5cbiAgICAqL1xuICAgIGN1cnNvcihtb2RlID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWVDdXJzb3IodGhpcy50b3BOb2RlLCBtb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3RyZWUgY3Vyc29yXSgjY29tbW9uLlRyZWVDdXJzb3IpIHBvaW50aW5nIGludG8gdGhpcyB0cmVlXG4gICAgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBzaWRlIChzZWVcbiAgICBbYG1vdmVUb2BdKCNjb21tb24uVHJlZUN1cnNvci5tb3ZlVG8pLlxuICAgICovXG4gICAgY3Vyc29yQXQocG9zLCBzaWRlID0gMCwgbW9kZSA9IDApIHtcbiAgICAgICAgbGV0IHNjb3BlID0gQ2FjaGVkTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlO1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFRyZWVDdXJzb3Ioc2NvcGUpO1xuICAgICAgICBjdXJzb3IubW92ZVRvKHBvcywgc2lkZSk7XG4gICAgICAgIENhY2hlZE5vZGUuc2V0KHRoaXMsIGN1cnNvci5fdHJlZSk7XG4gICAgICAgIHJldHVybiBjdXJzb3I7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFtzeW50YXggbm9kZV0oI2NvbW1vbi5TeW50YXhOb2RlKSBvYmplY3QgZm9yIHRoZSB0b3Agb2YgdGhlXG4gICAgdHJlZS5cbiAgICAqL1xuICAgIGdldCB0b3BOb2RlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKHRoaXMsIDAsIDAsIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIFtzeW50YXggbm9kZV0oI2NvbW1vbi5TeW50YXhOb2RlKSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgSWYgYHNpZGVgIGlzIC0xLCB0aGlzIHdpbGwgbW92ZSBpbnRvIG5vZGVzIHRoYXQgZW5kIGF0IHRoZVxuICAgIHBvc2l0aW9uLiBJZiAxLCBpdCdsbCBtb3ZlIGludG8gbm9kZXMgdGhhdCBzdGFydCBhdCB0aGVcbiAgICBwb3NpdGlvbi4gV2l0aCAwLCBpdCdsbCBvbmx5IGVudGVyIG5vZGVzIHRoYXQgY292ZXIgdGhlIHBvc2l0aW9uXG4gICAgZnJvbSBib3RoIHNpZGVzLlxuICAgIFxuICAgIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IGVudGVyXG4gICAgW292ZXJsYXlzXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpLCBhbmQgeW91IG9mdGVuIHdhbnRcbiAgICBbYHJlc29sdmVJbm5lcmBdKCNjb21tb24uVHJlZS5yZXNvbHZlSW5uZXIpIGluc3RlYWQuXG4gICAgKi9cbiAgICByZXNvbHZlKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgbGV0IG5vZGUgPSByZXNvbHZlTm9kZShDYWNoZWROb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGUsIHBvcywgc2lkZSwgZmFsc2UpO1xuICAgICAgICBDYWNoZWROb2RlLnNldCh0aGlzLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgIExpa2UgW2ByZXNvbHZlYF0oI2NvbW1vbi5UcmVlLnJlc29sdmUpLCBidXQgd2lsbCBlbnRlclxuICAgIFtvdmVybGFpZF0oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KSBub2RlcywgcHJvZHVjaW5nIGEgc3ludGF4IG5vZGVcbiAgICBwb2ludGluZyBpbnRvIHRoZSBpbm5lcm1vc3Qgb3ZlcmxhaWQgdHJlZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb25cbiAgICAod2l0aCBwYXJlbnQgbGlua3MgZ29pbmcgdGhyb3VnaCBhbGwgcGFyZW50IHN0cnVjdHVyZSwgaW5jbHVkaW5nXG4gICAgdGhlIGhvc3QgdHJlZXMpLlxuICAgICovXG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgbGV0IG5vZGUgPSByZXNvbHZlTm9kZShDYWNoZWRJbm5lck5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZSwgcG9zLCBzaWRlLCB0cnVlKTtcbiAgICAgICAgQ2FjaGVkSW5uZXJOb2RlLnNldCh0aGlzLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgIEluIHNvbWUgc2l0dWF0aW9ucywgaXQgY2FuIGJlIHVzZWZ1bCB0byBpdGVyYXRlIHRocm91Z2ggYWxsXG4gICAgbm9kZXMgYXJvdW5kIGEgcG9zaXRpb24sIGluY2x1ZGluZyB0aG9zZSBpbiBvdmVybGF5cyB0aGF0IGRvbid0XG4gICAgZGlyZWN0bHkgY292ZXIgdGhlIHBvc2l0aW9uLiBUaGlzIG1ldGhvZCBnaXZlcyB5b3UgYW4gaXRlcmF0b3JcbiAgICB0aGF0IHdpbGwgcHJvZHVjZSBhbGwgbm9kZXMsIGZyb20gc21hbGwgdG8gYmlnLCBhcm91bmQgdGhlIGdpdmVuXG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICByZXNvbHZlU3RhY2socG9zLCBzaWRlID0gMCkge1xuICAgICAgICByZXR1cm4gc3RhY2tJdGVyYXRvcih0aGlzLCBwb3MsIHNpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHRyZWUgYW5kIGl0cyBjaGlsZHJlbiwgY2FsbGluZyBgZW50ZXJgIGZvciBhbnlcbiAgICBub2RlIHRoYXQgdG91Y2hlcyB0aGUgYGZyb21gL2B0b2AgcmVnaW9uIChpZiBnaXZlbikgYmVmb3JlXG4gICAgcnVubmluZyBvdmVyIHN1Y2ggYSBub2RlJ3MgY2hpbGRyZW4sIGFuZCBgbGVhdmVgIChpZiBnaXZlbikgd2hlblxuICAgIGxlYXZpbmcgdGhlIG5vZGUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIHRoYXQgbm9kZSB3aWxsXG4gICAgbm90IGhhdmUgaXRzIGNoaWxkcmVuIGl0ZXJhdGVkIG92ZXIgKG9yIGBsZWF2ZWAgY2FsbGVkKS5cbiAgICAqL1xuICAgIGl0ZXJhdGUoc3BlYykge1xuICAgICAgICBsZXQgeyBlbnRlciwgbGVhdmUsIGZyb20gPSAwLCB0byA9IHRoaXMubGVuZ3RoIH0gPSBzcGVjO1xuICAgICAgICBsZXQgbW9kZSA9IHNwZWMubW9kZSB8fCAwLCBhbm9uID0gKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA+IDA7XG4gICAgICAgIGZvciAobGV0IGMgPSB0aGlzLmN1cnNvcihtb2RlIHwgSXRlck1vZGUuSW5jbHVkZUFub255bW91cyk7Oykge1xuICAgICAgICAgICAgbGV0IGVudGVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjLmZyb20gPD0gdG8gJiYgYy50byA+PSBmcm9tICYmICghYW5vbiAmJiBjLnR5cGUuaXNBbm9ueW1vdXMgfHwgZW50ZXIoYykgIT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIGlmIChjLmZpcnN0Q2hpbGQoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZW50ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudGVyZWQgJiYgbGVhdmUgJiYgKGFub24gfHwgIWMudHlwZS5pc0Fub255bW91cykpXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGMpO1xuICAgICAgICAgICAgICAgIGlmIChjLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghYy5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGVudGVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIFtub2RlIHByb3BdKCNjb21tb24uTm9kZVByb3ApIGZvciB0aGlzXG4gICAgbm9kZS4gV29ya3Mgd2l0aCBib3RoIHBlci1ub2RlIGFuZCBwZXItdHlwZSBwcm9wcy5cbiAgICAqL1xuICAgIHByb3AocHJvcCkge1xuICAgICAgICByZXR1cm4gIXByb3AucGVyTm9kZSA/IHRoaXMudHlwZS5wcm9wKHByb3ApIDogdGhpcy5wcm9wcyA/IHRoaXMucHJvcHNbcHJvcC5pZF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIG5vZGUncyBbcGVyLW5vZGUgcHJvcHNdKCNjb21tb24uTm9kZVByb3AucGVyTm9kZSkgaW4gYVxuICAgIGZvcm1hdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIFtgVHJlZWBdKCNjb21tb24uVHJlZSlcbiAgICBjb25zdHJ1Y3Rvci5cbiAgICAqL1xuICAgIGdldCBwcm9wVmFsdWVzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh0aGlzLnByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5wcm9wcylcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbK2lkLCB0aGlzLnByb3BzW2lkXV0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBCYWxhbmNlIHRoZSBkaXJlY3QgY2hpbGRyZW4gb2YgdGhpcyB0cmVlLCBwcm9kdWNpbmcgYSBjb3B5IG9mXG4gICAgd2hpY2ggbWF5IGhhdmUgY2hpbGRyZW4gZ3JvdXBlZCBpbnRvIHN1YnRyZWVzIHdpdGggdHlwZVxuICAgIFtgTm9kZVR5cGUubm9uZWBdKCNjb21tb24uTm9kZVR5cGVebm9uZSkuXG4gICAgKi9cbiAgICBiYWxhbmNlKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA8PSA4IC8qIEJhbGFuY2UuQnJhbmNoRmFjdG9yICovID8gdGhpcyA6XG4gICAgICAgICAgICBiYWxhbmNlUmFuZ2UoTm9kZVR5cGUubm9uZSwgdGhpcy5jaGlsZHJlbiwgdGhpcy5wb3NpdGlvbnMsIDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoLCAwLCB0aGlzLmxlbmd0aCwgKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkgPT4gbmV3IFRyZWUodGhpcy50eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIHRoaXMucHJvcFZhbHVlcyksIGNvbmZpZy5tYWtlVHJlZSB8fCAoKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkgPT4gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBCdWlsZCBhIHRyZWUgZnJvbSBhIHBvc3RmaXgtb3JkZXJlZCBidWZmZXIgb2Ygbm9kZSBpbmZvcm1hdGlvbixcbiAgICBvciBhIGN1cnNvciBvdmVyIHN1Y2ggYSBidWZmZXIuXG4gICAgKi9cbiAgICBzdGF0aWMgYnVpbGQoZGF0YSkgeyByZXR1cm4gYnVpbGRUcmVlKGRhdGEpOyB9XG59XG4vKipcblRoZSBlbXB0eSB0cmVlXG4qL1xuVHJlZS5lbXB0eSA9IG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIFtdLCBbXSwgMCk7XG5jbGFzcyBGbGF0QnVmZmVyQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihidWZmZXIsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgfVxuICAgIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSA0XTsgfVxuICAgIGdldCBzdGFydCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAzXTsgfVxuICAgIGdldCBlbmQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMl07IH1cbiAgICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAxXTsgfVxuICAgIGdldCBwb3MoKSB7IHJldHVybiB0aGlzLmluZGV4OyB9XG4gICAgbmV4dCgpIHsgdGhpcy5pbmRleCAtPSA0OyB9XG4gICAgZm9yaygpIHsgcmV0dXJuIG5ldyBGbGF0QnVmZmVyQ3Vyc29yKHRoaXMuYnVmZmVyLCB0aGlzLmluZGV4KTsgfVxufVxuLyoqXG5UcmVlIGJ1ZmZlcnMgY29udGFpbiAodHlwZSwgc3RhcnQsIGVuZCwgZW5kSW5kZXgpIHF1YWRzIGZvciBlYWNoXG5ub2RlLiBJbiBzdWNoIGEgYnVmZmVyLCBub2RlcyBhcmUgc3RvcmVkIGluIHByZWZpeCBvcmRlciAocGFyZW50c1xuYmVmb3JlIGNoaWxkcmVuLCB3aXRoIHRoZSBlbmRJbmRleCBvZiB0aGUgcGFyZW50IGluZGljYXRpbmcgd2hpY2hcbmNoaWxkcmVuIGJlbG9uZyB0byBpdCkuXG4qL1xuY2xhc3MgVHJlZUJ1ZmZlciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgdHJlZSBidWZmZXIuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgYnVmZmVyJ3MgY29udGVudC5cbiAgICAqL1xuICAgIGJ1ZmZlciwgXG4gICAgLyoqXG4gICAgVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGUgZ3JvdXAgb2Ygbm9kZXMgaW4gdGhlIGJ1ZmZlci5cbiAgICAqL1xuICAgIGxlbmd0aCwgXG4gICAgLyoqXG4gICAgVGhlIG5vZGUgc2V0IHVzZWQgaW4gdGhpcyBidWZmZXIuXG4gICAgKi9cbiAgICBzZXQpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnNldCA9IHNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIE5vZGVUeXBlLm5vbmU7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmJ1ZmZlci5sZW5ndGg7KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNoaWxkU3RyaW5nKGluZGV4KSk7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiLFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjaGlsZFN0cmluZyhpbmRleCkge1xuICAgICAgICBsZXQgaWQgPSB0aGlzLmJ1ZmZlcltpbmRleF0sIGVuZEluZGV4ID0gdGhpcy5idWZmZXJbaW5kZXggKyAzXTtcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLnNldC50eXBlc1tpZF0sIHJlc3VsdCA9IHR5cGUubmFtZTtcbiAgICAgICAgaWYgKC9cXFcvLnRlc3QocmVzdWx0KSAmJiAhdHlwZS5pc0Vycm9yKVxuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcbiAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgaWYgKGVuZEluZGV4ID09IGluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW107XG4gICAgICAgIHdoaWxlIChpbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRTdHJpbmcoaW5kZXgpKTtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5idWZmZXJbaW5kZXggKyAzXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgXCIoXCIgKyBjaGlsZHJlbi5qb2luKFwiLFwiKSArIFwiKVwiO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZpbmRDaGlsZChzdGFydEluZGV4LCBlbmRJbmRleCwgZGlyLCBwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLCBwaWNrID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpICE9IGVuZEluZGV4OyBpID0gYnVmZmVyW2kgKyAzXSkge1xuICAgICAgICAgICAgaWYgKGNoZWNrU2lkZShzaWRlLCBwb3MsIGJ1ZmZlcltpICsgMV0sIGJ1ZmZlcltpICsgMl0pKSB7XG4gICAgICAgICAgICAgICAgcGljayA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGRpciA+IDApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaWNrO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBsZXQgY29weSA9IG5ldyBVaW50MTZBcnJheShlbmRJIC0gc3RhcnRJKSwgbGVuID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SSwgaiA9IDA7IGkgPCBlbmRJOykge1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdO1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdIC0gZnJvbTtcbiAgICAgICAgICAgIGxldCB0byA9IGNvcHlbaisrXSA9IGJbaSsrXSAtIGZyb207XG4gICAgICAgICAgICBjb3B5W2orK10gPSBiW2krK10gLSBzdGFydEk7XG4gICAgICAgICAgICBsZW4gPSBNYXRoLm1heChsZW4sIHRvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWVCdWZmZXIoY29weSwgbGVuLCB0aGlzLnNldCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tTaWRlKHNpZGUsIHBvcywgZnJvbSwgdG8pIHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAtMiAvKiBTaWRlLkJlZm9yZSAqLzogcmV0dXJuIGZyb20gPCBwb3M7XG4gICAgICAgIGNhc2UgLTEgLyogU2lkZS5BdE9yQmVmb3JlICovOiByZXR1cm4gdG8gPj0gcG9zICYmIGZyb20gPCBwb3M7XG4gICAgICAgIGNhc2UgMCAvKiBTaWRlLkFyb3VuZCAqLzogcmV0dXJuIGZyb20gPCBwb3MgJiYgdG8gPiBwb3M7XG4gICAgICAgIGNhc2UgMSAvKiBTaWRlLkF0T3JBZnRlciAqLzogcmV0dXJuIGZyb20gPD0gcG9zICYmIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDIgLyogU2lkZS5BZnRlciAqLzogcmV0dXJuIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDQgLyogU2lkZS5Eb250Q2FyZSAqLzogcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU5vZGUobm9kZSwgcG9zLCBzaWRlLCBvdmVybGF5cykge1xuICAgIHZhciBfYTtcbiAgICAvLyBNb3ZlIHVwIHRvIGEgbm9kZSB0aGF0IGFjdHVhbGx5IGhvbGRzIHRoZSBwb3NpdGlvbiwgaWYgcG9zc2libGVcbiAgICB3aGlsZSAobm9kZS5mcm9tID09IG5vZGUudG8gfHxcbiAgICAgICAgKHNpZGUgPCAxID8gbm9kZS5mcm9tID49IHBvcyA6IG5vZGUuZnJvbSA+IHBvcykgfHxcbiAgICAgICAgKHNpZGUgPiAtMSA/IG5vZGUudG8gPD0gcG9zIDogbm9kZS50byA8IHBvcykpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9ICFvdmVybGF5cyAmJiBub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUgJiYgbm9kZS5pbmRleCA8IDAgPyBudWxsIDogbm9kZS5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgfVxuICAgIGxldCBtb2RlID0gb3ZlcmxheXMgPyAwIDogSXRlck1vZGUuSWdub3JlT3ZlcmxheXM7XG4gICAgLy8gTXVzdCBnbyB1cCBvdXQgb2Ygb3ZlcmxheXMgd2hlbiB0aG9zZSBkbyBub3Qgb3ZlcmxhcCB3aXRoIHBvc1xuICAgIGlmIChvdmVybGF5cylcbiAgICAgICAgZm9yIChsZXQgc2NhbiA9IG5vZGUsIHBhcmVudCA9IHNjYW4ucGFyZW50OyBwYXJlbnQ7IHNjYW4gPSBwYXJlbnQsIHBhcmVudCA9IHNjYW4ucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoc2NhbiBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIHNjYW4uaW5kZXggPCAwICYmICgoX2EgPSBwYXJlbnQuZW50ZXIocG9zLCBzaWRlLCBtb2RlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZyb20pICE9IHNjYW4uZnJvbSlcbiAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgICBsZXQgaW5uZXIgPSBub2RlLmVudGVyKHBvcywgc2lkZSwgbW9kZSk7XG4gICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgbm9kZSA9IGlubmVyO1xuICAgIH1cbn1cbmNsYXNzIEJhc2VOb2RlIHtcbiAgICBjdXJzb3IobW9kZSA9IDApIHsgcmV0dXJuIG5ldyBUcmVlQ3Vyc29yKHRoaXMsIG1vZGUpOyB9XG4gICAgZ2V0Q2hpbGQodHlwZSwgYmVmb3JlID0gbnVsbCwgYWZ0ZXIgPSBudWxsKSB7XG4gICAgICAgIGxldCByID0gZ2V0Q2hpbGRyZW4odGhpcywgdHlwZSwgYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIHJldHVybiByLmxlbmd0aCA/IHJbMF0gOiBudWxsO1xuICAgIH1cbiAgICBnZXRDaGlsZHJlbih0eXBlLCBiZWZvcmUgPSBudWxsLCBhZnRlciA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldENoaWxkcmVuKHRoaXMsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgIH1cbiAgICByZXNvbHZlKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXNvbHZlSW5uZXIocG9zLCBzaWRlID0gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZU5vZGUodGhpcywgcG9zLCBzaWRlLCB0cnVlKTtcbiAgICB9XG4gICAgbWF0Y2hDb250ZXh0KGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcywgY29udGV4dCk7XG4gICAgfVxuICAgIGVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcykge1xuICAgICAgICBsZXQgc2NhbiA9IHRoaXMuY2hpbGRCZWZvcmUocG9zKSwgbm9kZSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChzY2FuKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHNjYW4ubGFzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFsYXN0IHx8IGxhc3QudG8gIT0gc2Nhbi50bylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChsYXN0LnR5cGUuaXNFcnJvciAmJiBsYXN0LmZyb20gPT0gbGFzdC50bykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBzY2FuO1xuICAgICAgICAgICAgICAgIHNjYW4gPSBsYXN0LnByZXZTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NhbiA9IGxhc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGdldCBub2RlKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIGdldCBuZXh0KCkgeyByZXR1cm4gdGhpcy5wYXJlbnQ7IH1cbn1cbmNsYXNzIFRyZWVOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKF90cmVlLCBmcm9tLCBcbiAgICAvLyBJbmRleCBpbiBwYXJlbnQgbm9kZSwgc2V0IHRvIC0xIGlmIHRoZSBub2RlIGlzIG5vdCBhIGRpcmVjdCBjaGlsZCBvZiBfcGFyZW50Lm5vZGUgKG92ZXJsYXkpXG4gICAgaW5kZXgsIF9wYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJlZSA9IF90cmVlO1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gdGhpcy5fdHJlZS50eXBlOyB9XG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLl90cmVlLnR5cGUubmFtZTsgfVxuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMuX3RyZWUubGVuZ3RoOyB9XG4gICAgbmV4dENoaWxkKGksIGRpciwgcG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzOzspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHsgY2hpbGRyZW4sIHBvc2l0aW9ucyB9ID0gcGFyZW50Ll90cmVlLCBlID0gZGlyID4gMCA/IGNoaWxkcmVuLmxlbmd0aCA6IC0xOyBpICE9IGU7IGkgKz0gZGlyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBjaGlsZHJlbltpXSwgc3RhcnQgPSBwb3NpdGlvbnNbaV0gKyBwYXJlbnQuZnJvbTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrU2lkZShzaWRlLCBwb3MsIHN0YXJ0LCBzdGFydCArIG5leHQubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBUcmVlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gbmV4dC5maW5kQ2hpbGQoMCwgbmV4dC5idWZmZXIubGVuZ3RoLCBkaXIsIHBvcyAtIHN0YXJ0LCBzaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUobmV3IEJ1ZmZlckNvbnRleHQocGFyZW50LCBuZXh0LCBpLCBzdGFydCksIG51bGwsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAoIW5leHQudHlwZS5pc0Fub255bW91cyB8fCBoYXNDaGlsZChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vdW50ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG1vZGUgJiBJdGVyTW9kZS5JZ25vcmVNb3VudHMpICYmIChtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KG5leHQpKSAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZShtb3VudGVkLnRyZWUsIHN0YXJ0LCBpLCBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBuZXcgVHJlZU5vZGUobmV4dCwgc3RhcnQsIGksIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICFpbm5lci50eXBlLmlzQW5vbnltb3VzID8gaW5uZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5uZXIubmV4dENoaWxkKGRpciA8IDAgPyBuZXh0LmNoaWxkcmVuLmxlbmd0aCAtIDEgOiAwLCBkaXIsIHBvcywgc2lkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgIXBhcmVudC50eXBlLmlzQW5vbnltb3VzKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5pbmRleCA+PSAwKVxuICAgICAgICAgICAgICAgIGkgPSBwYXJlbnQuaW5kZXggKyBkaXI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fcGFyZW50Ll90cmVlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5fcGFyZW50O1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKHRoaXMuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQoMCwgMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgY2hpbGRCZWZvcmUocG9zKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCh0aGlzLl90cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCBwb3MsIC0yIC8qIFNpZGUuQmVmb3JlICovKTsgfVxuICAgIGVudGVyKHBvcywgc2lkZSwgbW9kZSA9IDApIHtcbiAgICAgICAgbGV0IG1vdW50ZWQ7XG4gICAgICAgIGlmICghKG1vZGUgJiBJdGVyTW9kZS5JZ25vcmVPdmVybGF5cykgJiYgKG1vdW50ZWQgPSBNb3VudGVkVHJlZS5nZXQodGhpcy5fdHJlZSkpICYmIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IHJQb3MgPSBwb3MgLSB0aGlzLmZyb207XG4gICAgICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKChzaWRlID4gMCA/IGZyb20gPD0gclBvcyA6IGZyb20gPCByUG9zKSAmJlxuICAgICAgICAgICAgICAgICAgICAoc2lkZSA8IDAgPyB0byA+PSByUG9zIDogdG8gPiByUG9zKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZShtb3VudGVkLnRyZWUsIG1vdW50ZWQub3ZlcmxheVswXS5mcm9tICsgdGhpcy5mcm9tLCAtMSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIHBvcywgc2lkZSwgbW9kZSk7XG4gICAgfVxuICAgIG5leHRTaWduaWZpY2FudFBhcmVudCgpIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXM7XG4gICAgICAgIHdoaWxlICh2YWwudHlwZS5pc0Fub255bW91cyAmJiB2YWwuX3BhcmVudClcbiAgICAgICAgICAgIHZhbCA9IHZhbC5fcGFyZW50O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50Lm5leHRTaWduaWZpY2FudFBhcmVudCgpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ICYmIHRoaXMuaW5kZXggPj0gMCA/IHRoaXMuX3BhcmVudC5uZXh0Q2hpbGQodGhpcy5pbmRleCArIDEsIDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgcHJldlNpYmxpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgJiYgdGhpcy5pbmRleCA+PSAwID8gdGhpcy5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLmluZGV4IC0gMSwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgdHJlZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWU7IH1cbiAgICB0b1RyZWUoKSB7IHJldHVybiB0aGlzLl90cmVlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuX3RyZWUudG9TdHJpbmcoKTsgfVxufVxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW4obm9kZSwgdHlwZSwgYmVmb3JlLCBhZnRlcikge1xuICAgIGxldCBjdXIgPSBub2RlLmN1cnNvcigpLCByZXN1bHQgPSBbXTtcbiAgICBpZiAoIWN1ci5maXJzdENoaWxkKCkpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKGJlZm9yZSAhPSBudWxsKVxuICAgICAgICBmb3IgKGxldCBmb3VuZCA9IGZhbHNlOyAhZm91bmQ7KSB7XG4gICAgICAgICAgICBmb3VuZCA9IGN1ci50eXBlLmlzKGJlZm9yZSk7XG4gICAgICAgICAgICBpZiAoIWN1ci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChhZnRlciAhPSBudWxsICYmIGN1ci50eXBlLmlzKGFmdGVyKSlcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGlmIChjdXIudHlwZS5pcyh0eXBlKSlcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1ci5ub2RlKTtcbiAgICAgICAgaWYgKCFjdXIubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgIHJldHVybiBhZnRlciA9PSBudWxsID8gcmVzdWx0IDogW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWF0Y2hOb2RlQ29udGV4dChub2RlLCBjb250ZXh0LCBpID0gY29udGV4dC5sZW5ndGggLSAxKSB7XG4gICAgZm9yIChsZXQgcCA9IG5vZGUucGFyZW50OyBpID49IDA7IHAgPSBwLnBhcmVudCkge1xuICAgICAgICBpZiAoIXApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcC50eXBlLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFtpXSAmJiBjb250ZXh0W2ldICE9IHAubmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5jbGFzcyBCdWZmZXJDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGJ1ZmZlciwgaW5kZXgsIHN0YXJ0KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgfVxufVxuY2xhc3MgQnVmZmVyTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgZ2V0IGZyb20oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMV07IH1cbiAgICBnZXQgdG8oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMl07IH1cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBfcGFyZW50LCBpbmRleCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMudHlwZSA9IGNvbnRleHQuYnVmZmVyLnNldC50eXBlc1tjb250ZXh0LmJ1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICB9XG4gICAgY2hpbGQoZGlyLCBwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBkaXIsIHBvcyAtIHRoaXMuY29udGV4dC5zdGFydCwgc2lkZSk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBpZiAobW9kZSAmIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgc2lkZSA+IDAgPyAxIDogLTEsIHBvcyAtIHRoaXMuY29udGV4dC5zdGFydCwgc2lkZSk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgfHwgdGhpcy5jb250ZXh0LnBhcmVudC5uZXh0U2lnbmlmaWNhbnRQYXJlbnQoKTtcbiAgICB9XG4gICAgZXh0ZXJuYWxTaWJsaW5nKGRpcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gbnVsbCA6IHRoaXMuY29udGV4dC5wYXJlbnQubmV4dENoaWxkKHRoaXMuY29udGV4dC5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pO1xuICAgIH1cbiAgICBnZXQgbmV4dFNpYmxpbmcoKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgYWZ0ZXIgPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXTtcbiAgICAgICAgaWYgKGFmdGVyIDwgKHRoaXMuX3BhcmVudCA/IGJ1ZmZlci5idWZmZXJbdGhpcy5fcGFyZW50LmluZGV4ICsgM10gOiBidWZmZXIuYnVmZmVyLmxlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLl9wYXJlbnQsIGFmdGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZXJuYWxTaWJsaW5nKDEpO1xuICAgIH1cbiAgICBnZXQgcHJldlNpYmxpbmcoKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgcGFyZW50U3RhcnQgPSB0aGlzLl9wYXJlbnQgPyB0aGlzLl9wYXJlbnQuaW5kZXggKyA0IDogMDtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gcGFyZW50U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlcm5hbFNpYmxpbmcoLTEpO1xuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLl9wYXJlbnQsIGJ1ZmZlci5maW5kQ2hpbGQocGFyZW50U3RhcnQsIHRoaXMuaW5kZXgsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKTtcbiAgICB9XG4gICAgZ2V0IHRyZWUoKSB7IHJldHVybiBudWxsOyB9XG4gICAgdG9UcmVlKCkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXSwgcG9zaXRpb25zID0gW107XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgc3RhcnRJID0gdGhpcy5pbmRleCArIDQsIGVuZEkgPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXTtcbiAgICAgICAgaWYgKGVuZEkgPiBzdGFydEkpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMV07XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGJ1ZmZlci5zbGljZShzdGFydEksIGVuZEksIGZyb20pKTtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0aGlzLnR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIHRoaXMudG8gLSB0aGlzLmZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0LmJ1ZmZlci5jaGlsZFN0cmluZyh0aGlzLmluZGV4KTsgfVxufVxuZnVuY3Rpb24gaXRlclN0YWNrKGhlYWRzKSB7XG4gICAgaWYgKCFoZWFkcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBwaWNrID0gMCwgcGlja2VkID0gaGVhZHNbMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBoZWFkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbm9kZSA9IGhlYWRzW2ldO1xuICAgICAgICBpZiAobm9kZS5mcm9tID4gcGlja2VkLmZyb20gfHwgbm9kZS50byA8IHBpY2tlZC50bykge1xuICAgICAgICAgICAgcGlja2VkID0gbm9kZTtcbiAgICAgICAgICAgIHBpY2sgPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBuZXh0ID0gcGlja2VkIGluc3RhbmNlb2YgVHJlZU5vZGUgJiYgcGlja2VkLmluZGV4IDwgMCA/IG51bGwgOiBwaWNrZWQucGFyZW50O1xuICAgIGxldCBuZXdIZWFkcyA9IGhlYWRzLnNsaWNlKCk7XG4gICAgaWYgKG5leHQpXG4gICAgICAgIG5ld0hlYWRzW3BpY2tdID0gbmV4dDtcbiAgICBlbHNlXG4gICAgICAgIG5ld0hlYWRzLnNwbGljZShwaWNrLCAxKTtcbiAgICByZXR1cm4gbmV3IFN0YWNrSXRlcmF0b3IobmV3SGVhZHMsIHBpY2tlZCk7XG59XG5jbGFzcyBTdGFja0l0ZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkcywgbm9kZSkge1xuICAgICAgICB0aGlzLmhlYWRzID0gaGVhZHM7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIGdldCBuZXh0KCkgeyByZXR1cm4gaXRlclN0YWNrKHRoaXMuaGVhZHMpOyB9XG59XG5mdW5jdGlvbiBzdGFja0l0ZXJhdG9yKHRyZWUsIHBvcywgc2lkZSkge1xuICAgIGxldCBpbm5lciA9IHRyZWUucmVzb2x2ZUlubmVyKHBvcywgc2lkZSksIGxheWVycyA9IG51bGw7XG4gICAgZm9yIChsZXQgc2NhbiA9IGlubmVyIGluc3RhbmNlb2YgVHJlZU5vZGUgPyBpbm5lciA6IGlubmVyLmNvbnRleHQucGFyZW50OyBzY2FuOyBzY2FuID0gc2Nhbi5wYXJlbnQpIHtcbiAgICAgICAgaWYgKHNjYW4uaW5kZXggPCAwKSB7IC8vIFRoaXMgaXMgYW4gb3ZlcmxheSByb290XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gc2Nhbi5wYXJlbnQ7XG4gICAgICAgICAgICAobGF5ZXJzIHx8IChsYXllcnMgPSBbaW5uZXJdKSkucHVzaChwYXJlbnQucmVzb2x2ZShwb3MsIHNpZGUpKTtcbiAgICAgICAgICAgIHNjYW4gPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbW91bnQgPSBNb3VudGVkVHJlZS5nZXQoc2Nhbi50cmVlKTtcbiAgICAgICAgICAgIC8vIFJlbGV2YW50IG92ZXJsYXkgYnJhbmNoaW5nIG9mZlxuICAgICAgICAgICAgaWYgKG1vdW50ICYmIG1vdW50Lm92ZXJsYXkgJiYgbW91bnQub3ZlcmxheVswXS5mcm9tIDw9IHBvcyAmJiBtb3VudC5vdmVybGF5W21vdW50Lm92ZXJsYXkubGVuZ3RoIC0gMV0udG8gPj0gcG9zKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJvb3QgPSBuZXcgVHJlZU5vZGUobW91bnQudHJlZSwgbW91bnQub3ZlcmxheVswXS5mcm9tICsgc2Nhbi5mcm9tLCAtMSwgc2Nhbik7XG4gICAgICAgICAgICAgICAgKGxheWVycyB8fCAobGF5ZXJzID0gW2lubmVyXSkpLnB1c2gocmVzb2x2ZU5vZGUocm9vdCwgcG9zLCBzaWRlLCBmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsYXllcnMgPyBpdGVyU3RhY2sobGF5ZXJzKSA6IGlubmVyO1xufVxuLyoqXG5BIHRyZWUgY3Vyc29yIG9iamVjdCBmb2N1c2VzIG9uIGEgZ2l2ZW4gbm9kZSBpbiBhIHN5bnRheCB0cmVlLCBhbmRcbmFsbG93cyB5b3UgdG8gbW92ZSB0byBhZGphY2VudCBub2Rlcy5cbiovXG5jbGFzcyBUcmVlQ3Vyc29yIHtcbiAgICAvKipcbiAgICBTaG9ydGhhbmQgZm9yIGAudHlwZS5uYW1lYC5cbiAgICAqL1xuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy50eXBlLm5hbWU7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5vZGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbW9kZSA9IDApIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWZmZXJOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSkge1xuICAgICAgICAgICAgdGhpcy55aWVsZE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlID0gbm9kZS5jb250ZXh0LnBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbm9kZS5jb250ZXh0O1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IG5vZGUuX3BhcmVudDsgbjsgbiA9IG4uX3BhcmVudClcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnVuc2hpZnQobi5pbmRleCk7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlck5vZGUgPSBub2RlO1xuICAgICAgICAgICAgdGhpcy55aWVsZEJ1Zihub2RlLmluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB5aWVsZE5vZGUobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RyZWUgPSBub2RlO1xuICAgICAgICB0aGlzLnR5cGUgPSBub2RlLnR5cGU7XG4gICAgICAgIHRoaXMuZnJvbSA9IG5vZGUuZnJvbTtcbiAgICAgICAgdGhpcy50byA9IG5vZGUudG87XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB5aWVsZEJ1ZihpbmRleCwgdHlwZSkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGxldCB7IHN0YXJ0LCBidWZmZXIgfSA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IGJ1ZmZlci5zZXQudHlwZXNbYnVmZmVyLmJ1ZmZlcltpbmRleF1dO1xuICAgICAgICB0aGlzLmZyb20gPSBzdGFydCArIGJ1ZmZlci5idWZmZXJbaW5kZXggKyAxXTtcbiAgICAgICAgdGhpcy50byA9IHN0YXJ0ICsgYnVmZmVyLmJ1ZmZlcltpbmRleCArIDJdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB5aWVsZChub2RlKSB7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbm9kZS5jb250ZXh0O1xuICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1Zihub2RlLmluZGV4LCBub2RlLnR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIgPyB0aGlzLmJ1ZmZlci5idWZmZXIuY2hpbGRTdHJpbmcodGhpcy5pbmRleCkgOiB0aGlzLl90cmVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZW50ZXJDaGlsZChkaXIsIHBvcywgc2lkZSkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGQodGhpcy5fdHJlZS5uZXh0Q2hpbGQoZGlyIDwgMCA/IHRoaXMuX3RyZWUuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDAsIGRpciwgcG9zLCBzaWRlLCB0aGlzLm1vZGUpKTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIGRpciwgcG9zIC0gdGhpcy5idWZmZXIuc3RhcnQsIHNpZGUpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5pbmRleCk7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoaXMgbm9kZSdzIGZpcnN0IGNoaWxkLiBXaGVuIHRoaXMgcmV0dXJuc1xuICAgIGZhbHNlLCB0aGUgbm9kZSBoYXMgbm8gY2hpbGQsIGFuZCB0aGUgY3Vyc29yIGhhcyBub3QgYmVlbiBtb3ZlZC5cbiAgICAqL1xuICAgIGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdGhlIGN1cnNvciB0byB0aGlzIG5vZGUncyBsYXN0IGNoaWxkLlxuICAgICovXG4gICAgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5lbnRlckNoaWxkKC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBmaXJzdCBjaGlsZCB0aGF0IGVuZHMgYWZ0ZXIgYHBvc2AuXG4gICAgKi9cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5lbnRlckNoaWxkKDEsIHBvcywgMiAvKiBTaWRlLkFmdGVyICovKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIGxhc3QgY2hpbGQgdGhhdCBzdGFydHMgYmVmb3JlIGBwb3NgLlxuICAgICovXG4gICAgY2hpbGRCZWZvcmUocG9zKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBjaGlsZCBhcm91bmQgYHBvc2AuIElmIHNpZGUgaXMgLTEgdGhlXG4gICAgY2hpbGQgbWF5IGVuZCBhdCB0aGF0IHBvc2l0aW9uLCB3aGVuIDEgaXQgbWF5IHN0YXJ0IHRoZXJlLiBUaGlzXG4gICAgd2lsbCBhbHNvIGVudGVyIFtvdmVybGFpZF0oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KVxuICAgIFttb3VudGVkXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIHRyZWVzIHVubGVzcyBgb3ZlcmxheXNgIGlzXG4gICAgc2V0IHRvIGZhbHNlLlxuICAgICovXG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gdGhpcy5tb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZCh0aGlzLl90cmVlLmVudGVyKHBvcywgc2lkZSwgbW9kZSkpO1xuICAgICAgICByZXR1cm4gbW9kZSAmIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzID8gZmFsc2UgOiB0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbm9kZSdzIHBhcmVudCBub2RlLCBpZiB0aGlzIGlzbid0IHRoZSB0b3Agbm9kZS5cbiAgICAqL1xuICAgIHBhcmVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkTm9kZSgodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPyB0aGlzLl90cmVlLl9wYXJlbnQgOiB0aGlzLl90cmVlLnBhcmVudCk7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKHRoaXMuc3RhY2sucG9wKCkpO1xuICAgICAgICBsZXQgcGFyZW50ID0gKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpID8gdGhpcy5idWZmZXIucGFyZW50IDogdGhpcy5idWZmZXIucGFyZW50Lm5leHRTaWduaWZpY2FudFBhcmVudCgpO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkTm9kZShwYXJlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNpYmxpbmcoZGlyKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX3RyZWUuX3BhcmVudCA/IGZhbHNlXG4gICAgICAgICAgICAgICAgOiB0aGlzLnlpZWxkKHRoaXMuX3RyZWUuaW5kZXggPCAwID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX3RyZWUuX3BhcmVudC5uZXh0Q2hpbGQodGhpcy5fdHJlZS5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8sIHRoaXMubW9kZSkpO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuYnVmZmVyLCBkID0gdGhpcy5zdGFjay5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoZGlyIDwgMCkge1xuICAgICAgICAgICAgbGV0IHBhcmVudFN0YXJ0ID0gZCA8IDAgPyAwIDogdGhpcy5zdGFja1tkXSArIDQ7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCAhPSBwYXJlbnRTdGFydClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1ZihidWZmZXIuZmluZENoaWxkKHBhcmVudFN0YXJ0LCB0aGlzLmluZGV4LCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYWZ0ZXIgPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXTtcbiAgICAgICAgICAgIGlmIChhZnRlciA8IChkIDwgMCA/IGJ1ZmZlci5idWZmZXIubGVuZ3RoIDogYnVmZmVyLmJ1ZmZlclt0aGlzLnN0YWNrW2RdICsgM10pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGFmdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZCA8IDAgPyB0aGlzLnlpZWxkKHRoaXMuYnVmZmVyLnBhcmVudC5uZXh0Q2hpbGQodGhpcy5idWZmZXIuaW5kZXggKyBkaXIsIGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovLCB0aGlzLm1vZGUpKSA6IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoaXMgbm9kZSdzIG5leHQgc2libGluZywgaWYgYW55LlxuICAgICovXG4gICAgbmV4dFNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoMSk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoaXMgbm9kZSdzIHByZXZpb3VzIHNpYmxpbmcsIGlmIGFueS5cbiAgICAqL1xuICAgIHByZXZTaWJsaW5nKCkgeyByZXR1cm4gdGhpcy5zaWJsaW5nKC0xKTsgfVxuICAgIGF0TGFzdE5vZGUoZGlyKSB7XG4gICAgICAgIGxldCBpbmRleCwgcGFyZW50LCB7IGJ1ZmZlciB9ID0gdGhpcztcbiAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbmRleCA8IGJ1ZmZlci5idWZmZXIuYnVmZmVyLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGV4OyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuYnVmZmVyLmJ1ZmZlcltpICsgM10gPCB0aGlzLmluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHsgaW5kZXgsIHBhcmVudCB9ID0gYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICh7IGluZGV4LCBfcGFyZW50OiBwYXJlbnQgfSA9IHRoaXMuX3RyZWUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBwYXJlbnQ7IHsgaW5kZXgsIF9wYXJlbnQ6IHBhcmVudCB9ID0gcGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXggKyBkaXIsIGUgPSBkaXIgPCAwID8gLTEgOiBwYXJlbnQuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpICE9IGU7IGkgKz0gZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IHBhcmVudC5fdHJlZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhY2hpbGQudHlwZS5pc0Fub255bW91cyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hpbGQoY2hpbGQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbW92ZShkaXIsIGVudGVyKSB7XG4gICAgICAgIGlmIChlbnRlciAmJiB0aGlzLmVudGVyQ2hpbGQoZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNpYmxpbmcoZGlyKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmF0TGFzdE5vZGUoZGlyKSB8fCAhdGhpcy5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBub2RlIGluIGFcbiAgICBbcHJlLW9yZGVyXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9UcmVlX3RyYXZlcnNhbCNQcmUtb3JkZXIsX05MUilcbiAgICB0cmF2ZXJzYWwsIGdvaW5nIGZyb20gYSBub2RlIHRvIGl0cyBmaXJzdCBjaGlsZCBvciwgaWYgdGhlXG4gICAgY3VycmVudCBub2RlIGlzIGVtcHR5IG9yIGBlbnRlcmAgaXMgZmFsc2UsIGl0cyBuZXh0IHNpYmxpbmcgb3JcbiAgICB0aGUgbmV4dCBzaWJsaW5nIG9mIHRoZSBmaXJzdCBwYXJlbnQgbm9kZSB0aGF0IGhhcyBvbmUuXG4gICAgKi9cbiAgICBuZXh0KGVudGVyID0gdHJ1ZSkgeyByZXR1cm4gdGhpcy5tb3ZlKDEsIGVudGVyKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIG5leHQgbm9kZSBpbiBhIGxhc3QtdG8tZmlyc3QgcHJlLW9yZGVyIHRyYXZlcmFsLiBBXG4gICAgbm9kZSBpcyBmb2xsb3dlZCBieSBpdHMgbGFzdCBjaGlsZCBvciwgaWYgaXQgaGFzIG5vbmUsIGl0c1xuICAgIHByZXZpb3VzIHNpYmxpbmcgb3IgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudFxuICAgIG5vZGUgdGhhdCBoYXMgb25lLlxuICAgICovXG4gICAgcHJldihlbnRlciA9IHRydWUpIHsgcmV0dXJuIHRoaXMubW92ZSgtMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBpbm5lcm1vc3Qgbm9kZSB0aGF0IGNvdmVycyBgcG9zYC4gSWZcbiAgICBgc2lkZWAgaXMgLTEsIGl0IHdpbGwgZW50ZXIgbm9kZXMgdGhhdCBlbmQgYXQgYHBvc2AuIElmIGl0IGlzIDEsXG4gICAgaXQgd2lsbCBlbnRlciBub2RlcyB0aGF0IHN0YXJ0IGF0IGBwb3NgLlxuICAgICovXG4gICAgbW92ZVRvKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmZyb20gPT0gdGhpcy50byB8fFxuICAgICAgICAgICAgKHNpZGUgPCAxID8gdGhpcy5mcm9tID49IHBvcyA6IHRoaXMuZnJvbSA+IHBvcykgfHxcbiAgICAgICAgICAgIChzaWRlID4gLTEgPyB0aGlzLnRvIDw9IHBvcyA6IHRoaXMudG8gPCBwb3MpKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBUaGVuIHNjYW4gZG93biBpbnRvIGNoaWxkIG5vZGVzIGFzIGZhciBhcyBwb3NzaWJsZVxuICAgICAgICB3aGlsZSAodGhpcy5lbnRlckNoaWxkKDEsIHBvcywgc2lkZSkpIHsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIGF0IHRoZSBjdXJzb3IncyBjdXJyZW50XG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmVlO1xuICAgICAgICBsZXQgY2FjaGUgPSB0aGlzLmJ1ZmZlck5vZGUsIHJlc3VsdCA9IG51bGwsIGRlcHRoID0gMDtcbiAgICAgICAgaWYgKGNhY2hlICYmIGNhY2hlLmNvbnRleHQgPT0gdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIHNjYW46IGZvciAobGV0IGluZGV4ID0gdGhpcy5pbmRleCwgZCA9IHRoaXMuc3RhY2subGVuZ3RoOyBkID49IDA7KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IGNhY2hlOyBjOyBjID0gYy5fcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5pbmRleCA9PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGggPSBkICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuc3RhY2tbLS1kXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gZGVwdGg7IGkgPCB0aGlzLnN0YWNrLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJ1ZmZlck5vZGUodGhpcy5idWZmZXIsIHJlc3VsdCwgdGhpcy5zdGFja1tpXSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlck5vZGUgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLmluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbdHJlZV0oI2NvbW1vbi5UcmVlKSB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgbm9kZSwgaWZcbiAgICBhbnkuIFdpbGwgcmV0dXJuIG51bGwgd2hlbiB0aGUgbm9kZSBpcyBpbiBhIFt0cmVlXG4gICAgYnVmZmVyXSgjY29tbW9uLlRyZWVCdWZmZXIpLlxuICAgICovXG4gICAgZ2V0IHRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IG51bGwgOiB0aGlzLl90cmVlLl90cmVlO1xuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIGN1cnJlbnQgbm9kZSBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cywgY2FsbGluZ1xuICAgIGBlbnRlcmAgd2hlbiBlbnRlcmluZyBhIG5vZGUgYW5kIGBsZWF2ZWAsIGlmIGdpdmVuLCB3aGVuIGxlYXZpbmdcbiAgICBvbmUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIGFueSBjaGlsZHJlbiBvZiB0aGF0IG5vZGUgYXJlXG4gICAgc2tpcHBlZCwgYW5kIGBsZWF2ZWAgaXNuJ3QgY2FsbGVkIGZvciBpdC5cbiAgICAqL1xuICAgIGl0ZXJhdGUoZW50ZXIsIGxlYXZlKSB7XG4gICAgICAgIGZvciAobGV0IGRlcHRoID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbXVzdExlYXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKHRoaXMpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgICAgIG11c3RMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11c3RMZWF2ZSAmJiBsZWF2ZSlcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdGhpcy50eXBlLmlzQW5vbnltb3VzO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghZGVwdGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBtYXRjaGVzIGEgZ2l2ZW4gY29udGV4dOKAlGEgc2VxdWVuY2VcbiAgICBvZiBkaXJlY3QgcGFyZW50IG5vZGUgbmFtZXMuIEVtcHR5IHN0cmluZ3MgaW4gdGhlIGNvbnRleHQgYXJyYXlcbiAgICBhcmUgdHJlYXRlZCBhcyB3aWxkY2FyZHMuXG4gICAgKi9cbiAgICBtYXRjaENvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5ub2RlLCBjb250ZXh0KTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlciwgeyB0eXBlcyB9ID0gYnVmZmVyLnNldDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbnRleHQubGVuZ3RoIC0gMSwgZCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBkLS0pIHtcbiAgICAgICAgICAgIGlmIChkIDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLm5vZGUsIGNvbnRleHQsIGkpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tidWZmZXIuYnVmZmVyW3RoaXMuc3RhY2tbZF1dXTtcbiAgICAgICAgICAgIGlmICghdHlwZS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0W2ldICYmIGNvbnRleHRbaV0gIT0gdHlwZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0NoaWxkKHRyZWUpIHtcbiAgICByZXR1cm4gdHJlZS5jaGlsZHJlbi5zb21lKGNoID0+IGNoIGluc3RhbmNlb2YgVHJlZUJ1ZmZlciB8fCAhY2gudHlwZS5pc0Fub255bW91cyB8fCBoYXNDaGlsZChjaCkpO1xufVxuZnVuY3Rpb24gYnVpbGRUcmVlKGRhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHsgYnVmZmVyLCBub2RlU2V0LCBtYXhCdWZmZXJMZW5ndGggPSBEZWZhdWx0QnVmZmVyTGVuZ3RoLCByZXVzZWQgPSBbXSwgbWluUmVwZWF0VHlwZSA9IG5vZGVTZXQudHlwZXMubGVuZ3RoIH0gPSBkYXRhO1xuICAgIGxldCBjdXJzb3IgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBuZXcgRmxhdEJ1ZmZlckN1cnNvcihidWZmZXIsIGJ1ZmZlci5sZW5ndGgpIDogYnVmZmVyO1xuICAgIGxldCB0eXBlcyA9IG5vZGVTZXQudHlwZXM7XG4gICAgbGV0IGNvbnRleHRIYXNoID0gMCwgbG9va0FoZWFkID0gMDtcbiAgICBmdW5jdGlvbiB0YWtlTm9kZShwYXJlbnRTdGFydCwgbWluUG9zLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpblJlcGVhdCwgZGVwdGgpIHtcbiAgICAgICAgbGV0IHsgaWQsIHN0YXJ0LCBlbmQsIHNpemUgfSA9IGN1cnNvcjtcbiAgICAgICAgbGV0IGxvb2tBaGVhZEF0U3RhcnQgPSBsb29rQWhlYWQ7XG4gICAgICAgIHdoaWxlIChzaXplIDwgMCkge1xuICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChzaXplID09IC0xIC8qIFNwZWNpYWxSZWNvcmQuUmV1c2UgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHJldXNlZFtpZF07XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydCAtIHBhcmVudFN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaXplID09IC0zIC8qIFNwZWNpYWxSZWNvcmQuQ29udGV4dENoYW5nZSAqLykgeyAvLyBDb250ZXh0IGNoYW5nZVxuICAgICAgICAgICAgICAgIGNvbnRleHRIYXNoID0gaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtNCAvKiBTcGVjaWFsUmVjb3JkLkxvb2tBaGVhZCAqLykge1xuICAgICAgICAgICAgICAgIGxvb2tBaGVhZCA9IGlkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBVbnJlY29nbml6ZWQgcmVjb3JkIHNpemU6ICR7c2l6ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2lkXSwgbm9kZSwgYnVmZmVyO1xuICAgICAgICBsZXQgc3RhcnRQb3MgPSBzdGFydCAtIHBhcmVudFN0YXJ0O1xuICAgICAgICBpZiAoZW5kIC0gc3RhcnQgPD0gbWF4QnVmZmVyTGVuZ3RoICYmIChidWZmZXIgPSBmaW5kQnVmZmVyU2l6ZShjdXJzb3IucG9zIC0gbWluUG9zLCBpblJlcGVhdCkpKSB7XG4gICAgICAgICAgICAvLyBTbWFsbCBlbm91Z2ggZm9yIGEgYnVmZmVyLCBhbmQgbm8gcmV1c2VkIG5vZGVzIGluc2lkZVxuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyLnNpemUgLSBidWZmZXIuc2tpcCk7XG4gICAgICAgICAgICBsZXQgZW5kUG9zID0gY3Vyc29yLnBvcyAtIGJ1ZmZlci5zaXplLCBpbmRleCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpXG4gICAgICAgICAgICAgICAgaW5kZXggPSBjb3B5VG9CdWZmZXIoYnVmZmVyLnN0YXJ0LCBkYXRhLCBpbmRleCk7XG4gICAgICAgICAgICBub2RlID0gbmV3IFRyZWVCdWZmZXIoZGF0YSwgZW5kIC0gYnVmZmVyLnN0YXJ0LCBub2RlU2V0KTtcbiAgICAgICAgICAgIHN0YXJ0UG9zID0gYnVmZmVyLnN0YXJ0IC0gcGFyZW50U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIE1ha2UgaXQgYSBub2RlXG4gICAgICAgICAgICBsZXQgZW5kUG9zID0gY3Vyc29yLnBvcyAtIHNpemU7XG4gICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgbGV0IGxvY2FsQ2hpbGRyZW4gPSBbXSwgbG9jYWxQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGxldCBsb2NhbEluUmVwZWF0ID0gaWQgPj0gbWluUmVwZWF0VHlwZSA/IGlkIDogLTE7XG4gICAgICAgICAgICBsZXQgbGFzdEdyb3VwID0gMCwgbGFzdEVuZCA9IGVuZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJzb3IucG9zID4gZW5kUG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsSW5SZXBlYXQgPj0gMCAmJiBjdXJzb3IuaWQgPT0gbG9jYWxJblJlcGVhdCAmJiBjdXJzb3Iuc2l6ZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IuZW5kIDw9IGxhc3RFbmQgLSBtYXhCdWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VSZXBlYXRMZWFmKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBzdGFydCwgbGFzdEdyb3VwLCBjdXJzb3IuZW5kLCBsYXN0RW5kLCBsb2NhbEluUmVwZWF0LCBsb29rQWhlYWRBdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHcm91cCA9IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVuZCA9IGN1cnNvci5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGggPiAyNTAwIC8qIEN1dE9mZi5EZXB0aCAqLykge1xuICAgICAgICAgICAgICAgICAgICB0YWtlRmxhdE5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFrZU5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxvY2FsSW5SZXBlYXQsIGRlcHRoICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvY2FsSW5SZXBlYXQgPj0gMCAmJiBsYXN0R3JvdXAgPiAwICYmIGxhc3RHcm91cCA8IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIG1ha2VSZXBlYXRMZWFmKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBzdGFydCwgbGFzdEdyb3VwLCBzdGFydCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCk7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID4gLTEgJiYgbGFzdEdyb3VwID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBtYWtlID0gbWFrZUJhbGFuY2VkKHR5cGUpO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBiYWxhbmNlUmFuZ2UodHlwZSwgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIDAsIGxvY2FsQ2hpbGRyZW4ubGVuZ3RoLCAwLCBlbmQgLSBzdGFydCwgbWFrZSwgbWFrZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbWFrZVRyZWUodHlwZSwgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGVuZCAtIHN0YXJ0LCBsb29rQWhlYWRBdFN0YXJ0IC0gZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydFBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VGbGF0Tm9kZShwYXJlbnRTdGFydCwgbWluUG9zLCBjaGlsZHJlbiwgcG9zaXRpb25zKSB7XG4gICAgICAgIGxldCBub2RlcyA9IFtdOyAvLyBUZW1wb3JhcnksIGludmVydGVkIGFycmF5IG9mIGxlYWYgbm9kZXMgZm91bmQsIHdpdGggYWJzb2x1dGUgcG9zaXRpb25zXG4gICAgICAgIGxldCBub2RlQ291bnQgPSAwLCBzdG9wQXQgPSAtMTtcbiAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBtaW5Qb3MpIHtcbiAgICAgICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHsgLy8gTm90IGEgbGVhZlxuICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdG9wQXQgPiAtMSAmJiBzdGFydCA8IHN0b3BBdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BBdCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCA9IGVuZCAtIG1heEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGlkLCBzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBub2RlQ291bnQrKztcbiAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlQ291bnQpIHtcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkobm9kZUNvdW50ICogNCk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5sZW5ndGggLSAzLCBqID0gMDsgaSA+PSAwOyBpIC09IDMpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltqKytdID0gbm9kZXNbaSArIDFdIC0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyW2orK10gPSBub2Rlc1tpICsgMl0gLSBzdGFydDtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IGo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5ldyBUcmVlQnVmZmVyKGJ1ZmZlciwgbm9kZXNbMl0gLSBzdGFydCwgbm9kZVNldCkpO1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnQgLSBwYXJlbnRTdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUJhbGFuY2VkKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IHtcbiAgICAgICAgICAgIGxldCBsb29rQWhlYWQgPSAwLCBsYXN0SSA9IGNoaWxkcmVuLmxlbmd0aCAtIDEsIGxhc3QsIGxvb2tBaGVhZFByb3A7XG4gICAgICAgICAgICBpZiAobGFzdEkgPj0gMCAmJiAobGFzdCA9IGNoaWxkcmVuW2xhc3RJXSkgaW5zdGFuY2VvZiBUcmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0SSAmJiBsYXN0LnR5cGUgPT0gdHlwZSAmJiBsYXN0Lmxlbmd0aCA9PSBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0O1xuICAgICAgICAgICAgICAgIGlmIChsb29rQWhlYWRQcm9wID0gbGFzdC5wcm9wKE5vZGVQcm9wLmxvb2tBaGVhZCkpXG4gICAgICAgICAgICAgICAgICAgIGxvb2tBaGVhZCA9IHBvc2l0aW9uc1tsYXN0SV0gKyBsYXN0Lmxlbmd0aCArIGxvb2tBaGVhZFByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFrZVRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBsb29rQWhlYWQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlUmVwZWF0TGVhZihjaGlsZHJlbiwgcG9zaXRpb25zLCBiYXNlLCBpLCBmcm9tLCB0bywgdHlwZSwgbG9va0FoZWFkKSB7XG4gICAgICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgICAgIHdoaWxlIChjaGlsZHJlbi5sZW5ndGggPiBpKSB7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goY2hpbGRyZW4ucG9wKCkpO1xuICAgICAgICAgICAgbG9jYWxQb3NpdGlvbnMucHVzaChwb3NpdGlvbnMucG9wKCkgKyBiYXNlIC0gZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4ucHVzaChtYWtlVHJlZShub2RlU2V0LnR5cGVzW3R5cGVdLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgdG8gLSBmcm9tLCBsb29rQWhlYWQgLSB0bykpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gYmFzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgbG9va0FoZWFkID0gMCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKGNvbnRleHRIYXNoKSB7XG4gICAgICAgICAgICBsZXQgcGFpciA9IFtOb2RlUHJvcC5jb250ZXh0SGFzaCwgY29udGV4dEhhc2hdO1xuICAgICAgICAgICAgcHJvcHMgPSBwcm9wcyA/IFtwYWlyXS5jb25jYXQocHJvcHMpIDogW3BhaXJdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb29rQWhlYWQgPiAyNSkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSBbTm9kZVByb3AubG9va0FoZWFkLCBsb29rQWhlYWRdO1xuICAgICAgICAgICAgcHJvcHMgPSBwcm9wcyA/IFtwYWlyXS5jb25jYXQocHJvcHMpIDogW3BhaXJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIHByb3BzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEJ1ZmZlclNpemUobWF4U2l6ZSwgaW5SZXBlYXQpIHtcbiAgICAgICAgLy8gU2NhbiB0aHJvdWdoIHRoZSBidWZmZXIgdG8gZmluZCBwcmV2aW91cyBzaWJsaW5ncyB0aGF0IGZpdFxuICAgICAgICAvLyB0b2dldGhlciBpbiBhIFRyZWVCdWZmZXIsIGFuZCBkb24ndCBjb250YWluIGFueSByZXVzZWQgbm9kZXNcbiAgICAgICAgLy8gKHdoaWNoIGNhbid0IGJlIHN0b3JlZCBpbiBhIGJ1ZmZlcikuXG4gICAgICAgIC8vIElmIGBpblJlcGVhdGAgaXMgPiAtMSwgaWdub3JlIG5vZGUgYm91bmRhcmllcyBvZiB0aGF0IHR5cGUgZm9yXG4gICAgICAgIC8vIG5lc3RpbmcsIGJ1dCBtYWtlIHN1cmUgdGhlIGVuZCBmYWxscyBlaXRoZXIgYXQgdGhlIHN0YXJ0XG4gICAgICAgIC8vIChgbWF4U2l6ZWApIG9yIGJlZm9yZSBzdWNoIGEgbm9kZS5cbiAgICAgICAgbGV0IGZvcmsgPSBjdXJzb3IuZm9yaygpO1xuICAgICAgICBsZXQgc2l6ZSA9IDAsIHN0YXJ0ID0gMCwgc2tpcCA9IDAsIG1pblN0YXJ0ID0gZm9yay5lbmQgLSBtYXhCdWZmZXJMZW5ndGg7XG4gICAgICAgIGxldCByZXN1bHQgPSB7IHNpemU6IDAsIHN0YXJ0OiAwLCBza2lwOiAwIH07XG4gICAgICAgIHNjYW46IGZvciAobGV0IG1pblBvcyA9IGZvcmsucG9zIC0gbWF4U2l6ZTsgZm9yay5wb3MgPiBtaW5Qb3M7KSB7XG4gICAgICAgICAgICBsZXQgbm9kZVNpemUgPSBmb3JrLnNpemU7XG4gICAgICAgICAgICAvLyBQcmV0ZW5kIG5lc3RlZCByZXBlYXQgbm9kZXMgb2YgdGhlIHNhbWUgdHlwZSBkb24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKGZvcmsuaWQgPT0gaW5SZXBlYXQgJiYgbm9kZVNpemUgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEV4Y2VwdCB0aGF0IHdlIHN0b3JlIHRoZSBjdXJyZW50IHN0YXRlIGFzIGEgdmFsaWQgcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdmFsdWUuXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNpemUgPSBzaXplO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHJlc3VsdC5za2lwID0gc2tpcDtcbiAgICAgICAgICAgICAgICBza2lwICs9IDQ7XG4gICAgICAgICAgICAgICAgc2l6ZSArPSA0O1xuICAgICAgICAgICAgICAgIGZvcmsubmV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gZm9yay5wb3MgLSBub2RlU2l6ZTtcbiAgICAgICAgICAgIGlmIChub2RlU2l6ZSA8IDAgfHwgc3RhcnRQb3MgPCBtaW5Qb3MgfHwgZm9yay5zdGFydCA8IG1pblN0YXJ0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IGxvY2FsU2tpcHBlZCA9IGZvcmsuaWQgPj0gbWluUmVwZWF0VHlwZSA/IDQgOiAwO1xuICAgICAgICAgICAgbGV0IG5vZGVTdGFydCA9IGZvcmsuc3RhcnQ7XG4gICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgIHdoaWxlIChmb3JrLnBvcyA+IHN0YXJ0UG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmsuc2l6ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmsuc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFNraXBwZWQgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9yay5pZCA+PSBtaW5SZXBlYXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU2tpcHBlZCArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gbm9kZVN0YXJ0O1xuICAgICAgICAgICAgc2l6ZSArPSBub2RlU2l6ZTtcbiAgICAgICAgICAgIHNraXAgKz0gbG9jYWxTa2lwcGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpblJlcGVhdCA8IDAgfHwgc2l6ZSA9PSBtYXhTaXplKSB7XG4gICAgICAgICAgICByZXN1bHQuc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICByZXN1bHQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIHJlc3VsdC5za2lwID0gc2tpcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnNpemUgPiA0ID8gcmVzdWx0IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5VG9CdWZmZXIoYnVmZmVyU3RhcnQsIGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHsgaWQsIHN0YXJ0LCBlbmQsIHNpemUgfSA9IGN1cnNvcjtcbiAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgaWYgKHNpemUgPj0gMCAmJiBpZCA8IG1pblJlcGVhdFR5cGUpIHtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zID0gY3Vyc29yLnBvcyAtIChzaXplIC0gNCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29weVRvQnVmZmVyKGJ1ZmZlclN0YXJ0LCBidWZmZXIsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IHN0YXJ0SW5kZXg7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBlbmQgLSBidWZmZXJTdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IHN0YXJ0IC0gYnVmZmVyU3RhcnQ7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09IC0zIC8qIFNwZWNpYWxSZWNvcmQuQ29udGV4dENoYW5nZSAqLykge1xuICAgICAgICAgICAgY29udGV4dEhhc2ggPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09IC00IC8qIFNwZWNpYWxSZWNvcmQuTG9va0FoZWFkICovKSB7XG4gICAgICAgICAgICBsb29rQWhlYWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IDApXG4gICAgICAgIHRha2VOb2RlKGRhdGEuc3RhcnQgfHwgMCwgZGF0YS5idWZmZXJTdGFydCB8fCAwLCBjaGlsZHJlbiwgcG9zaXRpb25zLCAtMSwgMCk7XG4gICAgbGV0IGxlbmd0aCA9IChfYSA9IGRhdGEubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoY2hpbGRyZW4ubGVuZ3RoID8gcG9zaXRpb25zWzBdICsgY2hpbGRyZW5bMF0ubGVuZ3RoIDogMCk7XG4gICAgcmV0dXJuIG5ldyBUcmVlKHR5cGVzW2RhdGEudG9wSURdLCBjaGlsZHJlbi5yZXZlcnNlKCksIHBvc2l0aW9ucy5yZXZlcnNlKCksIGxlbmd0aCk7XG59XG5jb25zdCBub2RlU2l6ZUNhY2hlID0gbmV3IFdlYWtNYXA7XG5mdW5jdGlvbiBub2RlU2l6ZShiYWxhbmNlVHlwZSwgbm9kZSkge1xuICAgIGlmICghYmFsYW5jZVR5cGUuaXNBbm9ueW1vdXMgfHwgbm9kZSBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHwgbm9kZS50eXBlICE9IGJhbGFuY2VUeXBlKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBsZXQgc2l6ZSA9IG5vZGVTaXplQ2FjaGUuZ2V0KG5vZGUpO1xuICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9IGJhbGFuY2VUeXBlIHx8ICEoY2hpbGQgaW5zdGFuY2VvZiBUcmVlKSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2l6ZSArPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVTaXplQ2FjaGUuc2V0KG5vZGUsIHNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn1cbmZ1bmN0aW9uIGJhbGFuY2VSYW5nZShcbi8vIFRoZSB0eXBlIHRoZSBiYWxhbmNlZCB0cmVlJ3MgaW5uZXIgbm9kZXMuXG5iYWxhbmNlVHlwZSwgXG4vLyBUaGUgZGlyZWN0IGNoaWxkcmVuIGFuZCB0aGVpciBwb3NpdGlvbnNcbmNoaWxkcmVuLCBwb3NpdGlvbnMsIFxuLy8gVGhlIGluZGV4IHJhbmdlIGluIGNoaWxkcmVuL3Bvc2l0aW9ucyB0byB1c2VcbmZyb20sIHRvLCBcbi8vIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbm9kZXMsIHJlbGF0aXZlIHRvIHRoZWlyIHBhcmVudC5cbnN0YXJ0LCBcbi8vIExlbmd0aCBvZiB0aGUgb3V0ZXIgbm9kZVxubGVuZ3RoLCBcbi8vIEZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSB0b3Agbm9kZSBvZiB0aGUgYmFsYW5jZWQgdHJlZVxubWtUb3AsIFxuLy8gRnVuY3Rpb24gdG8gYnVpbGQgaW50ZXJuYWwgbm9kZXMgZm9yIHRoZSBiYWxhbmNlZCB0cmVlXG5ta1RyZWUpIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKylcbiAgICAgICAgdG90YWwgKz0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICBsZXQgbWF4Q2hpbGQgPSBNYXRoLmNlaWwoKHRvdGFsICogMS41KSAvIDggLyogQmFsYW5jZS5CcmFuY2hGYWN0b3IgKi8pO1xuICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgZnVuY3Rpb24gZGl2aWRlKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGZyb20sIHRvLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzspIHtcbiAgICAgICAgICAgIGxldCBncm91cEZyb20gPSBpLCBncm91cFN0YXJ0ID0gcG9zaXRpb25zW2ldLCBncm91cFNpemUgPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgZm9yICg7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRTaXplID0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBTaXplICsgbmV4dFNpemUgPj0gbWF4Q2hpbGQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZSArPSBuZXh0U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09IGdyb3VwRnJvbSArIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBTaXplID4gbWF4Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9ubHkgPSBjaGlsZHJlbltncm91cEZyb21dOyAvLyBPbmx5IHRyZWVzIGNhbiBoYXZlIGEgc2l6ZSA+IDFcbiAgICAgICAgICAgICAgICAgICAgZGl2aWRlKG9ubHkuY2hpbGRyZW4sIG9ubHkucG9zaXRpb25zLCAwLCBvbmx5LmNoaWxkcmVuLmxlbmd0aCwgcG9zaXRpb25zW2dyb3VwRnJvbV0gKyBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5wdXNoKGNoaWxkcmVuW2dyb3VwRnJvbV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHBvc2l0aW9uc1tpIC0gMV0gKyBjaGlsZHJlbltpIC0gMV0ubGVuZ3RoIC0gZ3JvdXBTdGFydDtcbiAgICAgICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goYmFsYW5jZVJhbmdlKGJhbGFuY2VUeXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBncm91cEZyb20sIGksIGdyb3VwU3RhcnQsIGxlbmd0aCwgbnVsbCwgbWtUcmVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5wdXNoKGdyb3VwU3RhcnQgKyBvZmZzZXQgLSBzdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGl2aWRlKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGZyb20sIHRvLCAwKTtcbiAgICByZXR1cm4gKG1rVG9wIHx8IG1rVHJlZSkobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxlbmd0aCk7XG59XG4vKipcblByb3ZpZGVzIGEgd2F5IHRvIGFzc29jaWF0ZSB2YWx1ZXMgd2l0aCBwaWVjZXMgb2YgdHJlZXMuIEFzIGxvbmdcbmFzIHRoYXQgcGFydCBvZiB0aGUgdHJlZSBpcyByZXVzZWQsIHRoZSBhc3NvY2lhdGVkIHZhbHVlcyBjYW4gYmVcbnJldHJpZXZlZCBmcm9tIGFuIHVwZGF0ZWQgdHJlZS5cbiovXG5jbGFzcyBOb2RlV2Vha01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgc2V0QnVmZmVyKGJ1ZmZlciwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMubWFwLmdldChidWZmZXIpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGJ1ZmZlciwgaW5uZXIgPSBuZXcgTWFwKTtcbiAgICAgICAgaW5uZXIuc2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldEJ1ZmZlcihidWZmZXIsIGluZGV4KSB7XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMubWFwLmdldChidWZmZXIpO1xuICAgICAgICByZXR1cm4gaW5uZXIgJiYgaW5uZXIuZ2V0KGluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB2YWx1ZSBmb3IgdGhpcyBzeW50YXggbm9kZS5cbiAgICAqL1xuICAgIHNldChub2RlLCB2YWx1ZSkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJ1ZmZlck5vZGUpXG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihub2RlLmNvbnRleHQuYnVmZmVyLCBub2RlLmluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSlcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChub2RlLnRyZWUsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdmFsdWUgZm9yIHRoaXMgc3ludGF4IG5vZGUsIGlmIGl0IGV4aXN0cyBpbiB0aGUgbWFwLlxuICAgICovXG4gICAgZ2V0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlID8gdGhpcy5nZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleClcbiAgICAgICAgICAgIDogbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlID8gdGhpcy5tYXAuZ2V0KG5vZGUudHJlZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFNldCB0aGUgdmFsdWUgZm9yIHRoZSBub2RlIHRoYXQgYSBjdXJzb3IgY3VycmVudGx5IHBvaW50cyB0by5cbiAgICAqL1xuICAgIGN1cnNvclNldChjdXJzb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChjdXJzb3IuYnVmZmVyKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIoY3Vyc29yLmJ1ZmZlci5idWZmZXIsIGN1cnNvci5pbmRleCwgdmFsdWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoY3Vyc29yLnRyZWUsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHNcbiAgICB0by5cbiAgICAqL1xuICAgIGN1cnNvckdldChjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuIGN1cnNvci5idWZmZXIgPyB0aGlzLmdldEJ1ZmZlcihjdXJzb3IuYnVmZmVyLmJ1ZmZlciwgY3Vyc29yLmluZGV4KSA6IHRoaXMubWFwLmdldChjdXJzb3IudHJlZSk7XG4gICAgfVxufVxuXG4vKipcblRyZWUgZnJhZ21lbnRzIGFyZSB1c2VkIGR1cmluZyBbaW5jcmVtZW50YWxcbnBhcnNpbmddKCNjb21tb24uUGFyc2VyLnN0YXJ0UGFyc2UpIHRvIHRyYWNrIHBhcnRzIG9mIG9sZCB0cmVlc1xudGhhdCBjYW4gYmUgcmV1c2VkIGluIGEgbmV3IHBhcnNlLiBBbiBhcnJheSBvZiBmcmFnbWVudHMgaXMgdXNlZFxudG8gdHJhY2sgcmVnaW9ucyBvZiBhbiBvbGQgdHJlZSB3aG9zZSBub2RlcyBtaWdodCBiZSByZXVzZWQgaW4gbmV3XG5wYXJzZXMuIFVzZSB0aGUgc3RhdGljXG5bYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgbWV0aG9kIHRvXG51cGRhdGUgZnJhZ21lbnRzIGZvciBkb2N1bWVudCBjaGFuZ2VzLlxuKi9cbmNsYXNzIFRyZWVGcmFnbWVudCB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgdHJlZSBmcmFnbWVudC4gWW91J2xsIHVzdWFsbHkgd2FudCB0byB1c2VcbiAgICBbYGFkZFRyZWVgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hZGRUcmVlKSBhbmRcbiAgICBbYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgaW5zdGVhZCBvZlxuICAgIGNhbGxpbmcgdGhpcyBkaXJlY3RseS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGFydCBvZiB0aGUgdW5jaGFuZ2VkIHJhbmdlIHBvaW50ZWQgdG8gYnkgdGhpcyBmcmFnbWVudC5cbiAgICBUaGlzIHJlZmVycyB0byBhbiBvZmZzZXQgaW4gdGhlIF91cGRhdGVkXyBkb2N1bWVudCAoYXMgb3Bwb3NlZFxuICAgIHRvIHRoZSBvcmlnaW5hbCB0cmVlKS5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIHVuY2hhbmdlZCByYW5nZS5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBUaGUgdHJlZSB0aGF0IHRoaXMgZnJhZ21lbnQgaXMgYmFzZWQgb24uXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBUaGUgb2Zmc2V0IGJldHdlZW4gdGhlIGZyYWdtZW50J3MgdHJlZSBhbmQgdGhlIGRvY3VtZW50IHRoYXRcbiAgICB0aGlzIGZyYWdtZW50IGNhbiBiZSB1c2VkIGFnYWluc3QuIEFkZCB0aGlzIHdoZW4gZ29pbmcgZnJvbVxuICAgIGRvY3VtZW50IHRvIHRyZWUgcG9zaXRpb25zLCBzdWJ0cmFjdCBpdCB0byBnbyBmcm9tIHRyZWUgdG9cbiAgICBkb2N1bWVudCBwb3NpdGlvbnMuXG4gICAgKi9cbiAgICBvZmZzZXQsIG9wZW5TdGFydCA9IGZhbHNlLCBvcGVuRW5kID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5vcGVuID0gKG9wZW5TdGFydCA/IDEgLyogT3Blbi5TdGFydCAqLyA6IDApIHwgKG9wZW5FbmQgPyAyIC8qIE9wZW4uRW5kICovIDogMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHN0YXJ0IG9mIHRoZSBmcmFnbWVudCByZXByZXNlbnRzIHRoZSBzdGFydCBvZiBhXG4gICAgcGFyc2UsIG9yIHRoZSBlbmQgb2YgYSBjaGFuZ2UuIChJbiB0aGUgc2Vjb25kIGNhc2UsIGl0IG1heSBub3RcbiAgICBiZSBzYWZlIHRvIHJldXNlIHNvbWUgbm9kZXMgYXQgdGhlIHN0YXJ0LCBkZXBlbmRpbmcgb24gdGhlXG4gICAgcGFyc2luZyBhbGdvcml0aG0uKVxuICAgICovXG4gICAgZ2V0IG9wZW5TdGFydCgpIHsgcmV0dXJuICh0aGlzLm9wZW4gJiAxIC8qIE9wZW4uU3RhcnQgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgZW5kIG9mIGFcbiAgICBmdWxsLWRvY3VtZW50IHBhcnNlLCBvciB0aGUgc3RhcnQgb2YgYSBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgb3BlbkVuZCgpIHsgcmV0dXJuICh0aGlzLm9wZW4gJiAyIC8qIE9wZW4uRW5kICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZXQgb2YgZnJhZ21lbnRzIGZyb20gYSBmcmVzaGx5IHBhcnNlZCB0cmVlLCBvciB1cGRhdGVcbiAgICBhbiBleGlzdGluZyBzZXQgb2YgZnJhZ21lbnRzIGJ5IHJlcGxhY2luZyB0aGUgb25lcyB0aGF0IG92ZXJsYXBcbiAgICB3aXRoIGEgdHJlZSB3aXRoIGNvbnRlbnQgZnJvbSB0aGUgbmV3IHRyZWUuIFdoZW4gYHBhcnRpYWxgIGlzXG4gICAgdHJ1ZSwgdGhlIHBhcnNlIGlzIHRyZWF0ZWQgYXMgaW5jb21wbGV0ZSwgYW5kIHRoZSByZXN1bHRpbmdcbiAgICBmcmFnbWVudCBoYXMgW2BvcGVuRW5kYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnQub3BlbkVuZCkgc2V0IHRvXG4gICAgdHJ1ZS5cbiAgICAqL1xuICAgIHN0YXRpYyBhZGRUcmVlKHRyZWUsIGZyYWdtZW50cyA9IFtdLCBwYXJ0aWFsID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtuZXcgVHJlZUZyYWdtZW50KDAsIHRyZWUubGVuZ3RoLCB0cmVlLCAwLCBmYWxzZSwgcGFydGlhbCldO1xuICAgICAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cylcbiAgICAgICAgICAgIGlmIChmLnRvID4gdHJlZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEFwcGx5IGEgc2V0IG9mIGVkaXRzIHRvIGFuIGFycmF5IG9mIGZyYWdtZW50cywgcmVtb3Zpbmcgb3JcbiAgICBzcGxpdHRpbmcgZnJhZ21lbnRzIGFzIG5lY2Vzc2FyeSB0byByZW1vdmUgZWRpdGVkIHJhbmdlcywgYW5kXG4gICAgYWRqdXN0aW5nIG9mZnNldHMgZm9yIGZyYWdtZW50cyB0aGF0IG1vdmVkLlxuICAgICovXG4gICAgc3RhdGljIGFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIGNoYW5nZXMsIG1pbkdhcCA9IDEyOCkge1xuICAgICAgICBpZiAoIWNoYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgZkkgPSAxLCBuZXh0RiA9IGZyYWdtZW50cy5sZW5ndGggPyBmcmFnbWVudHNbMF0gOiBudWxsO1xuICAgICAgICBmb3IgKGxldCBjSSA9IDAsIHBvcyA9IDAsIG9mZiA9IDA7OyBjSSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dEMgPSBjSSA8IGNoYW5nZXMubGVuZ3RoID8gY2hhbmdlc1tjSV0gOiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHRQb3MgPSBuZXh0QyA/IG5leHRDLmZyb21BIDogMWU5O1xuICAgICAgICAgICAgaWYgKG5leHRQb3MgLSBwb3MgPj0gbWluR2FwKVxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0RiAmJiBuZXh0Ri5mcm9tIDwgbmV4dFBvcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3V0ID0gbmV4dEY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gY3V0LmZyb20gfHwgbmV4dFBvcyA8PSBjdXQudG8gfHwgb2ZmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZkZyb20gPSBNYXRoLm1heChjdXQuZnJvbSwgcG9zKSAtIG9mZiwgZlRvID0gTWF0aC5taW4oY3V0LnRvLCBuZXh0UG9zKSAtIG9mZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1dCA9IGZGcm9tID49IGZUbyA/IG51bGwgOiBuZXcgVHJlZUZyYWdtZW50KGZGcm9tLCBmVG8sIGN1dC50cmVlLCBjdXQub2Zmc2V0ICsgb2ZmLCBjSSA+IDAsICEhbmV4dEMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEYudG8gPiBuZXh0UG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIG5leHRGID0gZkkgPCBmcmFnbWVudHMubGVuZ3RoID8gZnJhZ21lbnRzW2ZJKytdIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHRDKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gbmV4dEMudG9BO1xuICAgICAgICAgICAgb2ZmID0gbmV4dEMudG9BIC0gbmV4dEMudG9CO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5BIHN1cGVyY2xhc3MgdGhhdCBwYXJzZXJzIHNob3VsZCBleHRlbmQuXG4qL1xuY2xhc3MgUGFyc2VyIHtcbiAgICAvKipcbiAgICBTdGFydCBhIHBhcnNlLCByZXR1cm5pbmcgYSBbcGFydGlhbCBwYXJzZV0oI2NvbW1vbi5QYXJ0aWFsUGFyc2UpXG4gICAgb2JqZWN0LiBbYGZyYWdtZW50c2BdKCNjb21tb24uVHJlZUZyYWdtZW50KSBjYW4gYmUgcGFzc2VkIGluIHRvXG4gICAgbWFrZSB0aGUgcGFyc2UgaW5jcmVtZW50YWwuXG4gICAgXG4gICAgQnkgZGVmYXVsdCwgdGhlIGVudGlyZSBpbnB1dCBpcyBwYXJzZWQuIFlvdSBjYW4gcGFzcyBgcmFuZ2VzYCxcbiAgICB3aGljaCBzaG91bGQgYmUgYSBzb3J0ZWQgYXJyYXkgb2Ygbm9uLWVtcHR5LCBub24tb3ZlcmxhcHBpbmdcbiAgICByYW5nZXMsIHRvIHBhcnNlIG9ubHkgdGhvc2UgcmFuZ2VzLiBUaGUgdHJlZSByZXR1cm5lZCBpbiB0aGF0XG4gICAgY2FzZSB3aWxsIHN0YXJ0IGF0IGByYW5nZXNbMF0uZnJvbWAuXG4gICAgKi9cbiAgICBzdGFydFBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBTdHJpbmdJbnB1dChpbnB1dCk7XG4gICAgICAgIHJhbmdlcyA9ICFyYW5nZXMgPyBbbmV3IFJhbmdlKDAsIGlucHV0Lmxlbmd0aCldIDogcmFuZ2VzLmxlbmd0aCA/IHJhbmdlcy5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tLCByLnRvKSkgOiBbbmV3IFJhbmdlKDAsIDApXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUGFyc2UoaW5wdXQsIGZyYWdtZW50cyB8fCBbXSwgcmFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUnVuIGEgZnVsbCBwYXJzZSwgcmV0dXJuaW5nIHRoZSByZXN1bHRpbmcgdHJlZS5cbiAgICAqL1xuICAgIHBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBsZXQgcGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBwYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFN0cmluZ0lucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICBjaHVuayhmcm9tKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tKTsgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICByZWFkKGZyb20sIHRvKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tLCB0byk7IH1cbn1cblxuLyoqXG5DcmVhdGUgYSBwYXJzZSB3cmFwcGVyIHRoYXQsIGFmdGVyIHRoZSBpbm5lciBwYXJzZSBjb21wbGV0ZXMsXG5zY2FucyBpdHMgdHJlZSBmb3IgbWl4ZWQgbGFuZ3VhZ2UgcmVnaW9ucyB3aXRoIHRoZSBgbmVzdGBcbmZ1bmN0aW9uLCBydW5zIHRoZSByZXN1bHRpbmcgW2lubmVyIHBhcnNlc10oI2NvbW1vbi5OZXN0ZWRQYXJzZSksXG5hbmQgdGhlbiBbbW91bnRzXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIHRoZWlyIHJlc3VsdHMgb250byB0aGVcbnRyZWUuXG4qL1xuZnVuY3Rpb24gcGFyc2VNaXhlZChuZXN0KSB7XG4gICAgcmV0dXJuIChwYXJzZSwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSA9PiBuZXcgTWl4ZWRQYXJzZShwYXJzZSwgbmVzdCwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbn1cbmNsYXNzIElubmVyUGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgcGFyc2UsIG92ZXJsYXksIHRhcmdldCwgZnJvbSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHBhcnNlO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1JhbmdlcyhyYW5nZXMpIHtcbiAgICBpZiAoIXJhbmdlcy5sZW5ndGggfHwgcmFuZ2VzLnNvbWUociA9PiByLmZyb20gPj0gci50bykpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbm5lciBwYXJzZSByYW5nZXMgZ2l2ZW46IFwiICsgSlNPTi5zdHJpbmdpZnkocmFuZ2VzKSk7XG59XG5jbGFzcyBBY3RpdmVPdmVybGF5IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIHByZWRpY2F0ZSwgbW91bnRzLCBpbmRleCwgc3RhcnQsIHRhcmdldCwgcHJldikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMubW91bnRzID0gbW91bnRzO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgICAgIHRoaXMuZGVwdGggPSAwO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IFtdO1xuICAgIH1cbn1cbmNvbnN0IHN0b3BwZWRJbm5lciA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG5jbGFzcyBNaXhlZFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBuZXN0LCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5uZXN0ID0gbmVzdDtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBbXTtcbiAgICAgICAgdGhpcy5pbm5lckRvbmUgPSAwO1xuICAgICAgICB0aGlzLmJhc2VUcmVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VQYXJzZSA9IGJhc2U7XG4gICAgfVxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSkge1xuICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLmJhc2VQYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICBpZiAoIWRvbmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXJzZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhc2VUcmVlID0gZG9uZTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRJbm5lcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5uZXIgb2YgdGhpcy5pbm5lcilcbiAgICAgICAgICAgICAgICAgICAgaW5uZXIucGFyc2Uuc3RvcEF0KHRoaXMuc3RvcHBlZEF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbm5lckRvbmUgPT0gdGhpcy5pbm5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmJhc2VUcmVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRyZWUocmVzdWx0LnR5cGUsIHJlc3VsdC5jaGlsZHJlbiwgcmVzdWx0LnBvc2l0aW9ucywgcmVzdWx0Lmxlbmd0aCwgcmVzdWx0LnByb3BWYWx1ZXMuY29uY2F0KFtbc3RvcHBlZElubmVyLCB0aGlzLnN0b3BwZWRBdF1dKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMuaW5uZXJbdGhpcy5pbm5lckRvbmVdLCBkb25lID0gaW5uZXIucGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5pbm5lckRvbmUrKztcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzb21ld2hhdCBkb2RneSBidXQgc3VwZXIgaGVscGZ1bCBoYWNrIHdoZXJlIHdlXG4gICAgICAgICAgICAvLyBwYXRjaCB1cCBub2RlcyBjcmVhdGVkIGJ5IHRoZSBpbm5lciBwYXJzZSAoYW5kIHRodXNcbiAgICAgICAgICAgIC8vIHByZXN1bWFibHkgbm90IGFsaWFzZWQgYW55d2hlcmUgZWxzZSkgdG8gaG9sZCB0aGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIC8vIGFib3V0IHRoZSBpbm5lciBwYXJzZS5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgaW5uZXIudGFyZ2V0LnByb3BzKTtcbiAgICAgICAgICAgIHByb3BzW05vZGVQcm9wLm1vdW50ZWQuaWRdID0gbmV3IE1vdW50ZWRUcmVlKGRvbmUsIGlubmVyLm92ZXJsYXksIGlubmVyLnBhcnNlcik7XG4gICAgICAgICAgICBpbm5lci50YXJnZXQucHJvcHMgPSBwcm9wcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHBhcnNlZFBvcygpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmlucHV0Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5uZXJEb25lOyBpIDwgdGhpcy5pbm5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5uZXJbaV0uZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1pbihwb3MsIHRoaXMuaW5uZXJbaV0ucGFyc2UucGFyc2VkUG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdG9wQXQocG9zKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpXG4gICAgICAgICAgICB0aGlzLmJhc2VQYXJzZS5zdG9wQXQocG9zKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5uZXJEb25lOyBpIDwgdGhpcy5pbm5lci5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyW2ldLnBhcnNlLnN0b3BBdChwb3MpO1xuICAgIH1cbiAgICBzdGFydElubmVyKCkge1xuICAgICAgICBsZXQgZnJhZ21lbnRDdXJzb3IgPSBuZXcgRnJhZ21lbnRDdXJzb3IodGhpcy5mcmFnbWVudHMpO1xuICAgICAgICBsZXQgb3ZlcmxheSA9IG51bGw7XG4gICAgICAgIGxldCBjb3ZlcmVkID0gbnVsbDtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKG5ldyBUcmVlTm9kZSh0aGlzLmJhc2VUcmVlLCB0aGlzLnJhbmdlc1swXS5mcm9tLCAwLCBudWxsKSwgSXRlck1vZGUuSW5jbHVkZUFub255bW91cyB8IEl0ZXJNb2RlLklnbm9yZU1vdW50cyk7XG4gICAgICAgIHNjYW46IGZvciAobGV0IG5lc3QsIGlzQ292ZXJlZDs7KSB7XG4gICAgICAgICAgICBsZXQgZW50ZXIgPSB0cnVlLCByYW5nZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsICYmIGN1cnNvci5mcm9tID49IHRoaXMuc3RvcHBlZEF0KSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyYWdtZW50Q3Vyc29yLmhhc05vZGUoY3Vyc29yKSkge1xuICAgICAgICAgICAgICAgIGlmIChvdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IG92ZXJsYXkubW91bnRzLmZpbmQobSA9PiBtLmZyYWcuZnJvbSA8PSBjdXJzb3IuZnJvbSAmJiBtLmZyYWcudG8gPj0gY3Vyc29yLnRvICYmIG0ubW91bnQub3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2YgbWF0Y2gubW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcm9tID0gci5mcm9tICsgbWF0Y2gucG9zLCB0byA9IHIudG8gKyBtYXRjaC5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPj0gY3Vyc29yLmZyb20gJiYgdG8gPD0gY3Vyc29yLnRvICYmICFvdmVybGF5LnJhbmdlcy5zb21lKHIgPT4gci5mcm9tIDwgdG8gJiYgci50byA+IGZyb20pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb3ZlcmVkICYmIChpc0NvdmVyZWQgPSBjaGVja0NvdmVyKGNvdmVyZWQucmFuZ2VzLCBjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKSkpIHtcbiAgICAgICAgICAgICAgICBlbnRlciA9IGlzQ292ZXJlZCAhPSAyIC8qIENvdmVyLkZ1bGwgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY3Vyc29yLnR5cGUuaXNBbm9ueW1vdXMgJiYgKG5lc3QgPSB0aGlzLm5lc3QoY3Vyc29yLCB0aGlzLmlucHV0KSkgJiZcbiAgICAgICAgICAgICAgICAoY3Vyc29yLmZyb20gPCBjdXJzb3IudG8gfHwgIW5lc3Qub3ZlcmxheSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnNvci50cmVlKVxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbGl6ZShjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGxldCBvbGRNb3VudHMgPSBmcmFnbWVudEN1cnNvci5maW5kTW91bnRzKGN1cnNvci5mcm9tLCBuZXN0LnBhcnNlcik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXN0Lm92ZXJsYXkgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkgPSBuZXcgQWN0aXZlT3ZlcmxheShuZXN0LnBhcnNlciwgbmVzdC5vdmVybGF5LCBvbGRNb3VudHMsIHRoaXMuaW5uZXIubGVuZ3RoLCBjdXJzb3IuZnJvbSwgY3Vyc29yLnRyZWUsIG92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlcyA9IHB1bmNoUmFuZ2VzKHRoaXMucmFuZ2VzLCBuZXN0Lm92ZXJsYXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChjdXJzb3IuZnJvbSA8IGN1cnNvci50byA/IFtuZXcgUmFuZ2UoY3Vyc29yLmZyb20sIGN1cnNvci50byldIDogW10pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JhbmdlcyhyYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCB8fCAhbmVzdC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lci5wdXNoKG5ldyBJbm5lclBhcnNlKG5lc3QucGFyc2VyLCByYW5nZXMubGVuZ3RoID8gbmVzdC5wYXJzZXIuc3RhcnRQYXJzZSh0aGlzLmlucHV0LCBlbnRlckZyYWdtZW50cyhvbGRNb3VudHMsIHJhbmdlcyksIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5lc3QucGFyc2VyLnN0YXJ0UGFyc2UoXCJcIiksIG5lc3Qub3ZlcmxheSA/IG5lc3Qub3ZlcmxheS5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tIC0gY3Vyc29yLmZyb20sIHIudG8gLSBjdXJzb3IuZnJvbSkpIDogbnVsbCwgY3Vyc29yLnRyZWUsIHJhbmdlcy5sZW5ndGggPyByYW5nZXNbMF0uZnJvbSA6IGN1cnNvci5mcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmVzdC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSB7IHJhbmdlcywgZGVwdGg6IDAsIHByZXY6IGNvdmVyZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvdmVybGF5ICYmIChyYW5nZSA9IG92ZXJsYXkucHJlZGljYXRlKGN1cnNvcikpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA8IHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRlciAmJiBjdXJzb3IuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuZGVwdGgrKztcbiAgICAgICAgICAgICAgICBpZiAoY292ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZC5kZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBzY2FuO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSAmJiAhLS1vdmVybGF5LmRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gcHVuY2hSYW5nZXModGhpcy5yYW5nZXMsIG92ZXJsYXkucmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSYW5nZXMocmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyLnNwbGljZShvdmVybGF5LmluZGV4LCAwLCBuZXcgSW5uZXJQYXJzZShvdmVybGF5LnBhcnNlciwgb3ZlcmxheS5wYXJzZXIuc3RhcnRQYXJzZSh0aGlzLmlucHV0LCBlbnRlckZyYWdtZW50cyhvdmVybGF5Lm1vdW50cywgcmFuZ2VzKSwgcmFuZ2VzKSwgb3ZlcmxheS5yYW5nZXMubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSAtIG92ZXJsYXkuc3RhcnQsIHIudG8gLSBvdmVybGF5LnN0YXJ0KSksIG92ZXJsYXkudGFyZ2V0LCByYW5nZXNbMF0uZnJvbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheSA9IG92ZXJsYXkucHJldjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY292ZXJlZCAmJiAhLS1jb3ZlcmVkLmRlcHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGNvdmVyZWQucHJldjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja0NvdmVyKGNvdmVyZWQsIGZyb20sIHRvKSB7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2YgY292ZXJlZCkge1xuICAgICAgICBpZiAocmFuZ2UuZnJvbSA+PSB0bylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAocmFuZ2UudG8gPiBmcm9tKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmZyb20gPD0gZnJvbSAmJiByYW5nZS50byA+PSB0byA/IDIgLyogQ292ZXIuRnVsbCAqLyA6IDEgLyogQ292ZXIuUGFydGlhbCAqLztcbiAgICB9XG4gICAgcmV0dXJuIDAgLyogQ292ZXIuTm9uZSAqLztcbn1cbi8vIFRha2UgYSBwaWVjZSBvZiBidWZmZXIgYW5kIGNvbnZlcnQgaXQgaW50byBhIHN0YW5kLWFsb25lXG4vLyBUcmVlQnVmZmVyLlxuZnVuY3Rpb24gc2xpY2VCdWYoYnVmLCBzdGFydEksIGVuZEksIG5vZGVzLCBwb3NpdGlvbnMsIG9mZikge1xuICAgIGlmIChzdGFydEkgPCBlbmRJKSB7XG4gICAgICAgIGxldCBmcm9tID0gYnVmLmJ1ZmZlcltzdGFydEkgKyAxXTtcbiAgICAgICAgbm9kZXMucHVzaChidWYuc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGZyb20gLSBvZmYpO1xuICAgIH1cbn1cbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBub2RlIHRoYXQncyBpbiBhIGJ1ZmZlciwgYW5kIGNvbnZlcnRzIGl0LCBhbmRcbi8vIGl0cyBwYXJlbnQgYnVmZmVyIG5vZGVzLCBpbnRvIGEgVHJlZS4gVGhpcyBpcyBhZ2FpbiBhY3Rpbmcgb24gdGhlXG4vLyBhc3N1bXB0aW9uIHRoYXQgdGhlIHRyZWVzIGFuZCBidWZmZXJzIGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBieSB0aGVcbi8vIHBhcnNlIHRoYXQgd2FzIHJhbiB2aWEgdGhlIG1peCBwYXJzZXIsIGFuZCB0aHVzIGFyZW4ndCBzaGFyZWQgd2l0aFxuLy8gYW55IG90aGVyIGNvZGUsIG1ha2luZyB2aW9sYXRpb25zIG9mIHRoZSBpbW11dGFiaWxpdHkgc2FmZS5cbmZ1bmN0aW9uIG1hdGVyaWFsaXplKGN1cnNvcikge1xuICAgIGxldCB7IG5vZGUgfSA9IGN1cnNvciwgc3RhY2sgPSBbXTtcbiAgICBsZXQgYnVmZmVyID0gbm9kZS5jb250ZXh0LmJ1ZmZlcjtcbiAgICAvLyBTY2FuIHVwIHRvIHRoZSBuZWFyZXN0IHRyZWVcbiAgICBkbyB7XG4gICAgICAgIHN0YWNrLnB1c2goY3Vyc29yLmluZGV4KTtcbiAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgIH0gd2hpbGUgKCFjdXJzb3IudHJlZSk7XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGJ1ZmZlciBpbiB0aGF0IHRyZWVcbiAgICBsZXQgYmFzZSA9IGN1cnNvci50cmVlLCBpID0gYmFzZS5jaGlsZHJlbi5pbmRleE9mKGJ1ZmZlcik7XG4gICAgbGV0IGJ1ZiA9IGJhc2UuY2hpbGRyZW5baV0sIGIgPSBidWYuYnVmZmVyLCBuZXdTdGFjayA9IFtpXTtcbiAgICAvLyBTcGxpdCBhIGxldmVsIGluIHRoZSBidWZmZXIsIHB1dHRpbmcgdGhlIG5vZGVzIGJlZm9yZSBhbmQgYWZ0ZXJcbiAgICAvLyB0aGUgY2hpbGQgdGhhdCBjb250YWlucyBgbm9kZWAgaW50byBuZXcgYnVmZmVycy5cbiAgICBmdW5jdGlvbiBzcGxpdChzdGFydEksIGVuZEksIHR5cGUsIGlubmVyT2Zmc2V0LCBsZW5ndGgsIHN0YWNrUG9zKSB7XG4gICAgICAgIGxldCB0YXJnZXRJID0gc3RhY2tbc3RhY2tQb3NdO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXSwgcG9zaXRpb25zID0gW107XG4gICAgICAgIHNsaWNlQnVmKGJ1Ziwgc3RhcnRJLCB0YXJnZXRJLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpbm5lck9mZnNldCk7XG4gICAgICAgIGxldCBmcm9tID0gYlt0YXJnZXRJICsgMV0sIHRvID0gYlt0YXJnZXRJICsgMl07XG4gICAgICAgIG5ld1N0YWNrLnB1c2goY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgbGV0IGNoaWxkID0gc3RhY2tQb3NcbiAgICAgICAgICAgID8gc3BsaXQodGFyZ2V0SSArIDQsIGJbdGFyZ2V0SSArIDNdLCBidWYuc2V0LnR5cGVzW2JbdGFyZ2V0SV1dLCBmcm9tLCB0byAtIGZyb20sIHN0YWNrUG9zIC0gMSlcbiAgICAgICAgICAgIDogbm9kZS50b1RyZWUoKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGZyb20gLSBpbm5lck9mZnNldCk7XG4gICAgICAgIHNsaWNlQnVmKGJ1ZiwgYlt0YXJnZXRJICsgM10sIGVuZEksIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGlubmVyT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCk7XG4gICAgfVxuICAgIGJhc2UuY2hpbGRyZW5baV0gPSBzcGxpdCgwLCBiLmxlbmd0aCwgTm9kZVR5cGUubm9uZSwgMCwgYnVmLmxlbmd0aCwgc3RhY2subGVuZ3RoIC0gMSk7XG4gICAgLy8gTW92ZSB0aGUgY3Vyc29yIGJhY2sgdG8gdGhlIHRhcmdldCBub2RlXG4gICAgZm9yIChsZXQgaW5kZXggb2YgbmV3U3RhY2spIHtcbiAgICAgICAgbGV0IHRyZWUgPSBjdXJzb3IudHJlZS5jaGlsZHJlbltpbmRleF0sIHBvcyA9IGN1cnNvci50cmVlLnBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgIGN1cnNvci55aWVsZChuZXcgVHJlZU5vZGUodHJlZSwgcG9zICsgY3Vyc29yLmZyb20sIGluZGV4LCBjdXJzb3IuX3RyZWUpKTtcbiAgICB9XG59XG5jbGFzcyBTdHJ1Y3R1cmVDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJvb3QsIG9mZnNldCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gcm9vdC5jdXJzb3IoSXRlck1vZGUuSW5jbHVkZUFub255bW91cyB8IEl0ZXJNb2RlLklnbm9yZU1vdW50cyk7XG4gICAgfVxuICAgIC8vIE1vdmUgdG8gdGhlIGZpcnN0IG5vZGUgKGluIHByZS1vcmRlcikgdGhhdCBzdGFydHMgYXQgb3IgYWZ0ZXIgYHBvc2AuXG4gICAgbW92ZVRvKHBvcykge1xuICAgICAgICBsZXQgeyBjdXJzb3IgfSA9IHRoaXMsIHAgPSBwb3MgLSB0aGlzLm9mZnNldDtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmRvbmUgJiYgY3Vyc29yLmZyb20gPCBwKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLnRvID49IHBvcyAmJiBjdXJzb3IuZW50ZXIocCwgMSwgSXRlck1vZGUuSWdub3JlT3ZlcmxheXMgfCBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycykpIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjdXJzb3IubmV4dChmYWxzZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNOb2RlKGN1cnNvcikge1xuICAgICAgICB0aGlzLm1vdmVUbyhjdXJzb3IuZnJvbSk7XG4gICAgICAgIGlmICghdGhpcy5kb25lICYmIHRoaXMuY3Vyc29yLmZyb20gKyB0aGlzLm9mZnNldCA9PSBjdXJzb3IuZnJvbSAmJiB0aGlzLmN1cnNvci50cmVlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0cmVlID0gdGhpcy5jdXJzb3IudHJlZTs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyZWUgPT0gY3Vyc29yLnRyZWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0cmVlLmNoaWxkcmVuLmxlbmd0aCAmJiB0cmVlLnBvc2l0aW9uc1swXSA9PSAwICYmIHRyZWUuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBUcmVlKVxuICAgICAgICAgICAgICAgICAgICB0cmVlID0gdHJlZS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5jbGFzcyBGcmFnbWVudEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoZnJhZ21lbnRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMuY3VyVG8gPSAwO1xuICAgICAgICB0aGlzLmZyYWdJID0gMDtcbiAgICAgICAgaWYgKGZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IHRoaXMuY3VyRnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgICAgIHRoaXMuY3VyVG8gPSAoX2EgPSBmaXJzdC50cmVlLnByb3Aoc3RvcHBlZElubmVyKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmlyc3QudG87XG4gICAgICAgICAgICB0aGlzLmlubmVyID0gbmV3IFN0cnVjdHVyZUN1cnNvcihmaXJzdC50cmVlLCAtZmlyc3Qub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VyRnJhZyA9IHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc05vZGUobm9kZSkge1xuICAgICAgICB3aGlsZSAodGhpcy5jdXJGcmFnICYmIG5vZGUuZnJvbSA+PSB0aGlzLmN1clRvKVxuICAgICAgICAgICAgdGhpcy5uZXh0RnJhZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJGcmFnICYmIHRoaXMuY3VyRnJhZy5mcm9tIDw9IG5vZGUuZnJvbSAmJiB0aGlzLmN1clRvID49IG5vZGUudG8gJiYgdGhpcy5pbm5lci5oYXNOb2RlKG5vZGUpO1xuICAgIH1cbiAgICBuZXh0RnJhZygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmZyYWdJKys7XG4gICAgICAgIGlmICh0aGlzLmZyYWdJID09IHRoaXMuZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jdXJGcmFnID0gdGhpcy5pbm5lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZnJhZyA9IHRoaXMuY3VyRnJhZyA9IHRoaXMuZnJhZ21lbnRzW3RoaXMuZnJhZ0ldO1xuICAgICAgICAgICAgdGhpcy5jdXJUbyA9IChfYSA9IGZyYWcudHJlZS5wcm9wKHN0b3BwZWRJbm5lcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZyYWcudG87XG4gICAgICAgICAgICB0aGlzLmlubmVyID0gbmV3IFN0cnVjdHVyZUN1cnNvcihmcmFnLnRyZWUsIC1mcmFnLm9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZE1vdW50cyhwb3MsIHBhcnNlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuY3Vyc29yLm1vdmVUbyhwb3MsIDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gdGhpcy5pbm5lci5jdXJzb3Iubm9kZTsgcG9zOyBwb3MgPSBwb3MucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vdW50ID0gKF9hID0gcG9zLnRyZWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm9wKE5vZGVQcm9wLm1vdW50ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChtb3VudCAmJiBtb3VudC5wYXJzZXIgPT0gcGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZyYWdJOyBpIDwgdGhpcy5mcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFnID0gdGhpcy5mcmFnbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy5mcm9tID49IHBvcy50bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLnRyZWUgPT0gdGhpcy5jdXJGcmFnLnRyZWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcy5mcm9tIC0gZnJhZy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiBwdW5jaFJhbmdlcyhvdXRlciwgcmFuZ2VzKSB7XG4gICAgbGV0IGNvcHkgPSBudWxsLCBjdXJyZW50ID0gcmFuZ2VzO1xuICAgIGZvciAobGV0IGkgPSAxLCBqID0gMDsgaSA8IG91dGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBnYXBGcm9tID0gb3V0ZXJbaSAtIDFdLnRvLCBnYXBUbyA9IG91dGVyW2ldLmZyb207XG4gICAgICAgIGZvciAoOyBqIDwgY3VycmVudC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IHIgPSBjdXJyZW50W2pdO1xuICAgICAgICAgICAgaWYgKHIuZnJvbSA+PSBnYXBUbylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChyLnRvIDw9IGdhcEZyb20pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIWNvcHkpXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNvcHkgPSByYW5nZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGlmIChyLmZyb20gPCBnYXBGcm9tKSB7XG4gICAgICAgICAgICAgICAgY29weVtqXSA9IG5ldyBSYW5nZShyLmZyb20sIGdhcEZyb20pO1xuICAgICAgICAgICAgICAgIGlmIChyLnRvID4gZ2FwVG8pXG4gICAgICAgICAgICAgICAgICAgIGNvcHkuc3BsaWNlKGogKyAxLCAwLCBuZXcgUmFuZ2UoZ2FwVG8sIHIudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHIudG8gPiBnYXBUbykge1xuICAgICAgICAgICAgICAgIGNvcHlbai0tXSA9IG5ldyBSYW5nZShnYXBUbywgci50byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3B5LnNwbGljZShqLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZmluZENvdmVyQ2hhbmdlcyhhLCBiLCBmcm9tLCB0bykge1xuICAgIGxldCBpQSA9IDAsIGlCID0gMCwgaW5BID0gZmFsc2UsIGluQiA9IGZhbHNlLCBwb3MgPSAtMWU5O1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBuZXh0QSA9IGlBID09IGEubGVuZ3RoID8gMWU5IDogaW5BID8gYVtpQV0udG8gOiBhW2lBXS5mcm9tO1xuICAgICAgICBsZXQgbmV4dEIgPSBpQiA9PSBiLmxlbmd0aCA/IDFlOSA6IGluQiA/IGJbaUJdLnRvIDogYltpQl0uZnJvbTtcbiAgICAgICAgaWYgKGluQSAhPSBpbkIpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KHBvcywgZnJvbSksIGVuZCA9IE1hdGgubWluKG5leHRBLCBuZXh0QiwgdG8pO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDwgZW5kKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBSYW5nZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gTWF0aC5taW4obmV4dEEsIG5leHRCKTtcbiAgICAgICAgaWYgKHBvcyA9PSAxZTkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKG5leHRBID09IHBvcykge1xuICAgICAgICAgICAgaWYgKCFpbkEpXG4gICAgICAgICAgICAgICAgaW5BID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluQSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlBKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRCID09IHBvcykge1xuICAgICAgICAgICAgaWYgKCFpbkIpXG4gICAgICAgICAgICAgICAgaW5CID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluQiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlCKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIEdpdmVuIGEgbnVtYmVyIG9mIGZyYWdtZW50cyBmb3IgdGhlIG91dGVyIHRyZWUsIGFuZCBhIHNldCBvZiByYW5nZXNcbi8vIHRvIHBhcnNlLCBmaW5kIGZyYWdtZW50cyBmb3IgaW5uZXIgdHJlZXMgbW91bnRlZCBhcm91bmQgdGhvc2Vcbi8vIHJhbmdlcywgaWYgYW55LlxuZnVuY3Rpb24gZW50ZXJGcmFnbWVudHMobW91bnRzLCByYW5nZXMpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgeyBwb3MsIG1vdW50LCBmcmFnIH0gb2YgbW91bnRzKSB7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHBvcyArIChtb3VudC5vdmVybGF5ID8gbW91bnQub3ZlcmxheVswXS5mcm9tIDogMCksIGVuZFBvcyA9IHN0YXJ0UG9zICsgbW91bnQudHJlZS5sZW5ndGg7XG4gICAgICAgIGxldCBmcm9tID0gTWF0aC5tYXgoZnJhZy5mcm9tLCBzdGFydFBvcyksIHRvID0gTWF0aC5taW4oZnJhZy50bywgZW5kUG9zKTtcbiAgICAgICAgaWYgKG1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgIGxldCBvdmVybGF5ID0gbW91bnQub3ZlcmxheS5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tICsgcG9zLCByLnRvICsgcG9zKSk7XG4gICAgICAgICAgICBsZXQgY2hhbmdlcyA9IGZpbmRDb3ZlckNoYW5nZXMocmFuZ2VzLCBvdmVybGF5LCBmcm9tLCB0byk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gZnJvbTs7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gaSA9PSBjaGFuZ2VzLmxlbmd0aCwgZW5kID0gbGFzdCA/IHRvIDogY2hhbmdlc1tpXS5mcm9tO1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBUcmVlRnJhZ21lbnQocG9zLCBlbmQsIG1vdW50LnRyZWUsIC1zdGFydFBvcywgZnJhZy5mcm9tID49IHBvcyB8fCBmcmFnLm9wZW5TdGFydCwgZnJhZy50byA8PSBlbmQgfHwgZnJhZy5vcGVuRW5kKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcyA9IGNoYW5nZXNbaV0udG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVHJlZUZyYWdtZW50KGZyb20sIHRvLCBtb3VudC50cmVlLCAtc3RhcnRQb3MsIGZyYWcuZnJvbSA+PSBzdGFydFBvcyB8fCBmcmFnLm9wZW5TdGFydCwgZnJhZy50byA8PSBlbmRQb3MgfHwgZnJhZy5vcGVuRW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgRGVmYXVsdEJ1ZmZlckxlbmd0aCwgSXRlck1vZGUsIE1vdW50ZWRUcmVlLCBOb2RlUHJvcCwgTm9kZVNldCwgTm9kZVR5cGUsIE5vZGVXZWFrTWFwLCBQYXJzZXIsIFRyZWUsIFRyZWVCdWZmZXIsIFRyZWVDdXJzb3IsIFRyZWVGcmFnbWVudCwgcGFyc2VNaXhlZCB9O1xuIiwKICAgICJpbXBvcnQgeyBOb2RlUHJvcCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG5sZXQgbmV4dFRhZ0lEID0gMDtcbi8qKlxuSGlnaGxpZ2h0aW5nIHRhZ3MgYXJlIG1hcmtlcnMgdGhhdCBkZW5vdGUgYSBoaWdobGlnaHRpbmcgY2F0ZWdvcnkuXG5UaGV5IGFyZSBbYXNzb2NpYXRlZF0oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpIHdpdGggcGFydHMgb2YgYSBzeW50YXhcbnRyZWUgYnkgYSBsYW5ndWFnZSBtb2RlLCBhbmQgdGhlbiBtYXBwZWQgdG8gYW4gYWN0dWFsIENTUyBzdHlsZSBieVxuYSBbaGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpLlxuXG5CZWNhdXNlIHN5bnRheCB0cmVlIG5vZGUgdHlwZXMgYW5kIGhpZ2hsaWdodCBzdHlsZXMgaGF2ZSB0byBiZVxuYWJsZSB0byB0YWxrIHRoZSBzYW1lIGxhbmd1YWdlLCBDb2RlTWlycm9yIHVzZXMgYSBtb3N0bHkgX2Nsb3NlZF9cblt2b2NhYnVsYXJ5XSgjaGlnaGxpZ2h0LnRhZ3MpIG9mIHN5bnRheCB0YWdzIChhcyBvcHBvc2VkIHRvXG50cmFkaXRpb25hbCBvcGVuIHN0cmluZy1iYXNlZCBzeXN0ZW1zLCB3aGljaCBtYWtlIGl0IGhhcmQgZm9yXG5oaWdobGlnaHRpbmcgdGhlbWVzIHRvIGNvdmVyIGFsbCB0aGUgdG9rZW5zIHByb2R1Y2VkIGJ5IHRoZVxudmFyaW91cyBsYW5ndWFnZXMpLlxuXG5JdCBfaXNfIHBvc3NpYmxlIHRvIFtkZWZpbmVdKCNoaWdobGlnaHQuVGFnXmRlZmluZSkgeW91ciBvd25cbmhpZ2hsaWdodGluZyB0YWdzIGZvciBzeXN0ZW0taW50ZXJuYWwgdXNlICh3aGVyZSB5b3UgY29udHJvbCBib3RoXG50aGUgbGFuZ3VhZ2UgcGFja2FnZSBhbmQgdGhlIGhpZ2hsaWdodGVyKSwgYnV0IHN1Y2ggdGFncyB3aWxsIG5vdFxuYmUgcGlja2VkIHVwIGJ5IHJlZ3VsYXIgaGlnaGxpZ2h0ZXJzICh0aG91Z2ggeW91IGNhbiBkZXJpdmUgdGhlbVxuZnJvbSBzdGFuZGFyZCB0YWdzIHRvIGFsbG93IGhpZ2hsaWdodGVycyB0byBmYWxsIGJhY2sgdG8gdGhvc2UpLlxuKi9cbmNsYXNzIFRhZyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgb3B0aW9uYWwgbmFtZSBvZiB0aGUgYmFzZSB0YWcgQGludGVybmFsXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBUaGUgc2V0IG9mIHRoaXMgdGFnIGFuZCBhbGwgaXRzIHBhcmVudCB0YWdzLCBzdGFydGluZyB3aXRoXG4gICAgdGhpcyBvbmUgaXRzZWxmIGFuZCBzb3J0ZWQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZyBzcGVjaWZpY2l0eS5cbiAgICAqL1xuICAgIHNldCwgXG4gICAgLyoqXG4gICAgVGhlIGJhc2UgdW5tb2RpZmllZCB0YWcgdGhhdCB0aGlzIG9uZSBpcyBiYXNlZCBvbiwgaWYgaXQnc1xuICAgIG1vZGlmaWVkIEBpbnRlcm5hbFxuICAgICovXG4gICAgYmFzZSwgXG4gICAgLyoqXG4gICAgVGhlIG1vZGlmaWVycyBhcHBsaWVkIHRvIHRoaXMuYmFzZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1vZGlmaWVkKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbW9kaWZpZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRUYWdJRCsrO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHsgbmFtZSB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgbW9kIG9mIHRoaXMubW9kaWZpZWQpXG4gICAgICAgICAgICBpZiAobW9kLm5hbWUpXG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke21vZC5uYW1lfSgke25hbWV9KWA7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmaW5lKG5hbWVPclBhcmVudCwgcGFyZW50KSB7XG4gICAgICAgIGxldCBuYW1lID0gdHlwZW9mIG5hbWVPclBhcmVudCA9PSBcInN0cmluZ1wiID8gbmFtZU9yUGFyZW50IDogXCI/XCI7XG4gICAgICAgIGlmIChuYW1lT3JQYXJlbnQgaW5zdGFuY2VvZiBUYWcpXG4gICAgICAgICAgICBwYXJlbnQgPSBuYW1lT3JQYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuYmFzZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgZGVyaXZlIGZyb20gYSBtb2RpZmllZCB0YWdcIik7XG4gICAgICAgIGxldCB0YWcgPSBuZXcgVGFnKG5hbWUsIFtdLCBudWxsLCBbXSk7XG4gICAgICAgIHRhZy5zZXQucHVzaCh0YWcpO1xuICAgICAgICBpZiAocGFyZW50KVxuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiBwYXJlbnQuc2V0KVxuICAgICAgICAgICAgICAgIHRhZy5zZXQucHVzaCh0KTtcbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgdGFnIF9tb2RpZmllcl8sIHdoaWNoIGlzIGEgZnVuY3Rpb24gdGhhdCwgZ2l2ZW4gYSB0YWcsXG4gICAgd2lsbCByZXR1cm4gYSB0YWcgdGhhdCBpcyBhIHN1YnRhZyBvZiB0aGUgb3JpZ2luYWwuIEFwcGx5aW5nIHRoZVxuICAgIHNhbWUgbW9kaWZpZXIgdG8gYSB0d2ljZSB0YWcgd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUgKGBtMSh0MSlcbiAgICA9PSBtMSh0MSlgKSBhbmQgYXBwbHlpbmcgbXVsdGlwbGUgbW9kaWZpZXJzIHdpbGwsIHJlZ2FyZGxlc3Mgb3JcbiAgICBvcmRlciwgcHJvZHVjZSB0aGUgc2FtZSB0YWcgKGBtMShtMih0MSkpID09IG0yKG0xKHQxKSlgKS5cbiAgICBcbiAgICBXaGVuIG11bHRpcGxlIG1vZGlmaWVycyBhcmUgYXBwbGllZCB0byBhIGdpdmVuIGJhc2UgdGFnLCBlYWNoXG4gICAgc21hbGxlciBzZXQgb2YgbW9kaWZpZXJzIGlzIHJlZ2lzdGVyZWQgYXMgYSBwYXJlbnQsIHNvIHRoYXQgZm9yXG4gICAgZXhhbXBsZSBgbTEobTIobTModDEpKSlgIGlzIGEgc3VidHlwZSBvZiBgbTEobTIodDEpKWAsXG4gICAgYG0xKG0zKHQxKWAsIGFuZCBzbyBvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmVNb2RpZmllcihuYW1lKSB7XG4gICAgICAgIGxldCBtb2QgPSBuZXcgTW9kaWZpZXIobmFtZSk7XG4gICAgICAgIHJldHVybiAodGFnKSA9PiB7XG4gICAgICAgICAgICBpZiAodGFnLm1vZGlmaWVkLmluZGV4T2YobW9kKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiB0YWc7XG4gICAgICAgICAgICByZXR1cm4gTW9kaWZpZXIuZ2V0KHRhZy5iYXNlIHx8IHRhZywgdGFnLm1vZGlmaWVkLmNvbmNhdChtb2QpLnNvcnQoKGEsIGIpID0+IGEuaWQgLSBiLmlkKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxubGV0IG5leHRNb2RpZmllcklEID0gMDtcbmNsYXNzIE1vZGlmaWVyIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gW107XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0TW9kaWZpZXJJRCsrO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KGJhc2UsIG1vZHMpIHtcbiAgICAgICAgaWYgKCFtb2RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICBsZXQgZXhpc3RzID0gbW9kc1swXS5pbnN0YW5jZXMuZmluZCh0ID0+IHQuYmFzZSA9PSBiYXNlICYmIHNhbWVBcnJheShtb2RzLCB0Lm1vZGlmaWVkKSk7XG4gICAgICAgIGlmIChleGlzdHMpXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RzO1xuICAgICAgICBsZXQgc2V0ID0gW10sIHRhZyA9IG5ldyBUYWcoYmFzZS5uYW1lLCBzZXQsIGJhc2UsIG1vZHMpO1xuICAgICAgICBmb3IgKGxldCBtIG9mIG1vZHMpXG4gICAgICAgICAgICBtLmluc3RhbmNlcy5wdXNoKHRhZyk7XG4gICAgICAgIGxldCBjb25maWdzID0gcG93ZXJTZXQobW9kcyk7XG4gICAgICAgIGZvciAobGV0IHBhcmVudCBvZiBiYXNlLnNldClcbiAgICAgICAgICAgIGlmICghcGFyZW50Lm1vZGlmaWVkLmxlbmd0aClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb25maWcgb2YgY29uZmlncylcbiAgICAgICAgICAgICAgICAgICAgc2V0LnB1c2goTW9kaWZpZXIuZ2V0KHBhcmVudCwgY29uZmlnKSk7XG4gICAgICAgIHJldHVybiB0YWc7XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZUFycmF5KGEsIGIpIHtcbiAgICByZXR1cm4gYS5sZW5ndGggPT0gYi5sZW5ndGggJiYgYS5ldmVyeSgoeCwgaSkgPT4geCA9PSBiW2ldKTtcbn1cbmZ1bmN0aW9uIHBvd2VyU2V0KGFycmF5KSB7XG4gICAgbGV0IHNldHMgPSBbW11dO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGUgPSBzZXRzLmxlbmd0aDsgaiA8IGU7IGorKykge1xuICAgICAgICAgICAgc2V0cy5wdXNoKHNldHNbal0uY29uY2F0KGFycmF5W2ldKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldHMuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCk7XG59XG4vKipcblRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhZGQgYSBzZXQgb2YgdGFncyB0byBhIGxhbmd1YWdlIHN5bnRheFxudmlhIFtgTm9kZVNldC5leHRlbmRgXSgjY29tbW9uLk5vZGVTZXQuZXh0ZW5kKSBvclxuW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuTFJQYXJzZXIuY29uZmlndXJlKS5cblxuVGhlIGFyZ3VtZW50IG9iamVjdCBtYXBzIG5vZGUgc2VsZWN0b3JzIHRvIFtoaWdobGlnaHRpbmdcbnRhZ3NdKCNoaWdobGlnaHQuVGFnKSBvciBhcnJheXMgb2YgdGFncy5cblxuTm9kZSBzZWxlY3RvcnMgbWF5IGhvbGQgb25lIG9yIG1vcmUgKHNwYWNlLXNlcGFyYXRlZCkgbm9kZSBwYXRocy5cblN1Y2ggYSBwYXRoIGNhbiBiZSBhIFtub2RlIG5hbWVdKCNjb21tb24uTm9kZVR5cGUubmFtZSksIG9yXG5tdWx0aXBsZSBub2RlIG5hbWVzIChvciBgKmAgd2lsZGNhcmRzKSBzZXBhcmF0ZWQgYnkgc2xhc2hcbmNoYXJhY3RlcnMsIGFzIGluIGBcIkJsb2NrL0RlY2xhcmF0aW9uL1ZhcmlhYmxlTmFtZVwiYC4gU3VjaCBhIHBhdGhcbm1hdGNoZXMgdGhlIGZpbmFsIG5vZGUgYnV0IG9ubHkgaWYgaXRzIGRpcmVjdCBwYXJlbnQgbm9kZXMgYXJlIHRoZVxub3RoZXIgbm9kZXMgbWVudGlvbmVkLiBBIGAqYCBpbiBzdWNoIGEgcGF0aCBtYXRjaGVzIGFueSBwYXJlbnQsXG5idXQgb25seSBhIHNpbmdsZSBsZXZlbOKAlHdpbGRjYXJkcyB0aGF0IG1hdGNoIG11bHRpcGxlIHBhcmVudHNcbmFyZW4ndCBzdXBwb3J0ZWQsIGJvdGggZm9yIGVmZmljaWVuY3kgcmVhc29ucyBhbmQgYmVjYXVzZSBMZXplclxudHJlZXMgbWFrZSBpdCByYXRoZXIgaGFyZCB0byByZWFzb24gYWJvdXQgd2hhdCB0aGV5IHdvdWxkIG1hdGNoLilcblxuQSBwYXRoIGNhbiBiZSBlbmRlZCB3aXRoIGAvLi4uYCB0byBpbmRpY2F0ZSB0aGF0IHRoZSB0YWcgYXNzaWduZWRcbnRvIHRoZSBub2RlIHNob3VsZCBhbHNvIGFwcGx5IHRvIGFsbCBjaGlsZCBub2RlcywgZXZlbiBpZiB0aGV5XG5tYXRjaCB0aGVpciBvd24gc3R5bGUgKGJ5IGRlZmF1bHQsIG9ubHkgdGhlIGlubmVybW9zdCBzdHlsZSBpc1xudXNlZCkuXG5cbldoZW4gYSBwYXRoIGVuZHMgaW4gYCFgLCBhcyBpbiBgQXR0cmlidXRlIWAsIG5vIGZ1cnRoZXIgbWF0Y2hpbmdcbmhhcHBlbnMgZm9yIHRoZSBub2RlJ3MgY2hpbGQgbm9kZXMsIGFuZCB0aGUgZW50aXJlIG5vZGUgZ2V0cyB0aGVcbmdpdmVuIHN0eWxlLlxuXG5JbiB0aGlzIG5vdGF0aW9uLCBub2RlIG5hbWVzIHRoYXQgY29udGFpbiBgL2AsIGAhYCwgYCpgLCBvciBgLi4uYFxubXVzdCBiZSBxdW90ZWQgYXMgSlNPTiBzdHJpbmdzLlxuXG5Gb3IgZXhhbXBsZTpcblxuYGBgamF2YXNjcmlwdFxucGFyc2VyLndpdGhQcm9wcyhcbiAgc3R5bGVUYWdzKHtcbiAgICAvLyBTdHlsZSBOdW1iZXIgYW5kIEJpZ051bWJlciBub2Rlc1xuICAgIFwiTnVtYmVyIEJpZ051bWJlclwiOiB0YWdzLm51bWJlcixcbiAgICAvLyBTdHlsZSBFc2NhcGUgbm9kZXMgd2hvc2UgcGFyZW50IGlzIFN0cmluZ1xuICAgIFwiU3RyaW5nL0VzY2FwZVwiOiB0YWdzLmVzY2FwZSxcbiAgICAvLyBTdHlsZSBhbnl0aGluZyBpbnNpZGUgQXR0cmlidXRlcyBub2Rlc1xuICAgIFwiQXR0cmlidXRlcyFcIjogdGFncy5tZXRhLFxuICAgIC8vIEFkZCBhIHN0eWxlIHRvIGFsbCBjb250ZW50IGluc2lkZSBJdGFsaWMgbm9kZXNcbiAgICBcIkl0YWxpYy8uLi5cIjogdGFncy5lbXBoYXNpcyxcbiAgICAvLyBTdHlsZSBJbnZhbGlkU3RyaW5nIG5vZGVzIGFzIGJvdGggYHN0cmluZ2AgYW5kIGBpbnZhbGlkYFxuICAgIFwiSW52YWxpZFN0cmluZ1wiOiBbdGFncy5zdHJpbmcsIHRhZ3MuaW52YWxpZF0sXG4gICAgLy8gU3R5bGUgdGhlIG5vZGUgbmFtZWQgXCIvXCIgYXMgcHVuY3R1YXRpb25cbiAgICAnXCIvXCInOiB0YWdzLnB1bmN0dWF0aW9uXG4gIH0pXG4pXG5gYGBcbiovXG5mdW5jdGlvbiBzdHlsZVRhZ3Moc3BlYykge1xuICAgIGxldCBieU5hbWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykge1xuICAgICAgICBsZXQgdGFncyA9IHNwZWNbcHJvcF07XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0YWdzKSlcbiAgICAgICAgICAgIHRhZ3MgPSBbdGFnc107XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2YgcHJvcC5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICBpZiAocGFydCkge1xuICAgICAgICAgICAgICAgIGxldCBwaWVjZXMgPSBbXSwgbW9kZSA9IDIgLyogTW9kZS5Ob3JtYWwgKi8sIHJlc3QgPSBwYXJ0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IDA7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdCA9PSBcIi4uLlwiICYmIHBvcyA+IDAgJiYgcG9zICsgMyA9PSBwYXJ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDEgLyogTW9kZS5Jbmhlcml0ICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSAvXlwiKD86W15cIlxcXFxdfFxcXFwuKSo/XCJ8W15cXC8hXSsvLmV4ZWMocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaChtWzBdID09IFwiKlwiID8gXCJcIiA6IG1bMF1bMF0gPT0gJ1wiJyA/IEpTT04ucGFyc2UobVswXSkgOiBtWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09IHBhcnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gcGFydFtwb3MrK107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPT0gcGFydC5sZW5ndGggJiYgbmV4dCA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDAgLyogTW9kZS5PcGFxdWUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPSBcIi9cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXN0ID0gcGFydC5zbGljZShwb3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IHBpZWNlcy5sZW5ndGggLSAxLCBpbm5lciA9IHBpZWNlc1tsYXN0XTtcbiAgICAgICAgICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcGF0aDogXCIgKyBwYXJ0KTtcbiAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IG5ldyBSdWxlKHRhZ3MsIG1vZGUsIGxhc3QgPiAwID8gcGllY2VzLnNsaWNlKDAsIGxhc3QpIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgYnlOYW1lW2lubmVyXSA9IHJ1bGUuc29ydChieU5hbWVbaW5uZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVOb2RlUHJvcC5hZGQoYnlOYW1lKTtcbn1cbmNvbnN0IHJ1bGVOb2RlUHJvcCA9IG5ldyBOb2RlUHJvcCgpO1xuY2xhc3MgUnVsZSB7XG4gICAgY29uc3RydWN0b3IodGFncywgbW9kZSwgY29udGV4dCwgbmV4dCkge1xuICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIH1cbiAgICBnZXQgb3BhcXVlKCkgeyByZXR1cm4gdGhpcy5tb2RlID09IDAgLyogTW9kZS5PcGFxdWUgKi87IH1cbiAgICBnZXQgaW5oZXJpdCgpIHsgcmV0dXJuIHRoaXMubW9kZSA9PSAxIC8qIE1vZGUuSW5oZXJpdCAqLzsgfVxuICAgIHNvcnQob3RoZXIpIHtcbiAgICAgICAgaWYgKCFvdGhlciB8fCBvdGhlci5kZXB0aCA8IHRoaXMuZGVwdGgpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG90aGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXIubmV4dCA9IHRoaXMuc29ydChvdGhlci5uZXh0KTtcbiAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH1cbiAgICBnZXQgZGVwdGgoKSB7IHJldHVybiB0aGlzLmNvbnRleHQgPyB0aGlzLmNvbnRleHQubGVuZ3RoIDogMDsgfVxufVxuUnVsZS5lbXB0eSA9IG5ldyBSdWxlKFtdLCAyIC8qIE1vZGUuTm9ybWFsICovLCBudWxsKTtcbi8qKlxuRGVmaW5lIGEgW2hpZ2hsaWdodGVyXSgjaGlnaGxpZ2h0LkhpZ2hsaWdodGVyKSBmcm9tIGFuIGFycmF5IG9mXG50YWcvY2xhc3MgcGFpcnMuIENsYXNzZXMgYXNzb2NpYXRlZCB3aXRoIG1vcmUgc3BlY2lmaWMgdGFncyB3aWxsXG50YWtlIHByZWNlZGVuY2UuXG4qL1xuZnVuY3Rpb24gdGFnSGlnaGxpZ2h0ZXIodGFncywgb3B0aW9ucykge1xuICAgIGxldCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IHN0eWxlIG9mIHRhZ3MpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlLnRhZykpXG4gICAgICAgICAgICBtYXBbc3R5bGUudGFnLmlkXSA9IHN0eWxlLmNsYXNzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmb3IgKGxldCB0YWcgb2Ygc3R5bGUudGFnKVxuICAgICAgICAgICAgICAgIG1hcFt0YWcuaWRdID0gc3R5bGUuY2xhc3M7XG4gICAgfVxuICAgIGxldCB7IHNjb3BlLCBhbGwgPSBudWxsIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlOiAodGFncykgPT4ge1xuICAgICAgICAgICAgbGV0IGNscyA9IGFsbDtcbiAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiB0YWdzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc3ViIG9mIHRhZy5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ0NsYXNzID0gbWFwW3N1Yi5pZF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWdDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzID0gY2xzID8gY2xzICsgXCIgXCIgKyB0YWdDbGFzcyA6IHRhZ0NsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9LFxuICAgICAgICBzY29wZVxuICAgIH07XG59XG5mdW5jdGlvbiBoaWdobGlnaHRUYWdzKGhpZ2hsaWdodGVycywgdGFncykge1xuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGZvciAobGV0IGhpZ2hsaWdodGVyIG9mIGhpZ2hsaWdodGVycykge1xuICAgICAgICBsZXQgdmFsdWUgPSBoaWdobGlnaHRlci5zdHlsZSh0YWdzKTtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID8gcmVzdWx0ICsgXCIgXCIgKyB2YWx1ZSA6IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG5IaWdobGlnaHQgdGhlIGdpdmVuIFt0cmVlXSgjY29tbW9uLlRyZWUpIHdpdGggdGhlIGdpdmVuXG5baGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpLiBPZnRlbiwgdGhlIGhpZ2hlci1sZXZlbFxuW2BoaWdobGlnaHRDb2RlYF0oI2hpZ2hsaWdodC5oaWdobGlnaHRDb2RlKSBmdW5jdGlvbiBpcyBlYXNpZXIgdG9cbnVzZS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRUcmVlKHRyZWUsIGhpZ2hsaWdodGVyLCBcbi8qKlxuQXNzaWduIHN0eWxpbmcgdG8gYSByZWdpb24gb2YgdGhlIHRleHQuIFdpbGwgYmUgY2FsbGVkLCBpbiBvcmRlclxub2YgcG9zaXRpb24sIGZvciBhbnkgcmFuZ2VzIHdoZXJlIG1vcmUgdGhhbiB6ZXJvIGNsYXNzZXMgYXBwbHkuXG5gY2xhc3Nlc2AgaXMgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIENTUyBjbGFzc2VzLlxuKi9cbnB1dFN0eWxlLCBcbi8qKlxuVGhlIHN0YXJ0IG9mIHRoZSByYW5nZSB0byBoaWdobGlnaHQuXG4qL1xuZnJvbSA9IDAsIFxuLyoqXG5UaGUgZW5kIG9mIHRoZSByYW5nZS5cbiovXG50byA9IHRyZWUubGVuZ3RoKSB7XG4gICAgbGV0IGJ1aWxkZXIgPSBuZXcgSGlnaGxpZ2h0QnVpbGRlcihmcm9tLCBBcnJheS5pc0FycmF5KGhpZ2hsaWdodGVyKSA/IGhpZ2hsaWdodGVyIDogW2hpZ2hsaWdodGVyXSwgcHV0U3R5bGUpO1xuICAgIGJ1aWxkZXIuaGlnaGxpZ2h0UmFuZ2UodHJlZS5jdXJzb3IoKSwgZnJvbSwgdG8sIFwiXCIsIGJ1aWxkZXIuaGlnaGxpZ2h0ZXJzKTtcbiAgICBidWlsZGVyLmZsdXNoKHRvKTtcbn1cbi8qKlxuSGlnaGxpZ2h0IHRoZSBnaXZlbiB0cmVlIHdpdGggdGhlIGdpdmVuIGhpZ2hsaWdodGVyLCBjYWxsaW5nXG5gcHV0VGV4dGAgZm9yIGV2ZXJ5IHBpZWNlIG9mIHRleHQsIGVpdGhlciB3aXRoIGEgc2V0IG9mIGNsYXNzZXMgb3JcbndpdGggdGhlIGVtcHR5IHN0cmluZyB3aGVuIHVuc3R5bGVkLCBhbmQgYHB1dEJyZWFrYCBmb3IgZXZlcnkgbGluZVxuYnJlYWsuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0Q29kZShjb2RlLCB0cmVlLCBoaWdobGlnaHRlciwgcHV0VGV4dCwgcHV0QnJlYWssIGZyb20gPSAwLCB0byA9IGNvZGUubGVuZ3RoKSB7XG4gICAgbGV0IHBvcyA9IGZyb207XG4gICAgZnVuY3Rpb24gd3JpdGVUbyhwLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChwIDw9IHBvcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgdGV4dCA9IGNvZGUuc2xpY2UocG9zLCBwKSwgaSA9IDA7Oykge1xuICAgICAgICAgICAgbGV0IG5leHRCcmVhayA9IHRleHQuaW5kZXhPZihcIlxcblwiLCBpKTtcbiAgICAgICAgICAgIGxldCB1cHRvID0gbmV4dEJyZWFrIDwgMCA/IHRleHQubGVuZ3RoIDogbmV4dEJyZWFrO1xuICAgICAgICAgICAgaWYgKHVwdG8gPiBpKVxuICAgICAgICAgICAgICAgIHB1dFRleHQodGV4dC5zbGljZShpLCB1cHRvKSwgY2xhc3Nlcyk7XG4gICAgICAgICAgICBpZiAobmV4dEJyZWFrIDwgMClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHB1dEJyZWFrKCk7XG4gICAgICAgICAgICBpID0gbmV4dEJyZWFrICsgMTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSBwO1xuICAgIH1cbiAgICBoaWdobGlnaHRUcmVlKHRyZWUsIGhpZ2hsaWdodGVyLCAoZnJvbSwgdG8sIGNsYXNzZXMpID0+IHtcbiAgICAgICAgd3JpdGVUbyhmcm9tLCBcIlwiKTtcbiAgICAgICAgd3JpdGVUbyh0bywgY2xhc3Nlcyk7XG4gICAgfSwgZnJvbSwgdG8pO1xuICAgIHdyaXRlVG8odG8sIFwiXCIpO1xufVxuY2xhc3MgSGlnaGxpZ2h0QnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoYXQsIGhpZ2hsaWdodGVycywgc3Bhbikge1xuICAgICAgICB0aGlzLmF0ID0gYXQ7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZXJzID0gaGlnaGxpZ2h0ZXJzO1xuICAgICAgICB0aGlzLnNwYW4gPSBzcGFuO1xuICAgICAgICB0aGlzLmNsYXNzID0gXCJcIjtcbiAgICB9XG4gICAgc3RhcnRTcGFuKGF0LCBjbHMpIHtcbiAgICAgICAgaWYgKGNscyAhPSB0aGlzLmNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKGF0KTtcbiAgICAgICAgICAgIGlmIChhdCA+IHRoaXMuYXQpXG4gICAgICAgICAgICAgICAgdGhpcy5hdCA9IGF0O1xuICAgICAgICAgICAgdGhpcy5jbGFzcyA9IGNscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaCh0bykge1xuICAgICAgICBpZiAodG8gPiB0aGlzLmF0ICYmIHRoaXMuY2xhc3MpXG4gICAgICAgICAgICB0aGlzLnNwYW4odGhpcy5hdCwgdG8sIHRoaXMuY2xhc3MpO1xuICAgIH1cbiAgICBoaWdobGlnaHRSYW5nZShjdXJzb3IsIGZyb20sIHRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGxldCB7IHR5cGUsIGZyb206IHN0YXJ0LCB0bzogZW5kIH0gPSBjdXJzb3I7XG4gICAgICAgIGlmIChzdGFydCA+PSB0byB8fCBlbmQgPD0gZnJvbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUuaXNUb3ApXG4gICAgICAgICAgICBoaWdobGlnaHRlcnMgPSB0aGlzLmhpZ2hsaWdodGVycy5maWx0ZXIoaCA9PiAhaC5zY29wZSB8fCBoLnNjb3BlKHR5cGUpKTtcbiAgICAgICAgbGV0IGNscyA9IGluaGVyaXRlZENsYXNzO1xuICAgICAgICBsZXQgcnVsZSA9IGdldFN0eWxlVGFncyhjdXJzb3IpIHx8IFJ1bGUuZW1wdHk7XG4gICAgICAgIGxldCB0YWdDbHMgPSBoaWdobGlnaHRUYWdzKGhpZ2hsaWdodGVycywgcnVsZS50YWdzKTtcbiAgICAgICAgaWYgKHRhZ0Nscykge1xuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICBjbHMgKz0gXCIgXCI7XG4gICAgICAgICAgICBjbHMgKz0gdGFnQ2xzO1xuICAgICAgICAgICAgaWYgKHJ1bGUubW9kZSA9PSAxIC8qIE1vZGUuSW5oZXJpdCAqLylcbiAgICAgICAgICAgICAgICBpbmhlcml0ZWRDbGFzcyArPSAoaW5oZXJpdGVkQ2xhc3MgPyBcIiBcIiA6IFwiXCIpICsgdGFnQ2xzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWF4KGZyb20sIHN0YXJ0KSwgY2xzKTtcbiAgICAgICAgaWYgKHJ1bGUub3BhcXVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbW91bnRlZCA9IGN1cnNvci50cmVlICYmIGN1cnNvci50cmVlLnByb3AoTm9kZVByb3AubW91bnRlZCk7XG4gICAgICAgIGlmIChtb3VudGVkICYmIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IGlubmVyID0gY3Vyc29yLm5vZGUuZW50ZXIobW91bnRlZC5vdmVybGF5WzBdLmZyb20gKyBzdGFydCwgMSk7XG4gICAgICAgICAgICBsZXQgaW5uZXJIaWdobGlnaHRlcnMgPSB0aGlzLmhpZ2hsaWdodGVycy5maWx0ZXIoaCA9PiAhaC5zY29wZSB8fCBoLnNjb3BlKG1vdW50ZWQudHJlZS50eXBlKSk7XG4gICAgICAgICAgICBsZXQgaGFzQ2hpbGQgPSBjdXJzb3IuZmlyc3RDaGlsZCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IHN0YXJ0OzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBpIDwgbW91bnRlZC5vdmVybGF5Lmxlbmd0aCA/IG1vdW50ZWQub3ZlcmxheVtpXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRQb3MgPSBuZXh0ID8gbmV4dC5mcm9tICsgc3RhcnQgOiBlbmQ7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlRnJvbSA9IE1hdGgubWF4KGZyb20sIHBvcyksIHJhbmdlVG8gPSBNYXRoLm1pbih0bywgbmV4dFBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlRnJvbSA8IHJhbmdlVG8gJiYgaGFzQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5mcm9tIDwgcmFuZ2VUbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRSYW5nZShjdXJzb3IsIHJhbmdlRnJvbSwgcmFuZ2VUbywgaW5oZXJpdGVkQ2xhc3MsIGhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1pbihyYW5nZVRvLCBjdXJzb3IudG8pLCBjbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci50byA+PSBuZXh0UG9zIHx8ICFjdXJzb3IubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQgfHwgbmV4dFBvcyA+IHRvKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MgPSBuZXh0LnRvICsgc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRSYW5nZShpbm5lci5jdXJzb3IoKSwgTWF0aC5tYXgoZnJvbSwgbmV4dC5mcm9tICsgc3RhcnQpLCBNYXRoLm1pbih0bywgcG9zKSwgXCJcIiwgaW5uZXJIaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1pbih0bywgcG9zKSwgY2xzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQ2hpbGQpXG4gICAgICAgICAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnNvci5maXJzdENoaWxkKCkpIHtcbiAgICAgICAgICAgIGlmIChtb3VudGVkKVxuICAgICAgICAgICAgICAgIGluaGVyaXRlZENsYXNzID0gXCJcIjtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnRvIDw9IGZyb20pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IuZnJvbSA+PSB0bylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRSYW5nZShjdXJzb3IsIGZyb20sIHRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1pbih0bywgY3Vyc29yLnRvKSwgY2xzKTtcbiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnNvci5uZXh0U2libGluZygpKTtcbiAgICAgICAgICAgIGN1cnNvci5wYXJlbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuTWF0Y2ggYSBzeW50YXggbm9kZSdzIFtoaWdobGlnaHQgcnVsZXNdKCNoaWdobGlnaHQuc3R5bGVUYWdzKS4gSWZcbnRoZXJlJ3MgYSBtYXRjaCwgcmV0dXJuIGl0cyBzZXQgb2YgdGFncywgYW5kIHdoZXRoZXIgaXQgaXNcbm9wYXF1ZSAodXNlcyBhIGAhYCkgb3IgYXBwbGllcyB0byBhbGwgY2hpbGQgbm9kZXMgKGAvLi4uYCkuXG4qL1xuZnVuY3Rpb24gZ2V0U3R5bGVUYWdzKG5vZGUpIHtcbiAgICBsZXQgcnVsZSA9IG5vZGUudHlwZS5wcm9wKHJ1bGVOb2RlUHJvcCk7XG4gICAgd2hpbGUgKHJ1bGUgJiYgcnVsZS5jb250ZXh0ICYmICFub2RlLm1hdGNoQ29udGV4dChydWxlLmNvbnRleHQpKVxuICAgICAgICBydWxlID0gcnVsZS5uZXh0O1xuICAgIHJldHVybiBydWxlIHx8IG51bGw7XG59XG5jb25zdCB0ID0gVGFnLmRlZmluZTtcbmNvbnN0IGNvbW1lbnQgPSB0KCksIG5hbWUgPSB0KCksIHR5cGVOYW1lID0gdChuYW1lKSwgcHJvcGVydHlOYW1lID0gdChuYW1lKSwgbGl0ZXJhbCA9IHQoKSwgc3RyaW5nID0gdChsaXRlcmFsKSwgbnVtYmVyID0gdChsaXRlcmFsKSwgY29udGVudCA9IHQoKSwgaGVhZGluZyA9IHQoY29udGVudCksIGtleXdvcmQgPSB0KCksIG9wZXJhdG9yID0gdCgpLCBwdW5jdHVhdGlvbiA9IHQoKSwgYnJhY2tldCA9IHQocHVuY3R1YXRpb24pLCBtZXRhID0gdCgpO1xuLyoqXG5UaGUgZGVmYXVsdCBzZXQgb2YgaGlnaGxpZ2h0aW5nIFt0YWdzXSgjaGlnaGxpZ2h0LlRhZykuXG5cblRoaXMgY29sbGVjdGlvbiBpcyBoZWF2aWx5IGJpYXNlZCB0b3dhcmRzIHByb2dyYW1taW5nIGxhbmd1YWdlcyxcbmFuZCBuZWNlc3NhcmlseSBpbmNvbXBsZXRlLiBBIGZ1bGwgb250b2xvZ3kgb2Ygc3ludGFjdGljXG5jb25zdHJ1Y3RzIHdvdWxkIGZpbGwgYSBzdGFjayBvZiBib29rcywgYW5kIGJlIGltcHJhY3RpY2FsIHRvXG53cml0ZSB0aGVtZXMgZm9yLiBTbyB0cnkgdG8gbWFrZSBkbyB3aXRoIHRoaXMgc2V0LiBJZiBhbGwgZWxzZVxuZmFpbHMsIFtvcGVuIGFuXG5pc3N1ZV0oaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvY29kZW1pcnJvci5uZXh0KSB0byBwcm9wb3NlIGFcbm5ldyB0YWcsIG9yIFtkZWZpbmVdKCNoaWdobGlnaHQuVGFnXmRlZmluZSkgYSBsb2NhbCBjdXN0b20gdGFnIGZvclxueW91ciB1c2UgY2FzZS5cblxuTm90ZSB0aGF0IGl0IGlzIG5vdCBvYmxpZ2F0b3J5IHRvIGFsd2F5cyBhdHRhY2ggdGhlIG1vc3Qgc3BlY2lmaWNcbnRhZyBwb3NzaWJsZSB0byBhbiBlbGVtZW504oCUaWYgeW91ciBncmFtbWFyIGNhbid0IGVhc2lseVxuZGlzdGluZ3Vpc2ggYSBjZXJ0YWluIHR5cGUgb2YgZWxlbWVudCAoc3VjaCBhcyBhIGxvY2FsIHZhcmlhYmxlKSxcbml0IGlzIG9rYXkgdG8gc3R5bGUgaXQgYXMgaXRzIG1vcmUgZ2VuZXJhbCB2YXJpYW50IChhIHZhcmlhYmxlKS5cblxuRm9yIHRhZ3MgdGhhdCBleHRlbmQgc29tZSBwYXJlbnQgdGFnLCB0aGUgZG9jdW1lbnRhdGlvbiBsaW5rcyB0b1xudGhlIHBhcmVudC5cbiovXG5jb25zdCB0YWdzID0ge1xuICAgIC8qKlxuICAgIEEgY29tbWVudC5cbiAgICAqL1xuICAgIGNvbW1lbnQsXG4gICAgLyoqXG4gICAgQSBsaW5lIFtjb21tZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudCkuXG4gICAgKi9cbiAgICBsaW5lQ29tbWVudDogdChjb21tZW50KSxcbiAgICAvKipcbiAgICBBIGJsb2NrIFtjb21tZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudCkuXG4gICAgKi9cbiAgICBibG9ja0NvbW1lbnQ6IHQoY29tbWVudCksXG4gICAgLyoqXG4gICAgQSBkb2N1bWVudGF0aW9uIFtjb21tZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudCkuXG4gICAgKi9cbiAgICBkb2NDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8qKlxuICAgIEFueSBraW5kIG9mIGlkZW50aWZpZXIuXG4gICAgKi9cbiAgICBuYW1lLFxuICAgIC8qKlxuICAgIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgdmFyaWFibGUuXG4gICAgKi9cbiAgICB2YXJpYWJsZU5hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSB0eXBlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkuXG4gICAgKi9cbiAgICB0eXBlTmFtZTogdHlwZU5hbWUsXG4gICAgLyoqXG4gICAgQSB0YWcgbmFtZSAoc3VidGFnIG9mIFtgdHlwZU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MudHlwZU5hbWUpKS5cbiAgICAqL1xuICAgIHRhZ05hbWU6IHQodHlwZU5hbWUpLFxuICAgIC8qKlxuICAgIEEgcHJvcGVydHkgb3IgZmllbGQgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLFxuICAgIC8qKlxuICAgIEFuIGF0dHJpYnV0ZSBuYW1lIChzdWJ0YWcgb2YgW2Bwcm9wZXJ0eU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKSkuXG4gICAgKi9cbiAgICBhdHRyaWJ1dGVOYW1lOiB0KHByb3BlcnR5TmFtZSksXG4gICAgLyoqXG4gICAgVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSBjbGFzcy5cbiAgICAqL1xuICAgIGNsYXNzTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIGxhYmVsIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkuXG4gICAgKi9cbiAgICBsYWJlbE5hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSBuYW1lc3BhY2UgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIG5hbWVzcGFjZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBUaGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSBvZiBhIG1hY3JvLlxuICAgICovXG4gICAgbWFjcm9OYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgbGl0ZXJhbCB2YWx1ZS5cbiAgICAqL1xuICAgIGxpdGVyYWwsXG4gICAgLyoqXG4gICAgQSBzdHJpbmcgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIHN0cmluZyxcbiAgICAvKipcbiAgICBBIGRvY3VtZW50YXRpb24gW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykuXG4gICAgKi9cbiAgICBkb2NTdHJpbmc6IHQoc3RyaW5nKSxcbiAgICAvKipcbiAgICBBIGNoYXJhY3RlciBsaXRlcmFsIChzdWJ0YWcgb2YgW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykpLlxuICAgICovXG4gICAgY2hhcmFjdGVyOiB0KHN0cmluZyksXG4gICAgLyoqXG4gICAgQW4gYXR0cmlidXRlIHZhbHVlIChzdWJ0YWcgb2YgW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykpLlxuICAgICovXG4gICAgYXR0cmlidXRlVmFsdWU6IHQoc3RyaW5nKSxcbiAgICAvKipcbiAgICBBIG51bWJlciBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgbnVtYmVyLFxuICAgIC8qKlxuICAgIEFuIGludGVnZXIgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICAqL1xuICAgIGludGVnZXI6IHQobnVtYmVyKSxcbiAgICAvKipcbiAgICBBIGZsb2F0aW5nLXBvaW50IFtudW1iZXJdKCNoaWdobGlnaHQudGFncy5udW1iZXIpIGxpdGVyYWwuXG4gICAgKi9cbiAgICBmbG9hdDogdChudW1iZXIpLFxuICAgIC8qKlxuICAgIEEgYm9vbGVhbiBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgYm9vbDogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBSZWd1bGFyIGV4cHJlc3Npb24gW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIHJlZ2V4cDogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBbiBlc2NhcGUgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKSwgZm9yIGV4YW1wbGUgYVxuICAgIGJhY2tzbGFzaCBlc2NhcGUgaW4gYSBzdHJpbmcuXG4gICAgKi9cbiAgICBlc2NhcGU6IHQobGl0ZXJhbCksXG4gICAgLyoqXG4gICAgQSBjb2xvciBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgY29sb3I6IHQobGl0ZXJhbCksXG4gICAgLyoqXG4gICAgQSBVUkwgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIHVybDogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIGxhbmd1YWdlIGtleXdvcmQuXG4gICAgKi9cbiAgICBrZXl3b3JkLFxuICAgIC8qKlxuICAgIFRoZSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGZvciB0aGUgc2VsZiBvciB0aGlzXG4gICAgb2JqZWN0LlxuICAgICovXG4gICAgc2VsZjogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBUaGUgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSBmb3IgbnVsbC5cbiAgICAqL1xuICAgIG51bGw6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGRlbm90aW5nIHNvbWUgYXRvbWljIHZhbHVlLlxuICAgICovXG4gICAgYXRvbTogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCByZXByZXNlbnRzIGEgdW5pdC5cbiAgICAqL1xuICAgIHVuaXQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBtb2RpZmllciBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpLlxuICAgICovXG4gICAgbW9kaWZpZXI6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHRoYXQgYWN0cyBhcyBhbiBvcGVyYXRvci5cbiAgICAqL1xuICAgIG9wZXJhdG9yS2V5d29yZDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIGNvbnRyb2wtZmxvdyByZWxhdGVkIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgKi9cbiAgICBjb250cm9sS2V5d29yZDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCBkZWZpbmVzIHNvbWV0aGluZy5cbiAgICAqL1xuICAgIGRlZmluaXRpb25LZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSByZWxhdGVkIHRvIGRlZmluaW5nIG9yXG4gICAgaW50ZXJmYWNpbmcgd2l0aCBtb2R1bGVzLlxuICAgICovXG4gICAgbW9kdWxlS2V5d29yZDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBbiBvcGVyYXRvci5cbiAgICAqL1xuICAgIG9wZXJhdG9yLFxuICAgIC8qKlxuICAgIEFuIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IGRlcmVmZXJlbmNlcyBzb21ldGhpbmcuXG4gICAgKi9cbiAgICBkZXJlZk9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBBcml0aG1ldGljLXJlbGF0ZWQgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgYXJpdGhtZXRpY09wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBMb2dpY2FsIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGxvZ2ljT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIEJpdCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBiaXR3aXNlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIENvbXBhcmlzb24gW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgY29tcGFyZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBbT3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikgdGhhdCB1cGRhdGVzIGl0cyBvcGVyYW5kLlxuICAgICovXG4gICAgdXBkYXRlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFtPcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgICovXG4gICAgZGVmaW5pdGlvbk9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBUeXBlLXJlbGF0ZWQgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgdHlwZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBDb250cm9sLWZsb3cgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgY29udHJvbE9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBQcm9ncmFtIG9yIG1hcmt1cCBwdW5jdHVhdGlvbi5cbiAgICAqL1xuICAgIHB1bmN0dWF0aW9uLFxuICAgIC8qKlxuICAgIFtQdW5jdHVhdGlvbl0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKSB0aGF0IHNlcGFyYXRlc1xuICAgIHRoaW5ncy5cbiAgICAqL1xuICAgIHNlcGFyYXRvcjogdChwdW5jdHVhdGlvbiksXG4gICAgLyoqXG4gICAgQnJhY2tldC1zdHlsZSBbcHVuY3R1YXRpb25dKCNoaWdobGlnaHQudGFncy5wdW5jdHVhdGlvbikuXG4gICAgKi9cbiAgICBicmFja2V0LFxuICAgIC8qKlxuICAgIEFuZ2xlIFticmFja2V0c10oI2hpZ2hsaWdodC50YWdzLmJyYWNrZXQpICh1c3VhbGx5IGA8YCBhbmQgYD5gXG4gICAgdG9rZW5zKS5cbiAgICAqL1xuICAgIGFuZ2xlQnJhY2tldDogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBTcXVhcmUgW2JyYWNrZXRzXSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkgKHVzdWFsbHkgYFtgIGFuZCBgXWBcbiAgICB0b2tlbnMpLlxuICAgICovXG4gICAgc3F1YXJlQnJhY2tldDogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBQYXJlbnRoZXNlcyAodXN1YWxseSBgKGAgYW5kIGApYCB0b2tlbnMpLiBTdWJ0YWcgb2ZcbiAgICBbYnJhY2tldF0oI2hpZ2hsaWdodC50YWdzLmJyYWNrZXQpLlxuICAgICovXG4gICAgcGFyZW46IHQoYnJhY2tldCksXG4gICAgLyoqXG4gICAgQnJhY2VzICh1c3VhbGx5IGB7YCBhbmQgYH1gIHRva2VucykuIFN1YnRhZyBvZlxuICAgIFticmFja2V0XSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkuXG4gICAgKi9cbiAgICBicmFjZTogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBDb250ZW50LCBmb3IgZXhhbXBsZSBwbGFpbiB0ZXh0IGluIFhNTCBvciBtYXJrdXAgZG9jdW1lbnRzLlxuICAgICovXG4gICAgY29udGVudCxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIGhlYWRpbmcuXG4gICAgKi9cbiAgICBoZWFkaW5nLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgMSBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzE6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCAyIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nMjogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDMgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmczOiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgNCBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzQ6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCA1IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nNTogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDYgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmc2OiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgcHJvc2UgW2NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSBzZXBhcmF0b3IgKHN1Y2ggYXMgYSBob3Jpem9udGFsIHJ1bGUpLlxuICAgICovXG4gICAgY29udGVudFNlcGFyYXRvcjogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIGxpc3QuXG4gICAgKi9cbiAgICBsaXN0OiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgcXVvdGUuXG4gICAgKi9cbiAgICBxdW90ZTogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgZW1waGFzaXplZC5cbiAgICAqL1xuICAgIGVtcGhhc2lzOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBzdHlsZWQgc3Ryb25nLlxuICAgICovXG4gICAgc3Ryb25nOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBwYXJ0IG9mIGEgbGluay5cbiAgICAqL1xuICAgIGxpbms6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBhcyBjb2RlIG9yXG4gICAgbW9ub3NwYWNlLlxuICAgICovXG4gICAgbW9ub3NwYWNlOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBoYXMgYSBzdHJpa2UtdGhyb3VnaFxuICAgIHN0eWxlLlxuICAgICovXG4gICAgc3RyaWtldGhyb3VnaDogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBJbnNlcnRlZCB0ZXh0IGluIGEgY2hhbmdlLXRyYWNraW5nIGZvcm1hdC5cbiAgICAqL1xuICAgIGluc2VydGVkOiB0KCksXG4gICAgLyoqXG4gICAgRGVsZXRlZCB0ZXh0LlxuICAgICovXG4gICAgZGVsZXRlZDogdCgpLFxuICAgIC8qKlxuICAgIENoYW5nZWQgdGV4dC5cbiAgICAqL1xuICAgIGNoYW5nZWQ6IHQoKSxcbiAgICAvKipcbiAgICBBbiBpbnZhbGlkIG9yIHVuc3ludGFjdGljIGVsZW1lbnQuXG4gICAgKi9cbiAgICBpbnZhbGlkOiB0KCksXG4gICAgLyoqXG4gICAgTWV0YWRhdGEgb3IgbWV0YS1pbnN0cnVjdGlvbi5cbiAgICAqL1xuICAgIG1ldGEsXG4gICAgLyoqXG4gICAgW01ldGFkYXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkgdGhhdCBhcHBsaWVzIHRvIHRoZSBlbnRpcmVcbiAgICBkb2N1bWVudC5cbiAgICAqL1xuICAgIGRvY3VtZW50TWV0YTogdChtZXRhKSxcbiAgICAvKipcbiAgICBbTWV0YWRhdGFdKCNoaWdobGlnaHQudGFncy5tZXRhKSB0aGF0IGFubm90YXRlcyBvciBhZGRzXG4gICAgYXR0cmlidXRlcyB0byBhIGdpdmVuIHN5bnRhY3RpYyBlbGVtZW50LlxuICAgICovXG4gICAgYW5ub3RhdGlvbjogdChtZXRhKSxcbiAgICAvKipcbiAgICBQcm9jZXNzaW5nIGluc3RydWN0aW9uIG9yIHByZXByb2Nlc3NvciBkaXJlY3RpdmUuIFN1YnRhZyBvZlxuICAgIFttZXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkuXG4gICAgKi9cbiAgICBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb246IHQobWV0YSksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhXG4gICAgZ2l2ZW4gZWxlbWVudCBpcyBiZWluZyBkZWZpbmVkLiBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggdGhlXG4gICAgdmFyaW91cyBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIHRhZ3MuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJkZWZpbml0aW9uXCIpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIHRoYXRcbiAgICBzb21ldGhpbmcgaXMgY29uc3RhbnQuIE1vc3RseSBleHBlY3RlZCB0byBiZSB1c2VkIHdpdGhcbiAgICBbdmFyaWFibGUgbmFtZXNdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpLlxuICAgICovXG4gICAgY29uc3RhbnQ6IFRhZy5kZWZpbmVNb2RpZmllcihcImNvbnN0YW50XCIpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHVzZWQgdG8gaW5kaWNhdGUgdGhhdFxuICAgIGEgW3ZhcmlhYmxlXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKSBvciBbcHJvcGVydHlcbiAgICBuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKSBpcyBiZWluZyBjYWxsZWQgb3IgZGVmaW5lZFxuICAgIGFzIGEgZnVuY3Rpb24uXG4gICAgKi9cbiAgICBmdW5jdGlvbjogVGFnLmRlZmluZU1vZGlmaWVyKFwiZnVuY3Rpb25cIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBjYW4gYmUgYXBwbGllZCB0b1xuICAgIFtuYW1lc10oI2hpZ2hsaWdodC50YWdzLm5hbWUpIHRvIGluZGljYXRlIHRoYXQgdGhleSBiZWxvbmcgdG9cbiAgICB0aGUgbGFuZ3VhZ2UncyBzdGFuZGFyZCBlbnZpcm9ubWVudC5cbiAgICAqL1xuICAgIHN0YW5kYXJkOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJzdGFuZGFyZFwiKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGluZGljYXRlcyBhIGdpdmVuXG4gICAgW25hbWVzXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgaXMgbG9jYWwgdG8gc29tZSBzY29wZS5cbiAgICAqL1xuICAgIGxvY2FsOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJsb2NhbFwiKSxcbiAgICAvKipcbiAgICBBIGdlbmVyaWMgdmFyaWFudCBbbW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0XG4gICAgY2FuIGJlIHVzZWQgdG8gdGFnIGxhbmd1YWdlLXNwZWNpZmljIGFsdGVybmF0aXZlIHZhcmlhbnRzIG9mXG4gICAgc29tZSBjb21tb24gdGFnLiBJdCBpcyByZWNvbW1lbmRlZCBmb3IgdGhlbWVzIHRvIGRlZmluZSBzcGVjaWFsXG4gICAgZm9ybXMgb2YgYXQgbGVhc3QgdGhlIFtzdHJpbmddKCNoaWdobGlnaHQudGFncy5zdHJpbmcpIGFuZFxuICAgIFt2YXJpYWJsZSBuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKSB0YWdzLCBzaW5jZSB0aG9zZVxuICAgIGNvbWUgdXAgYSBsb3QuXG4gICAgKi9cbiAgICBzcGVjaWFsOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJzcGVjaWFsXCIpXG59O1xuZm9yIChsZXQgbmFtZSBpbiB0YWdzKSB7XG4gICAgbGV0IHZhbCA9IHRhZ3NbbmFtZV07XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIFRhZylcbiAgICAgICAgdmFsLm5hbWUgPSBuYW1lO1xufVxuLyoqXG5UaGlzIGlzIGEgaGlnaGxpZ2h0ZXIgdGhhdCBhZGRzIHN0YWJsZSwgcHJlZGljdGFibGUgY2xhc3NlcyB0b1xudG9rZW5zLCBmb3Igc3R5bGluZyB3aXRoIGV4dGVybmFsIENTUy5cblxuVGhlIGZvbGxvd2luZyB0YWdzIGFyZSBtYXBwZWQgdG8gdGhlaXIgbmFtZSBwcmVmaXhlZCB3aXRoIGBcInRvay1cImBcbihmb3IgZXhhbXBsZSBgXCJ0b2stY29tbWVudFwiYCk6XG5cbiogW2BsaW5rYF0oI2hpZ2hsaWdodC50YWdzLmxpbmspXG4qIFtgaGVhZGluZ2BdKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKVxuKiBbYGVtcGhhc2lzYF0oI2hpZ2hsaWdodC50YWdzLmVtcGhhc2lzKVxuKiBbYHN0cm9uZ2BdKCNoaWdobGlnaHQudGFncy5zdHJvbmcpXG4qIFtga2V5d29yZGBdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKVxuKiBbYGF0b21gXSgjaGlnaGxpZ2h0LnRhZ3MuYXRvbSlcbiogW2Bib29sYF0oI2hpZ2hsaWdodC50YWdzLmJvb2wpXG4qIFtgdXJsYF0oI2hpZ2hsaWdodC50YWdzLnVybClcbiogW2BsYWJlbE5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MubGFiZWxOYW1lKVxuKiBbYGluc2VydGVkYF0oI2hpZ2hsaWdodC50YWdzLmluc2VydGVkKVxuKiBbYGRlbGV0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuZGVsZXRlZClcbiogW2BsaXRlcmFsYF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpXG4qIFtgc3RyaW5nYF0oI2hpZ2hsaWdodC50YWdzLnN0cmluZylcbiogW2BudW1iZXJgXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKVxuKiBbYHZhcmlhYmxlTmFtZWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4qIFtgdHlwZU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MudHlwZU5hbWUpXG4qIFtgbmFtZXNwYWNlYF0oI2hpZ2hsaWdodC50YWdzLm5hbWVzcGFjZSlcbiogW2BjbGFzc05hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MuY2xhc3NOYW1lKVxuKiBbYG1hY3JvTmFtZWBdKCNoaWdobGlnaHQudGFncy5tYWNyb05hbWUpXG4qIFtgcHJvcGVydHlOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSlcbiogW2BvcGVyYXRvcmBdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcilcbiogW2Bjb21tZW50YF0oI2hpZ2hsaWdodC50YWdzLmNvbW1lbnQpXG4qIFtgbWV0YWBdKCNoaWdobGlnaHQudGFncy5tZXRhKVxuKiBbYHB1bmN0dWF0aW9uYF0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKVxuKiBbYGludmFsaWRgXSgjaGlnaGxpZ2h0LnRhZ3MuaW52YWxpZClcblxuSW4gYWRkaXRpb24sIHRoZXNlIG1hcHBpbmdzIGFyZSBwcm92aWRlZDpcblxuKiBbYHJlZ2V4cGBdKCNoaWdobGlnaHQudGFncy5yZWdleHApLFxuICBbYGVzY2FwZWBdKCNoaWdobGlnaHQudGFncy5lc2NhcGUpLCBhbmRcbiAgW2BzcGVjaWFsYF0oI2hpZ2hsaWdodC50YWdzLnNwZWNpYWwpW2Aoc3RyaW5nKWBdKCNoaWdobGlnaHQudGFncy5zdHJpbmcpXG4gIGFyZSBtYXBwZWQgdG8gYFwidG9rLXN0cmluZzJcImBcbiogW2BzcGVjaWFsYF0oI2hpZ2hsaWdodC50YWdzLnNwZWNpYWwpW2AodmFyaWFibGVOYW1lKWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4gIHRvIGBcInRvay12YXJpYWJsZU5hbWUyXCJgXG4qIFtgbG9jYWxgXSgjaGlnaGxpZ2h0LnRhZ3MubG9jYWwpW2AodmFyaWFibGVOYW1lKWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4gIHRvIGBcInRvay12YXJpYWJsZU5hbWUgdG9rLWxvY2FsXCJgXG4qIFtgZGVmaW5pdGlvbmBdKCNoaWdobGlnaHQudGFncy5kZWZpbml0aW9uKVtgKHZhcmlhYmxlTmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuICB0byBgXCJ0b2stdmFyaWFibGVOYW1lIHRvay1kZWZpbml0aW9uXCJgXG4qIFtgZGVmaW5pdGlvbmBdKCNoaWdobGlnaHQudGFncy5kZWZpbml0aW9uKVtgKHByb3BlcnR5TmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKVxuICB0byBgXCJ0b2stcHJvcGVydHlOYW1lIHRvay1kZWZpbml0aW9uXCJgXG4qL1xuY29uc3QgY2xhc3NIaWdobGlnaHRlciA9IHRhZ0hpZ2hsaWdodGVyKFtcbiAgICB7IHRhZzogdGFncy5saW5rLCBjbGFzczogXCJ0b2stbGlua1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaGVhZGluZywgY2xhc3M6IFwidG9rLWhlYWRpbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmVtcGhhc2lzLCBjbGFzczogXCJ0b2stZW1waGFzaXNcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZywgY2xhc3M6IFwidG9rLXN0cm9uZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Mua2V5d29yZCwgY2xhc3M6IFwidG9rLWtleXdvcmRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmF0b20sIGNsYXNzOiBcInRvay1hdG9tXCIgfSxcbiAgICB7IHRhZzogdGFncy5ib29sLCBjbGFzczogXCJ0b2stYm9vbFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudXJsLCBjbGFzczogXCJ0b2stdXJsXCIgfSxcbiAgICB7IHRhZzogdGFncy5sYWJlbE5hbWUsIGNsYXNzOiBcInRvay1sYWJlbE5hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmluc2VydGVkLCBjbGFzczogXCJ0b2staW5zZXJ0ZWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmRlbGV0ZWQsIGNsYXNzOiBcInRvay1kZWxldGVkXCIgfSxcbiAgICB7IHRhZzogdGFncy5saXRlcmFsLCBjbGFzczogXCJ0b2stbGl0ZXJhbFwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaW5nLCBjbGFzczogXCJ0b2stc3RyaW5nXCIgfSxcbiAgICB7IHRhZzogdGFncy5udW1iZXIsIGNsYXNzOiBcInRvay1udW1iZXJcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5yZWdleHAsIHRhZ3MuZXNjYXBlLCB0YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpXSwgY2xhc3M6IFwidG9rLXN0cmluZzJcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnZhcmlhYmxlTmFtZSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubG9jYWwodGFncy52YXJpYWJsZU5hbWUpLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lIHRvay1sb2NhbFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUgdG9rLWRlZmluaXRpb25cIiB9LFxuICAgIHsgdGFnOiB0YWdzLnNwZWNpYWwodGFncy52YXJpYWJsZU5hbWUpLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lMlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnByb3BlcnR5TmFtZSksIGNsYXNzOiBcInRvay1wcm9wZXJ0eU5hbWUgdG9rLWRlZmluaXRpb25cIiB9LFxuICAgIHsgdGFnOiB0YWdzLnR5cGVOYW1lLCBjbGFzczogXCJ0b2stdHlwZU5hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm5hbWVzcGFjZSwgY2xhc3M6IFwidG9rLW5hbWVzcGFjZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuY2xhc3NOYW1lLCBjbGFzczogXCJ0b2stY2xhc3NOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5tYWNyb05hbWUsIGNsYXNzOiBcInRvay1tYWNyb05hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnByb3BlcnR5TmFtZSwgY2xhc3M6IFwidG9rLXByb3BlcnR5TmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3Mub3BlcmF0b3IsIGNsYXNzOiBcInRvay1vcGVyYXRvclwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuY29tbWVudCwgY2xhc3M6IFwidG9rLWNvbW1lbnRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm1ldGEsIGNsYXNzOiBcInRvay1tZXRhXCIgfSxcbiAgICB7IHRhZzogdGFncy5pbnZhbGlkLCBjbGFzczogXCJ0b2staW52YWxpZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucHVuY3R1YXRpb24sIGNsYXNzOiBcInRvay1wdW5jdHVhdGlvblwiIH1cbl0pO1xuXG5leHBvcnQgeyBUYWcsIGNsYXNzSGlnaGxpZ2h0ZXIsIGdldFN0eWxlVGFncywgaGlnaGxpZ2h0Q29kZSwgaGlnaGxpZ2h0VHJlZSwgc3R5bGVUYWdzLCB0YWdIaWdobGlnaHRlciwgdGFncyB9O1xuIiwKICAgICJpbXBvcnQgeyBOb2RlUHJvcCwgSXRlck1vZGUsIFRyZWUsIFRyZWVGcmFnbWVudCwgUGFyc2VyLCBOb2RlVHlwZSwgTm9kZVNldCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuaW1wb3J0IHsgU3RhdGVFZmZlY3QsIFN0YXRlRmllbGQsIEZhY2V0LCBFZGl0b3JTdGF0ZSwgY291bnRDb2x1bW4sIGNvbWJpbmVDb25maWcsIFJhbmdlU2V0LCBSYW5nZVNldEJ1aWxkZXIsIFByZWMgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBWaWV3UGx1Z2luLCBsb2dFeGNlcHRpb24sIEVkaXRvclZpZXcsIERlY29yYXRpb24sIFdpZGdldFR5cGUsIGd1dHRlciwgR3V0dGVyTWFya2VyLCBEaXJlY3Rpb24gfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcbmltcG9ydCB7IFN0eWxlTW9kdWxlIH0gZnJvbSAnc3R5bGUtbW9kJztcblxudmFyIF9hO1xuLyoqXG5Ob2RlIHByb3Agc3RvcmVkIGluIGEgcGFyc2VyJ3MgdG9wIHN5bnRheCBub2RlIHRvIHByb3ZpZGUgdGhlXG5mYWNldCB0aGF0IHN0b3JlcyBsYW5ndWFnZS1zcGVjaWZpYyBkYXRhIGZvciB0aGF0IGxhbmd1YWdlLlxuKi9cbmNvbnN0IGxhbmd1YWdlRGF0YVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkhlbHBlciBmdW5jdGlvbiB0byBkZWZpbmUgYSBmYWNldCAodG8gYmUgYWRkZWQgdG8gdGhlIHRvcCBzeW50YXhcbm5vZGUocykgZm9yIGEgbGFuZ3VhZ2UgdmlhXG5bYGxhbmd1YWdlRGF0YVByb3BgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApKSwgdGhhdCB3aWxsIGJlXG51c2VkIHRvIGFzc29jaWF0ZSBsYW5ndWFnZSBkYXRhIHdpdGggdGhlIGxhbmd1YWdlLiBZb3VcbnByb2JhYmx5IG9ubHkgbmVlZCB0aGlzIHdoZW4gc3ViY2xhc3NpbmdcbltgTGFuZ3VhZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlKS5cbiovXG5mdW5jdGlvbiBkZWZpbmVMYW5ndWFnZUZhY2V0KGJhc2VEYXRhKSB7XG4gICAgcmV0dXJuIEZhY2V0LmRlZmluZSh7XG4gICAgICAgIGNvbWJpbmU6IGJhc2VEYXRhID8gdmFsdWVzID0+IHZhbHVlcy5jb25jYXQoYmFzZURhdGEpIDogdW5kZWZpbmVkXG4gICAgfSk7XG59XG4vKipcblN5bnRheCBub2RlIHByb3AgdXNlZCB0byByZWdpc3RlciBzdWJsYW5ndWFnZXMuIFNob3VsZCBiZSBhZGRlZCB0b1xudGhlIHRvcCBsZXZlbCBub2RlIHR5cGUgZm9yIHRoZSBsYW5ndWFnZS5cbiovXG5jb25zdCBzdWJsYW5ndWFnZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkEgbGFuZ3VhZ2Ugb2JqZWN0IG1hbmFnZXMgcGFyc2luZyBhbmQgcGVyLWxhbmd1YWdlXG5bbWV0YWRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpLiBQYXJzZSBkYXRhIGlzXG5tYW5hZ2VkIGFzIGEgW0xlemVyXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0KSB0cmVlLiBUaGUgY2xhc3NcbmNhbiBiZSB1c2VkIGRpcmVjdGx5LCB2aWEgdGhlIFtgTFJMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTFJMYW5ndWFnZSlcbnN1YmNsYXNzIGZvciBbTGV6ZXJdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvKSBMUiBwYXJzZXJzLCBvclxudmlhIHRoZSBbYFN0cmVhbUxhbmd1YWdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1MYW5ndWFnZSkgc3ViY2xhc3NcbmZvciBzdHJlYW0gcGFyc2Vycy5cbiovXG5jbGFzcyBMYW5ndWFnZSB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgbGFuZ3VhZ2Ugb2JqZWN0LiBJZiB5b3UgbmVlZCB0byBpbnZva2UgdGhpc1xuICAgIGRpcmVjdGx5LCBmaXJzdCBkZWZpbmUgYSBkYXRhIGZhY2V0IHdpdGhcbiAgICBbYGRlZmluZUxhbmd1YWdlRmFjZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmRlZmluZUxhbmd1YWdlRmFjZXQpLCBhbmQgdGhlblxuICAgIGNvbmZpZ3VyZSB5b3VyIHBhcnNlciB0byBbYXR0YWNoXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApIGl0XG4gICAgdG8gdGhlIGxhbmd1YWdlJ3Mgb3V0ZXIgc3ludGF4IG5vZGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgW2xhbmd1YWdlIGRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpIGZhY2V0XG4gICAgdXNlZCBmb3IgdGhpcyBsYW5ndWFnZS5cbiAgICAqL1xuICAgIGRhdGEsIHBhcnNlciwgZXh0cmFFeHRlbnNpb25zID0gW10sIFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2UgbmFtZS5cbiAgICAqL1xuICAgIG5hbWUgPSBcIlwiKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIC8vIEtsdWRnZSB0byBkZWZpbmUgRWRpdG9yU3RhdGUudHJlZSBhcyBhIGRlYnVnZ2luZyBoZWxwZXIsXG4gICAgICAgIC8vIHdpdGhvdXQgdGhlIEVkaXRvclN0YXRlIHBhY2thZ2UgYWN0dWFsbHkga25vd2luZyBhYm91dFxuICAgICAgICAvLyBsYW5ndWFnZXMgYW5kIGxlemVyIHRyZWVzLlxuICAgICAgICBpZiAoIUVkaXRvclN0YXRlLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInRyZWVcIikpXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWRpdG9yU3RhdGUucHJvdG90eXBlLCBcInRyZWVcIiwgeyBnZXQoKSB7IHJldHVybiBzeW50YXhUcmVlKHRoaXMpOyB9IH0pO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSBbXG4gICAgICAgICAgICBsYW5ndWFnZS5vZih0aGlzKSxcbiAgICAgICAgICAgIEVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YS5vZigoc3RhdGUsIHBvcywgc2lkZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0b3AgPSB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSksIGRhdGEgPSB0b3AudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gc3RhdGUuZmFjZXQoZGF0YSksIHN1YiA9IHRvcC50eXBlLnByb3Aoc3VibGFuZ3VhZ2VQcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lck5vZGUgPSB0b3AucmVzb2x2ZShwb3MgLSB0b3AuZnJvbSwgc2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1Ymxhbmcgb2Ygc3ViKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmxhbmcudGVzdChpbm5lck5vZGUsIHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gc3RhdGUuZmFjZXQoc3VibGFuZy5mYWNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmxhbmcudHlwZSA9PSBcInJlcGxhY2VcIiA/IGRhdGEgOiBkYXRhLmNvbmNhdChiYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICBdLmNvbmNhdChleHRyYUV4dGVuc2lvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBRdWVyeSB3aGV0aGVyIHRoaXMgbGFuZ3VhZ2UgaXMgYWN0aXZlIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGlzQWN0aXZlQXQoc3RhdGUsIHBvcywgc2lkZSA9IC0xKSB7XG4gICAgICAgIHJldHVybiB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSkudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHRoaXMuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgZG9jdW1lbnQgcmVnaW9ucyB0aGF0IHdlcmUgcGFyc2VkIHVzaW5nIHRoaXMgbGFuZ3VhZ2UuXG4gICAgVGhlIHJldHVybmVkIHJlZ2lvbnMgd2lsbCBfaW5jbHVkZV8gYW55IG5lc3RlZCBsYW5ndWFnZXMgcm9vdGVkXG4gICAgaW4gdGhpcyBsYW5ndWFnZSwgd2hlbiB0aG9zZSBleGlzdC5cbiAgICAqL1xuICAgIGZpbmRSZWdpb25zKHN0YXRlKSB7XG4gICAgICAgIGxldCBsYW5nID0gc3RhdGUuZmFjZXQobGFuZ3VhZ2UpO1xuICAgICAgICBpZiAoKGxhbmcgPT09IG51bGwgfHwgbGFuZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFuZy5kYXRhKSA9PSB0aGlzLmRhdGEpXG4gICAgICAgICAgICByZXR1cm4gW3sgZnJvbTogMCwgdG86IHN0YXRlLmRvYy5sZW5ndGggfV07XG4gICAgICAgIGlmICghbGFuZyB8fCAhbGFuZy5hbGxvd3NOZXN0aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBleHBsb3JlID0gKHRyZWUsIGZyb20pID0+IHtcbiAgICAgICAgICAgIGlmICh0cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tLCB0bzogZnJvbSArIHRyZWUubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtb3VudCA9IHRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgICAgIGlmIChtb3VudCkge1xuICAgICAgICAgICAgICAgIGlmIChtb3VudC50cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbTogci5mcm9tICsgZnJvbSwgdG86IHIudG8gKyBmcm9tIH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGZyb206IGZyb20sIHRvOiBmcm9tICsgdHJlZS5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUobW91bnQudHJlZSwgbW91bnQub3ZlcmxheVswXS5mcm9tICsgZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gc2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2ggPSB0cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaCBpbnN0YW5jZW9mIFRyZWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUoY2gsIHRyZWUucG9zaXRpb25zW2ldICsgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGV4cGxvcmUoc3ludGF4VHJlZShzdGF0ZSksIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGxhbmd1YWdlIGFsbG93cyBuZXN0ZWQgbGFuZ3VhZ2VzLiBUaGVcbiAgICBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZS5cbiAgICAqL1xuICAgIGdldCBhbGxvd3NOZXN0aW5nKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuLyoqXG5AaW50ZXJuYWxcbiovXG5MYW5ndWFnZS5zZXRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmZ1bmN0aW9uIHRvcE5vZGVBdChzdGF0ZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IHRvcExhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSksIHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKS50b3BOb2RlO1xuICAgIGlmICghdG9wTGFuZyB8fCB0b3BMYW5nLmFsbG93c05lc3RpbmcpIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHRyZWU7IG5vZGU7IG5vZGUgPSBub2RlLmVudGVyKHBvcywgc2lkZSwgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpKVxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZS5pc1RvcClcbiAgICAgICAgICAgICAgICB0cmVlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWU7XG59XG4vKipcbkEgc3ViY2xhc3Mgb2YgW2BMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGZvciB1c2Ugd2l0aCBMZXplclxuW0xSIHBhcnNlcnNdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjbHIuTFJQYXJzZXIpXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExSTGFuZ3VhZ2UgZXh0ZW5kcyBMYW5ndWFnZSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcGFyc2VyLCBuYW1lKSB7XG4gICAgICAgIHN1cGVyKGRhdGEsIHBhcnNlciwgW10sIG5hbWUpO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbGFuZ3VhZ2UgZnJvbSBhIHBhcnNlci5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQoc3BlYy5sYW5ndWFnZURhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UoZGF0YSwgc3BlYy5wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgICAgIHByb3BzOiBbbGFuZ3VhZ2VEYXRhUHJvcC5hZGQodHlwZSA9PiB0eXBlLmlzVG9wID8gZGF0YSA6IHVuZGVmaW5lZCldXG4gICAgICAgIH0pLCBzcGVjLm5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhpcyBsYW5ndWFnZSB3aXRoIGEgcmVjb25maWd1cmVkXG4gICAgdmVyc2lvbiBvZiBpdHMgcGFyc2VyIGFuZCBvcHRpb25hbGx5IGEgbmV3IG5hbWUuXG4gICAgKi9cbiAgICBjb25maWd1cmUob3B0aW9ucywgbmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UodGhpcy5kYXRhLCB0aGlzLnBhcnNlci5jb25maWd1cmUob3B0aW9ucyksIG5hbWUgfHwgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiB0aGlzLnBhcnNlci5oYXNXcmFwcGVycygpOyB9XG59XG4vKipcbkdldCB0aGUgc3ludGF4IHRyZWUgZm9yIGEgc3RhdGUsIHdoaWNoIGlzIHRoZSBjdXJyZW50IChwb3NzaWJseVxuaW5jb21wbGV0ZSkgcGFyc2UgdHJlZSBvZiB0aGUgYWN0aXZlXG5bbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpLCBvciB0aGUgZW1wdHkgdHJlZSBpZiB0aGVyZSBpcyBub1xubGFuZ3VhZ2UgYXZhaWxhYmxlLlxuKi9cbmZ1bmN0aW9uIHN5bnRheFRyZWUoc3RhdGUpIHtcbiAgICBsZXQgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpO1xuICAgIHJldHVybiBmaWVsZCA/IGZpZWxkLnRyZWUgOiBUcmVlLmVtcHR5O1xufVxuLyoqXG5UcnkgdG8gZ2V0IGEgcGFyc2UgdHJlZSB0aGF0IHNwYW5zIGF0IGxlYXN0IHVwIHRvIGB1cHRvYC4gVGhlXG5tZXRob2Qgd2lsbCBkbyBhdCBtb3N0IGB0aW1lb3V0YCBtaWxsaXNlY29uZHMgb2Ygd29yayB0byBwYXJzZVxudXAgdG8gdGhhdCBwb2ludCBpZiB0aGUgdHJlZSBpc24ndCBhbHJlYWR5IGF2YWlsYWJsZS5cbiovXG5mdW5jdGlvbiBlbnN1cmVTeW50YXhUcmVlKHN0YXRlLCB1cHRvLCB0aW1lb3V0ID0gNTApIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHBhcnNlID0gKF9hID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRleHQ7XG4gICAgaWYgKCFwYXJzZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IG9sZFZpZXBvcnQgPSBwYXJzZS52aWV3cG9ydDtcbiAgICBwYXJzZS51cGRhdGVWaWV3cG9ydCh7IGZyb206IDAsIHRvOiB1cHRvIH0pO1xuICAgIGxldCByZXN1bHQgPSBwYXJzZS5pc0RvbmUodXB0bykgfHwgcGFyc2Uud29yayh0aW1lb3V0LCB1cHRvKSA/IHBhcnNlLnRyZWUgOiBudWxsO1xuICAgIHBhcnNlLnVwZGF0ZVZpZXdwb3J0KG9sZFZpZXBvcnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcblF1ZXJpZXMgd2hldGhlciB0aGVyZSBpcyBhIGZ1bGwgc3ludGF4IHRyZWUgYXZhaWxhYmxlIHVwIHRvIHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIElmIHRoZXJlIGlzbid0LCB0aGUgYmFja2dyb3VuZCBwYXJzZVxucHJvY2VzcyBfbWlnaHRfIHN0aWxsIGJlIHdvcmtpbmcgYW5kIHVwZGF0ZSB0aGUgdHJlZSBmdXJ0aGVyLCBidXRcbnRoZXJlIGlzIG5vIGd1YXJhbnRlZSBvZiB0aGF04oCUdGhlIHBhcnNlciB3aWxsIFtzdG9wXG53b3JraW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFBhcnNlclJ1bm5pbmcpIHdoZW4gaXQgaGFzIHNwZW50IGFcbmNlcnRhaW4gYW1vdW50IG9mIHRpbWUgb3IgaGFzIG1vdmVkIGJleW9uZCB0aGUgdmlzaWJsZSB2aWV3cG9ydC5cbkFsd2F5cyByZXR1cm5zIGZhbHNlIGlmIG5vIGxhbmd1YWdlIGhhcyBiZWVuIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4VHJlZUF2YWlsYWJsZShzdGF0ZSwgdXB0byA9IHN0YXRlLmRvYy5sZW5ndGgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGV4dC5pc0RvbmUodXB0bykpIHx8IGZhbHNlO1xufVxuLyoqXG5Nb3ZlIHBhcnNpbmcgZm9yd2FyZCwgYW5kIHVwZGF0ZSB0aGUgZWRpdG9yIHN0YXRlIGFmdGVyd2FyZHMgdG9cbnJlZmxlY3QgdGhlIG5ldyB0cmVlLiBXaWxsIHdvcmsgZm9yIGF0IG1vc3QgYHRpbWVvdXRgXG5taWxsaXNlY29uZHMuIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyc2VyIG1hbmFnZWQgZ2V0IHRvIHRoZSBnaXZlblxucG9zaXRpb24gaW4gdGhhdCB0aW1lLlxuKi9cbmZ1bmN0aW9uIGZvcmNlUGFyc2luZyh2aWV3LCB1cHRvID0gdmlldy52aWV3cG9ydC50bywgdGltZW91dCA9IDEwMCkge1xuICAgIGxldCBzdWNjZXNzID0gZW5zdXJlU3ludGF4VHJlZSh2aWV3LnN0YXRlLCB1cHRvLCB0aW1lb3V0KTtcbiAgICBpZiAoc3VjY2VzcyAhPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHt9KTtcbiAgICByZXR1cm4gISFzdWNjZXNzO1xufVxuLyoqXG5UZWxscyB5b3Ugd2hldGhlciB0aGUgbGFuZ3VhZ2UgcGFyc2VyIGlzIHBsYW5uaW5nIHRvIGRvIG1vcmVcbnBhcnNpbmcgd29yayAoaW4gYSBgcmVxdWVzdElkbGVDYWxsYmFja2AgcHNldWRvLXRocmVhZCkgb3IgaGFzXG5zdG9wcGVkIHJ1bm5pbmcsIGVpdGhlciBiZWNhdXNlIGl0IHBhcnNlZCB0aGUgZW50aXJlIGRvY3VtZW50LFxuYmVjYXVzZSBpdCBzcGVudCB0b28gbXVjaCB0aW1lIGFuZCB3YXMgY3V0IG9mZiwgb3IgYmVjYXVzZSB0aGVyZVxuaXMgbm8gbGFuZ3VhZ2UgcGFyc2VyIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4UGFyc2VyUnVubmluZyh2aWV3KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGFyc2VXb3JrZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNXb3JraW5nKCkpIHx8IGZhbHNlO1xufVxuLyoqXG5MZXplci1zdHlsZVxuW2BJbnB1dGBdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjY29tbW9uLklucHV0KVxub2JqZWN0IGZvciBhIFtgVGV4dGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dCkgb2JqZWN0LlxuKi9cbmNsYXNzIERvY0lucHV0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5wdXQgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAgICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gMDtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBcIlwiO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmRvYy5sZW5ndGg7IH1cbiAgICBzeW5jVG8ocG9zKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gdGhpcy5jdXJzb3IubmV4dChwb3MgLSB0aGlzLmN1cnNvclBvcykudmFsdWU7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gcG9zICsgdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNodW5rKHBvcykge1xuICAgICAgICB0aGlzLnN5bmNUbyhwb3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmc7XG4gICAgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIHJlYWQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IHN0cmluZ1N0YXJ0ID0gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgICAgIGlmIChmcm9tIDwgc3RyaW5nU3RhcnQgfHwgdG8gPj0gdGhpcy5jdXJzb3JQb3MpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSAtIHN0cmluZ1N0YXJ0LCB0byAtIHN0cmluZ1N0YXJ0KTtcbiAgICB9XG59XG5sZXQgY3VycmVudENvbnRleHQgPSBudWxsO1xuLyoqXG5BIHBhcnNlIGNvbnRleHQgcHJvdmlkZWQgdG8gcGFyc2VycyB3b3JraW5nIG9uIHRoZSBlZGl0b3IgY29udGVudC5cbiovXG5jbGFzcyBQYXJzZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8qKlxuICAgIFRyZWUgZnJhZ21lbnRzIHRoYXQgY2FuIGJlIHJldXNlZCBieSBpbmNyZW1lbnRhbCByZS1wYXJzZXMuXG4gICAgKi9cbiAgICBmcmFnbWVudHMgPSBbXSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRyZWVMZW4sIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciB2aWV3cG9ydCAob3Igc29tZSBvdmVyYXBwcm94aW1hdGlvblxuICAgIHRoZXJlb2YpLiBJbnRlbmRlZCB0byBiZSB1c2VkIGZvciBvcHBvcnR1bmlzdGljYWxseSBhdm9pZGluZ1xuICAgIHdvcmsgKGluIHdoaWNoIGNhc2VcbiAgICBbYHNraXBVbnRpbEluVmlld2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuUGFyc2VDb250ZXh0LnNraXBVbnRpbEluVmlldylcbiAgICBzaG91bGQgYmUgY2FsbGVkIHRvIG1ha2Ugc3VyZSB0aGUgcGFyc2VyIGlzIHJlc3RhcnRlZCB3aGVuIHRoZVxuICAgIHNraXBwZWQgcmVnaW9uIGJlY29tZXMgdmlzaWJsZSkuXG4gICAgKi9cbiAgICB2aWV3cG9ydCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBza2lwcGVkLCBcbiAgICAvKipcbiAgICBUaGlzIGlzIHdoZXJlIHNraXBwaW5nIHBhcnNlcnMgY2FuIHJlZ2lzdGVyIGEgcHJvbWlzZSB0aGF0LFxuICAgIHdoZW4gcmVzb2x2ZWQsIHdpbGwgc2NoZWR1bGUgYSBuZXcgcGFyc2UuIEl0IGlzIGNsZWFyZWQgd2hlblxuICAgIHRoZSBwYXJzZSB3b3JrZXIgcGlja3MgdXAgdGhlIHByb21pc2UuIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2NoZWR1bGVPbikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy50cmVlTGVuID0gdHJlZUxlbjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLnNraXBwZWQgPSBza2lwcGVkO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT24gPSBzY2hlZHVsZU9uO1xuICAgICAgICB0aGlzLnBhcnNlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBTa2lwcGVkID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShwYXJzZXIsIHN0YXRlLCB2aWV3cG9ydCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dChwYXJzZXIsIHN0YXRlLCBbXSwgVHJlZS5lbXB0eSwgMCwgdmlld3BvcnQsIFtdLCBudWxsKTtcbiAgICB9XG4gICAgc3RhcnRQYXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLnN0YXJ0UGFyc2UobmV3IERvY0lucHV0KHRoaXMuc3RhdGUuZG9jKSwgdGhpcy5mcmFnbWVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHdvcmsodW50aWwsIHVwdG8pIHtcbiAgICAgICAgaWYgKHVwdG8gIT0gbnVsbCAmJiB1cHRvID49IHRoaXMuc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHVwdG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLnRyZWUgIT0gVHJlZS5lbXB0eSAmJiB0aGlzLmlzRG9uZSh1cHRvICE9PSBudWxsICYmIHVwdG8gIT09IHZvaWQgMCA/IHVwdG8gOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnRha2VUcmVlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoQ29udGV4dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVudGlsID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kVGltZSA9IERhdGUubm93KCkgKyB1bnRpbDtcbiAgICAgICAgICAgICAgICB1bnRpbCA9ICgpID0+IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoKTtcbiAgICAgICAgICAgIGlmICh1cHRvICE9IG51bGwgJiYgKHRoaXMucGFyc2Uuc3RvcHBlZEF0ID09IG51bGwgfHwgdGhpcy5wYXJzZS5zdG9wcGVkQXQgPiB1cHRvKSAmJlxuICAgICAgICAgICAgICAgIHVwdG8gPCB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZS5zdG9wQXQodXB0byk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLnBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50cyA9IHRoaXMud2l0aG91dFRlbXBTa2lwcGVkKFRyZWVGcmFnbWVudC5hZGRUcmVlKGRvbmUsIHRoaXMuZnJhZ21lbnRzLCB0aGlzLnBhcnNlLnN0b3BwZWRBdCAhPSBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZUxlbiA9IChfYSA9IHRoaXMucGFyc2Uuc3RvcHBlZEF0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZSA9IGRvbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmVlTGVuIDwgKHVwdG8gIT09IG51bGwgJiYgdXB0byAhPT0gdm9pZCAwID8gdXB0byA6IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5zdGFydFBhcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodW50aWwoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0YWtlVHJlZSgpIHtcbiAgICAgICAgbGV0IHBvcywgdHJlZTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2UgJiYgKHBvcyA9IHRoaXMucGFyc2UucGFyc2VkUG9zKSA+PSB0aGlzLnRyZWVMZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlLnN0b3BwZWRBdCA9PSBudWxsIHx8IHRoaXMucGFyc2Uuc3RvcHBlZEF0ID4gcG9zKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgICAgICAgICB0aGlzLndpdGhDb250ZXh0KCgpID0+IHsgd2hpbGUgKCEodHJlZSA9IHRoaXMucGFyc2UuYWR2YW5jZSgpKSkgeyB9IH0pO1xuICAgICAgICAgICAgdGhpcy50cmVlTGVuID0gcG9zO1xuICAgICAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gdGhpcy53aXRob3V0VGVtcFNraXBwZWQoVHJlZUZyYWdtZW50LmFkZFRyZWUodGhpcy50cmVlLCB0aGlzLmZyYWdtZW50cywgdHJ1ZSkpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2l0aENvbnRleHQoZikge1xuICAgICAgICBsZXQgcHJldiA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZigpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpdGhvdXRUZW1wU2tpcHBlZChmcmFnbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgcjsgciA9IHRoaXMudGVtcFNraXBwZWQucG9wKCk7KVxuICAgICAgICAgICAgZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgci5mcm9tLCByLnRvKTtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjaGFuZ2VzKGNoYW5nZXMsIG5ld1N0YXRlKSB7XG4gICAgICAgIGxldCB7IGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQgfSA9IHRoaXM7XG4gICAgICAgIHRoaXMudGFrZVRyZWUoKTtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgICAgICBjaGFuZ2VzLml0ZXJDaGFuZ2VkUmFuZ2VzKChmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSA9PiByYW5nZXMucHVzaCh7IGZyb21BLCB0b0EsIGZyb21CLCB0b0IgfSkpO1xuICAgICAgICAgICAgZnJhZ21lbnRzID0gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB0cmVlID0gVHJlZS5lbXB0eTtcbiAgICAgICAgICAgIHRyZWVMZW4gPSAwO1xuICAgICAgICAgICAgdmlld3BvcnQgPSB7IGZyb206IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG86IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LnRvLCAxKSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpcHBlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnNraXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyhyLmZyb20sIDEpLCB0byA9IGNoYW5nZXMubWFwUG9zKHIudG8sIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPCB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dCh0aGlzLnBhcnNlciwgbmV3U3RhdGUsIGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQsIHRoaXMuc2NoZWR1bGVPbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdXBkYXRlVmlld3BvcnQodmlld3BvcnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZnJvbSA9PSB2aWV3cG9ydC5mcm9tICYmIHRoaXMudmlld3BvcnQudG8gPT0gdmlld3BvcnQudG8pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgbGV0IHN0YXJ0TGVuID0gdGhpcy5za2lwcGVkLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNraXBwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLnNraXBwZWRbaV07XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHZpZXdwb3J0LnRvICYmIHRvID4gdmlld3BvcnQuZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKHRoaXMuZnJhZ21lbnRzLCBmcm9tLCB0byk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwcGVkLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNraXBwZWQubGVuZ3RoID49IHN0YXJ0TGVuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5wYXJzZSkge1xuICAgICAgICAgICAgdGhpcy50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgTm90aWZ5IHRoZSBwYXJzZSBzY2hlZHVsZXIgdGhhdCB0aGUgZ2l2ZW4gcmVnaW9uIHdhcyBza2lwcGVkXG4gICAgYmVjYXVzZSBpdCB3YXNuJ3QgaW4gdmlldywgYW5kIHRoZSBwYXJzZSBzaG91bGQgYmUgcmVzdGFydGVkXG4gICAgd2hlbiBpdCBjb21lcyBpbnRvIHZpZXcuXG4gICAgKi9cbiAgICBza2lwVW50aWxJblZpZXcoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5za2lwcGVkLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhIHBhcnNlciBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIHBsYWNlaG9sZGVyIHdoZW5cbiAgICBhc3luY2hyb25vdXNseSBsb2FkaW5nIGEgbmVzdGVkIHBhcnNlci4gSXQnbGwgc2tpcCBpdHMgaW5wdXQgYW5kXG4gICAgbWFyayBpdCBhcyBub3QtcmVhbGx5LXBhcnNlZCwgc28gdGhhdCB0aGUgbmV4dCB1cGRhdGUgd2lsbCBwYXJzZVxuICAgIGl0IGFnYWluLlxuICAgIFxuICAgIFdoZW4gYHVudGlsYCBpcyBnaXZlbiwgYSByZXBhcnNlIHdpbGwgYmUgc2NoZWR1bGVkIHdoZW4gdGhhdFxuICAgIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0U2tpcHBpbmdQYXJzZXIodW50aWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1swXS5mcm9tLCB0byA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkUG9zOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN4ID0gY3VycmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gudGVtcFNraXBwZWQucHVzaChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodW50aWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LnNjaGVkdWxlT24gPSBjeC5zY2hlZHVsZU9uID8gUHJvbWlzZS5hbGwoW2N4LnNjaGVkdWxlT24sIHVudGlsXSkgOiB1bnRpbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkUG9zID0gdG87XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgW10sIFtdLCB0byAtIGZyb20pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkQXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCgpIHsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpc0RvbmUodXB0bykge1xuICAgICAgICB1cHRvID0gTWF0aC5taW4odXB0bywgdGhpcy5zdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IGZyYWdzID0gdGhpcy5mcmFnbWVudHM7XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVMZW4gPj0gdXB0byAmJiBmcmFncy5sZW5ndGggJiYgZnJhZ3NbMF0uZnJvbSA9PSAwICYmIGZyYWdzWzBdLnRvID49IHVwdG87XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgcGFyc2UsIG9yIGBudWxsYCBpZiBubyBlZGl0b3JcbiAgICBwYXJzZSBpcyBpbiBwcm9ncmVzcy5cbiAgICAqL1xuICAgIHN0YXRpYyBnZXQoKSB7IHJldHVybiBjdXJyZW50Q29udGV4dDsgfVxufVxuZnVuY3Rpb24gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgZnJvbSwgdG8pIHtcbiAgICByZXR1cm4gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIFt7IGZyb21BOiBmcm9tLCB0b0E6IHRvLCBmcm9tQjogZnJvbSwgdG9COiB0byB9XSk7XG59XG5jbGFzcyBMYW5ndWFnZVN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBBIG11dGFibGUgcGFyc2Ugc3RhdGUgdGhhdCBpcyB1c2VkIHRvIHByZXNlcnZlIHdvcmsgZG9uZSBkdXJpbmdcbiAgICAvLyB0aGUgbGlmZXRpbWUgb2YgYSBzdGF0ZSB3aGVuIG1vdmluZyB0byB0aGUgbmV4dCBzdGF0ZS5cbiAgICBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHJlZSA9IGNvbnRleHQudHJlZTtcbiAgICB9XG4gICAgYXBwbHkodHIpIHtcbiAgICAgICAgaWYgKCF0ci5kb2NDaGFuZ2VkICYmIHRoaXMudHJlZSA9PSB0aGlzLmNvbnRleHQudHJlZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgbmV3Q3ggPSB0aGlzLmNvbnRleHQuY2hhbmdlcyh0ci5jaGFuZ2VzLCB0ci5zdGF0ZSk7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBwYXJzZSB3YXNuJ3QgZG9uZSwgZ28gZm9yd2FyZCBvbmx5IHVwIHRvIGl0c1xuICAgICAgICAvLyBlbmQgcG9zaXRpb24gb3IgdGhlIGVuZCBvZiB0aGUgdmlld3BvcnQsIHRvIGF2b2lkIHNsb3dpbmcgZG93blxuICAgICAgICAvLyBzdGF0ZSB1cGRhdGVzIHdpdGggcGFyc2Ugd29yayBiZXlvbmQgdGhlIHZpZXdwb3J0LlxuICAgICAgICBsZXQgdXB0byA9IHRoaXMuY29udGV4dC50cmVlTGVuID09IHRyLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBNYXRoLm1heCh0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmNvbnRleHQudHJlZUxlbiksIG5ld0N4LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKCFuZXdDeC53b3JrKDIwIC8qIFdvcmsuQXBwbHkgKi8sIHVwdG8pKVxuICAgICAgICAgICAgbmV3Q3gudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKG5ld0N4KTtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoc3RhdGUpIHtcbiAgICAgICAgbGV0IHZwVG8gPSBNYXRoLm1pbigzMDAwIC8qIFdvcmsuSW5pdFZpZXdwb3J0ICovLCBzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IHBhcnNlU3RhdGUgPSBQYXJzZUNvbnRleHQuY3JlYXRlKHN0YXRlLmZhY2V0KGxhbmd1YWdlKS5wYXJzZXIsIHN0YXRlLCB7IGZyb206IDAsIHRvOiB2cFRvIH0pO1xuICAgICAgICBpZiAoIXBhcnNlU3RhdGUud29yaygyMCAvKiBXb3JrLkFwcGx5ICovLCB2cFRvKSlcbiAgICAgICAgICAgIHBhcnNlU3RhdGUudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKHBhcnNlU3RhdGUpO1xuICAgIH1cbn1cbkxhbmd1YWdlLnN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGU6IExhbmd1YWdlU3RhdGUuaW5pdCxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlLmlzKExhbmd1YWdlLnNldFN0YXRlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZTtcbiAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHRyLnN0YXRlLmZhY2V0KGxhbmd1YWdlKSlcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZVN0YXRlLmluaXQodHIuc3RhdGUpO1xuICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodHIpO1xuICAgIH1cbn0pO1xubGV0IHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgbGV0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKCksIDUwMCAvKiBXb3JrLk1heFBhdXNlICovKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufTtcbmlmICh0eXBlb2YgcmVxdWVzdElkbGVDYWxsYmFjayAhPSBcInVuZGVmaW5lZFwiKVxuICAgIHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGxldCBpZGxlID0gLTEsIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlkbGUgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGNhbGxiYWNrLCB7IHRpbWVvdXQ6IDUwMCAvKiBXb3JrLk1heFBhdXNlICovIC0gMTAwIC8qIFdvcmsuTWluUGF1c2UgKi8gfSk7XG4gICAgICAgIH0sIDEwMCAvKiBXb3JrLk1pblBhdXNlICovKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGlkbGUgPCAwID8gY2xlYXJUaW1lb3V0KHRpbWVvdXQpIDogY2FuY2VsSWRsZUNhbGxiYWNrKGlkbGUpO1xuICAgIH07XG5jb25zdCBpc0lucHV0UGVuZGluZyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9hID0gbmF2aWdhdG9yLnNjaGVkdWxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0lucHV0UGVuZGluZylcbiAgICA/ICgpID0+IG5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nKCkgOiBudWxsO1xuY29uc3QgcGFyc2VXb3JrZXIgPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3MgUGFyc2VXb3JrZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy53b3JraW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkID0gMDtcbiAgICAgICAgLy8gRW5kIG9mIHRoZSBjdXJyZW50IHRpbWUgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0VuZCA9IC0xO1xuICAgICAgICAvLyBNaWxsaXNlY29uZHMgb2YgYnVkZ2V0IGxlZnQgZm9yIHRoaXMgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0J1ZGdldCA9IC0xO1xuICAgICAgICB0aGlzLndvcmsgPSB0aGlzLndvcmsuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgY3ggPSB0aGlzLnZpZXcuc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpLmNvbnRleHQ7XG4gICAgICAgIGlmIChjeC51cGRhdGVWaWV3cG9ydCh1cGRhdGUudmlldy52aWV3cG9ydCkgfHwgdGhpcy52aWV3LnZpZXdwb3J0LnRvID4gY3gudHJlZUxlbilcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3Lmhhc0ZvY3VzKVxuICAgICAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgKz0gNTAgLyogV29yay5DaGFuZ2VCb251cyAqLztcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoY3gpO1xuICAgIH1cbiAgICBzY2hlZHVsZVdvcmsoKSB7XG4gICAgICAgIGlmICh0aGlzLndvcmtpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0aGlzLnZpZXcsIGZpZWxkID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpO1xuICAgICAgICBpZiAoZmllbGQudHJlZSAhPSBmaWVsZC5jb250ZXh0LnRyZWUgfHwgIWZpZWxkLmNvbnRleHQuaXNEb25lKHN0YXRlLmRvYy5sZW5ndGgpKVxuICAgICAgICAgICAgdGhpcy53b3JraW5nID0gcmVxdWVzdElkbGUodGhpcy53b3JrKTtcbiAgICB9XG4gICAgd29yayhkZWFkbGluZSkge1xuICAgICAgICB0aGlzLndvcmtpbmcgPSBudWxsO1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtFbmQgPCBub3cgJiYgKHRoaXMuY2h1bmtFbmQgPCAwIHx8IHRoaXMudmlldy5oYXNGb2N1cykpIHsgLy8gU3RhcnQgYSBuZXcgY2h1bmtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtFbmQgPSBub3cgKyAzMDAwMCAvKiBXb3JrLkNodW5rVGltZSAqLztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgPSAzMDAwIC8qIFdvcmsuQ2h1bmtCdWRnZXQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtCdWRnZXQgPD0gMClcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm8gbW9yZSBidWRnZXRcbiAgICAgICAgbGV0IHsgc3RhdGUsIHZpZXdwb3J0OiB7IHRvOiB2cFRvIH0gfSA9IHRoaXMudmlldywgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSk7XG4gICAgICAgIGlmIChmaWVsZC50cmVlID09IGZpZWxkLmNvbnRleHQudHJlZSAmJiBmaWVsZC5jb250ZXh0LmlzRG9uZSh2cFRvICsgMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBlbmRUaW1lID0gRGF0ZS5ub3coKSArIE1hdGgubWluKHRoaXMuY2h1bmtCdWRnZXQsIDEwMCAvKiBXb3JrLlNsaWNlICovLCBkZWFkbGluZSAmJiAhaXNJbnB1dFBlbmRpbmcgPyBNYXRoLm1heCgyNSAvKiBXb3JrLk1pblNsaWNlICovLCBkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgLSA1KSA6IDFlOSk7XG4gICAgICAgIGxldCB2aWV3cG9ydEZpcnN0ID0gZmllbGQuY29udGV4dC50cmVlTGVuIDwgdnBUbyAmJiBzdGF0ZS5kb2MubGVuZ3RoID4gdnBUbyArIDEwMDA7XG4gICAgICAgIGxldCBkb25lID0gZmllbGQuY29udGV4dC53b3JrKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpc0lucHV0UGVuZGluZyAmJiBpc0lucHV0UGVuZGluZygpIHx8IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICB9LCB2cFRvICsgKHZpZXdwb3J0Rmlyc3QgPyAwIDogMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpO1xuICAgICAgICB0aGlzLmNodW5rQnVkZ2V0IC09IERhdGUubm93KCkgLSBub3c7XG4gICAgICAgIGlmIChkb25lIHx8IHRoaXMuY2h1bmtCdWRnZXQgPD0gMCkge1xuICAgICAgICAgICAgZmllbGQuY29udGV4dC50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogTGFuZ3VhZ2Uuc2V0U3RhdGUub2YobmV3IExhbmd1YWdlU3RhdGUoZmllbGQuY29udGV4dCkpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNodW5rQnVkZ2V0ID4gMCAmJiAhKGRvbmUgJiYgIXZpZXdwb3J0Rmlyc3QpKVxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoZmllbGQuY29udGV4dCk7XG4gICAgfVxuICAgIGNoZWNrQXN5bmNTY2hlZHVsZShjeCkge1xuICAgICAgICBpZiAoY3guc2NoZWR1bGVPbikge1xuICAgICAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkKys7XG4gICAgICAgICAgICBjeC5zY2hlZHVsZU9uXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zY2hlZHVsZVdvcmsoKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGVycikpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy53b3JrU2NoZWR1bGVkLS0pO1xuICAgICAgICAgICAgY3guc2NoZWR1bGVPbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZylcbiAgICAgICAgICAgIHRoaXMud29ya2luZygpO1xuICAgIH1cbiAgICBpc1dvcmtpbmcoKSB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLndvcmtpbmcgfHwgdGhpcy53b3JrU2NoZWR1bGVkID4gMCk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50SGFuZGxlcnM6IHsgZm9jdXMoKSB7IHRoaXMuc2NoZWR1bGVXb3JrKCk7IH0gfVxufSk7XG4vKipcblRoZSBmYWNldCB1c2VkIHRvIGFzc29jaWF0ZSBhIGxhbmd1YWdlIHdpdGggYW4gZWRpdG9yIHN0YXRlLiBVc2VkXG5ieSBgTGFuZ3VhZ2VgIG9iamVjdCdzIGBleHRlbnNpb25gIHByb3BlcnR5IChzbyB5b3UgZG9uJ3QgbmVlZCB0b1xubWFudWFsbHkgd3JhcCB5b3VyIGxhbmd1YWdlcyBpbiB0aGlzKS4gQ2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZVxuY3VycmVudCBsYW5ndWFnZSBvbiBhIHN0YXRlLlxuKi9cbmNvbnN0IGxhbmd1YWdlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShsYW5ndWFnZXMpIHsgcmV0dXJuIGxhbmd1YWdlcy5sZW5ndGggPyBsYW5ndWFnZXNbMF0gOiBudWxsOyB9LFxuICAgIGVuYWJsZXM6IGxhbmd1YWdlID0+IFtcbiAgICAgICAgTGFuZ3VhZ2Uuc3RhdGUsXG4gICAgICAgIHBhcnNlV29ya2VyLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLmNvbXB1dGUoW2xhbmd1YWdlXSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgbGV0IGxhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSk7XG4gICAgICAgICAgICByZXR1cm4gbGFuZyAmJiBsYW5nLm5hbWUgPyB7IFwiZGF0YS1sYW5ndWFnZVwiOiBsYW5nLm5hbWUgfSA6IHt9O1xuICAgICAgICB9KVxuICAgIF1cbn0pO1xuLyoqXG5UaGlzIGNsYXNzIGJ1bmRsZXMgYSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIHdpdGggYW5cbm9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIExhbmd1YWdlIHBhY2thZ2VzIGFyZVxuZW5jb3VyYWdlZCB0byBleHBvcnQgYSBmdW5jdGlvbiB0aGF0IG9wdGlvbmFsbHkgdGFrZXMgYVxuY29uZmlndXJhdGlvbiBvYmplY3QgYW5kIHJldHVybnMgYSBgTGFuZ3VhZ2VTdXBwb3J0YCBpbnN0YW5jZSwgYXNcbnRoZSBtYWluIHdheSBmb3IgY2xpZW50IGNvZGUgdG8gdXNlIHRoZSBwYWNrYWdlLlxuKi9cbmNsYXNzIExhbmd1YWdlU3VwcG9ydCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2Ugc3VwcG9ydCBvYmplY3QuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbGFuZ3VhZ2Ugb2JqZWN0LlxuICAgICovXG4gICAgbGFuZ3VhZ2UsIFxuICAgIC8qKlxuICAgIEFuIG9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIFdoZW4gbmVzdGluZyBhXG4gICAgbGFuZ3VhZ2UgaW4gYW5vdGhlciBsYW5ndWFnZSwgdGhlIG91dGVyIGxhbmd1YWdlIGlzIGVuY291cmFnZWRcbiAgICB0byBpbmNsdWRlIHRoZSBzdXBwb3J0aW5nIGV4dGVuc2lvbnMgZm9yIGl0cyBpbm5lciBsYW5ndWFnZXNcbiAgICBpbiBpdHMgb3duIHNldCBvZiBzdXBwb3J0IGV4dGVuc2lvbnMuXG4gICAgKi9cbiAgICBzdXBwb3J0ID0gW10pIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0O1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IFtsYW5ndWFnZSwgc3VwcG9ydF07XG4gICAgfVxufVxuLyoqXG5MYW5ndWFnZSBkZXNjcmlwdGlvbnMgYXJlIHVzZWQgdG8gc3RvcmUgbWV0YWRhdGEgYWJvdXQgbGFuZ3VhZ2VzXG5hbmQgdG8gZHluYW1pY2FsbHkgbG9hZCB0aGVtLiBUaGVpciBtYWluIHJvbGUgaXMgZmluZGluZyB0aGVcbmFwcHJvcHJpYXRlIGxhbmd1YWdlIGZvciBhIGZpbGVuYW1lIG9yIGR5bmFtaWNhbGx5IGxvYWRpbmcgbmVzdGVkXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExhbmd1YWdlRGVzY3JpcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBBbHRlcm5hdGl2ZSBuYW1lcyBmb3IgdGhlIG1vZGUgKGxvd2VyY2FzZWQsIGluY2x1ZGVzIGB0aGlzLm5hbWVgKS5cbiAgICAqL1xuICAgIGFsaWFzLCBcbiAgICAvKipcbiAgICBGaWxlIGV4dGVuc2lvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBleHRlbnNpb25zLCBcbiAgICAvKipcbiAgICBPcHRpb25hbCBmaWxlbmFtZSBwYXR0ZXJuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGlzXG4gICAgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBmaWxlbmFtZSwgbG9hZEZ1bmMsIFxuICAgIC8qKlxuICAgIElmIHRoZSBsYW5ndWFnZSBoYXMgYmVlbiBsb2FkZWQsIHRoaXMgd2lsbCBob2xkIGl0cyB2YWx1ZS5cbiAgICAqL1xuICAgIHN1cHBvcnQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubG9hZEZ1bmMgPSBsb2FkRnVuYztcbiAgICAgICAgdGhpcy5zdXBwb3J0ID0gc3VwcG9ydDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgU3RhcnQgbG9hZGluZyB0aGUgdGhlIGxhbmd1YWdlLiBXaWxsIHJldHVybiBhIHByb21pc2UgdGhhdFxuICAgIHJlc29sdmVzIHRvIGEgW2BMYW5ndWFnZVN1cHBvcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlU3VwcG9ydClcbiAgICBvYmplY3Qgd2hlbiB0aGUgbGFuZ3VhZ2Ugc3VjY2Vzc2Z1bGx5IGxvYWRzLlxuICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyB8fCAodGhpcy5sb2FkaW5nID0gdGhpcy5sb2FkRnVuYygpLnRoZW4oc3VwcG9ydCA9PiB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0LCBlcnIgPT4geyB0aGlzLmxvYWRpbmcgPSBudWxsOyB0aHJvdyBlcnI7IH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2UgZGVzY3JpcHRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgb2Yoc3BlYykge1xuICAgICAgICBsZXQgeyBsb2FkLCBzdXBwb3J0IH0gPSBzcGVjO1xuICAgICAgICBpZiAoIWxvYWQpIHtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk11c3QgcGFzcyBlaXRoZXIgJ2xvYWQnIG9yICdzdXBwb3J0JyB0byBMYW5ndWFnZURlc2NyaXB0aW9uLm9mXCIpO1xuICAgICAgICAgICAgbG9hZCA9ICgpID0+IFByb21pc2UucmVzb2x2ZShzdXBwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExhbmd1YWdlRGVzY3JpcHRpb24oc3BlYy5uYW1lLCAoc3BlYy5hbGlhcyB8fCBbXSkuY29uY2F0KHNwZWMubmFtZSkubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKSwgc3BlYy5leHRlbnNpb25zIHx8IFtdLCBzcGVjLmZpbGVuYW1lLCBsb2FkLCBzdXBwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgTG9vayBmb3IgYSBsYW5ndWFnZSBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVzY3JpcHRpb25zIHRoYXRcbiAgICBtYXRjaGVzIHRoZSBmaWxlbmFtZS4gV2lsbCBmaXJzdCBtYXRjaFxuICAgIFtgZmlsZW5hbWVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZmlsZW5hbWUpIHBhdHRlcm5zLFxuICAgIGFuZCB0aGVuIFtleHRlbnNpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZXh0ZW5zaW9ucyksXG4gICAgYW5kIHJldHVybiB0aGUgZmlyc3QgbGFuZ3VhZ2UgdGhhdCBtYXRjaGVzLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoRmlsZW5hbWUoZGVzY3MsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICBpZiAoZC5maWxlbmFtZSAmJiBkLmZpbGVuYW1lLnRlc3QoZmlsZW5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBsZXQgZXh0ID0gL1xcLihbXi5dKykkLy5leGVjKGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGV4dClcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICAgICAgaWYgKGQuZXh0ZW5zaW9ucy5pbmRleE9mKGV4dFsxXSkgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBMb29rIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWUgb3IgYWxpYXMgbWF0Y2hlcyB0aGUgdGhlIGdpdmVuXG4gICAgbmFtZSAoY2FzZS1pbnNlbnNpdGl2ZWx5KS4gSWYgYGZ1enp5YCBpcyB0cnVlLCBhbmQgbm8gZGlyZWN0XG4gICAgbWF0Y2hzIGlzIGZvdW5kLCB0aGlzJ2xsIGFsc28gc2VhcmNoIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWVcbiAgICBvciBhbGlhcyBvY2N1cnMgaW4gdGhlIHN0cmluZyAoZm9yIG5hbWVzIHNob3J0ZXIgdGhhbiB0aHJlZVxuICAgIGNoYXJhY3RlcnMsIG9ubHkgd2hlbiBzdXJyb3VuZGVkIGJ5IG5vbi13b3JkIGNoYXJhY3RlcnMpLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoTGFuZ3VhZ2VOYW1lKGRlc2NzLCBuYW1lLCBmdXp6eSA9IHRydWUpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZm9yIChsZXQgZCBvZiBkZXNjcylcbiAgICAgICAgICAgIGlmIChkLmFsaWFzLnNvbWUoYSA9PiBhID09IG5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBpZiAoZnV6enkpXG4gICAgICAgICAgICBmb3IgKGxldCBkIG9mIGRlc2NzKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgZC5hbGlhcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBuYW1lLmluZGV4T2YoYSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IC0xICYmIChhLmxlbmd0aCA+IDIgfHwgIS9cXHcvLnRlc3QobmFtZVtmb3VuZCAtIDFdKSAmJiAhL1xcdy8udGVzdChuYW1lW2ZvdW5kICsgYS5sZW5ndGhdKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG5GYWNldCB0aGF0IGRlZmluZXMgYSB3YXkgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgdGhlXG5hcHByb3ByaWF0ZSBpbmRlbnRhdGlvbiBkZXB0aCwgYXMgYSBjb2x1bW4gbnVtYmVyIChzZWVcbltgaW5kZW50U3RyaW5nYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTdHJpbmcpKSwgYXQgdGhlIHN0YXJ0IG9mIGEgZ2l2ZW5cbmxpbmUuIEEgcmV0dXJuIHZhbHVlIG9mIGBudWxsYCBpbmRpY2F0ZXMgbm8gaW5kZW50YXRpb24gY2FuIGJlXG5kZXRlcm1pbmVkLCBhbmQgdGhlIGxpbmUgc2hvdWxkIGluaGVyaXQgdGhlIGluZGVudGF0aW9uIG9mIHRoZSBvbmVcbmFib3ZlIGl0LiBBIHJldHVybiB2YWx1ZSBvZiBgdW5kZWZpbmVkYCBkZWZlcnMgdG8gdGhlIG5leHQgaW5kZW50XG5zZXJ2aWNlLlxuKi9cbmNvbnN0IGluZGVudFNlcnZpY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IGZvciBvdmVycmlkaW5nIHRoZSB1bml0IGJ5IHdoaWNoIGluZGVudGF0aW9uIGhhcHBlbnMuIFNob3VsZFxuYmUgYSBzdHJpbmcgY29uc2lzdGluZyBlaXRoZXIgZW50aXJlbHkgb2YgdGhlIHNhbWUgd2hpdGVzcGFjZVxuY2hhcmFjdGVyLiBXaGVuIG5vdCBzZXQsIHRoaXMgZGVmYXVsdHMgdG8gMiBzcGFjZXMuXG4qL1xuY29uc3QgaW5kZW50VW5pdCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB7XG4gICAgICAgIGlmICghdmFsdWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBcIiAgXCI7XG4gICAgICAgIGxldCB1bml0ID0gdmFsdWVzWzBdO1xuICAgICAgICBpZiAoIXVuaXQgfHwgL1xcUy8udGVzdCh1bml0KSB8fCBBcnJheS5mcm9tKHVuaXQpLnNvbWUoZSA9PiBlICE9IHVuaXRbMF0pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRlbnQgdW5pdDogXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZXNbMF0pKTtcbiAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxufSk7XG4vKipcblJldHVybiB0aGUgX2NvbHVtbiB3aWR0aF8gb2YgYW4gaW5kZW50IHVuaXQgaW4gdGhlIHN0YXRlLlxuRGV0ZXJtaW5lZCBieSB0aGUgW2BpbmRlbnRVbml0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KVxuZmFjZXQsIGFuZCBbYHRhYlNpemVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRhYlNpemUpIHdoZW4gdGhhdFxuY29udGFpbnMgdGFicy5cbiovXG5mdW5jdGlvbiBnZXRJbmRlbnRVbml0KHN0YXRlKSB7XG4gICAgbGV0IHVuaXQgPSBzdGF0ZS5mYWNldChpbmRlbnRVbml0KTtcbiAgICByZXR1cm4gdW5pdC5jaGFyQ29kZUF0KDApID09IDkgPyBzdGF0ZS50YWJTaXplICogdW5pdC5sZW5ndGggOiB1bml0Lmxlbmd0aDtcbn1cbi8qKlxuQ3JlYXRlIGFuIGluZGVudGF0aW9uIHN0cmluZyB0aGF0IGNvdmVycyBjb2x1bW5zIDAgdG8gYGNvbHNgLlxuV2lsbCB1c2UgdGFicyBmb3IgYXMgbXVjaCBvZiB0aGUgY29sdW1ucyBhcyBwb3NzaWJsZSB3aGVuIHRoZVxuW2BpbmRlbnRVbml0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KSBmYWNldCBjb250YWluc1xudGFicy5cbiovXG5mdW5jdGlvbiBpbmRlbnRTdHJpbmcoc3RhdGUsIGNvbHMpIHtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIiwgdHMgPSBzdGF0ZS50YWJTaXplLCBjaCA9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpWzBdO1xuICAgIGlmIChjaCA9PSBcIlxcdFwiKSB7XG4gICAgICAgIHdoaWxlIChjb2xzID49IHRzKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXHRcIjtcbiAgICAgICAgICAgIGNvbHMgLT0gdHM7XG4gICAgICAgIH1cbiAgICAgICAgY2ggPSBcIiBcIjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyBpKyspXG4gICAgICAgIHJlc3VsdCArPSBjaDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG5HZXQgdGhlIGluZGVudGF0aW9uLCBhcyBhIGNvbHVtbiBudW1iZXIsIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbldpbGwgZmlyc3QgY29uc3VsdCBhbnkgW2luZGVudCBzZXJ2aWNlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTZXJ2aWNlKVxudGhhdCBhcmUgcmVnaXN0ZXJlZCwgYW5kIGlmIG5vbmUgb2YgdGhvc2UgcmV0dXJuIGFuIGluZGVudGF0aW9uLFxudGhpcyB3aWxsIGNoZWNrIHRoZSBzeW50YXggdHJlZSBmb3IgdGhlIFtpbmRlbnQgbm9kZVxucHJvcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnROb2RlUHJvcCkgYW5kIHVzZSB0aGF0IGlmIGZvdW5kLiBSZXR1cm5zIGFcbm51bWJlciB3aGVuIGFuIGluZGVudGF0aW9uIGNvdWxkIGJlIGRldGVybWluZWQsIGFuZCBudWxsXG5vdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gZ2V0SW5kZW50YXRpb24oY29udGV4dCwgcG9zKSB7XG4gICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBFZGl0b3JTdGF0ZSlcbiAgICAgICAgY29udGV4dCA9IG5ldyBJbmRlbnRDb250ZXh0KGNvbnRleHQpO1xuICAgIGZvciAobGV0IHNlcnZpY2Ugb2YgY29udGV4dC5zdGF0ZS5mYWNldChpbmRlbnRTZXJ2aWNlKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc2VydmljZShjb250ZXh0LCBwb3MpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoY29udGV4dC5zdGF0ZSk7XG4gICAgcmV0dXJuIHRyZWUubGVuZ3RoID49IHBvcyA/IHN5bnRheEluZGVudGF0aW9uKGNvbnRleHQsIHRyZWUsIHBvcykgOiBudWxsO1xufVxuLyoqXG5DcmVhdGUgYSBjaGFuZ2Ugc2V0IHRoYXQgYXV0by1pbmRlbnRzIGFsbCBsaW5lcyB0b3VjaGVkIGJ5IHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcmFuZ2UuXG4qL1xuZnVuY3Rpb24gaW5kZW50UmFuZ2Uoc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgbGV0IHVwZGF0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb250ZXh0ID0gbmV3IEluZGVudENvbnRleHQoc3RhdGUsIHsgb3ZlcnJpZGVJbmRlbnRhdGlvbjogc3RhcnQgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB1cGRhdGVkW3N0YXJ0XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTE7IH0gfSk7XG4gICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBwb3MgPSBmcm9tOyBwb3MgPD0gdG87KSB7XG4gICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKGNvbnRleHQsIGxpbmUuZnJvbSk7XG4gICAgICAgIGlmIChpbmRlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIS9cXFMvLnRlc3QobGluZS50ZXh0KSlcbiAgICAgICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgIGxldCBjdXIgPSAvXlxccyovLmV4ZWMobGluZS50ZXh0KVswXTtcbiAgICAgICAgbGV0IG5vcm0gPSBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCk7XG4gICAgICAgIGlmIChjdXIgIT0gbm9ybSkge1xuICAgICAgICAgICAgdXBkYXRlZFtsaW5lLmZyb21dID0gaW5kZW50O1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogbGluZS5mcm9tICsgY3VyLmxlbmd0aCwgaW5zZXJ0OiBub3JtIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5jaGFuZ2VzKGNoYW5nZXMpO1xufVxuLyoqXG5JbmRlbnRhdGlvbiBjb250ZXh0cyBhcmUgdXNlZCB3aGVuIGNhbGxpbmcgW2luZGVudGF0aW9uXG5zZXJ2aWNlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTZXJ2aWNlKS4gVGhleSBwcm92aWRlIGhlbHBlciB1dGlsaXRpZXNcbnVzZWZ1bCBpbiBpbmRlbnRhdGlvbiBsb2dpYywgYW5kIGNhbiBzZWxlY3RpdmVseSBvdmVycmlkZSB0aGVcbmluZGVudGF0aW9uIHJlcG9ydGVkIGZvciBzb21lIGxpbmVzLlxuKi9cbmNsYXNzIEluZGVudENvbnRleHQge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBpbmRlbnQgY29udGV4dC5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBzdGF0ZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnVuaXQgPSBnZXRJbmRlbnRVbml0KHN0YXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgZGVzY3JpcHRpb24gb2YgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCB0YWtpbmdcbiAgICBbc2ltdWxhdGVkIGxpbmVcbiAgICBicmVha3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuSW5kZW50Q29udGV4dC5jb25zdHJ1Y3Rvcl5vcHRpb25zLnNpbXVsYXRlQnJlYWspXG4gICAgaW50byBhY2NvdW50LiBJZiB0aGVyZSBpcyBzdWNoIGEgYnJlYWsgYXQgYHBvc2AsIHRoZSBgYmlhc2BcbiAgICBhcmd1bWVudCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBhcnQgb2YgdGhlIGxpbmUgbGluZSBiZWZvcmUgb3JcbiAgICBhZnRlciB0aGUgYnJlYWsgaXMgdXNlZC5cbiAgICAqL1xuICAgIGxpbmVBdChwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCB7IHNpbXVsYXRlQnJlYWssIHNpbXVsYXRlRG91YmxlQnJlYWsgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKHNpbXVsYXRlQnJlYWsgIT0gbnVsbCAmJiBzaW11bGF0ZUJyZWFrID49IGxpbmUuZnJvbSAmJiBzaW11bGF0ZUJyZWFrIDw9IGxpbmUudG8pIHtcbiAgICAgICAgICAgIGlmIChzaW11bGF0ZURvdWJsZUJyZWFrICYmIHNpbXVsYXRlQnJlYWsgPT0gcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IFwiXCIsIGZyb206IHBvcyB9O1xuICAgICAgICAgICAgZWxzZSBpZiAoYmlhcyA8IDAgPyBzaW11bGF0ZUJyZWFrIDwgcG9zIDogc2ltdWxhdGVCcmVhayA8PSBwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogbGluZS50ZXh0LnNsaWNlKHNpbXVsYXRlQnJlYWsgLSBsaW5lLmZyb20pLCBmcm9tOiBzaW11bGF0ZUJyZWFrIH07XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogbGluZS50ZXh0LnNsaWNlKDAsIHNpbXVsYXRlQnJlYWsgLSBsaW5lLmZyb20pLCBmcm9tOiBsaW5lLmZyb20gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB0ZXh0IGRpcmVjdGx5IGFmdGVyIGBwb3NgLCBlaXRoZXIgdGhlIGVudGlyZSBsaW5lXG4gICAgb3IgdGhlIG5leHQgMTAwIGNoYXJhY3RlcnMsIHdoaWNoZXZlciBpcyBzaG9ydGVyLlxuICAgICovXG4gICAgdGV4dEFmdGVyUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaW11bGF0ZURvdWJsZUJyZWFrICYmIHBvcyA9PSB0aGlzLm9wdGlvbnMuc2ltdWxhdGVCcmVhaylcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBsZXQgeyB0ZXh0LCBmcm9tIH0gPSB0aGlzLmxpbmVBdChwb3MsIGJpYXMpO1xuICAgICAgICByZXR1cm4gdGV4dC5zbGljZShwb3MgLSBmcm9tLCBNYXRoLm1pbih0ZXh0Lmxlbmd0aCwgcG9zICsgMTAwIC0gZnJvbSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBjb2x1bW4gZm9yIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGNvbHVtbihwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHBvcyAtIGZyb20pO1xuICAgICAgICBsZXQgb3ZlcnJpZGUgPSB0aGlzLm9wdGlvbnMub3ZlcnJpZGVJbmRlbnRhdGlvbiA/IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uKGZyb20pIDogLTE7XG4gICAgICAgIGlmIChvdmVycmlkZSA+IC0xKVxuICAgICAgICAgICAgcmVzdWx0ICs9IG92ZXJyaWRlIC0gdGhpcy5jb3VudENvbHVtbih0ZXh0LCB0ZXh0LnNlYXJjaCgvXFxTfCQvKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGNvbHVtbiBwb3NpdGlvbiAodGFraW5nIHRhYnMgaW50byBhY2NvdW50KSBvZiB0aGUgZ2l2ZW5cbiAgICBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgY291bnRDb2x1bW4obGluZSwgcG9zID0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNvdW50Q29sdW1uKGxpbmUsIHRoaXMuc3RhdGUudGFiU2l6ZSwgcG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgaW5kZW50YXRpb24gY29sdW1uIG9mIHRoZSBsaW5lIGF0IHRoZSBnaXZlbiBwb2ludC5cbiAgICAqL1xuICAgIGxpbmVJbmRlbnQocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBsZXQgeyB0ZXh0LCBmcm9tIH0gPSB0aGlzLmxpbmVBdChwb3MsIGJpYXMpO1xuICAgICAgICBsZXQgb3ZlcnJpZGUgPSB0aGlzLm9wdGlvbnMub3ZlcnJpZGVJbmRlbnRhdGlvbjtcbiAgICAgICAgaWYgKG92ZXJyaWRlKSB7XG4gICAgICAgICAgICBsZXQgb3ZlcnJpZGVuID0gb3ZlcnJpZGUoZnJvbSk7XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGVuID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb3VudENvbHVtbih0ZXh0LCB0ZXh0LnNlYXJjaCgvXFxTfCQvKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIFtzaW11bGF0ZWQgbGluZVxuICAgIGJyZWFrXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkluZGVudENvbnRleHQuY29uc3RydWN0b3Jeb3B0aW9ucy5zaW11bGF0ZUJyZWFrKVxuICAgIGZvciB0aGlzIGNvbnRleHQsIGlmIGFueS5cbiAgICAqL1xuICAgIGdldCBzaW11bGF0ZWRCcmVhaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zaW11bGF0ZUJyZWFrIHx8IG51bGw7XG4gICAgfVxufVxuLyoqXG5BIHN5bnRheCB0cmVlIG5vZGUgcHJvcCB1c2VkIHRvIGFzc29jaWF0ZSBpbmRlbnRhdGlvbiBzdHJhdGVnaWVzXG53aXRoIG5vZGUgdHlwZXMuIFN1Y2ggYSBzdHJhdGVneSBpcyBhIGZ1bmN0aW9uIGZyb20gYW4gaW5kZW50YXRpb25cbmNvbnRleHQgdG8gYSBjb2x1bW4gbnVtYmVyIChzZWUgYWxzb1xuW2BpbmRlbnRTdHJpbmdgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFN0cmluZykpIG9yIG51bGwsIHdoZXJlIG51bGxcbmluZGljYXRlcyB0aGF0IG5vIGRlZmluaXRpdmUgaW5kZW50YXRpb24gY2FuIGJlIGRldGVybWluZWQuXG4qL1xuY29uc3QgaW5kZW50Tm9kZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vLyBDb21wdXRlIHRoZSBpbmRlbnRhdGlvbiBmb3IgYSBnaXZlbiBwb3NpdGlvbiBmcm9tIHRoZSBzeW50YXggdHJlZS5cbmZ1bmN0aW9uIHN5bnRheEluZGVudGF0aW9uKGN4LCBhc3QsIHBvcykge1xuICAgIGxldCBzdGFjayA9IGFzdC5yZXNvbHZlU3RhY2socG9zKTtcbiAgICBsZXQgaW5uZXIgPSBzdGFjay5ub2RlLmVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcyk7XG4gICAgaWYgKGlubmVyICE9IHN0YWNrLm5vZGUpIHtcbiAgICAgICAgbGV0IGFkZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBpbm5lcjsgY3VyICE9IHN0YWNrLm5vZGU7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgICAgICBhZGQucHVzaChjdXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gYWRkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgc3RhY2sgPSB7IG5vZGU6IGFkZFtpXSwgbmV4dDogc3RhY2sgfTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGVudEZvcihzdGFjaywgY3gsIHBvcyk7XG59XG5mdW5jdGlvbiBpbmRlbnRGb3Ioc3RhY2ssIGN4LCBwb3MpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBzdGFjazsgY3VyOyBjdXIgPSBjdXIubmV4dCkge1xuICAgICAgICBsZXQgc3RyYXRlZ3kgPSBpbmRlbnRTdHJhdGVneShjdXIubm9kZSk7XG4gICAgICAgIGlmIChzdHJhdGVneSlcbiAgICAgICAgICAgIHJldHVybiBzdHJhdGVneShUcmVlSW5kZW50Q29udGV4dC5jcmVhdGUoY3gsIHBvcywgY3VyKSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gaWdub3JlQ2xvc2VkKGN4KSB7XG4gICAgcmV0dXJuIGN4LnBvcyA9PSBjeC5vcHRpb25zLnNpbXVsYXRlQnJlYWsgJiYgY3gub3B0aW9ucy5zaW11bGF0ZURvdWJsZUJyZWFrO1xufVxuZnVuY3Rpb24gaW5kZW50U3RyYXRlZ3kodHJlZSkge1xuICAgIGxldCBzdHJhdGVneSA9IHRyZWUudHlwZS5wcm9wKGluZGVudE5vZGVQcm9wKTtcbiAgICBpZiAoc3RyYXRlZ3kpXG4gICAgICAgIHJldHVybiBzdHJhdGVneTtcbiAgICBsZXQgZmlyc3QgPSB0cmVlLmZpcnN0Q2hpbGQsIGNsb3NlO1xuICAgIGlmIChmaXJzdCAmJiAoY2xvc2UgPSBmaXJzdC50eXBlLnByb3AoTm9kZVByb3AuY2xvc2VkQnkpKSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRyZWUubGFzdENoaWxkLCBjbG9zZWQgPSBsYXN0ICYmIGNsb3NlLmluZGV4T2YobGFzdC5uYW1lKSA+IC0xO1xuICAgICAgICByZXR1cm4gY3ggPT4gZGVsaW1pdGVkU3RyYXRlZ3koY3gsIHRydWUsIDEsIHVuZGVmaW5lZCwgY2xvc2VkICYmICFpZ25vcmVDbG9zZWQoY3gpID8gbGFzdC5mcm9tIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWUucGFyZW50ID09IG51bGwgPyB0b3BJbmRlbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gdG9wSW5kZW50KCkgeyByZXR1cm4gMDsgfVxuLyoqXG5PYmplY3RzIG9mIHRoaXMgdHlwZSBwcm92aWRlIGNvbnRleHQgaW5mb3JtYXRpb24gYW5kIGhlbHBlclxubWV0aG9kcyB0byBpbmRlbnRhdGlvbiBmdW5jdGlvbnMgcmVnaXN0ZXJlZCBvbiBzeW50YXggbm9kZXMuXG4qL1xuY2xhc3MgVHJlZUluZGVudENvbnRleHQgZXh0ZW5kcyBJbmRlbnRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgd2hpY2ggaW5kZW50YXRpb24gaXMgYmVpbmcgY29tcHV0ZWQuXG4gICAgKi9cbiAgICBwb3MsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29udGV4dCkge1xuICAgICAgICBzdXBlcihiYXNlLnN0YXRlLCBiYXNlLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIHN5bnRheCB0cmVlIG5vZGUgdG8gd2hpY2ggdGhlIGluZGVudGF0aW9uIHN0cmF0ZWd5XG4gICAgYXBwbGllcy5cbiAgICAqL1xuICAgIGdldCBub2RlKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0Lm5vZGU7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoYmFzZSwgcG9zLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZUluZGVudENvbnRleHQoYmFzZSwgcG9zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB0ZXh0IGRpcmVjdGx5IGFmdGVyIGB0aGlzLnBvc2AsIGVpdGhlciB0aGUgZW50aXJlIGxpbmVcbiAgICBvciB0aGUgbmV4dCAxMDAgY2hhcmFjdGVycywgd2hpY2hldmVyIGlzIHNob3J0ZXIuXG4gICAgKi9cbiAgICBnZXQgdGV4dEFmdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QWZ0ZXJQb3ModGhpcy5wb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGluZGVudGF0aW9uIGF0IHRoZSByZWZlcmVuY2UgbGluZSBmb3IgYHRoaXMubm9kZWAsIHdoaWNoXG4gICAgaXMgdGhlIGxpbmUgb24gd2hpY2ggaXQgc3RhcnRzLCB1bmxlc3MgdGhlcmUgaXMgYSBub2RlIHRoYXQgaXNcbiAgICBfbm90XyBhIHBhcmVudCBvZiB0aGlzIG5vZGUgY292ZXJpbmcgdGhlIHN0YXJ0IG9mIHRoYXQgbGluZS4gSWZcbiAgICBzbywgdGhlIGxpbmUgYXQgdGhlIHN0YXJ0IG9mIHRoYXQgbm9kZSBpcyB0cmllZCwgYWdhaW4gc2tpcHBpbmdcbiAgICBvbiBpZiBpdCBpcyBjb3ZlcmVkIGJ5IGFub3RoZXIgc3VjaCBub2RlLlxuICAgICovXG4gICAgZ2V0IGJhc2VJbmRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VJbmRlbnRGb3IodGhpcy5ub2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBpbmRlbnRhdGlvbiBmb3IgdGhlIHJlZmVyZW5jZSBsaW5lIG9mIHRoZSBnaXZlbiBub2RlXG4gICAgKHNlZSBbYGJhc2VJbmRlbnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLlRyZWVJbmRlbnRDb250ZXh0LmJhc2VJbmRlbnQpKS5cbiAgICAqL1xuICAgIGJhc2VJbmRlbnRGb3Iobm9kZSkge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdChub2RlLmZyb20pO1xuICAgICAgICAvLyBTa2lwIGxpbmUgc3RhcnRzIHRoYXQgYXJlIGNvdmVyZWQgYnkgYSBzaWJsaW5nIChvciBjb3VzaW4sIGV0YylcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGF0QnJlYWsgPSBub2RlLnJlc29sdmUobGluZS5mcm9tKTtcbiAgICAgICAgICAgIHdoaWxlIChhdEJyZWFrLnBhcmVudCAmJiBhdEJyZWFrLnBhcmVudC5mcm9tID09IGF0QnJlYWsuZnJvbSlcbiAgICAgICAgICAgICAgICBhdEJyZWFrID0gYXRCcmVhay5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoaXNQYXJlbnQoYXRCcmVhaywgbm9kZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KGF0QnJlYWsuZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUluZGVudChsaW5lLmZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBDb250aW51ZSBsb29raW5nIGZvciBpbmRlbnRhdGlvbnMgaW4gdGhlIG5vZGUncyBwYXJlbnQgbm9kZXMsXG4gICAgYW5kIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoYXQuXG4gICAgKi9cbiAgICBjb250aW51ZSgpIHtcbiAgICAgICAgcmV0dXJuIGluZGVudEZvcih0aGlzLmNvbnRleHQubmV4dCwgdGhpcy5iYXNlLCB0aGlzLnBvcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQYXJlbnQocGFyZW50LCBvZikge1xuICAgIGZvciAobGV0IGN1ciA9IG9mOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgIGlmIChwYXJlbnQgPT0gY3VyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQ2hlY2sgd2hldGhlciBhIGRlbGltaXRlZCBub2RlIGlzIGFsaWduZWQgKG1lYW5pbmcgdGhlcmUgYXJlXG4vLyBub24tc2tpcHBlZCBub2RlcyBvbiB0aGUgc2FtZSBsaW5lIGFzIHRoZSBvcGVuaW5nIGRlbGltaXRlcikuIEFuZFxuLy8gaWYgc28sIHJldHVybiB0aGUgb3BlbmluZyB0b2tlbi5cbmZ1bmN0aW9uIGJyYWNrZXRlZEFsaWduZWQoY29udGV4dCkge1xuICAgIGxldCB0cmVlID0gY29udGV4dC5ub2RlO1xuICAgIGxldCBvcGVuVG9rZW4gPSB0cmVlLmNoaWxkQWZ0ZXIodHJlZS5mcm9tKSwgbGFzdCA9IHRyZWUubGFzdENoaWxkO1xuICAgIGlmICghb3BlblRva2VuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgc2ltID0gY29udGV4dC5vcHRpb25zLnNpbXVsYXRlQnJlYWs7XG4gICAgbGV0IG9wZW5MaW5lID0gY29udGV4dC5zdGF0ZS5kb2MubGluZUF0KG9wZW5Ub2tlbi5mcm9tKTtcbiAgICBsZXQgbGluZUVuZCA9IHNpbSA9PSBudWxsIHx8IHNpbSA8PSBvcGVuTGluZS5mcm9tID8gb3BlbkxpbmUudG8gOiBNYXRoLm1pbihvcGVuTGluZS50bywgc2ltKTtcbiAgICBmb3IgKGxldCBwb3MgPSBvcGVuVG9rZW4udG87Oykge1xuICAgICAgICBsZXQgbmV4dCA9IHRyZWUuY2hpbGRBZnRlcihwb3MpO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dCA9PSBsYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghbmV4dC50eXBlLmlzU2tpcHBlZClcbiAgICAgICAgICAgIHJldHVybiBuZXh0LmZyb20gPCBsaW5lRW5kID8gb3BlblRva2VuIDogbnVsbDtcbiAgICAgICAgcG9zID0gbmV4dC50bztcbiAgICB9XG59XG4vKipcbkFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IGZvciBkZWxpbWl0ZWQgKHVzdWFsbHkgYnJhY2tldGVkKSBub2Rlcy5cbldpbGwsIGJ5IGRlZmF1bHQsIGluZGVudCBvbmUgdW5pdCBtb3JlIHRoYW4gdGhlIHBhcmVudCdzIGJhc2VcbmluZGVudCB1bmxlc3MgdGhlIGxpbmUgc3RhcnRzIHdpdGggYSBjbG9zaW5nIHRva2VuLiBXaGVuIGBhbGlnbmBcbmlzIHRydWUgYW5kIHRoZXJlIGFyZSBub24tc2tpcHBlZCBub2RlcyBvbiB0aGUgbm9kZSdzIG9wZW5pbmdcbmxpbmUsIHRoZSBjb250ZW50IG9mIHRoZSBub2RlIHdpbGwgYmUgYWxpZ25lZCB3aXRoIHRoZSBlbmQgb2YgdGhlXG5vcGVuaW5nIG5vZGUsIGxpa2UgdGhpczpcblxuICAgIGZvbyhiYXIsXG4gICAgICAgIGJheilcbiovXG5mdW5jdGlvbiBkZWxpbWl0ZWRJbmRlbnQoeyBjbG9zaW5nLCBhbGlnbiA9IHRydWUsIHVuaXRzID0gMSB9KSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiBkZWxpbWl0ZWRTdHJhdGVneShjb250ZXh0LCBhbGlnbiwgdW5pdHMsIGNsb3NpbmcpO1xufVxuZnVuY3Rpb24gZGVsaW1pdGVkU3RyYXRlZ3koY29udGV4dCwgYWxpZ24sIHVuaXRzLCBjbG9zaW5nLCBjbG9zZWRBdCkge1xuICAgIGxldCBhZnRlciA9IGNvbnRleHQudGV4dEFmdGVyLCBzcGFjZSA9IGFmdGVyLm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcbiAgICBsZXQgY2xvc2VkID0gY2xvc2luZyAmJiBhZnRlci5zbGljZShzcGFjZSwgc3BhY2UgKyBjbG9zaW5nLmxlbmd0aCkgPT0gY2xvc2luZyB8fCBjbG9zZWRBdCA9PSBjb250ZXh0LnBvcyArIHNwYWNlO1xuICAgIGxldCBhbGlnbmVkID0gYWxpZ24gPyBicmFja2V0ZWRBbGlnbmVkKGNvbnRleHQpIDogbnVsbDtcbiAgICBpZiAoYWxpZ25lZClcbiAgICAgICAgcmV0dXJuIGNsb3NlZCA/IGNvbnRleHQuY29sdW1uKGFsaWduZWQuZnJvbSkgOiBjb250ZXh0LmNvbHVtbihhbGlnbmVkLnRvKTtcbiAgICByZXR1cm4gY29udGV4dC5iYXNlSW5kZW50ICsgKGNsb3NlZCA/IDAgOiBjb250ZXh0LnVuaXQgKiB1bml0cyk7XG59XG4vKipcbkFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IHRoYXQgYWxpZ25zIGEgbm9kZSdzIGNvbnRlbnQgdG8gaXRzIGJhc2VcbmluZGVudGF0aW9uLlxuKi9cbmNvbnN0IGZsYXRJbmRlbnQgPSAoY29udGV4dCkgPT4gY29udGV4dC5iYXNlSW5kZW50O1xuLyoqXG5DcmVhdGVzIGFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IHRoYXQsIGJ5IGRlZmF1bHQsIGluZGVudHNcbmNvbnRpbnVlZCBsaW5lcyBvbmUgdW5pdCBtb3JlIHRoYW4gdGhlIG5vZGUncyBiYXNlIGluZGVudGF0aW9uLlxuWW91IGNhbiBwcm92aWRlIGBleGNlcHRgIHRvIHByZXZlbnQgaW5kZW50YXRpb24gb2YgbGluZXMgdGhhdFxubWF0Y2ggYSBwYXR0ZXJuIChmb3IgZXhhbXBsZSBgL15lbHNlXFxiL2AgaW4gYGlmYC9gZWxzZWBcbmNvbnN0cnVjdHMpLCBhbmQgeW91IGNhbiBjaGFuZ2UgdGhlIGFtb3VudCBvZiB1bml0cyB1c2VkIHdpdGggdGhlXG5gdW5pdHNgIG9wdGlvbi5cbiovXG5mdW5jdGlvbiBjb250aW51ZWRJbmRlbnQoeyBleGNlcHQsIHVuaXRzID0gMSB9ID0ge30pIHtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IG1hdGNoRXhjZXB0ID0gZXhjZXB0ICYmIGV4Y2VwdC50ZXN0KGNvbnRleHQudGV4dEFmdGVyKTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuYmFzZUluZGVudCArIChtYXRjaEV4Y2VwdCA/IDAgOiB1bml0cyAqIGNvbnRleHQudW5pdCk7XG4gICAgfTtcbn1cbmNvbnN0IERvbnRJbmRlbnRCZXlvbmQgPSAyMDA7XG4vKipcbkVuYWJsZXMgcmVpbmRlbnRhdGlvbiBvbiBpbnB1dC4gV2hlbiBhIGxhbmd1YWdlIGRlZmluZXMgYW5cbmBpbmRlbnRPbklucHV0YCBmaWVsZCBpbiBpdHMgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KSwgd2hpY2ggbXVzdCBob2xkIGEgcmVndWxhclxuZXhwcmVzc2lvbiwgdGhlIGxpbmUgYXQgdGhlIGN1cnNvciB3aWxsIGJlIHJlaW5kZW50ZWQgd2hlbmV2ZXIgbmV3XG50ZXh0IGlzIHR5cGVkIGFuZCB0aGUgaW5wdXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGxpbmUgdXAgdG8gdGhlXG5jdXJzb3IgbWF0Y2hlcyB0aGF0IHJlZ2V4cC5cblxuVG8gYXZvaWQgdW5uZWNjZXNhcnkgcmVpbmRlbnRzLCBpdCBpcyByZWNvbW1lbmRlZCB0byBzdGFydCB0aGVcbnJlZ2V4cCB3aXRoIGBeYCAodXN1YWxseSBmb2xsb3dlZCBieSBgXFxzKmApLCBhbmQgZW5kIGl0IHdpdGggYCRgLlxuRm9yIGV4YW1wbGUsIGAvXlxccypcXH0kL2Agd2lsbCByZWluZGVudCB3aGVuIGEgY2xvc2luZyBicmFjZSBpc1xuYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIGEgbGluZS5cbiovXG5mdW5jdGlvbiBpbmRlbnRPbklucHV0KCkge1xuICAgIHJldHVybiBFZGl0b3JTdGF0ZS50cmFuc2FjdGlvbkZpbHRlci5vZih0ciA9PiB7XG4gICAgICAgIGlmICghdHIuZG9jQ2hhbmdlZCB8fCAhdHIuaXNVc2VyRXZlbnQoXCJpbnB1dC50eXBlXCIpICYmICF0ci5pc1VzZXJFdmVudChcImlucHV0LmNvbXBsZXRlXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICBsZXQgcnVsZXMgPSB0ci5zdGFydFN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiaW5kZW50T25JbnB1dFwiLCB0ci5zdGFydFN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgICAgICBpZiAoIXJ1bGVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IGRvYyA9IHRyLm5ld0RvYywgeyBoZWFkIH0gPSB0ci5uZXdTZWxlY3Rpb24ubWFpbiwgbGluZSA9IGRvYy5saW5lQXQoaGVhZCk7XG4gICAgICAgIGlmIChoZWFkID4gbGluZS5mcm9tICsgRG9udEluZGVudEJleW9uZClcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IGxpbmVTdGFydCA9IGRvYy5zbGljZVN0cmluZyhsaW5lLmZyb20sIGhlYWQpO1xuICAgICAgICBpZiAoIXJ1bGVzLnNvbWUociA9PiByLnRlc3QobGluZVN0YXJ0KSkpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0ciwgbGFzdCA9IC0xLCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgaGVhZCB9IG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChoZWFkKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPT0gbGFzdClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxhc3QgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oc3RhdGUsIGxpbmUuZnJvbSk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ID09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgY3VyID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF07XG4gICAgICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgICAgIGlmIChjdXIgIT0gbm9ybSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID8gW3RyLCB7IGNoYW5nZXMsIHNlcXVlbnRpYWw6IHRydWUgfV0gOiB0cjtcbiAgICB9KTtcbn1cblxuLyoqXG5BIGZhY2V0IHRoYXQgcmVnaXN0ZXJzIGEgY29kZSBmb2xkaW5nIHNlcnZpY2UuIFdoZW4gY2FsbGVkIHdpdGhcbnRoZSBleHRlbnQgb2YgYSBsaW5lLCBzdWNoIGEgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIGZvbGRhYmxlXG5yYW5nZSB0aGF0IHN0YXJ0cyBvbiB0aGF0IGxpbmUgKGJ1dCBjb250aW51ZXMgYmV5b25kIGl0KSwgaWYgb25lXG5jYW4gYmUgZm91bmQuXG4qL1xuY29uc3QgZm9sZFNlcnZpY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcblRoaXMgbm9kZSBwcm9wIGlzIHVzZWQgdG8gYXNzb2NpYXRlIGZvbGRpbmcgaW5mb3JtYXRpb24gd2l0aFxuc3ludGF4IG5vZGUgdHlwZXMuIEdpdmVuIGEgc3ludGF4IG5vZGUsIGl0IHNob3VsZCBjaGVjayB3aGV0aGVyXG50aGF0IHRyZWUgaXMgZm9sZGFibGUgYW5kIHJldHVybiB0aGUgcmFuZ2UgdGhhdCBjYW4gYmUgY29sbGFwc2VkXG53aGVuIGl0IGlzLlxuKi9cbmNvbnN0IGZvbGROb2RlUHJvcCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbi8qKlxuW0ZvbGRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZE5vZGVQcm9wKSBmdW5jdGlvbiB0aGF0IGZvbGRzIGV2ZXJ5dGhpbmcgYnV0XG50aGUgZmlyc3QgYW5kIHRoZSBsYXN0IGNoaWxkIG9mIGEgc3ludGF4IG5vZGUuIFVzZWZ1bCBmb3Igbm9kZXNcbnRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIGRlbGltaXRlcnMuXG4qL1xuZnVuY3Rpb24gZm9sZEluc2lkZShub2RlKSB7XG4gICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkLCBsYXN0ID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgcmV0dXJuIGZpcnN0ICYmIGZpcnN0LnRvIDwgbGFzdC5mcm9tID8geyBmcm9tOiBmaXJzdC50bywgdG86IGxhc3QudHlwZS5pc0Vycm9yID8gbm9kZS50byA6IGxhc3QuZnJvbSB9IDogbnVsbDtcbn1cbmZ1bmN0aW9uIHN5bnRheEZvbGRpbmcoc3RhdGUsIHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoc3RhdGUpO1xuICAgIGlmICh0cmVlLmxlbmd0aCA8IGVuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHN0YWNrID0gdHJlZS5yZXNvbHZlU3RhY2soZW5kLCAxKTtcbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIGZvciAobGV0IGl0ZXIgPSBzdGFjazsgaXRlcjsgaXRlciA9IGl0ZXIubmV4dCkge1xuICAgICAgICBsZXQgY3VyID0gaXRlci5ub2RlO1xuICAgICAgICBpZiAoY3VyLnRvIDw9IGVuZCB8fCBjdXIuZnJvbSA+IGVuZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoZm91bmQgJiYgY3VyLmZyb20gPCBzdGFydClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsZXQgcHJvcCA9IGN1ci50eXBlLnByb3AoZm9sZE5vZGVQcm9wKTtcbiAgICAgICAgaWYgKHByb3AgJiYgKGN1ci50byA8IHRyZWUubGVuZ3RoIC0gNTAgfHwgdHJlZS5sZW5ndGggPT0gc3RhdGUuZG9jLmxlbmd0aCB8fCAhaXNVbmZpbmlzaGVkKGN1cikpKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBwcm9wKGN1ciwgc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmZyb20gPD0gZW5kICYmIHZhbHVlLmZyb20gPj0gc3RhcnQgJiYgdmFsdWUudG8gPiBlbmQpXG4gICAgICAgICAgICAgICAgZm91bmQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBpc1VuZmluaXNoZWQobm9kZSkge1xuICAgIGxldCBjaCA9IG5vZGUubGFzdENoaWxkO1xuICAgIHJldHVybiBjaCAmJiBjaC50byA9PSBub2RlLnRvICYmIGNoLnR5cGUuaXNFcnJvcjtcbn1cbi8qKlxuQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gbGluZSBpcyBmb2xkYWJsZS4gRmlyc3QgYXNrcyBhbnkgZm9sZFxuc2VydmljZXMgcmVnaXN0ZXJlZCB0aHJvdWdoXG5bYGZvbGRTZXJ2aWNlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkU2VydmljZSksIGFuZCBpZiBub25lIG9mIHRoZW0gcmV0dXJuXG5hIHJlc3VsdCwgdHJpZXMgdG8gcXVlcnkgdGhlIFtmb2xkIG5vZGVcbnByb3BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZE5vZGVQcm9wKSBvZiBzeW50YXggbm9kZXMgdGhhdCBjb3ZlciB0aGUgZW5kXG5vZiB0aGUgbGluZS5cbiovXG5mdW5jdGlvbiBmb2xkYWJsZShzdGF0ZSwgbGluZVN0YXJ0LCBsaW5lRW5kKSB7XG4gICAgZm9yIChsZXQgc2VydmljZSBvZiBzdGF0ZS5mYWNldChmb2xkU2VydmljZSkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNlcnZpY2Uoc3RhdGUsIGxpbmVTdGFydCwgbGluZUVuZCk7XG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gc3ludGF4Rm9sZGluZyhzdGF0ZSwgbGluZVN0YXJ0LCBsaW5lRW5kKTtcbn1cbmZ1bmN0aW9uIG1hcFJhbmdlKHJhbmdlLCBtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFBvcyhyYW5nZS5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFBvcyhyYW5nZS50bywgLTEpO1xuICAgIHJldHVybiBmcm9tID49IHRvID8gdW5kZWZpbmVkIDogeyBmcm9tLCB0byB9O1xufVxuLyoqXG5TdGF0ZSBlZmZlY3QgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYSB0cmFuc2FjdGlvbiB0byBmb2xkIHRoZVxuZ2l2ZW4gcmFuZ2UuIChZb3UgcHJvYmFibHkgb25seSBuZWVkIHRoaXMgaW4gZXhjZXB0aW9uYWxcbmNpcmN1bXN0YW5jZXPigJR1c3VhbGx5IHlvdSdsbCBqdXN0IHdhbnQgdG8gbGV0XG5bYGZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkQ29kZSkgYW5kIHRoZSBbZm9sZFxuZ3V0dGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRHdXR0ZXIpIGNyZWF0ZSB0aGUgdHJhbnNhY3Rpb25zLilcbiovXG5jb25zdCBmb2xkRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7IG1hcDogbWFwUmFuZ2UgfSk7XG4vKipcblN0YXRlIGVmZmVjdCB0aGF0IHVuZm9sZHMgdGhlIGdpdmVuIHJhbmdlIChpZiBpdCB3YXMgZm9sZGVkKS5cbiovXG5jb25zdCB1bmZvbGRFZmZlY3QgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHsgbWFwOiBtYXBSYW5nZSB9KTtcbmZ1bmN0aW9uIHNlbGVjdGVkTGluZXModmlldykge1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IHsgaGVhZCB9IG9mIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBpZiAobGluZXMuc29tZShsID0+IGwuZnJvbSA8PSBoZWFkICYmIGwudG8gPj0gaGVhZCkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgbGluZXMucHVzaCh2aWV3LmxpbmVCbG9ja0F0KGhlYWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG5UaGUgc3RhdGUgZmllbGQgdGhhdCBzdG9yZXMgdGhlIGZvbGRlZCByYW5nZXMgKGFzIGEgW2RlY29yYXRpb25cbnNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25TZXQpKS4gQ2FuIGJlIHBhc3NlZCB0b1xuW2BFZGl0b3JTdGF0ZS50b0pTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnRvSlNPTikgYW5kXG5bYGZyb21KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5mcm9tSlNPTikgdG8gc2VyaWFsaXplIHRoZSBmb2xkXG5zdGF0ZS5cbiovXG5jb25zdCBmb2xkU3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICB9LFxuICAgIHVwZGF0ZShmb2xkZWQsIHRyKSB7XG4gICAgICAgIGZvbGRlZCA9IGZvbGRlZC5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgaWYgKGUuaXMoZm9sZEVmZmVjdCkgJiYgIWZvbGRFeGlzdHMoZm9sZGVkLCBlLnZhbHVlLmZyb20sIGUudmFsdWUudG8pKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgcHJlcGFyZVBsYWNlaG9sZGVyIH0gPSB0ci5zdGF0ZS5mYWNldChmb2xkQ29uZmlnKTtcbiAgICAgICAgICAgICAgICBsZXQgd2lkZ2V0ID0gIXByZXBhcmVQbGFjZWhvbGRlciA/IGZvbGRXaWRnZXQgOlxuICAgICAgICAgICAgICAgICAgICBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBQcmVwYXJlZEZvbGRXaWRnZXQocHJlcGFyZVBsYWNlaG9sZGVyKHRyLnN0YXRlLCBlLnZhbHVlKSkgfSk7XG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7IGFkZDogW3dpZGdldC5yYW5nZShlLnZhbHVlLmZyb20sIGUudmFsdWUudG8pXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUuaXModW5mb2xkRWZmZWN0KSkge1xuICAgICAgICAgICAgICAgIGZvbGRlZCA9IGZvbGRlZC51cGRhdGUoeyBmaWx0ZXI6IChmcm9tLCB0bykgPT4gZS52YWx1ZS5mcm9tICE9IGZyb20gfHwgZS52YWx1ZS50byAhPSB0byxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJvbTogZS52YWx1ZS5mcm9tLCBmaWx0ZXJUbzogZS52YWx1ZS50byB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciBmb2xkZWQgcmFuZ2VzIHRoYXQgY292ZXIgdGhlIHNlbGVjdGlvbiBoZWFkXG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGxldCBvblNlbGVjdGlvbiA9IGZhbHNlLCB7IGhlYWQgfSA9IHRyLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICAgICAgZm9sZGVkLmJldHdlZW4oaGVhZCwgaGVhZCwgKGEsIGIpID0+IHsgaWYgKGEgPCBoZWFkICYmIGIgPiBoZWFkKVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uID0gdHJ1ZTsgfSk7XG4gICAgICAgICAgICBpZiAob25TZWxlY3Rpb24pXG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckZyb206IGhlYWQsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRvOiBoZWFkLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IChhLCBiKSA9PiBiIDw9IGhlYWQgfHwgYSA+PSBoZWFkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbGRlZDtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5mcm9tKGYpLFxuICAgIHRvSlNPTihmb2xkZWQsIHN0YXRlKSB7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9sZGVkLmJldHdlZW4oMCwgc3RhdGUuZG9jLmxlbmd0aCwgKGZyb20sIHRvKSA9PiB7IHJhbmdlcy5wdXNoKGZyb20sIHRvKTsgfSk7XG4gICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgfSxcbiAgICBmcm9tSlNPTih2YWx1ZSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCAlIDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiBmb3IgZm9sZCBzdGF0ZVwiKTtcbiAgICAgICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gdmFsdWVbaSsrXSwgdG8gPSB2YWx1ZVtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIHRvICE9IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gZm9yIGZvbGQgc3RhdGVcIik7XG4gICAgICAgICAgICByYW5nZXMucHVzaChmb2xkV2lkZ2V0LnJhbmdlKGZyb20sIHRvKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KHJhbmdlcywgdHJ1ZSk7XG4gICAgfVxufSk7XG4vKipcbkdldCBhIFtyYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQpIGNvbnRhaW5pbmcgdGhlIGZvbGRlZCByYW5nZXNcbmluIHRoZSBnaXZlbiBzdGF0ZS5cbiovXG5mdW5jdGlvbiBmb2xkZWRSYW5nZXMoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgfHwgUmFuZ2VTZXQuZW1wdHk7XG59XG5mdW5jdGlvbiBmaW5kRm9sZChzdGF0ZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICAoX2EgPSBzdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJldHdlZW4oZnJvbSwgdG8sIChmcm9tLCB0bykgPT4ge1xuICAgICAgICBpZiAoIWZvdW5kIHx8IGZvdW5kLmZyb20gPiBmcm9tKVxuICAgICAgICAgICAgZm91bmQgPSB7IGZyb20sIHRvIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZnVuY3Rpb24gZm9sZEV4aXN0cyhmb2xkZWQsIGZyb20sIHRvKSB7XG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgZm9sZGVkLmJldHdlZW4oZnJvbSwgZnJvbSwgKGEsIGIpID0+IHsgaWYgKGEgPT0gZnJvbSAmJiBiID09IHRvKVxuICAgICAgICBmb3VuZCA9IHRydWU7IH0pO1xuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIG1heWJlRW5hYmxlKHN0YXRlLCBvdGhlcikge1xuICAgIHJldHVybiBzdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSA/IG90aGVyIDogb3RoZXIuY29uY2F0KFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZy5vZihjb2RlRm9sZGluZygpKSk7XG59XG4vKipcbkZvbGQgdGhlIGxpbmVzIHRoYXQgYXJlIHNlbGVjdGVkLCBpZiBwb3NzaWJsZS5cbiovXG5jb25zdCBmb2xkQ29kZSA9IHZpZXcgPT4ge1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgcmFuZ2UgPSBmb2xkYWJsZSh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pO1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBtYXliZUVuYWJsZSh2aWV3LnN0YXRlLCBbZm9sZEVmZmVjdC5vZihyYW5nZSksIGFubm91bmNlRm9sZCh2aWV3LCByYW5nZSldKSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vKipcblVuZm9sZCBmb2xkZWQgcmFuZ2VzIG9uIHNlbGVjdGVkIGxpbmVzLlxuKi9cbmNvbnN0IHVuZm9sZENvZGUgPSB2aWV3ID0+IHtcbiAgICBpZiAoIXZpZXcuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZClcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaCh1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSwgYW5ub3VuY2VGb2xkKHZpZXcsIGZvbGRlZCwgZmFsc2UpKTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0cyB9KTtcbiAgICByZXR1cm4gZWZmZWN0cy5sZW5ndGggPiAwO1xufTtcbmZ1bmN0aW9uIGFubm91bmNlRm9sZCh2aWV3LCByYW5nZSwgZm9sZCA9IHRydWUpIHtcbiAgICBsZXQgbGluZUZyb20gPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocmFuZ2UuZnJvbSkubnVtYmVyLCBsaW5lVG8gPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocmFuZ2UudG8pLm51bWJlcjtcbiAgICByZXR1cm4gRWRpdG9yVmlldy5hbm5vdW5jZS5vZihgJHt2aWV3LnN0YXRlLnBocmFzZShmb2xkID8gXCJGb2xkZWQgbGluZXNcIiA6IFwiVW5mb2xkZWQgbGluZXNcIil9ICR7bGluZUZyb219ICR7dmlldy5zdGF0ZS5waHJhc2UoXCJ0b1wiKX0gJHtsaW5lVG99LmApO1xufVxuLyoqXG5Gb2xkIGFsbCB0b3AtbGV2ZWwgZm9sZGFibGUgcmFuZ2VzLiBOb3RlIHRoYXQsIGluIG1vc3QgY2FzZXMsXG5mb2xkaW5nIGluZm9ybWF0aW9uIHdpbGwgZGVwZW5kIG9uIHRoZSBbc3ludGF4XG50cmVlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFRyZWUpLCBhbmQgZm9sZGluZyBldmVyeXRoaW5nIG1heSBub3Qgd29ya1xucmVsaWFibHkgd2hlbiB0aGUgZG9jdW1lbnQgaGFzbid0IGJlZW4gZnVsbHkgcGFyc2VkIChlaXRoZXJcbmJlY2F1c2UgdGhlIGVkaXRvciBzdGF0ZSB3YXMgb25seSBqdXN0IGluaXRpYWxpemVkLCBvciBiZWNhdXNlIHRoZVxuZG9jdW1lbnQgaXMgc28gYmlnIHRoYXQgdGhlIHBhcnNlciBkZWNpZGVkIG5vdCB0byBwYXJzZSBpdFxuZW50aXJlbHkpLlxuKi9cbmNvbnN0IGZvbGRBbGwgPSB2aWV3ID0+IHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHN0YXRlLmRvYy5sZW5ndGg7KSB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChwb3MpLCByYW5nZSA9IGZvbGRhYmxlKHN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pO1xuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICBlZmZlY3RzLnB1c2goZm9sZEVmZmVjdC5vZihyYW5nZSkpO1xuICAgICAgICBwb3MgPSAocmFuZ2UgPyB2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLnRvKSA6IGxpbmUpLnRvICsgMTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogbWF5YmVFbmFibGUodmlldy5zdGF0ZSwgZWZmZWN0cykgfSk7XG4gICAgcmV0dXJuICEhZWZmZWN0cy5sZW5ndGg7XG59O1xuLyoqXG5VbmZvbGQgYWxsIGZvbGRlZCBjb2RlLlxuKi9cbmNvbnN0IHVuZm9sZEFsbCA9IHZpZXcgPT4ge1xuICAgIGxldCBmaWVsZCA9IHZpZXcuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFmaWVsZCB8fCAhZmllbGQuc2l6ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlZmZlY3RzID0gW107XG4gICAgZmllbGQuYmV0d2VlbigwLCB2aWV3LnN0YXRlLmRvYy5sZW5ndGgsIChmcm9tLCB0bykgPT4geyBlZmZlY3RzLnB1c2godW5mb2xkRWZmZWN0Lm9mKHsgZnJvbSwgdG8gfSkpOyB9KTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0cyB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyBGaW5kIHRoZSBmb2xkYWJsZSByZWdpb24gY29udGFpbmluZyB0aGUgZ2l2ZW4gbGluZSwgaWYgb25lIGV4aXN0c1xuZnVuY3Rpb24gZm9sZGFibGVDb250YWluZXIodmlldywgbGluZUJsb2NrKSB7XG4gICAgLy8gTG9vayBiYWNrd2FyZHMgdGhyb3VnaCBsaW5lIGJsb2NrcyB1bnRpbCB3ZSBmaW5kIGEgZm9sZGFibGUgcmVnaW9uIHRoYXRcbiAgICAvLyBpbnRlcnNlY3RzIHdpdGggdGhlIGxpbmVcbiAgICBmb3IgKGxldCBsaW5lID0gbGluZUJsb2NrOzspIHtcbiAgICAgICAgbGV0IGZvbGRhYmxlUmVnaW9uID0gZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRhYmxlUmVnaW9uICYmIGZvbGRhYmxlUmVnaW9uLnRvID4gbGluZUJsb2NrLmZyb20pXG4gICAgICAgICAgICByZXR1cm4gZm9sZGFibGVSZWdpb247XG4gICAgICAgIGlmICghbGluZS5mcm9tKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KGxpbmUuZnJvbSAtIDEpO1xuICAgIH1cbn1cbi8qKlxuVG9nZ2xlIGZvbGRpbmcgYXQgY3Vyc29ycy4gVW5mb2xkcyBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBmb2xkXG5zdGFydGluZyBpbiB0aGF0IGxpbmUsIHRyaWVzIHRvIGZpbmQgYSBmb2xkYWJsZSByYW5nZSBhcm91bmQgaXRcbm90aGVyd2lzZS5cbiovXG5jb25zdCB0b2dnbGVGb2xkID0gKHZpZXcpID0+IHtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZCkge1xuICAgICAgICAgICAgZWZmZWN0cy5wdXNoKHVuZm9sZEVmZmVjdC5vZihmb2xkZWQpLCBhbm5vdW5jZUZvbGQodmlldywgZm9sZGVkLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZvbGRSYW5nZSA9IGZvbGRhYmxlQ29udGFpbmVyKHZpZXcsIGxpbmUpO1xuICAgICAgICAgICAgaWYgKGZvbGRSYW5nZSlcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goZm9sZEVmZmVjdC5vZihmb2xkUmFuZ2UpLCBhbm5vdW5jZUZvbGQodmlldywgZm9sZFJhbmdlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoID4gMClcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IG1heWJlRW5hYmxlKHZpZXcuc3RhdGUsIGVmZmVjdHMpIH0pO1xuICAgIHJldHVybiAhIWVmZmVjdHMubGVuZ3RoO1xufTtcbi8qKlxuRGVmYXVsdCBmb2xkLXJlbGF0ZWQga2V5IGJpbmRpbmdzLlxuXG4gLSBDdHJsLVNoaWZ0LVsgKENtZC1BbHQtWyBvbiBtYWNPUyk6IFtgZm9sZENvZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRDb2RlKS5cbiAtIEN0cmwtU2hpZnQtXSAoQ21kLUFsdC1dIG9uIG1hY09TKTogW2B1bmZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS51bmZvbGRDb2RlKS5cbiAtIEN0cmwtQWx0LVs6IFtgZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZEFsbCkuXG4gLSBDdHJsLUFsdC1dOiBbYHVuZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UudW5mb2xkQWxsKS5cbiovXG5jb25zdCBmb2xkS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtU2hpZnQtW1wiLCBtYWM6IFwiQ21kLUFsdC1bXCIsIHJ1bjogZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLVNoaWZ0LV1cIiwgbWFjOiBcIkNtZC1BbHQtXVwiLCBydW46IHVuZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1bXCIsIHJ1bjogZm9sZEFsbCB9LFxuICAgIHsga2V5OiBcIkN0cmwtQWx0LV1cIiwgcnVuOiB1bmZvbGRBbGwgfVxuXTtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgcGxhY2Vob2xkZXJET006IG51bGwsXG4gICAgcHJlcGFyZVBsYWNlaG9sZGVyOiBudWxsLFxuICAgIHBsYWNlaG9sZGVyVGV4dDogXCLigKZcIlxufTtcbmNvbnN0IGZvbGRDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKHZhbHVlcykgeyByZXR1cm4gY29tYmluZUNvbmZpZyh2YWx1ZXMsIGRlZmF1bHRDb25maWcpOyB9XG59KTtcbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGNvbmZpZ3VyZXMgY29kZSBmb2xkaW5nLlxuKi9cbmZ1bmN0aW9uIGNvZGVGb2xkaW5nKGNvbmZpZykge1xuICAgIGxldCByZXN1bHQgPSBbZm9sZFN0YXRlLCBiYXNlVGhlbWUkMV07XG4gICAgaWYgKGNvbmZpZylcbiAgICAgICAgcmVzdWx0LnB1c2goZm9sZENvbmZpZy5vZihjb25maWcpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gd2lkZ2V0VG9ET00odmlldywgcHJlcGFyZWQpIHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY29uZiA9IHN0YXRlLmZhY2V0KGZvbGRDb25maWcpO1xuICAgIGxldCBvbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdCh2aWV3LnBvc0F0RE9NKGV2ZW50LnRhcmdldCkpO1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZClcbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSB9KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIGlmIChjb25mLnBsYWNlaG9sZGVyRE9NKVxuICAgICAgICByZXR1cm4gY29uZi5wbGFjZWhvbGRlckRPTSh2aWV3LCBvbmNsaWNrLCBwcmVwYXJlZCk7XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gY29uZi5wbGFjZWhvbGRlclRleHQ7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHN0YXRlLnBocmFzZShcImZvbGRlZCBjb2RlXCIpKTtcbiAgICBlbGVtZW50LnRpdGxlID0gc3RhdGUucGhyYXNlKFwidW5mb2xkXCIpO1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJjbS1mb2xkUGxhY2Vob2xkZXJcIjtcbiAgICBlbGVtZW50Lm9uY2xpY2sgPSBvbmNsaWNrO1xuICAgIHJldHVybiBlbGVtZW50O1xufVxuY29uc3QgZm9sZFdpZGdldCA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IC8qQF9fUFVSRV9fKi9uZXcgY2xhc3MgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICAgICAgdG9ET00odmlldykgeyByZXR1cm4gd2lkZ2V0VG9ET00odmlldywgbnVsbCk7IH1cbiAgICB9IH0pO1xuY2xhc3MgUHJlcGFyZWRGb2xkV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy52YWx1ZSA9PSBvdGhlci52YWx1ZTsgfVxuICAgIHRvRE9NKHZpZXcpIHsgcmV0dXJuIHdpZGdldFRvRE9NKHZpZXcsIHRoaXMudmFsdWUpOyB9XG59XG5jb25zdCBmb2xkR3V0dGVyRGVmYXVsdHMgPSB7XG4gICAgb3BlblRleHQ6IFwi4oyEXCIsXG4gICAgY2xvc2VkVGV4dDogXCLigLpcIixcbiAgICBtYXJrZXJET006IG51bGwsXG4gICAgZG9tRXZlbnRIYW5kbGVyczoge30sXG4gICAgZm9sZGluZ0NoYW5nZWQ6ICgpID0+IGZhbHNlXG59O1xuY2xhc3MgRm9sZE1hcmtlciBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBvcGVuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy5jb25maWcgPT0gb3RoZXIuY29uZmlnICYmIHRoaXMub3BlbiA9PSBvdGhlci5vcGVuOyB9XG4gICAgdG9ET00odmlldykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubWFya2VyRE9NKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1hcmtlckRPTSh0aGlzLm9wZW4pO1xuICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdGhpcy5vcGVuID8gdGhpcy5jb25maWcub3BlblRleHQgOiB0aGlzLmNvbmZpZy5jbG9zZWRUZXh0O1xuICAgICAgICBzcGFuLnRpdGxlID0gdmlldy5zdGF0ZS5waHJhc2UodGhpcy5vcGVuID8gXCJGb2xkIGxpbmVcIiA6IFwiVW5mb2xkIGxpbmVcIik7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IHJlZ2lzdGVycyBhIGZvbGQgZ3V0dGVyLCB3aGljaCBzaG93cyBhXG5mb2xkIHN0YXR1cyBpbmRpY2F0b3IgYmVmb3JlIGZvbGRhYmxlIGxpbmVzICh3aGljaCBjYW4gYmUgY2xpY2tlZFxudG8gZm9sZCBvciB1bmZvbGQgdGhlIGxpbmUpLlxuKi9cbmZ1bmN0aW9uIGZvbGRHdXR0ZXIoY29uZmlnID0ge30pIHtcbiAgICBsZXQgZnVsbENvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZm9sZEd1dHRlckRlZmF1bHRzKSwgY29uZmlnKTtcbiAgICBsZXQgY2FuRm9sZCA9IG5ldyBGb2xkTWFya2VyKGZ1bGxDb25maWcsIHRydWUpLCBjYW5VbmZvbGQgPSBuZXcgRm9sZE1hcmtlcihmdWxsQ29uZmlnLCBmYWxzZSk7XG4gICAgbGV0IG1hcmtlcnMgPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbSA9IHZpZXcudmlld3BvcnQuZnJvbTtcbiAgICAgICAgICAgIHRoaXMubWFya2VycyA9IHRoaXMuYnVpbGRNYXJrZXJzKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsYW5ndWFnZSkgfHxcbiAgICAgICAgICAgICAgICB1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSAhPSB1cGRhdGUuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICBzeW50YXhUcmVlKHVwZGF0ZS5zdGFydFN0YXRlKSAhPSBzeW50YXhUcmVlKHVwZGF0ZS5zdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICBmdWxsQ29uZmlnLmZvbGRpbmdDaGFuZ2VkKHVwZGF0ZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzID0gdGhpcy5idWlsZE1hcmtlcnModXBkYXRlLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkTWFya2Vycyh2aWV3KSB7XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGxpbmUgb2Ygdmlldy52aWV3cG9ydExpbmVCbG9ja3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFyayA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50bykgPyBjYW5VbmZvbGRcbiAgICAgICAgICAgICAgICAgICAgOiBmb2xkYWJsZSh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pID8gY2FuRm9sZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmspXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYWRkKGxpbmUuZnJvbSwgbGluZS5mcm9tLCBtYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHsgZG9tRXZlbnRIYW5kbGVycyB9ID0gZnVsbENvbmZpZztcbiAgICByZXR1cm4gW1xuICAgICAgICBtYXJrZXJzLFxuICAgICAgICBndXR0ZXIoe1xuICAgICAgICAgICAgY2xhc3M6IFwiY20tZm9sZEd1dHRlclwiLFxuICAgICAgICAgICAgbWFya2Vycyh2aWV3KSB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSB2aWV3LnBsdWdpbihtYXJrZXJzKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcmtlcnMpIHx8IFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZvbGRNYXJrZXIoZnVsbENvbmZpZywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvbUV2ZW50SGFuZGxlcnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZG9tRXZlbnRIYW5kbGVycyksIHsgY2xpY2s6ICh2aWV3LCBsaW5lLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tRXZlbnRIYW5kbGVycy5jbGljayAmJiBkb21FdmVudEhhbmRsZXJzLmNsaWNrKHZpZXcsIGxpbmUsIGV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHVuZm9sZEVmZmVjdC5vZihmb2xkZWQpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogZm9sZEVmZmVjdC5vZihyYW5nZSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICB9KSxcbiAgICAgICAgY29kZUZvbGRpbmcoKVxuICAgIF07XG59XG5jb25zdCBiYXNlVGhlbWUkMSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tZm9sZFBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlZWVcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgIGNvbG9yOiBcIiM4ODhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIi4yZW1cIixcbiAgICAgICAgbWFyZ2luOiBcIjAgMXB4XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMCAxcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgXCIuY20tZm9sZEd1dHRlciBzcGFuXCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIwIDFweFwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfVxufSk7XG5cbi8qKlxuQSBoaWdobGlnaHQgc3R5bGUgYXNzb2NpYXRlcyBDU1Mgc3R5bGVzIHdpdGggaGlnbGlnaHRpbmdcblt0YWdzXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmI2hpZ2hsaWdodC5UYWcpLlxuKi9cbmNsYXNzIEhpZ2hsaWdodFN0eWxlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgdGFnIHN0eWxlcyB1c2VkIHRvIGNyZWF0ZSB0aGlzIGhpZ2hsaWdodCBzdHlsZS5cbiAgICAqL1xuICAgIHNwZWNzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3BlY3MgPSBzcGVjcztcbiAgICAgICAgbGV0IG1vZFNwZWM7XG4gICAgICAgIGZ1bmN0aW9uIGRlZihzcGVjKSB7XG4gICAgICAgICAgICBsZXQgY2xzID0gU3R5bGVNb2R1bGUubmV3TmFtZSgpO1xuICAgICAgICAgICAgKG1vZFNwZWMgfHwgKG1vZFNwZWMgPSBPYmplY3QuY3JlYXRlKG51bGwpKSlbXCIuXCIgKyBjbHNdID0gc3BlYztcbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxsID0gdHlwZW9mIG9wdGlvbnMuYWxsID09IFwic3RyaW5nXCIgPyBvcHRpb25zLmFsbCA6IG9wdGlvbnMuYWxsID8gZGVmKG9wdGlvbnMuYWxsKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc2NvcGVPcHQgPSBvcHRpb25zLnNjb3BlO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGVPcHQgaW5zdGFuY2VvZiBMYW5ndWFnZSA/ICh0eXBlKSA9PiB0eXBlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gc2NvcGVPcHQuZGF0YVxuICAgICAgICAgICAgOiBzY29wZU9wdCA/ICh0eXBlKSA9PiB0eXBlID09IHNjb3BlT3B0IDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0eWxlID0gdGFnSGlnaGxpZ2h0ZXIoc3BlY3MubWFwKHN0eWxlID0+ICh7XG4gICAgICAgICAgICB0YWc6IHN0eWxlLnRhZyxcbiAgICAgICAgICAgIGNsYXNzOiBzdHlsZS5jbGFzcyB8fCBkZWYoT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHsgdGFnOiBudWxsIH0pKVxuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIGFsbCxcbiAgICAgICAgfSkuc3R5bGU7XG4gICAgICAgIHRoaXMubW9kdWxlID0gbW9kU3BlYyA/IG5ldyBTdHlsZU1vZHVsZShtb2RTcGVjKSA6IG51bGw7XG4gICAgICAgIHRoaXMudGhlbWVUeXBlID0gb3B0aW9ucy50aGVtZVR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGhpZ2hsaWdodGVyIHN0eWxlIHRoYXQgYXNzb2NpYXRlcyB0aGUgZ2l2ZW4gc3R5bGVzIHRvXG4gICAgdGhlIGdpdmVuIHRhZ3MuIFRoZSBzcGVjcyBtdXN0IGJlIG9iamVjdHMgdGhhdCBob2xkIGEgc3R5bGUgdGFnXG4gICAgb3IgYXJyYXkgb2YgdGFncyBpbiB0aGVpciBgdGFnYCBwcm9wZXJ0eSwgYW5kIGVpdGhlciBhIHNpbmdsZVxuICAgIGBjbGFzc2AgcHJvcGVydHkgcHJvdmlkaW5nIGEgc3RhdGljIENTUyBjbGFzcyAoZm9yIGhpZ2hsaWdodGVyXG4gICAgdGhhdCByZWx5IG9uIGV4dGVybmFsIHN0eWxpbmcpLCBvciBhXG4gICAgW2BzdHlsZS1tb2RgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbiktc3R5bGVcbiAgICBzZXQgb2YgQ1NTIHByb3BlcnRpZXMgKHdoaWNoIGRlZmluZSB0aGUgc3R5bGluZyBmb3IgdGhvc2UgdGFncykuXG4gICAgXG4gICAgVGhlIENTUyBydWxlcyBjcmVhdGVkIGZvciBhIGhpZ2hsaWdodGVyIHdpbGwgYmUgZW1pdHRlZCBpbiB0aGVcbiAgICBvcmRlciBvZiB0aGUgc3BlYydzIHByb3BlcnRpZXMuIFRoYXQgbWVhbnMgdGhhdCBmb3IgZWxlbWVudHMgdGhhdFxuICAgIGhhdmUgbXVsdGlwbGUgdGFncyBhc3NvY2lhdGVkIHdpdGggdGhlbSwgc3R5bGVzIGRlZmluZWQgZnVydGhlclxuICAgIGRvd24gaW4gdGhlIGxpc3Qgd2lsbCBoYXZlIGEgaGlnaGVyIENTUyBwcmVjZWRlbmNlIHRoYW4gc3R5bGVzXG4gICAgZGVmaW5lZCBlYXJsaWVyLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IEhpZ2hsaWdodFN0eWxlKHNwZWNzLCBvcHRpb25zIHx8IHt9KTtcbiAgICB9XG59XG5jb25zdCBoaWdobGlnaHRlckZhY2V0ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgZmFsbGJhY2tIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMubGVuZ3RoID8gW3ZhbHVlc1swXV0gOiBudWxsOyB9XG59KTtcbmZ1bmN0aW9uIGdldEhpZ2hsaWdodGVycyhzdGF0ZSkge1xuICAgIGxldCBtYWluID0gc3RhdGUuZmFjZXQoaGlnaGxpZ2h0ZXJGYWNldCk7XG4gICAgcmV0dXJuIG1haW4ubGVuZ3RoID8gbWFpbiA6IHN0YXRlLmZhY2V0KGZhbGxiYWNrSGlnaGxpZ2h0ZXIpO1xufVxuLyoqXG5XcmFwIGEgaGlnaGxpZ2h0ZXIgaW4gYW4gZWRpdG9yIGV4dGVuc2lvbiB0aGF0IHVzZXMgaXQgdG8gYXBwbHlcbnN5bnRheCBoaWdobGlnaHRpbmcgdG8gdGhlIGVkaXRvciBjb250ZW50LlxuXG5XaGVuIG11bHRpcGxlIChub24tZmFsbGJhY2spIHN0eWxlcyBhcmUgcHJvdmlkZWQsIHRoZSBzdHlsaW5nXG5hcHBsaWVkIGlzIHRoZSB1bmlvbiBvZiB0aGUgY2xhc3NlcyB0aGV5IGVtaXQuXG4qL1xuZnVuY3Rpb24gc3ludGF4SGlnaGxpZ2h0aW5nKGhpZ2hsaWdodGVyLCBvcHRpb25zKSB7XG4gICAgbGV0IGV4dCA9IFt0cmVlSGlnaGxpZ2h0ZXJdLCB0aGVtZVR5cGU7XG4gICAgaWYgKGhpZ2hsaWdodGVyIGluc3RhbmNlb2YgSGlnaGxpZ2h0U3R5bGUpIHtcbiAgICAgICAgaWYgKGhpZ2hsaWdodGVyLm1vZHVsZSlcbiAgICAgICAgICAgIGV4dC5wdXNoKEVkaXRvclZpZXcuc3R5bGVNb2R1bGUub2YoaGlnaGxpZ2h0ZXIubW9kdWxlKSk7XG4gICAgICAgIHRoZW1lVHlwZSA9IGhpZ2hsaWdodGVyLnRoZW1lVHlwZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFjaylcbiAgICAgICAgZXh0LnB1c2goZmFsbGJhY2tIaWdobGlnaHRlci5vZihoaWdobGlnaHRlcikpO1xuICAgIGVsc2UgaWYgKHRoZW1lVHlwZSlcbiAgICAgICAgZXh0LnB1c2goaGlnaGxpZ2h0ZXJGYWNldC5jb21wdXRlTihbRWRpdG9yVmlldy5kYXJrVGhlbWVdLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5kYXJrVGhlbWUpID09ICh0aGVtZVR5cGUgPT0gXCJkYXJrXCIpID8gW2hpZ2hsaWdodGVyXSA6IFtdO1xuICAgICAgICB9KSk7XG4gICAgZWxzZVxuICAgICAgICBleHQucHVzaChoaWdobGlnaHRlckZhY2V0Lm9mKGhpZ2hsaWdodGVyKSk7XG4gICAgcmV0dXJuIGV4dDtcbn1cbi8qKlxuUmV0dXJucyB0aGUgQ1NTIGNsYXNzZXMgKGlmIGFueSkgdGhhdCB0aGUgaGlnaGxpZ2h0ZXJzIGFjdGl2ZSBpblxudGhlIHN0YXRlIHdvdWxkIGFzc2lnbiB0byB0aGUgZ2l2ZW4gc3R5bGVcblt0YWdzXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmI2hpZ2hsaWdodC5UYWcpIGFuZFxuKG9wdGlvbmFsKSBsYW5ndWFnZVxuW3Njb3BlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkhpZ2hsaWdodFN0eWxlXmRlZmluZV5vcHRpb25zLnNjb3BlKS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRpbmdGb3Ioc3RhdGUsIHRhZ3MsIHNjb3BlKSB7XG4gICAgbGV0IGhpZ2hsaWdodGVycyA9IGdldEhpZ2hsaWdodGVycyhzdGF0ZSk7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgaWYgKGhpZ2hsaWdodGVycylcbiAgICAgICAgZm9yIChsZXQgaGlnaGxpZ2h0ZXIgb2YgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWhpZ2hsaWdodGVyLnNjb3BlIHx8IHNjb3BlICYmIGhpZ2hsaWdodGVyLnNjb3BlKHNjb3BlKSkge1xuICAgICAgICAgICAgICAgIGxldCBjbHMgPSBoaWdobGlnaHRlci5zdHlsZSh0YWdzKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPyByZXN1bHQgKyBcIiBcIiArIGNscyA6IGNscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBUcmVlSGlnaGxpZ2h0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5tYXJrQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLnRyZWUgPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpO1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5idWlsZERlY28odmlldywgZ2V0SGlnaGxpZ2h0ZXJzKHZpZXcuc3RhdGUpKTtcbiAgICAgICAgdGhpcy5kZWNvcmF0ZWRUbyA9IHZpZXcudmlld3BvcnQudG87XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHVwZGF0ZS5zdGF0ZSksIGhpZ2hsaWdodGVycyA9IGdldEhpZ2hsaWdodGVycyh1cGRhdGUuc3RhdGUpO1xuICAgICAgICBsZXQgc3R5bGVDaGFuZ2UgPSBoaWdobGlnaHRlcnMgIT0gZ2V0SGlnaGxpZ2h0ZXJzKHVwZGF0ZS5zdGFydFN0YXRlKTtcbiAgICAgICAgbGV0IHsgdmlld3BvcnQgfSA9IHVwZGF0ZS52aWV3LCBkZWNvcmF0ZWRUb01hcHBlZCA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0aGlzLmRlY29yYXRlZFRvLCAxKTtcbiAgICAgICAgaWYgKHRyZWUubGVuZ3RoIDwgdmlld3BvcnQudG8gJiYgIXN0eWxlQ2hhbmdlICYmIHRyZWUudHlwZSA9PSB0aGlzLnRyZWUudHlwZSAmJiBkZWNvcmF0ZWRUb01hcHBlZCA+PSB2aWV3cG9ydC50bykge1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZGVjb3JhdGlvbnMubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGVkVG8gPSBkZWNvcmF0ZWRUb01hcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmVlICE9IHRoaXMudHJlZSB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8IHN0eWxlQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuYnVpbGREZWNvKHVwZGF0ZS52aWV3LCBoaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0ZWRUbyA9IHZpZXdwb3J0LnRvO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJ1aWxkRGVjbyh2aWV3LCBoaWdobGlnaHRlcnMpIHtcbiAgICAgICAgaWYgKCFoaWdobGlnaHRlcnMgfHwgIXRoaXMudHJlZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHZpZXcudmlzaWJsZVJhbmdlcykge1xuICAgICAgICAgICAgaGlnaGxpZ2h0VHJlZSh0aGlzLnRyZWUsIGhpZ2hsaWdodGVycywgKGZyb20sIHRvLCBzdHlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIuYWRkKGZyb20sIHRvLCB0aGlzLm1hcmtDYWNoZVtzdHlsZV0gfHwgKHRoaXMubWFya0NhY2hlW3N0eWxlXSA9IERlY29yYXRpb24ubWFyayh7IGNsYXNzOiBzdHlsZSB9KSkpO1xuICAgICAgICAgICAgfSwgZnJvbSwgdG8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgIH1cbn1cbmNvbnN0IHRyZWVIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9QcmVjLmhpZ2goLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKFRyZWVIaWdobGlnaHRlciwge1xuICAgIGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnNcbn0pKTtcbi8qKlxuQSBkZWZhdWx0IGhpZ2hsaWdodCBzdHlsZSAod29ya3Mgd2VsbCB3aXRoIGxpZ2h0IHRoZW1lcykuXG4qL1xuY29uc3QgZGVmYXVsdEhpZ2hsaWdodFN0eWxlID0gLypAX19QVVJFX18qL0hpZ2hsaWdodFN0eWxlLmRlZmluZShbXG4gICAgeyB0YWc6IHRhZ3MubWV0YSxcbiAgICAgICAgY29sb3I6IFwiIzQwNDc0MFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubGluayxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJ1bmRlcmxpbmVcIixcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5lbXBoYXNpcyxcbiAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3Ryb25nLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cmlrZXRocm91Z2gsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcImxpbmUtdGhyb3VnaFwiIH0sXG4gICAgeyB0YWc6IHRhZ3Mua2V5d29yZCxcbiAgICAgICAgY29sb3I6IFwiIzcwOFwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLmF0b20sIHRhZ3MuYm9vbCwgdGFncy51cmwsIHRhZ3MuY29udGVudFNlcGFyYXRvciwgdGFncy5sYWJlbE5hbWVdLFxuICAgICAgICBjb2xvcjogXCIjMjE5XCIgfSxcbiAgICB7IHRhZzogW3RhZ3MubGl0ZXJhbCwgdGFncy5pbnNlcnRlZF0sXG4gICAgICAgIGNvbG9yOiBcIiMxNjRcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5zdHJpbmcsIHRhZ3MuZGVsZXRlZF0sXG4gICAgICAgIGNvbG9yOiBcIiNhMTFcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5yZWdleHAsIHRhZ3MuZXNjYXBlLCAvKkBfX1BVUkVfXyovdGFncy5zcGVjaWFsKHRhZ3Muc3RyaW5nKV0sXG4gICAgICAgIGNvbG9yOiBcIiNlNDBcIiB9LFxuICAgIHsgdGFnOiAvKkBfX1BVUkVfXyovdGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSxcbiAgICAgICAgY29sb3I6IFwiIzAwZlwiIH0sXG4gICAgeyB0YWc6IC8qQF9fUFVSRV9fKi90YWdzLmxvY2FsKHRhZ3MudmFyaWFibGVOYW1lKSxcbiAgICAgICAgY29sb3I6IFwiIzMwYVwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnR5cGVOYW1lLCB0YWdzLm5hbWVzcGFjZV0sXG4gICAgICAgIGNvbG9yOiBcIiMwODVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmNsYXNzTmFtZSxcbiAgICAgICAgY29sb3I6IFwiIzE2N1wiIH0sXG4gICAgeyB0YWc6IFsvKkBfX1BVUkVfXyovdGFncy5zcGVjaWFsKHRhZ3MudmFyaWFibGVOYW1lKSwgdGFncy5tYWNyb05hbWVdLFxuICAgICAgICBjb2xvcjogXCIjMjU2XCIgfSxcbiAgICB7IHRhZzogLypAX19QVVJFX18qL3RhZ3MuZGVmaW5pdGlvbih0YWdzLnByb3BlcnR5TmFtZSksXG4gICAgICAgIGNvbG9yOiBcIiMwMGNcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmNvbW1lbnQsXG4gICAgICAgIGNvbG9yOiBcIiM5NDBcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmludmFsaWQsXG4gICAgICAgIGNvbG9yOiBcIiNmMDBcIiB9XG5dKTtcblxuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIiYuY20tZm9jdXNlZCAuY20tbWF0Y2hpbmdCcmFja2V0XCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiMzMjhjODI1MlwiIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgLmNtLW5vbm1hdGNoaW5nQnJhY2tldFwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjYmI1NTU1NDRcIiB9XG59KTtcbmNvbnN0IERlZmF1bHRTY2FuRGlzdCA9IDEwMDAwLCBEZWZhdWx0QnJhY2tldHMgPSBcIigpW117fVwiO1xuY29uc3QgYnJhY2tldE1hdGNoaW5nQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIGFmdGVyQ3Vyc29yOiB0cnVlLFxuICAgICAgICAgICAgYnJhY2tldHM6IERlZmF1bHRCcmFja2V0cyxcbiAgICAgICAgICAgIG1heFNjYW5EaXN0YW5jZTogRGVmYXVsdFNjYW5EaXN0LFxuICAgICAgICAgICAgcmVuZGVyTWF0Y2g6IGRlZmF1bHRSZW5kZXJNYXRjaFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmNvbnN0IG1hdGNoaW5nTWFyayA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1tYXRjaGluZ0JyYWNrZXRcIiB9KSwgbm9ubWF0Y2hpbmdNYXJrID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLW5vbm1hdGNoaW5nQnJhY2tldFwiIH0pO1xuZnVuY3Rpb24gZGVmYXVsdFJlbmRlck1hdGNoKG1hdGNoKSB7XG4gICAgbGV0IGRlY29yYXRpb25zID0gW107XG4gICAgbGV0IG1hcmsgPSBtYXRjaC5tYXRjaGVkID8gbWF0Y2hpbmdNYXJrIDogbm9ubWF0Y2hpbmdNYXJrO1xuICAgIGRlY29yYXRpb25zLnB1c2gobWFyay5yYW5nZShtYXRjaC5zdGFydC5mcm9tLCBtYXRjaC5zdGFydC50bykpO1xuICAgIGlmIChtYXRjaC5lbmQpXG4gICAgICAgIGRlY29yYXRpb25zLnB1c2gobWFyay5yYW5nZShtYXRjaC5lbmQuZnJvbSwgbWF0Y2guZW5kLnRvKSk7XG4gICAgcmV0dXJuIGRlY29yYXRpb25zO1xufVxuY29uc3QgYnJhY2tldE1hdGNoaW5nU3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHsgcmV0dXJuIERlY29yYXRpb24ubm9uZTsgfSxcbiAgICB1cGRhdGUoZGVjbywgdHIpIHtcbiAgICAgICAgaWYgKCF0ci5kb2NDaGFuZ2VkICYmICF0ci5zZWxlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm4gZGVjbztcbiAgICAgICAgbGV0IGRlY29yYXRpb25zID0gW107XG4gICAgICAgIGxldCBjb25maWcgPSB0ci5zdGF0ZS5mYWNldChicmFja2V0TWF0Y2hpbmdDb25maWcpO1xuICAgICAgICBmb3IgKGxldCByYW5nZSBvZiB0ci5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gbWF0Y2hCcmFja2V0cyh0ci5zdGF0ZSwgcmFuZ2UuaGVhZCwgLTEsIGNvbmZpZylcbiAgICAgICAgICAgICAgICB8fCAocmFuZ2UuaGVhZCA+IDAgJiYgbWF0Y2hCcmFja2V0cyh0ci5zdGF0ZSwgcmFuZ2UuaGVhZCAtIDEsIDEsIGNvbmZpZykpXG4gICAgICAgICAgICAgICAgfHwgKGNvbmZpZy5hZnRlckN1cnNvciAmJlxuICAgICAgICAgICAgICAgICAgICAobWF0Y2hCcmFja2V0cyh0ci5zdGF0ZSwgcmFuZ2UuaGVhZCwgMSwgY29uZmlnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHJhbmdlLmhlYWQgPCB0ci5zdGF0ZS5kb2MubGVuZ3RoICYmIG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQgKyAxLCAtMSwgY29uZmlnKSkpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9ucyA9IGRlY29yYXRpb25zLmNvbmNhdChjb25maWcucmVuZGVyTWF0Y2gobWF0Y2gsIHRyLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KGRlY29yYXRpb25zLCB0cnVlKTtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5mcm9tKGYpXG59KTtcbmNvbnN0IGJyYWNrZXRNYXRjaGluZ1VuaXF1ZSA9IFtcbiAgICBicmFja2V0TWF0Y2hpbmdTdGF0ZSxcbiAgICBiYXNlVGhlbWVcbl07XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIGJyYWNrZXQgbWF0Y2hpbmcuIFdoZW5ldmVyIHRoZVxuY3Vyc29yIGlzIG5leHQgdG8gYSBicmFja2V0LCB0aGF0IGJyYWNrZXQgYW5kIHRoZSBvbmUgaXQgbWF0Y2hlc1xuYXJlIGhpZ2hsaWdodGVkLiBPciwgd2hlbiBubyBtYXRjaGluZyBicmFja2V0IGlzIGZvdW5kLCBhbm90aGVyXG5oaWdobGlnaHRpbmcgc3R5bGUgaXMgdXNlZCB0byBpbmRpY2F0ZSB0aGlzLlxuKi9cbmZ1bmN0aW9uIGJyYWNrZXRNYXRjaGluZyhjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbYnJhY2tldE1hdGNoaW5nQ29uZmlnLm9mKGNvbmZpZyksIGJyYWNrZXRNYXRjaGluZ1VuaXF1ZV07XG59XG4vKipcbldoZW4gbGFyZ2VyIHN5bnRheCBub2Rlcywgc3VjaCBhcyBIVE1MIHRhZ3MsIGFyZSBtYXJrZWQgYXNcbm9wZW5pbmcvY2xvc2luZywgaXQgY2FuIGJlIGEgYml0IG1lc3N5IHRvIHRyZWF0IHRoZSB3aG9sZSBub2RlIGFzXG5hIG1hdGNoYWJsZSBicmFja2V0LiBUaGlzIG5vZGUgcHJvcCBhbGxvd3MgeW91IHRvIGRlZmluZSwgZm9yIHN1Y2hcbmEgbm9kZSwgYSDigJhoYW5kbGXigJnigJR0aGUgcGFydCBvZiB0aGUgbm9kZSB0aGF0IGlzIGhpZ2hsaWdodGVkLCBhbmRcbnRoYXQgdGhlIGN1cnNvciBtdXN0IGJlIG9uIHRvIGFjdGl2YXRlIGhpZ2hsaWdodGluZyBpbiB0aGUgZmlyc3RcbnBsYWNlLlxuKi9cbmNvbnN0IGJyYWNrZXRNYXRjaGluZ0hhbmRsZSA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbmZ1bmN0aW9uIG1hdGNoaW5nTm9kZXMobm9kZSwgZGlyLCBicmFja2V0cykge1xuICAgIGxldCBieVByb3AgPSBub2RlLnByb3AoZGlyIDwgMCA/IE5vZGVQcm9wLm9wZW5lZEJ5IDogTm9kZVByb3AuY2xvc2VkQnkpO1xuICAgIGlmIChieVByb3ApXG4gICAgICAgIHJldHVybiBieVByb3A7XG4gICAgaWYgKG5vZGUubmFtZS5sZW5ndGggPT0gMSkge1xuICAgICAgICBsZXQgaW5kZXggPSBicmFja2V0cy5pbmRleE9mKG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xICYmIGluZGV4ICUgMiA9PSAoZGlyIDwgMCA/IDEgOiAwKSlcbiAgICAgICAgICAgIHJldHVybiBbYnJhY2tldHNbaW5kZXggKyBkaXJdXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBmaW5kSGFuZGxlKG5vZGUpIHtcbiAgICBsZXQgaGFzSGFuZGxlID0gbm9kZS50eXBlLnByb3AoYnJhY2tldE1hdGNoaW5nSGFuZGxlKTtcbiAgICByZXR1cm4gaGFzSGFuZGxlID8gaGFzSGFuZGxlKG5vZGUubm9kZSkgOiBub2RlO1xufVxuLyoqXG5GaW5kIHRoZSBtYXRjaGluZyBicmFja2V0IGZvciB0aGUgdG9rZW4gYXQgYHBvc2AsIHNjYW5uaW5nXG5kaXJlY3Rpb24gYGRpcmAuIE9ubHkgdGhlIGBicmFja2V0c2AgYW5kIGBtYXhTY2FuRGlzdGFuY2VgXG5wcm9wZXJ0aWVzIGFyZSB1c2VkIGZyb20gYGNvbmZpZ2AsIGlmIGdpdmVuLiBSZXR1cm5zIG51bGwgaWYgbm9cbmJyYWNrZXQgd2FzIGZvdW5kIGF0IGBwb3NgLCBvciBhIG1hdGNoIHJlc3VsdCBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIGNvbmZpZyA9IHt9KSB7XG4gICAgbGV0IG1heFNjYW5EaXN0YW5jZSA9IGNvbmZpZy5tYXhTY2FuRGlzdGFuY2UgfHwgRGVmYXVsdFNjYW5EaXN0LCBicmFja2V0cyA9IGNvbmZpZy5icmFja2V0cyB8fCBEZWZhdWx0QnJhY2tldHM7XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKSwgbm9kZSA9IHRyZWUucmVzb2x2ZUlubmVyKHBvcywgZGlyKTtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpIHtcbiAgICAgICAgbGV0IG1hdGNoZXMgPSBtYXRjaGluZ05vZGVzKGN1ci50eXBlLCBkaXIsIGJyYWNrZXRzKTtcbiAgICAgICAgaWYgKG1hdGNoZXMgJiYgY3VyLmZyb20gPCBjdXIudG8pIHtcbiAgICAgICAgICAgIGxldCBoYW5kbGUgPSBmaW5kSGFuZGxlKGN1cik7XG4gICAgICAgICAgICBpZiAoaGFuZGxlICYmIChkaXIgPiAwID8gcG9zID49IGhhbmRsZS5mcm9tICYmIHBvcyA8IGhhbmRsZS50byA6IHBvcyA+IGhhbmRsZS5mcm9tICYmIHBvcyA8PSBoYW5kbGUudG8pKVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaE1hcmtlZEJyYWNrZXRzKHN0YXRlLCBwb3MsIGRpciwgY3VyLCBoYW5kbGUsIG1hdGNoZXMsIGJyYWNrZXRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hQbGFpbkJyYWNrZXRzKHN0YXRlLCBwb3MsIGRpciwgdHJlZSwgbm9kZS50eXBlLCBtYXhTY2FuRGlzdGFuY2UsIGJyYWNrZXRzKTtcbn1cbmZ1bmN0aW9uIG1hdGNoTWFya2VkQnJhY2tldHMoX3N0YXRlLCBfcG9zLCBkaXIsIHRva2VuLCBoYW5kbGUsIG1hdGNoaW5nLCBicmFja2V0cykge1xuICAgIGxldCBwYXJlbnQgPSB0b2tlbi5wYXJlbnQsIGZpcnN0VG9rZW4gPSB7IGZyb206IGhhbmRsZS5mcm9tLCB0bzogaGFuZGxlLnRvIH07XG4gICAgbGV0IGRlcHRoID0gMCwgY3Vyc29yID0gcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmN1cnNvcigpO1xuICAgIGlmIChjdXJzb3IgJiYgKGRpciA8IDAgPyBjdXJzb3IuY2hpbGRCZWZvcmUodG9rZW4uZnJvbSkgOiBjdXJzb3IuY2hpbGRBZnRlcih0b2tlbi50bykpKVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZGlyIDwgMCA/IGN1cnNvci50byA8PSB0b2tlbi5mcm9tIDogY3Vyc29yLmZyb20gPj0gdG9rZW4udG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVwdGggPT0gMCAmJiBtYXRjaGluZy5pbmRleE9mKGN1cnNvci50eXBlLm5hbWUpID4gLTEgJiYgY3Vyc29yLmZyb20gPCBjdXJzb3IudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZEhhbmRsZSA9IGZpbmRIYW5kbGUoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IGZpcnN0VG9rZW4sIGVuZDogZW5kSGFuZGxlID8geyBmcm9tOiBlbmRIYW5kbGUuZnJvbSwgdG86IGVuZEhhbmRsZS50byB9IDogdW5kZWZpbmVkLCBtYXRjaGVkOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoaW5nTm9kZXMoY3Vyc29yLnR5cGUsIGRpciwgYnJhY2tldHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoaW5nTm9kZXMoY3Vyc29yLnR5cGUsIC1kaXIsIGJyYWNrZXRzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZEhhbmRsZSA9IGZpbmRIYW5kbGUoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZpcnN0VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRIYW5kbGUgJiYgZW5kSGFuZGxlLmZyb20gPCBlbmRIYW5kbGUudG8gPyB7IGZyb206IGVuZEhhbmRsZS5mcm9tLCB0bzogZW5kSGFuZGxlLnRvIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpciA8IDAgPyBjdXJzb3IucHJldlNpYmxpbmcoKSA6IGN1cnNvci5uZXh0U2libGluZygpKTtcbiAgICByZXR1cm4geyBzdGFydDogZmlyc3RUb2tlbiwgbWF0Y2hlZDogZmFsc2UgfTtcbn1cbmZ1bmN0aW9uIG1hdGNoUGxhaW5CcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIHRyZWUsIHRva2VuVHlwZSwgbWF4U2NhbkRpc3RhbmNlLCBicmFja2V0cykge1xuICAgIGxldCBzdGFydENoID0gZGlyIDwgMCA/IHN0YXRlLnNsaWNlRG9jKHBvcyAtIDEsIHBvcykgOiBzdGF0ZS5zbGljZURvYyhwb3MsIHBvcyArIDEpO1xuICAgIGxldCBicmFja2V0ID0gYnJhY2tldHMuaW5kZXhPZihzdGFydENoKTtcbiAgICBpZiAoYnJhY2tldCA8IDAgfHwgKGJyYWNrZXQgJSAyID09IDApICE9IChkaXIgPiAwKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHN0YXJ0VG9rZW4gPSB7IGZyb206IGRpciA8IDAgPyBwb3MgLSAxIDogcG9zLCB0bzogZGlyID4gMCA/IHBvcyArIDEgOiBwb3MgfTtcbiAgICBsZXQgaXRlciA9IHN0YXRlLmRvYy5pdGVyUmFuZ2UocG9zLCBkaXIgPiAwID8gc3RhdGUuZG9jLmxlbmd0aCA6IDApLCBkZXB0aCA9IDA7XG4gICAgZm9yIChsZXQgZGlzdGFuY2UgPSAwOyAhKGl0ZXIubmV4dCgpKS5kb25lICYmIGRpc3RhbmNlIDw9IG1heFNjYW5EaXN0YW5jZTspIHtcbiAgICAgICAgbGV0IHRleHQgPSBpdGVyLnZhbHVlO1xuICAgICAgICBpZiAoZGlyIDwgMClcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IHRleHQubGVuZ3RoO1xuICAgICAgICBsZXQgYmFzZVBvcyA9IHBvcyArIGRpc3RhbmNlICogZGlyO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBkaXIgPiAwID8gMCA6IHRleHQubGVuZ3RoIC0gMSwgZW5kID0gZGlyID4gMCA/IHRleHQubGVuZ3RoIDogLTE7IHBvcyAhPSBlbmQ7IHBvcyArPSBkaXIpIHtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IGJyYWNrZXRzLmluZGV4T2YodGV4dFtwb3NdKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCA8IDAgfHwgdHJlZS5yZXNvbHZlSW5uZXIoYmFzZVBvcyArIHBvcywgMSkudHlwZSAhPSB0b2tlblR5cGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoKGZvdW5kICUgMiA9PSAwKSA9PSAoZGlyID4gMCkpIHtcbiAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGggPT0gMSkgeyAvLyBDbG9zaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0VG9rZW4sIGVuZDogeyBmcm9tOiBiYXNlUG9zICsgcG9zLCB0bzogYmFzZVBvcyArIHBvcyArIDEgfSwgbWF0Y2hlZDogKGZvdW5kID4+IDEpID09IChicmFja2V0ID4+IDEpIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkaXIgPiAwKVxuICAgICAgICAgICAgZGlzdGFuY2UgKz0gdGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBpdGVyLmRvbmUgPyB7IHN0YXJ0OiBzdGFydFRva2VuLCBtYXRjaGVkOiBmYWxzZSB9IDogbnVsbDtcbn1cblxuLy8gQ291bnRzIHRoZSBjb2x1bW4gb2Zmc2V0IGluIGEgc3RyaW5nLCB0YWtpbmcgdGFicyBpbnRvIGFjY291bnQuXG4vLyBVc2VkIG1vc3RseSB0byBmaW5kIGluZGVudGF0aW9uLlxuZnVuY3Rpb24gY291bnRDb2woc3RyaW5nLCBlbmQsIHRhYlNpemUsIHN0YXJ0SW5kZXggPSAwLCBzdGFydFZhbHVlID0gMCkge1xuICAgIGlmIChlbmQgPT0gbnVsbCkge1xuICAgICAgICBlbmQgPSBzdHJpbmcuc2VhcmNoKC9bXlxcc1xcdTAwYTBdLyk7XG4gICAgICAgIGlmIChlbmQgPT0gLTEpXG4gICAgICAgICAgICBlbmQgPSBzdHJpbmcubGVuZ3RoO1xuICAgIH1cbiAgICBsZXQgbiA9IHN0YXJ0VmFsdWU7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgPT0gOSlcbiAgICAgICAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG4rKztcbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG4vKipcbkVuY2Fwc3VsYXRlcyBhIHNpbmdsZSBsaW5lIG9mIGlucHV0LiBHaXZlbiB0byBzdHJlYW0gc3ludGF4IGNvZGUsXG53aGljaCB1c2VzIGl0IHRvIHRva2VuaXplIHRoZSBjb250ZW50LlxuKi9cbmNsYXNzIFN0cmluZ1N0cmVhbSB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc3RyZWFtLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGxpbmUuXG4gICAgKi9cbiAgICBzdHJpbmcsIHRhYlNpemUsIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGluZGVudCB1bml0IHNpemUuXG4gICAgKi9cbiAgICBpbmRlbnRVbml0LCBvdmVycmlkZUluZGVudCkge1xuICAgICAgICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgICAgICAgdGhpcy50YWJTaXplID0gdGFiU2l6ZTtcbiAgICAgICAgdGhpcy5pbmRlbnRVbml0ID0gaW5kZW50VW5pdDtcbiAgICAgICAgdGhpcy5vdmVycmlkZUluZGVudCA9IG92ZXJyaWRlSW5kZW50O1xuICAgICAgICAvKipcbiAgICAgICAgVGhlIGN1cnJlbnQgcG9zaXRpb24gb24gdGhlIGxpbmUuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCB0b2tlbi5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IDA7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblZhbHVlID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgVHJ1ZSBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIGVvbCgpIHsgcmV0dXJuIHRoaXMucG9zID49IHRoaXMuc3RyaW5nLmxlbmd0aDsgfVxuICAgIC8qKlxuICAgIFRydWUgaWYgd2UgYXJlIGF0IHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIHNvbCgpIHsgcmV0dXJuIHRoaXMucG9zID09IDA7IH1cbiAgICAvKipcbiAgICBHZXQgdGhlIG5leHQgY29kZSB1bml0IGFmdGVyIHRoZSBjdXJyZW50IHBvc2l0aW9uLCBvciB1bmRlZmluZWRcbiAgICBpZiB3ZSdyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgcGVlaygpIHsgcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykgfHwgdW5kZWZpbmVkOyB9XG4gICAgLyoqXG4gICAgUmVhZCB0aGUgbmV4dCBjb2RlIHVuaXQgYW5kIGFkdmFuY2UgYHRoaXMucG9zYC5cbiAgICAqL1xuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IHRoaXMuc3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MrKyk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hdGNoIHRoZSBuZXh0IGNoYXJhY3RlciBhZ2FpbnN0IHRoZSBnaXZlbiBzdHJpbmcsIHJlZ3VsYXJcbiAgICBleHByZXNzaW9uLCBvciBwcmVkaWNhdGUuIENvbnN1bWUgYW5kIHJldHVybiBpdCBpZiBpdCBtYXRjaGVzLlxuICAgICovXG4gICAgZWF0KG1hdGNoKSB7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcyk7XG4gICAgICAgIGxldCBvaztcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRjaCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgb2sgPSBjaCA9PSBtYXRjaDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgb2sgPSBjaCAmJiAobWF0Y2ggaW5zdGFuY2VvZiBSZWdFeHAgPyBtYXRjaC50ZXN0KGNoKSA6IG1hdGNoKGNoKSk7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgICAgKyt0aGlzLnBvcztcbiAgICAgICAgICAgIHJldHVybiBjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDb250aW51ZSBtYXRjaGluZyBjaGFyYWN0ZXJzIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIHN0cmluZyxcbiAgICByZWd1bGFyIGV4cHJlc3Npb24sIG9yIHByZWRpY2F0ZSBmdW5jdGlvbi4gUmV0dXJuIHRydWUgaWYgYW55XG4gICAgY2hhcmFjdGVycyB3ZXJlIGNvbnN1bWVkLlxuICAgICovXG4gICAgZWF0V2hpbGUobWF0Y2gpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHdoaWxlICh0aGlzLmVhdChtYXRjaCkpIHsgfVxuICAgICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29uc3VtZSB3aGl0ZXNwYWNlIGFoZWFkIG9mIGB0aGlzLnBvc2AuIFJldHVybiB0cnVlIGlmIGFueSB3YXNcbiAgICBmb3VuZC5cbiAgICAqL1xuICAgIGVhdFNwYWNlKCkge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgd2hpbGUgKC9bXFxzXFx1MDBhMF0vLnRlc3QodGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSkpXG4gICAgICAgICAgICArK3RoaXMucG9zO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgc2tpcFRvRW5kKCkgeyB0aGlzLnBvcyA9IHRoaXMuc3RyaW5nLmxlbmd0aDsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gZGlyZWN0bHkgYmVmb3JlIHRoZSBnaXZlbiBjaGFyYWN0ZXIsIGlmIGZvdW5kIG9uIHRoZVxuICAgIGN1cnJlbnQgbGluZS5cbiAgICAqL1xuICAgIHNraXBUbyhjaCkge1xuICAgICAgICBsZXQgZm91bmQgPSB0aGlzLnN0cmluZy5pbmRleE9mKGNoLCB0aGlzLnBvcyk7XG4gICAgICAgIGlmIChmb3VuZCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IGZvdW5kO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBiYWNrIGBuYCBjaGFyYWN0ZXJzLlxuICAgICovXG4gICAgYmFja1VwKG4pIHsgdGhpcy5wb3MgLT0gbjsgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY29sdW1uIHBvc2l0aW9uIGF0IGB0aGlzLnBvc2AuXG4gICAgKi9cbiAgICBjb2x1bW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RDb2x1bW5Qb3MgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IGNvdW50Q29sKHRoaXMuc3RyaW5nLCB0aGlzLnN0YXJ0LCB0aGlzLnRhYlNpemUsIHRoaXMubGFzdENvbHVtblBvcywgdGhpcy5sYXN0Q29sdW1uVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gdGhpcy5zdGFydDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29sdW1uVmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgaW5kZW50YXRpb24gY29sdW1uIG9mIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgKi9cbiAgICBpbmRlbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5vdmVycmlkZUluZGVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY291bnRDb2wodGhpcy5zdHJpbmcsIG51bGwsIHRoaXMudGFiU2l6ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hdGNoIHRoZSBpbnB1dCBhZ2FpbnN0IHRoZSBnaXZlbiBzdHJpbmcgb3IgcmVndWxhciBleHByZXNzaW9uXG4gICAgKHdoaWNoIHNob3VsZCBzdGFydCB3aXRoIGEgYF5gKS4gUmV0dXJuIHRydWUgb3IgdGhlIHJlZ2V4cCBtYXRjaFxuICAgIGlmIGl0IG1hdGNoZXMuXG4gICAgXG4gICAgVW5sZXNzIGBjb25zdW1lYCBpcyBzZXQgdG8gYGZhbHNlYCwgdGhpcyB3aWxsIG1vdmUgYHRoaXMucG9zYFxuICAgIHBhc3QgdGhlIG1hdGNoZWQgdGV4dC5cbiAgICBcbiAgICBXaGVuIG1hdGNoaW5nIGEgc3RyaW5nIGBjYXNlSW5zZW5zaXRpdmVgIGNhbiBiZSBzZXQgdG8gdHJ1ZSB0b1xuICAgIG1ha2UgdGhlIG1hdGNoIGNhc2UtaW5zZW5zaXRpdmUuXG4gICAgKi9cbiAgICBtYXRjaChwYXR0ZXJuLCBjb25zdW1lLCBjYXNlSW5zZW5zaXRpdmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGxldCBjYXNlZCA9IChzdHIpID0+IGNhc2VJbnNlbnNpdGl2ZSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyO1xuICAgICAgICAgICAgbGV0IHN1YnN0ciA9IHRoaXMuc3RyaW5nLnN1YnN0cih0aGlzLnBvcywgcGF0dGVybi5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGNhc2VkKHN1YnN0cikgPT0gY2FzZWQocGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IHBhdHRlcm4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5wb3MpLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiBjb25zdW1lICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjdXJyZW50IHRva2VuLlxuICAgICovXG4gICAgY3VycmVudCgpIHsgcmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMucG9zKTsgfVxufVxuXG5mdW5jdGlvbiBmdWxsUGFyc2VyKHNwZWMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBzcGVjLm5hbWUgfHwgXCJcIixcbiAgICAgICAgdG9rZW46IHNwZWMudG9rZW4sXG4gICAgICAgIGJsYW5rTGluZTogc3BlYy5ibGFua0xpbmUgfHwgKCgpID0+IHsgfSksXG4gICAgICAgIHN0YXJ0U3RhdGU6IHNwZWMuc3RhcnRTdGF0ZSB8fCAoKCkgPT4gdHJ1ZSksXG4gICAgICAgIGNvcHlTdGF0ZTogc3BlYy5jb3B5U3RhdGUgfHwgZGVmYXVsdENvcHlTdGF0ZSxcbiAgICAgICAgaW5kZW50OiBzcGVjLmluZGVudCB8fCAoKCkgPT4gbnVsbCksXG4gICAgICAgIGxhbmd1YWdlRGF0YTogc3BlYy5sYW5ndWFnZURhdGEgfHwge30sXG4gICAgICAgIHRva2VuVGFibGU6IHNwZWMudG9rZW5UYWJsZSB8fCBub1Rva2Vuc1xuICAgIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0Q29weVN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgbGV0IG5ld1N0YXRlID0ge307XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzdGF0ZSkge1xuICAgICAgICBsZXQgdmFsID0gc3RhdGVbcHJvcF07XG4gICAgICAgIG5ld1N0YXRlW3Byb3BdID0gKHZhbCBpbnN0YW5jZW9mIEFycmF5ID8gdmFsLnNsaWNlKCkgOiB2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG59XG5jb25zdCBJbmRlbnRlZEZyb20gPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbi8qKlxuQSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGNsYXNzIGJhc2VkIG9uIGEgQ29kZU1pcnJvclxuNS1zdHlsZSBbc3RyZWFtaW5nIHBhcnNlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1QYXJzZXIpLlxuKi9cbmNsYXNzIFN0cmVhbUxhbmd1YWdlIGV4dGVuZHMgTGFuZ3VhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlcikge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQocGFyc2VyLmxhbmd1YWdlRGF0YSk7XG4gICAgICAgIGxldCBwID0gZnVsbFBhcnNlcihwYXJzZXIpLCBzZWxmO1xuICAgICAgICBsZXQgaW1wbCA9IG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcnNlKHNlbGYsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyKGRhdGEsIGltcGwsIFtpbmRlbnRTZXJ2aWNlLm9mKChjeCwgcG9zKSA9PiB0aGlzLmdldEluZGVudChjeCwgcG9zKSldLCBwYXJzZXIubmFtZSk7XG4gICAgICAgIHRoaXMudG9wTm9kZSA9IGRvY0lEKGRhdGEpO1xuICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zdHJlYW1QYXJzZXIgPSBwO1xuICAgICAgICB0aGlzLnN0YXRlQWZ0ZXIgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnRva2VuVGFibGUgPSBwYXJzZXIudG9rZW5UYWJsZSA/IG5ldyBUb2tlblRhYmxlKHAudG9rZW5UYWJsZSkgOiBkZWZhdWx0VG9rZW5UYWJsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgc3RyZWFtIGxhbmd1YWdlLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjKSB7IHJldHVybiBuZXcgU3RyZWFtTGFuZ3VhZ2Uoc3BlYyk7IH1cbiAgICBnZXRJbmRlbnQoY3gsIHBvcykge1xuICAgICAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoY3guc3RhdGUpLCBhdCA9IHRyZWUucmVzb2x2ZShwb3MpO1xuICAgICAgICB3aGlsZSAoYXQgJiYgYXQudHlwZSAhPSB0aGlzLnRvcE5vZGUpXG4gICAgICAgICAgICBhdCA9IGF0LnBhcmVudDtcbiAgICAgICAgaWYgKCFhdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgZnJvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHsgb3ZlcnJpZGVJbmRlbnRhdGlvbiB9ID0gY3gub3B0aW9ucztcbiAgICAgICAgaWYgKG92ZXJyaWRlSW5kZW50YXRpb24pIHtcbiAgICAgICAgICAgIGZyb20gPSBJbmRlbnRlZEZyb20uZ2V0KGN4LnN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmcm9tICE9IG51bGwgJiYgZnJvbSA8IHBvcyAtIDFlNClcbiAgICAgICAgICAgICAgICBmcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGZpbmRTdGF0ZSh0aGlzLCB0cmVlLCAwLCBhdC5mcm9tLCBmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiBwb3MpLCBzdGF0ZVBvcywgc3RhdGU7XG4gICAgICAgIGlmIChzdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBzdGFydC5zdGF0ZTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gc3RhcnQucG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShjeC51bml0KTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIC0gc3RhdGVQb3MgPiAxMDAwMCAvKiBDLk1heEluZGVudFNjYW5EaXN0ICovKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHdoaWxlIChzdGF0ZVBvcyA8IHBvcykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBjeC5zdGF0ZS5kb2MubGluZUF0KHN0YXRlUG9zKSwgZW5kID0gTWF0aC5taW4ocG9zLCBsaW5lLnRvKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRlbnRhdGlvbiA9IG92ZXJyaWRlSW5kZW50YXRpb24gPyBvdmVycmlkZUluZGVudGF0aW9uKGxpbmUuZnJvbSkgOiAtMTtcbiAgICAgICAgICAgICAgICBsZXQgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbShsaW5lLnRleHQsIGN4LnN0YXRlLnRhYlNpemUsIGN4LnVuaXQsIGluZGVudGF0aW9uIDwgMCA/IHVuZGVmaW5lZCA6IGluZGVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RyZWFtLnBvcyA8IGVuZCAtIGxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgcmVhZFRva2VuKHRoaXMuc3RyZWFtUGFyc2VyLnRva2VuLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtUGFyc2VyLmJsYW5rTGluZShzdGF0ZSwgY3gudW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID09IHBvcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHN0YXRlUG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxpbmUgPSBjeC5saW5lQXQocG9zKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlSW5kZW50YXRpb24gJiYgZnJvbSA9PSBudWxsKVxuICAgICAgICAgICAgSW5kZW50ZWRGcm9tLnNldChjeC5zdGF0ZSwgbGluZS5mcm9tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtUGFyc2VyLmluZGVudChzdGF0ZSwgL15cXHMqKC4qKS8uZXhlYyhsaW5lLnRleHQpWzFdLCBjeCk7XG4gICAgfVxuICAgIGdldCBhbGxvd3NOZXN0aW5nKCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmZ1bmN0aW9uIGZpbmRTdGF0ZShsYW5nLCB0cmVlLCBvZmYsIHN0YXJ0UG9zLCBiZWZvcmUpIHtcbiAgICBsZXQgc3RhdGUgPSBvZmYgPj0gc3RhcnRQb3MgJiYgb2ZmICsgdHJlZS5sZW5ndGggPD0gYmVmb3JlICYmIHRyZWUucHJvcChsYW5nLnN0YXRlQWZ0ZXIpO1xuICAgIGlmIChzdGF0ZSlcbiAgICAgICAgcmV0dXJuIHsgc3RhdGU6IGxhbmcuc3RyZWFtUGFyc2VyLmNvcHlTdGF0ZShzdGF0ZSksIHBvczogb2ZmICsgdHJlZS5sZW5ndGggfTtcbiAgICBmb3IgKGxldCBpID0gdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgY2hpbGQgPSB0cmVlLmNoaWxkcmVuW2ldLCBwb3MgPSBvZmYgKyB0cmVlLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgbGV0IGZvdW5kID0gY2hpbGQgaW5zdGFuY2VvZiBUcmVlICYmIHBvcyA8IGJlZm9yZSAmJiBmaW5kU3RhdGUobGFuZywgY2hpbGQsIHBvcywgc3RhcnRQb3MsIGJlZm9yZSk7XG4gICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjdXRUcmVlKGxhbmcsIHRyZWUsIGZyb20sIHRvLCBpbnNpZGUpIHtcbiAgICBpZiAoaW5zaWRlICYmIGZyb20gPD0gMCAmJiB0byA+PSB0cmVlLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgaWYgKCFpbnNpZGUgJiYgdHJlZS50eXBlID09IGxhbmcudG9wTm9kZSlcbiAgICAgICAgaW5zaWRlID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgcG9zID0gdHJlZS5wb3NpdGlvbnNbaV0sIGNoaWxkID0gdHJlZS5jaGlsZHJlbltpXSwgaW5uZXI7XG4gICAgICAgIGlmIChwb3MgPCB0byAmJiBjaGlsZCBpbnN0YW5jZW9mIFRyZWUpIHtcbiAgICAgICAgICAgIGlmICghKGlubmVyID0gY3V0VHJlZShsYW5nLCBjaGlsZCwgZnJvbSAtIHBvcywgdG8gLSBwb3MsIGluc2lkZSkpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuICFpbnNpZGUgPyBpbm5lclxuICAgICAgICAgICAgICAgIDogbmV3IFRyZWUodHJlZS50eXBlLCB0cmVlLmNoaWxkcmVuLnNsaWNlKDAsIGkpLmNvbmNhdChpbm5lciksIHRyZWUucG9zaXRpb25zLnNsaWNlKDAsIGkgKyAxKSwgcG9zICsgaW5uZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRTdGFydEluRnJhZ21lbnRzKGxhbmcsIGZyYWdtZW50cywgc3RhcnRQb3MsIGVkaXRvclN0YXRlKSB7XG4gICAgZm9yIChsZXQgZiBvZiBmcmFnbWVudHMpIHtcbiAgICAgICAgbGV0IGZyb20gPSBmLmZyb20gKyAoZi5vcGVuU3RhcnQgPyAyNSA6IDApLCB0byA9IGYudG8gLSAoZi5vcGVuRW5kID8gMjUgOiAwKTtcbiAgICAgICAgbGV0IGZvdW5kID0gZnJvbSA8PSBzdGFydFBvcyAmJiB0byA+IHN0YXJ0UG9zICYmIGZpbmRTdGF0ZShsYW5nLCBmLnRyZWUsIDAgLSBmLm9mZnNldCwgc3RhcnRQb3MsIHRvKSwgdHJlZTtcbiAgICAgICAgaWYgKGZvdW5kICYmICh0cmVlID0gY3V0VHJlZShsYW5nLCBmLnRyZWUsIHN0YXJ0UG9zICsgZi5vZmZzZXQsIGZvdW5kLnBvcyArIGYub2Zmc2V0LCBmYWxzZSkpKVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IGZvdW5kLnN0YXRlLCB0cmVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXRlOiBsYW5nLnN0cmVhbVBhcnNlci5zdGFydFN0YXRlKGVkaXRvclN0YXRlID8gZ2V0SW5kZW50VW5pdChlZGl0b3JTdGF0ZSkgOiA0KSwgdHJlZTogVHJlZS5lbXB0eSB9O1xufVxuY2xhc3MgUGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKGxhbmcsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICB0aGlzLmxhbmcgPSBsYW5nO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBudWxsO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUG9zID0gW107XG4gICAgICAgIHRoaXMuY2h1bmsgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1JldXNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy50byA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgIGxldCBjb250ZXh0ID0gUGFyc2VDb250ZXh0LmdldCgpLCBmcm9tID0gcmFuZ2VzWzBdLmZyb207XG4gICAgICAgIGxldCB7IHN0YXRlLCB0cmVlIH0gPSBmaW5kU3RhcnRJbkZyYWdtZW50cyhsYW5nLCBmcmFnbWVudHMsIGZyb20sIGNvbnRleHQgPT09IG51bGwgfHwgY29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGV4dC5zdGF0ZSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5wYXJzZWRQb3MgPSB0aGlzLmNodW5rU3RhcnQgPSBmcm9tICsgdHJlZS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaCh0cmVlLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtQb3MucHVzaCh0cmVlLnBvc2l0aW9uc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQgJiYgdGhpcy5wYXJzZWRQb3MgPCBjb250ZXh0LnZpZXdwb3J0LmZyb20gLSAxMDAwMDAgLyogQy5NYXhEaXN0YW5jZUJlZm9yZVZpZXdwb3J0ICovKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5sYW5nLnN0cmVhbVBhcnNlci5zdGFydFN0YXRlKGdldEluZGVudFVuaXQoY29udGV4dC5zdGF0ZSkpO1xuICAgICAgICAgICAgY29udGV4dC5za2lwVW50aWxJblZpZXcodGhpcy5wYXJzZWRQb3MsIGNvbnRleHQudmlld3BvcnQuZnJvbSk7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFBvcyA9IGNvbnRleHQudmlld3BvcnQuZnJvbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmVSYW5nZUluZGV4KCk7XG4gICAgfVxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gUGFyc2VDb250ZXh0LmdldCgpO1xuICAgICAgICBsZXQgcGFyc2VFbmQgPSB0aGlzLnN0b3BwZWRBdCA9PSBudWxsID8gdGhpcy50byA6IE1hdGgubWluKHRoaXMudG8sIHRoaXMuc3RvcHBlZEF0KTtcbiAgICAgICAgbGV0IGVuZCA9IE1hdGgubWluKHBhcnNlRW5kLCB0aGlzLmNodW5rU3RhcnQgKyAyMDQ4IC8qIEMuQ2h1bmtTaXplICovKTtcbiAgICAgICAgaWYgKGNvbnRleHQpXG4gICAgICAgICAgICBlbmQgPSBNYXRoLm1pbihlbmQsIGNvbnRleHQudmlld3BvcnQudG8pO1xuICAgICAgICB3aGlsZSAodGhpcy5wYXJzZWRQb3MgPCBlbmQpXG4gICAgICAgICAgICB0aGlzLnBhcnNlTGluZShjb250ZXh0KTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtTdGFydCA8IHRoaXMucGFyc2VkUG9zKVxuICAgICAgICAgICAgdGhpcy5maW5pc2hDaHVuaygpO1xuICAgICAgICBpZiAodGhpcy5wYXJzZWRQb3MgPj0gcGFyc2VFbmQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5pc2goKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgdGhpcy5wYXJzZWRQb3MgPj0gY29udGV4dC52aWV3cG9ydC50bykge1xuICAgICAgICAgICAgY29udGV4dC5za2lwVW50aWxJblZpZXcodGhpcy5wYXJzZWRQb3MsIHBhcnNlRW5kKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdG9wQXQocG9zKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgIH1cbiAgICBsaW5lQWZ0ZXIocG9zKSB7XG4gICAgICAgIGxldCBjaHVuayA9IHRoaXMuaW5wdXQuY2h1bmsocG9zKTtcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0LmxpbmVDaHVua3MpIHtcbiAgICAgICAgICAgIGxldCBlb2wgPSBjaHVuay5pbmRleE9mKFwiXFxuXCIpO1xuICAgICAgICAgICAgaWYgKGVvbCA+IC0xKVxuICAgICAgICAgICAgICAgIGNodW5rID0gY2h1bmsuc2xpY2UoMCwgZW9sKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaHVuayA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICBjaHVuayA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcyArIGNodW5rLmxlbmd0aCA8PSB0aGlzLnRvID8gY2h1bmsgOiBjaHVuay5zbGljZSgwLCB0aGlzLnRvIC0gcG9zKTtcbiAgICB9XG4gICAgbmV4dExpbmUoKSB7XG4gICAgICAgIGxldCBmcm9tID0gdGhpcy5wYXJzZWRQb3MsIGxpbmUgPSB0aGlzLmxpbmVBZnRlcihmcm9tKSwgZW5kID0gZnJvbSArIGxpbmUubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMucmFuZ2VJbmRleDs7KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VFbmQgPSB0aGlzLnJhbmdlc1tpbmRleF0udG87XG4gICAgICAgICAgICBpZiAocmFuZ2VFbmQgPj0gZW5kKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGluZSA9IGxpbmUuc2xpY2UoMCwgcmFuZ2VFbmQgLSAoZW5kIC0gbGluZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5yYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlc1tpbmRleF0uZnJvbTtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IHRoaXMubGluZUFmdGVyKHJhbmdlU3RhcnQpO1xuICAgICAgICAgICAgbGluZSArPSBhZnRlcjtcbiAgICAgICAgICAgIGVuZCA9IHJhbmdlU3RhcnQgKyBhZnRlci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbGluZSwgZW5kIH07XG4gICAgfVxuICAgIHNraXBHYXBzVG8ocG9zLCBvZmZzZXQsIHNpZGUpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucmFuZ2VzW3RoaXMucmFuZ2VJbmRleF0udG8sIG9mZlBvcyA9IHBvcyArIG9mZnNldDtcbiAgICAgICAgICAgIGlmIChzaWRlID4gMCA/IGVuZCA+IG9mZlBvcyA6IGVuZCA+PSBvZmZQb3MpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF0uZnJvbTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdGFydCAtIGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBtb3ZlUmFuZ2VJbmRleCgpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMucmFuZ2VzW3RoaXMucmFuZ2VJbmRleF0udG8gPCB0aGlzLnBhcnNlZFBvcylcbiAgICAgICAgICAgIHRoaXMucmFuZ2VJbmRleCsrO1xuICAgIH1cbiAgICBlbWl0VG9rZW4oaWQsIGZyb20sIHRvLCBzaXplLCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuc2tpcEdhcHNUbyhmcm9tLCBvZmZzZXQsIDEpO1xuICAgICAgICAgICAgZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgICBsZXQgbGVuMCA9IHRoaXMuY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5za2lwR2Fwc1RvKHRvLCBvZmZzZXQsIC0xKTtcbiAgICAgICAgICAgIHRvICs9IG9mZnNldDtcbiAgICAgICAgICAgIHNpemUgKz0gdGhpcy5jaHVuay5sZW5ndGggLSBsZW4wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmsucHVzaChpZCwgZnJvbSwgdG8sIHNpemUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBwYXJzZUxpbmUoY29udGV4dCkge1xuICAgICAgICBsZXQgeyBsaW5lLCBlbmQgfSA9IHRoaXMubmV4dExpbmUoKSwgb2Zmc2V0ID0gMCwgeyBzdHJlYW1QYXJzZXIgfSA9IHRoaXMubGFuZztcbiAgICAgICAgbGV0IHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0obGluZSwgY29udGV4dCA/IGNvbnRleHQuc3RhdGUudGFiU2l6ZSA6IDQsIGNvbnRleHQgPyBnZXRJbmRlbnRVbml0KGNvbnRleHQuc3RhdGUpIDogMik7XG4gICAgICAgIGlmIChzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgICAgIHN0cmVhbVBhcnNlci5ibGFua0xpbmUodGhpcy5zdGF0ZSwgc3RyZWFtLmluZGVudFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSByZWFkVG9rZW4oc3RyZWFtUGFyc2VyLnRva2VuLCBzdHJlYW0sIHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5lbWl0VG9rZW4odGhpcy5sYW5nLnRva2VuVGFibGUucmVzb2x2ZSh0b2tlbiksIHRoaXMucGFyc2VkUG9zICsgc3RyZWFtLnN0YXJ0LCB0aGlzLnBhcnNlZFBvcyArIHN0cmVhbS5wb3MsIDQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5zdGFydCA+IDEwMDAwIC8qIEMuTWF4TGluZUxlbmd0aCAqLylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJzZWRQb3MgPSBlbmQ7XG4gICAgICAgIHRoaXMubW92ZVJhbmdlSW5kZXgoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2VkUG9zIDwgdGhpcy50bylcbiAgICAgICAgICAgIHRoaXMucGFyc2VkUG9zKys7XG4gICAgfVxuICAgIGZpbmlzaENodW5rKCkge1xuICAgICAgICBsZXQgdHJlZSA9IFRyZWUuYnVpbGQoe1xuICAgICAgICAgICAgYnVmZmVyOiB0aGlzLmNodW5rLFxuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuY2h1bmtTdGFydCxcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy5wYXJzZWRQb3MgLSB0aGlzLmNodW5rU3RhcnQsXG4gICAgICAgICAgICBub2RlU2V0LFxuICAgICAgICAgICAgdG9wSUQ6IDAsXG4gICAgICAgICAgICBtYXhCdWZmZXJMZW5ndGg6IDIwNDggLyogQy5DaHVua1NpemUgKi8sXG4gICAgICAgICAgICByZXVzZWQ6IHRoaXMuY2h1bmtSZXVzZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHRyZWUgPSBuZXcgVHJlZSh0cmVlLnR5cGUsIHRyZWUuY2hpbGRyZW4sIHRyZWUucG9zaXRpb25zLCB0cmVlLmxlbmd0aCwgW1t0aGlzLmxhbmcuc3RhdGVBZnRlciwgdGhpcy5sYW5nLnN0cmVhbVBhcnNlci5jb3B5U3RhdGUodGhpcy5zdGF0ZSldXSk7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2godHJlZSk7XG4gICAgICAgIHRoaXMuY2h1bmtQb3MucHVzaCh0aGlzLmNodW5rU3RhcnQgLSB0aGlzLnJhbmdlc1swXS5mcm9tKTtcbiAgICAgICAgdGhpcy5jaHVuayA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUmV1c2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNodW5rU3RhcnQgPSB0aGlzLnBhcnNlZFBvcztcbiAgICB9XG4gICAgZmluaXNoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWUodGhpcy5sYW5nLnRvcE5vZGUsIHRoaXMuY2h1bmtzLCB0aGlzLmNodW5rUG9zLCB0aGlzLnBhcnNlZFBvcyAtIHRoaXMucmFuZ2VzWzBdLmZyb20pLmJhbGFuY2UoKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkVG9rZW4odG9rZW4sIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBzdHJlYW0uc3RhcnQgPSBzdHJlYW0ucG9zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdG9rZW4oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIGlmIChzdHJlYW0ucG9zID4gc3RyZWFtLnN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3RyZWFtIHBhcnNlciBmYWlsZWQgdG8gYWR2YW5jZSBzdHJlYW0uXCIpO1xufVxuY29uc3Qgbm9Ub2tlbnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IHR5cGVBcnJheSA9IFtOb2RlVHlwZS5ub25lXTtcbmNvbnN0IG5vZGVTZXQgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVTZXQodHlwZUFycmF5KTtcbmNvbnN0IHdhcm5lZCA9IFtdO1xuLy8gQ2FjaGUgb2Ygbm9kZSB0eXBlcyBieSBuYW1lIGFuZCB0YWdzXG5jb25zdCBieVRhZyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgZGVmYXVsdFRhYmxlID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5mb3IgKGxldCBbbGVnYWN5TmFtZSwgbmFtZV0gb2YgW1xuICAgIFtcInZhcmlhYmxlXCIsIFwidmFyaWFibGVOYW1lXCJdLFxuICAgIFtcInZhcmlhYmxlLTJcIiwgXCJ2YXJpYWJsZU5hbWUuc3BlY2lhbFwiXSxcbiAgICBbXCJzdHJpbmctMlwiLCBcInN0cmluZy5zcGVjaWFsXCJdLFxuICAgIFtcImRlZlwiLCBcInZhcmlhYmxlTmFtZS5kZWZpbml0aW9uXCJdLFxuICAgIFtcInRhZ1wiLCBcInRhZ05hbWVcIl0sXG4gICAgW1wiYXR0cmlidXRlXCIsIFwiYXR0cmlidXRlTmFtZVwiXSxcbiAgICBbXCJ0eXBlXCIsIFwidHlwZU5hbWVcIl0sXG4gICAgW1wiYnVpbHRpblwiLCBcInZhcmlhYmxlTmFtZS5zdGFuZGFyZFwiXSxcbiAgICBbXCJxdWFsaWZpZXJcIiwgXCJtb2RpZmllclwiXSxcbiAgICBbXCJlcnJvclwiLCBcImludmFsaWRcIl0sXG4gICAgW1wiaGVhZGVyXCIsIFwiaGVhZGluZ1wiXSxcbiAgICBbXCJwcm9wZXJ0eVwiLCBcInByb3BlcnR5TmFtZVwiXVxuXSlcbiAgICBkZWZhdWx0VGFibGVbbGVnYWN5TmFtZV0gPSAvKkBfX1BVUkVfXyovY3JlYXRlVG9rZW5UeXBlKG5vVG9rZW5zLCBuYW1lKTtcbmNsYXNzIFRva2VuVGFibGUge1xuICAgIGNvbnN0cnVjdG9yKGV4dHJhKSB7XG4gICAgICAgIHRoaXMuZXh0cmEgPSBleHRyYTtcbiAgICAgICAgdGhpcy50YWJsZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgZGVmYXVsdFRhYmxlKTtcbiAgICB9XG4gICAgcmVzb2x2ZSh0YWcpIHtcbiAgICAgICAgcmV0dXJuICF0YWcgPyAwIDogdGhpcy50YWJsZVt0YWddIHx8ICh0aGlzLnRhYmxlW3RhZ10gPSBjcmVhdGVUb2tlblR5cGUodGhpcy5leHRyYSwgdGFnKSk7XG4gICAgfVxufVxuY29uc3QgZGVmYXVsdFRva2VuVGFibGUgPSAvKkBfX1BVUkVfXyovbmV3IFRva2VuVGFibGUobm9Ub2tlbnMpO1xuZnVuY3Rpb24gd2FybkZvclBhcnQocGFydCwgbXNnKSB7XG4gICAgaWYgKHdhcm5lZC5pbmRleE9mKHBhcnQpID4gLTEpXG4gICAgICAgIHJldHVybjtcbiAgICB3YXJuZWQucHVzaChwYXJ0KTtcbiAgICBjb25zb2xlLndhcm4obXNnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuVHlwZShleHRyYSwgdGFnU3RyKSB7XG4gICAgbGV0IHRhZ3MkMSA9IFtdO1xuICAgIGZvciAobGV0IG5hbWUgb2YgdGFnU3RyLnNwbGl0KFwiIFwiKSkge1xuICAgICAgICBsZXQgZm91bmQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBuYW1lLnNwbGl0KFwiLlwiKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gKGV4dHJhW3BhcnRdIHx8IHRhZ3NbcGFydF0pO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm5Gb3JQYXJ0KHBhcnQsIGBVbmtub3duIGhpZ2hsaWdodGluZyB0YWcgJHtwYXJ0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZm91bmQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUGFydChwYXJ0LCBgTW9kaWZpZXIgJHtwYXJ0fSB1c2VkIGF0IHN0YXJ0IG9mIHRhZ2ApO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBmb3VuZC5tYXAodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclBhcnQocGFydCwgYFRhZyAke3BhcnR9IHVzZWQgYXMgbW9kaWZpZXJgKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdGFnIG9mIGZvdW5kKVxuICAgICAgICAgICAgdGFncyQxLnB1c2godGFnKTtcbiAgICB9XG4gICAgaWYgKCF0YWdzJDEubGVuZ3RoKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBsZXQgbmFtZSA9IHRhZ1N0ci5yZXBsYWNlKC8gL2csIFwiX1wiKSwga2V5ID0gbmFtZSArIFwiIFwiICsgdGFncyQxLm1hcCh0ID0+IHQuaWQpO1xuICAgIGxldCBrbm93biA9IGJ5VGFnW2tleV07XG4gICAgaWYgKGtub3duKVxuICAgICAgICByZXR1cm4ga25vd24uaWQ7XG4gICAgbGV0IHR5cGUgPSBieVRhZ1trZXldID0gTm9kZVR5cGUuZGVmaW5lKHtcbiAgICAgICAgaWQ6IHR5cGVBcnJheS5sZW5ndGgsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHByb3BzOiBbc3R5bGVUYWdzKHsgW25hbWVdOiB0YWdzJDEgfSldXG4gICAgfSk7XG4gICAgdHlwZUFycmF5LnB1c2godHlwZSk7XG4gICAgcmV0dXJuIHR5cGUuaWQ7XG59XG5mdW5jdGlvbiBkb2NJRChkYXRhKSB7XG4gICAgbGV0IHR5cGUgPSBOb2RlVHlwZS5kZWZpbmUoeyBpZDogdHlwZUFycmF5Lmxlbmd0aCwgbmFtZTogXCJEb2N1bWVudFwiLCBwcm9wczogW2xhbmd1YWdlRGF0YVByb3AuYWRkKCgpID0+IGRhdGEpXSwgdG9wOiB0cnVlIH0pO1xuICAgIHR5cGVBcnJheS5wdXNoKHR5cGUpO1xuICAgIHJldHVybiB0eXBlO1xufVxuXG5mdW5jdGlvbiBidWlsZEZvckxpbmUobGluZSkge1xuICAgIHJldHVybiBsaW5lLmxlbmd0aCA8PSA0MDk2ICYmIC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1ZmI1MC1cXHVmZGZmXS8udGVzdChsaW5lKTtcbn1cbmZ1bmN0aW9uIHRleHRIYXNSVEwodGV4dCkge1xuICAgIGZvciAobGV0IGkgPSB0ZXh0Lml0ZXIoKTsgIWkubmV4dCgpLmRvbmU7KVxuICAgICAgICBpZiAoYnVpbGRGb3JMaW5lKGkudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2hhbmdlQWRkc1JUTChjaGFuZ2UpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBjaGFuZ2UuaXRlckNoYW5nZXMoKGZBLCB0QSwgZkIsIHRCLCBpbnMpID0+IHtcbiAgICAgICAgaWYgKCFhZGRlZCAmJiB0ZXh0SGFzUlRMKGlucykpXG4gICAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFkZGVkO1xufVxuY29uc3QgYWx3YXlzSXNvbGF0ZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KSB9KTtcbi8qKlxuTWFrZSBzdXJlIG5vZGVzXG5bbWFya2VkXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmLyNjb21tb24uTm9kZVByb3BeaXNvbGF0ZSlcbmFzIGlzb2xhdGluZyBmb3IgYmlkaXJlY3Rpb25hbCB0ZXh0IGFyZSByZW5kZXJlZCBpbiBhIHdheSB0aGF0XG5pc29sYXRlcyB0aGVtIGZyb20gdGhlIHN1cnJvdW5kaW5nIHRleHQuXG4qL1xuZnVuY3Rpb24gYmlkaUlzb2xhdGVzKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBleHRlbnNpb25zID0gW2lzb2xhdGVNYXJrc107XG4gICAgaWYgKG9wdGlvbnMuYWx3YXlzSXNvbGF0ZSlcbiAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKGFsd2F5c0lzb2xhdGUub2YodHJ1ZSkpO1xuICAgIHJldHVybiBleHRlbnNpb25zO1xufVxuY29uc3QgaXNvbGF0ZU1hcmtzID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzID0gdmlldy5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdmlldy50ZXh0RGlyZWN0aW9uICE9IERpcmVjdGlvbi5MVFIgfHxcbiAgICAgICAgICAgIHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuaGFzUlRMID0gIXRoaXMuYWx3YXlzICYmIHRleHRIYXNSVEwodmlldy5zdGF0ZS5kb2MpO1xuICAgICAgICB0aGlzLnRyZWUgPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpO1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5hbHdheXMgfHwgdGhpcy5oYXNSVEwgPyBidWlsZERlY28odmlldywgdGhpcy50cmVlLCB0aGlzLmFsd2F5cykgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGFsd2F5cyA9IHVwZGF0ZS5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdXBkYXRlLnZpZXcudGV4dERpcmVjdGlvbiAhPSBEaXJlY3Rpb24uTFRSIHx8XG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIGlmICghYWx3YXlzICYmICF0aGlzLmhhc1JUTCAmJiBjaGFuZ2VBZGRzUlRMKHVwZGF0ZS5jaGFuZ2VzKSlcbiAgICAgICAgICAgIHRoaXMuaGFzUlRMID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbHdheXMgJiYgIXRoaXMuaGFzUlRMKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKGFsd2F5cyAhPSB0aGlzLmFsd2F5cyB8fCB0cmVlICE9IHRoaXMudHJlZSB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICAgICAgdGhpcy5hbHdheXMgPSBhbHdheXM7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gYnVpbGREZWNvKHVwZGF0ZS52aWV3LCB0cmVlLCBhbHdheXMpO1xuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIGFjY2Vzcyh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWNvcmF0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbRWRpdG9yVmlldy5vdXRlckRlY29yYXRpb25zLm9mKGFjY2VzcyksXG4gICAgICAgICAgICBQcmVjLmxvd2VzdChFZGl0b3JWaWV3LmJpZGlJc29sYXRlZFJhbmdlcy5vZihhY2Nlc3MpKV07XG4gICAgfVxufSk7XG5mdW5jdGlvbiBidWlsZERlY28odmlldywgdHJlZSwgYWx3YXlzKSB7XG4gICAgbGV0IGRlY28gPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgbGV0IHJhbmdlcyA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAoIWFsd2F5cylcbiAgICAgICAgcmFuZ2VzID0gY2xpcFJUTExpbmVzKHJhbmdlcywgdmlldy5zdGF0ZS5kb2MpO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgdHJlZS5pdGVyYXRlKHtcbiAgICAgICAgICAgIGVudGVyOiBub2RlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXNvID0gbm9kZS50eXBlLnByb3AoTm9kZVByb3AuaXNvbGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzbylcbiAgICAgICAgICAgICAgICAgICAgZGVjby5hZGQobm9kZS5mcm9tLCBub2RlLnRvLCBtYXJrc1tpc29dKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tLCB0b1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY28uZmluaXNoKCk7XG59XG5mdW5jdGlvbiBjbGlwUlRMTGluZXMocmFuZ2VzLCBkb2MpIHtcbiAgICBsZXQgY3VyID0gZG9jLml0ZXIoKSwgcG9zID0gMCwgcmVzdWx0ID0gW10sIGxhc3QgPSBudWxsO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IGZyb20pIHtcbiAgICAgICAgICAgIGZyb20gPSBsYXN0LnRvO1xuICAgICAgICAgICAgaWYgKGZyb20gPj0gdG8pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyArIGN1ci52YWx1ZS5sZW5ndGggPCBmcm9tKSB7XG4gICAgICAgICAgICBjdXIubmV4dChmcm9tIC0gKHBvcyArIGN1ci52YWx1ZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIHBvcyA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9zLCBlbmQgPSBwb3MgKyBjdXIudmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCFjdXIubGluZUJyZWFrICYmIGJ1aWxkRm9yTGluZShjdXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IHN0YXJ0IC0gMTApXG4gICAgICAgICAgICAgICAgICAgIGxhc3QudG8gPSBNYXRoLm1pbih0bywgZW5kKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhc3QgPSB7IGZyb206IHN0YXJ0LCB0bzogTWF0aC5taW4odG8sIGVuZCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID49IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgbWFya3MgPSB7XG4gICAgcnRsOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwicnRsXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5SVEwgfSksXG4gICAgbHRyOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwibHRyXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5MVFIgfSksXG4gICAgYXV0bzogLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLWlzb1wiLCBpbmNsdXNpdmU6IHRydWUsIGF0dHJpYnV0ZXM6IHsgZGlyOiBcImF1dG9cIiB9LCBiaWRpSXNvbGF0ZTogbnVsbCB9KVxufTtcblxuZXhwb3J0IHsgRG9jSW5wdXQsIEhpZ2hsaWdodFN0eWxlLCBJbmRlbnRDb250ZXh0LCBMUkxhbmd1YWdlLCBMYW5ndWFnZSwgTGFuZ3VhZ2VEZXNjcmlwdGlvbiwgTGFuZ3VhZ2VTdXBwb3J0LCBQYXJzZUNvbnRleHQsIFN0cmVhbUxhbmd1YWdlLCBTdHJpbmdTdHJlYW0sIFRyZWVJbmRlbnRDb250ZXh0LCBiaWRpSXNvbGF0ZXMsIGJyYWNrZXRNYXRjaGluZywgYnJhY2tldE1hdGNoaW5nSGFuZGxlLCBjb2RlRm9sZGluZywgY29udGludWVkSW5kZW50LCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIGRlZmluZUxhbmd1YWdlRmFjZXQsIGRlbGltaXRlZEluZGVudCwgZW5zdXJlU3ludGF4VHJlZSwgZmxhdEluZGVudCwgZm9sZEFsbCwgZm9sZENvZGUsIGZvbGRFZmZlY3QsIGZvbGRHdXR0ZXIsIGZvbGRJbnNpZGUsIGZvbGRLZXltYXAsIGZvbGROb2RlUHJvcCwgZm9sZFNlcnZpY2UsIGZvbGRTdGF0ZSwgZm9sZGFibGUsIGZvbGRlZFJhbmdlcywgZm9yY2VQYXJzaW5nLCBnZXRJbmRlbnRVbml0LCBnZXRJbmRlbnRhdGlvbiwgaGlnaGxpZ2h0aW5nRm9yLCBpbmRlbnROb2RlUHJvcCwgaW5kZW50T25JbnB1dCwgaW5kZW50UmFuZ2UsIGluZGVudFNlcnZpY2UsIGluZGVudFN0cmluZywgaW5kZW50VW5pdCwgbGFuZ3VhZ2UsIGxhbmd1YWdlRGF0YVByb3AsIG1hdGNoQnJhY2tldHMsIHN1Ymxhbmd1YWdlUHJvcCwgc3ludGF4SGlnaGxpZ2h0aW5nLCBzeW50YXhQYXJzZXJSdW5uaW5nLCBzeW50YXhUcmVlLCBzeW50YXhUcmVlQXZhaWxhYmxlLCB0b2dnbGVGb2xkLCB1bmZvbGRBbGwsIHVuZm9sZENvZGUsIHVuZm9sZEVmZmVjdCB9O1xuIiwKICAgICJpbXBvcnQgeyBBbm5vdGF0aW9uLCBGYWNldCwgY29tYmluZUNvbmZpZywgU3RhdGVGaWVsZCwgVHJhbnNhY3Rpb24sIENoYW5nZVNldCwgQ2hhbmdlRGVzYywgRWRpdG9yU2VsZWN0aW9uLCBTdGF0ZUVmZmVjdCwgVGV4dCwgZmluZENsdXN0ZXJCcmVhaywgY291bnRDb2x1bW4sIENoYXJDYXRlZ29yeSB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcsIERpcmVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgSW5kZW50Q29udGV4dCwgZ2V0SW5kZW50YXRpb24sIGluZGVudFN0cmluZywgbWF0Y2hCcmFja2V0cywgc3ludGF4VHJlZSwgZ2V0SW5kZW50VW5pdCwgaW5kZW50VW5pdCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IE5vZGVQcm9wIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbi8qKlxuQ29tbWVudCBvciB1bmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLiBXaWxsIHVzZSBsaW5lIGNvbW1lbnRzXG5pZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsaW5nIGJhY2sgdG8gYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgdG9nZ2xlQ29tbWVudCA9IHRhcmdldCA9PiB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHRhcmdldCwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoc3RhdGUuc2VsZWN0aW9uLm1haW4uZnJvbSksIGNvbmZpZyA9IGdldENvbmZpZyh0YXJnZXQuc3RhdGUsIGxpbmUuZnJvbSk7XG4gICAgcmV0dXJuIGNvbmZpZy5saW5lID8gdG9nZ2xlTGluZUNvbW1lbnQodGFyZ2V0KSA6IGNvbmZpZy5ibG9jayA/IHRvZ2dsZUJsb2NrQ29tbWVudEJ5TGluZSh0YXJnZXQpIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gY29tbWFuZChmLCBvcHRpb24pIHtcbiAgICByZXR1cm4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgdHIgPSBmKG9wdGlvbiwgc3RhdGUpO1xuICAgICAgICBpZiAoIXRyKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUodHIpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuQ29tbWVudCBvciB1bmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGxpbmUgY29tbWVudHMuXG5UaGUgbGluZSBjb21tZW50IHN5bnRheCBpcyB0YWtlbiBmcm9tIHRoZVxuW2Bjb21tZW50VG9rZW5zYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5Db21tZW50VG9rZW5zKSBbbGFuZ3VhZ2VcbmRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpLlxuKi9cbmNvbnN0IHRvZ2dsZUxpbmVDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlTGluZUNvbW1lbnQsIDAgLyogQ29tbWVudE9wdGlvbi5Ub2dnbGUgKi8pO1xuLyoqXG5Db21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBsaW5lIGNvbW1lbnRzLlxuKi9cbmNvbnN0IGxpbmVDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlTGluZUNvbW1lbnQsIDEgLyogQ29tbWVudE9wdGlvbi5Db21tZW50ICovKTtcbi8qKlxuVW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBsaW5lIGNvbW1lbnRzLlxuKi9cbmNvbnN0IGxpbmVVbmNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VMaW5lQ29tbWVudCwgMiAvKiBDb21tZW50T3B0aW9uLlVuY29tbWVudCAqLyk7XG4vKipcbkNvbW1lbnQgb3IgdW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBibG9jayBjb21tZW50cy5cblRoZSBibG9jayBjb21tZW50IHN5bnRheCBpcyB0YWtlbiBmcm9tIHRoZVxuW2Bjb21tZW50VG9rZW5zYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5Db21tZW50VG9rZW5zKSBbbGFuZ3VhZ2VcbmRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpLlxuKi9cbmNvbnN0IHRvZ2dsZUJsb2NrQ29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUJsb2NrQ29tbWVudCwgMCAvKiBDb21tZW50T3B0aW9uLlRvZ2dsZSAqLyk7XG4vKipcbkNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGJsb2NrIGNvbW1lbnRzLlxuKi9cbmNvbnN0IGJsb2NrQ29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUJsb2NrQ29tbWVudCwgMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8pO1xuLyoqXG5VbmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGJsb2NrIGNvbW1lbnRzLlxuKi9cbmNvbnN0IGJsb2NrVW5jb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlQmxvY2tDb21tZW50LCAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovKTtcbi8qKlxuQ29tbWVudCBvciB1bmNvbW1lbnQgdGhlIGxpbmVzIGFyb3VuZCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmdcbmJsb2NrIGNvbW1lbnRzLlxuKi9cbmNvbnN0IHRvZ2dsZUJsb2NrQ29tbWVudEJ5TGluZSA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKChvLCBzKSA9PiBjaGFuZ2VCbG9ja0NvbW1lbnQobywgcywgc2VsZWN0ZWRMaW5lUmFuZ2VzKHMpKSwgMCAvKiBDb21tZW50T3B0aW9uLlRvZ2dsZSAqLyk7XG5mdW5jdGlvbiBnZXRDb25maWcoc3RhdGUsIHBvcykge1xuICAgIGxldCBkYXRhID0gc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJjb21tZW50VG9rZW5zXCIsIHBvcyk7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID8gZGF0YVswXSA6IHt9O1xufVxuY29uc3QgU2VhcmNoTWFyZ2luID0gNTA7XG4vKipcbkRldGVybWluZXMgaWYgdGhlIGdpdmVuIHJhbmdlIGlzIGJsb2NrLWNvbW1lbnRlZCBpbiB0aGUgZ2l2ZW5cbnN0YXRlLlxuKi9cbmZ1bmN0aW9uIGZpbmRCbG9ja0NvbW1lbnQoc3RhdGUsIHsgb3BlbiwgY2xvc2UgfSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgdGV4dEJlZm9yZSA9IHN0YXRlLnNsaWNlRG9jKGZyb20gLSBTZWFyY2hNYXJnaW4sIGZyb20pO1xuICAgIGxldCB0ZXh0QWZ0ZXIgPSBzdGF0ZS5zbGljZURvYyh0bywgdG8gKyBTZWFyY2hNYXJnaW4pO1xuICAgIGxldCBzcGFjZUJlZm9yZSA9IC9cXHMqJC8uZXhlYyh0ZXh0QmVmb3JlKVswXS5sZW5ndGgsIHNwYWNlQWZ0ZXIgPSAvXlxccyovLmV4ZWModGV4dEFmdGVyKVswXS5sZW5ndGg7XG4gICAgbGV0IGJlZm9yZU9mZiA9IHRleHRCZWZvcmUubGVuZ3RoIC0gc3BhY2VCZWZvcmU7XG4gICAgaWYgKHRleHRCZWZvcmUuc2xpY2UoYmVmb3JlT2ZmIC0gb3Blbi5sZW5ndGgsIGJlZm9yZU9mZikgPT0gb3BlbiAmJlxuICAgICAgICB0ZXh0QWZ0ZXIuc2xpY2Uoc3BhY2VBZnRlciwgc3BhY2VBZnRlciArIGNsb3NlLmxlbmd0aCkgPT0gY2xvc2UpIHtcbiAgICAgICAgcmV0dXJuIHsgb3BlbjogeyBwb3M6IGZyb20gLSBzcGFjZUJlZm9yZSwgbWFyZ2luOiBzcGFjZUJlZm9yZSAmJiAxIH0sXG4gICAgICAgICAgICBjbG9zZTogeyBwb3M6IHRvICsgc3BhY2VBZnRlciwgbWFyZ2luOiBzcGFjZUFmdGVyICYmIDEgfSB9O1xuICAgIH1cbiAgICBsZXQgc3RhcnRUZXh0LCBlbmRUZXh0O1xuICAgIGlmICh0byAtIGZyb20gPD0gMiAqIFNlYXJjaE1hcmdpbikge1xuICAgICAgICBzdGFydFRleHQgPSBlbmRUZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhcnRUZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgZnJvbSArIFNlYXJjaE1hcmdpbik7XG4gICAgICAgIGVuZFRleHQgPSBzdGF0ZS5zbGljZURvYyh0byAtIFNlYXJjaE1hcmdpbiwgdG8pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRTcGFjZSA9IC9eXFxzKi8uZXhlYyhzdGFydFRleHQpWzBdLmxlbmd0aCwgZW5kU3BhY2UgPSAvXFxzKiQvLmV4ZWMoZW5kVGV4dClbMF0ubGVuZ3RoO1xuICAgIGxldCBlbmRPZmYgPSBlbmRUZXh0Lmxlbmd0aCAtIGVuZFNwYWNlIC0gY2xvc2UubGVuZ3RoO1xuICAgIGlmIChzdGFydFRleHQuc2xpY2Uoc3RhcnRTcGFjZSwgc3RhcnRTcGFjZSArIG9wZW4ubGVuZ3RoKSA9PSBvcGVuICYmXG4gICAgICAgIGVuZFRleHQuc2xpY2UoZW5kT2ZmLCBlbmRPZmYgKyBjbG9zZS5sZW5ndGgpID09IGNsb3NlKSB7XG4gICAgICAgIHJldHVybiB7IG9wZW46IHsgcG9zOiBmcm9tICsgc3RhcnRTcGFjZSArIG9wZW4ubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogL1xccy8udGVzdChzdGFydFRleHQuY2hhckF0KHN0YXJ0U3BhY2UgKyBvcGVuLmxlbmd0aCkpID8gMSA6IDAgfSxcbiAgICAgICAgICAgIGNsb3NlOiB7IHBvczogdG8gLSBlbmRTcGFjZSAtIGNsb3NlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IC9cXHMvLnRlc3QoZW5kVGV4dC5jaGFyQXQoZW5kT2ZmIC0gMSkpID8gMSA6IDAgfSB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGVkTGluZVJhbmdlcyhzdGF0ZSkge1xuICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCByIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgbGV0IGZyb21MaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyLmZyb20pO1xuICAgICAgICBsZXQgdG9MaW5lID0gci50byA8PSBmcm9tTGluZS50byA/IGZyb21MaW5lIDogc3RhdGUuZG9jLmxpbmVBdChyLnRvKTtcbiAgICAgICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPj0gMCAmJiByYW5nZXNbbGFzdF0udG8gPiBmcm9tTGluZS5mcm9tKVxuICAgICAgICAgICAgcmFuZ2VzW2xhc3RdLnRvID0gdG9MaW5lLnRvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IGZyb21MaW5lLmZyb20gKyAvXlxccyovLmV4ZWMoZnJvbUxpbmUudGV4dClbMF0ubGVuZ3RoLCB0bzogdG9MaW5lLnRvIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuLy8gUGVyZm9ybXMgdG9nZ2xlLCBjb21tZW50IGFuZCB1bmNvbW1lbnQgb2YgYmxvY2sgY29tbWVudHMgaW5cbi8vIGxhbmd1YWdlcyB0aGF0IHN1cHBvcnQgdGhlbS5cbmZ1bmN0aW9uIGNoYW5nZUJsb2NrQ29tbWVudChvcHRpb24sIHN0YXRlLCByYW5nZXMgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgbGV0IHRva2VucyA9IHJhbmdlcy5tYXAociA9PiBnZXRDb25maWcoc3RhdGUsIHIuZnJvbSkuYmxvY2spO1xuICAgIGlmICghdG9rZW5zLmV2ZXJ5KGMgPT4gYykpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBjb21tZW50cyA9IHJhbmdlcy5tYXAoKHIsIGkpID0+IGZpbmRCbG9ja0NvbW1lbnQoc3RhdGUsIHRva2Vuc1tpXSwgci5mcm9tLCByLnRvKSk7XG4gICAgaWYgKG9wdGlvbiAhPSAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovICYmICFjb21tZW50cy5ldmVyeShjID0+IGMpKSB7XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHN0YXRlLmNoYW5nZXMocmFuZ2VzLm1hcCgocmFuZ2UsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudHNbaV0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3sgZnJvbTogcmFuZ2UuZnJvbSwgaW5zZXJ0OiB0b2tlbnNbaV0ub3BlbiArIFwiIFwiIH0sIHsgZnJvbTogcmFuZ2UudG8sIGluc2VydDogXCIgXCIgKyB0b2tlbnNbaV0uY2xvc2UgfV07XG4gICAgICAgICAgICB9KSkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9uICE9IDEgLyogQ29tbWVudE9wdGlvbi5Db21tZW50ICovICYmIGNvbW1lbnRzLnNvbWUoYyA9PiBjKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgY29tbWVudDsgaSA8IGNvbW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKGNvbW1lbnQgPSBjb21tZW50c1tpXSkge1xuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXSwgeyBvcGVuLCBjbG9zZSB9ID0gY29tbWVudDtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBvcGVuLnBvcyAtIHRva2VuLm9wZW4ubGVuZ3RoLCB0bzogb3Blbi5wb3MgKyBvcGVuLm1hcmdpbiB9LCB7IGZyb206IGNsb3NlLnBvcyAtIGNsb3NlLm1hcmdpbiwgdG86IGNsb3NlLnBvcyArIHRva2VuLmNsb3NlLmxlbmd0aCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFBlcmZvcm1zIHRvZ2dsZSwgY29tbWVudCBhbmQgdW5jb21tZW50IG9mIGxpbmUgY29tbWVudHMuXG5mdW5jdGlvbiBjaGFuZ2VMaW5lQ29tbWVudChvcHRpb24sIHN0YXRlLCByYW5nZXMgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgbGV0IHByZXZMaW5lID0gLTE7XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHJhbmdlcykge1xuICAgICAgICBsZXQgc3RhcnRJID0gbGluZXMubGVuZ3RoLCBtaW5JbmRlbnQgPSAxZTk7XG4gICAgICAgIGxldCB0b2tlbiA9IGdldENvbmZpZyhzdGF0ZSwgZnJvbSkubGluZTtcbiAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPiBwcmV2TGluZSAmJiAoZnJvbSA9PSB0byB8fCB0byA+IGxpbmUuZnJvbSkpIHtcbiAgICAgICAgICAgICAgICBwcmV2TGluZSA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZW50ID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eSA9IGluZGVudCA9PSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgY29tbWVudCA9IGxpbmUudGV4dC5zbGljZShpbmRlbnQsIGluZGVudCArIHRva2VuLmxlbmd0aCkgPT0gdG9rZW4gPyBpbmRlbnQgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZW50IDwgbGluZS50ZXh0Lmxlbmd0aCAmJiBpbmRlbnQgPCBtaW5JbmRlbnQpXG4gICAgICAgICAgICAgICAgICAgIG1pbkluZGVudCA9IGluZGVudDtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKHsgbGluZSwgY29tbWVudCwgdG9rZW4sIGluZGVudCwgZW1wdHksIHNpbmdsZTogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWluSW5kZW50IDwgMWU5KVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0STsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChsaW5lc1tpXS5pbmRlbnQgPCBsaW5lc1tpXS5saW5lLnRleHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXS5pbmRlbnQgPSBtaW5JbmRlbnQ7XG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT0gc3RhcnRJICsgMSlcbiAgICAgICAgICAgIGxpbmVzW3N0YXJ0SV0uc2luZ2xlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbiAhPSAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovICYmIGxpbmVzLnNvbWUobCA9PiBsLmNvbW1lbnQgPCAwICYmICghbC5lbXB0eSB8fCBsLnNpbmdsZSkpKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgbGluZSwgdG9rZW4sIGluZGVudCwgZW1wdHksIHNpbmdsZSB9IG9mIGxpbmVzKVxuICAgICAgICAgICAgaWYgKHNpbmdsZSB8fCAhZW1wdHkpXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tICsgaW5kZW50LCBpbnNlcnQ6IHRva2VuICsgXCIgXCIgfSk7XG4gICAgICAgIGxldCBjaGFuZ2VTZXQgPSBzdGF0ZS5jaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBjaGFuZ2VTZXQsIHNlbGVjdGlvbjogc3RhdGUuc2VsZWN0aW9uLm1hcChjaGFuZ2VTZXQsIDEpIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbiAhPSAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyAmJiBsaW5lcy5zb21lKGwgPT4gbC5jb21tZW50ID49IDApKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgbGluZSwgY29tbWVudCwgdG9rZW4gfSBvZiBsaW5lcylcbiAgICAgICAgICAgIGlmIChjb21tZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IGxpbmUuZnJvbSArIGNvbW1lbnQsIHRvID0gZnJvbSArIHRva2VuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobGluZS50ZXh0W3RvIC0gbGluZS5mcm9tXSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgdG8rKztcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgZnJvbUhpc3RvcnkgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuVHJhbnNhY3Rpb24gYW5ub3RhdGlvbiB0aGF0IHdpbGwgcHJldmVudCB0aGF0IHRyYW5zYWN0aW9uIGZyb21cbmJlaW5nIGNvbWJpbmVkIHdpdGggb3RoZXIgdHJhbnNhY3Rpb25zIGluIHRoZSB1bmRvIGhpc3RvcnkuIEdpdmVuXG5gXCJiZWZvcmVcImAsIGl0J2xsIHByZXZlbnQgbWVyZ2luZyB3aXRoIHByZXZpb3VzIHRyYW5zYWN0aW9ucy4gV2l0aFxuYFwiYWZ0ZXJcImAsIHN1YnNlcXVlbnQgdHJhbnNhY3Rpb25zIHdvbid0IGJlIGNvbWJpbmVkIHdpdGggdGhpc1xub25lLiBXaXRoIGBcImZ1bGxcImAsIHRoZSB0cmFuc2FjdGlvbiBpcyBpc29sYXRlZCBvbiBib3RoIHNpZGVzLlxuKi9cbmNvbnN0IGlzb2xhdGVIaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcblRoaXMgZmFjZXQgcHJvdmlkZXMgYSB3YXkgdG8gcmVnaXN0ZXIgZnVuY3Rpb25zIHRoYXQsIGdpdmVuIGFcbnRyYW5zYWN0aW9uLCBwcm92aWRlIGEgc2V0IG9mIGVmZmVjdHMgdGhhdCB0aGUgaGlzdG9yeSBzaG91bGRcbnN0b3JlIHdoZW4gaW52ZXJ0aW5nIHRoZSB0cmFuc2FjdGlvbi4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuaW50ZWdyYXRlIHNvbWUga2luZHMgb2YgZWZmZWN0cyBpbiB0aGUgaGlzdG9yeSwgc28gdGhhdCB0aGV5IGNhblxuYmUgdW5kb25lIChhbmQgcmVkb25lIGFnYWluKS5cbiovXG5jb25zdCBpbnZlcnRlZEVmZmVjdHMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBoaXN0b3J5Q29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIG1pbkRlcHRoOiAxMDAsXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiA1MDAsXG4gICAgICAgICAgICBqb2luVG9FdmVudDogKF90LCBpc0FkamFjZW50KSA9PiBpc0FkamFjZW50LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtaW5EZXB0aDogTWF0aC5tYXgsXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiBNYXRoLm1pbixcbiAgICAgICAgICAgIGpvaW5Ub0V2ZW50OiAoYSwgYikgPT4gKHRyLCBhZGopID0+IGEodHIsIGFkaikgfHwgYih0ciwgYWRqKVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmNvbnN0IGhpc3RvcnlGaWVsZF8gPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIEhpc3RvcnlTdGF0ZS5lbXB0eTtcbiAgICB9LFxuICAgIHVwZGF0ZShzdGF0ZSwgdHIpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRyLnN0YXRlLmZhY2V0KGhpc3RvcnlDb25maWcpO1xuICAgICAgICBsZXQgZnJvbUhpc3QgPSB0ci5hbm5vdGF0aW9uKGZyb21IaXN0b3J5KTtcbiAgICAgICAgaWYgKGZyb21IaXN0KSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IEhpc3RFdmVudC5mcm9tVHJhbnNhY3Rpb24odHIsIGZyb21IaXN0LnNlbGVjdGlvbiksIGZyb20gPSBmcm9tSGlzdC5zaWRlO1xuICAgICAgICAgICAgbGV0IG90aGVyID0gZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IHN0YXRlLnVuZG9uZSA6IHN0YXRlLmRvbmU7XG4gICAgICAgICAgICBpZiAoaXRlbSlcbiAgICAgICAgICAgICAgICBvdGhlciA9IHVwZGF0ZUJyYW5jaChvdGhlciwgb3RoZXIubGVuZ3RoLCBjb25maWcubWluRGVwdGgsIGl0ZW0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG90aGVyID0gYWRkU2VsZWN0aW9uKG90aGVyLCB0ci5zdGFydFN0YXRlLnNlbGVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShmcm9tID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gZnJvbUhpc3QucmVzdCA6IG90aGVyLCBmcm9tID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gb3RoZXIgOiBmcm9tSGlzdC5yZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNvbGF0ZSA9IHRyLmFubm90YXRpb24oaXNvbGF0ZUhpc3RvcnkpO1xuICAgICAgICBpZiAoaXNvbGF0ZSA9PSBcImZ1bGxcIiB8fCBpc29sYXRlID09IFwiYmVmb3JlXCIpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmlzb2xhdGUoKTtcbiAgICAgICAgaWYgKHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24uYWRkVG9IaXN0b3J5KSA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gIXRyLmNoYW5nZXMuZW1wdHkgPyBzdGF0ZS5hZGRNYXBwaW5nKHRyLmNoYW5nZXMuZGVzYykgOiBzdGF0ZTtcbiAgICAgICAgbGV0IGV2ZW50ID0gSGlzdEV2ZW50LmZyb21UcmFuc2FjdGlvbih0cik7XG4gICAgICAgIGxldCB0aW1lID0gdHIuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi50aW1lKSwgdXNlckV2ZW50ID0gdHIuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi51c2VyRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmFkZENoYW5nZXMoZXZlbnQsIHRpbWUsIHVzZXJFdmVudCwgY29uZmlnLCB0cik7XG4gICAgICAgIGVsc2UgaWYgKHRyLnNlbGVjdGlvbilcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUuYWRkU2VsZWN0aW9uKHRyLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLCB0aW1lLCB1c2VyRXZlbnQsIGNvbmZpZy5uZXdHcm91cERlbGF5KTtcbiAgICAgICAgaWYgKGlzb2xhdGUgPT0gXCJmdWxsXCIgfHwgaXNvbGF0ZSA9PSBcImFmdGVyXCIpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmlzb2xhdGUoKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgdG9KU09OKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHZhbHVlLmRvbmUubWFwKGUgPT4gZS50b0pTT04oKSksIHVuZG9uZTogdmFsdWUudW5kb25lLm1hcChlID0+IGUudG9KU09OKCkpIH07XG4gICAgfSxcbiAgICBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGpzb24uZG9uZS5tYXAoSGlzdEV2ZW50LmZyb21KU09OKSwganNvbi51bmRvbmUubWFwKEhpc3RFdmVudC5mcm9tSlNPTikpO1xuICAgIH1cbn0pO1xuLyoqXG5DcmVhdGUgYSBoaXN0b3J5IGV4dGVuc2lvbiB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uLlxuKi9cbmZ1bmN0aW9uIGhpc3RvcnkoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBoaXN0b3J5RmllbGRfLFxuICAgICAgICBoaXN0b3J5Q29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIEVkaXRvclZpZXcuZG9tRXZlbnRIYW5kbGVycyh7XG4gICAgICAgICAgICBiZWZvcmVpbnB1dChlLCB2aWV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSBlLmlucHV0VHlwZSA9PSBcImhpc3RvcnlVbmRvXCIgPyB1bmRvIDogZS5pbnB1dFR5cGUgPT0gXCJoaXN0b3J5UmVkb1wiID8gcmVkbyA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tYW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kKHZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIF07XG59XG4vKipcblRoZSBzdGF0ZSBmaWVsZCB1c2VkIHRvIHN0b3JlIHRoZSBoaXN0b3J5IGRhdGEuIFNob3VsZCBwcm9iYWJseVxub25seSBiZSB1c2VkIHdoZW4geW91IHdhbnQgdG9cbltzZXJpYWxpemVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudG9KU09OKSBvclxuW2Rlc2VyaWFsaXplXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmZyb21KU09OKSBzdGF0ZSBvYmplY3RzIGluIGEgd2F5XG50aGF0IHByZXNlcnZlcyBoaXN0b3J5LlxuKi9cbmNvbnN0IGhpc3RvcnlGaWVsZCA9IGhpc3RvcnlGaWVsZF87XG5mdW5jdGlvbiBjbWQoc2lkZSwgc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh7IHN0YXRlLCBkaXNwYXRjaCB9KSB7XG4gICAgICAgIGlmICghc2VsZWN0aW9uICYmIHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgaGlzdG9yeVN0YXRlID0gc3RhdGUuZmllbGQoaGlzdG9yeUZpZWxkXywgZmFsc2UpO1xuICAgICAgICBpZiAoIWhpc3RvcnlTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHRyID0gaGlzdG9yeVN0YXRlLnBvcChzaWRlLCBzdGF0ZSwgc2VsZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0cilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGlzcGF0Y2godHIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5VbmRvIGEgc2luZ2xlIGdyb3VwIG9mIGhpc3RvcnkgZXZlbnRzLiBSZXR1cm5zIGZhbHNlIGlmIG5vIGdyb3VwXG53YXMgYXZhaWxhYmxlLlxuKi9cbmNvbnN0IHVuZG8gPSAvKkBfX1BVUkVfXyovY21kKDAgLyogQnJhbmNoTmFtZS5Eb25lICovLCBmYWxzZSk7XG4vKipcblJlZG8gYSBncm91cCBvZiBoaXN0b3J5IGV2ZW50cy4gUmV0dXJucyBmYWxzZSBpZiBubyBncm91cCB3YXNcbmF2YWlsYWJsZS5cbiovXG5jb25zdCByZWRvID0gLypAX19QVVJFX18qL2NtZCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovLCBmYWxzZSk7XG4vKipcblVuZG8gYSBjaGFuZ2Ugb3Igc2VsZWN0aW9uIGNoYW5nZS5cbiovXG5jb25zdCB1bmRvU2VsZWN0aW9uID0gLypAX19QVVJFX18qL2NtZCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLywgdHJ1ZSk7XG4vKipcblJlZG8gYSBjaGFuZ2Ugb3Igc2VsZWN0aW9uIGNoYW5nZS5cbiovXG5jb25zdCByZWRvU2VsZWN0aW9uID0gLypAX19QVVJFX18qL2NtZCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovLCB0cnVlKTtcbmZ1bmN0aW9uIGRlcHRoKHNpZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGxldCBoaXN0U3RhdGUgPSBzdGF0ZS5maWVsZChoaXN0b3J5RmllbGRfLCBmYWxzZSk7XG4gICAgICAgIGlmICghaGlzdFN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCBicmFuY2ggPSBzaWRlID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gaGlzdFN0YXRlLmRvbmUgOiBoaXN0U3RhdGUudW5kb25lO1xuICAgICAgICByZXR1cm4gYnJhbmNoLmxlbmd0aCAtIChicmFuY2gubGVuZ3RoICYmICFicmFuY2hbMF0uY2hhbmdlcyA/IDEgOiAwKTtcbiAgICB9O1xufVxuLyoqXG5UaGUgYW1vdW50IG9mIHVuZG9hYmxlIGNoYW5nZSBldmVudHMgYXZhaWxhYmxlIGluIGEgZ2l2ZW4gc3RhdGUuXG4qL1xuY29uc3QgdW5kb0RlcHRoID0gLypAX19QVVJFX18qL2RlcHRoKDAgLyogQnJhbmNoTmFtZS5Eb25lICovKTtcbi8qKlxuVGhlIGFtb3VudCBvZiByZWRvYWJsZSBjaGFuZ2UgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIHN0YXRlLlxuKi9cbmNvbnN0IHJlZG9EZXB0aCA9IC8qQF9fUFVSRV9fKi9kZXB0aCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovKTtcbi8vIEhpc3RvcnkgZXZlbnRzIHN0b3JlIGdyb3VwcyBvZiBjaGFuZ2VzIG9yIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlXG4vLyB1bmRvbmUvcmVkb25lIHRvZ2V0aGVyLlxuY2xhc3MgSGlzdEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgY2hhbmdlcyBpbiB0aGlzIGV2ZW50LiBOb3JtYWwgZXZlbnRzIGhvbGQgYXQgbGVhc3Qgb25lXG4gICAgLy8gY2hhbmdlIG9yIGVmZmVjdC4gQnV0IGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gc3RvcmUgc2VsZWN0aW9uXG4gICAgLy8gZXZlbnRzIGJlZm9yZSB0aGUgZmlyc3QgY2hhbmdlLCBpbiB3aGljaCBjYXNlIGEgc3BlY2lhbCB0eXBlIG9mXG4gICAgLy8gaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGljaCBkb2Vzbid0IGhvbGQgYW55IGNoYW5nZXMsIHdpdGhcbiAgICAvLyBjaGFuZ2VzID09IHN0YXJ0U2VsZWN0aW9uID09IHVuZGVmaW5lZFxuICAgIGNoYW5nZXMsIFxuICAgIC8vIFRoZSBlZmZlY3RzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGV2ZW50XG4gICAgZWZmZWN0cywgXG4gICAgLy8gQWNjdW11bGF0ZWQgbWFwcGluZyAoZnJvbSBhZGRUb0hpc3Rvcnk9PWZhbHNlKSB0aGF0IHNob3VsZCBiZVxuICAgIC8vIGFwcGxpZWQgdG8gZXZlbnRzIGJlbG93IHRoaXMgb25lLlxuICAgIG1hcHBlZCwgXG4gICAgLy8gVGhlIHNlbGVjdGlvbiBiZWZvcmUgdGhpcyBldmVudFxuICAgIHN0YXJ0U2VsZWN0aW9uLCBcbiAgICAvLyBTdG9yZXMgc2VsZWN0aW9uIGNoYW5nZXMgYWZ0ZXIgdGhpcyBldmVudCwgdG8gYmUgdXNlZCBmb3JcbiAgICAvLyBzZWxlY3Rpb24gdW5kby9yZWRvLlxuICAgIHNlbGVjdGlvbnNBZnRlcikge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLmVmZmVjdHMgPSBlZmZlY3RzO1xuICAgICAgICB0aGlzLm1hcHBlZCA9IG1hcHBlZDtcbiAgICAgICAgdGhpcy5zdGFydFNlbGVjdGlvbiA9IHN0YXJ0U2VsZWN0aW9uO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbnNBZnRlciA9IHNlbGVjdGlvbnNBZnRlcjtcbiAgICB9XG4gICAgc2V0U2VsQWZ0ZXIoYWZ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0RXZlbnQodGhpcy5jaGFuZ2VzLCB0aGlzLmVmZmVjdHMsIHRoaXMubWFwcGVkLCB0aGlzLnN0YXJ0U2VsZWN0aW9uLCBhZnRlcik7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFuZ2VzOiAoX2EgPSB0aGlzLmNoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0pTT04oKSxcbiAgICAgICAgICAgIG1hcHBlZDogKF9iID0gdGhpcy5tYXBwZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b0pTT04oKSxcbiAgICAgICAgICAgIHN0YXJ0U2VsZWN0aW9uOiAoX2MgPSB0aGlzLnN0YXJ0U2VsZWN0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9KU09OKCksXG4gICAgICAgICAgICBzZWxlY3Rpb25zQWZ0ZXI6IHRoaXMuc2VsZWN0aW9uc0FmdGVyLm1hcChzID0+IHMudG9KU09OKCkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KGpzb24uY2hhbmdlcyAmJiBDaGFuZ2VTZXQuZnJvbUpTT04oanNvbi5jaGFuZ2VzKSwgW10sIGpzb24ubWFwcGVkICYmIENoYW5nZURlc2MuZnJvbUpTT04oanNvbi5tYXBwZWQpLCBqc29uLnN0YXJ0U2VsZWN0aW9uICYmIEVkaXRvclNlbGVjdGlvbi5mcm9tSlNPTihqc29uLnN0YXJ0U2VsZWN0aW9uKSwganNvbi5zZWxlY3Rpb25zQWZ0ZXIubWFwKEVkaXRvclNlbGVjdGlvbi5mcm9tSlNPTikpO1xuICAgIH1cbiAgICAvLyBUaGlzIGRvZXMgbm90IGNoZWNrIGBhZGRUb0hpc3RvcnlgIGFuZCBzdWNoLCBpdCBhc3N1bWVzIHRoZVxuICAgIC8vIHRyYW5zYWN0aW9uIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhbiBpdGVtLiBSZXR1cm5zIG51bGwgd2hlblxuICAgIC8vIHRoZXJlIGFyZSBubyBjaGFuZ2VzIG9yIGVmZmVjdHMgaW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgIHN0YXRpYyBmcm9tVHJhbnNhY3Rpb24odHIsIHNlbGVjdGlvbikge1xuICAgICAgICBsZXQgZWZmZWN0cyA9IG5vbmU7XG4gICAgICAgIGZvciAobGV0IGludmVydCBvZiB0ci5zdGFydFN0YXRlLmZhY2V0KGludmVydGVkRWZmZWN0cykpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBpbnZlcnQodHIpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZWZmZWN0cyA9IGVmZmVjdHMuY29uY2F0KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlZmZlY3RzLmxlbmd0aCAmJiB0ci5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHRyLmNoYW5nZXMuaW52ZXJ0KHRyLnN0YXJ0U3RhdGUuZG9jKSwgZWZmZWN0cywgdW5kZWZpbmVkLCBzZWxlY3Rpb24gfHwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24sIG5vbmUpO1xuICAgIH1cbiAgICBzdGF0aWMgc2VsZWN0aW9uKHNlbGVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0RXZlbnQodW5kZWZpbmVkLCBub25lLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc2VsZWN0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQnJhbmNoKGJyYW5jaCwgdG8sIG1heExlbiwgbmV3RXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSB0byArIDEgPiBtYXhMZW4gKyAyMCA/IHRvIC0gbWF4TGVuIC0gMSA6IDA7XG4gICAgbGV0IG5ld0JyYW5jaCA9IGJyYW5jaC5zbGljZShzdGFydCwgdG8pO1xuICAgIG5ld0JyYW5jaC5wdXNoKG5ld0V2ZW50KTtcbiAgICByZXR1cm4gbmV3QnJhbmNoO1xufVxuZnVuY3Rpb24gaXNBZGphY2VudChhLCBiKSB7XG4gICAgbGV0IHJhbmdlcyA9IFtdLCBpc0FkamFjZW50ID0gZmFsc2U7XG4gICAgYS5pdGVyQ2hhbmdlZFJhbmdlcygoZiwgdCkgPT4gcmFuZ2VzLnB1c2goZiwgdCkpO1xuICAgIGIuaXRlckNoYW5nZWRSYW5nZXMoKF9mLCBfdCwgZiwgdCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1tpKytdLCB0byA9IHJhbmdlc1tpKytdO1xuICAgICAgICAgICAgaWYgKHQgPj0gZnJvbSAmJiBmIDw9IHRvKVxuICAgICAgICAgICAgICAgIGlzQWRqYWNlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGlzQWRqYWNlbnQ7XG59XG5mdW5jdGlvbiBlcVNlbGVjdGlvblNoYXBlKGEsIGIpIHtcbiAgICByZXR1cm4gYS5yYW5nZXMubGVuZ3RoID09IGIucmFuZ2VzLmxlbmd0aCAmJlxuICAgICAgICBhLnJhbmdlcy5maWx0ZXIoKHIsIGkpID0+IHIuZW1wdHkgIT0gYi5yYW5nZXNbaV0uZW1wdHkpLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIGNvbmMoYSwgYikge1xuICAgIHJldHVybiAhYS5sZW5ndGggPyBiIDogIWIubGVuZ3RoID8gYSA6IGEuY29uY2F0KGIpO1xufVxuY29uc3Qgbm9uZSA9IFtdO1xuY29uc3QgTWF4U2VsZWN0aW9uc1BlckV2ZW50ID0gMjAwO1xuZnVuY3Rpb24gYWRkU2VsZWN0aW9uKGJyYW5jaCwgc2VsZWN0aW9uKSB7XG4gICAgaWYgKCFicmFuY2gubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbSGlzdEV2ZW50LnNlbGVjdGlvbihbc2VsZWN0aW9uXSldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGxhc3RFdmVudCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV07XG4gICAgICAgIGxldCBzZWxzID0gbGFzdEV2ZW50LnNlbGVjdGlvbnNBZnRlci5zbGljZShNYXRoLm1heCgwLCBsYXN0RXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAtIE1heFNlbGVjdGlvbnNQZXJFdmVudCkpO1xuICAgICAgICBpZiAoc2Vscy5sZW5ndGggJiYgc2Vsc1tzZWxzLmxlbmd0aCAtIDFdLmVxKHNlbGVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gYnJhbmNoO1xuICAgICAgICBzZWxzLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUJyYW5jaChicmFuY2gsIGJyYW5jaC5sZW5ndGggLSAxLCAxZTksIGxhc3RFdmVudC5zZXRTZWxBZnRlcihzZWxzKSk7XG4gICAgfVxufVxuLy8gQXNzdW1lcyB0aGUgdG9wIGl0ZW0gaGFzIG9uZSBvciBtb3JlIHNlbGVjdGlvbkFmdGVyIHZhbHVlc1xuZnVuY3Rpb24gcG9wU2VsZWN0aW9uKGJyYW5jaCkge1xuICAgIGxldCBsYXN0ID0gYnJhbmNoW2JyYW5jaC5sZW5ndGggLSAxXTtcbiAgICBsZXQgbmV3QnJhbmNoID0gYnJhbmNoLnNsaWNlKCk7XG4gICAgbmV3QnJhbmNoW2JyYW5jaC5sZW5ndGggLSAxXSA9IGxhc3Quc2V0U2VsQWZ0ZXIobGFzdC5zZWxlY3Rpb25zQWZ0ZXIuc2xpY2UoMCwgbGFzdC5zZWxlY3Rpb25zQWZ0ZXIubGVuZ3RoIC0gMSkpO1xuICAgIHJldHVybiBuZXdCcmFuY2g7XG59XG4vLyBBZGQgYSBtYXBwaW5nIHRvIHRoZSB0b3AgZXZlbnQgaW4gdGhlIGdpdmVuIGJyYW5jaC4gSWYgdGhpcyBtYXBzXG4vLyBhd2F5IGFsbCB0aGUgY2hhbmdlcyBhbmQgZWZmZWN0cyBpbiB0aGF0IGl0ZW0sIGRyb3AgaXQgYW5kXG4vLyBwcm9wYWdhdGUgdGhlIG1hcHBpbmcgdG8gdGhlIG5leHQgaXRlbS5cbmZ1bmN0aW9uIGFkZE1hcHBpbmdUb0JyYW5jaChicmFuY2gsIG1hcHBpbmcpIHtcbiAgICBpZiAoIWJyYW5jaC5sZW5ndGgpXG4gICAgICAgIHJldHVybiBicmFuY2g7XG4gICAgbGV0IGxlbmd0aCA9IGJyYW5jaC5sZW5ndGgsIHNlbGVjdGlvbnMgPSBub25lO1xuICAgIHdoaWxlIChsZW5ndGgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gbWFwRXZlbnQoYnJhbmNoW2xlbmd0aCAtIDFdLCBtYXBwaW5nLCBzZWxlY3Rpb25zKTtcbiAgICAgICAgaWYgKGV2ZW50LmNoYW5nZXMgJiYgIWV2ZW50LmNoYW5nZXMuZW1wdHkgfHwgZXZlbnQuZWZmZWN0cy5sZW5ndGgpIHsgLy8gRXZlbnQgc3Vydml2ZWQgbWFwcGluZ1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGJyYW5jaC5zbGljZSgwLCBsZW5ndGgpO1xuICAgICAgICAgICAgcmVzdWx0W2xlbmd0aCAtIDFdID0gZXZlbnQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBEcm9wIHRoaXMgZXZlbnQsIHNpbmNlIHRoZXJlJ3Mgbm8gY2hhbmdlcyBvciBlZmZlY3RzIGxlZnRcbiAgICAgICAgICAgIG1hcHBpbmcgPSBldmVudC5tYXBwZWQ7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBldmVudC5zZWxlY3Rpb25zQWZ0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdGlvbnMubGVuZ3RoID8gW0hpc3RFdmVudC5zZWxlY3Rpb24oc2VsZWN0aW9ucyldIDogbm9uZTtcbn1cbmZ1bmN0aW9uIG1hcEV2ZW50KGV2ZW50LCBtYXBwaW5nLCBleHRyYVNlbGVjdGlvbnMpIHtcbiAgICBsZXQgc2VsZWN0aW9ucyA9IGNvbmMoZXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCA/IGV2ZW50LnNlbGVjdGlvbnNBZnRlci5tYXAocyA9PiBzLm1hcChtYXBwaW5nKSkgOiBub25lLCBleHRyYVNlbGVjdGlvbnMpO1xuICAgIC8vIENoYW5nZS1sZXNzIGV2ZW50cyBkb24ndCBzdG9yZSBtYXBwaW5ncyAodGhleSBhcmUgYWx3YXlzIHRoZSBsYXN0IGV2ZW50IGluIGEgYnJhbmNoKVxuICAgIGlmICghZXZlbnQuY2hhbmdlcylcbiAgICAgICAgcmV0dXJuIEhpc3RFdmVudC5zZWxlY3Rpb24oc2VsZWN0aW9ucyk7XG4gICAgbGV0IG1hcHBlZENoYW5nZXMgPSBldmVudC5jaGFuZ2VzLm1hcChtYXBwaW5nKSwgYmVmb3JlID0gbWFwcGluZy5tYXBEZXNjKGV2ZW50LmNoYW5nZXMsIHRydWUpO1xuICAgIGxldCBmdWxsTWFwcGluZyA9IGV2ZW50Lm1hcHBlZCA/IGV2ZW50Lm1hcHBlZC5jb21wb3NlRGVzYyhiZWZvcmUpIDogYmVmb3JlO1xuICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KG1hcHBlZENoYW5nZXMsIFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoZXZlbnQuZWZmZWN0cywgbWFwcGluZyksIGZ1bGxNYXBwaW5nLCBldmVudC5zdGFydFNlbGVjdGlvbi5tYXAoYmVmb3JlKSwgc2VsZWN0aW9ucyk7XG59XG5jb25zdCBqb2luYWJsZVVzZXJFdmVudCA9IC9eKGlucHV0XFwudHlwZXxkZWxldGUpKCR8XFwuKS87XG5jbGFzcyBIaXN0b3J5U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGRvbmUsIHVuZG9uZSwgcHJldlRpbWUgPSAwLCBwcmV2VXNlckV2ZW50ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZG9uZSA9IGRvbmU7XG4gICAgICAgIHRoaXMudW5kb25lID0gdW5kb25lO1xuICAgICAgICB0aGlzLnByZXZUaW1lID0gcHJldlRpbWU7XG4gICAgICAgIHRoaXMucHJldlVzZXJFdmVudCA9IHByZXZVc2VyRXZlbnQ7XG4gICAgfVxuICAgIGlzb2xhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZUaW1lID8gbmV3IEhpc3RvcnlTdGF0ZSh0aGlzLmRvbmUsIHRoaXMudW5kb25lKSA6IHRoaXM7XG4gICAgfVxuICAgIGFkZENoYW5nZXMoZXZlbnQsIHRpbWUsIHVzZXJFdmVudCwgY29uZmlnLCB0cikge1xuICAgICAgICBsZXQgZG9uZSA9IHRoaXMuZG9uZSwgbGFzdEV2ZW50ID0gZG9uZVtkb25lLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdEV2ZW50ICYmIGxhc3RFdmVudC5jaGFuZ2VzICYmICFsYXN0RXZlbnQuY2hhbmdlcy5lbXB0eSAmJiBldmVudC5jaGFuZ2VzICYmXG4gICAgICAgICAgICAoIXVzZXJFdmVudCB8fCBqb2luYWJsZVVzZXJFdmVudC50ZXN0KHVzZXJFdmVudCkpICYmXG4gICAgICAgICAgICAoKCFsYXN0RXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHRpbWUgLSB0aGlzLnByZXZUaW1lIDwgY29uZmlnLm5ld0dyb3VwRGVsYXkgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuam9pblRvRXZlbnQodHIsIGlzQWRqYWNlbnQobGFzdEV2ZW50LmNoYW5nZXMsIGV2ZW50LmNoYW5nZXMpKSkgfHxcbiAgICAgICAgICAgICAgICAvLyBGb3IgY29tcG9zZSAoYnV0IG5vdCBjb21wb3NlLnN0YXJ0KSBldmVudHMsIGFsd2F5cyBqb2luIHdpdGggcHJldmlvdXMgZXZlbnRcbiAgICAgICAgICAgICAgICB1c2VyRXZlbnQgPT0gXCJpbnB1dC50eXBlLmNvbXBvc2VcIikpIHtcbiAgICAgICAgICAgIGRvbmUgPSB1cGRhdGVCcmFuY2goZG9uZSwgZG9uZS5sZW5ndGggLSAxLCBjb25maWcubWluRGVwdGgsIG5ldyBIaXN0RXZlbnQoZXZlbnQuY2hhbmdlcy5jb21wb3NlKGxhc3RFdmVudC5jaGFuZ2VzKSwgY29uYyhTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGV2ZW50LmVmZmVjdHMsIGxhc3RFdmVudC5jaGFuZ2VzKSwgbGFzdEV2ZW50LmVmZmVjdHMpLCBsYXN0RXZlbnQubWFwcGVkLCBsYXN0RXZlbnQuc3RhcnRTZWxlY3Rpb24sIG5vbmUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbmUgPSB1cGRhdGVCcmFuY2goZG9uZSwgZG9uZS5sZW5ndGgsIGNvbmZpZy5taW5EZXB0aCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGRvbmUsIG5vbmUsIHRpbWUsIHVzZXJFdmVudCk7XG4gICAgfVxuICAgIGFkZFNlbGVjdGlvbihzZWxlY3Rpb24sIHRpbWUsIHVzZXJFdmVudCwgbmV3R3JvdXBEZWxheSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuZG9uZS5sZW5ndGggPyB0aGlzLmRvbmVbdGhpcy5kb25lLmxlbmd0aCAtIDFdLnNlbGVjdGlvbnNBZnRlciA6IG5vbmU7XG4gICAgICAgIGlmIChsYXN0Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRpbWUgLSB0aGlzLnByZXZUaW1lIDwgbmV3R3JvdXBEZWxheSAmJlxuICAgICAgICAgICAgdXNlckV2ZW50ID09IHRoaXMucHJldlVzZXJFdmVudCAmJiB1c2VyRXZlbnQgJiYgL15zZWxlY3QoJHxcXC4pLy50ZXN0KHVzZXJFdmVudCkgJiZcbiAgICAgICAgICAgIGVxU2VsZWN0aW9uU2hhcGUobGFzdFtsYXN0Lmxlbmd0aCAtIDFdLCBzZWxlY3Rpb24pKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGFkZFNlbGVjdGlvbih0aGlzLmRvbmUsIHNlbGVjdGlvbiksIHRoaXMudW5kb25lLCB0aW1lLCB1c2VyRXZlbnQpO1xuICAgIH1cbiAgICBhZGRNYXBwaW5nKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoYWRkTWFwcGluZ1RvQnJhbmNoKHRoaXMuZG9uZSwgbWFwcGluZyksIGFkZE1hcHBpbmdUb0JyYW5jaCh0aGlzLnVuZG9uZSwgbWFwcGluZyksIHRoaXMucHJldlRpbWUsIHRoaXMucHJldlVzZXJFdmVudCk7XG4gICAgfVxuICAgIHBvcChzaWRlLCBzdGF0ZSwgb25seVNlbGVjdGlvbikge1xuICAgICAgICBsZXQgYnJhbmNoID0gc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IHRoaXMuZG9uZSA6IHRoaXMudW5kb25lO1xuICAgICAgICBpZiAoYnJhbmNoLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBldmVudCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV0sIHNlbGVjdGlvbiA9IGV2ZW50LnNlbGVjdGlvbnNBZnRlclswXSB8fCBzdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGlmIChvbmx5U2VsZWN0aW9uICYmIGV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZXZlbnQuc2VsZWN0aW9uc0FmdGVyW2V2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uczogZnJvbUhpc3Rvcnkub2YoeyBzaWRlLCByZXN0OiBwb3BTZWxlY3Rpb24oYnJhbmNoKSwgc2VsZWN0aW9uIH0pLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IFwic2VsZWN0LnVuZG9cIiA6IFwic2VsZWN0LnJlZG9cIixcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWV2ZW50LmNoYW5nZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSBicmFuY2gubGVuZ3RoID09IDEgPyBub25lIDogYnJhbmNoLnNsaWNlKDAsIGJyYW5jaC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmIChldmVudC5tYXBwZWQpXG4gICAgICAgICAgICAgICAgcmVzdCA9IGFkZE1hcHBpbmdUb0JyYW5jaChyZXN0LCBldmVudC5tYXBwZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogZXZlbnQuY2hhbmdlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGV2ZW50LnN0YXJ0U2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGV2ZW50LmVmZmVjdHMsXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6IGZyb21IaXN0b3J5Lm9mKHsgc2lkZSwgcmVzdCwgc2VsZWN0aW9uIH0pLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlckV2ZW50OiBzaWRlID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gXCJ1bmRvXCIgOiBcInJlZG9cIixcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5IaXN0b3J5U3RhdGUuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IEhpc3RvcnlTdGF0ZShub25lLCBub25lKTtcbi8qKlxuRGVmYXVsdCBrZXkgYmluZGluZ3MgZm9yIHRoZSB1bmRvIGhpc3RvcnkuXG5cbi0gTW9kLXo6IFtgdW5kb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudW5kbykuXG4tIE1vZC15IChNb2QtU2hpZnQteiBvbiBtYWNPUykgKyBDdHJsLVNoaWZ0LXogb24gTGludXg6IFtgcmVkb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMucmVkbykuXG4tIE1vZC11OiBbYHVuZG9TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnVuZG9TZWxlY3Rpb24pLlxuLSBBbHQtdSAoTW9kLVNoaWZ0LXUgb24gbWFjT1MpOiBbYHJlZG9TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnJlZG9TZWxlY3Rpb24pLlxuKi9cbmNvbnN0IGhpc3RvcnlLZXltYXAgPSBbXG4gICAgeyBrZXk6IFwiTW9kLXpcIiwgcnVuOiB1bmRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC15XCIsIG1hYzogXCJNb2QtU2hpZnQtelwiLCBydW46IHJlZG8sIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBsaW51eDogXCJDdHJsLVNoaWZ0LXpcIiwgcnVuOiByZWRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC11XCIsIHJ1bjogdW5kb1NlbGVjdGlvbiwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJBbHQtdVwiLCBtYWM6IFwiTW9kLVNoaWZ0LXVcIiwgcnVuOiByZWRvU2VsZWN0aW9uLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9XG5dO1xuXG5mdW5jdGlvbiB1cGRhdGVTZWwoc2VsLCBieSkge1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHNlbC5yYW5nZXMubWFwKGJ5KSwgc2VsLm1haW5JbmRleCk7XG59XG5mdW5jdGlvbiBzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikge1xuICAgIHJldHVybiBzdGF0ZS51cGRhdGUoeyBzZWxlY3Rpb24sIHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSk7XG59XG5mdW5jdGlvbiBtb3ZlU2VsKHsgc3RhdGUsIGRpc3BhdGNoIH0sIGhvdykge1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCBob3cpO1xuICAgIGlmIChzZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uLCB0cnVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkge1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyByYW5nZS50byA6IHJhbmdlLmZyb20pO1xufVxuZnVuY3Rpb24gY3Vyc29yQnlDaGFyKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuZnVuY3Rpb24gbHRyQXRDdXJzb3Iodmlldykge1xuICAgIHJldHVybiB2aWV3LnRleHREaXJlY3Rpb25BdCh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpID09IERpcmVjdGlvbi5MVFI7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIHRvIHRoZSBsZWZ0ICh3aGljaCBpcyBiYWNrd2FyZCBpblxubGVmdC10by1yaWdodCB0ZXh0LCBmb3J3YXJkIGluIHJpZ2h0LXRvLWxlZnQgdGV4dCkuXG4qL1xuY29uc3QgY3Vyc29yQ2hhckxlZnQgPSB2aWV3ID0+IGN1cnNvckJ5Q2hhcih2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yQ2hhclJpZ2h0ID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJGb3J3YXJkID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIGJhY2t3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIGZhbHNlKTtcbmZ1bmN0aW9uIGN1cnNvckJ5R3JvdXAodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHJhbmdlLmVtcHR5ID8gdmlldy5tb3ZlQnlHcm91cChyYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGxlZnQgYWNyb3NzIG9uZSBncm91cCBvZiB3b3JkIG9yXG5ub24td29yZCAoYnV0IGFsc28gbm9uLXNwYWNlKSBjaGFyYWN0ZXJzLlxuKi9cbmNvbnN0IGN1cnNvckdyb3VwTGVmdCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGdyb3VwIHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBjdXJzb3JHcm91cFJpZ2h0ID0gdmlldyA9PiBjdXJzb3JCeUdyb3VwKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckdyb3VwRm9yd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBiYWNrd2FyZC5cbiovXG5jb25zdCBjdXJzb3JHcm91cEJhY2t3YXJkID0gdmlldyA9PiBjdXJzb3JCeUdyb3VwKHZpZXcsIGZhbHNlKTtcbmNvbnN0IHNlZ21lbnRlciA9IHR5cGVvZiBJbnRsICE9IFwidW5kZWZpbmVkXCIgJiYgSW50bC5TZWdtZW50ZXIgP1xuICAgIC8qQF9fUFVSRV9fKi9uZXcgKEludGwuU2VnbWVudGVyKSh1bmRlZmluZWQsIHsgZ3JhbnVsYXJpdHk6IFwid29yZFwiIH0pIDogbnVsbDtcbmZ1bmN0aW9uIG1vdmVCeVN1YndvcmQodmlldywgcmFuZ2UsIGZvcndhcmQpIHtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHZpZXcuc3RhdGUuY2hhckNhdGVnb3JpemVyKHJhbmdlLmZyb20pO1xuICAgIGxldCBjYXQgPSBDaGFyQ2F0ZWdvcnkuU3BhY2UsIHBvcyA9IHJhbmdlLmZyb20sIHN0ZXBzID0gMDtcbiAgICBsZXQgZG9uZSA9IGZhbHNlLCBzYXdVcHBlciA9IGZhbHNlLCBzYXdMb3dlciA9IGZhbHNlO1xuICAgIGxldCBzdGVwID0gKG5leHQpID0+IHtcbiAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHBvcyArPSBmb3J3YXJkID8gbmV4dC5sZW5ndGggOiAtbmV4dC5sZW5ndGg7XG4gICAgICAgIGxldCBuZXh0Q2F0ID0gY2F0ZWdvcml6ZShuZXh0KSwgYWhlYWQ7XG4gICAgICAgIGlmIChuZXh0Q2F0ID09IENoYXJDYXRlZ29yeS5Xb3JkICYmIG5leHQuY2hhckNvZGVBdCgwKSA8IDEyOCAmJiAvW1xcV19dLy50ZXN0KG5leHQpKVxuICAgICAgICAgICAgbmV4dENhdCA9IC0xOyAvLyBUcmVhdCB3b3JkIHB1bmN0dWF0aW9uIHNwZWNpYWxseVxuICAgICAgICBpZiAoY2F0ID09IENoYXJDYXRlZ29yeS5TcGFjZSlcbiAgICAgICAgICAgIGNhdCA9IG5leHRDYXQ7XG4gICAgICAgIGlmIChjYXQgIT0gbmV4dENhdClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNhdCA9PSBDaGFyQ2F0ZWdvcnkuV29yZCkge1xuICAgICAgICAgICAgaWYgKG5leHQudG9Mb3dlckNhc2UoKSA9PSBuZXh0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3J3YXJkICYmIHNhd1VwcGVyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2F3TG93ZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2F3TG93ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhd1VwcGVyICYmIGZvcndhcmQgJiYgY2F0ZWdvcml6ZShhaGVhZCA9IHZpZXcuc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyAxKSkgPT0gQ2hhckNhdGVnb3J5LldvcmQgJiZcbiAgICAgICAgICAgICAgICAgICAgYWhlYWQudG9Mb3dlckNhc2UoKSA9PSBhaGVhZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNhd1VwcGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGVwcysrO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGxldCBlbmQgPSB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIGZvcndhcmQsIHN0YXJ0ID0+IHtcbiAgICAgICAgc3RlcChzdGFydCk7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgIH0pO1xuICAgIGlmIChzZWdtZW50ZXIgJiYgY2F0ID09IENoYXJDYXRlZ29yeS5Xb3JkICYmIGVuZC5mcm9tID09IHJhbmdlLmZyb20gKyBzdGVwcyAqIChmb3J3YXJkID8gMSA6IC0xKSkge1xuICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWluKHJhbmdlLmhlYWQsIGVuZC5oZWFkKSwgdG8gPSBNYXRoLm1heChyYW5nZS5oZWFkLCBlbmQuaGVhZCk7XG4gICAgICAgIGxldCBza2lwcGVkID0gdmlldy5zdGF0ZS5zbGljZURvYyhmcm9tLCB0byk7XG4gICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDEgJiYgL1tcXHU0RTAwLVxcdWZmZmZdLy50ZXN0KHNraXBwZWQpKSB7XG4gICAgICAgICAgICBsZXQgc2VnbWVudHMgPSBBcnJheS5mcm9tKHNlZ21lbnRlci5zZWdtZW50KHNraXBwZWQpKTtcbiAgICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcndhcmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmhlYWQgKyBzZWdtZW50c1sxXS5pbmRleCwgLTEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGVuZC5oZWFkICsgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV0uaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbmQ7XG59XG5mdW5jdGlvbiBjdXJzb3JCeVN1YndvcmQodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHJhbmdlLmVtcHR5ID8gbW92ZUJ5U3Vid29yZCh2aWV3LCByYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGdyb3VwIG9yIGNhbWVsLWNhc2Ugc3Vid29yZCBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvclN1YndvcmRGb3J3YXJkID0gdmlldyA9PiBjdXJzb3JCeVN1YndvcmQodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgb3IgY2FtZWwtY2FzZSBzdWJ3b3JkIGJhY2t3YXJkLlxuKi9cbmNvbnN0IGN1cnNvclN1YndvcmRCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlTdWJ3b3JkKHZpZXcsIGZhbHNlKTtcbmZ1bmN0aW9uIGludGVyZXN0aW5nTm9kZShzdGF0ZSwgbm9kZSwgYnJhY2tldFByb3ApIHtcbiAgICBpZiAobm9kZS50eXBlLnByb3AoYnJhY2tldFByb3ApKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgbGVuID0gbm9kZS50byAtIG5vZGUuZnJvbTtcbiAgICByZXR1cm4gbGVuICYmIChsZW4gPiAyIHx8IC9bXlxccywuOzpdLy50ZXN0KHN0YXRlLnNsaWNlRG9jKG5vZGUuZnJvbSwgbm9kZS50bykpKSB8fCBub2RlLmZpcnN0Q2hpbGQ7XG59XG5mdW5jdGlvbiBtb3ZlQnlTeW50YXgoc3RhdGUsIHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgbGV0IHBvcyA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihzdGFydC5oZWFkKTtcbiAgICBsZXQgYnJhY2tldFByb3AgPSBmb3J3YXJkID8gTm9kZVByb3AuY2xvc2VkQnkgOiBOb2RlUHJvcC5vcGVuZWRCeTtcbiAgICAvLyBTY2FuIGZvcndhcmQgdGhyb3VnaCBjaGlsZCBub2RlcyB0byBzZWUgaWYgdGhlcmUncyBhbiBpbnRlcmVzdGluZ1xuICAgIC8vIG5vZGUgYWhlYWQuXG4gICAgZm9yIChsZXQgYXQgPSBzdGFydC5oZWFkOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSBmb3J3YXJkID8gcG9zLmNoaWxkQWZ0ZXIoYXQpIDogcG9zLmNoaWxkQmVmb3JlKGF0KTtcbiAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChpbnRlcmVzdGluZ05vZGUoc3RhdGUsIG5leHQsIGJyYWNrZXRQcm9wKSlcbiAgICAgICAgICAgIHBvcyA9IG5leHQ7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGF0ID0gZm9yd2FyZCA/IG5leHQudG8gOiBuZXh0LmZyb207XG4gICAgfVxuICAgIGxldCBicmFja2V0ID0gcG9zLnR5cGUucHJvcChicmFja2V0UHJvcCksIG1hdGNoLCBuZXdQb3M7XG4gICAgaWYgKGJyYWNrZXQgJiYgKG1hdGNoID0gZm9yd2FyZCA/IG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcy5mcm9tLCAxKSA6IG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcy50bywgLTEpKSAmJiBtYXRjaC5tYXRjaGVkKVxuICAgICAgICBuZXdQb3MgPSBmb3J3YXJkID8gbWF0Y2guZW5kLnRvIDogbWF0Y2guZW5kLmZyb207XG4gICAgZWxzZVxuICAgICAgICBuZXdQb3MgPSBmb3J3YXJkID8gcG9zLnRvIDogcG9zLmZyb207XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobmV3UG9zLCBmb3J3YXJkID8gLTEgOiAxKTtcbn1cbi8qKlxuTW92ZSB0aGUgY3Vyc29yIG92ZXIgdGhlIG5leHQgc3ludGFjdGljIGVsZW1lbnQgdG8gdGhlIGxlZnQuXG4qL1xuY29uc3QgY3Vyc29yU3ludGF4TGVmdCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBjdXJzb3Igb3ZlciB0aGUgbmV4dCBzeW50YWN0aWMgZWxlbWVudCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yU3ludGF4UmlnaHQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3ludGF4KHZpZXcuc3RhdGUsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuZnVuY3Rpb24gY3Vyc29yQnlMaW5lKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiB7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpO1xuICAgICAgICBsZXQgbW92ZWQgPSB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkKTtcbiAgICAgICAgcmV0dXJuIG1vdmVkLmhlYWQgIT0gcmFuZ2UuaGVhZCA/IG1vdmVkIDogdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIGZvcndhcmQpO1xuICAgIH0pO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgdXAuXG4qL1xuY29uc3QgY3Vyc29yTGluZVVwID0gdmlldyA9PiBjdXJzb3JCeUxpbmUodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgZG93bi5cbiovXG5jb25zdCBjdXJzb3JMaW5lRG93biA9IHZpZXcgPT4gY3Vyc29yQnlMaW5lKHZpZXcsIHRydWUpO1xuZnVuY3Rpb24gcGFnZUluZm8odmlldykge1xuICAgIGxldCBzZWxmU2Nyb2xsID0gdmlldy5zY3JvbGxET00uY2xpZW50SGVpZ2h0IDwgdmlldy5zY3JvbGxET00uc2Nyb2xsSGVpZ2h0IC0gMjtcbiAgICBsZXQgbWFyZ2luVG9wID0gMCwgbWFyZ2luQm90dG9tID0gMCwgaGVpZ2h0O1xuICAgIGlmIChzZWxmU2Nyb2xsKSB7XG4gICAgICAgIGZvciAobGV0IHNvdXJjZSBvZiB2aWV3LnN0YXRlLmZhY2V0KEVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucykpIHtcbiAgICAgICAgICAgIGxldCBtYXJnaW5zID0gc291cmNlKHZpZXcpO1xuICAgICAgICAgICAgaWYgKG1hcmdpbnMgPT09IG51bGwgfHwgbWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFyZ2lucy50b3ApXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wID0gTWF0aC5tYXgobWFyZ2lucyA9PT0gbnVsbCB8fCBtYXJnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXJnaW5zLnRvcCwgbWFyZ2luVG9wKTtcbiAgICAgICAgICAgIGlmIChtYXJnaW5zID09PSBudWxsIHx8IG1hcmdpbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcmdpbnMuYm90dG9tKVxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IE1hdGgubWF4KG1hcmdpbnMgPT09IG51bGwgfHwgbWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFyZ2lucy5ib3R0b20sIG1hcmdpbkJvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaGVpZ2h0ID0gdmlldy5zY3JvbGxET00uY2xpZW50SGVpZ2h0IC0gbWFyZ2luVG9wIC0gbWFyZ2luQm90dG9tO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaGVpZ2h0ID0gKHZpZXcuZG9tLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWFyZ2luVG9wLCBtYXJnaW5Cb3R0b20sIHNlbGZTY3JvbGwsXG4gICAgICAgIGhlaWdodDogTWF0aC5tYXgodmlldy5kZWZhdWx0TGluZUhlaWdodCwgaGVpZ2h0IC0gNSkgfTtcbn1cbmZ1bmN0aW9uIGN1cnNvckJ5UGFnZSh2aWV3LCBmb3J3YXJkKSB7XG4gICAgbGV0IHBhZ2UgPSBwYWdlSW5mbyh2aWV3KTtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgc2VsZWN0aW9uID0gdXBkYXRlU2VsKHN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICByZXR1cm4gcmFuZ2UuZW1wdHkgPyB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkLCBwYWdlLmhlaWdodClcbiAgICAgICAgICAgIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpO1xuICAgIH0pO1xuICAgIGlmIChzZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlZmZlY3Q7XG4gICAgaWYgKHBhZ2Uuc2VsZlNjcm9sbCkge1xuICAgICAgICBsZXQgc3RhcnRQb3MgPSB2aWV3LmNvb3Jkc0F0UG9zKHN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgICAgICBsZXQgc2Nyb2xsUmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgc2Nyb2xsVG9wID0gc2Nyb2xsUmVjdC50b3AgKyBwYWdlLm1hcmdpblRvcCwgc2Nyb2xsQm90dG9tID0gc2Nyb2xsUmVjdC5ib3R0b20gLSBwYWdlLm1hcmdpbkJvdHRvbTtcbiAgICAgICAgaWYgKHN0YXJ0UG9zICYmIHN0YXJ0UG9zLnRvcCA+IHNjcm9sbFRvcCAmJiBzdGFydFBvcy5ib3R0b20gPCBzY3JvbGxCb3R0b20pXG4gICAgICAgICAgICBlZmZlY3QgPSBFZGl0b3JWaWV3LnNjcm9sbEludG9WaWV3KHNlbGVjdGlvbi5tYWluLmhlYWQsIHsgeTogXCJzdGFydFwiLCB5TWFyZ2luOiBzdGFydFBvcy50b3AgLSBzY3JvbGxUb3AgfSk7XG4gICAgfVxuICAgIHZpZXcuZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pLCB7IGVmZmVjdHM6IGVmZmVjdCB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBwYWdlIHVwLlxuKi9cbmNvbnN0IGN1cnNvclBhZ2VVcCA9IHZpZXcgPT4gY3Vyc29yQnlQYWdlKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBwYWdlIGRvd24uXG4qL1xuY29uc3QgY3Vyc29yUGFnZURvd24gPSB2aWV3ID0+IGN1cnNvckJ5UGFnZSh2aWV3LCB0cnVlKTtcbmZ1bmN0aW9uIG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCBzdGFydCwgZm9yd2FyZCkge1xuICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChzdGFydC5oZWFkKSwgbW92ZWQgPSB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShzdGFydCwgZm9yd2FyZCk7XG4gICAgaWYgKG1vdmVkLmhlYWQgPT0gc3RhcnQuaGVhZCAmJiBtb3ZlZC5oZWFkICE9IChmb3J3YXJkID8gbGluZS50byA6IGxpbmUuZnJvbSkpXG4gICAgICAgIG1vdmVkID0gdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkoc3RhcnQsIGZvcndhcmQsIGZhbHNlKTtcbiAgICBpZiAoIWZvcndhcmQgJiYgbW92ZWQuaGVhZCA9PSBsaW5lLmZyb20gJiYgbGluZS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHNwYWNlID0gL15cXHMqLy5leGVjKHZpZXcuc3RhdGUuc2xpY2VEb2MobGluZS5mcm9tLCBNYXRoLm1pbihsaW5lLmZyb20gKyAxMDAsIGxpbmUudG8pKSlbMF0ubGVuZ3RoO1xuICAgICAgICBpZiAoc3BhY2UgJiYgc3RhcnQuaGVhZCAhPSBsaW5lLmZyb20gKyBzcGFjZSlcbiAgICAgICAgICAgIG1vdmVkID0gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihsaW5lLmZyb20gKyBzcGFjZSk7XG4gICAgfVxuICAgIHJldHVybiBtb3ZlZDtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBuZXh0IGxpbmUgd3JhcCBwb2ludCwgb3IgdG8gdGhlIGVuZCBvZlxudGhlIGxpbmUgaWYgdGhlcmUgaXNuJ3Qgb25lIGxlZnQgb24gdGhpcyBsaW5lLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCB0cnVlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byBwcmV2aW91cyBsaW5lIHdyYXAgcG9pbnQsIG9yIGZhaWxpbmcgdGhhdCB0b1xudGhlIHN0YXJ0IG9mIHRoZSBsaW5lLiBJZiB0aGUgbGluZSBpcyBpbmRlbnRlZCwgYW5kIHRoZSBjdXJzb3Jcbmlzbid0IGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgaW5kZW50YXRpb24sIHRoaXMgd2lsbCBtb3ZlIHRvIHRoZVxuZW5kIG9mIHRoZSBpbmRlbnRhdGlvbiBpbnN0ZWFkIG9mIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGZhbHNlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgbGluZSB3cmFwIHBvaW50IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeUxlZnQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBsaW5lIHdyYXAgcG9pbnQgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeVJpZ2h0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCByYW5nZSwgbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lU3RhcnQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLmZyb20sIDEpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3QgY3Vyc29yTGluZUVuZCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkudG8sIC0xKSk7XG5mdW5jdGlvbiB0b01hdGNoaW5nQnJhY2tldChzdGF0ZSwgZGlzcGF0Y2gsIGV4dGVuZCkge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlLCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIGxldCBtYXRjaGluZyA9IG1hdGNoQnJhY2tldHMoc3RhdGUsIHJhbmdlLmhlYWQsIC0xKVxuICAgICAgICAgICAgfHwgbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCwgMSlcbiAgICAgICAgICAgIHx8IChyYW5nZS5oZWFkID4gMCAmJiBtYXRjaEJyYWNrZXRzKHN0YXRlLCByYW5nZS5oZWFkIC0gMSwgMSkpXG4gICAgICAgICAgICB8fCAocmFuZ2UuaGVhZCA8IHN0YXRlLmRvYy5sZW5ndGggJiYgbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCArIDEsIC0xKSk7XG4gICAgICAgIGlmICghbWF0Y2hpbmcgfHwgIW1hdGNoaW5nLmVuZClcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICBsZXQgaGVhZCA9IG1hdGNoaW5nLnN0YXJ0LmZyb20gPT0gcmFuZ2UuaGVhZCA/IG1hdGNoaW5nLmVuZC50byA6IG1hdGNoaW5nLmVuZC5mcm9tO1xuICAgICAgICByZXR1cm4gZXh0ZW5kID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmFuY2hvciwgaGVhZCkgOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGhlYWQpO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGJyYWNrZXQgbWF0Y2hpbmcgdGhlIG9uZSBpdCBpcyBjdXJyZW50bHlcbm9uLCBpZiBhbnkuXG4qL1xuY29uc3QgY3Vyc29yTWF0Y2hpbmdCcmFja2V0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHRvTWF0Y2hpbmdCcmFja2V0KHN0YXRlLCBkaXNwYXRjaCwgZmFsc2UpO1xuLyoqXG5FeHRlbmQgdGhlIHNlbGVjdGlvbiB0byB0aGUgYnJhY2tldCBtYXRjaGluZyB0aGUgb25lIHRoZSBzZWxlY3Rpb25cbmhlYWQgaXMgY3VycmVudGx5IG9uLCBpZiBhbnkuXG4qL1xuY29uc3Qgc2VsZWN0TWF0Y2hpbmdCcmFja2V0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHRvTWF0Y2hpbmdCcmFja2V0KHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7XG5mdW5jdGlvbiBleHRlbmRTZWwodmlldywgaG93KSB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbCh2aWV3LnN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICBsZXQgaGVhZCA9IGhvdyhyYW5nZSk7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yLCBoZWFkLmhlYWQsIGhlYWQuZ29hbENvbHVtbiwgaGVhZC5iaWRpTGV2ZWwgfHwgdW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgICBpZiAoc2VsZWN0aW9uLmVxKHZpZXcuc3RhdGUuc2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2goc2V0U2VsKHZpZXcuc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2VsZWN0QnlDaGFyKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIHRvIHRoZSBsZWZ0LCB3aGlsZSBsZWF2aW5nXG50aGUgYW5jaG9yIGluIHBsYWNlLlxuKi9cbmNvbnN0IHNlbGVjdENoYXJMZWZ0ID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhclJpZ2h0ID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckZvcndhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciBiYWNrd2FyZC5cbiovXG5jb25zdCBzZWxlY3RDaGFyQmFja3dhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBzZWxlY3RCeUdyb3VwKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZUJ5R3JvdXAocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIFtncm91cF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JHcm91cExlZnQpIHRvXG50aGUgbGVmdC5cbiovXG5jb25zdCBzZWxlY3RHcm91cExlZnQgPSB2aWV3ID0+IHNlbGVjdEJ5R3JvdXAodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBzZWxlY3RHcm91cFJpZ2h0ID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBGb3J3YXJkID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgYmFja3dhcmQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBCYWNrd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlHcm91cCh2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBzZWxlY3RCeVN1YndvcmQodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3Vid29yZCh2aWV3LCByYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgb3IgY2FtZWwtY2FzZSBzdWJ3b3JkIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0U3Vid29yZEZvcndhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5U3Vid29yZCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIG9yIHN1YndvcmQgYmFja3dhcmQuXG4qL1xuY29uc3Qgc2VsZWN0U3Vid29yZEJhY2t3YXJkID0gdmlldyA9PiBzZWxlY3RCeVN1YndvcmQodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IHNlbGVjdFN5bnRheExlZnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBzZWxlY3RTeW50YXhSaWdodCA9IHZpZXcgPT4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN5bnRheCh2aWV3LnN0YXRlLCByYW5nZSwgbHRyQXRDdXJzb3IodmlldykpKTtcbmZ1bmN0aW9uIHNlbGVjdEJ5TGluZSh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBsaW5lIHVwLlxuKi9cbmNvbnN0IHNlbGVjdExpbmVVcCA9IHZpZXcgPT4gc2VsZWN0QnlMaW5lKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGxpbmUgZG93bi5cbiovXG5jb25zdCBzZWxlY3RMaW5lRG93biA9IHZpZXcgPT4gc2VsZWN0QnlMaW5lKHZpZXcsIHRydWUpO1xuZnVuY3Rpb24gc2VsZWN0QnlQYWdlKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQsIHBhZ2VJbmZvKHZpZXcpLmhlaWdodCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgcGFnZSB1cC5cbiovXG5jb25zdCBzZWxlY3RQYWdlVXAgPSB2aWV3ID0+IHNlbGVjdEJ5UGFnZSh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBwYWdlIGRvd24uXG4qL1xuY29uc3Qgc2VsZWN0UGFnZURvd24gPSB2aWV3ID0+IHNlbGVjdEJ5UGFnZSh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIG5leHQgbGluZSBib3VuZGFyeS5cbiovXG5jb25zdCBzZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCB0cnVlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBwcmV2aW91cyBsaW5lIGJvdW5kYXJ5LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBmYWxzZSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSBib3VuZGFyeSB0byB0aGUgbGVmdC5cbiovXG5jb25zdCBzZWxlY3RMaW5lQm91bmRhcnlMZWZ0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGxpbmUgYm91bmRhcnkgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3Qgc2VsZWN0TGluZVN0YXJ0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLmZyb20pKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBzZWxlY3RMaW5lRW5kID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLnRvKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgc3RhcnQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IGN1cnNvckRvY1N0YXJ0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiAwIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiovXG5jb25zdCBjdXJzb3JEb2NFbmQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgeyBhbmNob3I6IHN0YXRlLmRvYy5sZW5ndGggfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBkb2N1bWVudC5cbiovXG5jb25zdCBzZWxlY3REb2NTdGFydCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yLCBoZWFkOiAwIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdERvY0VuZCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yLCBoZWFkOiBzdGF0ZS5kb2MubGVuZ3RoIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblNlbGVjdCB0aGUgZW50aXJlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdEFsbCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uOiB7IGFuY2hvcjogMCwgaGVhZDogc3RhdGUuZG9jLmxlbmd0aCB9LCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuRXhwYW5kIHRoZSBzZWxlY3Rpb24gdG8gY292ZXIgZW50aXJlIGxpbmVzLlxuKi9cbmNvbnN0IHNlbGVjdExpbmUgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGxldCByYW5nZXMgPSBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpLm1hcCgoeyBmcm9tLCB0byB9KSA9PiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgTWF0aC5taW4odG8gKyAxLCBzdGF0ZS5kb2MubGVuZ3RoKSkpO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7IHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMpLCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2VsZWN0IHRoZSBuZXh0IHN5bnRhY3RpYyBjb25zdHJ1Y3QgdGhhdCBpcyBsYXJnZXIgdGhhbiB0aGVcbnNlbGVjdGlvbi4gTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgaW5zb2ZhciBhcyB0aGUgbGFuZ3VhZ2Vcbltwcm92aWRlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5sYW5ndWFnZSkgeW91IHVzZSBidWlsZHMgdXAgYSBmdWxsXG5zeW50YXggdHJlZS5cbiovXG5jb25zdCBzZWxlY3RQYXJlbnRTeW50YXggPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHN0YWNrID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZVN0YWNrKHJhbmdlLmZyb20sIDEpO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBzdGFjazsgY3VyOyBjdXIgPSBjdXIubmV4dCkge1xuICAgICAgICAgICAgbGV0IHsgbm9kZSB9ID0gY3VyO1xuICAgICAgICAgICAgaWYgKCgobm9kZS5mcm9tIDwgcmFuZ2UuZnJvbSAmJiBub2RlLnRvID49IHJhbmdlLnRvKSB8fFxuICAgICAgICAgICAgICAgIChub2RlLnRvID4gcmFuZ2UudG8gJiYgbm9kZS5mcm9tIDw9IHJhbmdlLmZyb20pKSAmJlxuICAgICAgICAgICAgICAgICgoX2EgPSBub2RlLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShub2RlLnRvLCBub2RlLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9KTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2ltcGxpZnkgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLiBXaGVuIG11bHRpcGxlIHJhbmdlcyBhcmUgc2VsZWN0ZWQsXG5yZWR1Y2UgaXQgdG8gaXRzIG1haW4gcmFuZ2UuIE90aGVyd2lzZSwgaWYgdGhlIHNlbGVjdGlvbiBpc1xubm9uLWVtcHR5LCBjb252ZXJ0IGl0IHRvIGEgY3Vyc29yIHNlbGVjdGlvbi5cbiovXG5jb25zdCBzaW1wbGlmeVNlbGVjdGlvbiA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IGN1ciA9IHN0YXRlLnNlbGVjdGlvbiwgc2VsZWN0aW9uID0gbnVsbDtcbiAgICBpZiAoY3VyLnJhbmdlcy5sZW5ndGggPiAxKVxuICAgICAgICBzZWxlY3Rpb24gPSBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKFtjdXIubWFpbl0pO1xuICAgIGVsc2UgaWYgKCFjdXIubWFpbi5lbXB0eSlcbiAgICAgICAgc2VsZWN0aW9uID0gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihjdXIubWFpbi5oZWFkKV0pO1xuICAgIGlmICghc2VsZWN0aW9uKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBkZWxldGVCeSh0YXJnZXQsIGJ5KSB7XG4gICAgaWYgKHRhcmdldC5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBldmVudCA9IFwiZGVsZXRlLnNlbGVjdGlvblwiLCB7IHN0YXRlIH0gPSB0YXJnZXQ7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHJhbmdlO1xuICAgICAgICBpZiAoZnJvbSA9PSB0bykge1xuICAgICAgICAgICAgbGV0IHRvd2FyZHMgPSBieShyYW5nZSk7XG4gICAgICAgICAgICBpZiAodG93YXJkcyA8IGZyb20pIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IFwiZGVsZXRlLmJhY2t3YXJkXCI7XG4gICAgICAgICAgICAgICAgdG93YXJkcyA9IHNraXBBdG9taWModGFyZ2V0LCB0b3dhcmRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b3dhcmRzID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gXCJkZWxldGUuZm9yd2FyZFwiO1xuICAgICAgICAgICAgICAgIHRvd2FyZHMgPSBza2lwQXRvbWljKHRhcmdldCwgdG93YXJkcywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcm9tID0gTWF0aC5taW4oZnJvbSwgdG93YXJkcyk7XG4gICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCB0b3dhcmRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyb20gPSBza2lwQXRvbWljKHRhcmdldCwgZnJvbSwgZmFsc2UpO1xuICAgICAgICAgICAgdG8gPSBza2lwQXRvbWljKHRhcmdldCwgdG8sIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcm9tID09IHRvID8geyByYW5nZSB9IDogeyBjaGFuZ2VzOiB7IGZyb20sIHRvIH0sIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZyb20sIGZyb20gPCByYW5nZS5oZWFkID8gLTEgOiAxKSB9O1xuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VzLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0YXJnZXQuZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHtcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgIHVzZXJFdmVudDogZXZlbnQsXG4gICAgICAgIGVmZmVjdHM6IGV2ZW50ID09IFwiZGVsZXRlLnNlbGVjdGlvblwiID8gRWRpdG9yVmlldy5hbm5vdW5jZS5vZihzdGF0ZS5waHJhc2UoXCJTZWxlY3Rpb24gZGVsZXRlZFwiKSkgOiB1bmRlZmluZWRcbiAgICB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBza2lwQXRvbWljKHRhcmdldCwgcG9zLCBmb3J3YXJkKSB7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEVkaXRvclZpZXcpXG4gICAgICAgIGZvciAobGV0IHJhbmdlcyBvZiB0YXJnZXQuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5hdG9taWNSYW5nZXMpLm1hcChmID0+IGYodGFyZ2V0KSkpXG4gICAgICAgICAgICByYW5nZXMuYmV0d2Vlbihwb3MsIHBvcywgKGZyb20sIHRvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPCBwb3MgJiYgdG8gPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IGZvcndhcmQgPyB0byA6IGZyb207XG4gICAgICAgICAgICB9KTtcbiAgICByZXR1cm4gcG9zO1xufVxuY29uc3QgZGVsZXRlQnlDaGFyID0gKHRhcmdldCwgZm9yd2FyZCwgYnlJbmRlbnRVbml0KSA9PiBkZWxldGVCeSh0YXJnZXQsIHJhbmdlID0+IHtcbiAgICBsZXQgcG9zID0gcmFuZ2UuZnJvbSwgeyBzdGF0ZSB9ID0gdGFyZ2V0LCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBiZWZvcmUsIHRhcmdldFBvcztcbiAgICBpZiAoYnlJbmRlbnRVbml0ICYmICFmb3J3YXJkICYmIHBvcyA+IGxpbmUuZnJvbSAmJiBwb3MgPCBsaW5lLmZyb20gKyAyMDAgJiZcbiAgICAgICAgIS9bXiBcXHRdLy50ZXN0KGJlZm9yZSA9IGxpbmUudGV4dC5zbGljZSgwLCBwb3MgLSBsaW5lLmZyb20pKSkge1xuICAgICAgICBpZiAoYmVmb3JlW2JlZm9yZS5sZW5ndGggLSAxXSA9PSBcIlxcdFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBvcyAtIDE7XG4gICAgICAgIGxldCBjb2wgPSBjb3VudENvbHVtbihiZWZvcmUsIHN0YXRlLnRhYlNpemUpLCBkcm9wID0gY29sICUgZ2V0SW5kZW50VW5pdChzdGF0ZSkgfHwgZ2V0SW5kZW50VW5pdChzdGF0ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJvcCAmJiBiZWZvcmVbYmVmb3JlLmxlbmd0aCAtIDEgLSBpXSA9PSBcIiBcIjsgaSsrKVxuICAgICAgICAgICAgcG9zLS07XG4gICAgICAgIHRhcmdldFBvcyA9IHBvcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldFBvcyA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBwb3MgLSBsaW5lLmZyb20sIGZvcndhcmQsIGZvcndhcmQpICsgbGluZS5mcm9tO1xuICAgICAgICBpZiAodGFyZ2V0UG9zID09IHBvcyAmJiBsaW5lLm51bWJlciAhPSAoZm9yd2FyZCA/IHN0YXRlLmRvYy5saW5lcyA6IDEpKVxuICAgICAgICAgICAgdGFyZ2V0UG9zICs9IGZvcndhcmQgPyAxIDogLTE7XG4gICAgICAgIGVsc2UgaWYgKCFmb3J3YXJkICYmIC9bXFx1ZmUwMC1cXHVmZTBmXS8udGVzdChsaW5lLnRleHQuc2xpY2UodGFyZ2V0UG9zIC0gbGluZS5mcm9tLCBwb3MgLSBsaW5lLmZyb20pKSlcbiAgICAgICAgICAgIHRhcmdldFBvcyA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCB0YXJnZXRQb3MgLSBsaW5lLmZyb20sIGZhbHNlLCBmYWxzZSkgKyBsaW5lLmZyb207XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRQb3M7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBmb3IgY3Vyc29yIHNlbGVjdGlvbnMsIHRoZSBjaGFyYWN0ZXIgb3JcbmluZGVudGF0aW9uIHVuaXQgYmVmb3JlIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlQ2hhckJhY2t3YXJkID0gdmlldyA9PiBkZWxldGVCeUNoYXIodmlldywgZmFsc2UsIHRydWUpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiBvciB0aGUgY2hhcmFjdGVyIGJlZm9yZSB0aGUgY3Vyc29yLiBEb2VzIG5vdFxuaW1wbGVtZW50IGFueSBleHRlbmRlZCBiZWhhdmlvciBsaWtlIGRlbGV0aW5nIHdob2xlIGluZGVudGF0aW9uXG51bml0cyBpbiBvbmUgZ28uXG4qL1xuY29uc3QgZGVsZXRlQ2hhckJhY2t3YXJkU3RyaWN0ID0gdmlldyA9PiBkZWxldGVCeUNoYXIodmlldywgZmFsc2UsIGZhbHNlKTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24gb3IgdGhlIGNoYXJhY3RlciBhZnRlciB0aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGRlbGV0ZUNoYXJGb3J3YXJkID0gdmlldyA9PiBkZWxldGVCeUNoYXIodmlldywgdHJ1ZSwgZmFsc2UpO1xuY29uc3QgZGVsZXRlQnlHcm91cCA9ICh0YXJnZXQsIGZvcndhcmQpID0+IGRlbGV0ZUJ5KHRhcmdldCwgcmFuZ2UgPT4ge1xuICAgIGxldCBwb3MgPSByYW5nZS5oZWFkLCB7IHN0YXRlIH0gPSB0YXJnZXQsIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgbGV0IGNhdGVnb3JpemUgPSBzdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocG9zKTtcbiAgICBmb3IgKGxldCBjYXQgPSBudWxsOzspIHtcbiAgICAgICAgaWYgKHBvcyA9PSAoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20pKSB7XG4gICAgICAgICAgICBpZiAocG9zID09IHJhbmdlLmhlYWQgJiYgbGluZS5udW1iZXIgIT0gKGZvcndhcmQgPyBzdGF0ZS5kb2MubGluZXMgOiAxKSlcbiAgICAgICAgICAgICAgICBwb3MgKz0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZm9yd2FyZCkgKyBsaW5lLmZyb207XG4gICAgICAgIGxldCBuZXh0Q2hhciA9IGxpbmUudGV4dC5zbGljZShNYXRoLm1pbihwb3MsIG5leHQpIC0gbGluZS5mcm9tLCBNYXRoLm1heChwb3MsIG5leHQpIC0gbGluZS5mcm9tKTtcbiAgICAgICAgbGV0IG5leHRDYXQgPSBjYXRlZ29yaXplKG5leHRDaGFyKTtcbiAgICAgICAgaWYgKGNhdCAhPSBudWxsICYmIG5leHRDYXQgIT0gY2F0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChuZXh0Q2hhciAhPSBcIiBcIiB8fCBwb3MgIT0gcmFuZ2UuaGVhZClcbiAgICAgICAgICAgIGNhdCA9IG5leHRDYXQ7XG4gICAgICAgIHBvcyA9IG5leHQ7XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24gb3IgYmFja3dhcmQgdW50aWwgdGhlIGVuZCBvZiB0aGUgbmV4dFxuW2dyb3VwXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5tb3ZlQnlHcm91cCksIG9ubHkgc2tpcHBpbmcgZ3JvdXBzIG9mXG53aGl0ZXNwYWNlIHdoZW4gdGhleSBjb25zaXN0IG9mIGEgc2luZ2xlIHNwYWNlLlxuKi9cbmNvbnN0IGRlbGV0ZUdyb3VwQmFja3dhcmQgPSB0YXJnZXQgPT4gZGVsZXRlQnlHcm91cCh0YXJnZXQsIGZhbHNlKTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24gb3IgZm9yd2FyZCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBuZXh0IGdyb3VwLlxuKi9cbmNvbnN0IGRlbGV0ZUdyb3VwRm9yd2FyZCA9IHRhcmdldCA9PiBkZWxldGVCeUdyb3VwKHRhcmdldCwgdHJ1ZSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uLCBvciwgaWYgaXQgaXMgYSBjdXJzb3Igc2VsZWN0aW9uLCBkZWxldGUgdG9cbnRoZSBlbmQgb2YgdGhlIGxpbmUuIElmIHRoZSBjdXJzb3IgaXMgZGlyZWN0bHkgYXQgdGhlIGVuZCBvZiB0aGVcbmxpbmUsIGRlbGV0ZSB0aGUgbGluZSBicmVhayBhZnRlciBpdC5cbiovXG5jb25zdCBkZWxldGVUb0xpbmVFbmQgPSB2aWV3ID0+IGRlbGV0ZUJ5KHZpZXcsIHJhbmdlID0+IHtcbiAgICBsZXQgbGluZUVuZCA9IHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkudG87XG4gICAgcmV0dXJuIHJhbmdlLmhlYWQgPCBsaW5lRW5kID8gbGluZUVuZCA6IE1hdGgubWluKHZpZXcuc3RhdGUuZG9jLmxlbmd0aCwgcmFuZ2UuaGVhZCArIDEpO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uLCBvciwgaWYgaXQgaXMgYSBjdXJzb3Igc2VsZWN0aW9uLCBkZWxldGUgdG9cbnRoZSBzdGFydCBvZiB0aGUgbGluZS4gSWYgdGhlIGN1cnNvciBpcyBkaXJlY3RseSBhdCB0aGUgc3RhcnQgb2YgdGhlXG5saW5lLCBkZWxldGUgdGhlIGxpbmUgYnJlYWsgYmVmb3JlIGl0LlxuKi9cbmNvbnN0IGRlbGV0ZVRvTGluZVN0YXJ0ID0gdmlldyA9PiBkZWxldGVCeSh2aWV3LCByYW5nZSA9PiB7XG4gICAgbGV0IGxpbmVTdGFydCA9IHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkuZnJvbTtcbiAgICByZXR1cm4gcmFuZ2UuaGVhZCA+IGxpbmVTdGFydCA/IGxpbmVTdGFydCA6IE1hdGgubWF4KDAsIHJhbmdlLmhlYWQgLSAxKTtcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGlmIGl0IGlzIGEgY3Vyc29yIHNlbGVjdGlvbiwgZGVsZXRlIHRvXG50aGUgc3RhcnQgb2YgdGhlIGxpbmUgb3IgdGhlIG5leHQgbGluZSB3cmFwIGJlZm9yZSB0aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGRlbGV0ZUxpbmVCb3VuZGFyeUJhY2t3YXJkID0gdmlldyA9PiBkZWxldGVCeSh2aWV3LCByYW5nZSA9PiB7XG4gICAgbGV0IGxpbmVTdGFydCA9IHZpZXcubW92ZVRvTGluZUJvdW5kYXJ5KHJhbmdlLCBmYWxzZSkuaGVhZDtcbiAgICByZXR1cm4gcmFuZ2UuaGVhZCA+IGxpbmVTdGFydCA/IGxpbmVTdGFydCA6IE1hdGgubWF4KDAsIHJhbmdlLmhlYWQgLSAxKTtcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGlmIGl0IGlzIGEgY3Vyc29yIHNlbGVjdGlvbiwgZGVsZXRlIHRvXG50aGUgZW5kIG9mIHRoZSBsaW5lIG9yIHRoZSBuZXh0IGxpbmUgd3JhcCBhZnRlciB0aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmQgPSB2aWV3ID0+IGRlbGV0ZUJ5KHZpZXcsIHJhbmdlID0+IHtcbiAgICBsZXQgbGluZVN0YXJ0ID0gdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIHRydWUpLmhlYWQ7XG4gICAgcmV0dXJuIHJhbmdlLmhlYWQgPCBsaW5lU3RhcnQgPyBsaW5lU3RhcnQgOiBNYXRoLm1pbih2aWV3LnN0YXRlLmRvYy5sZW5ndGgsIHJhbmdlLmhlYWQgKyAxKTtcbn0pO1xuLyoqXG5EZWxldGUgYWxsIHdoaXRlc3BhY2UgZGlyZWN0bHkgYmVmb3JlIGEgbGluZSBlbmQgZnJvbSB0aGVcbmRvY3VtZW50LlxuKi9cbmNvbnN0IGRlbGV0ZVRyYWlsaW5nV2hpdGVzcGFjZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBwb3MgPSAwLCBwcmV2ID0gXCJcIiwgaXRlciA9IHN0YXRlLmRvYy5pdGVyKCk7Oykge1xuICAgICAgICBpdGVyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZXIubGluZUJyZWFrIHx8IGl0ZXIuZG9uZSkge1xuICAgICAgICAgICAgbGV0IHRyYWlsaW5nID0gcHJldi5zZWFyY2goL1xccyskLyk7XG4gICAgICAgICAgICBpZiAodHJhaWxpbmcgPiAtMSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBwb3MgLSAocHJldi5sZW5ndGggLSB0cmFpbGluZyksIHRvOiBwb3MgfSk7XG4gICAgICAgICAgICBpZiAoaXRlci5kb25lKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcHJldiA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2ID0gaXRlci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gaXRlci52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGlmICghY2hhbmdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBjaGFuZ2VzLCB1c2VyRXZlbnQ6IFwiZGVsZXRlXCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuUmVwbGFjZSBlYWNoIHNlbGVjdGlvbiByYW5nZSB3aXRoIGEgbGluZSBicmVhaywgbGVhdmluZyB0aGUgY3Vyc29yXG5vbiB0aGUgbGluZSBiZWZvcmUgdGhlIGJyZWFrLlxuKi9cbmNvbnN0IHNwbGl0TGluZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogVGV4dC5vZihbXCJcIiwgXCJcIl0pIH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tKSB9O1xuICAgIH0pO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5GbGlwIHRoZSBjaGFyYWN0ZXJzIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGN1cnNvcihzKS5cbiovXG5jb25zdCB0cmFuc3Bvc2VDaGFycyA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSB8fCByYW5nZS5mcm9tID09IDAgfHwgcmFuZ2UuZnJvbSA9PSBzdGF0ZS5kb2MubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UgfTtcbiAgICAgICAgbGV0IHBvcyA9IHJhbmdlLmZyb20sIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCBmcm9tID0gcG9zID09IGxpbmUuZnJvbSA/IHBvcyAtIDEgOiBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCBmYWxzZSkgKyBsaW5lLmZyb207XG4gICAgICAgIGxldCB0byA9IHBvcyA9PSBsaW5lLnRvID8gcG9zICsgMSA6IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBwb3MgLSBsaW5lLmZyb20sIHRydWUpICsgbGluZS5mcm9tO1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb20sIHRvLCBpbnNlcnQ6IHN0YXRlLmRvYy5zbGljZShwb3MsIHRvKS5hcHBlbmQoc3RhdGUuZG9jLnNsaWNlKGZyb20sIHBvcykpIH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih0bykgfTtcbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlcy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJtb3ZlLmNoYXJhY3RlclwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpIHtcbiAgICBsZXQgYmxvY2tzID0gW10sIHVwdG8gPSAtMTtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgIGxldCBzdGFydExpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pLCBlbmRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyYW5nZS50byk7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgJiYgcmFuZ2UudG8gPT0gZW5kTGluZS5mcm9tKVxuICAgICAgICAgICAgZW5kTGluZSA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UudG8gLSAxKTtcbiAgICAgICAgaWYgKHVwdG8gPj0gc3RhcnRMaW5lLm51bWJlcikge1xuICAgICAgICAgICAgbGV0IHByZXYgPSBibG9ja3NbYmxvY2tzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcHJldi50byA9IGVuZExpbmUudG87XG4gICAgICAgICAgICBwcmV2LnJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKHsgZnJvbTogc3RhcnRMaW5lLmZyb20sIHRvOiBlbmRMaW5lLnRvLCByYW5nZXM6IFtyYW5nZV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXB0byA9IGVuZExpbmUubnVtYmVyICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2Nrcztcbn1cbmZ1bmN0aW9uIG1vdmVMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZm9yd2FyZCkge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gW10sIHJhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IGJsb2NrIG9mIHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkpIHtcbiAgICAgICAgaWYgKGZvcndhcmQgPyBibG9jay50byA9PSBzdGF0ZS5kb2MubGVuZ3RoIDogYmxvY2suZnJvbSA9PSAwKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGxldCBuZXh0TGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZm9yd2FyZCA/IGJsb2NrLnRvICsgMSA6IGJsb2NrLmZyb20gLSAxKTtcbiAgICAgICAgbGV0IHNpemUgPSBuZXh0TGluZS5sZW5ndGggKyAxO1xuICAgICAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogYmxvY2sudG8sIHRvOiBuZXh0TGluZS50byB9LCB7IGZyb206IGJsb2NrLmZyb20sIGluc2VydDogbmV4dExpbmUudGV4dCArIHN0YXRlLmxpbmVCcmVhayB9KTtcbiAgICAgICAgICAgIGZvciAobGV0IHIgb2YgYmxvY2sucmFuZ2VzKVxuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKEVkaXRvclNlbGVjdGlvbi5yYW5nZShNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCByLmFuY2hvciArIHNpemUpLCBNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCByLmhlYWQgKyBzaXplKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbmV4dExpbmUuZnJvbSwgdG86IGJsb2NrLmZyb20gfSwgeyBmcm9tOiBibG9jay50bywgaW5zZXJ0OiBzdGF0ZS5saW5lQnJlYWsgKyBuZXh0TGluZS50ZXh0IH0pO1xuICAgICAgICAgICAgZm9yIChsZXQgciBvZiBibG9jay5yYW5nZXMpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHIuYW5jaG9yIC0gc2l6ZSwgci5oZWFkIC0gc2l6ZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghY2hhbmdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgc3RhdGUuc2VsZWN0aW9uLm1haW5JbmRleCksXG4gICAgICAgIHVzZXJFdmVudDogXCJtb3ZlLmxpbmVcIlxuICAgIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0ZWQgbGluZXMgdXAgb25lIGxpbmUuXG4qL1xuY29uc3QgbW92ZUxpbmVVcCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBtb3ZlTGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0ZWQgbGluZXMgZG93biBvbmUgbGluZS5cbiovXG5jb25zdCBtb3ZlTGluZURvd24gPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gbW92ZUxpbmUoc3RhdGUsIGRpc3BhdGNoLCB0cnVlKTtcbmZ1bmN0aW9uIGNvcHlMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZm9yd2FyZCkge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgZm9yIChsZXQgYmxvY2sgb2Ygc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKSkge1xuICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGJsb2NrLmZyb20sIGluc2VydDogc3RhdGUuZG9jLnNsaWNlKGJsb2NrLmZyb20sIGJsb2NrLnRvKSArIHN0YXRlLmxpbmVCcmVhayB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogYmxvY2sudG8sIGluc2VydDogc3RhdGUubGluZUJyZWFrICsgc3RhdGUuZG9jLnNsaWNlKGJsb2NrLmZyb20sIGJsb2NrLnRvKSB9KTtcbiAgICB9XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgY2hhbmdlcywgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dC5jb3B5bGluZVwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuQ3JlYXRlIGEgY29weSBvZiB0aGUgc2VsZWN0ZWQgbGluZXMuIEtlZXAgdGhlIHNlbGVjdGlvbiBpbiB0aGUgdG9wIGNvcHkuXG4qL1xuY29uc3QgY29weUxpbmVVcCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBjb3B5TGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKTtcbi8qKlxuQ3JlYXRlIGEgY29weSBvZiB0aGUgc2VsZWN0ZWQgbGluZXMuIEtlZXAgdGhlIHNlbGVjdGlvbiBpbiB0aGUgYm90dG9tIGNvcHkuXG4qL1xuY29uc3QgY29weUxpbmVEb3duID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IGNvcHlMaW5lKHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7XG4vKipcbkRlbGV0ZSBzZWxlY3RlZCBsaW5lcy5cbiovXG5jb25zdCBkZWxldGVMaW5lID0gdmlldyA9PiB7XG4gICAgaWYgKHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZXMoc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKS5tYXAoKHsgZnJvbSwgdG8gfSkgPT4ge1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICBmcm9tLS07XG4gICAgICAgIGVsc2UgaWYgKHRvIDwgc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHRvKys7XG4gICAgICAgIHJldHVybiB7IGZyb20sIHRvIH07XG4gICAgfSkpO1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIGxldCBkaXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodmlldy5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICAgIGxldCBibG9jayA9IHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCksIHBvcyA9IHZpZXcuY29vcmRzQXRQb3MocmFuZ2UuaGVhZCwgcmFuZ2UuYXNzb2MgfHwgMSk7XG4gICAgICAgICAgICBpZiAocG9zKVxuICAgICAgICAgICAgICAgIGRpc3QgPSAoYmxvY2suYm90dG9tICsgdmlldy5kb2N1bWVudFRvcCkgLSBwb3MuYm90dG9tICsgdmlldy5kZWZhdWx0TGluZUhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIHRydWUsIGRpc3QpO1xuICAgIH0pLm1hcChjaGFuZ2VzKTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgY2hhbmdlcywgc2VsZWN0aW9uLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImRlbGV0ZS5saW5lXCIgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5SZXBsYWNlIHRoZSBzZWxlY3Rpb24gd2l0aCBhIG5ld2xpbmUuXG4qL1xuY29uc3QgaW5zZXJ0TmV3bGluZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHN0YXRlLnJlcGxhY2VTZWxlY3Rpb24oc3RhdGUubGluZUJyZWFrKSwgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggYSBuZXdsaW5lIGFuZCB0aGUgc2FtZSBhbW91bnQgb2ZcbmluZGVudGF0aW9uIGFzIHRoZSBsaW5lIGFib3ZlLlxuKi9cbmNvbnN0IGluc2VydE5ld2xpbmVLZWVwSW5kZW50ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGxldCBpbmRlbnQgPSAvXlxccyovLmV4ZWMoc3RhdGUuZG9jLmxpbmVBdChyYW5nZS5mcm9tKS50ZXh0KVswXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYW5nZXM6IHsgZnJvbTogcmFuZ2UuZnJvbSwgdG86IHJhbmdlLnRvLCBpbnNlcnQ6IHN0YXRlLmxpbmVCcmVhayArIGluZGVudCB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIGluZGVudC5sZW5ndGggKyAxKVxuICAgICAgICB9O1xuICAgIH0pLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZnVuY3Rpb24gaXNCZXR3ZWVuQnJhY2tldHMoc3RhdGUsIHBvcykge1xuICAgIGlmICgvXFwoXFwpfFxcW1xcXXxcXHtcXH0vLnRlc3Qoc3RhdGUuc2xpY2VEb2MocG9zIC0gMSwgcG9zICsgMSkpKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIHRvOiBwb3MgfTtcbiAgICBsZXQgY29udGV4dCA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MpO1xuICAgIGxldCBiZWZvcmUgPSBjb250ZXh0LmNoaWxkQmVmb3JlKHBvcyksIGFmdGVyID0gY29udGV4dC5jaGlsZEFmdGVyKHBvcyksIGNsb3NlZEJ5O1xuICAgIGlmIChiZWZvcmUgJiYgYWZ0ZXIgJiYgYmVmb3JlLnRvIDw9IHBvcyAmJiBhZnRlci5mcm9tID49IHBvcyAmJlxuICAgICAgICAoY2xvc2VkQnkgPSBiZWZvcmUudHlwZS5wcm9wKE5vZGVQcm9wLmNsb3NlZEJ5KSkgJiYgY2xvc2VkQnkuaW5kZXhPZihhZnRlci5uYW1lKSA+IC0xICYmXG4gICAgICAgIHN0YXRlLmRvYy5saW5lQXQoYmVmb3JlLnRvKS5mcm9tID09IHN0YXRlLmRvYy5saW5lQXQoYWZ0ZXIuZnJvbSkuZnJvbSAmJlxuICAgICAgICAhL1xcUy8udGVzdChzdGF0ZS5zbGljZURvYyhiZWZvcmUudG8sIGFmdGVyLmZyb20pKSlcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogYmVmb3JlLnRvLCB0bzogYWZ0ZXIuZnJvbSB9O1xuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG5SZXBsYWNlIHRoZSBzZWxlY3Rpb24gd2l0aCBhIG5ld2xpbmUgYW5kIGluZGVudCB0aGUgbmV3bHkgY3JlYXRlZFxubGluZShzKS4gSWYgdGhlIGN1cnJlbnQgbGluZSBjb25zaXN0cyBvbmx5IG9mIHdoaXRlc3BhY2UsIHRoaXNcbndpbGwgYWxzbyBkZWxldGUgdGhhdCB3aGl0ZXNwYWNlLiBXaGVuIHRoZSBjdXJzb3IgaXMgYmV0d2VlblxubWF0Y2hpbmcgYnJhY2tldHMsIGFuIGFkZGl0aW9uYWwgbmV3bGluZSB3aWxsIGJlIGluc2VydGVkIGFmdGVyXG50aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGluc2VydE5ld2xpbmVBbmRJbmRlbnQgPSAvKkBfX1BVUkVfXyovbmV3bGluZUFuZEluZGVudChmYWxzZSk7XG4vKipcbkNyZWF0ZSBhIGJsYW5rLCBpbmRlbnRlZCBsaW5lIGJlbG93IHRoZSBjdXJyZW50IGxpbmUuXG4qL1xuY29uc3QgaW5zZXJ0QmxhbmtMaW5lID0gLypAX19QVVJFX18qL25ld2xpbmVBbmRJbmRlbnQodHJ1ZSk7XG5mdW5jdGlvbiBuZXdsaW5lQW5kSW5kZW50KGF0RW9mKSB7XG4gICAgcmV0dXJuICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZSwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZnJvbSk7XG4gICAgICAgICAgICBsZXQgZXhwbG9kZSA9ICFhdEVvZiAmJiBmcm9tID09IHRvICYmIGlzQmV0d2VlbkJyYWNrZXRzKHN0YXRlLCBmcm9tKTtcbiAgICAgICAgICAgIGlmIChhdEVvZilcbiAgICAgICAgICAgICAgICBmcm9tID0gdG8gPSAodG8gPD0gbGluZS50byA/IGxpbmUgOiBzdGF0ZS5kb2MubGluZUF0KHRvKSkudG87XG4gICAgICAgICAgICBsZXQgY3ggPSBuZXcgSW5kZW50Q29udGV4dChzdGF0ZSwgeyBzaW11bGF0ZUJyZWFrOiBmcm9tLCBzaW11bGF0ZURvdWJsZUJyZWFrOiAhIWV4cGxvZGUgfSk7XG4gICAgICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oY3gsIGZyb20pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGluZGVudCA9IGNvdW50Q29sdW1uKC9eXFxzKi8uZXhlYyhzdGF0ZS5kb2MubGluZUF0KGZyb20pLnRleHQpWzBdLCBzdGF0ZS50YWJTaXplKTtcbiAgICAgICAgICAgIHdoaWxlICh0byA8IGxpbmUudG8gJiYgL1xccy8udGVzdChsaW5lLnRleHRbdG8gLSBsaW5lLmZyb21dKSlcbiAgICAgICAgICAgICAgICB0bysrO1xuICAgICAgICAgICAgaWYgKGV4cGxvZGUpXG4gICAgICAgICAgICAgICAgKHsgZnJvbSwgdG8gfSA9IGV4cGxvZGUpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbSA+IGxpbmUuZnJvbSAmJiBmcm9tIDwgbGluZS5mcm9tICsgMTAwICYmICEvXFxTLy50ZXN0KGxpbmUudGV4dC5zbGljZSgwLCBmcm9tKSkpXG4gICAgICAgICAgICAgICAgZnJvbSA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgIGxldCBpbnNlcnQgPSBbXCJcIiwgaW5kZW50U3RyaW5nKHN0YXRlLCBpbmRlbnQpXTtcbiAgICAgICAgICAgIGlmIChleHBsb2RlKVxuICAgICAgICAgICAgICAgIGluc2VydC5wdXNoKGluZGVudFN0cmluZyhzdGF0ZSwgY3gubGluZUluZGVudChsaW5lLmZyb20sIC0xKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tLCB0bywgaW5zZXJ0OiBUZXh0Lm9mKGluc2VydCkgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmcm9tICsgMSArIGluc2VydFsxXS5sZW5ndGgpIH07XG4gICAgICAgIH0pO1xuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIGYpIHtcbiAgICBsZXQgYXRMaW5lID0gLTE7XG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSByYW5nZS5mcm9tOyBwb3MgPD0gcmFuZ2UudG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgIGlmIChsaW5lLm51bWJlciA+IGF0TGluZSAmJiAocmFuZ2UuZW1wdHkgfHwgcmFuZ2UudG8gPiBsaW5lLmZyb20pKSB7XG4gICAgICAgICAgICAgICAgZihsaW5lLCBjaGFuZ2VzLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgYXRMaW5lID0gbGluZS5udW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hhbmdlU2V0ID0gc3RhdGUuY2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoY2hhbmdlU2V0Lm1hcFBvcyhyYW5nZS5hbmNob3IsIDEpLCBjaGFuZ2VTZXQubWFwUG9zKHJhbmdlLmhlYWQsIDEpKSB9O1xuICAgIH0pO1xufVxuLyoqXG5BdXRvLWluZGVudCB0aGUgc2VsZWN0ZWQgbGluZXMuIFRoaXMgdXNlcyB0aGUgW2luZGVudGF0aW9uIHNlcnZpY2VcbmZhY2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFNlcnZpY2UpIGFzIHNvdXJjZSBmb3IgYXV0by1pbmRlbnRcbmluZm9ybWF0aW9uLlxuKi9cbmNvbnN0IGluZGVudFNlbGVjdGlvbiA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHVwZGF0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb250ZXh0ID0gbmV3IEluZGVudENvbnRleHQoc3RhdGUsIHsgb3ZlcnJpZGVJbmRlbnRhdGlvbjogc3RhcnQgPT4ge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdXBkYXRlZFtzdGFydF07XG4gICAgICAgICAgICByZXR1cm4gZm91bmQgPT0gbnVsbCA/IC0xIDogZm91bmQ7XG4gICAgICAgIH0gfSk7XG4gICAgbGV0IGNoYW5nZXMgPSBjaGFuZ2VCeVNlbGVjdGVkTGluZShzdGF0ZSwgKGxpbmUsIGNoYW5nZXMsIHJhbmdlKSA9PiB7XG4gICAgICAgIGxldCBpbmRlbnQgPSBnZXRJbmRlbnRhdGlvbihjb250ZXh0LCBsaW5lLmZyb20pO1xuICAgICAgICBpZiAoaW5kZW50ID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghL1xcUy8udGVzdChsaW5lLnRleHQpKVxuICAgICAgICAgICAgaW5kZW50ID0gMDtcbiAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgaWYgKGN1ciAhPSBub3JtIHx8IHJhbmdlLmZyb20gPCBsaW5lLmZyb20gKyBjdXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB1cGRhdGVkW2xpbmUuZnJvbV0gPSBpbmRlbnQ7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWNoYW5nZXMuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgdXNlckV2ZW50OiBcImluZGVudFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkFkZCBhIFt1bml0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIG9mIGluZGVudGF0aW9uIHRvIGFsbCBzZWxlY3RlZFxubGluZXMuXG4qL1xuY29uc3QgaW5kZW50TW9yZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZUJ5U2VsZWN0ZWRMaW5lKHN0YXRlLCAobGluZSwgY2hhbmdlcykgPT4ge1xuICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIGluc2VydDogc3RhdGUuZmFjZXQoaW5kZW50VW5pdCkgfSk7XG4gICAgfSksIHsgdXNlckV2ZW50OiBcImlucHV0LmluZGVudFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlbW92ZSBhIFt1bml0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIG9mIGluZGVudGF0aW9uIGZyb20gYWxsXG5zZWxlY3RlZCBsaW5lcy5cbiovXG5jb25zdCBpbmRlbnRMZXNzID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIChsaW5lLCBjaGFuZ2VzKSA9PiB7XG4gICAgICAgIGxldCBzcGFjZSA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBpZiAoIXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY29sID0gY291bnRDb2x1bW4oc3BhY2UsIHN0YXRlLnRhYlNpemUpLCBrZWVwID0gMDtcbiAgICAgICAgbGV0IGluc2VydCA9IGluZGVudFN0cmluZyhzdGF0ZSwgTWF0aC5tYXgoMCwgY29sIC0gZ2V0SW5kZW50VW5pdChzdGF0ZSkpKTtcbiAgICAgICAgd2hpbGUgKGtlZXAgPCBzcGFjZS5sZW5ndGggJiYga2VlcCA8IGluc2VydC5sZW5ndGggJiYgc3BhY2UuY2hhckNvZGVBdChrZWVwKSA9PSBpbnNlcnQuY2hhckNvZGVBdChrZWVwKSlcbiAgICAgICAgICAgIGtlZXArKztcbiAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tICsga2VlcCwgdG86IGxpbmUuZnJvbSArIHNwYWNlLmxlbmd0aCwgaW5zZXJ0OiBpbnNlcnQuc2xpY2Uoa2VlcCkgfSk7XG4gICAgfSksIHsgdXNlckV2ZW50OiBcImRlbGV0ZS5kZWRlbnRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5FbmFibGVzIG9yIGRpc2FibGVzXG5bdGFiLWZvY3VzIG1vZGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnNldFRhYkZvY3VzTW9kZSkuIFdoaWxlIG9uLCB0aGlzXG5wcmV2ZW50cyB0aGUgZWRpdG9yJ3Mga2V5IGJpbmRpbmdzIGZyb20gY2FwdHVyaW5nIFRhYiBvclxuU2hpZnQtVGFiLCBtYWtpbmcgaXQgcG9zc2libGUgZm9yIHRoZSB1c2VyIHRvIG1vdmUgZm9jdXMgb3V0IG9mXG50aGUgZWRpdG9yIHdpdGggdGhlIGtleWJvYXJkLlxuKi9cbmNvbnN0IHRvZ2dsZVRhYkZvY3VzTW9kZSA9IHZpZXcgPT4ge1xuICAgIHZpZXcuc2V0VGFiRm9jdXNNb2RlKCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5UZW1wb3JhcmlseSBlbmFibGVzIFt0YWItZm9jdXNcbm1vZGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnNldFRhYkZvY3VzTW9kZSkgZm9yIHR3byBzZWNvbmRzIG9yIHVudGlsXG5hbm90aGVyIGtleSBpcyBwcmVzc2VkLlxuKi9cbmNvbnN0IHRlbXBvcmFyaWx5U2V0VGFiRm9jdXNNb2RlID0gdmlldyA9PiB7XG4gICAgdmlldy5zZXRUYWJGb2N1c01vZGUoMjAwMCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5JbnNlcnQgYSB0YWIgY2hhcmFjdGVyIGF0IHRoZSBjdXJzb3Igb3IsIGlmIHNvbWV0aGluZyBpcyBzZWxlY3RlZCxcbnVzZSBbYGluZGVudE1vcmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudE1vcmUpIHRvIGluZGVudCB0aGUgZW50aXJlXG5zZWxlY3Rpb24uXG4qL1xuY29uc3QgaW5zZXJ0VGFiID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5zb21lKHIgPT4gIXIuZW1wdHkpKVxuICAgICAgICByZXR1cm4gaW5kZW50TW9yZSh7IHN0YXRlLCBkaXNwYXRjaCB9KTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoc3RhdGUucmVwbGFjZVNlbGVjdGlvbihcIlxcdFwiKSwgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuQXJyYXkgb2Yga2V5IGJpbmRpbmdzIGNvbnRhaW5pbmcgdGhlIEVtYWNzLXN0eWxlIGJpbmRpbmdzIHRoYXQgYXJlXG5hdmFpbGFibGUgb24gbWFjT1MgYnkgZGVmYXVsdC5cblxuIC0gQ3RybC1iOiBbYGN1cnNvckNoYXJMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JDaGFyTGVmdCkgKFtgc2VsZWN0Q2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJMZWZ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1mOiBbYGN1cnNvckNoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhclJpZ2h0KSAoW2BzZWxlY3RDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJSaWdodCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtcDogW2BjdXJzb3JMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVVcCkgKFtgc2VsZWN0TGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lVXApIHdpdGggU2hpZnQpXG4gLSBDdHJsLW46IFtgY3Vyc29yTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVEb3duKSAoW2BzZWxlY3RMaW5lRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZURvd24pIHdpdGggU2hpZnQpXG4gLSBDdHJsLWE6IFtgY3Vyc29yTGluZVN0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lU3RhcnQpIChbYHNlbGVjdExpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVN0YXJ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1lOiBbYGN1cnNvckxpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVFbmQpIChbYHNlbGVjdExpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVFbmQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLWQ6IFtgZGVsZXRlQ2hhckZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJGb3J3YXJkKVxuIC0gQ3RybC1oOiBbYGRlbGV0ZUNoYXJCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckJhY2t3YXJkKVxuIC0gQ3RybC1rOiBbYGRlbGV0ZVRvTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlVG9MaW5lRW5kKVxuIC0gQ3RybC1BbHQtaDogW2BkZWxldGVHcm91cEJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVHcm91cEJhY2t3YXJkKVxuIC0gQ3RybC1vOiBbYHNwbGl0TGluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc3BsaXRMaW5lKVxuIC0gQ3RybC10OiBbYHRyYW5zcG9zZUNoYXJzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50cmFuc3Bvc2VDaGFycylcbiAtIEN0cmwtdjogW2BjdXJzb3JQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZURvd24pXG4gLSBBbHQtdjogW2BjdXJzb3JQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VVcClcbiovXG5jb25zdCBlbWFjc1N0eWxlS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtYlwiLCBydW46IGN1cnNvckNoYXJMZWZ0LCBzaGlmdDogc2VsZWN0Q2hhckxlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1mXCIsIHJ1bjogY3Vyc29yQ2hhclJpZ2h0LCBzaGlmdDogc2VsZWN0Q2hhclJpZ2h0IH0sXG4gICAgeyBrZXk6IFwiQ3RybC1wXCIsIHJ1bjogY3Vyc29yTGluZVVwLCBzaGlmdDogc2VsZWN0TGluZVVwIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1uXCIsIHJ1bjogY3Vyc29yTGluZURvd24sIHNoaWZ0OiBzZWxlY3RMaW5lRG93biB9LFxuICAgIHsga2V5OiBcIkN0cmwtYVwiLCBydW46IGN1cnNvckxpbmVTdGFydCwgc2hpZnQ6IHNlbGVjdExpbmVTdGFydCB9LFxuICAgIHsga2V5OiBcIkN0cmwtZVwiLCBydW46IGN1cnNvckxpbmVFbmQsIHNoaWZ0OiBzZWxlY3RMaW5lRW5kIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1kXCIsIHJ1bjogZGVsZXRlQ2hhckZvcndhcmQgfSxcbiAgICB7IGtleTogXCJDdHJsLWhcIiwgcnVuOiBkZWxldGVDaGFyQmFja3dhcmQgfSxcbiAgICB7IGtleTogXCJDdHJsLWtcIiwgcnVuOiBkZWxldGVUb0xpbmVFbmQgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1oXCIsIHJ1bjogZGVsZXRlR3JvdXBCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIkN0cmwtb1wiLCBydW46IHNwbGl0TGluZSB9LFxuICAgIHsga2V5OiBcIkN0cmwtdFwiLCBydW46IHRyYW5zcG9zZUNoYXJzIH0sXG4gICAgeyBrZXk6IFwiQ3RybC12XCIsIHJ1bjogY3Vyc29yUGFnZURvd24gfSxcbl07XG4vKipcbkFuIGFycmF5IG9mIGtleSBiaW5kaW5ncyBjbG9zZWx5IHN0aWNraW5nIHRvIHBsYXRmb3JtLXN0YW5kYXJkIG9yXG53aWRlbHkgdXNlZCBiaW5kaW5ncy4gKFRoaXMgaW5jbHVkZXMgdGhlIGJpbmRpbmdzIGZyb21cbltgZW1hY3NTdHlsZUtleW1hcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZW1hY3NTdHlsZUtleW1hcCksIHdpdGggdGhlaXIgYGtleWBcbnByb3BlcnR5IGNoYW5nZWQgdG8gYG1hY2AuKVxuXG4gLSBBcnJvd0xlZnQ6IFtgY3Vyc29yQ2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckNoYXJMZWZ0KSAoW2BzZWxlY3RDaGFyTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0Q2hhckxlZnQpIHdpdGggU2hpZnQpXG4gLSBBcnJvd1JpZ2h0OiBbYGN1cnNvckNoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhclJpZ2h0KSAoW2BzZWxlY3RDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJSaWdodCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtQXJyb3dMZWZ0IChBbHQtQXJyb3dMZWZ0IG9uIG1hY09TKTogW2BjdXJzb3JHcm91cExlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckdyb3VwTGVmdCkgKFtgc2VsZWN0R3JvdXBMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RHcm91cExlZnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93UmlnaHQgKEFsdC1BcnJvd1JpZ2h0IG9uIG1hY09TKTogW2BjdXJzb3JHcm91cFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JHcm91cFJpZ2h0KSAoW2BzZWxlY3RHcm91cFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RHcm91cFJpZ2h0KSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93TGVmdCAob24gbWFjT1MpOiBbYGN1cnNvckxpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZVN0YXJ0KSAoW2BzZWxlY3RMaW5lU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVTdGFydCkgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd1JpZ2h0IChvbiBtYWNPUyk6IFtgY3Vyc29yTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUVuZCkgKFtgc2VsZWN0TGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZUVuZCkgd2l0aCBTaGlmdClcbiAtIEFycm93VXA6IFtgY3Vyc29yTGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lVXApIChbYHNlbGVjdExpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVVwKSB3aXRoIFNoaWZ0KVxuIC0gQXJyb3dEb3duOiBbYGN1cnNvckxpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lRG93bikgKFtgc2VsZWN0TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVEb3duKSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93VXAgKG9uIG1hY09TKTogW2BjdXJzb3JEb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jU3RhcnQpIChbYHNlbGVjdERvY1N0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NTdGFydCkgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd0Rvd24gKG9uIG1hY09TKTogW2BjdXJzb3JEb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY0VuZCkgKFtgc2VsZWN0RG9jRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NFbmQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93VXAgKG9uIG1hY09TKTogW2BjdXJzb3JQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VVcCkgKFtgc2VsZWN0UGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYWdlVXApIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93RG93biAob24gbWFjT1MpOiBbYGN1cnNvclBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlRG93bikgKFtgc2VsZWN0UGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VEb3duKSB3aXRoIFNoaWZ0KVxuIC0gUGFnZVVwOiBbYGN1cnNvclBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZVVwKSAoW2BzZWxlY3RQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VVcCkgd2l0aCBTaGlmdClcbiAtIFBhZ2VEb3duOiBbYGN1cnNvclBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlRG93bikgKFtgc2VsZWN0UGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VEb3duKSB3aXRoIFNoaWZ0KVxuIC0gSG9tZTogW2BjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmQpIChbYHNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZCkgd2l0aCBTaGlmdClcbiAtIEVuZDogW2BjdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkKSAoW2BzZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1Ib21lIChDbWQtSG9tZSBvbiBtYWNPUyk6IFtgY3Vyc29yRG9jU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY1N0YXJ0KSAoW2BzZWxlY3REb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0RG9jU3RhcnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUVuZCAoQ21kLUhvbWUgb24gbWFjT1MpOiBbYGN1cnNvckRvY0VuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jRW5kKSAoW2BzZWxlY3REb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdERvY0VuZCkgd2l0aCBTaGlmdClcbiAtIEVudGVyOiBbYGluc2VydE5ld2xpbmVBbmRJbmRlbnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluc2VydE5ld2xpbmVBbmRJbmRlbnQpXG4gLSBDdHJsLWEgKENtZC1hIG9uIG1hY09TKTogW2BzZWxlY3RBbGxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdEFsbClcbiAtIEJhY2tzcGFjZTogW2BkZWxldGVDaGFyQmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJCYWNrd2FyZClcbiAtIERlbGV0ZTogW2BkZWxldGVDaGFyRm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckZvcndhcmQpXG4gLSBDdHJsLUJhY2tzcGFjZSAoQWx0LUJhY2tzcGFjZSBvbiBtYWNPUyk6IFtgZGVsZXRlR3JvdXBCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlR3JvdXBCYWNrd2FyZClcbiAtIEN0cmwtRGVsZXRlIChBbHQtRGVsZXRlIG9uIG1hY09TKTogW2BkZWxldGVHcm91cEZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUdyb3VwRm9yd2FyZClcbiAtIENtZC1CYWNrc3BhY2UgKG1hY09TKTogW2BkZWxldGVMaW5lQm91bmRhcnlCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQpLlxuIC0gQ21kLURlbGV0ZSAobWFjT1MpOiBbYGRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmQpLlxuKi9cbmNvbnN0IHN0YW5kYXJkS2V5bWFwID0gLypAX19QVVJFX18qL1tcbiAgICB7IGtleTogXCJBcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JDaGFyTGVmdCwgc2hpZnQ6IHNlbGVjdENoYXJMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1BcnJvd0xlZnRcIiwgbWFjOiBcIkFsdC1BcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JHcm91cExlZnQsIHNoaWZ0OiBzZWxlY3RHcm91cExlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93TGVmdFwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeUxlZnQsIHNoaWZ0OiBzZWxlY3RMaW5lQm91bmRhcnlMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIkFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JDaGFyUmlnaHQsIHNoaWZ0OiBzZWxlY3RDaGFyUmlnaHQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUFycm93UmlnaHRcIiwgbWFjOiBcIkFsdC1BcnJvd1JpZ2h0XCIsIHJ1bjogY3Vyc29yR3JvdXBSaWdodCwgc2hpZnQ6IHNlbGVjdEdyb3VwUmlnaHQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JMaW5lQm91bmRhcnlSaWdodCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIkFycm93VXBcIiwgcnVuOiBjdXJzb3JMaW5lVXAsIHNoaWZ0OiBzZWxlY3RMaW5lVXAsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93VXBcIiwgcnVuOiBjdXJzb3JEb2NTdGFydCwgc2hpZnQ6IHNlbGVjdERvY1N0YXJ0IH0sXG4gICAgeyBtYWM6IFwiQ3RybC1BcnJvd1VwXCIsIHJ1bjogY3Vyc29yUGFnZVVwLCBzaGlmdDogc2VsZWN0UGFnZVVwIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dEb3duXCIsIHJ1bjogY3Vyc29yTGluZURvd24sIHNoaWZ0OiBzZWxlY3RMaW5lRG93biwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IG1hYzogXCJDbWQtQXJyb3dEb3duXCIsIHJ1bjogY3Vyc29yRG9jRW5kLCBzaGlmdDogc2VsZWN0RG9jRW5kIH0sXG4gICAgeyBtYWM6IFwiQ3RybC1BcnJvd0Rvd25cIiwgcnVuOiBjdXJzb3JQYWdlRG93biwgc2hpZnQ6IHNlbGVjdFBhZ2VEb3duIH0sXG4gICAgeyBrZXk6IFwiUGFnZVVwXCIsIHJ1bjogY3Vyc29yUGFnZVVwLCBzaGlmdDogc2VsZWN0UGFnZVVwIH0sXG4gICAgeyBrZXk6IFwiUGFnZURvd25cIiwgcnVuOiBjdXJzb3JQYWdlRG93biwgc2hpZnQ6IHNlbGVjdFBhZ2VEb3duIH0sXG4gICAgeyBrZXk6IFwiSG9tZVwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkLCBzaGlmdDogc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUhvbWVcIiwgcnVuOiBjdXJzb3JEb2NTdGFydCwgc2hpZnQ6IHNlbGVjdERvY1N0YXJ0IH0sXG4gICAgeyBrZXk6IFwiRW5kXCIsIHJ1bjogY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUVuZFwiLCBydW46IGN1cnNvckRvY0VuZCwgc2hpZnQ6IHNlbGVjdERvY0VuZCB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIHJ1bjogaW5zZXJ0TmV3bGluZUFuZEluZGVudCB9LFxuICAgIHsga2V5OiBcIk1vZC1hXCIsIHJ1bjogc2VsZWN0QWxsIH0sXG4gICAgeyBrZXk6IFwiQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlQ2hhckJhY2t3YXJkLCBzaGlmdDogZGVsZXRlQ2hhckJhY2t3YXJkIH0sXG4gICAgeyBrZXk6IFwiRGVsZXRlXCIsIHJ1bjogZGVsZXRlQ2hhckZvcndhcmQgfSxcbiAgICB7IGtleTogXCJNb2QtQmFja3NwYWNlXCIsIG1hYzogXCJBbHQtQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlR3JvdXBCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIk1vZC1EZWxldGVcIiwgbWFjOiBcIkFsdC1EZWxldGVcIiwgcnVuOiBkZWxldGVHcm91cEZvcndhcmQgfSxcbiAgICB7IG1hYzogXCJNb2QtQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQgfSxcbiAgICB7IG1hYzogXCJNb2QtRGVsZXRlXCIsIHJ1bjogZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZCB9XG5dLmNvbmNhdCgvKkBfX1BVUkVfXyovZW1hY3NTdHlsZUtleW1hcC5tYXAoYiA9PiAoeyBtYWM6IGIua2V5LCBydW46IGIucnVuLCBzaGlmdDogYi5zaGlmdCB9KSkpO1xuLyoqXG5UaGUgZGVmYXVsdCBrZXltYXAuIEluY2x1ZGVzIGFsbCBiaW5kaW5ncyBmcm9tXG5bYHN0YW5kYXJkS2V5bWFwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zdGFuZGFyZEtleW1hcCkgcGx1cyB0aGUgZm9sbG93aW5nOlxuXG4tIEFsdC1BcnJvd0xlZnQgKEN0cmwtQXJyb3dMZWZ0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JTeW50YXhMZWZ0KSAoW2BzZWxlY3RTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhMZWZ0KSB3aXRoIFNoaWZ0KVxuLSBBbHQtQXJyb3dSaWdodCAoQ3RybC1BcnJvd1JpZ2h0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yU3ludGF4UmlnaHQpIChbYHNlbGVjdFN5bnRheFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhSaWdodCkgd2l0aCBTaGlmdClcbi0gQWx0LUFycm93VXA6IFtgbW92ZUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMubW92ZUxpbmVVcClcbi0gQWx0LUFycm93RG93bjogW2Btb3ZlTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLm1vdmVMaW5lRG93bilcbi0gU2hpZnQtQWx0LUFycm93VXA6IFtgY29weUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY29weUxpbmVVcClcbi0gU2hpZnQtQWx0LUFycm93RG93bjogW2Bjb3B5TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmNvcHlMaW5lRG93bilcbi0gRXNjYXBlOiBbYHNpbXBsaWZ5U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zaW1wbGlmeVNlbGVjdGlvbilcbi0gQ3RybC1FbnRlciAoQ21kLUVudGVyIG9uIG1hY09TKTogW2BpbnNlcnRCbGFua0xpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluc2VydEJsYW5rTGluZSlcbi0gQWx0LWwgKEN0cmwtbCBvbiBtYWNPUyk6IFtgc2VsZWN0TGluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZSlcbi0gQ3RybC1pIChDbWQtaSBvbiBtYWNPUyk6IFtgc2VsZWN0UGFyZW50U3ludGF4YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYXJlbnRTeW50YXgpXG4tIEN0cmwtWyAoQ21kLVsgb24gbWFjT1MpOiBbYGluZGVudExlc3NgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudExlc3MpXG4tIEN0cmwtXSAoQ21kLV0gb24gbWFjT1MpOiBbYGluZGVudE1vcmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudE1vcmUpXG4tIEN0cmwtQWx0LVxcXFwgKENtZC1BbHQtXFxcXCBvbiBtYWNPUyk6IFtgaW5kZW50U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRTZWxlY3Rpb24pXG4tIFNoaWZ0LUN0cmwtayAoU2hpZnQtQ21kLWsgb24gbWFjT1MpOiBbYGRlbGV0ZUxpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUxpbmUpXG4tIFNoaWZ0LUN0cmwtXFxcXCAoU2hpZnQtQ21kLVxcXFwgb24gbWFjT1MpOiBbYGN1cnNvck1hdGNoaW5nQnJhY2tldGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTWF0Y2hpbmdCcmFja2V0KVxuLSBDdHJsLS8gKENtZC0vIG9uIG1hY09TKTogW2B0b2dnbGVDb21tZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50b2dnbGVDb21tZW50KS5cbi0gU2hpZnQtQWx0LWE6IFtgdG9nZ2xlQmxvY2tDb21tZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50b2dnbGVCbG9ja0NvbW1lbnQpLlxuLSBDdHJsLW0gKEFsdC1TaGlmdC1tIG9uIG1hY09TKTogW2B0b2dnbGVUYWJGb2N1c01vZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnRvZ2dsZVRhYkZvY3VzTW9kZSkuXG4qL1xuY29uc3QgZGVmYXVsdEtleW1hcCA9IC8qQF9fUFVSRV9fKi9bXG4gICAgeyBrZXk6IFwiQWx0LUFycm93TGVmdFwiLCBtYWM6IFwiQ3RybC1BcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JTeW50YXhMZWZ0LCBzaGlmdDogc2VsZWN0U3ludGF4TGVmdCB9LFxuICAgIHsga2V5OiBcIkFsdC1BcnJvd1JpZ2h0XCIsIG1hYzogXCJDdHJsLUFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JTeW50YXhSaWdodCwgc2hpZnQ6IHNlbGVjdFN5bnRheFJpZ2h0IH0sXG4gICAgeyBrZXk6IFwiQWx0LUFycm93VXBcIiwgcnVuOiBtb3ZlTGluZVVwIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtQWx0LUFycm93VXBcIiwgcnVuOiBjb3B5TGluZVVwIH0sXG4gICAgeyBrZXk6IFwiQWx0LUFycm93RG93blwiLCBydW46IG1vdmVMaW5lRG93biB9LFxuICAgIHsga2V5OiBcIlNoaWZ0LUFsdC1BcnJvd0Rvd25cIiwgcnVuOiBjb3B5TGluZURvd24gfSxcbiAgICB7IGtleTogXCJFc2NhcGVcIiwgcnVuOiBzaW1wbGlmeVNlbGVjdGlvbiB9LFxuICAgIHsga2V5OiBcIk1vZC1FbnRlclwiLCBydW46IGluc2VydEJsYW5rTGluZSB9LFxuICAgIHsga2V5OiBcIkFsdC1sXCIsIG1hYzogXCJDdHJsLWxcIiwgcnVuOiBzZWxlY3RMaW5lIH0sXG4gICAgeyBrZXk6IFwiTW9kLWlcIiwgcnVuOiBzZWxlY3RQYXJlbnRTeW50YXgsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLVtcIiwgcnVuOiBpbmRlbnRMZXNzIH0sXG4gICAgeyBrZXk6IFwiTW9kLV1cIiwgcnVuOiBpbmRlbnRNb3JlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUFsdC1cXFxcXCIsIHJ1bjogaW5kZW50U2VsZWN0aW9uIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtTW9kLWtcIiwgcnVuOiBkZWxldGVMaW5lIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtTW9kLVxcXFxcIiwgcnVuOiBjdXJzb3JNYXRjaGluZ0JyYWNrZXQgfSxcbiAgICB7IGtleTogXCJNb2QtL1wiLCBydW46IHRvZ2dsZUNvbW1lbnQgfSxcbiAgICB7IGtleTogXCJBbHQtQVwiLCBydW46IHRvZ2dsZUJsb2NrQ29tbWVudCB9LFxuICAgIHsga2V5OiBcIkN0cmwtbVwiLCBtYWM6IFwiU2hpZnQtQWx0LW1cIiwgcnVuOiB0b2dnbGVUYWJGb2N1c01vZGUgfSxcbl0uY29uY2F0KHN0YW5kYXJkS2V5bWFwKTtcbi8qKlxuQSBiaW5kaW5nIHRoYXQgYmluZHMgVGFiIHRvIFtgaW5kZW50TW9yZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50TW9yZSkgYW5kXG5TaGlmdC1UYWIgdG8gW2BpbmRlbnRMZXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRMZXNzKS5cblBsZWFzZSBzZWUgdGhlIFtUYWIgZXhhbXBsZV0oLi4vLi4vZXhhbXBsZXMvdGFiLykgYmVmb3JlIHVzaW5nXG50aGlzLlxuKi9cbmNvbnN0IGluZGVudFdpdGhUYWIgPSB7IGtleTogXCJUYWJcIiwgcnVuOiBpbmRlbnRNb3JlLCBzaGlmdDogaW5kZW50TGVzcyB9O1xuXG5leHBvcnQgeyBibG9ja0NvbW1lbnQsIGJsb2NrVW5jb21tZW50LCBjb3B5TGluZURvd24sIGNvcHlMaW5lVXAsIGN1cnNvckNoYXJCYWNrd2FyZCwgY3Vyc29yQ2hhckZvcndhcmQsIGN1cnNvckNoYXJMZWZ0LCBjdXJzb3JDaGFyUmlnaHQsIGN1cnNvckRvY0VuZCwgY3Vyc29yRG9jU3RhcnQsIGN1cnNvckdyb3VwQmFja3dhcmQsIGN1cnNvckdyb3VwRm9yd2FyZCwgY3Vyc29yR3JvdXBMZWZ0LCBjdXJzb3JHcm91cFJpZ2h0LCBjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCwgY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCwgY3Vyc29yTGluZUJvdW5kYXJ5TGVmdCwgY3Vyc29yTGluZUJvdW5kYXJ5UmlnaHQsIGN1cnNvckxpbmVEb3duLCBjdXJzb3JMaW5lRW5kLCBjdXJzb3JMaW5lU3RhcnQsIGN1cnNvckxpbmVVcCwgY3Vyc29yTWF0Y2hpbmdCcmFja2V0LCBjdXJzb3JQYWdlRG93biwgY3Vyc29yUGFnZVVwLCBjdXJzb3JTdWJ3b3JkQmFja3dhcmQsIGN1cnNvclN1YndvcmRGb3J3YXJkLCBjdXJzb3JTeW50YXhMZWZ0LCBjdXJzb3JTeW50YXhSaWdodCwgZGVmYXVsdEtleW1hcCwgZGVsZXRlQ2hhckJhY2t3YXJkLCBkZWxldGVDaGFyQmFja3dhcmRTdHJpY3QsIGRlbGV0ZUNoYXJGb3J3YXJkLCBkZWxldGVHcm91cEJhY2t3YXJkLCBkZWxldGVHcm91cEZvcndhcmQsIGRlbGV0ZUxpbmUsIGRlbGV0ZUxpbmVCb3VuZGFyeUJhY2t3YXJkLCBkZWxldGVMaW5lQm91bmRhcnlGb3J3YXJkLCBkZWxldGVUb0xpbmVFbmQsIGRlbGV0ZVRvTGluZVN0YXJ0LCBkZWxldGVUcmFpbGluZ1doaXRlc3BhY2UsIGVtYWNzU3R5bGVLZXltYXAsIGhpc3RvcnksIGhpc3RvcnlGaWVsZCwgaGlzdG9yeUtleW1hcCwgaW5kZW50TGVzcywgaW5kZW50TW9yZSwgaW5kZW50U2VsZWN0aW9uLCBpbmRlbnRXaXRoVGFiLCBpbnNlcnRCbGFua0xpbmUsIGluc2VydE5ld2xpbmUsIGluc2VydE5ld2xpbmVBbmRJbmRlbnQsIGluc2VydE5ld2xpbmVLZWVwSW5kZW50LCBpbnNlcnRUYWIsIGludmVydGVkRWZmZWN0cywgaXNvbGF0ZUhpc3RvcnksIGxpbmVDb21tZW50LCBsaW5lVW5jb21tZW50LCBtb3ZlTGluZURvd24sIG1vdmVMaW5lVXAsIHJlZG8sIHJlZG9EZXB0aCwgcmVkb1NlbGVjdGlvbiwgc2VsZWN0QWxsLCBzZWxlY3RDaGFyQmFja3dhcmQsIHNlbGVjdENoYXJGb3J3YXJkLCBzZWxlY3RDaGFyTGVmdCwgc2VsZWN0Q2hhclJpZ2h0LCBzZWxlY3REb2NFbmQsIHNlbGVjdERvY1N0YXJ0LCBzZWxlY3RHcm91cEJhY2t3YXJkLCBzZWxlY3RHcm91cEZvcndhcmQsIHNlbGVjdEdyb3VwTGVmdCwgc2VsZWN0R3JvdXBSaWdodCwgc2VsZWN0TGluZSwgc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQsIHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQsIHNlbGVjdExpbmVCb3VuZGFyeUxlZnQsIHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0LCBzZWxlY3RMaW5lRG93biwgc2VsZWN0TGluZUVuZCwgc2VsZWN0TGluZVN0YXJ0LCBzZWxlY3RMaW5lVXAsIHNlbGVjdE1hdGNoaW5nQnJhY2tldCwgc2VsZWN0UGFnZURvd24sIHNlbGVjdFBhZ2VVcCwgc2VsZWN0UGFyZW50U3ludGF4LCBzZWxlY3RTdWJ3b3JkQmFja3dhcmQsIHNlbGVjdFN1YndvcmRGb3J3YXJkLCBzZWxlY3RTeW50YXhMZWZ0LCBzZWxlY3RTeW50YXhSaWdodCwgc2ltcGxpZnlTZWxlY3Rpb24sIHNwbGl0TGluZSwgc3RhbmRhcmRLZXltYXAsIHRlbXBvcmFyaWx5U2V0VGFiRm9jdXNNb2RlLCB0b2dnbGVCbG9ja0NvbW1lbnQsIHRvZ2dsZUJsb2NrQ29tbWVudEJ5TGluZSwgdG9nZ2xlQ29tbWVudCwgdG9nZ2xlTGluZUNvbW1lbnQsIHRvZ2dsZVRhYkZvY3VzTW9kZSwgdHJhbnNwb3NlQ2hhcnMsIHVuZG8sIHVuZG9EZXB0aCwgdW5kb1NlbGVjdGlvbiB9O1xuIiwKICAgICJpbXBvcnQgeyBQYXJzZXIsIE5vZGVQcm9wLCBOb2RlU2V0LCBOb2RlVHlwZSwgRGVmYXVsdEJ1ZmZlckxlbmd0aCwgVHJlZSwgSXRlck1vZGUgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxuLyoqXG5BIHBhcnNlIHN0YWNrLiBUaGVzZSBhcmUgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBwYXJzZXIgdG8gdHJhY2tcbnBhcnNpbmcgcHJvZ3Jlc3MuIFRoZXkgYWxzbyBwcm92aWRlIHNvbWUgcHJvcGVydGllcyBhbmQgbWV0aG9kc1xudGhhdCBleHRlcm5hbCBjb2RlIHN1Y2ggYXMgYSB0b2tlbml6ZXIgY2FuIHVzZSB0byBnZXQgaW5mb3JtYXRpb25cbmFib3V0IHRoZSBwYXJzZSBzdGF0ZS5cbiovXG5jbGFzcyBTdGFjayB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcGFyc2UgdGhhdCB0aGlzIHN0YWNrIGlzIHBhcnQgb2YgQGludGVybmFsXG4gICAgKi9cbiAgICBwLCBcbiAgICAvKipcbiAgICBIb2xkcyBzdGF0ZSwgaW5wdXQgcG9zLCBidWZmZXIgaW5kZXggdHJpcGxldHMgZm9yIGFsbCBidXQgdGhlXG4gICAgdG9wIHN0YXRlIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhY2ssIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IHBhcnNlIHN0YXRlIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8vIFRoZSBwb3NpdGlvbiBhdCB3aGljaCB0aGUgbmV4dCByZWR1Y2Ugc2hvdWxkIHRha2UgcGxhY2UuIFRoaXNcbiAgICAvLyBjYW4gYmUgbGVzcyB0aGFuIGB0aGlzLnBvc2Agd2hlbiBza2lwcGVkIGV4cHJlc3Npb25zIGhhdmUgYmVlblxuICAgIC8vIGFkZGVkIHRvIHRoZSBzdGFjayAod2hpY2ggc2hvdWxkIGJlIG1vdmVkIG91dHNpZGUgb2YgdGhlIG5leHRcbiAgICAvLyByZWR1Y3Rpb24pXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWR1Y2VQb3MsIFxuICAgIC8qKlxuICAgIFRoZSBpbnB1dCBwb3NpdGlvbiB1cCB0byB3aGljaCB0aGlzIHN0YWNrIGhhcyBwYXJzZWQuXG4gICAgKi9cbiAgICBwb3MsIFxuICAgIC8qKlxuICAgIFRoZSBkeW5hbWljIHNjb3JlIG9mIHRoZSBzdGFjaywgaW5jbHVkaW5nIGR5bmFtaWMgcHJlY2VkZW5jZVxuICAgIGFuZCBlcnJvci1yZWNvdmVyeSBwZW5hbHRpZXNcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNjb3JlLCBcbiAgICAvLyBUaGUgb3V0cHV0IGJ1ZmZlci4gSG9sZHMgKHR5cGUsIHN0YXJ0LCBlbmQsIHNpemUpIHF1YWRzXG4gICAgLy8gcmVwcmVzZW50aW5nIG5vZGVzIGNyZWF0ZWQgYnkgdGhlIHBhcnNlciwgd2hlcmUgYHNpemVgIGlzXG4gICAgLy8gYW1vdW50IG9mIGJ1ZmZlciBhcnJheSBlbnRyaWVzIGNvdmVyZWQgYnkgdGhpcyBub2RlLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYnVmZmVyLCBcbiAgICAvLyBUaGUgYmFzZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlci4gV2hlbiBzdGFja3MgYXJlIHNwbGl0LCB0aGUgc3BsaXRcbiAgICAvLyBpbnN0YW5jZSBzaGFyZWQgdGhlIGJ1ZmZlciBoaXN0b3J5IHdpdGggaXRzIHBhcmVudCB1cCB0b1xuICAgIC8vIGBidWZmZXJCYXNlYCwgd2hpY2ggaXMgdGhlIGFic29sdXRlIG9mZnNldCAoaW5jbHVkaW5nIHRoZVxuICAgIC8vIG9mZnNldCBvZiBwcmV2aW91cyBzcGxpdHMpIGludG8gdGhlIGJ1ZmZlciBhdCB3aGljaCB0aGlzIHN0YWNrXG4gICAgLy8gc3RhcnRzIHdyaXRpbmcuXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBidWZmZXJCYXNlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGN1ckNvbnRleHQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbG9va0FoZWFkID0gMCwgXG4gICAgLy8gQSBwYXJlbnQgc3RhY2sgZnJvbSB3aGljaCB0aGlzIHdhcyBzcGxpdCBvZmYsIGlmIGFueS4gVGhpcyBpc1xuICAgIC8vIHNldCB1cCBzbyB0aGF0IGl0IGFsd2F5cyBwb2ludHMgdG8gYSBzdGFjayB0aGF0IGhhcyBzb21lXG4gICAgLy8gYWRkaXRpb25hbCBidWZmZXIgY29udGVudCwgbmV2ZXIgdG8gYSBzdGFjayB3aXRoIGFuIGVxdWFsXG4gICAgLy8gYGJ1ZmZlckJhc2VgLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcGFyZW50KSB7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnJlZHVjZVBvcyA9IHJlZHVjZVBvcztcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuc2NvcmUgPSBzY29yZTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyQmFzZSA9IGJ1ZmZlckJhc2U7XG4gICAgICAgIHRoaXMuY3VyQ29udGV4dCA9IGN1ckNvbnRleHQ7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gbG9va0FoZWFkO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBbJHt0aGlzLnN0YWNrLmZpbHRlcigoXywgaSkgPT4gaSAlIDMgPT0gMCkuY29uY2F0KHRoaXMuc3RhdGUpfV1AJHt0aGlzLnBvc30ke3RoaXMuc2NvcmUgPyBcIiFcIiArIHRoaXMuc2NvcmUgOiBcIlwifWA7XG4gICAgfVxuICAgIC8vIFN0YXJ0IGFuIGVtcHR5IHN0YWNrXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgc3RhcnQocCwgc3RhdGUsIHBvcyA9IDApIHtcbiAgICAgICAgbGV0IGN4ID0gcC5wYXJzZXIuY29udGV4dDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFjayhwLCBbXSwgc3RhdGUsIHBvcywgcG9zLCAwLCBbXSwgMCwgY3ggPyBuZXcgU3RhY2tDb250ZXh0KGN4LCBjeC5zdGFydCkgOiBudWxsLCAwLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIHN0YWNrJ3MgY3VycmVudCBbY29udGV4dF0oI2xyLkNvbnRleHRUcmFja2VyKSB2YWx1ZSwgaWZcbiAgICBhbnkuIEl0cyB0eXBlIHdpbGwgZGVwZW5kIG9uIHRoZSBjb250ZXh0IHRyYWNrZXIncyB0eXBlXG4gICAgcGFyYW1ldGVyLCBvciBpdCB3aWxsIGJlIGBudWxsYCBpZiB0aGVyZSBpcyBubyBjb250ZXh0XG4gICAgdHJhY2tlci5cbiAgICAqL1xuICAgIGdldCBjb250ZXh0KCkgeyByZXR1cm4gdGhpcy5jdXJDb250ZXh0ID8gdGhpcy5jdXJDb250ZXh0LmNvbnRleHQgOiBudWxsOyB9XG4gICAgLy8gUHVzaCBhIHN0YXRlIG9udG8gdGhlIHN0YWNrLCB0cmFja2luZyBpdHMgc3RhcnQgcG9zaXRpb24gYXMgd2VsbFxuICAgIC8vIGFzIHRoZSBidWZmZXIgYmFzZSBhdCB0aGF0IHBvaW50LlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcHVzaFN0YXRlKHN0YXRlLCBzdGFydCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5zdGF0ZSwgc3RhcnQsIHRoaXMuYnVmZmVyQmFzZSArIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLy8gQXBwbHkgYSByZWR1Y2UgYWN0aW9uXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWR1Y2UoYWN0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGRlcHRoID0gYWN0aW9uID4+IDE5IC8qIEFjdGlvbi5SZWR1Y2VEZXB0aFNoaWZ0ICovLCB0eXBlID0gYWN0aW9uICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLztcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSB0aGlzLnA7XG4gICAgICAgIGxldCBsb29rYWhlYWRSZWNvcmQgPSB0aGlzLnJlZHVjZVBvcyA8IHRoaXMucG9zIC0gMjUgLyogTG9va2FoZWFkLk1hcmdpbiAqLztcbiAgICAgICAgaWYgKGxvb2thaGVhZFJlY29yZClcbiAgICAgICAgICAgIHRoaXMuc2V0TG9va0FoZWFkKHRoaXMucG9zKTtcbiAgICAgICAgbGV0IGRQcmVjID0gcGFyc2VyLmR5bmFtaWNQcmVjZWRlbmNlKHR5cGUpO1xuICAgICAgICBpZiAoZFByZWMpXG4gICAgICAgICAgICB0aGlzLnNjb3JlICs9IGRQcmVjO1xuICAgICAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUocGFyc2VyLmdldEdvdG8odGhpcy5zdGF0ZSwgdHlwZSwgdHJ1ZSksIHRoaXMucmVkdWNlUG9zKTtcbiAgICAgICAgICAgIC8vIFplcm8tZGVwdGggcmVkdWN0aW9ucyBhcmUgYSBzcGVjaWFsIGNhc2XigJR0aGV5IGFkZCBzdHVmZiB0b1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIHdpdGhvdXQgcG9wcGluZyBhbnl0aGluZyBvZmYuXG4gICAgICAgICAgICBpZiAodHlwZSA8IHBhcnNlci5taW5SZXBlYXRUZXJtKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVOb2RlKHR5cGUsIHRoaXMucmVkdWNlUG9zLCB0aGlzLnJlZHVjZVBvcywgbG9va2FoZWFkUmVjb3JkID8gOCA6IDQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5yZWR1Y2VDb250ZXh0KHR5cGUsIHRoaXMucmVkdWNlUG9zKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBiYXNlIGluZGV4IGludG8gYHRoaXMuc3RhY2tgLCBjb250ZW50IGFmdGVyIHdoaWNoIHdpbGxcbiAgICAgICAgLy8gYmUgZHJvcHBlZC4gTm90ZSB0aGF0IHdpdGggYFN0YXlGbGFnYCByZWR1Y3Rpb25zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gY29uc3VtZSB0d28gZXh0cmEgZnJhbWVzICh0aGUgZHVtbXkgcGFyZW50IG5vZGUgZm9yIHRoZSBza2lwcGVkXG4gICAgICAgIC8vIGV4cHJlc3Npb24gYW5kIHRoZSBzdGF0ZSB0aGF0IHdlJ2xsIGJlIHN0YXlpbmcgaW4sIHdoaWNoIHNob3VsZFxuICAgICAgICAvLyBiZSBtb3ZlZCB0byBgdGhpcy5zdGF0ZWApLlxuICAgICAgICBsZXQgYmFzZSA9IHRoaXMuc3RhY2subGVuZ3RoIC0gKChkZXB0aCAtIDEpICogMykgLSAoYWN0aW9uICYgMjYyMTQ0IC8qIEFjdGlvbi5TdGF5RmxhZyAqLyA/IDYgOiAwKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gYmFzZSA/IHRoaXMuc3RhY2tbYmFzZSAtIDJdIDogdGhpcy5wLnJhbmdlc1swXS5mcm9tLCBzaXplID0gdGhpcy5yZWR1Y2VQb3MgLSBzdGFydDtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGtsdWRnZSB0byB0cnkgYW5kIGRldGVjdCBvdmVybHkgZGVlcCBsZWZ0LWFzc29jaWF0aXZlXG4gICAgICAgIC8vIHRyZWVzLCB3aGljaCB3aWxsIG5vdCBpbmNyZWFzZSB0aGUgcGFyc2Ugc3RhY2sgZGVwdGggYW5kIHRodXNcbiAgICAgICAgLy8gd29uJ3QgYmUgY2F1Z2h0IGJ5IHRoZSByZWd1bGFyIHN0YWNrLWRlcHRoIGxpbWl0IGNoZWNrLlxuICAgICAgICBpZiAoc2l6ZSA+PSAyMDAwIC8qIFJlY292ZXIuTWluQmlnUmVkdWN0aW9uICovICYmICEoKF9hID0gdGhpcy5wLnBhcnNlci5ub2RlU2V0LnR5cGVzW3R5cGVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNBbm9ueW1vdXMpKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gdGhpcy5wLmxhc3RCaWdSZWR1Y3Rpb25TdGFydCkge1xuICAgICAgICAgICAgICAgIHRoaXMucC5iaWdSZWR1Y3Rpb25Db3VudCsrO1xuICAgICAgICAgICAgICAgIHRoaXMucC5sYXN0QmlnUmVkdWN0aW9uU2l6ZSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnAubGFzdEJpZ1JlZHVjdGlvblNpemUgPCBzaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wLmJpZ1JlZHVjdGlvbkNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnAubGFzdEJpZ1JlZHVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wLmxhc3RCaWdSZWR1Y3Rpb25TaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYnVmZmVyQmFzZSA9IGJhc2UgPyB0aGlzLnN0YWNrW2Jhc2UgLSAxXSA6IDAsIGNvdW50ID0gdGhpcy5idWZmZXJCYXNlICsgdGhpcy5idWZmZXIubGVuZ3RoIC0gYnVmZmVyQmFzZTtcbiAgICAgICAgLy8gU3RvcmUgbm9ybWFsIHRlcm1zIG9yIGBSIC0+IFIgUmAgcmVwZWF0IHJlZHVjdGlvbnNcbiAgICAgICAgaWYgKHR5cGUgPCBwYXJzZXIubWluUmVwZWF0VGVybSB8fCAoYWN0aW9uICYgMTMxMDcyIC8qIEFjdGlvbi5SZXBlYXRGbGFnICovKSkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBhcnNlci5zdGF0ZUZsYWcodGhpcy5zdGF0ZSwgMSAvKiBTdGF0ZUZsYWcuU2tpcHBlZCAqLykgPyB0aGlzLnBvcyA6IHRoaXMucmVkdWNlUG9zO1xuICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUodHlwZSwgc3RhcnQsIHBvcywgY291bnQgKyA0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uICYgMjYyMTQ0IC8qIEFjdGlvbi5TdGF5RmxhZyAqLykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhY2tbYmFzZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYmFzZVN0YXRlSUQgPSB0aGlzLnN0YWNrW2Jhc2UgLSAzXTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBwYXJzZXIuZ2V0R290byhiYXNlU3RhdGVJRCwgdHlwZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhY2subGVuZ3RoID4gYmFzZSlcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMucmVkdWNlQ29udGV4dCh0eXBlLCBzdGFydCk7XG4gICAgfVxuICAgIC8vIFNoaWZ0IGEgdmFsdWUgaW50byB0aGUgYnVmZmVyXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdG9yZU5vZGUodGVybSwgc3RhcnQsIGVuZCwgc2l6ZSA9IDQsIG11c3RTaW5rID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRlcm0gPT0gMCAvKiBUZXJtLkVyciAqLyAmJlxuICAgICAgICAgICAgKCF0aGlzLnN0YWNrLmxlbmd0aCB8fCB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0gPCB0aGlzLmJ1ZmZlci5sZW5ndGggKyB0aGlzLmJ1ZmZlckJhc2UpKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gb21pdC9tZXJnZSBhZGphY2VudCBlcnJvciBub2Rlc1xuICAgICAgICAgICAgbGV0IGN1ciA9IHRoaXMsIHRvcCA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b3AgPT0gMCAmJiBjdXIucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdG9wID0gY3VyLmJ1ZmZlckJhc2UgLSBjdXIucGFyZW50LmJ1ZmZlckJhc2U7XG4gICAgICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3AgPiAwICYmIGN1ci5idWZmZXJbdG9wIC0gNF0gPT0gMCAvKiBUZXJtLkVyciAqLyAmJiBjdXIuYnVmZmVyW3RvcCAtIDFdID4gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPT0gZW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGN1ci5idWZmZXJbdG9wIC0gMl0gPj0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyLmJ1ZmZlclt0b3AgLSAyXSA9IGVuZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW11c3RTaW5rIHx8IHRoaXMucG9zID09IGVuZCkgeyAvLyBTaW1wbGUgY2FzZSwganVzdCBhcHBlbmRcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godGVybSwgc3RhcnQsIGVuZCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIFRoZXJlIG1heSBiZSBza2lwcGVkIG5vZGVzIHRoYXQgaGF2ZSB0byBiZSBtb3ZlZCBmb3J3YXJkXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwICYmIHRoaXMuYnVmZmVyW2luZGV4IC0gNF0gIT0gMCAvKiBUZXJtLkVyciAqLykge1xuICAgICAgICAgICAgICAgIGxldCBtdXN0TW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHNjYW4gPSBpbmRleDsgc2NhbiA+IDAgJiYgdGhpcy5idWZmZXJbc2NhbiAtIDJdID4gZW5kOyBzY2FuIC09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyW3NjYW4gLSAxXSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXN0TW92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobXVzdE1vdmUpXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleCA+IDAgJiYgdGhpcy5idWZmZXJbaW5kZXggLSAyXSA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGlzIHJlY29yZCBmb3J3YXJkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleF0gPSB0aGlzLmJ1ZmZlcltpbmRleCAtIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAxXSA9IHRoaXMuYnVmZmVyW2luZGV4IC0gM107XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDJdID0gdGhpcy5idWZmZXJbaW5kZXggLSAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgM10gPSB0aGlzLmJ1ZmZlcltpbmRleCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggLT0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXplID4gNClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplIC09IDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4XSA9IHRlcm07XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDFdID0gc3RhcnQ7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDJdID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAzXSA9IHNpemU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXBwbHkgYSBzaGlmdCBhY3Rpb25cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNoaWZ0KGFjdGlvbiwgdHlwZSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoYWN0aW9uICYgMTMxMDcyIC8qIEFjdGlvbi5Hb3RvRmxhZyAqLykge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoYWN0aW9uICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLywgdGhpcy5wb3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChhY3Rpb24gJiAyNjIxNDQgLyogQWN0aW9uLlN0YXlGbGFnICovKSA9PSAwKSB7IC8vIFJlZ3VsYXIgc2hpZnRcbiAgICAgICAgICAgIGxldCBuZXh0U3RhdGUgPSBhY3Rpb24sIHsgcGFyc2VyIH0gPSB0aGlzLnA7XG4gICAgICAgICAgICBpZiAoZW5kID4gdGhpcy5wb3MgfHwgdHlwZSA8PSBwYXJzZXIubWF4Tm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gZW5kO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VyLnN0YXRlRmxhZyhuZXh0U3RhdGUsIDEgLyogU3RhdGVGbGFnLlNraXBwZWQgKi8pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHVjZVBvcyA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKG5leHRTdGF0ZSwgc3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5zaGlmdENvbnRleHQodHlwZSwgc3RhcnQpO1xuICAgICAgICAgICAgaWYgKHR5cGUgPD0gcGFyc2VyLm1heE5vZGUpXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0eXBlLCBzdGFydCwgZW5kLCA0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gU2hpZnQtYW5kLXN0YXksIHdoaWNoIG1lYW5zIHRoaXMgaXMgYSBza2lwcGVkIHRva2VuXG4gICAgICAgICAgICB0aGlzLnBvcyA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDb250ZXh0KHR5cGUsIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0eXBlIDw9IHRoaXMucC5wYXJzZXIubWF4Tm9kZSlcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHR5cGUsIHN0YXJ0LCBlbmQsIDQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFwcGx5IGFuIGFjdGlvblxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYXBwbHkoYWN0aW9uLCBuZXh0LCBuZXh0U3RhcnQsIG5leHRFbmQpIHtcbiAgICAgICAgaWYgKGFjdGlvbiAmIDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovKVxuICAgICAgICAgICAgdGhpcy5yZWR1Y2UoYWN0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5zaGlmdChhY3Rpb24sIG5leHQsIG5leHRTdGFydCwgbmV4dEVuZCk7XG4gICAgfVxuICAgIC8vIEFkZCBhIHByZWJ1aWx0IChyZXVzZWQpIG5vZGUgaW50byB0aGUgYnVmZmVyLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdXNlTm9kZSh2YWx1ZSwgbmV4dCkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnAucmV1c2VkLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5wLnJldXNlZFtpbmRleF0gIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucC5yZXVzZWQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnJlZHVjZVBvcyA9IHRoaXMucG9zID0gc3RhcnQgKyB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMucHVzaFN0YXRlKG5leHQsIHN0YXJ0KTtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChpbmRleCwgc3RhcnQsIHRoaXMucmVkdWNlUG9zLCAtMSAvKiBzaXplID09IC0xIG1lYW5zIHRoaXMgaXMgYSByZXVzZWQgdmFsdWUgKi8pO1xuICAgICAgICBpZiAodGhpcy5jdXJDb250ZXh0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KHRoaXMuY3VyQ29udGV4dC50cmFja2VyLnJldXNlKHRoaXMuY3VyQ29udGV4dC5jb250ZXh0LCB2YWx1ZSwgdGhpcywgdGhpcy5wLnN0cmVhbS5yZXNldCh0aGlzLnBvcyAtIHZhbHVlLmxlbmd0aCkpKTtcbiAgICB9XG4gICAgLy8gU3BsaXQgdGhlIHN0YWNrLiBEdWUgdG8gdGhlIGJ1ZmZlciBzaGFyaW5nIGFuZCB0aGUgZmFjdFxuICAgIC8vIHRoYXQgYHRoaXMuc3RhY2tgIHRlbmRzIHRvIHN0YXkgcXVpdGUgc2hhbGxvdywgdGhpcyBpc24ndCB2ZXJ5XG4gICAgLy8gZXhwZW5zaXZlLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3BsaXQoKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgICAgICBsZXQgb2ZmID0gcGFyZW50LmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIHRvcCBvZiB0aGUgYnVmZmVyIChhZnRlciB0aGlzLnBvcykgbWF5IGJlIG11dGF0ZWRcbiAgICAgICAgLy8gdG8gcmVvcmRlciByZWR1Y3Rpb25zIGFuZCBza2lwcGVkIHRva2VucywgYW5kIHNoYXJlZCBidWZmZXJzXG4gICAgICAgIC8vIHNob3VsZCBiZSBpbW11dGFibGUsIHRoaXMgY29waWVzIGFueSBvdXRzdGFuZGluZyBza2lwcGVkIHRva2Vuc1xuICAgICAgICAvLyB0byB0aGUgbmV3IGJ1ZmZlciwgYW5kIHB1dHMgdGhlIGJhc2UgcG9pbnRlciBiZWZvcmUgdGhlbS5cbiAgICAgICAgd2hpbGUgKG9mZiA+IDAgJiYgcGFyZW50LmJ1ZmZlcltvZmYgLSAyXSA+IHBhcmVudC5yZWR1Y2VQb3MpXG4gICAgICAgICAgICBvZmYgLT0gNDtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IHBhcmVudC5idWZmZXIuc2xpY2Uob2ZmKSwgYmFzZSA9IHBhcmVudC5idWZmZXJCYXNlICsgb2ZmO1xuICAgICAgICAvLyBNYWtlIHN1cmUgcGFyZW50IHBvaW50cyB0byBhbiBhY3R1YWwgcGFyZW50IHdpdGggY29udGVudCwgaWYgdGhlcmUgaXMgc3VjaCBhIHBhcmVudC5cbiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiBiYXNlID09IHBhcmVudC5idWZmZXJCYXNlKVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFjayh0aGlzLnAsIHRoaXMuc3RhY2suc2xpY2UoKSwgdGhpcy5zdGF0ZSwgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucG9zLCB0aGlzLnNjb3JlLCBidWZmZXIsIGJhc2UsIHRoaXMuY3VyQ29udGV4dCwgdGhpcy5sb29rQWhlYWQsIHBhcmVudCk7XG4gICAgfVxuICAgIC8vIFRyeSB0byByZWNvdmVyIGZyb20gYW4gZXJyb3IgYnkgJ2RlbGV0aW5nJyAoaWdub3JpbmcpIG9uZSB0b2tlbi5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlY292ZXJCeURlbGV0ZShuZXh0LCBuZXh0RW5kKSB7XG4gICAgICAgIGxldCBpc05vZGUgPSBuZXh0IDw9IHRoaXMucC5wYXJzZXIubWF4Tm9kZTtcbiAgICAgICAgaWYgKGlzTm9kZSlcbiAgICAgICAgICAgIHRoaXMuc3RvcmVOb2RlKG5leHQsIHRoaXMucG9zLCBuZXh0RW5kLCA0KTtcbiAgICAgICAgdGhpcy5zdG9yZU5vZGUoMCAvKiBUZXJtLkVyciAqLywgdGhpcy5wb3MsIG5leHRFbmQsIGlzTm9kZSA/IDggOiA0KTtcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLnJlZHVjZVBvcyA9IG5leHRFbmQ7XG4gICAgICAgIHRoaXMuc2NvcmUgLT0gMTkwIC8qIFJlY292ZXIuRGVsZXRlICovO1xuICAgIH1cbiAgICAvKipcbiAgICBDaGVjayBpZiB0aGUgZ2l2ZW4gdGVybSB3b3VsZCBiZSBhYmxlIHRvIGJlIHNoaWZ0ZWQgKG9wdGlvbmFsbHlcbiAgICBhZnRlciBzb21lIHJlZHVjdGlvbnMpIG9uIHRoaXMgc3RhY2suIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICBleHRlcm5hbCB0b2tlbml6ZXJzIHRoYXQgd2FudCB0byBtYWtlIHN1cmUgdGhleSBvbmx5IHByb3ZpZGUgYVxuICAgIGdpdmVuIHRva2VuIHdoZW4gaXQgYXBwbGllcy5cbiAgICAqL1xuICAgIGNhblNoaWZ0KHRlcm0pIHtcbiAgICAgICAgZm9yIChsZXQgc2ltID0gbmV3IFNpbXVsYXRlZFN0YWNrKHRoaXMpOzspIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLnAucGFyc2VyLnN0YXRlU2xvdChzaW0uc3RhdGUsIDQgLyogUGFyc2VTdGF0ZS5EZWZhdWx0UmVkdWNlICovKSB8fCB0aGlzLnAucGFyc2VyLmhhc0FjdGlvbihzaW0uc3RhdGUsIHRlcm0pO1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICgoYWN0aW9uICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzaW0ucmVkdWNlKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXBwbHkgdXAgdG8gUmVjb3Zlci5NYXhOZXh0IHJlY292ZXJ5IGFjdGlvbnMgdGhhdCBjb25jZXB0dWFsbHlcbiAgICAvLyBpbnNlcnRzIHNvbWUgbWlzc2luZyB0b2tlbiBvciBydWxlLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVjb3ZlckJ5SW5zZXJ0KG5leHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoID49IDMwMCAvKiBSZWNvdmVyLk1heEluc2VydFN0YWNrRGVwdGggKi8pXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGxldCBuZXh0U3RhdGVzID0gdGhpcy5wLnBhcnNlci5uZXh0U3RhdGVzKHRoaXMuc3RhdGUpO1xuICAgICAgICBpZiAobmV4dFN0YXRlcy5sZW5ndGggPiA0IC8qIFJlY292ZXIuTWF4TmV4dCAqLyA8PCAxIHx8IHRoaXMuc3RhY2subGVuZ3RoID49IDEyMCAvKiBSZWNvdmVyLkRhbXBlbkluc2VydFN0YWNrRGVwdGggKi8pIHtcbiAgICAgICAgICAgIGxldCBiZXN0ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgczsgaSA8IG5leHRTdGF0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHMgPSBuZXh0U3RhdGVzW2kgKyAxXSkgIT0gdGhpcy5zdGF0ZSAmJiB0aGlzLnAucGFyc2VyLmhhc0FjdGlvbihzLCBuZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgYmVzdC5wdXNoKG5leHRTdGF0ZXNbaV0sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoIDwgMTIwIC8qIFJlY292ZXIuRGFtcGVuSW5zZXJ0U3RhY2tEZXB0aCAqLylcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgYmVzdC5sZW5ndGggPCA0IC8qIFJlY292ZXIuTWF4TmV4dCAqLyA8PCAxICYmIGkgPCBuZXh0U3RhdGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzID0gbmV4dFN0YXRlc1tpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghYmVzdC5zb21lKCh2LCBpKSA9PiAoaSAmIDEpICYmIHYgPT0gcykpXG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0LnB1c2gobmV4dFN0YXRlc1tpXSwgcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFN0YXRlcyA9IGJlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRTdGF0ZXMubGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCA0IC8qIFJlY292ZXIuTWF4TmV4dCAqLzsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgcyA9IG5leHRTdGF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHMgPT0gdGhpcy5zdGF0ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBzdGFjayA9IHRoaXMuc3BsaXQoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2hTdGF0ZShzLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICBzdGFjay5zdG9yZU5vZGUoMCAvKiBUZXJtLkVyciAqLywgc3RhY2sucG9zLCBzdGFjay5wb3MsIDQsIHRydWUpO1xuICAgICAgICAgICAgc3RhY2suc2hpZnRDb250ZXh0KG5leHRTdGF0ZXNbaV0sIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHN0YWNrLnJlZHVjZVBvcyA9IHRoaXMucG9zO1xuICAgICAgICAgICAgc3RhY2suc2NvcmUgLT0gMjAwIC8qIFJlY292ZXIuSW5zZXJ0ICovO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEZvcmNlIGEgcmVkdWNlLCBpZiBwb3NzaWJsZS4gUmV0dXJuIGZhbHNlIGlmIHRoYXQgY2FuJ3RcbiAgICAvLyBiZSBkb25lLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZm9yY2VSZWR1Y2UoKSB7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICBsZXQgcmVkdWNlID0gcGFyc2VyLnN0YXRlU2xvdCh0aGlzLnN0YXRlLCA1IC8qIFBhcnNlU3RhdGUuRm9yY2VkUmVkdWNlICovKTtcbiAgICAgICAgaWYgKChyZWR1Y2UgJiA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLykgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwYXJzZXIudmFsaWRBY3Rpb24odGhpcy5zdGF0ZSwgcmVkdWNlKSkge1xuICAgICAgICAgICAgbGV0IGRlcHRoID0gcmVkdWNlID4+IDE5IC8qIEFjdGlvbi5SZWR1Y2VEZXB0aFNoaWZ0ICovLCB0ZXJtID0gcmVkdWNlICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLztcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoICogMztcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPCAwIHx8IHBhcnNlci5nZXRHb3RvKHRoaXMuc3RhY2tbdGFyZ2V0XSwgdGVybSwgZmFsc2UpIDwgMCkge1xuICAgICAgICAgICAgICAgIGxldCBiYWNrdXAgPSB0aGlzLmZpbmRGb3JjZWRSZWR1Y3Rpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFja3VwID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICByZWR1Y2UgPSBiYWNrdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIFRlcm0uRXJyICovLCB0aGlzLnBvcywgdGhpcy5wb3MsIDQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zY29yZSAtPSAxMDAgLyogUmVjb3Zlci5SZWR1Y2UgKi87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5yZWR1Y2UocmVkdWNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRyeSB0byBzY2FuIHRocm91Z2ggdGhlIGF1dG9tYXRvbiB0byBmaW5kIHNvbWUga2luZCBvZiByZWR1Y3Rpb25cbiAgICB0aGF0IGNhbiBiZSBhcHBsaWVkLiBVc2VkIHdoZW4gdGhlIHJlZ3VsYXIgRm9yY2VkUmVkdWNlIGZpZWxkXG4gICAgaXNuJ3QgYSB2YWxpZCBhY3Rpb24uIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmluZEZvcmNlZFJlZHVjdGlvbigpIHtcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSB0aGlzLnAsIHNlZW4gPSBbXTtcbiAgICAgICAgbGV0IGV4cGxvcmUgPSAoc3RhdGUsIGRlcHRoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2Vlbi5pbmNsdWRlcyhzdGF0ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2Vlbi5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZXIuYWxsQWN0aW9ucyhzdGF0ZSwgKGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gJiAoMjYyMTQ0IC8qIEFjdGlvbi5TdGF5RmxhZyAqLyB8IDEzMTA3MiAvKiBBY3Rpb24uR290b0ZsYWcgKi8pKSA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWN0aW9uICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJEZXB0aCA9IChhY3Rpb24gPj4gMTkgLyogQWN0aW9uLlJlZHVjZURlcHRoU2hpZnQgKi8pIC0gZGVwdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyRGVwdGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVybSA9IGFjdGlvbiAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi8sIHRhcmdldCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gckRlcHRoICogMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPj0gMCAmJiBwYXJzZXIuZ2V0R290byh0aGlzLnN0YWNrW3RhcmdldF0sIHRlcm0sIGZhbHNlKSA+PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAockRlcHRoIDw8IDE5IC8qIEFjdGlvbi5SZWR1Y2VEZXB0aFNoaWZ0ICovKSB8IDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovIHwgdGVybTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZXhwbG9yZShhY3Rpb24sIGRlcHRoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXhwbG9yZSh0aGlzLnN0YXRlLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmb3JjZUFsbCgpIHtcbiAgICAgICAgd2hpbGUgKCF0aGlzLnAucGFyc2VyLnN0YXRlRmxhZyh0aGlzLnN0YXRlLCAyIC8qIFN0YXRlRmxhZy5BY2NlcHRpbmcgKi8pKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZm9yY2VSZWR1Y2UoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHRoaXMucG9zLCB0aGlzLnBvcywgNCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgIENoZWNrIHdoZXRoZXIgdGhpcyBzdGF0ZSBoYXMgbm8gZnVydGhlciBhY3Rpb25zIChhc3N1bWVkIHRvIGJlIGEgZGlyZWN0IGRlc2NlbmRhbnQgb2YgdGhlXG4gICAgdG9wIHN0YXRlLCBzaW5jZSBhbnkgb3RoZXIgc3RhdGVzIG11c3QgYmUgYWJsZSB0byBjb250aW51ZVxuICAgIHNvbWVob3cpLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBkZWFkRW5kKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggIT0gMylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSB0aGlzLnA7XG4gICAgICAgIHJldHVybiBwYXJzZXIuZGF0YVtwYXJzZXIuc3RhdGVTbG90KHRoaXMuc3RhdGUsIDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKV0gPT0gNjU1MzUgLyogU2VxLkVuZCAqLyAmJlxuICAgICAgICAgICAgIXBhcnNlci5zdGF0ZVNsb3QodGhpcy5zdGF0ZSwgNCAvKiBQYXJzZVN0YXRlLkRlZmF1bHRSZWR1Y2UgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXN0YXJ0IHRoZSBzdGFjayAocHV0IGl0IGJhY2sgaW4gaXRzIHN0YXJ0IHN0YXRlKS4gT25seSBzYWZlXG4gICAgd2hlbiB0aGlzLnN0YWNrLmxlbmd0aCA9PSAzIChzdGF0ZSBpcyBkaXJlY3RseSBiZWxvdyB0aGUgdG9wXG4gICAgc3RhdGUpLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHRoaXMucG9zLCB0aGlzLnBvcywgNCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YWNrWzBdO1xuICAgICAgICB0aGlzLnN0YWNrLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2FtZVN0YXRlKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9IG90aGVyLnN0YXRlIHx8IHRoaXMuc3RhY2subGVuZ3RoICE9IG90aGVyLnN0YWNrLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YWNrLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhY2tbaV0gIT0gb3RoZXIuc3RhY2tbaV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBwYXJzZXIgdXNlZCBieSB0aGlzIHN0YWNrLlxuICAgICovXG4gICAgZ2V0IHBhcnNlcigpIHsgcmV0dXJuIHRoaXMucC5wYXJzZXI7IH1cbiAgICAvKipcbiAgICBUZXN0IHdoZXRoZXIgYSBnaXZlbiBkaWFsZWN0IChieSBudW1lcmljIElELCBhcyBleHBvcnRlZCBmcm9tXG4gICAgdGhlIHRlcm1zIGZpbGUpIGlzIGVuYWJsZWQuXG4gICAgKi9cbiAgICBkaWFsZWN0RW5hYmxlZChkaWFsZWN0SUQpIHsgcmV0dXJuIHRoaXMucC5wYXJzZXIuZGlhbGVjdC5mbGFnc1tkaWFsZWN0SURdOyB9XG4gICAgc2hpZnRDb250ZXh0KHRlcm0sIHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1ckNvbnRleHQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQodGhpcy5jdXJDb250ZXh0LnRyYWNrZXIuc2hpZnQodGhpcy5jdXJDb250ZXh0LmNvbnRleHQsIHRlcm0sIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQoc3RhcnQpKSk7XG4gICAgfVxuICAgIHJlZHVjZUNvbnRleHQodGVybSwgc3RhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlci5yZWR1Y2UodGhpcy5jdXJDb250ZXh0LmNvbnRleHQsIHRlcm0sIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQoc3RhcnQpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZW1pdENvbnRleHQoKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPCAwIHx8IHRoaXMuYnVmZmVyW2xhc3RdICE9IC0zKVxuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0aGlzLmN1ckNvbnRleHQuaGFzaCwgdGhpcy5wb3MsIHRoaXMucG9zLCAtMyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZW1pdExvb2tBaGVhZCgpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmJ1ZmZlci5sZW5ndGggLSAxO1xuICAgICAgICBpZiAobGFzdCA8IDAgfHwgdGhpcy5idWZmZXJbbGFzdF0gIT0gLTQpXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHRoaXMubG9va0FoZWFkLCB0aGlzLnBvcywgdGhpcy5wb3MsIC00KTtcbiAgICB9XG4gICAgdXBkYXRlQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ICE9IHRoaXMuY3VyQ29udGV4dC5jb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgbmV3Q3ggPSBuZXcgU3RhY2tDb250ZXh0KHRoaXMuY3VyQ29udGV4dC50cmFja2VyLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChuZXdDeC5oYXNoICE9IHRoaXMuY3VyQ29udGV4dC5oYXNoKVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdENvbnRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuY3VyQ29udGV4dCA9IG5ld0N4O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2V0TG9va0FoZWFkKGxvb2tBaGVhZCkge1xuICAgICAgICBpZiAobG9va0FoZWFkID4gdGhpcy5sb29rQWhlYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdExvb2tBaGVhZCgpO1xuICAgICAgICAgICAgdGhpcy5sb29rQWhlYWQgPSBsb29rQWhlYWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dCAmJiB0aGlzLmN1ckNvbnRleHQudHJhY2tlci5zdHJpY3QpXG4gICAgICAgICAgICB0aGlzLmVtaXRDb250ZXh0KCk7XG4gICAgICAgIGlmICh0aGlzLmxvb2tBaGVhZCA+IDApXG4gICAgICAgICAgICB0aGlzLmVtaXRMb29rQWhlYWQoKTtcbiAgICB9XG59XG5jbGFzcyBTdGFja0NvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHRyYWNrZXIsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy50cmFja2VyID0gdHJhY2tlcjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5oYXNoID0gdHJhY2tlci5zdHJpY3QgPyB0cmFja2VyLmhhc2goY29udGV4dCkgOiAwO1xuICAgIH1cbn1cbi8vIFVzZWQgdG8gY2hlYXBseSBydW4gc29tZSByZWR1Y3Rpb25zIHRvIHNjYW4gYWhlYWQgd2l0aG91dCBtdXRhdGluZ1xuLy8gYW4gZW50aXJlIHN0YWNrXG5jbGFzcyBTaW11bGF0ZWRTdGFjayB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhcnQuc3RhdGU7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFydC5zdGFjaztcbiAgICAgICAgdGhpcy5iYXNlID0gdGhpcy5zdGFjay5sZW5ndGg7XG4gICAgfVxuICAgIHJlZHVjZShhY3Rpb24pIHtcbiAgICAgICAgbGV0IHRlcm0gPSBhY3Rpb24gJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovLCBkZXB0aCA9IGFjdGlvbiA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLztcbiAgICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrID09IHRoaXMuc3RhcnQuc3RhY2spXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjayA9IHRoaXMuc3RhY2suc2xpY2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnN0YXRlLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZSArPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlIC09IChkZXB0aCAtIDEpICogMztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ290byA9IHRoaXMuc3RhcnQucC5wYXJzZXIuZ2V0R290byh0aGlzLnN0YWNrW3RoaXMuYmFzZSAtIDNdLCB0ZXJtLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGdvdG87XG4gICAgfVxufVxuLy8gVGhpcyBpcyBnaXZlbiB0byBgVHJlZS5idWlsZGAgdG8gYnVpbGQgYSBidWZmZXIsIGFuZCBlbmNhcHN1bGF0ZXNcbi8vIHRoZSBwYXJlbnQtc3RhY2std2Fsa2luZyBuZWNlc3NhcnkgdG8gcmVhZCB0aGUgbm9kZXMuXG5jbGFzcyBTdGFja0J1ZmZlckN1cnNvciB7XG4gICAgY29uc3RydWN0b3Ioc3RhY2ssIHBvcywgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHN0YWNrLmJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gMClcbiAgICAgICAgICAgIHRoaXMubWF5YmVOZXh0KCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoc3RhY2ssIHBvcyA9IHN0YWNrLmJ1ZmZlckJhc2UgKyBzdGFjay5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2tCdWZmZXJDdXJzb3Ioc3RhY2ssIHBvcywgcG9zIC0gc3RhY2suYnVmZmVyQmFzZSk7XG4gICAgfVxuICAgIG1heWJlTmV4dCgpIHtcbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLnN0YWNrLnBhcmVudDtcbiAgICAgICAgaWYgKG5leHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuc3RhY2suYnVmZmVyQmFzZSAtIG5leHQuYnVmZmVyQmFzZTtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBuZXh0LmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gNF07IH1cbiAgICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gM107IH1cbiAgICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDJdOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMV07IH1cbiAgICBuZXh0KCkge1xuICAgICAgICB0aGlzLmluZGV4IC09IDQ7XG4gICAgICAgIHRoaXMucG9zIC09IDQ7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApXG4gICAgICAgICAgICB0aGlzLm1heWJlTmV4dCgpO1xuICAgIH1cbiAgICBmb3JrKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YWNrQnVmZmVyQ3Vyc29yKHRoaXMuc3RhY2ssIHRoaXMucG9zLCB0aGlzLmluZGV4KTtcbiAgICB9XG59XG5cbi8vIFNlZSBsZXplci1nZW5lcmF0b3Ivc3JjL2VuY29kZS50cyBmb3IgY29tbWVudHMgYWJvdXQgdGhlIGVuY29kaW5nXG4vLyB1c2VkIGhlcmVcbmZ1bmN0aW9uIGRlY29kZUFycmF5KGlucHV0LCBUeXBlID0gVWludDE2QXJyYXkpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICBsZXQgYXJyYXkgPSBudWxsO1xuICAgIGZvciAobGV0IHBvcyA9IDAsIG91dCA9IDA7IHBvcyA8IGlucHV0Lmxlbmd0aDspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHBvcysrKSwgc3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5leHQgPT0gMTI2IC8qIEVuY29kZS5CaWdWYWxDb2RlICovKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSA2NTUzNSAvKiBFbmNvZGUuQmlnVmFsICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgPj0gOTIgLyogRW5jb2RlLkdhcDIgKi8pXG4gICAgICAgICAgICAgICAgbmV4dC0tO1xuICAgICAgICAgICAgaWYgKG5leHQgPj0gMzQgLyogRW5jb2RlLkdhcDEgKi8pXG4gICAgICAgICAgICAgICAgbmV4dC0tO1xuICAgICAgICAgICAgbGV0IGRpZ2l0ID0gbmV4dCAtIDMyIC8qIEVuY29kZS5TdGFydCAqLztcbiAgICAgICAgICAgIGlmIChkaWdpdCA+PSA0NiAvKiBFbmNvZGUuQmFzZSAqLykge1xuICAgICAgICAgICAgICAgIGRpZ2l0IC09IDQ2IC8qIEVuY29kZS5CYXNlICovO1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgKz0gZGlnaXQ7XG4gICAgICAgICAgICBpZiAoc3RvcClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhbHVlICo9IDQ2IC8qIEVuY29kZS5CYXNlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJheSlcbiAgICAgICAgICAgIGFycmF5W291dCsrXSA9IHZhbHVlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG5jbGFzcyBDYWNoZWRUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IC0xO1xuICAgICAgICB0aGlzLmVuZCA9IC0xO1xuICAgICAgICB0aGlzLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gMDtcbiAgICAgICAgdGhpcy5tYXNrID0gMDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gMDtcbiAgICB9XG59XG5jb25zdCBudWxsVG9rZW4gPSBuZXcgQ2FjaGVkVG9rZW47XG4vKipcbltUb2tlbml6ZXJzXSgjbHIuRXh0ZXJuYWxUb2tlbml6ZXIpIGludGVyYWN0IHdpdGggdGhlIGlucHV0XG50aHJvdWdoIHRoaXMgaW50ZXJmYWNlLiBJdCBwcmVzZW50cyB0aGUgaW5wdXQgYXMgYSBzdHJlYW0gb2ZcbmNoYXJhY3RlcnMsIHRyYWNraW5nIGxvb2thaGVhZCBhbmQgaGlkaW5nIHRoZSBjb21wbGV4aXR5IG9mXG5bcmFuZ2VzXSgjY29tbW9uLlBhcnNlci5wYXJzZV5yYW5nZXMpIGZyb20gdG9rZW5pemVyIGNvZGUuXG4qL1xuY2xhc3MgSW5wdXRTdHJlYW0ge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpbnB1dCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rT2ZmID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgIEJhY2t1cCBjaHVua1xuICAgICAgICAqL1xuICAgICAgICB0aGlzLmNodW5rMiA9IFwiXCI7XG4gICAgICAgIHRoaXMuY2h1bmsyUG9zID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgIFRoZSBjaGFyYWN0ZXIgY29kZSBvZiB0aGUgbmV4dCBjb2RlIHVuaXQgaW4gdGhlIGlucHV0LCBvciAtMVxuICAgICAgICB3aGVuIHRoZSBzdHJlYW0gaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudG9rZW4gPSBudWxsVG9rZW47XG4gICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5jaHVua1BvcyA9IHJhbmdlc1swXS5mcm9tO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2VzWzBdO1xuICAgICAgICB0aGlzLmVuZCA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgIHRoaXMucmVhZE5leHQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZXNvbHZlT2Zmc2V0KG9mZnNldCwgYXNzb2MpIHtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yYW5nZSwgaW5kZXggPSB0aGlzLnJhbmdlSW5kZXg7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvcyArIG9mZnNldDtcbiAgICAgICAgd2hpbGUgKHBvcyA8IHJhbmdlLmZyb20pIHtcbiAgICAgICAgICAgIGlmICghaW5kZXgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMucmFuZ2VzWy0taW5kZXhdO1xuICAgICAgICAgICAgcG9zIC09IHJhbmdlLmZyb20gLSBuZXh0LnRvO1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhc3NvYyA8IDAgPyBwb3MgPiByYW5nZS50byA6IHBvcyA+PSByYW5nZS50bykge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMucmFuZ2VzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMucmFuZ2VzWysraW5kZXhdO1xuICAgICAgICAgICAgcG9zICs9IG5leHQuZnJvbSAtIHJhbmdlLnRvO1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2xpcFBvcyhwb3MpIHtcbiAgICAgICAgaWYgKHBvcyA+PSB0aGlzLnJhbmdlLmZyb20gJiYgcG9zIDwgdGhpcy5yYW5nZS50bylcbiAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgaWYgKHJhbmdlLnRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChwb3MsIHJhbmdlLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5lbmQ7XG4gICAgfVxuICAgIC8qKlxuICAgIExvb2sgYXQgYSBjb2RlIHVuaXQgbmVhciB0aGUgc3RyZWFtIHBvc2l0aW9uLiBgLnBlZWsoMClgIGVxdWFsc1xuICAgIGAubmV4dGAsIGAucGVlaygtMSlgIGdpdmVzIHlvdSB0aGUgcHJldmlvdXMgY2hhcmFjdGVyLCBhbmQgc29cbiAgICBvbi5cbiAgICBcbiAgICBOb3RlIHRoYXQgbG9va2luZyBhcm91bmQgZHVyaW5nIHRva2VuaXppbmcgY3JlYXRlcyBkZXBlbmRlbmNpZXNcbiAgICBvbiBwb3RlbnRpYWxseSBmYXItYXdheSBjb250ZW50LCB3aGljaCBtYXkgcmVkdWNlIHRoZVxuICAgIGVmZmVjdGl2ZW5lc3MgaW5jcmVtZW50YWwgcGFyc2luZ+KAlHdoZW4gbG9va2luZyBmb3J3YXJk4oCUb3IgZXZlblxuICAgIGNhdXNlIGludmFsaWQgcmVwYXJzZXMgd2hlbiBsb29raW5nIGJhY2t3YXJkIG1vcmUgdGhhbiAyNSBjb2RlXG4gICAgdW5pdHMsIHNpbmNlIHRoZSBsaWJyYXJ5IGRvZXMgbm90IHRyYWNrIGxvb2tiZWhpbmQuXG4gICAgKi9cbiAgICBwZWVrKG9mZnNldCkge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jaHVua09mZiArIG9mZnNldCwgcG9zLCByZXN1bHQ7XG4gICAgICAgIGlmIChpZHggPj0gMCAmJiBpZHggPCB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zID0gdGhpcy5wb3MgKyBvZmZzZXQ7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNodW5rLmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZU9mZnNldChvZmZzZXQsIDEpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVkID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcG9zID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmsyUG9zICYmIHBvcyA8IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdChwb3MgLSB0aGlzLmNodW5rMlBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHRoaXMucmFuZ2VJbmRleCwgcmFuZ2UgPSB0aGlzLnJhbmdlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyYW5nZS50byA8PSBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5yYW5nZXNbKytpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rMiA9IHRoaXMuaW5wdXQuY2h1bmsodGhpcy5jaHVuazJQb3MgPSBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgKyB0aGlzLmNodW5rMi5sZW5ndGggPiByYW5nZS50bylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVuazIgPSB0aGlzLmNodW5rMi5zbGljZSgwLCByYW5nZS50byAtIHBvcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zID49IHRoaXMudG9rZW4ubG9va0FoZWFkKVxuICAgICAgICAgICAgdGhpcy50b2tlbi5sb29rQWhlYWQgPSBwb3MgKyAxO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBBY2NlcHQgYSB0b2tlbi4gQnkgZGVmYXVsdCwgdGhlIGVuZCBvZiB0aGUgdG9rZW4gaXMgc2V0IHRvIHRoZVxuICAgIGN1cnJlbnQgc3RyZWFtIHBvc2l0aW9uLCBidXQgeW91IGNhbiBwYXNzIGFuIG9mZnNldCAocmVsYXRpdmUgdG9cbiAgICB0aGUgc3RyZWFtIHBvc2l0aW9uKSB0byBjaGFuZ2UgdGhhdC5cbiAgICAqL1xuICAgIGFjY2VwdFRva2VuKHRva2VuLCBlbmRPZmZzZXQgPSAwKSB7XG4gICAgICAgIGxldCBlbmQgPSBlbmRPZmZzZXQgPyB0aGlzLnJlc29sdmVPZmZzZXQoZW5kT2Zmc2V0LCAtMSkgOiB0aGlzLnBvcztcbiAgICAgICAgaWYgKGVuZCA9PSBudWxsIHx8IGVuZCA8IHRoaXMudG9rZW4uc3RhcnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRva2VuIGVuZCBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB0aGlzLnRva2VuLnZhbHVlID0gdG9rZW47XG4gICAgICAgIHRoaXMudG9rZW4uZW5kID0gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICBBY2NlcHQgYSB0b2tlbiBlbmRpbmcgYXQgYSBzcGVjaWZpYyBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGFjY2VwdFRva2VuVG8odG9rZW4sIGVuZFBvcykge1xuICAgICAgICB0aGlzLnRva2VuLnZhbHVlID0gdG9rZW47XG4gICAgICAgIHRoaXMudG9rZW4uZW5kID0gZW5kUG9zO1xuICAgIH1cbiAgICBnZXRDaHVuaygpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMuY2h1bmsyUG9zICYmIHRoaXMucG9zIDwgdGhpcy5jaHVuazJQb3MgKyB0aGlzLmNodW5rMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGNodW5rLCBjaHVua1BvcyB9ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsgPSB0aGlzLmNodW5rMjtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtQb3MgPSB0aGlzLmNodW5rMlBvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyID0gY2h1bms7XG4gICAgICAgICAgICB0aGlzLmNodW5rMlBvcyA9IGNodW5rUG9zO1xuICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IHRoaXMucG9zIC0gdGhpcy5jaHVua1BvcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyID0gdGhpcy5jaHVuaztcbiAgICAgICAgICAgIHRoaXMuY2h1bmsyUG9zID0gdGhpcy5jaHVua1BvcztcbiAgICAgICAgICAgIGxldCBuZXh0Q2h1bmsgPSB0aGlzLmlucHV0LmNodW5rKHRoaXMucG9zKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBvcyArIG5leHRDaHVuay5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmNodW5rID0gZW5kID4gdGhpcy5yYW5nZS50byA/IG5leHRDaHVuay5zbGljZSgwLCB0aGlzLnJhbmdlLnRvIC0gdGhpcy5wb3MpIDogbmV4dENodW5rO1xuICAgICAgICAgICAgdGhpcy5jaHVua1BvcyA9IHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZE5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNodW5rT2ZmID49IHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmdldENodW5rKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jaHVua09mZiA9PSB0aGlzLmNodW5rLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0ID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IHRoaXMuY2h1bmsuY2hhckNvZGVBdCh0aGlzLmNodW5rT2ZmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgc3RyZWFtIGZvcndhcmQgTiAoZGVmYXVsdHMgdG8gMSkgY29kZSB1bml0cy4gUmV0dXJuc1xuICAgIHRoZSBuZXcgdmFsdWUgb2YgW2BuZXh0YF0oI2xyLklucHV0U3RyZWFtLm5leHQpLlxuICAgICovXG4gICAgYWR2YW5jZShuID0gMSkge1xuICAgICAgICB0aGlzLmNodW5rT2ZmICs9IG47XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyArIG4gPj0gdGhpcy5yYW5nZS50bykge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VJbmRleCA9PSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldERvbmUoKTtcbiAgICAgICAgICAgIG4gLT0gdGhpcy5yYW5nZS50byAtIHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMucmFuZ2VzWysrdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5yYW5nZS5mcm9tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zICs9IG47XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLnRva2VuLmxvb2tBaGVhZClcbiAgICAgICAgICAgIHRoaXMudG9rZW4ubG9va0FoZWFkID0gdGhpcy5wb3MgKyAxO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkTmV4dCgpO1xuICAgIH1cbiAgICBzZXREb25lKCkge1xuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuY2h1bmtQb3MgPSB0aGlzLmVuZDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMucmFuZ2VzW3RoaXMucmFuZ2VJbmRleCA9IHRoaXMucmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc2V0KHBvcywgdG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgICAgICB0b2tlbi5zdGFydCA9IHBvcztcbiAgICAgICAgICAgIHRva2VuLmxvb2tBaGVhZCA9IHBvcyArIDE7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHRva2VuLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gbnVsbFRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyAhPSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICAgICAgaWYgKHBvcyA9PSB0aGlzLmVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RG9uZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IHRoaXMucmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5yYW5nZXNbLS10aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA+PSB0aGlzLnJhbmdlLnRvKVxuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmtQb3MgJiYgcG9zIDwgdGhpcy5jaHVua1BvcyArIHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IHBvcyAtIHRoaXMuY2h1bmtQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rT2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVhZE5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWFkKGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMuY2h1bmtQb3MgJiYgdG8gPD0gdGhpcy5jaHVua1BvcyArIHRoaXMuY2h1bmsubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmsuc2xpY2UoZnJvbSAtIHRoaXMuY2h1bmtQb3MsIHRvIC0gdGhpcy5jaHVua1Bvcyk7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMuY2h1bmsyUG9zICYmIHRvIDw9IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmsyLnNsaWNlKGZyb20gLSB0aGlzLmNodW5rMlBvcywgdG8gLSB0aGlzLmNodW5rMlBvcyk7XG4gICAgICAgIGlmIChmcm9tID49IHRoaXMucmFuZ2UuZnJvbSAmJiB0byA8PSB0aGlzLnJhbmdlLnRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQucmVhZChmcm9tLCB0byk7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCByIG9mIHRoaXMucmFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAoci5mcm9tID49IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHIudG8gPiBmcm9tKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLmlucHV0LnJlYWQoTWF0aC5tYXgoci5mcm9tLCBmcm9tKSwgTWF0aC5taW4oci50bywgdG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuQGludGVybmFsXG4qL1xuY2xhc3MgVG9rZW5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgaWQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICB0b2tlbihpbnB1dCwgc3RhY2spIHtcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSBzdGFjay5wO1xuICAgICAgICByZWFkVG9rZW4odGhpcy5kYXRhLCBpbnB1dCwgc3RhY2ssIHRoaXMuaWQsIHBhcnNlci5kYXRhLCBwYXJzZXIudG9rZW5QcmVjVGFibGUpO1xuICAgIH1cbn1cblRva2VuR3JvdXAucHJvdG90eXBlLmNvbnRleHR1YWwgPSBUb2tlbkdyb3VwLnByb3RvdHlwZS5mYWxsYmFjayA9IFRva2VuR3JvdXAucHJvdG90eXBlLmV4dGVuZCA9IGZhbHNlO1xuLyoqXG5AaGlkZVxuKi9cbmNsYXNzIExvY2FsVG9rZW5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcHJlY1RhYmxlLCBlbHNlVG9rZW4pIHtcbiAgICAgICAgdGhpcy5wcmVjVGFibGUgPSBwcmVjVGFibGU7XG4gICAgICAgIHRoaXMuZWxzZVRva2VuID0gZWxzZVRva2VuO1xuICAgICAgICB0aGlzLmRhdGEgPSB0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiID8gZGVjb2RlQXJyYXkoZGF0YSkgOiBkYXRhO1xuICAgIH1cbiAgICB0b2tlbihpbnB1dCwgc3RhY2spIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gaW5wdXQucG9zLCBza2lwcGVkID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGF0RW9mID0gaW5wdXQubmV4dCA8IDAsIG5leHRQb3MgPSBpbnB1dC5yZXNvbHZlT2Zmc2V0KDEsIDEpO1xuICAgICAgICAgICAgcmVhZFRva2VuKHRoaXMuZGF0YSwgaW5wdXQsIHN0YWNrLCAwLCB0aGlzLmRhdGEsIHRoaXMucHJlY1RhYmxlKTtcbiAgICAgICAgICAgIGlmIChpbnB1dC50b2tlbi52YWx1ZSA+IC0xKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxzZVRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFhdEVvZilcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XG4gICAgICAgICAgICBpZiAobmV4dFBvcyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaW5wdXQucmVzZXQobmV4dFBvcywgaW5wdXQudG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgICBpbnB1dC5yZXNldChzdGFydCwgaW5wdXQudG9rZW4pO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGhpcy5lbHNlVG9rZW4sIHNraXBwZWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuTG9jYWxUb2tlbkdyb3VwLnByb3RvdHlwZS5jb250ZXh0dWFsID0gVG9rZW5Hcm91cC5wcm90b3R5cGUuZmFsbGJhY2sgPSBUb2tlbkdyb3VwLnByb3RvdHlwZS5leHRlbmQgPSBmYWxzZTtcbi8qKlxuYEBleHRlcm5hbCB0b2tlbnNgIGRlY2xhcmF0aW9ucyBpbiB0aGUgZ3JhbW1hciBzaG91bGQgcmVzb2x2ZSB0b1xuYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiovXG5jbGFzcyBFeHRlcm5hbFRva2VuaXplciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgdG9rZW5pemVyLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGZ1bmN0aW9uIHRoYXQsXG4gICAgZ2l2ZW4gYW4gaW5wdXQgc3RyZWFtLCBzY2FucyBmb3IgdGhlIHR5cGVzIG9mIHRva2VucyBpdFxuICAgIHJlY29nbml6ZXMgYXQgdGhlIHN0cmVhbSdzIHBvc2l0aW9uLCBhbmQgY2FsbHNcbiAgICBbYGFjY2VwdFRva2VuYF0oI2xyLklucHV0U3RyZWFtLmFjY2VwdFRva2VuKSB3aGVuIGl0IGZpbmRzXG4gICAgb25lLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b2tlbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5jb250ZXh0dWFsID0gISFvcHRpb25zLmNvbnRleHR1YWw7XG4gICAgICAgIHRoaXMuZmFsbGJhY2sgPSAhIW9wdGlvbnMuZmFsbGJhY2s7XG4gICAgICAgIHRoaXMuZXh0ZW5kID0gISFvcHRpb25zLmV4dGVuZDtcbiAgICB9XG59XG4vLyBUb2tlbml6ZXIgZGF0YSBpcyBzdG9yZWQgYSBiaWcgdWludDE2IGFycmF5IGNvbnRhaW5pbmcsIGZvciBlYWNoXG4vLyBzdGF0ZTpcbi8vXG4vLyAgLSBBIGdyb3VwIGJpdG1hc2ssIGluZGljYXRpbmcgd2hhdCB0b2tlbiBncm91cHMgYXJlIHJlYWNoYWJsZSBmcm9tXG4vLyAgICB0aGlzIHN0YXRlLCBzbyB0aGF0IHBhdGhzIHRoYXQgY2FuIG9ubHkgbGVhZCB0byB0b2tlbnMgbm90IGluXG4vLyAgICBhbnkgb2YgdGhlIGN1cnJlbnQgZ3JvdXBzIGNhbiBiZSBjdXQgb2ZmIGVhcmx5LlxuLy9cbi8vICAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIHRoZSBzdGF0ZSdzIHNlcXVlbmNlIG9mIGFjY2VwdGluZ1xuLy8gICAgdG9rZW5zXG4vL1xuLy8gIC0gVGhlIG51bWJlciBvZiBvdXRnb2luZyBlZGdlcyBmb3IgdGhlIHN0YXRlXG4vL1xuLy8gIC0gVGhlIGFjY2VwdGluZyB0b2tlbnMsIGFzICh0b2tlbiBpZCwgZ3JvdXAgbWFzaykgcGFpcnNcbi8vXG4vLyAgLSBUaGUgb3V0Z29pbmcgZWRnZXMsIGFzIChzdGFydCBjaGFyYWN0ZXIsIGVuZCBjaGFyYWN0ZXIsIHN0YXRlXG4vLyAgICBpbmRleCkgdHJpcGxlcywgd2l0aCBlbmQgY2hhcmFjdGVyIGJlaW5nIGV4Y2x1c2l2ZVxuLy9cbi8vIFRoaXMgZnVuY3Rpb24gaW50ZXJwcmV0cyB0aGF0IGRhdGEsIHJ1bm5pbmcgdGhyb3VnaCBhIHN0cmVhbSBhc1xuLy8gbG9uZyBhcyBuZXcgc3RhdGVzIHdpdGggdGhlIGEgbWF0Y2hpbmcgZ3JvdXAgbWFzayBjYW4gYmUgcmVhY2hlZCxcbi8vIGFuZCB1cGRhdGluZyBgaW5wdXQudG9rZW5gIHdoZW4gaXQgbWF0Y2hlcyBhIHRva2VuLlxuZnVuY3Rpb24gcmVhZFRva2VuKGRhdGEsIGlucHV0LCBzdGFjaywgZ3JvdXAsIHByZWNUYWJsZSwgcHJlY09mZnNldCkge1xuICAgIGxldCBzdGF0ZSA9IDAsIGdyb3VwTWFzayA9IDEgPDwgZ3JvdXAsIHsgZGlhbGVjdCB9ID0gc3RhY2sucC5wYXJzZXI7XG4gICAgc2NhbjogZm9yICg7Oykge1xuICAgICAgICBpZiAoKGdyb3VwTWFzayAmIGRhdGFbc3RhdGVdKSA9PSAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGxldCBhY2NFbmQgPSBkYXRhW3N0YXRlICsgMV07XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhpcyBzdGF0ZSBjYW4gbGVhZCB0byBhIHRva2VuIGluIHRoZSBjdXJyZW50IGdyb3VwXG4gICAgICAgIC8vIEFjY2VwdCB0b2tlbnMgaW4gdGhpcyBzdGF0ZSwgcG9zc2libHkgb3ZlcndyaXRpbmdcbiAgICAgICAgLy8gbG93ZXItcHJlY2VkZW5jZSAvIHNob3J0ZXIgdG9rZW5zXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGF0ZSArIDM7IGkgPCBhY2NFbmQ7IGkgKz0gMilcbiAgICAgICAgICAgIGlmICgoZGF0YVtpICsgMV0gJiBncm91cE1hc2spID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCB0ZXJtID0gZGF0YVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGlhbGVjdC5hbGxvd3ModGVybSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGlucHV0LnRva2VuLnZhbHVlID09IC0xIHx8IGlucHV0LnRva2VuLnZhbHVlID09IHRlcm0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlcyh0ZXJtLCBpbnB1dC50b2tlbi52YWx1ZSwgcHJlY1RhYmxlLCBwcmVjT2Zmc2V0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGVybSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSBpbnB1dC5uZXh0LCBsb3cgPSAwLCBoaWdoID0gZGF0YVtzdGF0ZSArIDJdO1xuICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIEVPRlxuICAgICAgICBpZiAoaW5wdXQubmV4dCA8IDAgJiYgaGlnaCA+IGxvdyAmJiBkYXRhW2FjY0VuZCArIGhpZ2ggKiAzIC0gM10gPT0gNjU1MzUgLyogU2VxLkVuZCAqLykge1xuICAgICAgICAgICAgc3RhdGUgPSBkYXRhW2FjY0VuZCArIGhpZ2ggKiAzIC0gMV07XG4gICAgICAgICAgICBjb250aW51ZSBzY2FuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgc3RhdGUncyBlZGdlc1xuICAgICAgICBmb3IgKDsgbG93IDwgaGlnaDspIHtcbiAgICAgICAgICAgIGxldCBtaWQgPSAobG93ICsgaGlnaCkgPj4gMTtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGFjY0VuZCArIG1pZCArIChtaWQgPDwgMSk7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGRhdGFbaW5kZXhdLCB0byA9IGRhdGFbaW5kZXggKyAxXSB8fCAweDEwMDAwO1xuICAgICAgICAgICAgaWYgKG5leHQgPCBmcm9tKVxuICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICBlbHNlIGlmIChuZXh0ID49IHRvKVxuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgY29udGludWUgc2NhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kT2Zmc2V0KGRhdGEsIHN0YXJ0LCB0ZXJtKSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0LCBuZXh0OyAobmV4dCA9IGRhdGFbaV0pICE9IDY1NTM1IC8qIFNlcS5FbmQgKi87IGkrKylcbiAgICAgICAgaWYgKG5leHQgPT0gdGVybSlcbiAgICAgICAgICAgIHJldHVybiBpIC0gc3RhcnQ7XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVzKHRva2VuLCBwcmV2LCB0YWJsZURhdGEsIHRhYmxlT2Zmc2V0KSB7XG4gICAgbGV0IGlQcmV2ID0gZmluZE9mZnNldCh0YWJsZURhdGEsIHRhYmxlT2Zmc2V0LCBwcmV2KTtcbiAgICByZXR1cm4gaVByZXYgPCAwIHx8IGZpbmRPZmZzZXQodGFibGVEYXRhLCB0YWJsZU9mZnNldCwgdG9rZW4pIDwgaVByZXY7XG59XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlIHVzZWQgdG8gY29udHJvbCBjb25zb2xlIG91dHB1dFxuY29uc3QgdmVyYm9zZSA9IHR5cGVvZiBwcm9jZXNzICE9IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5lbnYgJiYgL1xcYnBhcnNlXFxiLy50ZXN0KHByb2Nlc3MuZW52LkxPRyk7XG5sZXQgc3RhY2tJRHMgPSBudWxsO1xuZnVuY3Rpb24gY3V0QXQodHJlZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGN1cnNvciA9IHRyZWUuY3Vyc29yKEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpO1xuICAgIGN1cnNvci5tb3ZlVG8ocG9zKTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmICghKHNpZGUgPCAwID8gY3Vyc29yLmNoaWxkQmVmb3JlKHBvcykgOiBjdXJzb3IuY2hpbGRBZnRlcihwb3MpKSlcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpZGUgPCAwID8gY3Vyc29yLnRvIDwgcG9zIDogY3Vyc29yLmZyb20gPiBwb3MpICYmICFjdXJzb3IudHlwZS5pc0Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZSA8IDAgPyBNYXRoLm1heCgwLCBNYXRoLm1pbihjdXJzb3IudG8gLSAxLCBwb3MgLSAyNSAvKiBMb29rYWhlYWQuTWFyZ2luICovKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4odHJlZS5sZW5ndGgsIE1hdGgubWF4KGN1cnNvci5mcm9tICsgMSwgcG9zICsgMjUgLyogTG9va2FoZWFkLk1hcmdpbiAqLykpO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCA/IGN1cnNvci5wcmV2U2libGluZygpIDogY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZSA8IDAgPyAwIDogdHJlZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRnJhZ21lbnRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50cywgbm9kZVNldCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5ub2RlU2V0ID0gbm9kZVNldDtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FmZUZyb20gPSAtMTtcbiAgICAgICAgdGhpcy5zYWZlVG8gPSAtMTtcbiAgICAgICAgdGhpcy50cmVlcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5uZXh0RnJhZ21lbnQoKTtcbiAgICB9XG4gICAgbmV4dEZyYWdtZW50KCkge1xuICAgICAgICBsZXQgZnIgPSB0aGlzLmZyYWdtZW50ID0gdGhpcy5pID09IHRoaXMuZnJhZ21lbnRzLmxlbmd0aCA/IG51bGwgOiB0aGlzLmZyYWdtZW50c1t0aGlzLmkrK107XG4gICAgICAgIGlmIChmcikge1xuICAgICAgICAgICAgdGhpcy5zYWZlRnJvbSA9IGZyLm9wZW5TdGFydCA/IGN1dEF0KGZyLnRyZWUsIGZyLmZyb20gKyBmci5vZmZzZXQsIDEpIC0gZnIub2Zmc2V0IDogZnIuZnJvbTtcbiAgICAgICAgICAgIHRoaXMuc2FmZVRvID0gZnIub3BlbkVuZCA/IGN1dEF0KGZyLnRyZWUsIGZyLnRvICsgZnIub2Zmc2V0LCAtMSkgLSBmci5vZmZzZXQgOiBmci50bztcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRyZWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4LnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmVlcy5wdXNoKGZyLnRyZWUpO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5wdXNoKC1mci5vZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5pbmRleC5wdXNoKDApO1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSB0aGlzLnNhZmVGcm9tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSAxZTk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYHBvc2AgbXVzdCBiZSA+PSBhbnkgcHJldmlvdXNseSBnaXZlbiBgcG9zYCBmb3IgdGhpcyBjdXJzb3JcbiAgICBub2RlQXQocG9zKSB7XG4gICAgICAgIGlmIChwb3MgPCB0aGlzLm5leHRTdGFydClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB3aGlsZSAodGhpcy5mcmFnbWVudCAmJiB0aGlzLnNhZmVUbyA8PSBwb3MpXG4gICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICBpZiAoIXRoaXMuZnJhZ21lbnQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLnRyZWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBpZiAobGFzdCA8IDApIHsgLy8gRW5kIG9mIHRyZWVcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMudHJlZXNbbGFzdF0sIGluZGV4ID0gdGhpcy5pbmRleFtsYXN0XTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0b3AuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0W2xhc3RdICsgdG9wLnBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc3RhcnQgPiBwb3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBUcmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09IHBvcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPCB0aGlzLnNhZmVGcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kIDw9IHRoaXMuc2FmZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gbmV4dC5wcm9wKE5vZGVQcm9wLmxvb2tBaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvb2tBaGVhZCB8fCBlbmQgKyBsb29rQWhlYWQgPCB0aGlzLmZyYWdtZW50LnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhbbGFzdF0rKztcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgKyBuZXh0Lmxlbmd0aCA+PSBNYXRoLm1heCh0aGlzLnNhZmVGcm9tLCBwb3MpKSB7IC8vIEVudGVyIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucHVzaCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4W2xhc3RdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgVG9rZW5DYWNoZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBzdHJlYW0pIHtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICAgIHRoaXMubWFpblRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zID0gcGFyc2VyLnRva2VuaXplcnMubWFwKF8gPT4gbmV3IENhY2hlZFRva2VuKTtcbiAgICB9XG4gICAgZ2V0QWN0aW9ucyhzdGFjaykge1xuICAgICAgICBsZXQgYWN0aW9uSW5kZXggPSAwO1xuICAgICAgICBsZXQgbWFpbiA9IG51bGw7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucCwgeyB0b2tlbml6ZXJzIH0gPSBwYXJzZXI7XG4gICAgICAgIGxldCBtYXNrID0gcGFyc2VyLnN0YXRlU2xvdChzdGFjay5zdGF0ZSwgMyAvKiBQYXJzZVN0YXRlLlRva2VuaXplck1hc2sgKi8pO1xuICAgICAgICBsZXQgY29udGV4dCA9IHN0YWNrLmN1ckNvbnRleHQgPyBzdGFjay5jdXJDb250ZXh0Lmhhc2ggOiAwO1xuICAgICAgICBsZXQgbG9va0FoZWFkID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKCgxIDw8IGkpICYgbWFzaykgPT0gMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCB0b2tlbml6ZXIgPSB0b2tlbml6ZXJzW2ldLCB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgICAgICAgaWYgKG1haW4gJiYgIXRva2VuaXplci5mYWxsYmFjaylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh0b2tlbml6ZXIuY29udGV4dHVhbCB8fCB0b2tlbi5zdGFydCAhPSBzdGFjay5wb3MgfHwgdG9rZW4ubWFzayAhPSBtYXNrIHx8IHRva2VuLmNvbnRleHQgIT0gY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGVkVG9rZW4odG9rZW4sIHRva2VuaXplciwgc3RhY2spO1xuICAgICAgICAgICAgICAgIHRva2VuLm1hc2sgPSBtYXNrO1xuICAgICAgICAgICAgICAgIHRva2VuLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRva2VuLmxvb2tBaGVhZCA+IHRva2VuLmVuZCArIDI1IC8qIExvb2thaGVhZC5NYXJnaW4gKi8pXG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gTWF0aC5tYXgodG9rZW4ubG9va0FoZWFkLCBsb29rQWhlYWQpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlICE9IDAgLyogVGVybS5FcnIgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IGFjdGlvbkluZGV4O1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5leHRlbmRlZCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4uZXh0ZW5kZWQsIHRva2VuLmVuZCwgYWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgIGFjdGlvbkluZGV4ID0gdGhpcy5hZGRBY3Rpb25zKHN0YWNrLCB0b2tlbi52YWx1ZSwgdG9rZW4uZW5kLCBhY3Rpb25JbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbml6ZXIuZXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkluZGV4ID4gc3RhcnRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5hY3Rpb25zLmxlbmd0aCA+IGFjdGlvbkluZGV4KVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnBvcCgpO1xuICAgICAgICBpZiAobG9va0FoZWFkKVxuICAgICAgICAgICAgc3RhY2suc2V0TG9va0FoZWFkKGxvb2tBaGVhZCk7XG4gICAgICAgIGlmICghbWFpbiAmJiBzdGFjay5wb3MgPT0gdGhpcy5zdHJlYW0uZW5kKSB7XG4gICAgICAgICAgICBtYWluID0gbmV3IENhY2hlZFRva2VuO1xuICAgICAgICAgICAgbWFpbi52YWx1ZSA9IHN0YWNrLnAucGFyc2VyLmVvZlRlcm07XG4gICAgICAgICAgICBtYWluLnN0YXJ0ID0gbWFpbi5lbmQgPSBzdGFjay5wb3M7XG4gICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgbWFpbi52YWx1ZSwgbWFpbi5lbmQsIGFjdGlvbkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1haW5Ub2tlbiA9IG1haW47XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnM7XG4gICAgfVxuICAgIGdldE1haW5Ub2tlbihzdGFjaykge1xuICAgICAgICBpZiAodGhpcy5tYWluVG9rZW4pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluVG9rZW47XG4gICAgICAgIGxldCBtYWluID0gbmV3IENhY2hlZFRva2VuLCB7IHBvcywgcCB9ID0gc3RhY2s7XG4gICAgICAgIG1haW4uc3RhcnQgPSBwb3M7XG4gICAgICAgIG1haW4uZW5kID0gTWF0aC5taW4ocG9zICsgMSwgcC5zdHJlYW0uZW5kKTtcbiAgICAgICAgbWFpbi52YWx1ZSA9IHBvcyA9PSBwLnN0cmVhbS5lbmQgPyBwLnBhcnNlci5lb2ZUZXJtIDogMCAvKiBUZXJtLkVyciAqLztcbiAgICAgICAgcmV0dXJuIG1haW47XG4gICAgfVxuICAgIHVwZGF0ZUNhY2hlZFRva2VuKHRva2VuLCB0b2tlbml6ZXIsIHN0YWNrKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMuc3RyZWFtLmNsaXBQb3Moc3RhY2sucG9zKTtcbiAgICAgICAgdG9rZW5pemVyLnRva2VuKHRoaXMuc3RyZWFtLnJlc2V0KHN0YXJ0LCB0b2tlbiksIHN0YWNrKTtcbiAgICAgICAgaWYgKHRva2VuLnZhbHVlID4gLTEpIHtcbiAgICAgICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VyLnNwZWNpYWxpemVkLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZXIuc3BlY2lhbGl6ZWRbaV0gPT0gdG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHBhcnNlci5zcGVjaWFsaXplcnNbaV0odGhpcy5zdHJlYW0ucmVhZCh0b2tlbi5zdGFydCwgdG9rZW4uZW5kKSwgc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDAgJiYgc3RhY2sucC5wYXJzZXIuZGlhbGVjdC5hbGxvd3MocmVzdWx0ID4+IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdCAmIDEpID09IDAgLyogU3BlY2lhbGl6ZS5TcGVjaWFsaXplICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gcmVzdWx0ID4+IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4uZXh0ZW5kZWQgPSByZXN1bHQgPj4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSAwIC8qIFRlcm0uRXJyICovO1xuICAgICAgICAgICAgdG9rZW4uZW5kID0gdGhpcy5zdHJlYW0uY2xpcFBvcyhzdGFydCArIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1dEFjdGlvbihhY3Rpb24sIHRva2VuLCBlbmQsIGluZGV4KSB7XG4gICAgICAgIC8vIERvbid0IGFkZCBkdXBsaWNhdGUgYWN0aW9uc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpICs9IDMpXG4gICAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zW2ldID09IGFjdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IGFjdGlvbjtcbiAgICAgICAgdGhpcy5hY3Rpb25zW2luZGV4KytdID0gdG9rZW47XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IGVuZDtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBhZGRBY3Rpb25zKHN0YWNrLCB0b2tlbiwgZW5kLCBpbmRleCkge1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gc3RhY2ssIHsgcGFyc2VyIH0gPSBzdGFjay5wLCB7IGRhdGEgfSA9IHBhcnNlcjtcbiAgICAgICAgZm9yIChsZXQgc2V0ID0gMDsgc2V0IDwgMjsgc2V0KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXJzZXIuc3RhdGVTbG90KHN0YXRlLCBzZXQgPyAyIC8qIFBhcnNlU3RhdGUuU2tpcCAqLyA6IDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKTs7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IDY1NTM1IC8qIFNlcS5FbmQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaSArIDFdID09IDEgLyogU2VxLk5leHQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBwYWlyKGRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAwICYmIGRhdGFbaSArIDFdID09IDIgLyogU2VxLk90aGVyICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5wdXRBY3Rpb24ocGFpcihkYXRhLCBpICsgMiksIHRva2VuLCBlbmQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IHRva2VuKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMucHV0QWN0aW9uKHBhaXIoZGF0YSwgaSArIDEpLCB0b2tlbiwgZW5kLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cbmNsYXNzIFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgdGhpcy5yZWNvdmVyaW5nID0gMDtcbiAgICAgICAgdGhpcy5uZXh0U3RhY2tJRCA9IDB4MjY1NDsgLy8g4pmULCDimZUsIOKZliwg4pmXLCDimZgsIOKZmSwg4pmgLCDimaEsIOKZoiwg4pmjLCDimaQsIOKZpSwg4pmmLCDimadcbiAgICAgICAgdGhpcy5taW5TdGFja1BvcyA9IDA7XG4gICAgICAgIHRoaXMucmV1c2VkID0gW107XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0QmlnUmVkdWN0aW9uU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0QmlnUmVkdWN0aW9uU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuYmlnUmVkdWN0aW9uQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG5ldyBJbnB1dFN0cmVhbShpbnB1dCwgcmFuZ2VzKTtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBuZXcgVG9rZW5DYWNoZShwYXJzZXIsIHRoaXMuc3RyZWFtKTtcbiAgICAgICAgdGhpcy50b3BUZXJtID0gcGFyc2VyLnRvcFsxXTtcbiAgICAgICAgbGV0IHsgZnJvbSB9ID0gcmFuZ2VzWzBdO1xuICAgICAgICB0aGlzLnN0YWNrcyA9IFtTdGFjay5zdGFydCh0aGlzLCBwYXJzZXIudG9wWzBdLCBmcm9tKV07XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzLmxlbmd0aCAmJiB0aGlzLnN0cmVhbS5lbmQgLSBmcm9tID4gcGFyc2VyLmJ1ZmZlckxlbmd0aCAqIDRcbiAgICAgICAgICAgID8gbmV3IEZyYWdtZW50Q3Vyc29yKGZyYWdtZW50cywgcGFyc2VyLm5vZGVTZXQpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHBhcnNlZFBvcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluU3RhY2tQb3M7XG4gICAgfVxuICAgIC8vIE1vdmUgdGhlIHBhcnNlciBmb3J3YXJkLiBUaGlzIHdpbGwgcHJvY2VzcyBhbGwgcGFyc2Ugc3RhY2tzIGF0XG4gICAgLy8gYHRoaXMucG9zYCBhbmQgdHJ5IHRvIGFkdmFuY2UgdGhlbSB0byBhIGZ1cnRoZXIgcG9zaXRpb24uIElmIG5vXG4gICAgLy8gc3RhY2sgZm9yIHN1Y2ggYSBwb3NpdGlvbiBpcyBmb3VuZCwgaXQnbGwgc3RhcnQgZXJyb3ItcmVjb3ZlcnkuXG4gICAgLy9cbiAgICAvLyBXaGVuIHRoZSBwYXJzZSBpcyBmaW5pc2hlZCwgdGhpcyB3aWxsIHJldHVybiBhIHN5bnRheCB0cmVlLiBXaGVuXG4gICAgLy8gbm90LCBpdCByZXR1cm5zIGBudWxsYC5cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBsZXQgc3RhY2tzID0gdGhpcy5zdGFja3MsIHBvcyA9IHRoaXMubWluU3RhY2tQb3M7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBob2xkIHN0YWNrcyBiZXlvbmQgYHBvc2AuXG4gICAgICAgIGxldCBuZXdTdGFja3MgPSB0aGlzLnN0YWNrcyA9IFtdO1xuICAgICAgICBsZXQgc3RvcHBlZCwgc3RvcHBlZFRva2VucztcbiAgICAgICAgLy8gSWYgYSBsYXJnZSBhbW91bnQgb2YgcmVkdWN0aW9ucyBoYXBwZW5lZCB3aXRoIHRoZSBzYW1lIHN0YXJ0XG4gICAgICAgIC8vIHBvc2l0aW9uLCBmb3JjZSB0aGUgc3RhY2sgb3V0IG9mIHRoYXQgcHJvZHVjdGlvbiBpbiBvcmRlciB0b1xuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHRyZWUgdG9vIGRlZXAgdG8gcmVjdXJzZSB0aHJvdWdoLlxuICAgICAgICAvLyAoVGhpcyBpcyBhbiB1Z2x5IGtsdWRnZSwgYmVjYXVzZSB1bmZvcnR1bmF0ZWx5IHRoZXJlIGlzIG5vXG4gICAgICAgIC8vIHN0cmFpZ2h0Zm9yd2FyZCwgY2hlYXAgd2F5IHRvIGNoZWNrIGZvciB0aGlzIGhhcHBlbmluZywgZHVlIHRvXG4gICAgICAgIC8vIHRoZSBoaXN0b3J5IG9mIHJlZHVjdGlvbnMgb25seSBiZWluZyBhdmFpbGFibGUgaW4gYW5cbiAgICAgICAgLy8gZXhwZW5zaXZlLXRvLWFjY2VzcyBmb3JtYXQgaW4gdGhlIHN0YWNrIGJ1ZmZlcnMuKVxuICAgICAgICBpZiAodGhpcy5iaWdSZWR1Y3Rpb25Db3VudCA+IDMwMCAvKiBSZWMuTWF4TGVmdEFzc29jaWF0aXZlUmVkdWN0aW9uQ291bnQgKi8gJiYgc3RhY2tzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgW3NdID0gc3RhY2tzO1xuICAgICAgICAgICAgd2hpbGUgKHMuZm9yY2VSZWR1Y2UoKSAmJiBzLnN0YWNrLmxlbmd0aCAmJiBzLnN0YWNrW3Muc3RhY2subGVuZ3RoIC0gMl0gPj0gdGhpcy5sYXN0QmlnUmVkdWN0aW9uU3RhcnQpIHsgfVxuICAgICAgICAgICAgdGhpcy5iaWdSZWR1Y3Rpb25Db3VudCA9IHRoaXMubGFzdEJpZ1JlZHVjdGlvblNpemUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgYWR2YW5jaW5nIGFueSBzdGFja3MgYXQgYHBvc2AgdW50aWwgdGhleSBlaXRoZXIgbW92ZVxuICAgICAgICAvLyBmb3J3YXJkIG9yIGNhbid0IGJlIGFkdmFuY2VkLiBHYXRoZXIgc3RhY2tzIHRoYXQgY2FuJ3QgYmVcbiAgICAgICAgLy8gYWR2YW5jZWQgZnVydGhlciBpbiBgc3RvcHBlZGAuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBzdGFja3NbaV07XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbnMubWFpblRva2VuID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sucG9zID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5wdXNoKHN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hZHZhbmNlU3RhY2soc3RhY2ssIG5ld1N0YWNrcywgc3RhY2tzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHBlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHBlZFRva2VucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0b3BwZWQucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2sgPSB0aGlzLnRva2Vucy5nZXRNYWluVG9rZW4oc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkVG9rZW5zLnB1c2godG9rLnZhbHVlLCB0b2suZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXdTdGFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSBzdG9wcGVkICYmIGZpbmRGaW5pc2hlZChzdG9wcGVkKTtcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbmlzaCB3aXRoIFwiICsgdGhpcy5zdGFja0lEKGZpbmlzaGVkKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VyLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlICYmIHN0b3BwZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3R1Y2sgd2l0aCB0b2tlbiBcIiArICh0aGlzLnRva2Vucy5tYWluVG9rZW4gPyB0aGlzLnBhcnNlci5nZXROYW1lKHRoaXMudG9rZW5zLm1haW5Ub2tlbi52YWx1ZSkgOiBcIm5vbmVcIikpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vIHBhcnNlIGF0IFwiICsgcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvdmVyaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcmluZyA9IDUgLyogUmVjLkRpc3RhbmNlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY292ZXJpbmcgJiYgc3RvcHBlZCkge1xuICAgICAgICAgICAgbGV0IGZpbmlzaGVkID0gdGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBzdG9wcGVkWzBdLnBvcyA+IHRoaXMuc3RvcHBlZEF0ID8gc3RvcHBlZFswXVxuICAgICAgICAgICAgICAgIDogdGhpcy5ydW5SZWNvdmVyeShzdG9wcGVkLCBzdG9wcGVkVG9rZW5zLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm9yY2UtZmluaXNoIFwiICsgdGhpcy5zdGFja0lEKGZpbmlzaGVkKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQuZm9yY2VBbGwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcmluZykge1xuICAgICAgICAgICAgbGV0IG1heFJlbWFpbmluZyA9IHRoaXMucmVjb3ZlcmluZyA9PSAxID8gMSA6IHRoaXMucmVjb3ZlcmluZyAqIDMgLyogUmVjLk1heFJlbWFpbmluZ1BlclN0ZXAgKi87XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzLmxlbmd0aCA+IG1heFJlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld1N0YWNrcy5sZW5ndGggPiBtYXhSZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdTdGFja3Muc29tZShzID0+IHMucmVkdWNlUG9zID4gcG9zKSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJpbmctLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdTdGFja3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gUHJ1bmUgc3RhY2tzIHRoYXQgYXJlIGluIHRoZSBzYW1lIHN0YXRlLCBvciB0aGF0IGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gcnVubmluZyB3aXRob3V0IHNwbGl0dGluZyBmb3IgYSB3aGlsZSwgdG8gYXZvaWQgZ2V0dGluZyBzdHVja1xuICAgICAgICAgICAgLy8gd2l0aCBtdWx0aXBsZSBzdWNjZXNzZnVsIHN0YWNrcyBydW5uaW5nIGVuZGxlc3NseSBvbi5cbiAgICAgICAgICAgIG91dGVyOiBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1N0YWNrcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhY2sgPSBuZXdTdGFja3NbaV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbmV3U3RhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IG5ld1N0YWNrc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLnNhbWVTdGF0ZShvdGhlcikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLmJ1ZmZlci5sZW5ndGggPiA1MDAgLyogUmVjLk1pbkJ1ZmZlckxlbmd0aFBydW5lICovICYmIG90aGVyLmJ1ZmZlci5sZW5ndGggPiA1MDAgLyogUmVjLk1pbkJ1ZmZlckxlbmd0aFBydW5lICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChzdGFjay5zY29yZSAtIG90aGVyLnNjb3JlKSB8fCAoc3RhY2suYnVmZmVyLmxlbmd0aCAtIG90aGVyLmJ1ZmZlci5sZW5ndGgpKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzLmxlbmd0aCA+IDEyIC8qIFJlYy5NYXhTdGFja0NvdW50ICovKVxuICAgICAgICAgICAgICAgIG5ld1N0YWNrcy5zcGxpY2UoMTIgLyogUmVjLk1heFN0YWNrQ291bnQgKi8sIG5ld1N0YWNrcy5sZW5ndGggLSAxMiAvKiBSZWMuTWF4U3RhY2tDb3VudCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5TdGFja1BvcyA9IG5ld1N0YWNrc1swXS5wb3M7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbmV3U3RhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKG5ld1N0YWNrc1tpXS5wb3MgPCB0aGlzLm1pblN0YWNrUG9zKVxuICAgICAgICAgICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSBuZXdTdGFja3NbaV0ucG9zO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiB0aGlzLnN0b3BwZWRBdCA8IHBvcylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ2FuJ3QgbW92ZSBzdG9wcGVkQXQgZm9yd2FyZFwiKTtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBwb3M7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBzdGFjaywgb3IgbnVsbCBpZiB0aGVcbiAgICAvLyBzdGFjayBjYW4ndCBhZHZhbmNlIG5vcm1hbGx5LiBXaGVuIGBzcGxpdGAgYW5kIGBzdGFja3NgIGFyZVxuICAgIC8vIGdpdmVuLCBzdGFja3Mgc3BsaXQgb2ZmIGJ5IGFtYmlndW91cyBvcGVyYXRpb25zIHdpbGwgYmUgcHVzaGVkIHRvXG4gICAgLy8gYHNwbGl0YCwgb3IgYWRkZWQgdG8gYHN0YWNrc2AgaWYgdGhleSBtb3ZlIGBwb3NgIGZvcndhcmQuXG4gICAgYWR2YW5jZVN0YWNrKHN0YWNrLCBzdGFja3MsIHNwbGl0KSB7XG4gICAgICAgIGxldCBzdGFydCA9IHN0YWNrLnBvcywgeyBwYXJzZXIgfSA9IHRoaXM7XG4gICAgICAgIGxldCBiYXNlID0gdmVyYm9zZSA/IHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAtPiBcIiA6IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsICYmIHN0YXJ0ID4gdGhpcy5zdG9wcGVkQXQpXG4gICAgICAgICAgICByZXR1cm4gc3RhY2suZm9yY2VSZWR1Y2UoKSA/IHN0YWNrIDogbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuZnJhZ21lbnRzKSB7XG4gICAgICAgICAgICBsZXQgc3RyaWN0Q3ggPSBzdGFjay5jdXJDb250ZXh0ICYmIHN0YWNrLmN1ckNvbnRleHQudHJhY2tlci5zdHJpY3QsIGN4SGFzaCA9IHN0cmljdEN4ID8gc3RhY2suY3VyQ29udGV4dC5oYXNoIDogMDtcbiAgICAgICAgICAgIGZvciAobGV0IGNhY2hlZCA9IHRoaXMuZnJhZ21lbnRzLm5vZGVBdChzdGFydCk7IGNhY2hlZDspIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSB0aGlzLnBhcnNlci5ub2RlU2V0LnR5cGVzW2NhY2hlZC50eXBlLmlkXSA9PSBjYWNoZWQudHlwZSA/IHBhcnNlci5nZXRHb3RvKHN0YWNrLnN0YXRlLCBjYWNoZWQudHlwZS5pZCkgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPiAtMSAmJiBjYWNoZWQubGVuZ3RoICYmICghc3RyaWN0Q3ggfHwgKGNhY2hlZC5wcm9wKE5vZGVQcm9wLmNvbnRleHRIYXNoKSB8fCAwKSA9PSBjeEhhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVzZU5vZGUoY2FjaGVkLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBgICh2aWEgcmV1c2Ugb2YgJHtwYXJzZXIuZ2V0TmFtZShjYWNoZWQudHlwZS5pZCl9KWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoY2FjaGVkIGluc3RhbmNlb2YgVHJlZSkgfHwgY2FjaGVkLmNoaWxkcmVuLmxlbmd0aCA9PSAwIHx8IGNhY2hlZC5wb3NpdGlvbnNbMF0gPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBjYWNoZWQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyIGluc3RhbmNlb2YgVHJlZSAmJiBjYWNoZWQucG9zaXRpb25zWzBdID09IDApXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZCA9IGlubmVyO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlZmF1bHRSZWR1Y2UgPSBwYXJzZXIuc3RhdGVTbG90KHN0YWNrLnN0YXRlLCA0IC8qIFBhcnNlU3RhdGUuRGVmYXVsdFJlZHVjZSAqLyk7XG4gICAgICAgIGlmIChkZWZhdWx0UmVkdWNlID4gMCkge1xuICAgICAgICAgICAgc3RhY2sucmVkdWNlKGRlZmF1bHRSZWR1Y2UpO1xuICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBgICh2aWEgYWx3YXlzLXJlZHVjZSAke3BhcnNlci5nZXROYW1lKGRlZmF1bHRSZWR1Y2UgJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovKX0pYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhY2suc3RhY2subGVuZ3RoID49IDg0MDAgLyogUmVjLkN1dERlcHRoICovKSB7XG4gICAgICAgICAgICB3aGlsZSAoc3RhY2suc3RhY2subGVuZ3RoID4gNjAwMCAvKiBSZWMuQ3V0VG8gKi8gJiYgc3RhY2suZm9yY2VSZWR1Y2UoKSkgeyB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFjdGlvbnMgPSB0aGlzLnRva2Vucy5nZXRBY3Rpb25zKHN0YWNrKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSBhY3Rpb25zW2krK10sIHRlcm0gPSBhY3Rpb25zW2krK10sIGVuZCA9IGFjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gaSA9PSBhY3Rpb25zLmxlbmd0aCB8fCAhc3BsaXQ7XG4gICAgICAgICAgICBsZXQgbG9jYWxTdGFjayA9IGxhc3QgPyBzdGFjayA6IHN0YWNrLnNwbGl0KCk7XG4gICAgICAgICAgICBsZXQgbWFpbiA9IHRoaXMudG9rZW5zLm1haW5Ub2tlbjtcbiAgICAgICAgICAgIGxvY2FsU3RhY2suYXBwbHkoYWN0aW9uLCB0ZXJtLCBtYWluID8gbWFpbi5zdGFydCA6IGxvY2FsU3RhY2sucG9zLCBlbmQpO1xuICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChsb2NhbFN0YWNrKSArIGAgKHZpYSAkeyhhY3Rpb24gJiA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLykgPT0gMCA/IFwic2hpZnRcIlxuICAgICAgICAgICAgICAgICAgICA6IGByZWR1Y2Ugb2YgJHtwYXJzZXIuZ2V0TmFtZShhY3Rpb24gJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovKX1gfSBmb3IgJHtwYXJzZXIuZ2V0TmFtZSh0ZXJtKX0gQCAke3N0YXJ0fSR7bG9jYWxTdGFjayA9PSBzdGFjayA/IFwiXCIgOiBcIiwgc3BsaXRcIn0pYCk7XG4gICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGxvY2FsU3RhY2sucG9zID4gc3RhcnQpXG4gICAgICAgICAgICAgICAgc3RhY2tzLnB1c2gobG9jYWxTdGFjayk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc3BsaXQucHVzaChsb2NhbFN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFkdmFuY2UgYSBnaXZlbiBzdGFjayBmb3J3YXJkIGFzIGZhciBhcyBpdCB3aWxsIGdvLiBSZXR1cm5zIHRoZVxuICAgIC8vIChwb3NzaWJseSB1cGRhdGVkKSBzdGFjayBpZiBpdCBnb3Qgc3R1Y2ssIG9yIG51bGwgaWYgaXQgbW92ZWRcbiAgICAvLyBmb3J3YXJkIGFuZCB3YXMgZ2l2ZW4gdG8gYHB1c2hTdGFja0RlZHVwYC5cbiAgICBhZHZhbmNlRnVsbHkoc3RhY2ssIG5ld1N0YWNrcykge1xuICAgICAgICBsZXQgcG9zID0gc3RhY2sucG9zO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWR2YW5jZVN0YWNrKHN0YWNrLCBudWxsLCBudWxsKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc3RhY2sucG9zID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgcHVzaFN0YWNrRGVkdXAoc3RhY2ssIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuUmVjb3Zlcnkoc3RhY2tzLCB0b2tlbnMsIG5ld1N0YWNrcykge1xuICAgICAgICBsZXQgZmluaXNoZWQgPSBudWxsLCByZXN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGFjayA9IHN0YWNrc1tpXSwgdG9rZW4gPSB0b2tlbnNbaSA8PCAxXSwgdG9rZW5FbmQgPSB0b2tlbnNbKGkgPDwgMSkgKyAxXTtcbiAgICAgICAgICAgIGxldCBiYXNlID0gdmVyYm9zZSA/IHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAtPiBcIiA6IFwiXCI7XG4gICAgICAgICAgICBpZiAoc3RhY2suZGVhZEVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RhY2sucmVzdGFydCgpO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKHN0YWNrKSArIFwiIChyZXN0YXJ0ZWQpXCIpO1xuICAgICAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5hZHZhbmNlRnVsbHkoc3RhY2ssIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZvcmNlID0gc3RhY2suc3BsaXQoKSwgZm9yY2VCYXNlID0gYmFzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBmb3JjZS5mb3JjZVJlZHVjZSgpICYmIGogPCAxMCAvKiBSZWMuRm9yY2VSZWR1Y2VMaW1pdCAqLzsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcmNlQmFzZSArIHRoaXMuc3RhY2tJRChmb3JjZSkgKyBcIiAodmlhIGZvcmNlLXJlZHVjZSlcIik7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLmFkdmFuY2VGdWxseShmb3JjZSwgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlQmFzZSA9IHRoaXMuc3RhY2tJRChmb3JjZSkgKyBcIiAtPiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGluc2VydCBvZiBzdGFjay5yZWNvdmVyQnlJbnNlcnQodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoaW5zZXJ0KSArIFwiICh2aWEgcmVjb3Zlci1pbnNlcnQpXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZUZ1bGx5KGluc2VydCwgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbS5lbmQgPiBzdGFjay5wb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5FbmQgPT0gc3RhY2sucG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kKys7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gMCAvKiBUZXJtLkVyciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucmVjb3ZlckJ5RGVsZXRlKHRva2VuLCB0b2tlbkVuZCk7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIHJlY292ZXItZGVsZXRlICR7dGhpcy5wYXJzZXIuZ2V0TmFtZSh0b2tlbil9KWApO1xuICAgICAgICAgICAgICAgIHB1c2hTdGFja0RlZHVwKHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWZpbmlzaGVkIHx8IGZpbmlzaGVkLnNjb3JlIDwgc3RhY2suc2NvcmUpIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5pc2hlZDtcbiAgICB9XG4gICAgLy8gQ29udmVydCB0aGUgc3RhY2sncyBidWZmZXIgdG8gYSBzeW50YXggdHJlZS5cbiAgICBzdGFja1RvVHJlZShzdGFjaykge1xuICAgICAgICBzdGFjay5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gVHJlZS5idWlsZCh7IGJ1ZmZlcjogU3RhY2tCdWZmZXJDdXJzb3IuY3JlYXRlKHN0YWNrKSxcbiAgICAgICAgICAgIG5vZGVTZXQ6IHRoaXMucGFyc2VyLm5vZGVTZXQsXG4gICAgICAgICAgICB0b3BJRDogdGhpcy50b3BUZXJtLFxuICAgICAgICAgICAgbWF4QnVmZmVyTGVuZ3RoOiB0aGlzLnBhcnNlci5idWZmZXJMZW5ndGgsXG4gICAgICAgICAgICByZXVzZWQ6IHRoaXMucmV1c2VkLFxuICAgICAgICAgICAgc3RhcnQ6IHRoaXMucmFuZ2VzWzBdLmZyb20sXG4gICAgICAgICAgICBsZW5ndGg6IHN0YWNrLnBvcyAtIHRoaXMucmFuZ2VzWzBdLmZyb20sXG4gICAgICAgICAgICBtaW5SZXBlYXRUeXBlOiB0aGlzLnBhcnNlci5taW5SZXBlYXRUZXJtIH0pO1xuICAgIH1cbiAgICBzdGFja0lEKHN0YWNrKSB7XG4gICAgICAgIGxldCBpZCA9IChzdGFja0lEcyB8fCAoc3RhY2tJRHMgPSBuZXcgV2Vha01hcCkpLmdldChzdGFjayk7XG4gICAgICAgIGlmICghaWQpXG4gICAgICAgICAgICBzdGFja0lEcy5zZXQoc3RhY2ssIGlkID0gU3RyaW5nLmZyb21Db2RlUG9pbnQodGhpcy5uZXh0U3RhY2tJRCsrKSk7XG4gICAgICAgIHJldHVybiBpZCArIHN0YWNrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHB1c2hTdGFja0RlZHVwKHN0YWNrLCBuZXdTdGFja3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1N0YWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgb3RoZXIgPSBuZXdTdGFja3NbaV07XG4gICAgICAgIGlmIChvdGhlci5wb3MgPT0gc3RhY2sucG9zICYmIG90aGVyLnNhbWVTdGF0ZShzdGFjaykpIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGFja3NbaV0uc2NvcmUgPCBzdGFjay5zY29yZSlcbiAgICAgICAgICAgICAgICBuZXdTdGFja3NbaV0gPSBzdGFjaztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXdTdGFja3MucHVzaChzdGFjayk7XG59XG5jbGFzcyBEaWFsZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIGZsYWdzLCBkaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICAgIGFsbG93cyh0ZXJtKSB7IHJldHVybiAhdGhpcy5kaXNhYmxlZCB8fCB0aGlzLmRpc2FibGVkW3Rlcm1dID09IDA7IH1cbn1cbmNvbnN0IGlkID0geCA9PiB4O1xuLyoqXG5Db250ZXh0IHRyYWNrZXJzIGFyZSB1c2VkIHRvIHRyYWNrIHN0YXRlZnVsIGNvbnRleHQgKHN1Y2ggYXNcbmluZGVudGF0aW9uIGluIHRoZSBQeXRob24gZ3JhbW1hciwgb3IgcGFyZW50IGVsZW1lbnRzIGluIHRoZSBYTUxcbmdyYW1tYXIpIG5lZWRlZCBieSBleHRlcm5hbCB0b2tlbml6ZXJzLiBZb3UgZGVjbGFyZSB0aGVtIGluIGFcbmdyYW1tYXIgZmlsZSBhcyBgQGNvbnRleHQgZXhwb3J0TmFtZSBmcm9tIFwibW9kdWxlXCJgLlxuXG5Db250ZXh0IHZhbHVlcyBzaG91bGQgYmUgaW1tdXRhYmxlLCBhbmQgY2FuIGJlIHVwZGF0ZWQgKHJlcGxhY2VkKVxub24gc2hpZnQgb3IgcmVkdWNlIGFjdGlvbnMuXG5cblRoZSBleHBvcnQgdXNlZCBpbiBhIGBAY29udGV4dGAgZGVjbGFyYXRpb24gc2hvdWxkIGJlIG9mIHRoaXNcbnR5cGUuXG4qL1xuY2xhc3MgQ29udGV4dFRyYWNrZXIge1xuICAgIC8qKlxuICAgIERlZmluZSBhIGNvbnRleHQgdHJhY2tlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHNwZWMuc3RhcnQ7XG4gICAgICAgIHRoaXMuc2hpZnQgPSBzcGVjLnNoaWZ0IHx8IGlkO1xuICAgICAgICB0aGlzLnJlZHVjZSA9IHNwZWMucmVkdWNlIHx8IGlkO1xuICAgICAgICB0aGlzLnJldXNlID0gc3BlYy5yZXVzZSB8fCBpZDtcbiAgICAgICAgdGhpcy5oYXNoID0gc3BlYy5oYXNoIHx8ICgoKSA9PiAwKTtcbiAgICAgICAgdGhpcy5zdHJpY3QgPSBzcGVjLnN0cmljdCAhPT0gZmFsc2U7XG4gICAgfVxufVxuLyoqXG5Ib2xkcyB0aGUgcGFyc2UgdGFibGVzIGZvciBhIGdpdmVuIGdyYW1tYXIsIGFzIGdlbmVyYXRlZCBieVxuYGxlemVyLWdlbmVyYXRvcmAsIGFuZCBwcm92aWRlcyBbbWV0aG9kc10oI2NvbW1vbi5QYXJzZXIpIHRvIHBhcnNlXG5jb250ZW50IHdpdGguXG4qL1xuY2xhc3MgTFJQYXJzZXIgZXh0ZW5kcyBQYXJzZXIge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcHBlcnMgPSBbXTtcbiAgICAgICAgaWYgKHNwZWMudmVyc2lvbiAhPSAxNCAvKiBGaWxlLlZlcnNpb24gKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgUGFyc2VyIHZlcnNpb24gKCR7c3BlYy52ZXJzaW9ufSkgZG9lc24ndCBtYXRjaCBydW50aW1lIHZlcnNpb24gKCR7MTQgLyogRmlsZS5WZXJzaW9uICovfSlgKTtcbiAgICAgICAgbGV0IG5vZGVOYW1lcyA9IHNwZWMubm9kZU5hbWVzLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgdGhpcy5taW5SZXBlYXRUZXJtID0gbm9kZU5hbWVzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjLnJlcGVhdE5vZGVDb3VudDsgaSsrKVxuICAgICAgICAgICAgbm9kZU5hbWVzLnB1c2goXCJcIik7XG4gICAgICAgIGxldCB0b3BUZXJtcyA9IE9iamVjdC5rZXlzKHNwZWMudG9wUnVsZXMpLm1hcChyID0+IHNwZWMudG9wUnVsZXNbcl1bMV0pO1xuICAgICAgICBsZXQgbm9kZVByb3BzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZU5hbWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbm9kZVByb3BzLnB1c2goW10pO1xuICAgICAgICBmdW5jdGlvbiBzZXRQcm9wKG5vZGVJRCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIG5vZGVQcm9wc1tub2RlSURdLnB1c2goW3Byb3AsIHByb3AuZGVzZXJpYWxpemUoU3RyaW5nKHZhbHVlKSldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlYy5ub2RlUHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wU3BlYyBvZiBzcGVjLm5vZGVQcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wID0gcHJvcFNwZWNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBOb2RlUHJvcFtwcm9wXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb3BTcGVjLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwcm9wU3BlY1tpKytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKG5leHQsIHByb3AsIHByb3BTcGVjW2krK10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcFNwZWNbaSArIC1uZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAtbmV4dDsgaiA+IDA7IGotLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKHByb3BTcGVjW2krK10sIHByb3AsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlU2V0ID0gbmV3IE5vZGVTZXQobm9kZU5hbWVzLm1hcCgobmFtZSwgaSkgPT4gTm9kZVR5cGUuZGVmaW5lKHtcbiAgICAgICAgICAgIG5hbWU6IGkgPj0gdGhpcy5taW5SZXBlYXRUZXJtID8gdW5kZWZpbmVkIDogbmFtZSxcbiAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgcHJvcHM6IG5vZGVQcm9wc1tpXSxcbiAgICAgICAgICAgIHRvcDogdG9wVGVybXMuaW5kZXhPZihpKSA+IC0xLFxuICAgICAgICAgICAgZXJyb3I6IGkgPT0gMCxcbiAgICAgICAgICAgIHNraXBwZWQ6IHNwZWMuc2tpcHBlZE5vZGVzICYmIHNwZWMuc2tpcHBlZE5vZGVzLmluZGV4T2YoaSkgPiAtMVxuICAgICAgICB9KSkpO1xuICAgICAgICBpZiAoc3BlYy5wcm9wU291cmNlcylcbiAgICAgICAgICAgIHRoaXMubm9kZVNldCA9IHRoaXMubm9kZVNldC5leHRlbmQoLi4uc3BlYy5wcm9wU291cmNlcyk7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gRGVmYXVsdEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgbGV0IHRva2VuQXJyYXkgPSBkZWNvZGVBcnJheShzcGVjLnRva2VuRGF0YSk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHNwZWMuY29udGV4dDtcbiAgICAgICAgdGhpcy5zcGVjaWFsaXplclNwZWNzID0gc3BlYy5zcGVjaWFsaXplZCB8fCBbXTtcbiAgICAgICAgdGhpcy5zcGVjaWFsaXplZCA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnNwZWNpYWxpemVyU3BlY3MubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNwZWNpYWxpemVyU3BlY3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB0aGlzLnNwZWNpYWxpemVkW2ldID0gdGhpcy5zcGVjaWFsaXplclNwZWNzW2ldLnRlcm07XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZXJzID0gdGhpcy5zcGVjaWFsaXplclNwZWNzLm1hcChnZXRTcGVjaWFsaXplcik7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gZGVjb2RlQXJyYXkoc3BlYy5zdGF0ZXMsIFVpbnQzMkFycmF5KTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGVjb2RlQXJyYXkoc3BlYy5zdGF0ZURhdGEpO1xuICAgICAgICB0aGlzLmdvdG8gPSBkZWNvZGVBcnJheShzcGVjLmdvdG8pO1xuICAgICAgICB0aGlzLm1heFRlcm0gPSBzcGVjLm1heFRlcm07XG4gICAgICAgIHRoaXMudG9rZW5pemVycyA9IHNwZWMudG9rZW5pemVycy5tYXAodmFsdWUgPT4gdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgPyBuZXcgVG9rZW5Hcm91cCh0b2tlbkFycmF5LCB2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgIHRoaXMudG9wUnVsZXMgPSBzcGVjLnRvcFJ1bGVzO1xuICAgICAgICB0aGlzLmRpYWxlY3RzID0gc3BlYy5kaWFsZWN0cyB8fCB7fTtcbiAgICAgICAgdGhpcy5keW5hbWljUHJlY2VkZW5jZXMgPSBzcGVjLmR5bmFtaWNQcmVjZWRlbmNlcyB8fCBudWxsO1xuICAgICAgICB0aGlzLnRva2VuUHJlY1RhYmxlID0gc3BlYy50b2tlblByZWM7XG4gICAgICAgIHRoaXMudGVybU5hbWVzID0gc3BlYy50ZXJtTmFtZXMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5tYXhOb2RlID0gdGhpcy5ub2RlU2V0LnR5cGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IHRoaXMucGFyc2VEaWFsZWN0KCk7XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy50b3BSdWxlc1tPYmplY3Qua2V5cyh0aGlzLnRvcFJ1bGVzKVswXV07XG4gICAgfVxuICAgIGNyZWF0ZVBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBsZXQgcGFyc2UgPSBuZXcgUGFyc2UodGhpcywgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgZm9yIChsZXQgdyBvZiB0aGlzLndyYXBwZXJzKVxuICAgICAgICAgICAgcGFyc2UgPSB3KHBhcnNlLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xuICAgICAgICByZXR1cm4gcGFyc2U7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIGdvdG8gdGFibGUgZW50cnkgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXRHb3RvKHN0YXRlLCB0ZXJtLCBsb29zZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMuZ290bztcbiAgICAgICAgaWYgKHRlcm0gPj0gdGFibGVbMF0pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IHRhYmxlW3Rlcm0gKyAxXTs7KSB7XG4gICAgICAgICAgICBsZXQgZ3JvdXBUYWcgPSB0YWJsZVtwb3MrK10sIGxhc3QgPSBncm91cFRhZyAmIDE7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGFibGVbcG9zKytdO1xuICAgICAgICAgICAgaWYgKGxhc3QgJiYgbG9vc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIGZvciAobGV0IGVuZCA9IHBvcyArIChncm91cFRhZyA+PiAxKTsgcG9zIDwgZW5kOyBwb3MrKylcbiAgICAgICAgICAgICAgICBpZiAodGFibGVbcG9zXSA9PSBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIGlmIChsYXN0KVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDaGVjayBpZiB0aGlzIHN0YXRlIGhhcyBhbiBhY3Rpb24gZm9yIGEgZ2l2ZW4gdGVybWluYWwgQGludGVybmFsXG4gICAgKi9cbiAgICBoYXNBY3Rpb24oc3RhdGUsIHRlcm1pbmFsKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICBmb3IgKGxldCBzZXQgPSAwOyBzZXQgPCAyOyBzZXQrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc3RhdGVTbG90KHN0YXRlLCBzZXQgPyAyIC8qIFBhcnNlU3RhdGUuU2tpcCAqLyA6IDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKSwgbmV4dDs7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGlmICgobmV4dCA9IGRhdGFbaV0pID09IDY1NTM1IC8qIFNlcS5FbmQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaSArIDFdID09IDEgLyogU2VxLk5leHQgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gZGF0YVtpID0gcGFpcihkYXRhLCBpICsgMildO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhW2kgKyAxXSA9PSAyIC8qIFNlcS5PdGhlciAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyKGRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09IHRlcm1pbmFsIHx8IG5leHQgPT0gMCAvKiBUZXJtLkVyciAqLylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhaXIoZGF0YSwgaSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRlU2xvdChzdGF0ZSwgc2xvdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbKHN0YXRlICogNiAvKiBQYXJzZVN0YXRlLlNpemUgKi8pICsgc2xvdF07XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGVGbGFnKHN0YXRlLCBmbGFnKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDAgLyogUGFyc2VTdGF0ZS5GbGFncyAqLykgJiBmbGFnKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdmFsaWRBY3Rpb24oc3RhdGUsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFsbEFjdGlvbnMoc3RhdGUsIGEgPT4gYSA9PSBhY3Rpb24gPyB0cnVlIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYWxsQWN0aW9ucyhzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICAgIGxldCBkZWZsdCA9IHRoaXMuc3RhdGVTbG90KHN0YXRlLCA0IC8qIFBhcnNlU3RhdGUuRGVmYXVsdFJlZHVjZSAqLyk7XG4gICAgICAgIGxldCByZXN1bHQgPSBkZWZsdCA/IGFjdGlvbihkZWZsdCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgMSAvKiBQYXJzZVN0YXRlLkFjdGlvbnMgKi8pOyByZXN1bHQgPT0gbnVsbDsgaSArPSAzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldID09IDY1NTM1IC8qIFNlcS5FbmQgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhW2kgKyAxXSA9PSAxIC8qIFNlcS5OZXh0ICovKVxuICAgICAgICAgICAgICAgICAgICBpID0gcGFpcih0aGlzLmRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gYWN0aW9uKHBhaXIodGhpcy5kYXRhLCBpICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgc3RhdGVzIHRoYXQgY2FuIGZvbGxvdyB0aGlzIG9uZSB0aHJvdWdoIHNoaWZ0IGFjdGlvbnMgb3JcbiAgICBnb3RvIGp1bXBzLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG5leHRTdGF0ZXMoc3RhdGUpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKTs7IGkgKz0gMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpICsgMV0gPT0gMSAvKiBTZXEuTmV4dCAqLylcbiAgICAgICAgICAgICAgICAgICAgaSA9IHBhaXIodGhpcy5kYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGhpcy5kYXRhW2kgKyAyXSAmICg2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLyA+PiAxNikpID09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmRhdGFbaSArIDFdO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LnNvbWUoKHYsIGkpID0+IChpICYgMSkgJiYgdiA9PSB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZGF0YVtpXSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbmZpZ3VyZSB0aGUgcGFyc2VyLiBSZXR1cm5zIGEgbmV3IHBhcnNlciBpbnN0YW5jZSB0aGF0IGhhcyB0aGVcbiAgICBnaXZlbiBzZXR0aW5ncyBtb2RpZmllZC4gU2V0dGluZ3Mgbm90IHByb3ZpZGVkIGluIGBjb25maWdgIGFyZVxuICAgIGtlcHQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyc2VyLlxuICAgICovXG4gICAgY29uZmlndXJlKGNvbmZpZykge1xuICAgICAgICAvLyBIaWRlb3VzIHJlZmxlY3Rpb24tYmFzZWQga2x1ZGdlIHRvIG1ha2UgaXQgZWFzeSB0byBjcmVhdGUgYVxuICAgICAgICAvLyBzbGlnaHRseSBtb2RpZmllZCBjb3B5IG9mIGEgcGFyc2VyLlxuICAgICAgICBsZXQgY29weSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShMUlBhcnNlci5wcm90b3R5cGUpLCB0aGlzKTtcbiAgICAgICAgaWYgKGNvbmZpZy5wcm9wcylcbiAgICAgICAgICAgIGNvcHkubm9kZVNldCA9IHRoaXMubm9kZVNldC5leHRlbmQoLi4uY29uZmlnLnByb3BzKTtcbiAgICAgICAgaWYgKGNvbmZpZy50b3ApIHtcbiAgICAgICAgICAgIGxldCBpbmZvID0gdGhpcy50b3BSdWxlc1tjb25maWcudG9wXTtcbiAgICAgICAgICAgIGlmICghaW5mbylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCB0b3AgcnVsZSBuYW1lICR7Y29uZmlnLnRvcH1gKTtcbiAgICAgICAgICAgIGNvcHkudG9wID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnRva2VuaXplcnMpXG4gICAgICAgICAgICBjb3B5LnRva2VuaXplcnMgPSB0aGlzLnRva2VuaXplcnMubWFwKHQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGNvbmZpZy50b2tlbml6ZXJzLmZpbmQociA9PiByLmZyb20gPT0gdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kID8gZm91bmQudG8gOiB0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb25maWcuc3BlY2lhbGl6ZXJzKSB7XG4gICAgICAgICAgICBjb3B5LnNwZWNpYWxpemVycyA9IHRoaXMuc3BlY2lhbGl6ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBjb3B5LnNwZWNpYWxpemVyU3BlY3MgPSB0aGlzLnNwZWNpYWxpemVyU3BlY3MubWFwKChzLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gY29uZmlnLnNwZWNpYWxpemVycy5maW5kKHIgPT4gci5mcm9tID09IHMuZXh0ZXJuYWwpO1xuICAgICAgICAgICAgICAgIGlmICghZm91bmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgICAgIGxldCBzcGVjID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzKSwgeyBleHRlcm5hbDogZm91bmQudG8gfSk7XG4gICAgICAgICAgICAgICAgY29weS5zcGVjaWFsaXplcnNbaV0gPSBnZXRTcGVjaWFsaXplcihzcGVjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlYztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuY29udGV4dFRyYWNrZXIpXG4gICAgICAgICAgICBjb3B5LmNvbnRleHQgPSBjb25maWcuY29udGV4dFRyYWNrZXI7XG4gICAgICAgIGlmIChjb25maWcuZGlhbGVjdClcbiAgICAgICAgICAgIGNvcHkuZGlhbGVjdCA9IHRoaXMucGFyc2VEaWFsZWN0KGNvbmZpZy5kaWFsZWN0KTtcbiAgICAgICAgaWYgKGNvbmZpZy5zdHJpY3QgIT0gbnVsbClcbiAgICAgICAgICAgIGNvcHkuc3RyaWN0ID0gY29uZmlnLnN0cmljdDtcbiAgICAgICAgaWYgKGNvbmZpZy53cmFwKVxuICAgICAgICAgICAgY29weS53cmFwcGVycyA9IGNvcHkud3JhcHBlcnMuY29uY2F0KGNvbmZpZy53cmFwKTtcbiAgICAgICAgaWYgKGNvbmZpZy5idWZmZXJMZW5ndGggIT0gbnVsbClcbiAgICAgICAgICAgIGNvcHkuYnVmZmVyTGVuZ3RoID0gY29uZmlnLmJ1ZmZlckxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRlbGxzIHlvdSB3aGV0aGVyIGFueSBbcGFyc2Ugd3JhcHBlcnNdKCNsci5QYXJzZXJDb25maWcud3JhcClcbiAgICBhcmUgcmVnaXN0ZXJlZCBmb3IgdGhpcyBwYXJzZXIuXG4gICAgKi9cbiAgICBoYXNXcmFwcGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlcnMubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgbmFtZSBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB0ZXJtLiBUaGlzIHdpbGwgb25seVxuICAgIHdvcmsgZm9yIGFsbCB0ZXJtcyB3aGVuIHRoZSBwYXJzZXIgd2FzIGdlbmVyYXRlZCB3aXRoIHRoZVxuICAgIGAtLW5hbWVzYCBvcHRpb24uIEJ5IGRlZmF1bHQsIG9ubHkgdGhlIG5hbWVzIG9mIHRhZ2dlZCB0ZXJtcyBhcmVcbiAgICBzdG9yZWQuXG4gICAgKi9cbiAgICBnZXROYW1lKHRlcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVybU5hbWVzID8gdGhpcy50ZXJtTmFtZXNbdGVybV0gOiBTdHJpbmcodGVybSA8PSB0aGlzLm1heE5vZGUgJiYgdGhpcy5ub2RlU2V0LnR5cGVzW3Rlcm1dLm5hbWUgfHwgdGVybSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlb2YgdGVybSBpZCBpcyBhbHdheXMgYWxsb2NhdGVkIGRpcmVjdGx5IGFmdGVyIHRoZSBub2RlXG4gICAgdHlwZXMuIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGVvZlRlcm0oKSB7IHJldHVybiB0aGlzLm1heE5vZGUgKyAxOyB9XG4gICAgLyoqXG4gICAgVGhlIHR5cGUgb2YgdG9wIG5vZGUgcHJvZHVjZWQgYnkgdGhlIHBhcnNlci5cbiAgICAqL1xuICAgIGdldCB0b3BOb2RlKCkgeyByZXR1cm4gdGhpcy5ub2RlU2V0LnR5cGVzW3RoaXMudG9wWzFdXTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZHluYW1pY1ByZWNlZGVuY2UodGVybSkge1xuICAgICAgICBsZXQgcHJlYyA9IHRoaXMuZHluYW1pY1ByZWNlZGVuY2VzO1xuICAgICAgICByZXR1cm4gcHJlYyA9PSBudWxsID8gMCA6IHByZWNbdGVybV0gfHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBwYXJzZURpYWxlY3QoZGlhbGVjdCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gT2JqZWN0LmtleXModGhpcy5kaWFsZWN0cyksIGZsYWdzID0gdmFsdWVzLm1hcCgoKSA9PiBmYWxzZSk7XG4gICAgICAgIGlmIChkaWFsZWN0KVxuICAgICAgICAgICAgZm9yIChsZXQgcGFydCBvZiBkaWFsZWN0LnNwbGl0KFwiIFwiKSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IHZhbHVlcy5pbmRleE9mKHBhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChpZCA+PSAwKVxuICAgICAgICAgICAgICAgICAgICBmbGFnc1tpZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBsZXQgZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICghZmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5kaWFsZWN0c1t2YWx1ZXNbaV1dLCBpZDsgKGlkID0gdGhpcy5kYXRhW2orK10pICE9IDY1NTM1IC8qIFNlcS5FbmQgKi87KVxuICAgICAgICAgICAgICAgICAgICAoZGlzYWJsZWQgfHwgKGRpc2FibGVkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5tYXhUZXJtICsgMSkpKVtpZF0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERpYWxlY3QoZGlhbGVjdCwgZmxhZ3MsIGRpc2FibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXNlZCBieSB0aGUgb3V0cHV0IG9mIHRoZSBwYXJzZXIgZ2VuZXJhdG9yLiBOb3QgYXZhaWxhYmxlIHRvXG4gICAgdXNlciBjb2RlLiBAaGlkZVxuICAgICovXG4gICAgc3RhdGljIGRlc2VyaWFsaXplKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMUlBhcnNlcihzcGVjKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYWlyKGRhdGEsIG9mZikgeyByZXR1cm4gZGF0YVtvZmZdIHwgKGRhdGFbb2ZmICsgMV0gPDwgMTYpOyB9XG5mdW5jdGlvbiBmaW5kRmluaXNoZWQoc3RhY2tzKSB7XG4gICAgbGV0IGJlc3QgPSBudWxsO1xuICAgIGZvciAobGV0IHN0YWNrIG9mIHN0YWNrcykge1xuICAgICAgICBsZXQgc3RvcHBlZCA9IHN0YWNrLnAuc3RvcHBlZEF0O1xuICAgICAgICBpZiAoKHN0YWNrLnBvcyA9PSBzdGFjay5wLnN0cmVhbS5lbmQgfHwgc3RvcHBlZCAhPSBudWxsICYmIHN0YWNrLnBvcyA+IHN0b3BwZWQpICYmXG4gICAgICAgICAgICBzdGFjay5wLnBhcnNlci5zdGF0ZUZsYWcoc3RhY2suc3RhdGUsIDIgLyogU3RhdGVGbGFnLkFjY2VwdGluZyAqLykgJiZcbiAgICAgICAgICAgICghYmVzdCB8fCBiZXN0LnNjb3JlIDwgc3RhY2suc2NvcmUpKVxuICAgICAgICAgICAgYmVzdCA9IHN0YWNrO1xuICAgIH1cbiAgICByZXR1cm4gYmVzdDtcbn1cbmZ1bmN0aW9uIGdldFNwZWNpYWxpemVyKHNwZWMpIHtcbiAgICBpZiAoc3BlYy5leHRlcm5hbCkge1xuICAgICAgICBsZXQgbWFzayA9IHNwZWMuZXh0ZW5kID8gMSAvKiBTcGVjaWFsaXplLkV4dGVuZCAqLyA6IDAgLyogU3BlY2lhbGl6ZS5TcGVjaWFsaXplICovO1xuICAgICAgICByZXR1cm4gKHZhbHVlLCBzdGFjaykgPT4gKHNwZWMuZXh0ZXJuYWwodmFsdWUsIHN0YWNrKSA8PCAxKSB8IG1hc2s7XG4gICAgfVxuICAgIHJldHVybiBzcGVjLmdldDtcbn1cblxuZXhwb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBJbnB1dFN0cmVhbSwgTFJQYXJzZXIsIExvY2FsVG9rZW5Hcm91cCwgU3RhY2sgfTtcbiIsCiAgICAiaW1wb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBMUlBhcnNlciB9IGZyb20gJ0BsZXplci9scic7XG5pbXBvcnQgeyBzdHlsZVRhZ3MsIHRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcbmltcG9ydCB7IHBhcnNlTWl4ZWQgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBzY3JpcHRUZXh0ID0gNTQsXG4gIFN0YXJ0Q2xvc2VTY3JpcHRUYWcgPSAxLFxuICBzdHlsZVRleHQgPSA1NSxcbiAgU3RhcnRDbG9zZVN0eWxlVGFnID0gMixcbiAgdGV4dGFyZWFUZXh0ID0gNTYsXG4gIFN0YXJ0Q2xvc2VUZXh0YXJlYVRhZyA9IDMsXG4gIEVuZFRhZyA9IDQsXG4gIFNlbGZDbG9zaW5nRW5kVGFnID0gNSxcbiAgU3RhcnRUYWcgPSA2LFxuICBTdGFydFNjcmlwdFRhZyA9IDcsXG4gIFN0YXJ0U3R5bGVUYWcgPSA4LFxuICBTdGFydFRleHRhcmVhVGFnID0gOSxcbiAgU3RhcnRTZWxmQ2xvc2luZ1RhZyA9IDEwLFxuICBTdGFydENsb3NlVGFnID0gMTEsXG4gIE5vTWF0Y2hTdGFydENsb3NlVGFnID0gMTIsXG4gIE1pc21hdGNoZWRTdGFydENsb3NlVGFnID0gMTMsXG4gIG1pc3NpbmdDbG9zZVRhZyA9IDU3LFxuICBJbmNvbXBsZXRlQ2xvc2VUYWcgPSAxNCxcbiAgY29tbWVudENvbnRlbnQkMSA9IDU4LFxuICBFbGVtZW50ID0gMjAsXG4gIFRhZ05hbWUgPSAyMixcbiAgQXR0cmlidXRlID0gMjMsXG4gIEF0dHJpYnV0ZU5hbWUgPSAyNCxcbiAgQXR0cmlidXRlVmFsdWUgPSAyNixcbiAgVW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSA9IDI3LFxuICBTY3JpcHRUZXh0ID0gMjgsXG4gIFN0eWxlVGV4dCA9IDMxLFxuICBUZXh0YXJlYVRleHQgPSAzNCxcbiAgT3BlblRhZyA9IDM2LFxuICBDbG9zZVRhZyA9IDM3LFxuICBEaWFsZWN0X25vTWF0Y2ggPSAwLFxuICBEaWFsZWN0X3NlbGZDbG9zaW5nID0gMTtcblxuLyogSGFuZC13cml0dGVuIHRva2VuaXplcnMgZm9yIEhUTUwuICovXG5cbmNvbnN0IHNlbGZDbG9zZXJzID0ge1xuICBhcmVhOiB0cnVlLCBiYXNlOiB0cnVlLCBicjogdHJ1ZSwgY29sOiB0cnVlLCBjb21tYW5kOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSwgZnJhbWU6IHRydWUsIGhyOiB0cnVlLCBpbWc6IHRydWUsIGlucHV0OiB0cnVlLFxuICBrZXlnZW46IHRydWUsIGxpbms6IHRydWUsIG1ldGE6IHRydWUsIHBhcmFtOiB0cnVlLCBzb3VyY2U6IHRydWUsXG4gIHRyYWNrOiB0cnVlLCB3YnI6IHRydWUsIG1lbnVpdGVtOiB0cnVlXG59O1xuXG5jb25zdCBpbXBsaWNpdGx5Q2xvc2VkID0ge1xuICBkZDogdHJ1ZSwgbGk6IHRydWUsIG9wdGdyb3VwOiB0cnVlLCBvcHRpb246IHRydWUsIHA6IHRydWUsXG4gIHJwOiB0cnVlLCBydDogdHJ1ZSwgdGJvZHk6IHRydWUsIHRkOiB0cnVlLCB0Zm9vdDogdHJ1ZSxcbiAgdGg6IHRydWUsIHRyOiB0cnVlXG59O1xuXG5jb25zdCBjbG9zZU9uT3BlbiA9IHtcbiAgZGQ6IHtkZDogdHJ1ZSwgZHQ6IHRydWV9LFxuICBkdDoge2RkOiB0cnVlLCBkdDogdHJ1ZX0sXG4gIGxpOiB7bGk6IHRydWV9LFxuICBvcHRpb246IHtvcHRpb246IHRydWUsIG9wdGdyb3VwOiB0cnVlfSxcbiAgb3B0Z3JvdXA6IHtvcHRncm91cDogdHJ1ZX0sXG4gIHA6IHtcbiAgICBhZGRyZXNzOiB0cnVlLCBhcnRpY2xlOiB0cnVlLCBhc2lkZTogdHJ1ZSwgYmxvY2txdW90ZTogdHJ1ZSwgZGlyOiB0cnVlLFxuICAgIGRpdjogdHJ1ZSwgZGw6IHRydWUsIGZpZWxkc2V0OiB0cnVlLCBmb290ZXI6IHRydWUsIGZvcm06IHRydWUsXG4gICAgaDE6IHRydWUsIGgyOiB0cnVlLCBoMzogdHJ1ZSwgaDQ6IHRydWUsIGg1OiB0cnVlLCBoNjogdHJ1ZSxcbiAgICBoZWFkZXI6IHRydWUsIGhncm91cDogdHJ1ZSwgaHI6IHRydWUsIG1lbnU6IHRydWUsIG5hdjogdHJ1ZSwgb2w6IHRydWUsXG4gICAgcDogdHJ1ZSwgcHJlOiB0cnVlLCBzZWN0aW9uOiB0cnVlLCB0YWJsZTogdHJ1ZSwgdWw6IHRydWVcbiAgfSxcbiAgcnA6IHtycDogdHJ1ZSwgcnQ6IHRydWV9LFxuICBydDoge3JwOiB0cnVlLCBydDogdHJ1ZX0sXG4gIHRib2R5OiB7dGJvZHk6IHRydWUsIHRmb290OiB0cnVlfSxcbiAgdGQ6IHt0ZDogdHJ1ZSwgdGg6IHRydWV9LFxuICB0Zm9vdDoge3Rib2R5OiB0cnVlfSxcbiAgdGg6IHt0ZDogdHJ1ZSwgdGg6IHRydWV9LFxuICB0aGVhZDoge3Rib2R5OiB0cnVlLCB0Zm9vdDogdHJ1ZX0sXG4gIHRyOiB7dHI6IHRydWV9XG59O1xuXG5mdW5jdGlvbiBuYW1lQ2hhcihjaCkge1xuICByZXR1cm4gY2ggPT0gNDUgfHwgY2ggPT0gNDYgfHwgY2ggPT0gNTggfHwgY2ggPj0gNjUgJiYgY2ggPD0gOTAgfHwgY2ggPT0gOTUgfHwgY2ggPj0gOTcgJiYgY2ggPD0gMTIyIHx8IGNoID49IDE2MVxufVxuXG5mdW5jdGlvbiBpc1NwYWNlKGNoKSB7XG4gIHJldHVybiBjaCA9PSA5IHx8IGNoID09IDEwIHx8IGNoID09IDEzIHx8IGNoID09IDMyXG59XG5cbmxldCBjYWNoZWROYW1lID0gbnVsbCwgY2FjaGVkSW5wdXQgPSBudWxsLCBjYWNoZWRQb3MgPSAwO1xuZnVuY3Rpb24gdGFnTmFtZUFmdGVyKGlucHV0LCBvZmZzZXQpIHtcbiAgbGV0IHBvcyA9IGlucHV0LnBvcyArIG9mZnNldDtcbiAgaWYgKGNhY2hlZFBvcyA9PSBwb3MgJiYgY2FjaGVkSW5wdXQgPT0gaW5wdXQpIHJldHVybiBjYWNoZWROYW1lXG4gIGxldCBuZXh0ID0gaW5wdXQucGVlayhvZmZzZXQpO1xuICB3aGlsZSAoaXNTcGFjZShuZXh0KSkgbmV4dCA9IGlucHV0LnBlZWsoKytvZmZzZXQpO1xuICBsZXQgbmFtZSA9IFwiXCI7XG4gIGZvciAoOzspIHtcbiAgICBpZiAoIW5hbWVDaGFyKG5leHQpKSBicmVha1xuICAgIG5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KTtcbiAgICBuZXh0ID0gaW5wdXQucGVlaygrK29mZnNldCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIHRvIHNpZ25hbCB0aGVyZSdzIGEgPD8gb3IgPCEsIG51bGwgZm9yIGp1c3QgbWlzc2luZ1xuICBjYWNoZWRJbnB1dCA9IGlucHV0OyBjYWNoZWRQb3MgPSBwb3M7XG4gIHJldHVybiBjYWNoZWROYW1lID0gbmFtZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IG5leHQgPT0gcXVlc3Rpb24gfHwgbmV4dCA9PSBiYW5nID8gdW5kZWZpbmVkIDogbnVsbFxufVxuXG5jb25zdCBsZXNzVGhhbiA9IDYwLCBncmVhdGVyVGhhbiA9IDYyLCBzbGFzaCA9IDQ3LCBxdWVzdGlvbiA9IDYzLCBiYW5nID0gMzMsIGRhc2ggPSA0NTtcblxuZnVuY3Rpb24gRWxlbWVudENvbnRleHQobmFtZSwgcGFyZW50KSB7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xufVxuXG5jb25zdCBzdGFydFRhZ1Rlcm1zID0gW1N0YXJ0VGFnLCBTdGFydFNlbGZDbG9zaW5nVGFnLCBTdGFydFNjcmlwdFRhZywgU3RhcnRTdHlsZVRhZywgU3RhcnRUZXh0YXJlYVRhZ107XG5cbmNvbnN0IGVsZW1lbnRDb250ZXh0ID0gbmV3IENvbnRleHRUcmFja2VyKHtcbiAgc3RhcnQ6IG51bGwsXG4gIHNoaWZ0KGNvbnRleHQsIHRlcm0sIHN0YWNrLCBpbnB1dCkge1xuICAgIHJldHVybiBzdGFydFRhZ1Rlcm1zLmluZGV4T2YodGVybSkgPiAtMSA/IG5ldyBFbGVtZW50Q29udGV4dCh0YWdOYW1lQWZ0ZXIoaW5wdXQsIDEpIHx8IFwiXCIsIGNvbnRleHQpIDogY29udGV4dFxuICB9LFxuICByZWR1Y2UoY29udGV4dCwgdGVybSkge1xuICAgIHJldHVybiB0ZXJtID09IEVsZW1lbnQgJiYgY29udGV4dCA/IGNvbnRleHQucGFyZW50IDogY29udGV4dFxuICB9LFxuICByZXVzZShjb250ZXh0LCBub2RlLCBzdGFjaywgaW5wdXQpIHtcbiAgICBsZXQgdHlwZSA9IG5vZGUudHlwZS5pZDtcbiAgICByZXR1cm4gdHlwZSA9PSBTdGFydFRhZyB8fCB0eXBlID09IE9wZW5UYWdcbiAgICAgID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0XG4gIH0sXG4gIHN0cmljdDogZmFsc2Vcbn0pO1xuXG5jb25zdCB0YWdTdGFydCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ICE9IGxlc3NUaGFuKSB7XG4gICAgLy8gRW5kIG9mIGZpbGUsIGNsb3NlIGFueSBvcGVuIHRhZ3NcbiAgICBpZiAoaW5wdXQubmV4dCA8IDAgJiYgc3RhY2suY29udGV4dCkgaW5wdXQuYWNjZXB0VG9rZW4obWlzc2luZ0Nsb3NlVGFnKTtcbiAgICByZXR1cm5cbiAgfVxuICBpbnB1dC5hZHZhbmNlKCk7XG4gIGxldCBjbG9zZSA9IGlucHV0Lm5leHQgPT0gc2xhc2g7XG4gIGlmIChjbG9zZSkgaW5wdXQuYWR2YW5jZSgpO1xuICBsZXQgbmFtZSA9IHRhZ05hbWVBZnRlcihpbnB1dCwgMCk7XG4gIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHJldHVyblxuICBpZiAoIW5hbWUpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihjbG9zZSA/IEluY29tcGxldGVDbG9zZVRhZyA6IFN0YXJ0VGFnKVxuXG4gIGxldCBwYXJlbnQgPSBzdGFjay5jb250ZXh0ID8gc3RhY2suY29udGV4dC5uYW1lIDogbnVsbDtcbiAgaWYgKGNsb3NlKSB7XG4gICAgaWYgKG5hbWUgPT0gcGFyZW50KSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRDbG9zZVRhZylcbiAgICBpZiAocGFyZW50ICYmIGltcGxpY2l0bHlDbG9zZWRbcGFyZW50XSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZywgLTIpXG4gICAgaWYgKHN0YWNrLmRpYWxlY3RFbmFibGVkKERpYWxlY3Rfbm9NYXRjaCkpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihOb01hdGNoU3RhcnRDbG9zZVRhZylcbiAgICBmb3IgKGxldCBjeCA9IHN0YWNrLmNvbnRleHQ7IGN4OyBjeCA9IGN4LnBhcmVudCkgaWYgKGN4Lm5hbWUgPT0gbmFtZSkgcmV0dXJuXG4gICAgaW5wdXQuYWNjZXB0VG9rZW4oTWlzbWF0Y2hlZFN0YXJ0Q2xvc2VUYWcpO1xuICB9IGVsc2Uge1xuICAgIGlmIChuYW1lID09IFwic2NyaXB0XCIpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFNjcmlwdFRhZylcbiAgICBpZiAobmFtZSA9PSBcInN0eWxlXCIpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFN0eWxlVGFnKVxuICAgIGlmIChuYW1lID09IFwidGV4dGFyZWFcIikgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0VGV4dGFyZWFUYWcpXG4gICAgaWYgKHNlbGZDbG9zZXJzLmhhc093blByb3BlcnR5KG5hbWUpKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTZWxmQ2xvc2luZ1RhZylcbiAgICBpZiAocGFyZW50ICYmIGNsb3NlT25PcGVuW3BhcmVudF0gJiYgY2xvc2VPbk9wZW5bcGFyZW50XVtuYW1lXSkgaW5wdXQuYWNjZXB0VG9rZW4obWlzc2luZ0Nsb3NlVGFnLCAtMSk7XG4gICAgZWxzZSBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFRhZyk7XG4gIH1cbn0sIHtjb250ZXh0dWFsOiB0cnVlfSk7XG5cbmNvbnN0IGNvbW1lbnRDb250ZW50ID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgZm9yIChsZXQgZGFzaGVzID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICBpZiAoaW5wdXQubmV4dCA8IDApIHtcbiAgICAgIGlmIChpKSBpbnB1dC5hY2NlcHRUb2tlbihjb21tZW50Q29udGVudCQxKTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmIChpbnB1dC5uZXh0ID09IGRhc2gpIHtcbiAgICAgIGRhc2hlcysrO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQubmV4dCA9PSBncmVhdGVyVGhhbiAmJiBkYXNoZXMgPj0gMikge1xuICAgICAgaWYgKGkgPj0gMykgaW5wdXQuYWNjZXB0VG9rZW4oY29tbWVudENvbnRlbnQkMSwgLTIpO1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgZGFzaGVzID0gMDtcbiAgICB9XG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gaW5Gb3JlaWduRWxlbWVudChjb250ZXh0KSB7XG4gIGZvciAoOyBjb250ZXh0OyBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQpXG4gICAgaWYgKGNvbnRleHQubmFtZSA9PSBcInN2Z1wiIHx8IGNvbnRleHQubmFtZSA9PSBcIm1hdGhcIikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGZhbHNlXG59XG5cbmNvbnN0IGVuZFRhZyA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ID09IHNsYXNoICYmIGlucHV0LnBlZWsoMSkgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICBsZXQgc2VsZkNsb3NpbmcgPSBzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X3NlbGZDbG9zaW5nKSB8fCBpbkZvcmVpZ25FbGVtZW50KHN0YWNrLmNvbnRleHQpO1xuICAgIGlucHV0LmFjY2VwdFRva2VuKHNlbGZDbG9zaW5nID8gU2VsZkNsb3NpbmdFbmRUYWcgOiBFbmRUYWcsIDIpO1xuICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICBpbnB1dC5hY2NlcHRUb2tlbihFbmRUYWcsIDEpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gY29udGVudFRva2VuaXplcih0YWcsIHRleHRUb2tlbiwgZW5kVG9rZW4pIHtcbiAgbGV0IGxhc3RTdGF0ZSA9IDIgKyB0YWcubGVuZ3RoO1xuICByZXR1cm4gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgICAvLyBzdGF0ZSBtZWFuczpcbiAgICAvLyAtIDAgbm90aGluZyBtYXRjaGVkXG4gICAgLy8gLSAxICc8JyBtYXRjaGVkXG4gICAgLy8gLSAyICc8LycgKyBwb3NzaWJseSB3aGl0ZXNwYWNlIG1hdGNoZWRcbiAgICAvLyAtIDMtKDErdGFnLmxlbmd0aCkgcGFydCBvZiB0aGUgdGFnIG1hdGNoZWRcbiAgICAvLyAtIGxhc3RTdGF0ZSB3aG9sZSB0YWcgKyBwb3NzaWJseSB3aGl0ZXNwYWNlIG1hdGNoZWRcbiAgICBmb3IgKGxldCBzdGF0ZSA9IDAsIG1hdGNoZWRMZW4gPSAwLCBpID0gMDs7IGkrKykge1xuICAgICAgaWYgKGlucHV0Lm5leHQgPCAwKSB7XG4gICAgICAgIGlmIChpKSBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4pO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09IDAgJiYgaW5wdXQubmV4dCA9PSBsZXNzVGhhbiB8fFxuICAgICAgICAgIHN0YXRlID09IDEgJiYgaW5wdXQubmV4dCA9PSBzbGFzaCB8fFxuICAgICAgICAgIHN0YXRlID49IDIgJiYgc3RhdGUgPCBsYXN0U3RhdGUgJiYgaW5wdXQubmV4dCA9PSB0YWcuY2hhckNvZGVBdChzdGF0ZSAtIDIpKSB7XG4gICAgICAgIHN0YXRlKys7XG4gICAgICAgIG1hdGNoZWRMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09IDIgfHwgc3RhdGUgPT0gbGFzdFN0YXRlKSAmJiBpc1NwYWNlKGlucHV0Lm5leHQpKSB7XG4gICAgICAgIG1hdGNoZWRMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gbGFzdFN0YXRlICYmIGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICAgICAgaWYgKGkgPiBtYXRjaGVkTGVuKVxuICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKHRleHRUb2tlbiwgLW1hdGNoZWRMZW4pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oZW5kVG9rZW4sIC0obWF0Y2hlZExlbiAtIDIpKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSBpZiAoKGlucHV0Lm5leHQgPT0gMTAgLyogJ1xcbicgKi8gfHwgaW5wdXQubmV4dCA9PSAxMyAvKiAnXFxyJyAqLykgJiYgaSkge1xuICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4sIDEpO1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUgPSBtYXRjaGVkTGVuID0gMDtcbiAgICAgIH1cbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IHNjcmlwdFRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJzY3JpcHRcIiwgc2NyaXB0VGV4dCwgU3RhcnRDbG9zZVNjcmlwdFRhZyk7XG5cbmNvbnN0IHN0eWxlVG9rZW5zID0gY29udGVudFRva2VuaXplcihcInN0eWxlXCIsIHN0eWxlVGV4dCwgU3RhcnRDbG9zZVN0eWxlVGFnKTtcblxuY29uc3QgdGV4dGFyZWFUb2tlbnMgPSBjb250ZW50VG9rZW5pemVyKFwidGV4dGFyZWFcIiwgdGV4dGFyZWFUZXh0LCBTdGFydENsb3NlVGV4dGFyZWFUYWcpO1xuXG5jb25zdCBodG1sSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgXCJUZXh0IFJhd1RleHRcIjogdGFncy5jb250ZW50LFxuICBcIlN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU2VsZkNsb3NpbmdFbmRUYWcgRW5kVGFnXCI6IHRhZ3MuYW5nbGVCcmFja2V0LFxuICBUYWdOYW1lOiB0YWdzLnRhZ05hbWUsXG4gIFwiTWlzbWF0Y2hlZENsb3NlVGFnL1RhZ05hbWVcIjogW3RhZ3MudGFnTmFtZSwgIHRhZ3MuaW52YWxpZF0sXG4gIEF0dHJpYnV0ZU5hbWU6IHRhZ3MuYXR0cmlidXRlTmFtZSxcbiAgXCJBdHRyaWJ1dGVWYWx1ZSBVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlXCI6IHRhZ3MuYXR0cmlidXRlVmFsdWUsXG4gIElzOiB0YWdzLmRlZmluaXRpb25PcGVyYXRvcixcbiAgXCJFbnRpdHlSZWZlcmVuY2UgQ2hhcmFjdGVyUmVmZXJlbmNlXCI6IHRhZ3MuY2hhcmFjdGVyLFxuICBDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgUHJvY2Vzc2luZ0luc3Q6IHRhZ3MucHJvY2Vzc2luZ0luc3RydWN0aW9uLFxuICBEb2N0eXBlRGVjbDogdGFncy5kb2N1bWVudE1ldGFcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHBhcnNlciA9IExSUGFyc2VyLmRlc2VyaWFsaXplKHtcbiAgdmVyc2lvbjogMTQsXG4gIHN0YXRlczogXCIseE9WTyFyT09PIVdRI3RPJyNDcU8hXVEjdE8nI0N6TyFiUSN0TycjQ31PIWdRI3RPJyNEUU8hbFEjdE8nI0RTTyFxT2FPJyNDcE8hfE9iTycjQ3BPI1hPZE8nI0NwTyRlTyFyTycjQ3BPT09gJyNDcCcjQ3BPJGxPJGZPJyNEVE8kdFEjdE8nI0RWTyR5USN0TycjRFdPT09gJyNEaycjRGtPT09gJyNEWScjRFlRVk8hck9PTyVPUSZyTyw1OV1PJVpRJnJPLDU5Zk8lZlEmck8sNTlpTyVxUSZyTyw1OWxPJXxRJnJPLDU5bk9PT2EnI0ReJyNEXk8mWE9hTycjQ3hPJmRPYU8sNTlbT09PYicjRF8nI0RfTyZsT2JPJyNDe08md09iTyw1OVtPT09kJyNEYCcjRGBPJ1BPZE8nI0RPTydbT2RPLDU5W09PT2AnI0RhJyNEYU8nZE8hck8sNTlbTydrUSN0TycjRFJPT09gLDU5Wyw1OVtPT09wJyNEYicjRGJPJ3BPJGZPLDU5b09PT2AsNTlvLDU5b08neFEjfE8sNTlxTyd9USN8Tyw1OXJPT09gLUU3Vy1FN1dPKFNRJnJPJyNDc09PUVcnI0RaJyNEWk8oYlEmck8xRy53T09PYTFHLncxRy53T09PYDFHL1kxRy9ZTyhtUSZyTzFHL1FPT09iMUcvUTFHL1FPKHhRJnJPMUcvVE9PT2QxRy9UMUcvVE8pVFEmck8xRy9XT09PYDFHL1cxRy9XTylgUSZyTzFHL1lPT09hLUU3Wy1FN1tPKWtRI3RPJyNDeU9PT2AxRy52MUcudk9PT2ItRTddLUU3XU8pcFEjdE8nI0N8T09PZC1FN14tRTdeTyl1USN0TycjRFBPT09gLUU3Xy1FN19PKXpRI3xPLDU5bU9PT3AtRTdgLUU3YE9PT2AxRy9aMUcvWk9PT2AxRy9dMUcvXU9PT2AxRy9eMUcvXk8qUFEsVU8sNTlfT09RVy1FN1gtRTdYT09PYTcrJGM3KyRjT09PYDcrJHQ3KyR0T09PYjcrJGw3KyRsT09PZDcrJG83KyRvT09PYDcrJHI3KyRyTypbUSN8Tyw1OWVPKmFRI3xPLDU5aE8qZlEjfE8sNTlrT09PYDFHL1gxRy9YTyprTzdbTycjQ3ZPKnxPTWhPJyNDdk9PUVcxRy55MUcueU9PT2AxRy9QMUcvUE9PT2AxRy9TMUcvU09PT2AxRy9WMUcvVk9PT08nI0RbJyNEW08rX083W08sNTliT09RVyw1OWIsNTliT09PTycjRF0nI0RdTytwT01oTyw1OWJPT09PLUU3WS1FN1lPT1FXMUcufDFHLnxPT09PLUU3Wi1FN1pcIixcbiAgc3RhdGVEYXRhOiBcIixdfk8hXk9Tfk9VU09WUE9XUU9YUk9ZVE9bXU9dW09eXk9gXk9hXk9iXk9jXk94Xk97X08hZFpPfk9mYU9+T2ZiT35PZmNPfk9mZE9+T2ZlT35PIVdmT1BsUCFabFB+TyFYaU9Rb1AhWm9Qfk8hWWxPUnJQIVpyUH5PVVNPVlBPV1FPWFJPWVRPWnFPW11PXVtPXl5PYF5PYV5PYl5PY15PeF5PIWRaT35PIVpyT35QI2RPIVtzTyFldU9+T2Z2T35PZndPfk9TfE9UfU9oeU9+T1MhUE9UfU9oeU9+T1MhUk9UfU9oeU9+T1MhVE9UfU9oeU9+T1N9T1R9T2h5T35PIVdmT1BsWCFabFh+T1AhV08hWiFYT35PIVhpT1FvWCFab1h+T1EhWk8hWiFYT35PIVlsT1JyWCFaclh+T1IhXU8hWiFYT35PIVohWE9+UCNkT2YhX09+TyFbc08hZSFhT35PUyFiT35PUyFjT35PaSFkT1NnWFRnWGhnWH5PUyFmT1QhZ09oeU9+T1MhaE9UIWdPaHlPfk9TIWlPVCFnT2h5T35PUyFqT1QhZ09oeU9+T1MhZ09UIWdPaHlPfk9mIWtPfk9mIWxPfk9mIW1Pfk9TIW5Pfk9rIXFPIWAhb08hYiFwT35PUyFyT35PUyFzT35PUyF0T35PYSF1T2IhdU9jIXVPIWAhd08hYSF1T35PYSF4T2IheE9jIXhPIWIhd08hYyF4T35PYSF1T2IhdU9jIXVPIWAhe08hYSF1T35PYSF4T2IheE9jIXhPIWIhe08hYyF4T35PVH5iYWMhZHh7IWR+XCIsXG4gIGdvdG86IFwiJXAhYFBQUFBQUFBQUFBQUFBQUFBQUFBQIWEhZ1AhbVBQIXlQIXwjUCNTI1kjXSNgI2YjaSNsI3IjeCFhUCFhIWFQJE8kVSRsJHIkeCVPJVUlWyViUFBQUFBQUFAlaFheT1hgcFhVT1hgcGV6YWJjZGV7IU8hUSFTIVVSIXEhZFJoVVIhWGhYVk9YYHBSa1ZSIVhrWFdPWGBwUm5XUiFYblhYT1hgcFFyWFIhWHBYWU9YYHBRYE9SeGBRe2FRIU9iUSFRY1EhU2RRIVVlWiFleyFPIVEhUyFVUSF2IW9SIXohdlEheSFwUiF8IXlRZ1VSIVZnUWpWUiFZalFtV1IhW21RcFhSIV5wUXRaUiFgdFNfT2BUb1hwXCIsXG4gIG5vZGVOYW1lczogXCLimqAgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIFN0YXJ0Q2xvc2VUYWcgRW5kVGFnIFNlbGZDbG9zaW5nRW5kVGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIEluY29tcGxldGVDbG9zZVRhZyBEb2N1bWVudCBUZXh0IEVudGl0eVJlZmVyZW5jZSBDaGFyYWN0ZXJSZWZlcmVuY2UgSW52YWxpZEVudGl0eSBFbGVtZW50IE9wZW5UYWcgVGFnTmFtZSBBdHRyaWJ1dGUgQXR0cmlidXRlTmFtZSBJcyBBdHRyaWJ1dGVWYWx1ZSBVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlIFNjcmlwdFRleHQgQ2xvc2VUYWcgT3BlblRhZyBTdHlsZVRleHQgQ2xvc2VUYWcgT3BlblRhZyBUZXh0YXJlYVRleHQgQ2xvc2VUYWcgT3BlblRhZyBDbG9zZVRhZyBTZWxmQ2xvc2luZ1RhZyBDb21tZW50IFByb2Nlc3NpbmdJbnN0IE1pc21hdGNoZWRDbG9zZVRhZyBDbG9zZVRhZyBEb2N0eXBlRGVjbFwiLFxuICBtYXhUZXJtOiA2NyxcbiAgY29udGV4dDogZWxlbWVudENvbnRleHQsXG4gIG5vZGVQcm9wczogW1xuICAgIFtcImNsb3NlZEJ5XCIsIC0xMCwxLDIsMyw3LDgsOSwxMCwxMSwxMiwxMyxcIkVuZFRhZ1wiLDYsXCJFbmRUYWcgU2VsZkNsb3NpbmdFbmRUYWdcIiwtNCwyMSwzMCwzMywzNixcIkNsb3NlVGFnXCJdLFxuICAgIFtcIm9wZW5lZEJ5XCIsIDQsXCJTdGFydFRhZyBTdGFydENsb3NlVGFnXCIsNSxcIlN0YXJ0VGFnXCIsLTQsMjksMzIsMzUsMzcsXCJPcGVuVGFnXCJdLFxuICAgIFtcImdyb3VwXCIsIC05LDE0LDE3LDE4LDE5LDIwLDM5LDQwLDQxLDQyLFwiRW50aXR5XCIsMTYsXCJFbnRpdHkgVGV4dENvbnRlbnRcIiwtMywyOCwzMSwzNCxcIlRleHRDb250ZW50IEVudGl0eVwiXSxcbiAgICBbXCJpc29sYXRlXCIsIC0xMSwyMSwyOSwzMCwzMiwzMywzNSwzNiwzNywzOCw0MSw0MixcImx0clwiLC0zLDI2LDI3LDM5LFwiXCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbaHRtbEhpZ2hsaWdodGluZ10sXG4gIHNraXBwZWROb2RlczogWzBdLFxuICByZXBlYXROb2RlQ291bnQ6IDksXG4gIHRva2VuRGF0YTogXCIhPHAhYVIhWU9YJHFYWSxRWVosUVpbJHFbXSZYXV4sUV5wJHFwcSxRcXItX3JzM19zdi1fdnczfXd4SFl4fS1ffSFPSHshTyFQLV8hUCFRJHEhUSFbLV8hWyFdTXohXSFeLV8hXiFfISRTIV8hYCE7eCFgIWEmWCFhIWMtXyFjIX1NeiF9I1ItXyNSI1NNeiNTI1QxayNUI29NeiNvI3MtXyNzJGYkcSRmJVctXyVXJW9NeiVvJXAtXyVwJmFNeiZhJmItXyZiMXBNejFwNFUtXzRVNGRNejRkNGUtXzRlJElTTXokSVMkSWAtXyRJYCRJYk16JEliJEtoLV8kS2glI3RNeiUjdCYveC1fJi94JkV0TXomRXQmRlYtXyZGVjsnU016OydTOzpqISN8OzpqOz1gM1g8JWw/JnItXz8mcj9BaE16P0FoP0JZJHE/Qlk/TW5Nej9Nbk8kcSFaJHxjYFBrVyFhYCFjcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyJHFycyZ9c3YkcXZ3K1B3eCh0eCFeJHEhXiFfKlYhXyFhJlghYSNTJHEjUyNUJlgjVDsnUyRxOydTOz1gK3o8JWxPJHEhUiZiWGBQIWFgIWNwT3ImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYcSdVVmBQIWNwT3YmfXd4J2t4IV4mfSFeIV8oViFfOydTJn07J1M7PWAobjwlbE8mfVAncFRgUE92J2t3IV4nayFfOydTJ2s7J1M7PWAoUDwlbE8na1AoU1A7PWA8JWwna3AoW1MhY3BPdihWeDsnUyhWOydTOz1gKGg8JWxPKFZwKGtQOz1gPCVsKFZxKHFQOz1gPCVsJn1hKHtXYFAhYWBPcih0cnMna3N2KHR3IV4odCFeIV8pZSFfOydTKHQ7J1M7PWAqUDwlbE8odGApalQhYWBPcillc3YpZXc7J1MpZTsnUzs9YCl5PCVsTyllYCl8UDs9YDwlbCllYSpTUDs9YDwlbCh0IVEqXlYhYWAhY3BPcipWcnMoVnN2KlZ3eClleDsnUypWOydTOz1gKnM8JWxPKlYhUSp2UDs9YDwlbCpWIVIqfFA7PWA8JWwmWFcrVVlrV09YK1BaWytQXnArUHFyK1BzdytQeCFeK1AhYSNTK1AjVDsnUytQOydTOz1gK3Q8JWxPK1BXK3dQOz1gPCVsK1AhWit9UDs9YDwlbCRxIWEsXWBgUCFhYCFjcCFeXk9YJlhYWSxRWVosUVpdJlhdXixRXnAmWHBxLFFxciZYcnMmfXN2Jlh3eCh0eCFeJlghXiFfKlYhXzsnUyZYOydTOz1gKnk8JWxPJlghXy1samhTYFBrVyFhYCFjcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyLV9ycyZ9c3YtX3Z3L153eCh0eCFQLV8hUCFRJHEhUSFeLV8hXiFfKlYhXyFhJlghYSNTLV8jUyNUMWsjVCNzLV8jcyRmJHEkZjsnUy1fOydTOz1gM1g8JWw/QWgtXz9BaD9CWSRxP0JZP01uLV8/TW5PJHFbL2ViaFNrV09YK1BaWytQXnArUHFyL15zdy9eeCFQL14hUCFRK1AhUSFeL14hYSNTL14jUyNUMG0jVCNzL14jcyRmK1AkZjsnUy9eOydTOz1gMWU8JWw/QWgvXj9BaD9CWStQP0JZP01uL14/TW5PK1BTMHJYaFNxcjBtc3cwbXghUDBtIVEhXjBtIWEjczBtJGY7J1MwbTsnUzs9YDFfPCVsP0FoMG0/Qlk/TW4wbVMxYlA7PWA8JWwwbVsxaFA7PWA8JWwvXiFWMXZjaFNgUCFhYCFjcE9xJlhxcjFrcnMmfXN2MWt2dzBtd3godHghUDFrIVAhUSZYIVEhXjFrIV4hXypWIV8hYSZYIWEjczFrI3MkZiZYJGY7J1MxazsnUzs9YDNSPCVsP0FoMWs/QWg/QlkmWD9CWT9NbjFrP01uTyZYIVYzVVA7PWA8JWwxayFfM1tQOz1gPCVsLV8hWjNoViFgaGBQIWNwT3YmfXd4J2t4IV4mfSFeIV8oViFfOydTJn07J1M7PWAobjwlbE8mfSFfNFdpaFNrV2MhUk9YNXVYWjdTWls1dVteN1NecDV1cXI4dHJzN1NzdD5ddHc4dHd4N1N4IVA4dCFQIVE1dSFRIV04dCFdIV4vXiFeIWE3UyFhI1M4dCNTI1Q7eyNUI3M4dCNzJGY1dSRmOydTOHQ7J1M7PWA+VjwlbD9BaDh0P0FoP0JZNXU/Qlk/TW44dD9Nbk81dSFaNXpia1dPWDV1WFo3U1pbNXVbXjdTXnA1dXFyNXVyczdTc3QrUHR3NXV3eDdTeCFdNXUhXSFeN3chXiFhN1MhYSNTNXUjUyNUN1MjVDsnUzV1OydTOz1gOG48JWxPNXUhUjdWVk9wN1NxczdTdCFdN1MhXSFeN2whXjsnUzdTOydTOz1gN3E8JWxPN1MhUjdxT2EhUiFSN3RQOz1gPCVsN1MhWjhPWWtXYSFST1grUFpbK1BecCtQcXIrUHN3K1B4IV4rUCFhI1MrUCNUOydTK1A7J1M7PWArdDwlbE8rUCFaOHFQOz1gPCVsNXUhXzh7aWhTa1dPWDV1WFo3U1pbNXVbXjdTXnA1dXFyOHRyczdTc3QvXnR3OHR3eDdTeCFQOHQhUCFRNXUhUSFdOHQhXSFeOmohXiFhN1MhYSNTOHQjUyNUO3sjVCNzOHQjcyRmNXUkZjsnUzh0OydTOz1gPlY8JWw/QWg4dD9BaD9CWTV1P0JZP01uOHQ/TW5PNXUhXzpzYmhTa1dhIVJPWCtQWlsrUF5wK1Bxci9ec3cvXnghUC9eIVAhUStQIVEhXi9eIWEjUy9eI1MjVDBtI1Qjcy9eI3MkZitQJGY7J1MvXjsnUzs9YDFlPCVsP0FoL14/QWg/QlkrUD9CWT9Nbi9eP01uTytQIVY8UWNoU09wN1Nxcjt7cnM3U3N0MG10dzt7d3g3U3ghUDt7IVAhUTdTIVEhXTt7IV0hXj1dIV4hYTdTIWEjczt7I3MkZjdTJGY7J1M7ezsnUzs9YD5QPCVsP0FoO3s/QWg/Qlk3Uz9CWT9Nbjt7P01uTzdTIVY9ZFhoU2EhUnFyMG1zdzBteCFQMG0hUSFeMG0hYSNzMG0kZjsnUzBtOydTOz1gMV88JWw/QWgwbT9CWT9NbjBtIVY+U1A7PWA8JWw7eyFfPllQOz1gPCVsOHQhXz5kaGhTa1dPWEBPWFpBWVpbQE9bXkFZXnBAT3FyQndyc0FZc3dCd3d4QVl4IVBCdyFQIVFATyFRIV1CdyFdIV4vXiFeIWFBWSFhI1NCdyNTI1RFeyNUI3NCdyNzJGZATyRmOydTQnc7J1M7PWBIUzwlbD9BaEJ3P0FoP0JZQE8/Qlk/TW5Cdz9Nbk9ATyFaQFRha1dPWEBPWFpBWVpbQE9bXkFZXnBAT3FyQE9yc0FZc3dAT3d4QVl4IV1ATyFdIV5BeiFeIWFBWSFhI1NATyNTI1RBWSNUOydTQE87J1M7PWBCcTwlbE9ATyFSQV1VT3BBWXEhXUFZIV0hXkFvIV47J1NBWTsnUzs9YEF0PCVsT0FZIVJBdE9iIVIhUkF3UDs9YDwlbEFZIVpCUllrV2IhUk9YK1BaWytQXnArUHFyK1BzdytQeCFeK1AhYSNTK1AjVDsnUytQOydTOz1gK3Q8JWxPK1AhWkJ0UDs9YDwlbEBPIV9DT2hoU2tXT1hAT1haQVlaW0BPW15BWV5wQE9xckJ3cnNBWXN3Qnd3eEFZeCFQQnchUCFRQE8hUSFdQnchXSFeRGohXiFhQVkhYSNTQncjUyNURXsjVCNzQncjcyRmQE8kZjsnU0J3OydTOz1gSFM8JWw/QWhCdz9BaD9CWUBPP0JZP01uQnc/TW5PQE8hX0RzYmhTa1diIVJPWCtQWlsrUF5wK1Bxci9ec3cvXnghUC9eIVAhUStQIVEhXi9eIWEjUy9eI1MjVDBtI1Qjcy9eI3MkZitQJGY7J1MvXjsnUzs9YDFlPCVsP0FoL14/QWg/QlkrUD9CWT9Nbi9eP01uTytQIVZGUWJoU09wQVlxckV7cnNBWXN3RXt3eEFZeCFQRXshUCFRQVkhUSFdRXshXSFeR1khXiFhQVkhYSNzRXsjcyRmQVkkZjsnU0V7OydTOz1gR3w8JWw/QWhFez9BaD9CWUFZP0JZP01uRXs/TW5PQVkhVkdhWGhTYiFScXIwbXN3MG14IVAwbSFRIV4wbSFhI3MwbSRmOydTMG07J1M7PWAxXzwlbD9BaDBtP0JZP01uMG0hVkhQUDs9YDwlbEV7IV9IVlA7PWA8JWxCdyFaSGNXIWJ4YFAhYWBPcih0cnMna3N2KHR3IV4odCFeIV8pZSFfOydTKHQ7J1M7PWAqUDwlbE8odCFhSVlsaFNgUGtXIWFgIWNwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXItX3JzJn1zdi1fdncvXnd4KHR4fS1ffSFPS1EhTyFQLV8hUCFRJHEhUSFeLV8hXiFfKlYhXyFhJlghYSNTLV8jUyNUMWsjVCNzLV8jcyRmJHEkZjsnUy1fOydTOz1gM1g8JWw/QWgtXz9BaD9CWSRxP0JZP01uLV8/TW5PJHEhYUtfa2hTYFBrVyFhYCFjcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyLV9ycyZ9c3YtX3Z3L153eCh0eCFQLV8hUCFRJHEhUSFeLV8hXiFfKlYhXyFgJlghYCFhTVMhYSNTLV8jUyNUMWsjVCNzLV8jcyRmJHEkZjsnUy1fOydTOz1gM1g8JWw/QWgtXz9BaD9CWSRxP0JZP01uLV8/TW5PJHEhVE1fWGBQIWFgIWNwIWVRT3ImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYIWFOWiFaaFNmUWBQa1chYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHh9LV99IU9NeiFPIVBNeiFQIVEkcSFRIVtNeiFbIV1NeiFdIV4tXyFeIV8qViFfIWEmWCFhIWMtXyFjIX1NeiF9I1ItXyNSI1NNeiNTI1QxayNUI29NeiNvI3MtXyNzJGYkcSRmJH0tXyR9JU9NeiVPJVctXyVXJW9NeiVvJXAtXyVwJmFNeiZhJmItXyZiMXBNejFwNFVNejRVNGRNejRkNGUtXzRlJElTTXokSVMkSWAtXyRJYCRJYk16JEliJEplLV8kSmUkSmdNeiRKZyRLaC1fJEtoJSN0TXolI3QmL3gtXyYveCZFdE16JkV0JkZWLV8mRlY7J1NNejsnUzs6aiEjfDs6ajs9YDNYPCVsPyZyLV8/JnI/QWhNej9BaD9CWSRxP0JZP01uTXo/TW5PJHEhYSEkUFA7PWA8JWxNeiFSISRaWSFhYCFjcE9xKlZxciEkeXJzKFZzdipWd3gpZXghYSpWIWEhYiE0dCFiOydTKlY7J1M7PWAqczwlbE8qViFSISVRXSFhYCFjcE9yKlZycyhWc3YqVnd4KWV4fSpWfSFPISV5IU8hZipWIWYhZyEnXSFnI1cqViNXI1ghMGAjWDsnUypWOydTOz1gKnM8JWxPKlYhUiEmUVghYWAhY3BPcipWcnMoVnN2KlZ3eClleH0qVn0hTyEmbSFPOydTKlY7J1M7PWAqczwlbE8qViFSISZ2ViFhYCFjcCFkUE9yKlZycyhWc3YqVnd4KWV4OydTKlY7J1M7PWAqczwlbE8qViFSISdkWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4IXEqViFxIXIhKFAhcjsnUypWOydTOz1gKnM8JWxPKlYhUiEoV1ghYWAhY3BPcipWcnMoVnN2KlZ3eClleCFlKlYhZSFmIShzIWY7J1MqVjsnUzs9YCpzPCVsTypWIVIhKHpYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXghdipWIXYhdyEpZyF3OydTKlY7J1M7PWAqczwlbE8qViFSISluWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4IXsqViF7IXwhKlohfDsnUypWOydTOz1gKnM8JWxPKlYhUiEqYlghYWAhY3BPcipWcnMoVnN2KlZ3eClleCFyKlYhciFzISp9IXM7J1MqVjsnUzs9YCpzPCVsTypWIVIhK1VYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXghZypWIWchaCErcSFoOydTKlY7J1M7PWAqczwlbE8qViFSISt4WSFhYCFjcE9yIStxcnMhLGhzdiErcXZ3IS1Td3ghLlt4IWAhK3EhYCFhIS9qIWE7J1MhK3E7J1M7PWAhMFk8JWxPIStxcSEsbVYhY3BPdiEsaHZ4IS1TeCFgISxoIWAhYSEtcSFhOydTISxoOydTOz1gIS5VPCVsTyEsaFAhLVZUTyFgIS1TIWAhYSEtZiFhOydTIS1TOydTOz1gIS1rPCVsTyEtU1AhLWtPe1BQIS1uUDs9YDwlbCEtU3EhLXhTIWNwe1BPdihWeDsnUyhWOydTOz1gKGg8JWxPKFZxIS5YUDs9YDwlbCEsaGEhLmFYIWFgT3IhLltycyEtU3N2IS5bdnchLVN3IWAhLlshYCFhIS58IWE7J1MhLls7J1M7PWAhL2Q8JWxPIS5bYSEvVFQhYWB7UE9yKWVzdilldzsnUyllOydTOz1gKXk8JWxPKWVhIS9nUDs9YDwlbCEuWyFSIS9zViFhYCFjcHtQT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVIhMF1QOz1gPCVsIStxIVIhMGdYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXgjYypWI2MjZCExUyNkOydTKlY7J1M7PWAqczwlbE8qViFSITFaWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4I1YqViNWI1chMXYjVzsnUypWOydTOz1gKnM8JWxPKlYhUiExfVghYWAhY3BPcipWcnMoVnN2KlZ3eClleCNoKlYjaCNpITJqI2k7J1MqVjsnUzs9YCpzPCVsTypWIVIhMnFYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXgjbSpWI20jbiEzXiNuOydTKlY7J1M7PWAqczwlbE8qViFSITNlWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4I2QqViNkI2UhNFEjZTsnUypWOydTOz1gKnM8JWxPKlYhUiE0WFghYWAhY3BPcipWcnMoVnN2KlZ3eClleCNYKlYjWCNZIStxI1k7J1MqVjsnUzs9YCpzPCVsTypWIVIhNHtZIWFgIWNwT3IhNHRycyE1a3N2ITR0dnchNlZ3eCE4XXghYSE0dCFhIWIhOl0hYjsnUyE0dDsnUzs9YCE7cjwlbE8hNHRxITVwViFjcE92ITVrdnghNlZ4IWEhNWshYSFiITdXIWI7J1MhNWs7J1M7PWAhOFY8JWxPITVrUCE2WVRPIWEhNlYhYSFiITZpIWI7J1MhNlY7J1M7PWAhN1E8JWxPITZWUCE2bFRPIWAhNlYhYCFhITZ7IWE7J1MhNlY7J1M7PWAhN1E8JWxPITZWUCE3UU94UFAhN1RQOz1gPCVsITZWcSE3XVYhY3BPdiE1a3Z4ITZWeCFgITVrIWAhYSE3ciFhOydTITVrOydTOz1gIThWPCVsTyE1a3EhN3lTIWNweFBPdihWeDsnUyhWOydTOz1gKGg8JWxPKFZxIThZUDs9YDwlbCE1a2EhOGJYIWFgT3IhOF1ycyE2VnN2IThddnchNlZ3IWEhOF0hYSFiITh9IWI7J1MhOF07J1M7PWAhOlY8JWxPIThdYSE5U1ghYWBPciE4XXJzITZWc3YhOF12dyE2VnchYCE4XSFgIWEhOW8hYTsnUyE4XTsnUzs9YCE6VjwlbE8hOF1hITl2VCFhYHhQT3IpZXN2KWV3OydTKWU7J1M7PWApeTwlbE8pZWEhOllQOz1gPCVsIThdIVIhOmRZIWFgIWNwT3IhNHRycyE1a3N2ITR0dnchNlZ3eCE4XXghYCE0dCFgIWEhO1MhYTsnUyE0dDsnUzs9YCE7cjwlbE8hNHQhUiE7XVYhYWAhY3B4UE9yKlZycyhWc3YqVnd4KWV4OydTKlY7J1M7PWAqczwlbE8qViFSITt1UDs9YDwlbCE0dCFWITxUWGlTYFAhYWAhY3BPciZYcnMmfXN2Jlh3eCh0eCFeJlghXiFfKlYhXzsnUyZYOydTOz1gKnk8JWxPJlhcIixcbiAgdG9rZW5pemVyczogW3NjcmlwdFRva2Vucywgc3R5bGVUb2tlbnMsIHRleHRhcmVhVG9rZW5zLCBlbmRUYWcsIHRhZ1N0YXJ0LCBjb21tZW50Q29udGVudCwgMCwgMSwgMiwgMywgNCwgNV0sXG4gIHRvcFJ1bGVzOiB7XCJEb2N1bWVudFwiOlswLDE1XX0sXG4gIGRpYWxlY3RzOiB7bm9NYXRjaDogMCwgc2VsZkNsb3Npbmc6IDUwOX0sXG4gIHRva2VuUHJlYzogNTExXG59KTtcblxuZnVuY3Rpb24gZ2V0QXR0cnMob3BlblRhZywgaW5wdXQpIHtcbiAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChsZXQgYXR0IG9mIG9wZW5UYWcuZ2V0Q2hpbGRyZW4oQXR0cmlidXRlKSkge1xuICAgIGxldCBuYW1lID0gYXR0LmdldENoaWxkKEF0dHJpYnV0ZU5hbWUpLCB2YWx1ZSA9IGF0dC5nZXRDaGlsZChBdHRyaWJ1dGVWYWx1ZSkgfHwgYXR0LmdldENoaWxkKFVucXVvdGVkQXR0cmlidXRlVmFsdWUpO1xuICAgIGlmIChuYW1lKSBhdHRyc1tpbnB1dC5yZWFkKG5hbWUuZnJvbSwgbmFtZS50byldID1cbiAgICAgICF2YWx1ZSA/IFwiXCIgOiB2YWx1ZS50eXBlLmlkID09IEF0dHJpYnV0ZVZhbHVlID8gaW5wdXQucmVhZCh2YWx1ZS5mcm9tICsgMSwgdmFsdWUudG8gLSAxKSA6IGlucHV0LnJlYWQodmFsdWUuZnJvbSwgdmFsdWUudG8pO1xuICB9XG4gIHJldHVybiBhdHRyc1xufVxuXG5mdW5jdGlvbiBmaW5kVGFnTmFtZShvcGVuVGFnLCBpbnB1dCkge1xuICBsZXQgdGFnTmFtZU5vZGUgPSBvcGVuVGFnLmdldENoaWxkKFRhZ05hbWUpO1xuICByZXR1cm4gdGFnTmFtZU5vZGUgPyBpbnB1dC5yZWFkKHRhZ05hbWVOb2RlLmZyb20sIHRhZ05hbWVOb2RlLnRvKSA6IFwiIFwiXG59XG5cbmZ1bmN0aW9uIG1heWJlTmVzdChub2RlLCBpbnB1dCwgdGFncykge1xuICBsZXQgYXR0cnM7XG4gIGZvciAobGV0IHRhZyBvZiB0YWdzKSB7XG4gICAgaWYgKCF0YWcuYXR0cnMgfHwgdGFnLmF0dHJzKGF0dHJzIHx8IChhdHRycyA9IGdldEF0dHJzKG5vZGUubm9kZS5wYXJlbnQuZmlyc3RDaGlsZCwgaW5wdXQpKSkpXG4gICAgICByZXR1cm4ge3BhcnNlcjogdGFnLnBhcnNlcn1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyB0YWdzPzoge1xuLy8gICB0YWc6IHN0cmluZyxcbi8vICAgYXR0cnM/OiAoe1thdHRyOiBzdHJpbmddOiBzdHJpbmd9KSA9PiBib29sZWFuLFxuLy8gICBwYXJzZXI6IFBhcnNlclxuLy8gfVtdXG4vLyBhdHRyaWJ1dGVzPzoge1xuLy8gICBuYW1lOiBzdHJpbmcsXG4vLyAgIHRhZ05hbWU/OiBzdHJpbmcsXG4vLyAgIHBhcnNlcjogUGFyc2VyXG4vLyB9W11cbiBcbmZ1bmN0aW9uIGNvbmZpZ3VyZU5lc3RpbmcodGFncyA9IFtdLCBhdHRyaWJ1dGVzID0gW10pIHtcbiAgbGV0IHNjcmlwdCA9IFtdLCBzdHlsZSA9IFtdLCB0ZXh0YXJlYSA9IFtdLCBvdGhlciA9IFtdO1xuICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgIGxldCBhcnJheSA9IHRhZy50YWcgPT0gXCJzY3JpcHRcIiA/IHNjcmlwdCA6IHRhZy50YWcgPT0gXCJzdHlsZVwiID8gc3R5bGUgOiB0YWcudGFnID09IFwidGV4dGFyZWFcIiA/IHRleHRhcmVhIDogb3RoZXI7XG4gICAgYXJyYXkucHVzaCh0YWcpO1xuICB9XG4gIGxldCBhdHRycyA9IGF0dHJpYnV0ZXMubGVuZ3RoID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG51bGw7XG4gIGZvciAobGV0IGF0dHIgb2YgYXR0cmlidXRlcykgKGF0dHJzW2F0dHIubmFtZV0gfHwgKGF0dHJzW2F0dHIubmFtZV0gPSBbXSkpLnB1c2goYXR0cik7XG5cbiAgcmV0dXJuIHBhcnNlTWl4ZWQoKG5vZGUsIGlucHV0KSA9PiB7XG4gICAgbGV0IGlkID0gbm9kZS50eXBlLmlkO1xuICAgIGlmIChpZCA9PSBTY3JpcHRUZXh0KSByZXR1cm4gbWF5YmVOZXN0KG5vZGUsIGlucHV0LCBzY3JpcHQpXG4gICAgaWYgKGlkID09IFN0eWxlVGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgc3R5bGUpXG4gICAgaWYgKGlkID09IFRleHRhcmVhVGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgdGV4dGFyZWEpXG5cbiAgICBpZiAoaWQgPT0gRWxlbWVudCAmJiBvdGhlci5sZW5ndGgpIHtcbiAgICAgIGxldCBuID0gbm9kZS5ub2RlLCBvcGVuID0gbi5maXJzdENoaWxkLCB0YWdOYW1lID0gb3BlbiAmJiBmaW5kVGFnTmFtZShvcGVuLCBpbnB1dCksIGF0dHJzO1xuICAgICAgaWYgKHRhZ05hbWUpIGZvciAobGV0IHRhZyBvZiBvdGhlcikge1xuICAgICAgICBpZiAodGFnLnRhZyA9PSB0YWdOYW1lICYmICghdGFnLmF0dHJzIHx8IHRhZy5hdHRycyhhdHRycyB8fCAoYXR0cnMgPSBnZXRBdHRycyhvcGVuLCBpbnB1dCkpKSkpIHtcbiAgICAgICAgICBsZXQgY2xvc2UgPSBuLmxhc3RDaGlsZDtcbiAgICAgICAgICBsZXQgdG8gPSBjbG9zZS50eXBlLmlkID09IENsb3NlVGFnID8gY2xvc2UuZnJvbSA6IG4udG87XG4gICAgICAgICAgaWYgKHRvID4gb3Blbi50bylcbiAgICAgICAgICAgIHJldHVybiB7cGFyc2VyOiB0YWcucGFyc2VyLCBvdmVybGF5OiBbe2Zyb206IG9wZW4udG8sIHRvfV19XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXR0cnMgJiYgaWQgPT0gQXR0cmlidXRlKSB7XG4gICAgICBsZXQgbiA9IG5vZGUubm9kZSwgbmFtZU5vZGU7XG4gICAgICBpZiAobmFtZU5vZGUgPSBuLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbGV0IG1hdGNoZXMgPSBhdHRyc1tpbnB1dC5yZWFkKG5hbWVOb2RlLmZyb20sIG5hbWVOb2RlLnRvKV07XG4gICAgICAgIGlmIChtYXRjaGVzKSBmb3IgKGxldCBhdHRyIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBpZiAoYXR0ci50YWdOYW1lICYmIGF0dHIudGFnTmFtZSAhPSBmaW5kVGFnTmFtZShuLnBhcmVudCwgaW5wdXQpKSBjb250aW51ZVxuICAgICAgICAgIGxldCB2YWx1ZSA9IG4ubGFzdENoaWxkO1xuICAgICAgICAgIGlmICh2YWx1ZS50eXBlLmlkID09IEF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHZhbHVlLmZyb20gKyAxO1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB2YWx1ZS5sYXN0Q2hpbGQsIHRvID0gdmFsdWUudG8gLSAobGFzdCAmJiBsYXN0LmlzRXJyb3IgPyAwIDogMSk7XG4gICAgICAgICAgICBpZiAodG8gPiBmcm9tKSByZXR1cm4ge3BhcnNlcjogYXR0ci5wYXJzZXIsIG92ZXJsYXk6IFt7ZnJvbSwgdG99XX1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLnR5cGUuaWQgPT0gVW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtwYXJzZXI6IGF0dHIucGFyc2VyLCBvdmVybGF5OiBbe2Zyb206IHZhbHVlLmZyb20sIHRvOiB2YWx1ZS50b31dfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9KVxufVxuXG5leHBvcnQgeyBjb25maWd1cmVOZXN0aW5nLCBwYXJzZXIgfTtcbiIsCiAgICAiaW1wb3J0IHsgRXh0ZXJuYWxUb2tlbml6ZXIsIExSUGFyc2VyLCBMb2NhbFRva2VuR3JvdXAgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgZGVzY2VuZGFudE9wID0gOTksXG4gIFVuaXQgPSAxLFxuICBjYWxsZWUgPSAxMDAsXG4gIGlkZW50aWZpZXIgPSAxMDEsXG4gIFZhcmlhYmxlTmFtZSA9IDI7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBDU1MgdG9rZW5zIHRoYXQgY2FuJ3QgYmVcbiAgIGV4cHJlc3NlZCBieSBMZXplcidzIGJ1aWx0LWluIHRva2VuaXplci4gKi9cblxuY29uc3Qgc3BhY2UgPSBbOSwgMTAsIDExLCAxMiwgMTMsIDMyLCAxMzMsIDE2MCwgNTc2MCwgODE5MiwgODE5MywgODE5NCwgODE5NSwgODE5NiwgODE5NyxcbiAgICAgICAgICAgICAgIDgxOTgsIDgxOTksIDgyMDAsIDgyMDEsIDgyMDIsIDgyMzIsIDgyMzMsIDgyMzksIDgyODcsIDEyMjg4XTtcbmNvbnN0IGNvbG9uID0gNTgsIHBhcmVuTCA9IDQwLCB1bmRlcnNjb3JlID0gOTUsIGJyYWNrZXRMID0gOTEsIGRhc2ggPSA0NSwgcGVyaW9kID0gNDYsXG4gICAgICBoYXNoID0gMzUsIHBlcmNlbnQgPSAzNywgYW1wZXJzYW5kID0gMzgsIGJhY2tzbGFzaCA9IDkyLCBuZXdsaW5lID0gMTA7XG5cbmZ1bmN0aW9uIGlzQWxwaGEoY2gpIHsgcmV0dXJuIGNoID49IDY1ICYmIGNoIDw9IDkwIHx8IGNoID49IDk3ICYmIGNoIDw9IDEyMiB8fCBjaCA+PSAxNjEgfVxuXG5mdW5jdGlvbiBpc0RpZ2l0KGNoKSB7IHJldHVybiBjaCA+PSA0OCAmJiBjaCA8PSA1NyB9XG5cbmNvbnN0IGlkZW50aWZpZXJzID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgZm9yIChsZXQgaW5zaWRlID0gZmFsc2UsIGRhc2hlcyA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICAgIGlmIChpc0FscGhhKG5leHQpIHx8IG5leHQgPT0gZGFzaCB8fCBuZXh0ID09IHVuZGVyc2NvcmUgfHwgKGluc2lkZSAmJiBpc0RpZ2l0KG5leHQpKSkge1xuICAgICAgaWYgKCFpbnNpZGUgJiYgKG5leHQgIT0gZGFzaCB8fCBpID4gMCkpIGluc2lkZSA9IHRydWU7XG4gICAgICBpZiAoZGFzaGVzID09PSBpICYmIG5leHQgPT0gZGFzaCkgZGFzaGVzKys7XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfSBlbHNlIGlmIChuZXh0ID09IGJhY2tzbGFzaCAmJiBpbnB1dC5wZWVrKDEpICE9IG5ld2xpbmUpIHtcbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGlmIChpbnB1dC5uZXh0ID4gLTEpIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGluc2lkZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnNpZGUpXG4gICAgICAgIGlucHV0LmFjY2VwdFRva2VuKG5leHQgPT0gcGFyZW5MID8gY2FsbGVlIDogZGFzaGVzID09IDIgJiYgc3RhY2suY2FuU2hpZnQoVmFyaWFibGVOYW1lKSA/IFZhcmlhYmxlTmFtZSA6IGlkZW50aWZpZXIpO1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBkZXNjZW5kYW50ID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgaWYgKHNwYWNlLmluY2x1ZGVzKGlucHV0LnBlZWsoLTEpKSkge1xuICAgIGxldCB7bmV4dH0gPSBpbnB1dDtcbiAgICBpZiAoaXNBbHBoYShuZXh0KSB8fCBuZXh0ID09IHVuZGVyc2NvcmUgfHwgbmV4dCA9PSBoYXNoIHx8IG5leHQgPT0gcGVyaW9kIHx8XG4gICAgICAgIG5leHQgPT0gYnJhY2tldEwgfHwgbmV4dCA9PSBjb2xvbiAmJiBpc0FscGhhKGlucHV0LnBlZWsoMSkpIHx8XG4gICAgICAgIG5leHQgPT0gZGFzaCB8fCBuZXh0ID09IGFtcGVyc2FuZClcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKGRlc2NlbmRhbnRPcCk7XG4gIH1cbn0pO1xuXG5jb25zdCB1bml0VG9rZW4gPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoaW5wdXQgPT4ge1xuICBpZiAoIXNwYWNlLmluY2x1ZGVzKGlucHV0LnBlZWsoLTEpKSkge1xuICAgIGxldCB7bmV4dH0gPSBpbnB1dDtcbiAgICBpZiAobmV4dCA9PSBwZXJjZW50KSB7IGlucHV0LmFkdmFuY2UoKTsgaW5wdXQuYWNjZXB0VG9rZW4oVW5pdCk7IH1cbiAgICBpZiAoaXNBbHBoYShuZXh0KSkge1xuICAgICAgZG8geyBpbnB1dC5hZHZhbmNlKCk7IH0gd2hpbGUgKGlzQWxwaGEoaW5wdXQubmV4dCkgfHwgaXNEaWdpdChpbnB1dC5uZXh0KSlcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKFVuaXQpO1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGNzc0hpZ2hsaWdodGluZyA9IHN0eWxlVGFncyh7XG4gIFwiQXRLZXl3b3JkIGltcG9ydCBjaGFyc2V0IG5hbWVzcGFjZSBrZXlmcmFtZXMgbWVkaWEgc3VwcG9ydHNcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJmcm9tIHRvIHNlbGVjdG9yXCI6IHRhZ3Mua2V5d29yZCxcbiAgTmFtZXNwYWNlTmFtZTogdGFncy5uYW1lc3BhY2UsXG4gIEtleWZyYW1lTmFtZTogdGFncy5sYWJlbE5hbWUsXG4gIEtleWZyYW1lUmFuZ2VOYW1lOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgVGFnTmFtZTogdGFncy50YWdOYW1lLFxuICBDbGFzc05hbWU6IHRhZ3MuY2xhc3NOYW1lLFxuICBQc2V1ZG9DbGFzc05hbWU6IHRhZ3MuY29uc3RhbnQodGFncy5jbGFzc05hbWUpLFxuICBJZE5hbWU6IHRhZ3MubGFiZWxOYW1lLFxuICBcIkZlYXR1cmVOYW1lIFByb3BlcnR5TmFtZVwiOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgQXR0cmlidXRlTmFtZTogdGFncy5hdHRyaWJ1dGVOYW1lLFxuICBOdW1iZXJMaXRlcmFsOiB0YWdzLm51bWJlcixcbiAgS2V5d29yZFF1ZXJ5OiB0YWdzLmtleXdvcmQsXG4gIFVuYXJ5UXVlcnlPcDogdGFncy5vcGVyYXRvcktleXdvcmQsXG4gIFwiQ2FsbFRhZyBWYWx1ZU5hbWVcIjogdGFncy5hdG9tLFxuICBWYXJpYWJsZU5hbWU6IHRhZ3MudmFyaWFibGVOYW1lLFxuICBDYWxsZWU6IHRhZ3Mub3BlcmF0b3JLZXl3b3JkLFxuICBVbml0OiB0YWdzLnVuaXQsXG4gIFwiVW5pdmVyc2FsU2VsZWN0b3IgTmVzdGluZ1NlbGVjdG9yXCI6IHRhZ3MuZGVmaW5pdGlvbk9wZXJhdG9yLFxuICBNYXRjaE9wOiB0YWdzLmNvbXBhcmVPcGVyYXRvcixcbiAgXCJDaGlsZE9wIFNpYmxpbmdPcCwgTG9naWNPcFwiOiB0YWdzLmxvZ2ljT3BlcmF0b3IsXG4gIEJpbk9wOiB0YWdzLmFyaXRobWV0aWNPcGVyYXRvcixcbiAgSW1wb3J0YW50OiB0YWdzLm1vZGlmaWVyLFxuICBDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgQ29sb3JMaXRlcmFsOiB0YWdzLmNvbG9yLFxuICBcIlBhcmVudGhlc2l6ZWRDb250ZW50IFN0cmluZ0xpdGVyYWxcIjogdGFncy5zdHJpbmcsXG4gIFwiOlwiOiB0YWdzLnB1bmN0dWF0aW9uLFxuICBcIlBzZXVkb09wICNcIjogdGFncy5kZXJlZk9wZXJhdG9yLFxuICBcIjsgLFwiOiB0YWdzLnNlcGFyYXRvcixcbiAgXCIoIClcIjogdGFncy5wYXJlbixcbiAgXCJbIF1cIjogdGFncy5zcXVhcmVCcmFja2V0LFxuICBcInsgfVwiOiB0YWdzLmJyYWNlXG59KTtcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBzcGVjX2NhbGxlZSA9IHtfX3Byb3RvX186bnVsbCxsYW5nOjMyLCBcIm50aC1jaGlsZFwiOjMyLCBcIm50aC1sYXN0LWNoaWxkXCI6MzIsIFwibnRoLW9mLXR5cGVcIjozMiwgXCJudGgtbGFzdC1vZi10eXBlXCI6MzIsIGRpcjozMiwgXCJob3N0LWNvbnRleHRcIjozMiwgdXJsOjYwLCBcInVybC1wcmVmaXhcIjo2MCwgZG9tYWluOjYwLCByZWdleHA6NjAsIHNlbGVjdG9yOjEzOH07XG5jb25zdCBzcGVjX0F0S2V5d29yZCA9IHtfX3Byb3RvX186bnVsbCxcIkBpbXBvcnRcIjoxMTgsIFwiQG1lZGlhXCI6MTQyLCBcIkBjaGFyc2V0XCI6MTQ2LCBcIkBuYW1lc3BhY2VcIjoxNTAsIFwiQGtleWZyYW1lc1wiOjE1NiwgXCJAc3VwcG9ydHNcIjoxNjh9O1xuY29uc3Qgc3BlY19pZGVudGlmaWVyID0ge19fcHJvdG9fXzpudWxsLG5vdDoxMzIsIG9ubHk6MTMyfTtcbmNvbnN0IHBhcnNlciA9IExSUGFyc2VyLmRlc2VyaWFsaXplKHtcbiAgdmVyc2lvbjogMTQsXG4gIHN0YXRlczogXCI6XlFZUVtPT08jX1FbT09QI2ZPV09PT09RUCcjQ2QnI0NkT09RUCcjQ2MnI0NjTyNrUVtPJyNDZk8kX1FYTycjQ2FPJGZRW08nI0NoTyRxUVtPJyNEVE8kdlFbTycjRFdPT1FQJyNFbScjRW1PJHtRZE8nI0RnTyVqUVtPJyNEdE8ke1FkTycjRHZPJXtRW08nI0R4TyZXUVtPJyNEe08mYFFbTycjRVJPJm5RW08nI0VUT09RUycjRWwnI0VsT09RUycjRVcnI0VXUVlRW09PTyZ1UVhPJyNDZE8nalFXTycjRGNPJ29RV08nI0VzTyd6UVtPJyNFc1FPUVdPT1AoVU8jdE8nI0NfUE9PTylDQFspQ0BbT09RUCcjQ2cnI0NnT09RUCw1OVEsNTlRTyNrUVtPLDU5UU8oYVFbTycjRVtPKHtRV08sNTh7TylUUVtPLDU5U08kcVFbTyw1OW9PJHZRW08sNTlyTyhhUVtPLDU5dU8oYVFbTyw1OXdPKGFRW08sNTl4TylgUVtPJyNEYk9PUVMsNTh7LDU4e09PUVAnI0NrJyNDa09PUU8nI0RSJyNEUk9PUVAsNTlTLDU5U08pZ1FXTyw1OVNPKWxRV08sNTlTT09RUCcjRFYnI0RWT09RUCw1OW8sNTlvT09RTycjRFgnI0RYTylxUWBPLDU5ck9PUVMnI0NwJyNDcE8ke1FkTycjQ3FPKXlRdk8nI0NzTytaUXRPLDU6Uk9PUU8nI0N4JyNDeE8pbFFXTycjQ3dPK29RV08nI0N5Tyt0UVtPJyNET09PUVMnI0VwJyNFcE9PUU8nI0RqJyNEak8rfFFbTycjRHFPLFtRV08nI0V0TyZgUVtPJyNEb08salFXTycjRHJPT1FPJyNFdScjRXVPKU9RV08sNTpgTyxvUXBPLDU6Yk9PUVMnI0R6JyNEek8sd1FXTyw1OmRPLHxRW08sNTpkT09RTycjRH0nI0R9Ty1VUVdPLDU6Z08tWlFXTyw1Om1PLWNRV08sNTpvT09RUy1FOFUtRThVTyR7UWRPLDU5fU8ta1FbTycjRV5PLXhRV08sNTtfTy14UVdPLDU7X1BPT08nI0VWJyNFVlAuVE8jdE8sNTh5UE9PTyw1OHksNTh5T09RUDFHLmwxRy5sTy56UVhPLDU6dk9PUU8tRThZLUU4WU9PUVMxRy5nMUcuZ09PUVAxRy5uMUcubk8pZ1FXTzFHLm5PKWxRV08xRy5uT09RUDFHL1oxRy9aTy9YUWBPMUcvXk8vclFYTzFHL2FPMFlRWE8xRy9jTzBwUVhPMUcvZE8xV1FXTyw1OXxPMV1RW08nI0RTTzFkUWRPJyNDb09PUVAxRy9eMUcvXk8ke1FkTzFHL15PMWtRcE8sNTldT09RUyw1OV8sNTlfTyR7UWRPLDU5YU8xc1FXTzFHL21PT1FTLDU5Yyw1OWNPMXhRIWJPLDU5ZU9PUVMnI0RQJyNEUE9PUVMnI0VZJyNFWU8yUVFbTyw1OWpPT1FTLDU5aiw1OWpPMllRV08nI0RqTzJlUVdPLDU6Vk8yalFXTyw1Ol1PJmBRW08sNTpYTyZgUVtPJyNFX08yclFXTyw1O2BPMn1RV08sNTpaTyhhUVtPLDU6Xk9PUVMxRy96MUcvek9PUVMxRy98MUcvfE9PUVMxRzBPMUcwT08zYFFXTzFHME9PM2VRZE8nI0VPT09RUzFHMFIxRzBST09RUzFHMFgxRzBYT09RUzFHMFoxRzBaTzNwUXRPMUcvaU9PUU8sNTp4LDU6eE80V1FbTyw1OnhPT1FPLUU4Wy1FOFtPNGVRV08xRzB5UE9PTy1FOFQtRThUUE9PTzFHLmUxRy5lT09RUDcrJFk3KyRZT09RUDcrJHg3KyR4TyR7UWRPNyskeE9PUVMxRy9oMUcvaE80cFFYTycjRXJPNHdRV08sNTluTzR8UXRPJyNFWE81dFFkTycjRW9PNk9RV08sNTlaTzZUUXBPNyskeE9PUVMxRy53MUcud09PUVMxRy57MUcue09PUVM3KyVYNyslWE82XVFXTzFHL1BPT1FTLUU4Vy1FOFdPT1FTMUcvVTFHL1VPJHtRZE8xRy9xT09RTzFHL3cxRy93T09RTzFHL3MxRy9zTzZiUVdPLDU6eU9PUU8tRThdLUU4XU82cFFYTzFHL3hPT1FTNyslajcrJWpPNndRWU8nI0NzT09RTycjRVEnI0VRTzdTUWBPJyNFUE9PUU8nI0VQJyNFUE83X1FXTycjRWBPN2dRZE8sNTpqT09RUyw1OmosNTpqTzdyUXRPJyNFXU8ke1FkTycjRV1POHNRZE83KyVUT09RTzcrJVQ3KyVUT09RTzFHMGQxRzBkTzlXUXBPPDxIZE85YFFXTyw1O15PT1FQMUcvWTFHL1lPT1FTLUU4Vi1FOFZPJHtRZE8nI0VaTzloUVdPLDU7Wk9PUVQxRy51MUcudU9PUVA8PEhkPDxIZE9PUVM3KyRrNyska085cFFkTzcrJV1PT1FPNyslZDcrJWRPT1FPLDU6ayw1OmtPM2hRZE8nI0VhTzdfUVdPLDU6ek9PUVMsNTp6LDU6ek9PUVMtRTheLUU4Xk9PUVMxRzBVMUcwVU85d1F0Tyw1OndPT1FTLUU4Wi1FOFpPT1FPPDxIbzw8SG9PT1FQQU4+T0FOPk9POnhRZE8sNTp1T09RTy1FOFgtRThYT09RTzw8SHc8PEh3T09RTyw1OnssNTp7T09RTy1FOF8tRThfT09RUzFHMGYxRzBmXCIsXG4gIHN0YXRlRGF0YTogXCI7W35PI1pPUyNbUVF+T1VZT1hZT11WT15WT3FYT3hXTyFbYU8hXVpPIWlbTyFrXU8hbV5PIXBfTyF2YE8jWFJPI2JUT35PUWZPVVlPWFlPXVZPXlZPcVhPeFdPIVthTyFdWk8haVtPIWtdTyFtXk8hcF9PIXZgTyNYZU8jYlRPfk8jVSNnUH5QIVpPI1tqT35PI1hsT35PXXFPXnFPcXNPdG9PeHJPIU90TyFSdk8jVnVPI2JuT35PIVR3T35QI3BPYH1PI1d6TyNYeU9+TyNYIU9Pfk8jWCFRT35PUSFbT2IhVE9mIVtPaCFbT24hWU9xIVpPI1chV08jWCFTTyNlIVVPfk9iIV5PIWQhYE8hZyFhTyNYIV1PIVQjaFB+T2ghZk9uIVlPI1ghZU9+T2ghaE8jWCFoT35PYiFeTyFkIWBPIWchYU8jWCFdT35PIVkjaFB+UCVqT11XWF0hV1heV1hxV1h0V1h4V1ghT1dYIVJXWCFUV1gjVldYI2JXWH5PXSFtT35PIVkhbk8jVSNnWCFTI2dYfk8jVSNnWCFTI2dYflAhWk8jXSFxTyNeIXFPI18hc09+T1VZT1hZT11WT15WT3FYT3hXTyNYUk8jYlRPfk90b08hVHdPfk9gIXpPI1d6TyNYeU9+TyFTI2dQflAhWk9iI1JPfk9iI1NPfk9wI1RPfCNVT35PUCNXT2JnWGpnWCFZZ1ghZGdYIWdnWCNYZ1hhZ1hRZ1hmZ1hoZ1huZ1hxZ1h0Z1ghWGdYI1VnWCNXZ1gjZWdYcGdYIVNnWH5PYiFeT2ojWE8hZCFgTyFnIWFPI1ghXU8hWSNoUH5PYiNbT35PcCNgTyNYI11Pfk9iIV5PIWQhYE8hZyFhTyNYI2FPfk90I2VPIWIjZE8hVCNoWCFZI2hYfk9iI2hPfk9qI1hPIVkjak9+TyFZI2tPfk9oI2xPbiFZT35PIVQjbU9+TyFUd08hYiNkT35PIVR3TyFZI3BPfk8hWSNRWCNVI1FYIVMjUVh+UCFaTyFZIW5PI1UjZ2EhUyNnYX5PI10hcU8jXiFxTyNfI3dPfk9dcU9ecU9xc094ck8hT3RPIVJ2TyNWdU8jYm5Pfk90I09hIVQjT2FhI09hflAuYE9wI3lPfCN6T35PXXFPXnFPcXNPeHJPI2JuT35PdH1pIU99aSFSfWkhVH1pI1Z9aWF9aX5QL2FPdCFQaSFPIVBpIVIhUGkhVCFQaSNWIVBpYSFQaX5QL2FPdCFRaSFPIVFpIVIhUWkhVCFRaSNWIVFpYSFRaX5QL2FPIVMje09+T2EjZlB+UChhT2EjY1B+UCR7T2EkU09qI1hPfk8hWSRVT35PaCRWT28kVk9+T3AkWE8jWCNdT35PXSFgWGEhXlghYiFeWH5PXSRZT35PYSRaTyFiI2RPfk90I2VPIVQjaGEhWSNoYX5PIWIjZE90IWNhIVQhY2EhWSFjYWEhY2F+TyFZJGBPfk8hUyRnTyNYJGJPI2UkYU9+T2ojWE90JGlPIVgka08hWSFWaSNVIVZpIVMhVml+UCR7TyFZI1FhI1UjUWEhUyNRYX5QIVpPIVkhbk8jVSNnaSFTI2dpfk9hI2ZYflAjcE9hJG9Pfk9qI1hPUSF7WGEhe1hiIXtYZiF7WGghe1huIXtYcSF7WHQhe1gjVyF7WCNYIXtYI2Uhe1h+T3QkcU9hI2NYflAke09hJHNPfk9qI1hPcCR0T35PYSR1T35PIWIjZE90I1JhIVQjUmEhWSNSYX5PYSR3T35QLmBPUCNXT3RnWCFUZ1h+TyNlJGFPdCFzWCFUIXNYfk90JHlPIVR3T35PIVMkfU8jWCRiTyNlJGFPfk9qI1hPUSNQWGIjUFhmI1BYaCNQWG4jUFhxI1BYdCNQWCFYI1BYIVkjUFgjVSNQWCNXI1BYI1gjUFgjZSNQWCFTI1BYfk90JGlPIVglUU8hWSFWcSNVIVZxIVMhVnF+UCR7T2ojWE9wJVJPfk90b09hI2Zhfk90JHFPYSNjYX5PYSVVT35QJHtPaiNYT1EjUGFiI1BhZiNQYWgjUGFuI1BhcSNQYXQjUGEhWCNQYSFZI1BhI1UjUGEjVyNQYSNYI1BhI2UjUGEhUyNQYX5PYSF9YXQhfWF+UCR7TyNabyNbI2VqIVIjZX5cIixcbiAgZ290bzogXCItZyNqUFBQI2tQI25QI3ckV1AjdyRnI3dQUCRtUFBQJHMkfCR8UCVgUCR8UCR8JXomXlBQUFAkfCZ2UCZ6J1Ejd1AnVyN3J15QI3dQI3cjd1BQUCdkJ3koV1BQI25QUChfKF8oaShfUChfUChfKF9QI25QI25QI25QKGwjblAobyhyKHUofCNuUCNuUClSKVgpaCl2KXwqUypeKmQqbip0KnpQUFBQUFBQUFBQK1ErWlArdit5UCxvLHIseC1SUmtRX2JPUGRodyFuI3NrWU9QZGhvdHV2dyFuI1IjaCNza1NPUGRob3R1dnchbiNSI2gjc1FtVFIhdG5Re1ZSIXhxUSF4fVEjWiFYUiN4IXpxIVtaXSFUIW0jUyNVI1gjcSN6JFAkWSRpJGokcSR2JVNwIVtaXSFUIW0jUyNVI1gjcSN6JFAkWSRpJGokcSR2JVNVJGQjbSRmJHlSJHgkY3EhWFpdIVQhbSNTI1UjWCNxI3okUCRZJGkkaiRxJHYlU3AhW1pdIVQhbSNTI1UjWCNxI3okUCRZJGkkaiRxJHYlU1EhZl5SI2whZ1QjXiFaI19RfFZSIXlxUSF4fFIjeCF5USFQV1Ihe3JRIVJYUiF8c1F4VVEhd3BRI2khY1EjbyFqUSNwIWtRJHskZVIlWCR6U2dQd1EhcGhRI3IhblIkbCNzWmZQaHchbiNzYSFiW2BhIVYhXiFgI2QjZVIjYiFeUiFnXlIhaV9SI24haVMkZSNtJGZSJVYkeVYkYyNtJGYkeVEhcmpSI3YhclFkT1NoUHdVIWxkaCNzUiNzIW5RJFAjU1UkcCRQJHYlU1EkdiRZUiVTJHFRI18hWlIkVyNfUSRyJFBSJVQkclFwVVMhdnAkblIkbiN8USRqI3FSJVAkalEhb2dTI3QhbyN1UiN1IXBRI2YhX1IkXiNmUSRmI21SJHwkZlEkeiRlUiVXJHpfY09QZGh3IW4jc15VT1BkaHchbiNzUSF1b1EhfXRRI091USNQdlEjfCNSUiRfI2hSJFEjU1EhVlpRIWRdUSNWIVRRI3EhbVskTyNTJFAkWSRxJHYlU1EkUiNVUSRUI1hTJGgjcSRqUSRtI3pSJU8kaVIjfSNSUWlQUiNRd1EhY1tRIWthUiNZIVZVIV9bYSFWUSFqYFEjYyFeUSNnIWBRJFsjZFIkXSNlXCIsXG4gIG5vZGVOYW1lczogXCLimqAgVW5pdCBWYXJpYWJsZU5hbWUgQ29tbWVudCBTdHlsZVNoZWV0IFJ1bGVTZXQgVW5pdmVyc2FsU2VsZWN0b3IgVGFnU2VsZWN0b3IgVGFnTmFtZSBOZXN0aW5nU2VsZWN0b3IgQ2xhc3NTZWxlY3RvciBDbGFzc05hbWUgUHNldWRvQ2xhc3NTZWxlY3RvciA6IDo6IFBzZXVkb0NsYXNzTmFtZSBQc2V1ZG9DbGFzc05hbWUgKSAoIEFyZ0xpc3QgVmFsdWVOYW1lIFBhcmVudGhlc2l6ZWRWYWx1ZSBDb2xvckxpdGVyYWwgTnVtYmVyTGl0ZXJhbCBTdHJpbmdMaXRlcmFsIEJpbmFyeUV4cHJlc3Npb24gQmluT3AgQ2FsbEV4cHJlc3Npb24gQ2FsbGVlIENhbGxMaXRlcmFsIENhbGxUYWcgUGFyZW50aGVzaXplZENvbnRlbnQgXSBbIExpbmVOYW1lcyBMaW5lTmFtZSAsIFBzZXVkb0NsYXNzTmFtZSBBcmdMaXN0IElkU2VsZWN0b3IgIyBJZE5hbWUgQXR0cmlidXRlU2VsZWN0b3IgQXR0cmlidXRlTmFtZSBNYXRjaE9wIENoaWxkU2VsZWN0b3IgQ2hpbGRPcCBEZXNjZW5kYW50U2VsZWN0b3IgU2libGluZ1NlbGVjdG9yIFNpYmxpbmdPcCB9IHsgQmxvY2sgRGVjbGFyYXRpb24gUHJvcGVydHlOYW1lIEltcG9ydGFudCA7IEltcG9ydFN0YXRlbWVudCBBdEtleXdvcmQgaW1wb3J0IEtleXdvcmRRdWVyeSBGZWF0dXJlUXVlcnkgRmVhdHVyZU5hbWUgQmluYXJ5UXVlcnkgTG9naWNPcCBVbmFyeVF1ZXJ5IFVuYXJ5UXVlcnlPcCBQYXJlbnRoZXNpemVkUXVlcnkgU2VsZWN0b3JRdWVyeSBzZWxlY3RvciBNZWRpYVN0YXRlbWVudCBtZWRpYSBDaGFyc2V0U3RhdGVtZW50IGNoYXJzZXQgTmFtZXNwYWNlU3RhdGVtZW50IG5hbWVzcGFjZSBOYW1lc3BhY2VOYW1lIEtleWZyYW1lc1N0YXRlbWVudCBrZXlmcmFtZXMgS2V5ZnJhbWVOYW1lIEtleWZyYW1lTGlzdCBLZXlmcmFtZVNlbGVjdG9yIEtleWZyYW1lUmFuZ2VOYW1lIFN1cHBvcnRzU3RhdGVtZW50IHN1cHBvcnRzIEF0UnVsZSBTdHlsZXNcIixcbiAgbWF4VGVybTogMTE3LFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJpc29sYXRlXCIsIC0yLDMsMjQsXCJcIl0sXG4gICAgW1wib3BlbmVkQnlcIiwgMTcsXCIoXCIsMzIsXCJbXCIsNTAsXCJ7XCJdLFxuICAgIFtcImNsb3NlZEJ5XCIsIDE4LFwiKVwiLDMzLFwiXVwiLDUxLFwifVwiXVxuICBdLFxuICBwcm9wU291cmNlczogW2Nzc0hpZ2hsaWdodGluZ10sXG4gIHNraXBwZWROb2RlczogWzAsMyw4N10sXG4gIHJlcGVhdE5vZGVDb3VudDogMTEsXG4gIHRva2VuRGF0YTogXCJKXn5SIV5PWCR9WF4ldV5wJH1wcSV1cXIpWHJzLlJzdC91dHU2ZHV2JH12dzded3g3b3h5OV55ejlvens5dHt8Ol98fT9RfSFPP2MhTyFQQFEhUCFRQGkhUSFbQWIhWyFdQl0hXSFeQ1ghXiFfJH0hXyFgQ2ohYCFhQ3shYSFiJH0hYiFjRHchYyF9JH0hfSNPRmEjTyNQJH0jUCNRRnIjUSNSNmQjUiNUJH0jVCNVR1QjVSNjJH0jYyNkSGYjZCNvJH0jbyNwSHsjcCNxNmQjcSNySV4jciNzSW8jcyN5JH0jeSN6JXUjeiRmJH0kZiRnJXUkZyNCWSR9I0JZI0JaJXUjQlokSVMkfSRJUyRJXyV1JElfJEl8JH0kSXwkSk8ldSRKTyRKVCR9JEpUJEpVJXUkSlUkS1YkfSRLViRLVyV1JEtXJkZVJH0mRlUmRlYldSZGVjsnUyR9OydTOz1gSlc8JWxPJH1gJVFTT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeYCVjU29gT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeYCVyUDs9YDwlbCVefiV6aCNafk9YJV5YXidmXnAlXnBxJ2ZxeSVeeiN5JV4jeSN6J2YjeiRmJV4kZiRnJ2YkZyNCWSVeI0JZI0JaJ2YjQlokSVMlXiRJUyRJXydmJElfJEl8JV4kSXwkSk8nZiRKTyRKVCVeJEpUJEpVJ2YkSlUkS1YlXiRLViRLVydmJEtXJkZVJV4mRlUmRlYnZiZGVjsnUyVeOydTOz1gJW88JWxPJV5+J21oI1p+b2BPWCVeWF4nZl5wJV5wcSdmcXklXnojeSVeI3kjeidmI3okZiVeJGYkZydmJGcjQlklXiNCWSNCWidmI0JaJElTJV4kSVMkSV8nZiRJXyRJfCVeJEl8JEpPJ2YkSk8kSlQlXiRKVCRKVSdmJEpVJEtWJV4kS1YkS1cnZiRLVyZGVSVeJkZVJkZWJ2YmRlY7J1MlXjsnUzs9YCVvPCVsTyVebClbVU95JV56I10lXiNdI14pbiNeOydTJV47J1M7PWAlbzwlbE8lXmwpc1VvYE95JV56I2ElXiNhI2IqViNiOydTJV47J1M7PWAlbzwlbE8lXmwqW1VvYE95JV56I2QlXiNkI2UqbiNlOydTJV47J1M7PWAlbzwlbE8lXmwqc1VvYE95JV56I2MlXiNjI2QrViNkOydTJV47J1M7PWAlbzwlbE8lXmwrW1VvYE95JV56I2YlXiNmI2crbiNnOydTJV47J1M7PWAlbzwlbE8lXmwrc1VvYE95JV56I2glXiNoI2ksViNpOydTJV47J1M7PWAlbzwlbE8lXmwsW1VvYE95JV56I1QlXiNUI1UsbiNVOydTJV47J1M7PWAlbzwlbE8lXmwsc1VvYE95JV56I2IlXiNiI2MtViNjOydTJV47J1M7PWAlbzwlbE8lXmwtW1VvYE95JV56I2glXiNoI2ktbiNpOydTJV47J1M7PWAlbzwlbE8lXmwtdVMhWFtvYE95JV56OydTJV47J1M7PWAlbzwlbE8lXn4uVVdPWS5SWnIuUnJzLm5zI08uUiNPI1AucyNQOydTLlI7J1M7PWAvbzwlbE8uUn4uc09ofn4udlJPOydTLlI7J1M7PWAvUDs9YE8uUn4vU1hPWS5SWnIuUnJzLm5zI08uUiNPI1AucyNQOydTLlI7J1M7PWAvbzs9YDwlbC5SPCVsTy5Sfi9yUDs9YDwlbC5Sbi96WXhRT3klXnohUSVeIVEhWzBqIVshYyVeIWMhaTBqIWkjVCVeI1QjWjBqI1o7J1MlXjsnUzs9YCVvPCVsTyVebDBvWW9gT3klXnohUSVeIVEhWzFfIVshYyVeIWMhaTFfIWkjVCVeI1QjWjFfI1o7J1MlXjsnUzs9YCVvPCVsTyVebDFkWW9gT3klXnohUSVeIVEhWzJTIVshYyVeIWMhaTJTIWkjVCVeI1QjWjJTI1o7J1MlXjsnUzs9YCVvPCVsTyVebDJaWWZbb2BPeSVeeiFRJV4hUSFbMnkhWyFjJV4hYyFpMnkhaSNUJV4jVCNaMnkjWjsnUyVeOydTOz1gJW88JWxPJV5sM1FZZltvYE95JV56IVElXiFRIVszcCFbIWMlXiFjIWkzcCFpI1QlXiNUI1ozcCNaOydTJV47J1M7PWAlbzwlbE8lXmwzdVlvYE95JV56IVElXiFRIVs0ZSFbIWMlXiFjIWk0ZSFpI1QlXiNUI1o0ZSNaOydTJV47J1M7PWAlbzwlbE8lXmw0bFlmW29gT3klXnohUSVeIVEhWzVbIVshYyVeIWMhaTVbIWkjVCVeI1QjWjVbI1o7J1MlXjsnUzs9YCVvPCVsTyVebDVhWW9gT3klXnohUSVeIVEhWzZQIVshYyVeIWMhaTZQIWkjVCVeI1QjWjZQI1o7J1MlXjsnUzs9YCVvPCVsTyVebDZXU2Zbb2BPeSVeejsnUyVeOydTOz1gJW88JWxPJV5kNmdVT3klXnohXyVeIV8hYDZ5IWA7J1MlXjsnUzs9YCVvPCVsTyVeZDdRU3xTb2BPeSVeejsnUyVeOydTOz1gJW88JWxPJV5iN2NTWFFPeSVeejsnUyVeOydTOz1gJW88JWxPJV5+N3JXT1k3b1p3N293eC5ueCNPN28jTyNQOFsjUDsnUzdvOydTOz1gOVc8JWxPN29+OF9STzsnUzdvOydTOz1gOGg7PWBPN29+OGtYT1k3b1p3N293eC5ueCNPN28jTyNQOFsjUDsnUzdvOydTOz1gOVc7PWA8JWw3bzwlbE83b345WlA7PWA8JWw3b245Y1NiXk95JV56OydTJV47J1M7PWAlbzwlbE8lXn45dE9hfm45e1VVUWpXT3klXnohXyVeIV8hYDZ5IWA7J1MlXjsnUzs9YCVvPCVsTyVebjpmV2pXIVJRT3klXnohTyVeIU8hUDtPIVAhUSVeIVEhWz5UIVs7J1MlXjsnUzs9YCVvPCVsTyVebDtUVW9gT3klXnohUSVeIVEhWztnIVs7J1MlXjsnUzs9YCVvPCVsTyVebDtuWW9gI2VbT3klXnohUSVeIVEhWztnIVshZyVeIWchaDxeIWgjWCVeI1gjWTxeI1k7J1MlXjsnUzs9YCVvPCVsTyVebDxjWW9gT3klXnp7JV57fD1SfH0lXn0hTz1SIU8hUSVeIVEhWz1qIVs7J1MlXjsnUzs9YCVvPCVsTyVebD1XVW9gT3klXnohUSVeIVEhWz1qIVs7J1MlXjsnUzs9YCVvPCVsTyVebD1xVW9gI2VbT3klXnohUSVeIVEhWz1qIVs7J1MlXjsnUzs9YCVvPCVsTyVebD5bW29gI2VbT3klXnohTyVeIU8hUDtnIVAhUSVeIVEhWz5UIVshZyVeIWchaDxeIWgjWCVeI1gjWTxeI1k7J1MlXjsnUzs9YCVvPCVsTyVebj9WU3ReT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebD9oV2pXT3klXnohTyVeIU8hUDtPIVAhUSVeIVEhWz5UIVs7J1MlXjsnUzs9YCVvPCVsTyVebkBWVSNiUU95JV56IVElXiFRIVs7ZyFbOydTJV47J1M7PWAlbzwlbE8lXn5AblRqV095JV56e0B9ezsnUyVeOydTOz1gJW88JWxPJV5+QVVTb2AjW35PeSVeejsnUyVeOydTOz1gJW88JWxPJV5sQWdbI2VbT3klXnohTyVeIU8hUDtnIVAhUSVeIVEhWz5UIVshZyVeIWchaDxeIWgjWCVeI1gjWTxeI1k7J1MlXjsnUzs9YCVvPCVsTyVeYkJiVV1RT3klXnohWyVeIVshXUJ0IV07J1MlXjsnUzs9YCVvPCVsTyVeYkJ7U15Rb2BPeSVeejsnUyVeOydTOz1gJW88JWxPJV5uQ15TIVleT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeZENvU3xTT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeYkRRVSFPUU95JV56IWAlXiFgIWFEZCFhOydTJV47J1M7PWAlbzwlbE8lXmJEa1MhT1FvYE95JV56OydTJV47J1M7PWAlbzwlbE8lXmJEeldPeSVeeiFjJV4hYyF9RWQhfSNUJV4jVCNvRWQjbzsnUyVeOydTOz1gJW88JWxPJV5iRWtbIVtRb2BPeSVeen0lXn0hT0VkIU8hUSVeIVEhW0VkIVshYyVeIWMhfUVkIX0jVCVeI1Qjb0VkI287J1MlXjsnUzs9YCVvPCVsTyVebkZmU3FeT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebkZ3U3BeT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeYkdXVU95JV56I2IlXiNiI2NHaiNjOydTJV47J1M7PWAlbzwlbE8lXmJHb1VvYE95JV56I1clXiNXI1hIUiNYOydTJV47J1M7PWAlbzwlbE8lXmJIWVMhYlFvYE95JV56OydTJV47J1M7PWAlbzwlbE8lXmJIaVVPeSVeeiNmJV4jZiNnSFIjZzsnUyVeOydTOz1gJW88JWxPJV5mSVFTIVRVT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebkljUyFTXk95JV56OydTJV47J1M7PWAlbzwlbE8lXmZJdFUhUlFPeSVeeiFfJV4hXyFgNnkhYDsnUyVeOydTOz1gJW88JWxPJV5gSlpQOz1gPCVsJH1cIixcbiAgdG9rZW5pemVyczogW2Rlc2NlbmRhbnQsIHVuaXRUb2tlbiwgaWRlbnRpZmllcnMsIDEsIDIsIDMsIDQsIG5ldyBMb2NhbFRva2VuR3JvdXAoXCJtflJSWVpbenthfn5nfmFPI15+fmRQIVAhUWd+bE8jX35+XCIsIDI4LCAxMDUpXSxcbiAgdG9wUnVsZXM6IHtcIlN0eWxlU2hlZXRcIjpbMCw0XSxcIlN0eWxlc1wiOlsxLDg2XX0sXG4gIHNwZWNpYWxpemVkOiBbe3Rlcm06IDEwMCwgZ2V0OiAodmFsdWUpID0+IHNwZWNfY2FsbGVlW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDU4LCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19BdEtleXdvcmRbdmFsdWVdIHx8IC0xfSx7dGVybTogMTAxLCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19pZGVudGlmaWVyW3ZhbHVlXSB8fCAtMX1dLFxuICB0b2tlblByZWM6IDEyMDBcbn0pO1xuXG5leHBvcnQgeyBwYXJzZXIgfTtcbiIsCiAgICAiaW1wb3J0IHsgcGFyc2VyIH0gZnJvbSAnQGxlemVyL2Nzcyc7XG5pbXBvcnQgeyBzeW50YXhUcmVlLCBMUkxhbmd1YWdlLCBpbmRlbnROb2RlUHJvcCwgY29udGludWVkSW5kZW50LCBmb2xkTm9kZVByb3AsIGZvbGRJbnNpZGUsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IE5vZGVXZWFrTWFwLCBJdGVyTW9kZSB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG5sZXQgX3Byb3BlcnRpZXMgPSBudWxsO1xuZnVuY3Rpb24gcHJvcGVydGllcygpIHtcbiAgICBpZiAoIV9wcm9wZXJ0aWVzICYmIHR5cGVvZiBkb2N1bWVudCA9PSBcIm9iamVjdFwiICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgbGV0IHsgc3R5bGUgfSA9IGRvY3VtZW50LmJvZHksIG5hbWVzID0gW10sIHNlZW4gPSBuZXcgU2V0O1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHN0eWxlKVxuICAgICAgICAgICAgaWYgKHByb3AgIT0gXCJjc3NUZXh0XCIgJiYgcHJvcCAhPSBcImNzc0Zsb2F0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0eWxlW3Byb3BdID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9bQS1aXS8udGVzdChwcm9wKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wLnJlcGxhY2UoL1tBLVpdL2csIGNoID0+IFwiLVwiICsgY2gudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2Vlbi5oYXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuLmFkZChwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgX3Byb3BlcnRpZXMgPSBuYW1lcy5zb3J0KCkubWFwKG5hbWUgPT4gKHsgdHlwZTogXCJwcm9wZXJ0eVwiLCBsYWJlbDogbmFtZSB9KSk7XG4gICAgfVxuICAgIHJldHVybiBfcHJvcGVydGllcyB8fCBbXTtcbn1cbmNvbnN0IHBzZXVkb0NsYXNzZXMgPSAvKkBfX1BVUkVfXyovW1xuICAgIFwiYWN0aXZlXCIsIFwiYWZ0ZXJcIiwgXCJhbnktbGlua1wiLCBcImF1dG9maWxsXCIsIFwiYmFja2Ryb3BcIiwgXCJiZWZvcmVcIixcbiAgICBcImNoZWNrZWRcIiwgXCJjdWVcIiwgXCJkZWZhdWx0XCIsIFwiZGVmaW5lZFwiLCBcImRpc2FibGVkXCIsIFwiZW1wdHlcIixcbiAgICBcImVuYWJsZWRcIiwgXCJmaWxlLXNlbGVjdG9yLWJ1dHRvblwiLCBcImZpcnN0XCIsIFwiZmlyc3QtY2hpbGRcIixcbiAgICBcImZpcnN0LWxldHRlclwiLCBcImZpcnN0LWxpbmVcIiwgXCJmaXJzdC1vZi10eXBlXCIsIFwiZm9jdXNcIixcbiAgICBcImZvY3VzLXZpc2libGVcIiwgXCJmb2N1cy13aXRoaW5cIiwgXCJmdWxsc2NyZWVuXCIsIFwiaGFzXCIsIFwiaG9zdFwiLFxuICAgIFwiaG9zdC1jb250ZXh0XCIsIFwiaG92ZXJcIiwgXCJpbi1yYW5nZVwiLCBcImluZGV0ZXJtaW5hdGVcIiwgXCJpbnZhbGlkXCIsXG4gICAgXCJpc1wiLCBcImxhbmdcIiwgXCJsYXN0LWNoaWxkXCIsIFwibGFzdC1vZi10eXBlXCIsIFwibGVmdFwiLCBcImxpbmtcIiwgXCJtYXJrZXJcIixcbiAgICBcIm1vZGFsXCIsIFwibm90XCIsIFwibnRoLWNoaWxkXCIsIFwibnRoLWxhc3QtY2hpbGRcIiwgXCJudGgtbGFzdC1vZi10eXBlXCIsXG4gICAgXCJudGgtb2YtdHlwZVwiLCBcIm9ubHktY2hpbGRcIiwgXCJvbmx5LW9mLXR5cGVcIiwgXCJvcHRpb25hbFwiLCBcIm91dC1vZi1yYW5nZVwiLFxuICAgIFwicGFydFwiLCBcInBsYWNlaG9sZGVyXCIsIFwicGxhY2Vob2xkZXItc2hvd25cIiwgXCJyZWFkLW9ubHlcIiwgXCJyZWFkLXdyaXRlXCIsXG4gICAgXCJyZXF1aXJlZFwiLCBcInJpZ2h0XCIsIFwicm9vdFwiLCBcInNjb3BlXCIsIFwic2VsZWN0aW9uXCIsIFwic2xvdHRlZFwiLCBcInRhcmdldFwiLFxuICAgIFwidGFyZ2V0LXRleHRcIiwgXCJ2YWxpZFwiLCBcInZpc2l0ZWRcIiwgXCJ3aGVyZVwiXG5dLm1hcChuYW1lID0+ICh7IHR5cGU6IFwiY2xhc3NcIiwgbGFiZWw6IG5hbWUgfSkpO1xuY29uc3QgdmFsdWVzID0gLypAX19QVVJFX18qL1tcbiAgICBcImFib3ZlXCIsIFwiYWJzb2x1dGVcIiwgXCJhY3RpdmVib3JkZXJcIiwgXCJhZGRpdGl2ZVwiLCBcImFjdGl2ZWNhcHRpb25cIiwgXCJhZnRlci13aGl0ZS1zcGFjZVwiLFxuICAgIFwiYWhlYWRcIiwgXCJhbGlhc1wiLCBcImFsbFwiLCBcImFsbC1zY3JvbGxcIiwgXCJhbHBoYWJldGljXCIsIFwiYWx0ZXJuYXRlXCIsIFwiYWx3YXlzXCIsXG4gICAgXCJhbnRpYWxpYXNlZFwiLCBcImFwcHdvcmtzcGFjZVwiLCBcImFzdGVyaXNrc1wiLCBcImF0dHJcIiwgXCJhdXRvXCIsIFwiYXV0by1mbG93XCIsIFwiYXZvaWRcIiwgXCJhdm9pZC1jb2x1bW5cIixcbiAgICBcImF2b2lkLXBhZ2VcIiwgXCJhdm9pZC1yZWdpb25cIiwgXCJheGlzLXBhblwiLCBcImJhY2tncm91bmRcIiwgXCJiYWNrd2FyZHNcIiwgXCJiYXNlbGluZVwiLCBcImJlbG93XCIsXG4gICAgXCJiaWRpLW92ZXJyaWRlXCIsIFwiYmxpbmtcIiwgXCJibG9ja1wiLCBcImJsb2NrLWF4aXNcIiwgXCJib2xkXCIsIFwiYm9sZGVyXCIsIFwiYm9yZGVyXCIsIFwiYm9yZGVyLWJveFwiLFxuICAgIFwiYm90aFwiLCBcImJvdHRvbVwiLCBcImJyZWFrXCIsIFwiYnJlYWstYWxsXCIsIFwiYnJlYWstd29yZFwiLCBcImJ1bGxldHNcIiwgXCJidXR0b25cIiwgXCJidXR0b24tYmV2ZWxcIixcbiAgICBcImJ1dHRvbmZhY2VcIiwgXCJidXR0b25oaWdobGlnaHRcIiwgXCJidXR0b25zaGFkb3dcIiwgXCJidXR0b250ZXh0XCIsIFwiY2FsY1wiLCBcImNhcGl0YWxpemVcIixcbiAgICBcImNhcHMtbG9jay1pbmRpY2F0b3JcIiwgXCJjYXB0aW9uXCIsIFwiY2FwdGlvbnRleHRcIiwgXCJjYXJldFwiLCBcImNlbGxcIiwgXCJjZW50ZXJcIiwgXCJjaGVja2JveFwiLCBcImNpcmNsZVwiLFxuICAgIFwiY2prLWRlY2ltYWxcIiwgXCJjbGVhclwiLCBcImNsaXBcIiwgXCJjbG9zZS1xdW90ZVwiLCBcImNvbC1yZXNpemVcIiwgXCJjb2xsYXBzZVwiLCBcImNvbG9yXCIsIFwiY29sb3ItYnVyblwiLFxuICAgIFwiY29sb3ItZG9kZ2VcIiwgXCJjb2x1bW5cIiwgXCJjb2x1bW4tcmV2ZXJzZVwiLCBcImNvbXBhY3RcIiwgXCJjb25kZW5zZWRcIiwgXCJjb250YWluXCIsIFwiY29udGVudFwiLFxuICAgIFwiY29udGVudHNcIiwgXCJjb250ZW50LWJveFwiLCBcImNvbnRleHQtbWVudVwiLCBcImNvbnRpbnVvdXNcIiwgXCJjb3B5XCIsIFwiY291bnRlclwiLCBcImNvdW50ZXJzXCIsIFwiY292ZXJcIixcbiAgICBcImNyb3BcIiwgXCJjcm9zc1wiLCBcImNyb3NzaGFpclwiLCBcImN1cnJlbnRjb2xvclwiLCBcImN1cnNpdmVcIiwgXCJjeWNsaWNcIiwgXCJkYXJrZW5cIiwgXCJkYXNoZWRcIiwgXCJkZWNpbWFsXCIsXG4gICAgXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiLCBcImRlZmF1bHRcIiwgXCJkZWZhdWx0LWJ1dHRvblwiLCBcImRlbnNlXCIsIFwiZGVzdGluYXRpb24tYXRvcFwiLCBcImRlc3RpbmF0aW9uLWluXCIsXG4gICAgXCJkZXN0aW5hdGlvbi1vdXRcIiwgXCJkZXN0aW5hdGlvbi1vdmVyXCIsIFwiZGlmZmVyZW5jZVwiLCBcImRpc2NcIiwgXCJkaXNjYXJkXCIsIFwiZGlzY2xvc3VyZS1jbG9zZWRcIixcbiAgICBcImRpc2Nsb3N1cmUtb3BlblwiLCBcImRvY3VtZW50XCIsIFwiZG90LWRhc2hcIiwgXCJkb3QtZG90LWRhc2hcIiwgXCJkb3R0ZWRcIiwgXCJkb3VibGVcIiwgXCJkb3duXCIsIFwiZS1yZXNpemVcIixcbiAgICBcImVhc2VcIiwgXCJlYXNlLWluXCIsIFwiZWFzZS1pbi1vdXRcIiwgXCJlYXNlLW91dFwiLCBcImVsZW1lbnRcIiwgXCJlbGxpcHNlXCIsIFwiZWxsaXBzaXNcIiwgXCJlbWJlZFwiLCBcImVuZFwiLFxuICAgIFwiZXRoaW9waWMtYWJlZ2VkZS1nZXpcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS1hYS1lclwiLCBcImV0aGlvcGljLWhhbGVoYW1lLWdlelwiLCBcImV3LXJlc2l6ZVwiLCBcImV4Y2x1c2lvblwiLFxuICAgIFwiZXhwYW5kZWRcIiwgXCJleHRlbmRzXCIsIFwiZXh0cmEtY29uZGVuc2VkXCIsIFwiZXh0cmEtZXhwYW5kZWRcIiwgXCJmYW50YXN5XCIsIFwiZmFzdFwiLCBcImZpbGxcIiwgXCJmaWxsLWJveFwiLFxuICAgIFwiZml4ZWRcIiwgXCJmbGF0XCIsIFwiZmxleFwiLCBcImZsZXgtZW5kXCIsIFwiZmxleC1zdGFydFwiLCBcImZvb3Rub3Rlc1wiLCBcImZvcndhcmRzXCIsIFwiZnJvbVwiLFxuICAgIFwiZ2VvbWV0cmljUHJlY2lzaW9uXCIsIFwiZ3JheXRleHRcIiwgXCJncmlkXCIsIFwiZ3Jvb3ZlXCIsIFwiaGFuZFwiLCBcImhhcmQtbGlnaHRcIiwgXCJoZWxwXCIsIFwiaGlkZGVuXCIsIFwiaGlkZVwiLFxuICAgIFwiaGlnaGVyXCIsIFwiaGlnaGxpZ2h0XCIsIFwiaGlnaGxpZ2h0dGV4dFwiLCBcImhvcml6b250YWxcIiwgXCJoc2xcIiwgXCJoc2xhXCIsIFwiaHVlXCIsIFwiaWNvblwiLCBcImlnbm9yZVwiLFxuICAgIFwiaW5hY3RpdmVib3JkZXJcIiwgXCJpbmFjdGl2ZWNhcHRpb25cIiwgXCJpbmFjdGl2ZWNhcHRpb250ZXh0XCIsIFwiaW5maW5pdGVcIiwgXCJpbmZvYmFja2dyb3VuZFwiLCBcImluZm90ZXh0XCIsXG4gICAgXCJpbmhlcml0XCIsIFwiaW5pdGlhbFwiLCBcImlubGluZVwiLCBcImlubGluZS1heGlzXCIsIFwiaW5saW5lLWJsb2NrXCIsIFwiaW5saW5lLWZsZXhcIiwgXCJpbmxpbmUtZ3JpZFwiLFxuICAgIFwiaW5saW5lLXRhYmxlXCIsIFwiaW5zZXRcIiwgXCJpbnNpZGVcIiwgXCJpbnRyaW5zaWNcIiwgXCJpbnZlcnRcIiwgXCJpdGFsaWNcIiwgXCJqdXN0aWZ5XCIsIFwia2VlcC1hbGxcIixcbiAgICBcImxhbmRzY2FwZVwiLCBcImxhcmdlXCIsIFwibGFyZ2VyXCIsIFwibGVmdFwiLCBcImxldmVsXCIsIFwibGlnaHRlclwiLCBcImxpZ2h0ZW5cIiwgXCJsaW5lLXRocm91Z2hcIiwgXCJsaW5lYXJcIixcbiAgICBcImxpbmVhci1ncmFkaWVudFwiLCBcImxpbmVzXCIsIFwibGlzdC1pdGVtXCIsIFwibGlzdGJveFwiLCBcImxpc3RpdGVtXCIsIFwibG9jYWxcIiwgXCJsb2dpY2FsXCIsIFwibG91ZFwiLCBcImxvd2VyXCIsXG4gICAgXCJsb3dlci1oZXhhZGVjaW1hbFwiLCBcImxvd2VyLWxhdGluXCIsIFwibG93ZXItbm9yd2VnaWFuXCIsIFwibG93ZXJjYXNlXCIsIFwibHRyXCIsIFwibHVtaW5vc2l0eVwiLCBcIm1hbmlwdWxhdGlvblwiLFxuICAgIFwibWF0Y2hcIiwgXCJtYXRyaXhcIiwgXCJtYXRyaXgzZFwiLCBcIm1lZGl1bVwiLCBcIm1lbnVcIiwgXCJtZW51dGV4dFwiLCBcIm1lc3NhZ2UtYm94XCIsIFwibWlkZGxlXCIsIFwibWluLWludHJpbnNpY1wiLFxuICAgIFwibWl4XCIsIFwibW9ub3NwYWNlXCIsIFwibW92ZVwiLCBcIm11bHRpcGxlXCIsIFwibXVsdGlwbGVfbWFza19pbWFnZXNcIiwgXCJtdWx0aXBseVwiLCBcIm4tcmVzaXplXCIsIFwibmFycm93ZXJcIixcbiAgICBcIm5lLXJlc2l6ZVwiLCBcIm5lc3ctcmVzaXplXCIsIFwibm8tY2xvc2UtcXVvdGVcIiwgXCJuby1kcm9wXCIsIFwibm8tb3Blbi1xdW90ZVwiLCBcIm5vLXJlcGVhdFwiLCBcIm5vbmVcIixcbiAgICBcIm5vcm1hbFwiLCBcIm5vdC1hbGxvd2VkXCIsIFwibm93cmFwXCIsIFwibnMtcmVzaXplXCIsIFwibnVtYmVyc1wiLCBcIm51bWVyaWNcIiwgXCJudy1yZXNpemVcIiwgXCJud3NlLXJlc2l6ZVwiLFxuICAgIFwib2JsaXF1ZVwiLCBcIm9wYWNpdHlcIiwgXCJvcGVuLXF1b3RlXCIsIFwib3B0aW1pemVMZWdpYmlsaXR5XCIsIFwib3B0aW1pemVTcGVlZFwiLCBcIm91dHNldFwiLCBcIm91dHNpZGVcIixcbiAgICBcIm91dHNpZGUtc2hhcGVcIiwgXCJvdmVybGF5XCIsIFwib3ZlcmxpbmVcIiwgXCJwYWRkaW5nXCIsIFwicGFkZGluZy1ib3hcIiwgXCJwYWludGVkXCIsIFwicGFnZVwiLCBcInBhdXNlZFwiLFxuICAgIFwicGVyc3BlY3RpdmVcIiwgXCJwaW5jaC16b29tXCIsIFwicGx1cy1kYXJrZXJcIiwgXCJwbHVzLWxpZ2h0ZXJcIiwgXCJwb2ludGVyXCIsIFwicG9seWdvblwiLCBcInBvcnRyYWl0XCIsXG4gICAgXCJwcmVcIiwgXCJwcmUtbGluZVwiLCBcInByZS13cmFwXCIsIFwicHJlc2VydmUtM2RcIiwgXCJwcm9ncmVzc1wiLCBcInB1c2gtYnV0dG9uXCIsIFwicmFkaWFsLWdyYWRpZW50XCIsIFwicmFkaW9cIixcbiAgICBcInJlYWQtb25seVwiLCBcInJlYWQtd3JpdGVcIiwgXCJyZWFkLXdyaXRlLXBsYWludGV4dC1vbmx5XCIsIFwicmVjdGFuZ2xlXCIsIFwicmVnaW9uXCIsIFwicmVsYXRpdmVcIiwgXCJyZXBlYXRcIixcbiAgICBcInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnRcIiwgXCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBcInJlc2V0XCIsIFwicmV2ZXJzZVwiLFxuICAgIFwicmdiXCIsIFwicmdiYVwiLCBcInJpZGdlXCIsIFwicmlnaHRcIiwgXCJyb3RhdGVcIiwgXCJyb3RhdGUzZFwiLCBcInJvdGF0ZVhcIiwgXCJyb3RhdGVZXCIsIFwicm90YXRlWlwiLCBcInJvdW5kXCIsXG4gICAgXCJyb3dcIiwgXCJyb3ctcmVzaXplXCIsIFwicm93LXJldmVyc2VcIiwgXCJydGxcIiwgXCJydW4taW5cIiwgXCJydW5uaW5nXCIsIFwicy1yZXNpemVcIiwgXCJzYW5zLXNlcmlmXCIsIFwic2F0dXJhdGlvblwiLFxuICAgIFwic2NhbGVcIiwgXCJzY2FsZTNkXCIsIFwic2NhbGVYXCIsIFwic2NhbGVZXCIsIFwic2NhbGVaXCIsIFwic2NyZWVuXCIsIFwic2Nyb2xsXCIsIFwic2Nyb2xsYmFyXCIsIFwic2Nyb2xsLXBvc2l0aW9uXCIsXG4gICAgXCJzZS1yZXNpemVcIiwgXCJzZWxmLXN0YXJ0XCIsIFwic2VsZi1lbmRcIiwgXCJzZW1pLWNvbmRlbnNlZFwiLCBcInNlbWktZXhwYW5kZWRcIiwgXCJzZXBhcmF0ZVwiLCBcInNlcmlmXCIsIFwic2hvd1wiLFxuICAgIFwic2luZ2xlXCIsIFwic2tld1wiLCBcInNrZXdYXCIsIFwic2tld1lcIiwgXCJza2lwLXdoaXRlLXNwYWNlXCIsIFwic2xpZGVcIiwgXCJzbGlkZXItaG9yaXpvbnRhbFwiLFxuICAgIFwic2xpZGVyLXZlcnRpY2FsXCIsIFwic2xpZGVydGh1bWItaG9yaXpvbnRhbFwiLCBcInNsaWRlcnRodW1iLXZlcnRpY2FsXCIsIFwic2xvd1wiLCBcInNtYWxsXCIsIFwic21hbGwtY2Fwc1wiLFxuICAgIFwic21hbGwtY2FwdGlvblwiLCBcInNtYWxsZXJcIiwgXCJzb2Z0LWxpZ2h0XCIsIFwic29saWRcIiwgXCJzb3VyY2UtYXRvcFwiLCBcInNvdXJjZS1pblwiLCBcInNvdXJjZS1vdXRcIixcbiAgICBcInNvdXJjZS1vdmVyXCIsIFwic3BhY2VcIiwgXCJzcGFjZS1hcm91bmRcIiwgXCJzcGFjZS1iZXR3ZWVuXCIsIFwic3BhY2UtZXZlbmx5XCIsIFwic3BlbGwtb3V0XCIsIFwic3F1YXJlXCIsIFwic3RhcnRcIixcbiAgICBcInN0YXRpY1wiLCBcInN0YXR1cy1iYXJcIiwgXCJzdHJldGNoXCIsIFwic3Ryb2tlXCIsIFwic3Ryb2tlLWJveFwiLCBcInN1YlwiLCBcInN1YnBpeGVsLWFudGlhbGlhc2VkXCIsIFwic3ZnX21hc2tzXCIsXG4gICAgXCJzdXBlclwiLCBcInN3LXJlc2l6ZVwiLCBcInN5bWJvbGljXCIsIFwic3ltYm9sc1wiLCBcInN5c3RlbS11aVwiLCBcInRhYmxlXCIsIFwidGFibGUtY2FwdGlvblwiLCBcInRhYmxlLWNlbGxcIixcbiAgICBcInRhYmxlLWNvbHVtblwiLCBcInRhYmxlLWNvbHVtbi1ncm91cFwiLCBcInRhYmxlLWZvb3Rlci1ncm91cFwiLCBcInRhYmxlLWhlYWRlci1ncm91cFwiLCBcInRhYmxlLXJvd1wiLFxuICAgIFwidGFibGUtcm93LWdyb3VwXCIsIFwidGV4dFwiLCBcInRleHQtYm90dG9tXCIsIFwidGV4dC10b3BcIiwgXCJ0ZXh0YXJlYVwiLCBcInRleHRmaWVsZFwiLCBcInRoaWNrXCIsIFwidGhpblwiLFxuICAgIFwidGhyZWVkZGFya3NoYWRvd1wiLCBcInRocmVlZGZhY2VcIiwgXCJ0aHJlZWRoaWdobGlnaHRcIiwgXCJ0aHJlZWRsaWdodHNoYWRvd1wiLCBcInRocmVlZHNoYWRvd1wiLCBcInRvXCIsIFwidG9wXCIsXG4gICAgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJ0cmFuc2xhdGUzZFwiLCBcInRyYW5zbGF0ZVhcIiwgXCJ0cmFuc2xhdGVZXCIsIFwidHJhbnNsYXRlWlwiLCBcInRyYW5zcGFyZW50XCIsXG4gICAgXCJ1bHRyYS1jb25kZW5zZWRcIiwgXCJ1bHRyYS1leHBhbmRlZFwiLCBcInVuZGVybGluZVwiLCBcInVuaWRpcmVjdGlvbmFsLXBhblwiLCBcInVuc2V0XCIsIFwidXBcIiwgXCJ1cHBlci1sYXRpblwiLFxuICAgIFwidXBwZXJjYXNlXCIsIFwidXJsXCIsIFwidmFyXCIsIFwidmVydGljYWxcIiwgXCJ2ZXJ0aWNhbC10ZXh0XCIsIFwidmlldy1ib3hcIiwgXCJ2aXNpYmxlXCIsIFwidmlzaWJsZUZpbGxcIixcbiAgICBcInZpc2libGVQYWludGVkXCIsIFwidmlzaWJsZVN0cm9rZVwiLCBcInZpc3VhbFwiLCBcInctcmVzaXplXCIsIFwid2FpdFwiLCBcIndhdmVcIiwgXCJ3aWRlclwiLCBcIndpbmRvd1wiLCBcIndpbmRvd2ZyYW1lXCIsXG4gICAgXCJ3aW5kb3d0ZXh0XCIsIFwid29yZHNcIiwgXCJ3cmFwXCIsIFwid3JhcC1yZXZlcnNlXCIsIFwieC1sYXJnZVwiLCBcIngtc21hbGxcIiwgXCJ4b3JcIiwgXCJ4eC1sYXJnZVwiLCBcInh4LXNtYWxsXCJcbl0ubWFwKG5hbWUgPT4gKHsgdHlwZTogXCJrZXl3b3JkXCIsIGxhYmVsOiBuYW1lIH0pKS5jb25jYXQoLypAX19QVVJFX18qL1tcbiAgICBcImFsaWNlYmx1ZVwiLCBcImFudGlxdWV3aGl0ZVwiLCBcImFxdWFcIiwgXCJhcXVhbWFyaW5lXCIsIFwiYXp1cmVcIiwgXCJiZWlnZVwiLFxuICAgIFwiYmlzcXVlXCIsIFwiYmxhY2tcIiwgXCJibGFuY2hlZGFsbW9uZFwiLCBcImJsdWVcIiwgXCJibHVldmlvbGV0XCIsIFwiYnJvd25cIixcbiAgICBcImJ1cmx5d29vZFwiLCBcImNhZGV0Ymx1ZVwiLCBcImNoYXJ0cmV1c2VcIiwgXCJjaG9jb2xhdGVcIiwgXCJjb3JhbFwiLCBcImNvcm5mbG93ZXJibHVlXCIsXG4gICAgXCJjb3Juc2lsa1wiLCBcImNyaW1zb25cIiwgXCJjeWFuXCIsIFwiZGFya2JsdWVcIiwgXCJkYXJrY3lhblwiLCBcImRhcmtnb2xkZW5yb2RcIixcbiAgICBcImRhcmtncmF5XCIsIFwiZGFya2dyZWVuXCIsIFwiZGFya2toYWtpXCIsIFwiZGFya21hZ2VudGFcIiwgXCJkYXJrb2xpdmVncmVlblwiLFxuICAgIFwiZGFya29yYW5nZVwiLCBcImRhcmtvcmNoaWRcIiwgXCJkYXJrcmVkXCIsIFwiZGFya3NhbG1vblwiLCBcImRhcmtzZWFncmVlblwiLFxuICAgIFwiZGFya3NsYXRlYmx1ZVwiLCBcImRhcmtzbGF0ZWdyYXlcIiwgXCJkYXJrdHVycXVvaXNlXCIsIFwiZGFya3Zpb2xldFwiLFxuICAgIFwiZGVlcHBpbmtcIiwgXCJkZWVwc2t5Ymx1ZVwiLCBcImRpbWdyYXlcIiwgXCJkb2RnZXJibHVlXCIsIFwiZmlyZWJyaWNrXCIsXG4gICAgXCJmbG9yYWx3aGl0ZVwiLCBcImZvcmVzdGdyZWVuXCIsIFwiZnVjaHNpYVwiLCBcImdhaW5zYm9yb1wiLCBcImdob3N0d2hpdGVcIixcbiAgICBcImdvbGRcIiwgXCJnb2xkZW5yb2RcIiwgXCJncmF5XCIsIFwiZ3JleVwiLCBcImdyZWVuXCIsIFwiZ3JlZW55ZWxsb3dcIiwgXCJob25leWRld1wiLFxuICAgIFwiaG90cGlua1wiLCBcImluZGlhbnJlZFwiLCBcImluZGlnb1wiLCBcIml2b3J5XCIsIFwia2hha2lcIiwgXCJsYXZlbmRlclwiLFxuICAgIFwibGF2ZW5kZXJibHVzaFwiLCBcImxhd25ncmVlblwiLCBcImxlbW9uY2hpZmZvblwiLCBcImxpZ2h0Ymx1ZVwiLCBcImxpZ2h0Y29yYWxcIixcbiAgICBcImxpZ2h0Y3lhblwiLCBcImxpZ2h0Z29sZGVucm9keWVsbG93XCIsIFwibGlnaHRncmF5XCIsIFwibGlnaHRncmVlblwiLCBcImxpZ2h0cGlua1wiLFxuICAgIFwibGlnaHRzYWxtb25cIiwgXCJsaWdodHNlYWdyZWVuXCIsIFwibGlnaHRza3libHVlXCIsIFwibGlnaHRzbGF0ZWdyYXlcIixcbiAgICBcImxpZ2h0c3RlZWxibHVlXCIsIFwibGlnaHR5ZWxsb3dcIiwgXCJsaW1lXCIsIFwibGltZWdyZWVuXCIsIFwibGluZW5cIiwgXCJtYWdlbnRhXCIsXG4gICAgXCJtYXJvb25cIiwgXCJtZWRpdW1hcXVhbWFyaW5lXCIsIFwibWVkaXVtYmx1ZVwiLCBcIm1lZGl1bW9yY2hpZFwiLCBcIm1lZGl1bXB1cnBsZVwiLFxuICAgIFwibWVkaXVtc2VhZ3JlZW5cIiwgXCJtZWRpdW1zbGF0ZWJsdWVcIiwgXCJtZWRpdW1zcHJpbmdncmVlblwiLCBcIm1lZGl1bXR1cnF1b2lzZVwiLFxuICAgIFwibWVkaXVtdmlvbGV0cmVkXCIsIFwibWlkbmlnaHRibHVlXCIsIFwibWludGNyZWFtXCIsIFwibWlzdHlyb3NlXCIsIFwibW9jY2FzaW5cIixcbiAgICBcIm5hdmFqb3doaXRlXCIsIFwibmF2eVwiLCBcIm9sZGxhY2VcIiwgXCJvbGl2ZVwiLCBcIm9saXZlZHJhYlwiLCBcIm9yYW5nZVwiLCBcIm9yYW5nZXJlZFwiLFxuICAgIFwib3JjaGlkXCIsIFwicGFsZWdvbGRlbnJvZFwiLCBcInBhbGVncmVlblwiLCBcInBhbGV0dXJxdW9pc2VcIiwgXCJwYWxldmlvbGV0cmVkXCIsXG4gICAgXCJwYXBheWF3aGlwXCIsIFwicGVhY2hwdWZmXCIsIFwicGVydVwiLCBcInBpbmtcIiwgXCJwbHVtXCIsIFwicG93ZGVyYmx1ZVwiLFxuICAgIFwicHVycGxlXCIsIFwicmViZWNjYXB1cnBsZVwiLCBcInJlZFwiLCBcInJvc3licm93blwiLCBcInJveWFsYmx1ZVwiLCBcInNhZGRsZWJyb3duXCIsXG4gICAgXCJzYWxtb25cIiwgXCJzYW5keWJyb3duXCIsIFwic2VhZ3JlZW5cIiwgXCJzZWFzaGVsbFwiLCBcInNpZW5uYVwiLCBcInNpbHZlclwiLCBcInNreWJsdWVcIixcbiAgICBcInNsYXRlYmx1ZVwiLCBcInNsYXRlZ3JheVwiLCBcInNub3dcIiwgXCJzcHJpbmdncmVlblwiLCBcInN0ZWVsYmx1ZVwiLCBcInRhblwiLFxuICAgIFwidGVhbFwiLCBcInRoaXN0bGVcIiwgXCJ0b21hdG9cIiwgXCJ0dXJxdW9pc2VcIiwgXCJ2aW9sZXRcIiwgXCJ3aGVhdFwiLCBcIndoaXRlXCIsXG4gICAgXCJ3aGl0ZXNtb2tlXCIsIFwieWVsbG93XCIsIFwieWVsbG93Z3JlZW5cIlxuXS5tYXAobmFtZSA9PiAoeyB0eXBlOiBcImNvbnN0YW50XCIsIGxhYmVsOiBuYW1lIH0pKSk7XG5jb25zdCB0YWdzID0gLypAX19QVVJFX18qL1tcbiAgICBcImFcIiwgXCJhYmJyXCIsIFwiYWRkcmVzc1wiLCBcImFydGljbGVcIiwgXCJhc2lkZVwiLCBcImJcIiwgXCJiZGlcIiwgXCJiZG9cIiwgXCJibG9ja3F1b3RlXCIsIFwiYm9keVwiLFxuICAgIFwiYnJcIiwgXCJidXR0b25cIiwgXCJjYW52YXNcIiwgXCJjYXB0aW9uXCIsIFwiY2l0ZVwiLCBcImNvZGVcIiwgXCJjb2xcIiwgXCJjb2xncm91cFwiLCBcImRkXCIsIFwiZGVsXCIsXG4gICAgXCJkZXRhaWxzXCIsIFwiZGZuXCIsIFwiZGlhbG9nXCIsIFwiZGl2XCIsIFwiZGxcIiwgXCJkdFwiLCBcImVtXCIsIFwiZmlnY2FwdGlvblwiLCBcImZpZ3VyZVwiLCBcImZvb3RlclwiLFxuICAgIFwiZm9ybVwiLCBcImhlYWRlclwiLCBcImhncm91cFwiLCBcImgxXCIsIFwiaDJcIiwgXCJoM1wiLCBcImg0XCIsIFwiaDVcIiwgXCJoNlwiLCBcImhyXCIsIFwiaHRtbFwiLCBcImlcIiwgXCJpZnJhbWVcIixcbiAgICBcImltZ1wiLCBcImlucHV0XCIsIFwiaW5zXCIsIFwia2JkXCIsIFwibGFiZWxcIiwgXCJsZWdlbmRcIiwgXCJsaVwiLCBcIm1haW5cIiwgXCJtZXRlclwiLCBcIm5hdlwiLCBcIm9sXCIsIFwib3V0cHV0XCIsXG4gICAgXCJwXCIsIFwicHJlXCIsIFwicnVieVwiLCBcInNlY3Rpb25cIiwgXCJzZWxlY3RcIiwgXCJzbWFsbFwiLCBcInNvdXJjZVwiLCBcInNwYW5cIiwgXCJzdHJvbmdcIiwgXCJzdWJcIiwgXCJzdW1tYXJ5XCIsXG4gICAgXCJzdXBcIiwgXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidGRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInRleHRhcmVhXCIsIFwidGZvb3RcIiwgXCJ0aFwiLCBcInRoZWFkXCIsIFwidHJcIiwgXCJ1XCIsIFwidWxcIlxuXS5tYXAobmFtZSA9PiAoeyB0eXBlOiBcInR5cGVcIiwgbGFiZWw6IG5hbWUgfSkpO1xuY29uc3QgaWRlbnRpZmllciA9IC9eKFxcd1tcXHctXSp8LVxcd1tcXHctXSp8KSQvLCB2YXJpYWJsZSA9IC9eLSgtW1xcdy1dKik/JC87XG5mdW5jdGlvbiBpc1ZhckFyZyhub2RlLCBkb2MpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIihcIiB8fCBub2RlLnR5cGUuaXNFcnJvcilcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50IHx8IG5vZGU7XG4gICAgaWYgKG5vZGUubmFtZSAhPSBcIkFyZ0xpc3RcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjYWxsZWUgPSAoX2EgPSBub2RlLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpcnN0Q2hpbGQ7XG4gICAgaWYgKChjYWxsZWUgPT09IG51bGwgfHwgY2FsbGVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsZWUubmFtZSkgIT0gXCJDYWxsZWVcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkb2Muc2xpY2VTdHJpbmcoY2FsbGVlLmZyb20sIGNhbGxlZS50bykgPT0gXCJ2YXJcIjtcbn1cbmNvbnN0IFZhcmlhYmxlc0J5Tm9kZSA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVdlYWtNYXAoKTtcbmNvbnN0IGRlY2xTZWxlY3RvciA9IFtcIkRlY2xhcmF0aW9uXCJdO1xuZnVuY3Rpb24gYXN0VG9wKG5vZGUpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOzspIHtcbiAgICAgICAgaWYgKGN1ci50eXBlLmlzVG9wKVxuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgaWYgKCEoY3VyID0gY3VyLnBhcmVudCkpXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YXJpYWJsZU5hbWVzKGRvYywgbm9kZSwgaXNWYXJpYWJsZSkge1xuICAgIGlmIChub2RlLnRvIC0gbm9kZS5mcm9tID4gNDA5Nikge1xuICAgICAgICBsZXQga25vd24gPSBWYXJpYWJsZXNCeU5vZGUuZ2V0KG5vZGUpO1xuICAgICAgICBpZiAoa25vd24pXG4gICAgICAgICAgICByZXR1cm4ga25vd247XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgc2VlbiA9IG5ldyBTZXQsIGN1cnNvciA9IG5vZGUuY3Vyc29yKEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpO1xuICAgICAgICBpZiAoY3Vyc29yLmZpcnN0Q2hpbGQoKSlcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBvcHRpb24gb2YgdmFyaWFibGVOYW1lcyhkb2MsIGN1cnNvci5ub2RlLCBpc1ZhcmlhYmxlKSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhvcHRpb24ubGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuLmFkZChvcHRpb24ubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoY3Vyc29yLm5leHRTaWJsaW5nKCkpO1xuICAgICAgICBWYXJpYWJsZXNCeU5vZGUuc2V0KG5vZGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW10sIHNlZW4gPSBuZXcgU2V0O1xuICAgICAgICBub2RlLmN1cnNvcigpLml0ZXJhdGUobm9kZSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoaXNWYXJpYWJsZShub2RlKSAmJiBub2RlLm1hdGNoQ29udGV4dChkZWNsU2VsZWN0b3IpICYmICgoX2EgPSBub2RlLm5vZGUubmV4dFNpYmxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSA9PSBcIjpcIikge1xuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZG9jLnNsaWNlU3RyaW5nKG5vZGUuZnJvbSwgbm9kZS50byk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuLmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBsYWJlbDogbmFtZSwgdHlwZTogXCJ2YXJpYWJsZVwiIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIHNvdXJjZSBmb3IgYSBDU1MgZGlhbGVjdCwgcHJvdmlkaW5nIGFcbnByZWRpY2F0ZSBmb3IgZGV0ZXJtaW5pbmcgd2hhdCBraW5kIG9mIHN5bnRheCBub2RlIGNhbiBhY3QgYXMgYVxuY29tcGxldGFibGUgdmFyaWFibGUuIFRoaXMgaXMgdXNlZCBieSBsYW5ndWFnZSBtb2RlcyBsaWtlIFNhc3MgYW5kXG5MZXNzIHRvIHJldXNlIHRoaXMgcGFja2FnZSdzIGNvbXBsZXRpb24gbG9naWMuXG4qL1xuY29uc3QgZGVmaW5lQ1NTQ29tcGxldGlvblNvdXJjZSA9IChpc1ZhcmlhYmxlKSA9PiBjb250ZXh0ID0+IHtcbiAgICBsZXQgeyBzdGF0ZSwgcG9zIH0gPSBjb250ZXh0LCBub2RlID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKHBvcywgLTEpO1xuICAgIGxldCBpc0Rhc2ggPSBub2RlLnR5cGUuaXNFcnJvciAmJiBub2RlLmZyb20gPT0gbm9kZS50byAtIDEgJiYgc3RhdGUuZG9jLnNsaWNlU3RyaW5nKG5vZGUuZnJvbSwgbm9kZS50bykgPT0gXCItXCI7XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIlByb3BlcnR5TmFtZVwiIHx8XG4gICAgICAgIChpc0Rhc2ggfHwgbm9kZS5uYW1lID09IFwiVGFnTmFtZVwiKSAmJiAvXihCbG9ja3xTdHlsZXMpJC8udGVzdChub2RlLnJlc29sdmUobm9kZS50bykubmFtZSkpXG4gICAgICAgIHJldHVybiB7IGZyb206IG5vZGUuZnJvbSwgb3B0aW9uczogcHJvcGVydGllcygpLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmIChub2RlLm5hbWUgPT0gXCJWYWx1ZU5hbWVcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiB2YWx1ZXMsIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIlBzZXVkb0NsYXNzTmFtZVwiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBub2RlLmZyb20sIG9wdGlvbnM6IHBzZXVkb0NsYXNzZXMsIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgaWYgKGlzVmFyaWFibGUobm9kZSkgfHwgKGNvbnRleHQuZXhwbGljaXQgfHwgaXNEYXNoKSAmJiBpc1ZhckFyZyhub2RlLCBzdGF0ZS5kb2MpKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBpc1ZhcmlhYmxlKG5vZGUpIHx8IGlzRGFzaCA/IG5vZGUuZnJvbSA6IHBvcyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHZhcmlhYmxlTmFtZXMoc3RhdGUuZG9jLCBhc3RUb3Aobm9kZSksIGlzVmFyaWFibGUpLFxuICAgICAgICAgICAgdmFsaWRGb3I6IHZhcmlhYmxlIH07XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIlRhZ05hbWVcIikge1xuICAgICAgICBmb3IgKGxldCB7IHBhcmVudCB9ID0gbm9kZTsgcGFyZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KVxuICAgICAgICAgICAgaWYgKHBhcmVudC5uYW1lID09IFwiQmxvY2tcIilcbiAgICAgICAgICAgICAgICByZXR1cm4geyBmcm9tOiBub2RlLmZyb20sIG9wdGlvbnM6IHByb3BlcnRpZXMoKSwgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiB0YWdzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIH1cbiAgICBpZiAoIWNvbnRleHQuZXhwbGljaXQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBhYm92ZSA9IG5vZGUucmVzb2x2ZShwb3MpLCBiZWZvcmUgPSBhYm92ZS5jaGlsZEJlZm9yZShwb3MpO1xuICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLm5hbWUgPT0gXCI6XCIgJiYgYWJvdmUubmFtZSA9PSBcIlBzZXVkb0NsYXNzU2VsZWN0b3JcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogcG9zLCBvcHRpb25zOiBwc2V1ZG9DbGFzc2VzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLm5hbWUgPT0gXCI6XCIgJiYgYWJvdmUubmFtZSA9PSBcIkRlY2xhcmF0aW9uXCIgfHwgYWJvdmUubmFtZSA9PSBcIkFyZ0xpc3RcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogcG9zLCBvcHRpb25zOiB2YWx1ZXMsIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgaWYgKGFib3ZlLm5hbWUgPT0gXCJCbG9ja1wiIHx8IGFib3ZlLm5hbWUgPT0gXCJTdHlsZXNcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogcG9zLCBvcHRpb25zOiBwcm9wZXJ0aWVzKCksIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgcmV0dXJuIG51bGw7XG59O1xuLyoqXG5DU1MgcHJvcGVydHksIHZhcmlhYmxlLCBhbmQgdmFsdWUga2V5d29yZCBjb21wbGV0aW9uIHNvdXJjZS5cbiovXG5jb25zdCBjc3NDb21wbGV0aW9uU291cmNlID0gLypAX19QVVJFX18qL2RlZmluZUNTU0NvbXBsZXRpb25Tb3VyY2UobiA9PiBuLm5hbWUgPT0gXCJWYXJpYWJsZU5hbWVcIik7XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIENTU1xucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL2NzcyksIGV4dGVuZGVkIHdpdGhcbmhpZ2hsaWdodGluZyBhbmQgaW5kZW50YXRpb24gaW5mb3JtYXRpb24uXG4qL1xuY29uc3QgY3NzTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwiY3NzXCIsXG4gICAgcGFyc2VyOiAvKkBfX1BVUkVfXyovcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovaW5kZW50Tm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCgpXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBcIkJsb2NrIEtleWZyYW1lTGlzdFwiOiBmb2xkSW5zaWRlXG4gICAgICAgICAgICB9KVxuICAgICAgICBdXG4gICAgfSksXG4gICAgbGFuZ3VhZ2VEYXRhOiB7XG4gICAgICAgIGNvbW1lbnRUb2tlbnM6IHsgYmxvY2s6IHsgb3BlbjogXCIvKlwiLCBjbG9zZTogXCIqL1wiIH0gfSxcbiAgICAgICAgaW5kZW50T25JbnB1dDogL15cXHMqXFx9JC8sXG4gICAgICAgIHdvcmRDaGFyczogXCItXCJcbiAgICB9XG59KTtcbi8qKlxuTGFuZ3VhZ2Ugc3VwcG9ydCBmb3IgQ1NTLlxuKi9cbmZ1bmN0aW9uIGNzcygpIHtcbiAgICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChjc3NMYW5ndWFnZSwgY3NzTGFuZ3VhZ2UuZGF0YS5vZih7IGF1dG9jb21wbGV0ZTogY3NzQ29tcGxldGlvblNvdXJjZSB9KSk7XG59XG5cbmV4cG9ydCB7IGNzcywgY3NzQ29tcGxldGlvblNvdXJjZSwgY3NzTGFuZ3VhZ2UsIGRlZmluZUNTU0NvbXBsZXRpb25Tb3VyY2UgfTtcbiIsCiAgICAiaW1wb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBMUlBhcnNlciwgTG9jYWxUb2tlbkdyb3VwIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IG5vU2VtaSA9IDMxMixcbiAgaW5jZGVjID0gMSxcbiAgaW5jZGVjUHJlZml4ID0gMixcbiAgcXVlc3Rpb25Eb3QgPSAzLFxuICBKU1hTdGFydFRhZyA9IDQsXG4gIGluc2VydFNlbWkgPSAzMTMsXG4gIHNwYWNlcyA9IDMxNSxcbiAgbmV3bGluZSA9IDMxNixcbiAgTGluZUNvbW1lbnQgPSA1LFxuICBCbG9ja0NvbW1lbnQgPSA2LFxuICBEaWFsZWN0X2pzeCA9IDA7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBKYXZhU2NyaXB0IHRva2VucyB0aGF0IGNhbid0IGJlXG4gICBleHByZXNzZWQgYnkgbGV6ZXIncyBidWlsdC1pbiB0b2tlbml6ZXIuICovXG5cbmNvbnN0IHNwYWNlID0gWzksIDEwLCAxMSwgMTIsIDEzLCAzMiwgMTMzLCAxNjAsIDU3NjAsIDgxOTIsIDgxOTMsIDgxOTQsIDgxOTUsIDgxOTYsIDgxOTcsIDgxOTgsIDgxOTksIDgyMDAsXG4gICAgICAgICAgICAgICA4MjAxLCA4MjAyLCA4MjMyLCA4MjMzLCA4MjM5LCA4Mjg3LCAxMjI4OF07XG5cbmNvbnN0IGJyYWNlUiA9IDEyNSwgc2VtaWNvbG9uID0gNTksIHNsYXNoID0gNDcsIHN0YXIgPSA0MiwgcGx1cyA9IDQzLCBtaW51cyA9IDQ1LCBsdCA9IDYwLCBjb21tYSA9IDQ0LFxuICAgICAgcXVlc3Rpb24gPSA2MywgZG90ID0gNDY7XG5cbmNvbnN0IHRyYWNrTmV3bGluZSA9IG5ldyBDb250ZXh0VHJhY2tlcih7XG4gIHN0YXJ0OiBmYWxzZSxcbiAgc2hpZnQoY29udGV4dCwgdGVybSkge1xuICAgIHJldHVybiB0ZXJtID09IExpbmVDb21tZW50IHx8IHRlcm0gPT0gQmxvY2tDb21tZW50IHx8IHRlcm0gPT0gc3BhY2VzID8gY29udGV4dCA6IHRlcm0gPT0gbmV3bGluZVxuICB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcblxuY29uc3QgaW5zZXJ0U2VtaWNvbG9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICBpZiAobmV4dCA9PSBicmFjZVIgfHwgbmV4dCA9PSAtMSB8fCBzdGFjay5jb250ZXh0KVxuICAgIGlucHV0LmFjY2VwdFRva2VuKGluc2VydFNlbWkpO1xufSwge2NvbnRleHR1YWw6IHRydWUsIGZhbGxiYWNrOiB0cnVlfSk7XG5cbmNvbnN0IG5vU2VtaWNvbG9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0LCBhZnRlcjtcbiAgaWYgKHNwYWNlLmluZGV4T2YobmV4dCkgPiAtMSkgcmV0dXJuXG4gIGlmIChuZXh0ID09IHNsYXNoICYmICgoYWZ0ZXIgPSBpbnB1dC5wZWVrKDEpKSA9PSBzbGFzaCB8fCBhZnRlciA9PSBzdGFyKSkgcmV0dXJuXG4gIGlmIChuZXh0ICE9IGJyYWNlUiAmJiBuZXh0ICE9IHNlbWljb2xvbiAmJiBuZXh0ICE9IC0xICYmICFzdGFjay5jb250ZXh0KVxuICAgIGlucHV0LmFjY2VwdFRva2VuKG5vU2VtaSk7XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5jb25zdCBvcGVyYXRvclRva2VuID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICBpZiAobmV4dCA9PSBwbHVzIHx8IG5leHQgPT0gbWludXMpIHtcbiAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgaWYgKG5leHQgPT0gaW5wdXQubmV4dCkge1xuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgbGV0IG1heVBvc3RmaXggPSAhc3RhY2suY29udGV4dCAmJiBzdGFjay5jYW5TaGlmdChpbmNkZWMpO1xuICAgICAgaW5wdXQuYWNjZXB0VG9rZW4obWF5UG9zdGZpeCA/IGluY2RlYyA6IGluY2RlY1ByZWZpeCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5leHQgPT0gcXVlc3Rpb24gJiYgaW5wdXQucGVlaygxKSA9PSBkb3QpIHtcbiAgICBpbnB1dC5hZHZhbmNlKCk7IGlucHV0LmFkdmFuY2UoKTtcbiAgICBpZiAoaW5wdXQubmV4dCA8IDQ4IHx8IGlucHV0Lm5leHQgPiA1NykgLy8gTm8gZGlnaXQgYWZ0ZXJcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKHF1ZXN0aW9uRG90KTtcbiAgfVxufSwge2NvbnRleHR1YWw6IHRydWV9KTtcblxuZnVuY3Rpb24gaWRlbnRpZmllckNoYXIoY2gsIHN0YXJ0KSB7XG4gIHJldHVybiBjaCA+PSA2NSAmJiBjaCA8PSA5MCB8fCBjaCA+PSA5NyAmJiBjaCA8PSAxMjIgfHwgY2ggPT0gOTUgfHwgY2ggPj0gMTkyIHx8XG4gICAgIXN0YXJ0ICYmIGNoID49IDQ4ICYmIGNoIDw9IDU3XG59XG5cbmNvbnN0IGpzeCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ICE9IGx0IHx8ICFzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X2pzeCkpIHJldHVyblxuICBpbnB1dC5hZHZhbmNlKCk7XG4gIGlmIChpbnB1dC5uZXh0ID09IHNsYXNoKSByZXR1cm5cbiAgLy8gU2NhbiBmb3IgYW4gaWRlbnRpZmllciBmb2xsb3dlZCBieSBhIGNvbW1hIG9yICdleHRlbmRzJywgZG9uJ3RcbiAgLy8gdHJlYXQgdGhpcyBhcyBhIHN0YXJ0IHRhZyBpZiBwcmVzZW50LlxuICBsZXQgYmFjayA9IDA7XG4gIHdoaWxlIChzcGFjZS5pbmRleE9mKGlucHV0Lm5leHQpID4gLTEpIHsgaW5wdXQuYWR2YW5jZSgpOyBiYWNrKys7IH1cbiAgaWYgKGlkZW50aWZpZXJDaGFyKGlucHV0Lm5leHQsIHRydWUpKSB7XG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGJhY2srKztcbiAgICB3aGlsZSAoaWRlbnRpZmllckNoYXIoaW5wdXQubmV4dCwgZmFsc2UpKSB7IGlucHV0LmFkdmFuY2UoKTsgYmFjaysrOyB9XG4gICAgd2hpbGUgKHNwYWNlLmluZGV4T2YoaW5wdXQubmV4dCkgPiAtMSkgeyBpbnB1dC5hZHZhbmNlKCk7IGJhY2srKzsgfVxuICAgIGlmIChpbnB1dC5uZXh0ID09IGNvbW1hKSByZXR1cm5cbiAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgaWYgKGkgPT0gNykge1xuICAgICAgICBpZiAoIWlkZW50aWZpZXJDaGFyKGlucHV0Lm5leHQsIHRydWUpKSByZXR1cm5cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dC5uZXh0ICE9IFwiZXh0ZW5kc1wiLmNoYXJDb2RlQXQoaSkpIGJyZWFrXG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICBiYWNrKys7XG4gICAgfVxuICB9XG4gIGlucHV0LmFjY2VwdFRva2VuKEpTWFN0YXJ0VGFnLCAtYmFjayk7XG59KTtcblxuY29uc3QganNIaWdobGlnaHQgPSBzdHlsZVRhZ3Moe1xuICBcImdldCBzZXQgYXN5bmMgc3RhdGljXCI6IHRhZ3MubW9kaWZpZXIsXG4gIFwiZm9yIHdoaWxlIGRvIGlmIGVsc2Ugc3dpdGNoIHRyeSBjYXRjaCBmaW5hbGx5IHJldHVybiB0aHJvdyBicmVhayBjb250aW51ZSBkZWZhdWx0IGNhc2VcIjogdGFncy5jb250cm9sS2V5d29yZCxcbiAgXCJpbiBvZiBhd2FpdCB5aWVsZCB2b2lkIHR5cGVvZiBkZWxldGUgaW5zdGFuY2VvZlwiOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgXCJsZXQgdmFyIGNvbnN0IHVzaW5nIGZ1bmN0aW9uIGNsYXNzIGV4dGVuZHNcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJpbXBvcnQgZXhwb3J0IGZyb21cIjogdGFncy5tb2R1bGVLZXl3b3JkLFxuICBcIndpdGggZGVidWdnZXIgYXMgbmV3XCI6IHRhZ3Mua2V5d29yZCxcbiAgVGVtcGxhdGVTdHJpbmc6IHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyksXG4gIHN1cGVyOiB0YWdzLmF0b20sXG4gIEJvb2xlYW5MaXRlcmFsOiB0YWdzLmJvb2wsXG4gIHRoaXM6IHRhZ3Muc2VsZixcbiAgbnVsbDogdGFncy5udWxsLFxuICBTdGFyOiB0YWdzLm1vZGlmaWVyLFxuICBWYXJpYWJsZU5hbWU6IHRhZ3MudmFyaWFibGVOYW1lLFxuICBcIkNhbGxFeHByZXNzaW9uL1ZhcmlhYmxlTmFtZSBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24vVmFyaWFibGVOYW1lXCI6IHRhZ3MuZnVuY3Rpb24odGFncy52YXJpYWJsZU5hbWUpLFxuICBWYXJpYWJsZURlZmluaXRpb246IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksXG4gIExhYmVsOiB0YWdzLmxhYmVsTmFtZSxcbiAgUHJvcGVydHlOYW1lOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgUHJpdmF0ZVByb3BlcnR5TmFtZTogdGFncy5zcGVjaWFsKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9NZW1iZXJFeHByZXNzaW9uL1Byb3BlcnR5TmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJGdW5jdGlvbkRlY2xhcmF0aW9uL1ZhcmlhYmxlRGVmaW5pdGlvblwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSkpLFxuICBcIkNsYXNzRGVjbGFyYXRpb24vVmFyaWFibGVEZWZpbml0aW9uXCI6IHRhZ3MuZGVmaW5pdGlvbih0YWdzLmNsYXNzTmFtZSksXG4gIFByb3BlcnR5RGVmaW5pdGlvbjogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgUHJpdmF0ZVByb3BlcnR5RGVmaW5pdGlvbjogdGFncy5kZWZpbml0aW9uKHRhZ3Muc3BlY2lhbCh0YWdzLnByb3BlcnR5TmFtZSkpLFxuICBVcGRhdGVPcDogdGFncy51cGRhdGVPcGVyYXRvcixcbiAgXCJMaW5lQ29tbWVudCBIYXNoYmFuZ1wiOiB0YWdzLmxpbmVDb21tZW50LFxuICBCbG9ja0NvbW1lbnQ6IHRhZ3MuYmxvY2tDb21tZW50LFxuICBOdW1iZXI6IHRhZ3MubnVtYmVyLFxuICBTdHJpbmc6IHRhZ3Muc3RyaW5nLFxuICBFc2NhcGU6IHRhZ3MuZXNjYXBlLFxuICBBcml0aE9wOiB0YWdzLmFyaXRobWV0aWNPcGVyYXRvcixcbiAgTG9naWNPcDogdGFncy5sb2dpY09wZXJhdG9yLFxuICBCaXRPcDogdGFncy5iaXR3aXNlT3BlcmF0b3IsXG4gIENvbXBhcmVPcDogdGFncy5jb21wYXJlT3BlcmF0b3IsXG4gIFJlZ0V4cDogdGFncy5yZWdleHAsXG4gIEVxdWFsczogdGFncy5kZWZpbml0aW9uT3BlcmF0b3IsXG4gIEFycm93OiB0YWdzLmZ1bmN0aW9uKHRhZ3MucHVuY3R1YXRpb24pLFxuICBcIjogU3ByZWFkXCI6IHRhZ3MucHVuY3R1YXRpb24sXG4gIFwiKCApXCI6IHRhZ3MucGFyZW4sXG4gIFwiWyBdXCI6IHRhZ3Muc3F1YXJlQnJhY2tldCxcbiAgXCJ7IH1cIjogdGFncy5icmFjZSxcbiAgXCJJbnRlcnBvbGF0aW9uU3RhcnQgSW50ZXJwb2xhdGlvbkVuZFwiOiB0YWdzLnNwZWNpYWwodGFncy5icmFjZSksXG4gIFwiLlwiOiB0YWdzLmRlcmVmT3BlcmF0b3IsXG4gIFwiLCA7XCI6IHRhZ3Muc2VwYXJhdG9yLFxuICBcIkBcIjogdGFncy5tZXRhLFxuXG4gIFR5cGVOYW1lOiB0YWdzLnR5cGVOYW1lLFxuICBUeXBlRGVmaW5pdGlvbjogdGFncy5kZWZpbml0aW9uKHRhZ3MudHlwZU5hbWUpLFxuICBcInR5cGUgZW51bSBpbnRlcmZhY2UgaW1wbGVtZW50cyBuYW1lc3BhY2UgbW9kdWxlIGRlY2xhcmVcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJhYnN0cmFjdCBnbG9iYWwgUHJpdmFjeSByZWFkb25seSBvdmVycmlkZVwiOiB0YWdzLm1vZGlmaWVyLFxuICBcImlzIGtleW9mIHVuaXF1ZSBpbmZlclwiOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcblxuICBKU1hBdHRyaWJ1dGVWYWx1ZTogdGFncy5hdHRyaWJ1dGVWYWx1ZSxcbiAgSlNYVGV4dDogdGFncy5jb250ZW50LFxuICBcIkpTWFN0YXJ0VGFnIEpTWFN0YXJ0Q2xvc2VUYWcgSlNYU2VsZkNsb3NlRW5kVGFnIEpTWEVuZFRhZ1wiOiB0YWdzLmFuZ2xlQnJhY2tldCxcbiAgXCJKU1hJZGVudGlmaWVyIEpTWE5hbWVTcGFjZWROYW1lXCI6IHRhZ3MudGFnTmFtZSxcbiAgXCJKU1hBdHRyaWJ1dGUvSlNYSWRlbnRpZmllciBKU1hBdHRyaWJ1dGUvSlNYTmFtZVNwYWNlZE5hbWVcIjogdGFncy5hdHRyaWJ1dGVOYW1lLFxuICBcIkpTWEJ1aWx0aW4vSlNYSWRlbnRpZmllclwiOiB0YWdzLnN0YW5kYXJkKHRhZ3MudGFnTmFtZSlcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHNwZWNfaWRlbnRpZmllciA9IHtfX3Byb3RvX186bnVsbCxleHBvcnQ6MjAsIGFzOjI1LCBmcm9tOjMzLCBkZWZhdWx0OjM2LCBhc3luYzo0MSwgZnVuY3Rpb246NDIsIGV4dGVuZHM6NTQsIHRoaXM6NTgsIHRydWU6NjYsIGZhbHNlOjY2LCBudWxsOjc4LCB2b2lkOjgyLCB0eXBlb2Y6ODYsIHN1cGVyOjEwMiwgbmV3OjEzNiwgZGVsZXRlOjE0OCwgeWllbGQ6MTU3LCBhd2FpdDoxNjEsIGNsYXNzOjE2NiwgcHVibGljOjIyOSwgcHJpdmF0ZToyMjksIHByb3RlY3RlZDoyMjksIHJlYWRvbmx5OjIzMSwgaW5zdGFuY2VvZjoyNTAsIHNhdGlzZmllczoyNTMsIGluOjI1NCwgY29uc3Q6MjU2LCBpbXBvcnQ6MjkwLCBrZXlvZjozNDUsIHVuaXF1ZTozNDksIGluZmVyOjM1NSwgaXM6MzkxLCBhYnN0cmFjdDo0MTEsIGltcGxlbWVudHM6NDEzLCB0eXBlOjQxNSwgbGV0OjQxOCwgdmFyOjQyMCwgdXNpbmc6NDIzLCBpbnRlcmZhY2U6NDI5LCBlbnVtOjQzMywgbmFtZXNwYWNlOjQzOSwgbW9kdWxlOjQ0MSwgZGVjbGFyZTo0NDUsIGdsb2JhbDo0NDksIGZvcjo0NjgsIG9mOjQ3Nywgd2hpbGU6NDgwLCB3aXRoOjQ4NCwgZG86NDg4LCBpZjo0OTIsIGVsc2U6NDk0LCBzd2l0Y2g6NDk4LCBjYXNlOjUwNCwgdHJ5OjUxMCwgY2F0Y2g6NTE0LCBmaW5hbGx5OjUxOCwgcmV0dXJuOjUyMiwgdGhyb3c6NTI2LCBicmVhazo1MzAsIGNvbnRpbnVlOjUzNCwgZGVidWdnZXI6NTM4fTtcbmNvbnN0IHNwZWNfd29yZCA9IHtfX3Byb3RvX186bnVsbCxhc3luYzoxMjMsIGdldDoxMjUsIHNldDoxMjcsIGRlY2xhcmU6MTg5LCBwdWJsaWM6MTkxLCBwcml2YXRlOjE5MSwgcHJvdGVjdGVkOjE5MSwgc3RhdGljOjE5MywgYWJzdHJhY3Q6MTk1LCBvdmVycmlkZToxOTcsIHJlYWRvbmx5OjIwMywgYWNjZXNzb3I6MjA1LCBuZXc6Mzk1fTtcbmNvbnN0IHNwZWNfTGVzc1RoYW4gPSB7X19wcm90b19fOm51bGwsXCI8XCI6MTg3fTtcbmNvbnN0IHBhcnNlciA9IExSUGFyc2VyLmRlc2VyaWFsaXplKHtcbiAgdmVyc2lvbjogMTQsXG4gIHN0YXRlczogXCIkQFFPJVRRXk9PTyVbUV5PT08nX1FgT09QKGxPV09PTyp6UT9OZE8nI0NpTytSTyFiTycjQ2pPK2FPI3RPJyNDak8rb08hMExiTycjRF5PLlFRXk8nI0RkTy5iUV5PJyNEb08lW1FeTycjRHdPMGZRXk8nI0VQT09RP01yJyNFWCcjRVhPMVBRV08nI0VVT09RTycjRW0nI0VtT09RTycjSWgnI0loTzFYUVdPJyNHcE8xZFFXTycjRWxPMWlRV08nI0VsTzNoUT9OZE8nI0ptTzZbUT9OZE8nI0puTzZ1UVdPJyNGW082elEmak8nI0ZzT09RP01yJyNGZScjRmVPN1ZPLFlPJyNGZU83ZVE3W08nI0Z6TzlSUVdPJyNGeU9PUT9NcicjSm4nI0puT09RP01wJyNKbScjSm1POVdRV08nI0d0T09RVScjS1onI0taTzljUVdPJyNJVU85aFE/TXhPJyNJVk9PUVUnI0paJyNKWk9PUVUnI0laJyNJWlFgUV5PT09gUV5PT085cFFNbk8nI0RzTzl3UV5PJyNEe086T1FeTycjRH1POV5RV08nI0dwTzpWUTdbTycjQ29POmVRV08nI0VrTzpwUVdPJyNFdk86dVE3W08nI0ZkTztkUVdPJyNHcE9PUU8nI0tbJyNLW087aVFXTycjS1tPO3dRV08nI0d4Tzt3UVdPJyNHeU87d1FXTycjR3tPOV5RV08nI0hPTzxuUVdPJyNIUk8+VlFXTycjQ2VPPmdRV08nI0hfTz5vUVdPJyNIZU8+b1FXTycjSGdPYFFeTycjSGlPPm9RV08nI0hrTz5vUVdPJyNIbk8+dFFXTycjSHRPPnlRP015TycjSHpPJVtRXk8nI0h8Tz9VUT9NeU8nI0lPTz9hUT9NeU8nI0lRTzloUT9NeE8nI0lTTz9sUT9OZE8nI0NpT0BuUWBPJyNEaVFPUVdPT08lW1FeTycjRH1PQVVRV08nI0VRTzpWUTdbTycjRWtPQWFRV08nI0VrT0FsUXBPJyNGZE9PUVUnI0NnJyNDZ09PUT9NcCcjRG4nI0RuT09RP01wJyNKcScjSnFPJVtRXk8nI0pxT09RTycjSnQnI0p0T09RTycjSWQnI0lkT0JsUWBPJyNFZE9PUT9NcCcjRWMnI0VjT09RP01wJyNKeCcjSnhPQ2hRP05RTycjRWRPQ3JRYE8nI0VUT09RTycjSnMnI0pzT0RXUWBPJyNKdE9FZVFgTycjRVRPQ3JRYE8nI0VkUEVyTyNASXRPJyNDYlBPT08pQ0R4KUNEeE9PT08nI0lbJyNJW09FfU8hYk8sNTlVT09RP01yLDU5VSw1OVVPT09PJyNJXScjSV1PRl1PI3RPLDU5VU8lW1FeTycjRGBPT09PJyNJXycjSV9PRmtPITBMYk8sNTl4T09RP01yLDU5eCw1OXhPRnlRXk8nI0lgT0deUVdPJyNKb09JXVFyTycjSm9PK31RXk8nI0pvT0lkUVdPLDU6T09JelFXTycjRW1PSlhRV08nI0tPT0pkUVdPJyNKfU9KZFFXTycjSn1PSmxRV08sNTtaT0pxUVdPJyNKfE9PUT9Ndiw1OlosNTpaT0p4UV5PLDU6Wk9MdlE/TmRPLDU6Y09NZ1FXTyw1OmtPTlFRP014TycjSntPTlhRV08nI0p6TzlXUVdPJyNKek9ObVFXTycjSnpPTnVRV08sNTtZT056UVdPJyNKek8hI1BRck8nI0puT09RP01yJyNDaScjQ2lPJVtRXk8nI0VQTyEjb1FyTyw1OnBPT1FRJyNKdScjSnVPT1FPLUU8Zi1FPGZPOV5RV08sNT1bTyEkVlFXTyw1PVtPISRbUV5PLDU7V08hJl9RN1tPJyNFaE8hJ3hRV08sNTtXTyEnfVFeTycjRHZPIShYUWBPLDU7YU8hKGFRYE8sNTthTyVbUV5PLDU7YU9PUVUnI0ZTJyNGU09PUVUnI0ZVJyNGVU8lW1FeTyw1O2JPJVtRXk8sNTtiTyVbUV5PLDU7Yk8lW1FeTyw1O2JPJVtRXk8sNTtiTyVbUV5PLDU7Yk8lW1FeTyw1O2JPJVtRXk8sNTtiTyVbUV5PLDU7Yk8lW1FeTyw1O2JPT1FVJyNGWScjRllPIShvUV5PLDU7c09PUT9Nciw1O3gsNTt4T09RP01yLDU7eSw1O3lPT1E/TXIsNTt7LDU7e08lW1FeTycjSWxPISpyUT9NeE8sNTxnTyVbUV5PLDU7Yk8hJl9RN1tPLDU7Yk8hK2FRN1tPLDU7Yk8hLVJRN1tPJyNFWk8lW1FeTyw1O3ZPT1E/TXIsNTt6LDU7ek8hLVlRJmpPJyNGaU8hLlZRJmpPJyNLU08hLXFRJmpPJyNLU08hLl5RJmpPJyNLU09PUU8nI0tTJyNLU08hLnJRJmpPLDU8Uk9PT1MsNTxfLDU8X08hL1RRXk8nI0Z1T09PUycjSWsnI0lrTzdWTyxZTyw1PFBPIS9bUSZqTycjRndPT1E/TXIsNTxQLDU8UE8hL3tRIUxRTycjQ3ZPT1E/TXInI0N6JyNDek8hMGBPITBMYk8nI0RPTyEwfFE3W08sNTxkTyExVFFXTyw1PGZPITJwUSRJU08nI0dWTyEyfVFXTycjR1dPITNTUVdPJyNHV08hNHJRJElTTycjR1tPITVuUWBPJyNHYE9PUU8nI0drJyNHa08hK2hRN1tPJyNHak9PUU8nI0dtJyNHbU8hK2hRN1tPJyNHbE8hNmFRIUxRTycjSmdPT1E/TXInI0pnJyNKZ08hNmtRV08nI0pmTyE2eVFXTycjSmVPITdSUVdPJyNDdU9PUT9NcicjQ3gnI0N4TyE3WlFXTycjQ3pPT1E/TXInI0RTJyNEU09PUT9NcicjRFUnI0RVTzFTUVdPJyNEV08hK2hRN1tPJyNGfU8hK2hRN1tPJyNHUE8hN2BRV08nI0dSTyE3ZVFXTycjR1NPITNTUVdPJyNHWU8hK2hRN1tPJyNHX08hN2pRV08nI0VuTyE4WFFXTyw1PGVPT1E/TXAnI0NyJyNDck8hOGFRV08nI0VvTyE5WlFgTycjRXBPT1E/TXAnI0p8JyNKfE8hOWJRP014TycjS11POWhRP014Tyw1PWBPYFFeTyw1PnBPT1FVJyNKYycjSmNPT1FVLDU+cSw1PnFPT1FVLUU8WC1FPFhPITthUT9OZE8sNTpfTyE5VVFgTyw1Ol1PIT16UT9OZE8sNTpnTyVbUV5PLDU6Z08hQGJRP05kTyw1OmlPT1FPLDVAdiw1QHZPIUFSUTdbTyw1PVtPIUFhUT9NeE8nI0pkTzlSUVdPJyNKZE8hQXJRP014Tyw1OVpPIUF9UWBPLDU5Wk8hQlZRN1tPLDU5Wk86VlE3W08sNTlaTyFCYlFXTyw1O1dPIUJqUVdPJyNIXk8hQ09RV08nI0tgTyVbUV5PLDU7fE8hOVVRYE8sNTxPTyFDV1FXTyw1PXdPIUNdUVdPLDU9d08hQ2JRV08sNT13TzloUT9NeE8sNT13Tzt3UVdPLDU9Z09PUU8nI0N2JyNDdk8hQ3BRYE8sNT1kTyFDeFE3W08sNT1lTyFEVFFXTyw1PWdPIURZUXBPLDU9ak8hRGJRV08nI0tbTz50UVdPJyNIVE85XlFXTycjSFZPIURnUVdPJyNIVk86VlE3W08nI0hYTyFEbFFXTycjSFhPT1FVLDU9bSw1PW1PIURxUVdPJyNIWU8hRVNRV08nI0NvTyFFWFFXTyw1OVBPIUVjUVdPLDU5UE8hR2hRXk8sNTlQT09RVSw1OVAsNTlQTyFHeFE/TXhPLDU5UE8lW1FeTyw1OVBPIUpUUV5PJyNIYU9PUVUnI0hiJyNIYk9PUVUnI0hjJyNIY09gUV5PLDU9eU8hSmtRV08sNT15T2BRXk8sNT5QT2BRXk8sNT5STyFKcFFXTyw1PlRPYFFeTyw1PlZPIUp1UVdPLDU+WU8hSnpRXk8sNT5gT09RVSw1PmYsNT5mTyVbUV5PLDU+Zk85aFE/TXhPLDU+aE9PUVUsNT5qLDU+ak8jIFVRV08sNT5qT09RVSw1PmwsNT5sTyMgVVFXTyw1PmxPT1FVLDU+biw1Pm5PIyByUWBPJyNEW08lW1FeTycjSnFPIyB8UWBPJyNKcU8jIWtRYE8nI0RqTyMhfFFgTycjRGpPIyVfUV5PJyNEak8jJWZRV08nI0pwTyMlblFXTyw1OlRPIyVzUVdPJyNFcU8jJlJRV08nI0tQTyMmWlFXTyw1O1tPIyZgUWBPJyNEak8jJm1RYE8nI0VTT09RP01yLDU6bCw1OmxPJVtRXk8sNTpsTyMmdFFXTyw1OmxPPnRRV08sNTtWTyFBfVFgTyw1O1ZPIUJWUTdbTyw1O1ZPOlZRN1tPLDU7Vk8jJnxRV08sNUBdTyMnUlEoQ1lPLDU6cE9PUU8tRTxiLUU8Yk8jKFhRP05RTyw1O09PQ3JRYE8sNTpvTyMoY1FgTyw1Om9PQ3JRYE8sNTtPTyFBclE/TXhPLDU6b09PUT9NcCcjRWcnI0VnT09RTyw1O08sNTtPTyVbUV5PLDU7T08jKHBRP014Tyw1O09PIyh7UT9NeE8sNTtPTyFBfVFgTyw1Om9PT1FPLDU7VSw1O1VPIylaUT9NeE8sNTtPUE9PTycjSVknI0lZUCMpb08jQEl0Tyw1OHxQT09PLDU4fCw1OHxPT09PLUU8WS1FPFlPT1E/TXIxRy5wMUcucE9PT08tRTxaLUU8Wk8jKXpRcE8sNTl6T09PTy1FPF0tRTxdT09RP01yMUcvZDFHL2RPIypQUXJPLDU+ek8rfVFeTyw1PnpPT1FPLDU/USw1P1FPIypaUV5PJyNJYE9PUU8tRTxeLUU8Xk8jKmhRV08sNUBaTyMqcFFyTyw1QFpPIyp3UVdPLDVAaU9PUT9NcjFHL2oxRy9qTyVbUV5PLDVAak8jK1BRV08nI0lmT09RTy1FPGQtRTxkTyMqd1FXTyw1QGlPT1E/TXAxRzB1MUcwdU9PUT9NdjFHL3UxRy91T09RP012MUcwVjFHMFZPJVtRXk8sNUBnTyMrZVE/TXhPLDVAZ08jK3ZRP014Tyw1QGdPIyt9UVdPLDVAZk85V1FXTyw1QGZPIyxWUVdPLDVAZk8jLGVRV08nI0lpTyMrfVFXTyw1QGZPT1E/TXAxRzB0MUcwdE8hKFhRYE8sNTpyTyEoZFFgTyw1OnJPT1FRLDU6dCw1OnRPIy1WUVlPLDU6dE8jLV9RN1tPMUcydk85XlFXTzFHMnZPT1E/TXIxRzByMUcwck8jLW1RP05kTzFHMHJPIy5yUT9OYk8sNTtTT09RP01yJyNHVScjR1VPIy9gUT9OZE8nI0pnTyEkW1FeTzFHMHJPIzFoUXJPJyNKck8lW1FeTycjSnJPIzFyUVdPLDU6Yk9PUT9NcicjRFsnI0RbT09RP01yMUcwezFHMHtPJVtRXk8xRzB7T09RP01yMUcxZTFHMWVPIzF3UVdPMUcwe08jNF1RP05kTzFHMHxPIzRkUT9OZE8xRzB8TyM2elE/TmRPMUcwfE8jN1JRP05kTzFHMHxPIzlpUT9OZE8xRzB8TyM8UFE/TmRPMUcwfE8jPFdRP05kTzFHMHxPIzxfUT9OZE8xRzB8TyM+dVE/TmRPMUcwfE8jPnxRP05kTzFHMHxPI0FaUTA3Yk8nI0NpTyNDVVEwN2JPMUcxX08jQ11RMDdiTycjSm5PI0NwUT9OZE8sNT9XT09RP01wLUU8ai1FPGpPI0V9UT9OZE8xRzB8TyNGelE/TmRPMUcwfE9PUT9NcjFHMHwxRzB8TyNHelE3W08nI0p3TyNIVVFXTyw1OnVPI0haUT9OZE8xRzFiTyNIfVEmak8sNTxWTyNJVlEmak8sNTxXTyNJX1Emak8nI0ZuTyNJdlFXTycjRm1PT1FPJyNLVCcjS1RPT1FPJyNJaicjSWpPI0l7USZqTzFHMW1PT1E/TXIxRzFtMUcxbU9PT1MxRzF4MUcxeE8jSl5RMDdiTycjSm1PI0poUVdPLDU8YU8hKG9RXk8sNTxhT09PUy1FPGktRTxpT09RP01yMUcxazFHMWtPI0ptUWBPJyNLU09PUT9Nciw1PGMsNTxjTyNKdVFgTyw1PGNPISZfUTdbTycjRFFPT09PJyNJXicjSV5PI0p6TyEwTGJPLDU5ak9PUT9Nciw1OWosNTlqTyVbUV5PMUcyT08hN2VRV08nI0luTyNLVlE3W08sNTx4T09RP01yLDU8dSw1PHVPIStoUTdbTycjSXFPI0t1UTdbTyw1PVVPIStoUTdbTycjSXNPI0xoUTdbTyw1PVdPISZfUTdbTyw1PVlPT1FPMUcyUTFHMlFPI0xyUXBPJyNDck8jTVZRJElTTycjRW9PI05VUWBPJyNHYE8jTnJRcE8sNTxxTyNOeVFXTycjS1dPOVdRV08nI0tXTyQgWFFXTyw1PHNPIStoUTdbTyw1PHJPJCBeUVdPJyNHWE8kIG9RV08sNTxyTyQgdFFwTycjR1VPJCFSUXBPJyNLWE8kIV1RV08nI0tYTyEmX1E3W08nI0tYTyQhYlFXTyw1PHZPJCFnUWBPJyNHYU8hNWlRYE8nI0dhTyQheFFXTycjR2NPJCF9UVdPJyNHZU8hM1NRV08nI0doTyQjU1E/TXhPJyNJcE8kI19RYE8sNTx6T09RP012LDU8eiw1PHpPJCNmUWBPJyNHYU8kI3RRYE8nI0diTyQjfFFgTycjR2JPJCRSUTdbTyw1PVVPJCRjUTdbTyw1PVdPT1E/TXIsNT1aLDU9Wk8hK2hRN1tPLDVAUU8hK2hRN1tPLDVAUU8kJHNRV08nI0l1TyQlT1FXTyw1QFBPJCVXUVdPLDU5YU9PUT9Nciw1OWYsNTlmTyQlelEhTFNPLDU5ck9PUT9NcicjSmsnI0prTyQmbVE3W08sNTxpTyQnYFE3W08sNTxrT0BmUVdPLDU8bU9PUT9Nciw1PG4sNTxuTyQnalFXTyw1PHRPJCdvUTdbTyw1PHlPJChQUVdPJyNKek8hJFtRXk8xRzJQTyQoVVFXTzFHMlBPOVdRV08nI0p9TzlXUVdPJyNFcU8lW1FeTycjRXFPOVdRV08nI0l3TyQoWlE/TXhPLDVAd09PUVUxRzJ6MUcyek9PUVUxRzRbMUc0W09PUT9NcjFHL3kxRy95T09RP01yMUcvdzFHL3dPJCpdUT9OZE8xRzBST09RVTFHMnYxRzJ2TyEmX1E3W08xRzJ2TyVbUV5PMUcydk8jLWJRV08xRzJ2TyQsYVE3W08nI0VoT09RP01wLDVATyw1QE9PJCxrUT9NeE8sNUBPT09RVTFHLnUxRy51TyFBclE/TXhPMUcudU8hQX1RYE8xRy51TyFCVlE3W08xRy51TyQsfFFXTzFHMHJPJC1SUVdPJyNDaU8kLV5RV08nI0thTyQtZlFXTyw1PXhPJC1rUVdPJyNLYU8kLXBRV08nI0thTyQuT1FXTycjSX1PJC5eUVdPLDVAek8kLmZRck8xRzFoT09RP01yMUcxajFHMWpPOV5RV08xRzNjT0BmUVdPMUczY08kLm1RV08xRzNjTyQuclFXTzFHM2NPT1FVMUczYzFHM2NPIURUUVdPMUczUk8hJl9RN1tPMUczT08kLndRV08xRzNPT09RVTFHM1AxRzNQTyEmX1E3W08xRzNQTyQufFFXTzFHM1BPJC9VUWBPJyNHfU9PUVUxRzNSMUczUk8hNWlRYE8nI0l5TyFEWVFwTzFHM1VPT1FVMUczVTFHM1VPT1FVLDU9byw1PW9PJC9eUTdbTyw1PXFPOV5RV08sNT1xTyQhfVFXTyw1PXNPOVJRV08sNT1zTyFBfVFgTyw1PXNPIUJWUTdbTyw1PXNPOlZRN1tPLDU9c08kL2xRV08nI0tfTyQvd1FXTyw1PXRPT1FVMUcuazFHLmtPJC98UT9NeE8xRy5rT0BmUVdPMUcua08kMFhRV08xRy5rTzloUT9NeE8xRy5rTyQyYVFyTyw1QHxPJDJuUVdPLDVAfE85V1FXTyw1QHxPJDJ5UV5PLDU9e08kM1FRV08sNT17T09RVTFHM2UxRzNlT2BRXk8xRzNlT09RVTFHM2sxRzNrT09RVTFHM20xRzNtTz5vUVdPMUczb08kM1ZRXk8xRzNxTyQ3WlFeTycjSHBPT1FVMUczdDFHM3RPJDdoUVdPJyNIdk8+dFFXTycjSHhPT1FVMUczejFHM3pPJDdwUV5PMUczek85aFE/TXhPMUc0UU9PUVUxRzRTMUc0U09PUT9NcCcjR10nI0ddTzloUT9NeE8xRzRVTzloUT9NeE8xRzRXTyQ7d1FXTyw1QF1PIShvUV5PLDU7XU85V1FXTyw1O11PPnRRV08sNTpVTyEob1FeTyw1OlVPIUF9UWBPLDU6VU8kO3xRMDdiTyw1OlVPT1FPLDU7XSw1O11PJDxXUWBPJyNJYU8kPG5RV08sNUBbT09RP01yMUcvbzFHL29PJDx2UWBPJyNJZ08kPVFRV08sNUBrT09RP01wMUcwdjFHMHZPIyF8UWBPLDU6VU9PUU8nI0ljJyNJY08kPVlRYE8sNTpuT09RP012LDU6biw1Om5PIyZ3UVdPMUcwV09PUT9NcjFHMFcxRzBXTyVbUV5PMUcwV09PUT9NcjFHMHExRzBxTz50UVdPMUcwcU8hQX1RYE8xRzBxTyFCVlE3W08xRzBxT09RP01wMUc1dzFHNXdPIUFyUT9NeE8xRzBaT09RTzFHMGoxRzBqTyVbUV5PMUcwak8kPWFRP014TzFHMGpPJD1sUT9NeE8xRzBqTyFBfVFgTzFHMFpPQ3JRYE8xRzBaTyQ9elE/TXhPMUcwak9PUU8xRzBaMUcwWk8kPmBRP05kTzFHMGpQT09PLUU8Vy1FPFdQT09PMUcuaDFHLmhPT09PMUcvZjFHL2ZPJD5qUXBPLDU8Z08kPnJRck8xRzRmT09RTzFHNGwxRzRsTyVbUV5PLDU+ek8kPnxRV08xRzV1TyQ/VVFXTzFHNlRPJD9eUXJPMUc2VU85V1FXTyw1P1FPJD9oUT9OZE8xRzZSTyVbUV5PMUc2Uk8kP3hRP014TzFHNlJPJEBaUVdPMUc2UU8kQFpRV08xRzZRTzlXUVdPMUc2UU8kQGNRV08sNT9UTzlXUVdPLDU/VE9PUU8sNT9ULDU/VE8kQHdRV08sNT9UTyQoUFFXTyw1P1RPT1FPLUU8Zy1FPGdPT1FRMUcwXjFHMF5PT1FRMUcwYDFHMGBPIy1ZUVdPMUcwYE9PUVU3KyhiNysoYk8hJl9RN1tPNysoYk8lW1FeTzcrKGJPJEFWUVdPNysoYk8kQWJRN1tPNysoYk8kQXBRP05kTyw1PVVPJEN4UT9OZE8sNT1XTyRGUVE/TmRPLDU9VU8kSGBRP05kTyw1PVdPJEpuUT9OZE8sNTlyTyRMc1E/TmRPLDU8aU8kTntRP05kTyw1PGtPJSNUUT9OZE8sNTx5T09RP01yNysmXjcrJl5PJSVjUT9OZE83KyZeTyUmVlFeTycjSWJPJSZkUVdPLDVAXk8lJmxRck8sNUBeT09RP01yMUcvfDFHL3xPJSZ2UVdPNysmZ09PUT9NcjcrJmc3KyZnTyUme1EwN2JPLDU6Y08lW1FeTzcrJnlPJSdWUTA3Yk8sNTpfTyUnZFEwN2JPLDU6Z08lJ25RMDdiTyw1OmlPJSd4UTdbTycjSWVPJShTUVdPLDVAY09PUT9NcjFHMGExRzBhT09RTzFHMXExRzFxT09RTzFHMXIxRzFyTyUoW1F0Tyw1PFlPIShvUV5PLDU8WE9PUU8tRTxoLUU8aE9PUT9NcjcrJ1g3KydYT09PUzcrJ2Q3KydkT09PUzFHMXsxRzF7TyUoZ1FXTzFHMXtPT1E/TXIxRzF9MUcxfU8lKGxRcE8sNTlsT09PTy1FPFstRTxbT09RP01yMUcvVTFHL1VPJShzUT9OZE83KydqT09RP01yLDU/WSw1P1lPJSlnUXBPLDU/WU9PUT9NcjFHMmQxRzJkUCEmX1E3W08nI0luUE9RP01yLUU8bC1FPGxPJSpWUTdbTyw1P11PT1E/TXItRTxvLUU8b08lKnhRN1tPLDU/X09PUT9Nci1FPHEtRTxxTyUrU1FwTzFHMnRPJStaUXBPJyNDck8lK3FRN1tPJyNKfU8lK3hRXk8nI0VxT09RP01yMUcyXTFHMl1PJSxTUVdPJyNJbU8lLGhRV08sNUByTyUsaFFXTyw1QHJPJSxwUVdPLDVAck8lLHtRV08sNUByT09RTzFHMl8xRzJfTyUtWlE3W08xRzJeTyEraFE3W08xRzJeTyUta1EkSVNPJyNJb08lLXhRV08sNUBzTyEmX1E3W08sNUBzTyUuUVFwTyw1QHNPT1E/TXIxRzJiMUcyYk9PUT9NcCw1PHssNTx7T09RP01wLDU8fCw1PHxPJChQUVdPLDU8fE9DY1FXTyw1PHxPIUF9UWBPLDU8e09PUU8nI0dkJyNHZE8lLltRV08sNTx9T09RP01wLDU9UCw1PVBPJChQUVdPLDU9U09PUU8sNT9bLDU/W09PUU8tRTxuLUU8bk9PUT9NdjFHMmYxRzJmTyE1aVFgTyw1PHtPJS5kUVdPLDU8fE8kIXhRV08sNTx9TyUub1FgTyw1PHxPIStoUTdbTycjSXFPJS9gUTdbTzFHMnBPIStoUTdbTycjSXNPJTBSUTdbTzFHMnJPJTBdUTdbTzFHNWxPJTBnUTdbTzFHNWxPT1FPLDU/YSw1P2FPT1FPLUU8cy1FPHNPT1FPMUcuezFHLntPITlVUWBPLDU5dE8lW1FeTyw1OXRPT1E/TXIsNTxoLDU8aE8lMHRRV08xRzJYTyEraFE3W08xRzJgTyUweVE/TmRPNysna09PUT9NcjcrJ2s3KydrTyEkW1FeTzcrJ2tPJTFtUVdPLDU7XU9PUT9NcCw1P2MsNT9jT09RP01wLUU8dS1FPHVPJTFyUXBPJyNLWU8jJndRV083KyhiTzRVUXJPNysoYk8kQVlRV083KyhiTyUxfFE/TmJPJyNDaU8lMmFRP05iTyw1PVFPJTNSUVdPLDU9UU9PUT9NcDFHNWoxRzVqT09RVTcrJGE3KyRhTyFBclE/TXhPNyskYU8hQX1RYE83KyRhTyEkW1FeTzcrJl5PJTNXUVdPJyNJfE8lM29RV08sNUB7T09RTzFHM2QxRzNkTzleUVdPLDVAe08lM29RV08sNUB7TyUzd1FXTyw1QHtPT1FPLDU/aSw1P2lPT1FPLUU8ey1FPHtPT1E/TXI3KydTNysnU08lM3xRV083Kyh9TzloUT9NeE83Kyh9TzleUVdPNysofU9AZlFXTzcrKH1PT1FVNysobTcrKG1PJTRSUT9OYk83KyhqTyEmX1E3W083KyhqTyU0XVFwTzcrKGtPT1FVNysoazcrKGtPISZfUTdbTzcrKGtPJTRkUVdPJyNLXk8lNG9RV08sNT1pT09RTyw1P2UsNT9lT09RTy1FPHctRTx3T09RVTcrKHA3KyhwTyU2UlFgTycjSFdPT1FVMUczXTFHM11PISZfUTdbTzFHM11PJVtRXk8xRzNdTyU2WVFXTzFHM11PJTZlUTdbTzFHM11POWhRP014TzFHM19PJCF9UVdPMUczX085UlFXTzFHM19PIUF9UWBPMUczX08hQlZRN1tPMUczX08lNnNRV08nI0l7TyU3WFFXTyw1QHlPJTdhUWBPLDVAeU9PUT9NcDFHM2AxRzNgT09RVTcrJFY3KyRWT0BmUVdPNyskVk85aFE/TXhPNyskVk8lN2xRV083KyRWTyVbUV5PMUc2aE8lW1FeTzFHNmlPJTdxUT9NeE8xRzZoTyU3e1FeTzFHM2dPJThTUVdPMUczZ08lOFhRXk8xRzNnT09RVTcrKVA3KylQTzloUT9NeE83KylaT2BRXk83KyldT09RVScjS2QnI0tkT09RVScjSk8nI0pPTyU4YFFeTyw1PltPT1FVLDU+Wyw1PltPJVtRXk8nI0hxTyU4bVFXTycjSHNPT1FVLDU+Yiw1PmJPOVdRV08sNT5iT09RVSw1PmQsNT5kT09RVTcrKWY3KylmT09RVTcrKWw3KylsT09RVTcrKXA3KylwT09RVTcrKXI3KylyTyU4clFgTzFHNXdPJTlXUTA3Yk8xRzB3TyU5YlFXTzFHMHdPT1FPMUcvcDFHL3BPJTltUTA3Yk8xRy9wTz50UVdPMUcvcE8hKG9RXk8nI0RqT09RTyw1PnssNT57T09RTy1FPF8tRTxfT09RTyw1P1IsNT9ST09RTy1FPGUtRTxlTyFBfVFgTzFHL3BPT1FPLUU8YS1FPGFPT1E/TXYxRzBZMUcwWU9PUT9NcjcrJXI3KyVyTyMmd1FXTzcrJXJPT1E/TXI3KyZdNysmXU8+dFFXTzcrJl1PIUF9UWBPNysmXU9PUU83KyV1NysldU8kPmBRP05kTzcrJlVPT1FPNysmVTcrJlVPJVtRXk83KyZVTyU5d1E/TXhPNysmVU8hQXJRP014TzcrJXVPIUF9UWBPNysldU8lOlNRP014TzcrJlVPJTpiUT9OZE83KyttTyVbUV5PNysrbU8lOnJRV083KytsTyU6clFXTzcrK2xPT1FPMUc0bzFHNG9POVdRV08xRzRvTyU6elFXTzFHNG9PT1FRNyslejcrJXpPIyZ3UVdPPDxLfE80VVFyTzw8S3xPJTtZUVdPPDxLfE9PUVU8PEt8PDxLfE8hJl9RN1tPPDxLfE8lW1FeTzw8S3xPJTtiUVdPPDxLfE8lO21RP05kTyw1P11PJT11UT9OZE8sNT9fTyU/fVE/TmRPMUcyXk8lQl1RP05kTzFHMnBPJURlUT9OZE8xRzJyTyVGbVFyTyw1PnxPJVtRXk8sNT58T09RTy1FPGAtRTxgTyVGd1FXTzFHNXhPT1E/TXI8PEpSPDxKUk8lR1BRMDdiTzFHMHJPJUlXUTA3Yk8xRzB8TyVJX1EwN2JPMUcwfE8lS2BRMDdiTzFHMHxPJUtnUTA3Yk8xRzB8TyVNaFEwN2JPMUcwfE8mIGlRMDdiTzFHMHxPJiBwUTA3Yk8xRzB8TyYgd1EwN2JPMUcwfE8mI3hRMDdiTzFHMHxPJiRQUTA3Yk8xRzB8TyYkV1E/TmRPPDxKZU8mJk9RMDdiTzFHMHxPJiZ7UTA3Yk8xRzB8TyYne1EwN2JPJyNKZ08mKk9RMDdiTzFHMWJPJipdUTA3Yk8xRzBSTyYqZ1E3W08sNT9QT09RTy1FPGMtRTxjTyEob1FeTycjRnBPT1FPJyNLVScjS1VPT1FPMUcxdDFHMXRPJipxUVdPMUcxc08mKnZRMDdiTyw1P1dPT09TNysnZzcrJ2dPT09PMUcvVzFHL1dPT1E/TXIxRzR0MUc0dE8hK2hRN1tPNysoYE8mLVdRck8nI0NpTyYtYlFXTyw1P1hPOVdRV08sNT9YT09RTy1FPGstRTxrTyYtcFFXTzFHNl5PJi1wUVdPMUc2Xk8mLXhRV08xRzZeTyYuVFE3W083Kyd4TyYuZVFwTyw1P1pPJi5vUVdPLDU/Wk8hJl9RN1tPLDU/Wk9PUU8tRTxtLUU8bU8mLnRRcE8xRzZfTyYvT1FXTzFHNl9PT1E/TXAxRzJoMUcyaE8kKFBRV08xRzJoT09RP01wMUcyZzFHMmdPJi9XUVdPMUcyaU8hJl9RN1tPMUcyaU9PUT9NcDFHMm4xRzJuTyFBfVFgTzFHMmdPQ2NRV08xRzJoTyYvXVFXTzFHMmlPJi9lUVdPMUcyaE8kIXhRV08xRzJpTyYwWFE3W08sNT9dT09RP01yLUU8cC1FPHBPJjB6UTdbTyw1P19PT1E/TXItRTxyLUU8ck8hK2hRN1tPNysrV09PUT9NcjFHL2AxRy9gTyYxVVFXTzFHL2BPT1E/TXI3KydzNysnc08mMVpRN1tPNysnek8mMWtRP05kTzw8S1ZPT1E/TXI8PEtWPDxLVk8mMl9RV08xRzB3TyEmX1E3W08nI0l2TyYyZFFXTyw1QHRPJjRmUXJPPDxLfE8hJl9RN1tPMUcybE9PUVU8PEd7PDxHe08hQXJRP014Tzw8R3tPJjRtUT9OZE88PEl4T09RP01yPDxJeDw8SXhPT1FPLDU/aCw1P2hPJjVhUVdPLDU/aE8mNWZRV08sNT9oT09RTy1FPHotRTx6TyY1dFFXTzFHNmdPJjV0UVdPMUc2Z085XlFXTzFHNmdPQGZRV088PExpT09RVTw8TGk8PExpTyY1fFFXTzw8TGlPOWhRP014Tzw8TGlPT1FVPDxMVTw8TFVPJTRSUT9OYk88PExVT09RVTw8TFY8PExWTyU0XVFwTzw8TFZPJjZSUWBPJyNJeE8mNl5RV08sNUB4TyEob1FeTyw1QHhPT1FVMUczVDFHM1RPJSt4UV5PJyNKcU9PUU8nI0l6JyNJek85aFE/TXhPJyNJek8mNmZRYE8sNT1yT09RVSw1PXIsNT1yTyY2bVFgTycjRWRPJjdSUWBPJyNHY08mN1dRV083Kyh3TyY3XVFXTzcrKHdPT1FVNysodzcrKHdPISZfUTdbTzcrKHdPJVtRXk83Kyh3TyY3ZVFXTzcrKHdPT1FVNysoeTcrKHlPOWhRP014TzcrKHlPJCF9UVdPNysoeU85UlFXTzcrKHlPIUF9UWBPNysoeU8mN3BRV08sNT9nT09RTy1FPHktRTx5T09RTycjSFonI0haTyY3e1FXTzFHNmVPOWhRP014Tzw8R3FPT1FVPDxHcTw8R3FPQGZRV088PEdxTyY4VFFXTzcrLFNPJjhZUVdPNyssVE8lW1FeTzcrLFNPJVtRXk83KyxUT09RVTcrKVI3KylSTyY4X1FXTzcrKVJPJjhkUV5PNyspUk8mOGtRV083KylST09RVTw8THU8PEx1T09RVTw8THc8PEx3T09RVS1FPHwtRTx8T09RVTFHM3YxRzN2TyY4cFFXTyw1Pl1PT1FVLDU+Xyw1Pl9PJjh1UVdPMUczfE85V1FXTzcrJmNPIShvUV5PNysmY09PUU83KyVbNyslW08mOHpRMDdiTzFHNlVPPnRRV083KyVbT09RP01yPDxJXjw8SV5PT1E/TXI8PEl3PDxJd08+dFFXTzw8SXdPT1FPPDxJcDw8SXBPJD5gUT9OZE88PElwTyVbUV5PPDxJcE9PUU88PElhPDxJYU8hQXJRP014Tzw8SWFPJjlVUT9NeE88PElwTyY5YVE/TmRPPD0gWE8mOXFRV088PSBXT09RTzcrKlo3KypaTzlXUVdPNysqWk9PUVVBTkFoQU5BaE8mOXlRck9BTkFoTyEmX1E3W09BTkFoTyMmd1FXT0FOQWhPNFVRck9BTkFoTyY6UVFXT0FOQWhPJVtRXk9BTkFoTyY6WVE/TmRPNysneE8mPGhRP05kTyw1P11PJj5wUT9OZE8sNT9fTyZAeFE/TmRPNysnek8mQ1dRck8xRzRoTyZDYlEwN2JPNysmXk8mRWNRMDdiTyw1PVVPJkdnUTA3Yk8sNT1XTyZHd1EwN2JPLDU9VU8mSFhRMDdiTyw1PVdPJkhpUTA3Yk8sNTlyTyZKbFEwN2JPLDU8aU8mTGxRMDdiTyw1PGtPJk59UTA3Yk8sNTx5TychcFEwN2JPNysnak8nIX1RMDdiTzcrJ2tPJyNbUVdPLDU8W09PUU83KydfNysnX08nI2FRN1tPPDxLek9PUU8xRzRzMUc0c08nI2hRV08xRzRzTycjc1FXTzFHNHNPJyRSUVdPNysreE8nJFJRV083Kyt4TyEmX1E3W08xRzR1TyckWlFwTzFHNHVPJyRlUVdPNysreU9PUT9NcDcrKFM3KyhTTyckbVFXTzcrKFRPJyR4UXBPNysoVE9PUT9NcDcrKFI3KyhSTyQoUFFXTzcrKFNPJyVQUVdPNysoVE8hJl9RN1tPNysoVE9DY1FXTzcrKFNPJyVVUVdPNysoVE8nJV5RN1tPPDxOck9PUT9NcjcrJHo3KyR6TyclaFFwTyw1P2JPT1FPLUU8dC1FPHRPJyVyUT9OYk83KyhXT09RVUFOPWdBTj1nTzleUVdPMUc1U09PUU8xRzVTMUc1U08nJlNRV08xRzVTTycmWFFXTzcrLFJPJyZYUVdPNyssUk85aFE/TXhPQU5CVE9AZlFXT0FOQlRPT1FVQU5CVEFOQlRPT1FVQU5BcEFOQXBPT1FVQU5BcUFOQXFPJyZhUVdPLDU/ZE9PUU8tRTx2LUU8dk8nJmxRMDdiTzFHNmRPT1FPLDU/Ziw1P2ZPT1FPLUU8eC1FPHhPT1FVMUczXjFHM15PJSt4UV5PLDU8fU8nJnZRV08sNTx9T09RVTw8TGM8PExjTyEmX1E3W088PExjTyY3V1FXTzw8TGNPJyZ7UVdPPDxMY08lW1FeTzw8TGNPT1FVPDxMZTw8TGVPOWhRP014Tzw8TGVPJCF9UVdPPDxMZU85UlFXTzw8TGVPJydUUWBPMUc1Uk8nJ2BRV083KyxQT09RVUFOPV1BTj1dTzloUT9NeE9BTj1dT09RVTw9IG48PSBuT09RVTw9IG88PSBvTycnaFFXTzw9IG5PJydtUVdPPD0gb09PUVU8PExtPDxMbU8nJ3JRV088PExtTycnd1FeTzw8TG1PT1FVMUczdzFHM3dPPnRRV083KyloTycoT1FXTzw8SX1PJyhaUTA3Yk88PEl9T09RTzw8SHY8PEh2T09RP01yQU4/Y0FOP2NPT1FPQU4/W0FOP1tPJD5gUT9OZE9BTj9bT09RT0FOPntBTj57TyVbUV5PQU4/W09PUU88PE11PDxNdU9PUVVHMjdTRzI3U08hJl9RN1tPRzI3U08jJndRV09HMjdTTycoZVFyT0cyN1NPNFVRck9HMjdTTycobFFXT0cyN1NPJyh0UTA3Yk88PEplTycpUlEwN2JPMUcyXk8nKnRRMDdiTyw1P11PJyx0UTA3Yk8sNT9fTycudFEwN2JPMUcycE8nMHRRMDdiTzFHMnJPJzJ0UTA3Yk88PEtWTyczUlEwN2JPPDxJeE9PUU8xRzF2MUcxdk8hK2hRN1tPQU5BZk9PUU83KypfNysqX08nM2BRV083KypfTycza1FXTzw9IGRPJzNzUXBPNysqYU9PUT9NcDw8S288PEtvTyQoUFFXTzw8S29PQ2NRV088PEtvTyczfVFXTzw8S29PT1E/TXA8PEtuPDxLbk8nNFlRcE88PEtvTyQoUFFXTzw8S25PJzRhUVdPPDxLb08hJl9RN1tPPDxLb09PUU83KypuNysqbk85XlFXTzcrKm5PJzRmUVdPPD0gbU9PUVVHMjdvRzI3b085aFE/TXhPRzI3b08hKG9RXk8xRzVPTyc0blFXTzcrLE9PJjdXUVdPQU5BfU9PUVVBTkF9QU5BfU8hJl9RN1tPQU5BfU8nNHZRV09BTkF9T09RVUFOQlBBTkJQTzloUT9NeE9BTkJQTyQhfVFXT0FOQlBPT1FPJyNIWycjSFtPT1FPNysqbTcrKm1PT1FVRzIyd0cyMndPT1FVQU5FWUFORVlPT1FVQU5FWkFORVpPT1FVQU5CWEFOQlhPJzVPUVdPQU5CWE9PUVU8PE1TPDxNU08hKG9RXk9BTj9pT09RT0cyNHZHMjR2TyQ+YFE/TmRPRzI0dk8jJndRV09MRCxuT09RVUxELG5MRCxuTyEmX1E3W09MRCxuTyc1VFFyT0xELG5PJzVbUTA3Yk83Kyd4Tyc2fVEwN2JPLDU/XU8nOH1RMDdiTyw1P19PJzp9UTA3Yk83Kyd6Tyc8cFE3W09HMjdRT09RTzw8TXk8PE15T09RP01wQU5BWkFOQVpPJChQUVdPQU5BWk9DY1FXT0FOQVpPJz1RUVdPQU5BWk9PUT9NcEFOQVlBTkFZTyc9XVFwT0FOQVpPT1FPPDxOWTw8TllPT1FVTEQtWkxELVpPJz1kUTA3Yk83KypqT09RVUcyN2lHMjdpTyY3V1FXT0cyN2lPISZfUTdbT0cyN2lPT1FVRzI3a0cyN2tPOWhRP014T0cyN2tPT1FVRzI3c0cyN3NPJz1uUTA3Yk9HMjVUT09RT0xEKmJMRCpiT09RVSEkKCFZISQoIVlPIyZ3UVdPISQoIVlPISZfUTdbTyEkKCFZTyc9eFE/TmRPRzI3UU9PUT9NcEcyNnVHMjZ1TyQoUFFXT0cyNnVPQ2NRV09HMjZ1TydAV1FXT0cyNnVPT1FVTEQtVExELVRPJjdXUVdPTEQtVE9PUVVMRC1WTEQtVk9PUVUhKTlFdCEpOUV0TyMmd1FXTyEpOUV0T09RP01wTEQsYUxELGFPJChQUVdPTEQsYU9DY1FXT0xELGFPT1FVISQoIW8hJCghb09PUVUhLks7YCEuSztgTydAY1EwN2JPRzI3UU9PUT9NcCEkKCB7ISQoIHtPJChQUVdPISQoIHtPT1E/TXAhKTlFZyEpOUVnTyEob1FeTycjRHdPMVBRV08nI0VVTydCVVFyTycjSm1PJ0JdUU1uTycjRHNPJ0JkUV5PJyNEe08nQmtRck8nI0NpTydFUlFyTycjQ2lPIShvUV5PJyNEfU8nRWNRXk8sNTtXTyEob1FeTyw1O2JPIShvUV5PLDU7Yk8hKG9RXk8sNTtiTyEob1FeTyw1O2JPIShvUV5PLDU7Yk8hKG9RXk8sNTtiTyEob1FeTyw1O2JPIShvUV5PLDU7Yk8hKG9RXk8sNTtiTyEob1FeTyw1O2JPIShvUV5PJyNJbE8nR2ZRV08sNTxnTyEob1FeTyw1O2JPJ0duUTdbTyw1O2JPJ0lYUTdbTyw1O2JPIShvUV5PLDU7dk8hJl9RN1tPJyNHak8nR25RN1tPJyNHak8hJl9RN1tPJyNHbE8nR25RN1tPJyNHbE8xU1FXTycjRFdPMVNRV08nI0RXTyEmX1E3W08nI0Z9TydHblE3W08nI0Z9TyEmX1E3W08nI0dQTydHblE3W08nI0dQTyEmX1E3W08nI0dfTydHblE3W08nI0dfTyEob1FeTyw1OmdPJ0lgUWBPJyNEW08hKG9RXk8sNUBqTydFY1FeTzFHMHJPJ0lqUTA3Yk8nI0NpTyEob1FeTzFHMk9PISZfUTdbTycjSXFPJ0duUTdbTycjSXFPISZfUTdbTycjSXNPJ0duUTdbTycjSXNPJ0l0UXBPJyNDck8hJl9RN1tPLDU8ck8nR25RN1tPLDU8ck8nRWNRXk8xRzJQTyEob1FeTzcrJnlPISZfUTdbTzFHMl5PJ0duUTdbTzFHMl5PISZfUTdbTycjSXFPJ0duUTdbTycjSXFPISZfUTdbTycjSXNPJ0duUTdbTycjSXNPISZfUTdbTzFHMmBPJ0duUTdbTzFHMmBPJ0VjUV5PNysna08nRWNRXk83KyZeTyEmX1E3W09BTkFmTydHblE3W09BTkFmTydKWFFXTycjRWxPJ0peUVdPJyNFbE8nSmZRV08nI0ZbTydKa1FXTycjRXZPJ0pwUVdPJyNLT08nSntRV08nI0p8TydLV1FXTyw1O1dPJ0tdUTdbTyw1PGRPJ0tkUVdPJyNHV08nS2lRV08nI0dXTydLblFXTyw1PGVPJ0t2UVdPLDU7V08nTE9RMDdiTzFHMV9PJ0xWUVdPLDU8ck8nTFtRV08sNTxyTydMYVFXTyw1PHRPJ0xmUVdPLDU8dE8nTGtRV08xRzJQTydMcFFXTzFHMHJPJ0x1UTdbTzw8S3pPJ0x8UTdbTzw8S3pPN2VRN1tPJyNGek85UlFXTycjRnlPQWFRV08nI0VrTyEob1FeTyw1O3NPITNTUVdPJyNHV08hM1NRV08nI0dXTyEzU1FXTycjR1lPITNTUVdPJyNHWU8hK2hRN1tPNysoYE8hK2hRN1tPNysoYE8lK1NRcE8xRzJ0TyUrU1FwTzFHMnRPISZfUTdbTyw1PVlPISZfUTdbTyw1PVlcIixcbiAgc3RhdGVEYXRhOiBcIidOUX5PJ3dPUyd4T1NUT1MneVJRfk9QWU9RWU9TZk9ZIVZPYXFPZHpPZXlPbWtPb1lPcGtPcWtPd2tPeVlPe1lPIVBXTyFUa08hVWtPIVtYTyFmdU8haVpPIWxZTyFtWU8hbllPIXB2TyFyd08hdXhPIXldTyN0IVBPJFZ8TyVlfU8lZyFRTyVpIU9PJWohT08layFPTyVuIVJPJXAhU08lcyFUTyV0IVRPJXYhVU8mUyFXTyZZIVhPJlshWU8mXiFaTyZgIVtPJmMhXU8maSFeTyZvIV9PJnEhYE8mcyFhTyZ1IWJPJnchY08oT1NPKFFUTyhUVU8oW1ZPKGpbTyh5aU9+T1d0T35QYE9QWU9RWU9TZk9kIWpPZSFpT21rT29ZT3BrT3FrT3drT3lZT3tZTyFQV08hVGtPIVVrTyFbIWVPIWZ1TyFpWk8hbFlPIW1ZTyFuWU8hcHZPIXIhZ08hdSFoTyRWIWtPKE8hZE8oUVRPKFRVTyhbVk8oaltPKHlpT35PYSF3T3Ahbk8hUCFvTyFfIXlPIWAhdk8hYSF2TyF5O1FPI1EhcE8jUiFwTyNTIXhPI1QhcE8jVSFwTyNYIXpPI1khek8oUCFsTyhRVE8oVFVPKGAhbU8oaiFzT35PJ3khe09+T1BdWFJdWFtdWGFdWG9dWH1dWCFQXVghWV1YIWldWCFtXVgjT11YI1BdWCNdXVgjaGZYI2tdWCNsXVgjbV1YI25dWCNvXVgjcF1YI3FdWCNyXVgjc11YI3VdWCN3XVgjeV1YI3pdWCRQXVgndV1YKFtdWChtXVgodF1YKHVdWH5PIWQlUFh+UChxT18hfU8oUSNQTyhSIX1PKFMjUE9+T18jUU8oUyNQTyhUI1BPKFUjUU9+T3UjU08hUiNUTyhdI1RPKF4jVk9+T1BZT1FZT1NmT2Qhak9lIWlPbWtPb1lPcGtPcWtPd2tPeVlPe1lPIVBXTyFUa08hVWtPIVshZU8hZnVPIWlaTyFsWU8hbVlPIW5ZTyFwdk8hciFnTyF1IWhPJFYha08oTztVTyhRVE8oVFVPKFtWTyhqW08oeWlPfk8hWCNaTyFZI1dPIVYoY1AhVihxUH5QK31PIVojY09+UGBPUFlPUVlPU2ZPZCFqT2UhaU9vWU9wa09xa093a095WU97WU8hUFdPIVRrTyFVa08hWyFlTyFmdU8haVpPIWxZTyFtWU8hbllPIXB2TyFyIWdPIXUhaE8kViFrTyhRVE8oVFVPKFtWTyhqW08oeWlPfk9tI21PIVgjaU8heV1PI2YjbE8jZyNpTyhPO1ZPIWgoblB+UC5pTyFpI29PKE8jbk9+TyF1I3NPIXldTyVlI3RPfk8jaCN1T35PIWQjdk8jaCN1T35PUCRbT1Ijek9bJGNPbyRhT30jeU8hUCN7TyFZJF9PIWkjeE8hbSRbTyNPJFJPI2skT08jbCRQTyNtJFBPI24kUE8jbyRRTyNwJFJPI3EkUk8jciRiTyNzJFJPI3UkU08jdyRVTyN5JFdPI3okWE8oW1ZPKG0kWU8odCN8Tyh1I31Pfk9hKGFYJ3UoYVgncyhhWCFoKGFYIVYoYVghWyhhWCVmKGFYIWQoYVh+UDFxTyNQJGRPI10kZU8kUCRlT1AoYlhSKGJYWyhiWG8oYlh9KGJYIVAoYlghWShiWCFpKGJYIW0oYlgjTyhiWCNrKGJYI2woYlgjbShiWCNuKGJYI28oYlgjcChiWCNxKGJYI3IoYlgjcyhiWCN1KGJYI3coYlgjeShiWCN6KGJYKFsoYlgobShiWCh0KGJYKHUoYlghWyhiWCVmKGJYfk9hKGJYJ3UoYlgncyhiWCFWKGJYIWgoYlhzKGJYIWQoYlh+UDRVTyNdJGVPfk8kWyRoTyReJGdPJGUkbU9+T1NmTyFbJG5PJGgkb08kaiRxT35PaCVWT20lV09vJVhPcCR0T3EkdE93JVlPeSVaT3slW08hUCR7TyFbJHxPIWYlYU8haSR4TyNnJWJPJFYlX08kciVdTyR0JV5PJHclYE8oTyRzTyhRVE8oVFVPKFskdU8odCR9Tyh1JVBPZyhYUH5PIWklY09+TyFQJWZPIVslZ08oTyVlT35PIWQla09+T2ElbE8ndSVsT35PfSVwT35QJVtPKFAhbE9+UCVbTyVrJXRPflAlW09oJVZPIWklY08oTyVlTyhQIWxPfk9lJXtPIWklY08oTyVlT35PI3MkUk9+T30mUU8hWyV9TyFpJlBPJWcmVE8oTyVlTyhQIWxPKFFUTyhUVU9gKVNQfk8hdSNzT35PJXAmVk8hUClPWCFbKU9YKE8pT1h+TyhPJldPfk8hciZdTyN0IVBPJWchUU8laSFPTyVqIU9PJWshT08lbiFSTyVwIVNPJXMhVE8ldCFUT35PZCZiT2UmYU8hdSZfTyVlJmBPJXgmXk9+UDt8T2QmZU9leU8hWyZkTyFyJl1PIXV4TyF5XU8jdCFQTyVlfU8laSFPTyVqIU9PJWshT08lbiFSTyVwIVNPJXMhVE8ldCFUTyV2IVVPfk9iJmhPI10ma08lZyZmTyhQIWxPflA9Uk8haSZsTyFyJnBPfk8haSNvT35PIVtYT35PYSVsTyd0JnhPJ3UlbE9+T2ElbE8ndCZ7Tyd1JWxPfk9hJWxPJ3QmfU8ndSVsT35PJ3NdWCFWXVhzXVghaF1YJlddWCFbXVglZl1YIWRdWH5QKHFPIV8nW08hYCdUTyFhJ1RPKFAhbE8oUVRPKFRVT35PcCdSTyFQJ1FPIVgnVU8oYCdQTyFaKGRQIVooc1B+UEBZT2snX08hWyddTyhPJWVPfk9lJ2RPIWklY08oTyVlT35PfSZRTyFpJlBPfk9wIW5PIVAhb08heTtRTyNRIXBPI1IhcE8jVCFwTyNVIXBPKFAhbE8oUVRPKFRVTyhgIW1PKGohc09+TyFfJ2pPIWAnaU8hYSdpTyNTIXBPI1gna08jWSdrT35QQXRPYSVsT2glVk8hZCN2TyFpJWNPJ3UlbE8obSdtT35PIW0ncU8jXSdvT35QQ1NPcCFuTyFQIW9PKFFUTyhUVU8oYCFtTyhqIXNPfk8hW1hPcChoWCFQKGhYIV8oaFghYChoWCFhKGhYIXkoaFgjUShoWCNSKGhYI1MoaFgjVChoWCNVKGhYI1goaFgjWShoWChQKGhYKFEoaFgoVChoWChgKGhYKGooaFh+TyFgJ2lPIWEnaU8oUCFsT35QQ3JPJ3ondU8neyd1Tyd8J3dPfk9fIX1PKFEneU8oUiF9TyhTJ3lPfk9fI1FPKFMneU8oVCd5TyhVI1FPfk91I1NPIVIjVE8oXSNUTyheJ31Pfk8hWChQTyFWJ1NYIVYnWVghWSdTWCFZJ1lYflArfU8hWShSTyFWKGNYfk9QJFtPUiN6T1skY09vJGFPfSN5TyFQI3tPIVkoUk8haSN4TyFtJFtPI08kUk8jayRPTyNsJFBPI20kUE8jbiRQTyNvJFFPI3AkUk8jcSRSTyNyJGJPI3MkUk8jdSRTTyN3JFVPI3kkV08jeiRYTyhbVk8obSRZTyh0I3xPKHUjfU9+TyFWKGNYflBHZk8hVihXT35PIVYocFghWShwWCFkKHBYIWgocFgobShwWH5PI10ocFgjaCNhWCFaKHBYflBJaU8jXShYTyFWKHJYIVkoclh+TyFZKFlPIVYocVh+TyFWKF1Pfk8jXSRlT35QSWlPIVooXk9+UGBPUiN6T30jeU8hUCN7TyFpI3hPKFtWT1Aha2FbIWthbyFrYSFZIWthIW0ha2EjTyFrYSNrIWthI2wha2EjbSFrYSNuIWthI28ha2EjcCFrYSNxIWthI3Iha2EjcyFrYSN1IWthI3cha2EjeSFrYSN6IWthKG0ha2EodCFrYSh1IWthfk9hIWthJ3Uha2EncyFrYSFWIWthIWgha2FzIWthIVsha2ElZiFrYSFkIWthflBLUE8haChfT35PIWQjdk8jXShgTyhtJ21PIVkob1hhKG9YJ3Uob1h+TyFoKG9YflBNbE8hUCVmTyFbJWdPIXldTyNmKGVPI2coZE8oTyVlT35PIVkoZk8haChuWH5PIWgoaE9+TyFQJWZPIVslZ08jZyhkTyhPJWVPfk9QKGJYUihiWFsoYlhvKGJYfShiWCFQKGJYIVkoYlghaShiWCFtKGJYI08oYlgjayhiWCNsKGJYI20oYlgjbihiWCNvKGJYI3AoYlgjcShiWCNyKGJYI3MoYlgjdShiWCN3KGJYI3koYlgjeihiWChbKGJYKG0oYlgodChiWCh1KGJYfk8hZCN2TyFoKGJYflAhIFlPUihqT30oaU8haSN4TyNQJGRPIXkheGEhUCF4YX5PIXUheGElZSF4YSFbIXhhI2YheGEjZyF4YShPIXhhflAhI1pPIXUobk9+T1BZT1FZT1NmT2Qhak9lIWlPbWtPb1lPcGtPcWtPd2tPeVlPe1lPIVBXTyFUa08hVWtPIVtYTyFmdU8haVpPIWxZTyFtWU8hbllPIXB2TyFyIWdPIXUhaE8kViFrTyhPIWRPKFFUTyhUVU8oW1ZPKGpbTyh5aU9+T2glVk9tJVdPbyVYT3AkdE9xJHRPdyVZT3klWk97O25PIVAke08hWyR8TyFmPU9PIWkkeE8jZzt0TyRWJV9PJHI7cE8kdDtyTyR3JWBPKE8ock8oUVRPKFRVTyhbJHVPKHQkfU8odSVQT35PI2godE9+TyFYKHZPIWgoZlB+UCVbTyhgKHhPKGpbT35PIVAoek8haSN4TyhgKHhPKGpbT35PUDtQT1E7UE9TZk9kPHpPZSFpT21rT287UE9wa09xa093a095O1BPeztQTyFQV08hVGtPIVVrTyFbIWVPIWY7U08haVpPIWw7UE8hbTtQTyFuO1BPIXA7VE8hcjtXTyF1IWhPJFYha08oTylYTyhRVE8oVFVPKFtWTyhqW08oeTx4T35PIVkkX09hJG9hJ3Ukb2EncyRvYSFoJG9hIVYkb2EhWyRvYSVmJG9hIWQkb2F+TyN0KWBPflAhJl9PaCVWT20lV09vJVhPcCR0T3EkdE93JVlPeSVaT3slW08hUCR7TyFbJHxPIWYlYU8haSR4TyNnJWJPJFYlX08kciVdTyR0JV5PJHclYE8oTyhyTyhRVE8oVFVPKFskdU8odCR9Tyh1JVBPfk9nKGtQflAhK2hPfSllTyFkKWRPIVskXVgkWSRdWCRbJF1YJF4kXVgkZSRdWH5PIWQpZE8hWyh2WCRZKHZYJFsodlgkXih2WCRlKHZYfk99KWVPflAhLXFPfSllTyFbKHZYJFkodlgkWyh2WCReKHZYJGUodlh+TyFbKWdPJFkpa08kWylmTyReKWZPJGUpbE9+TyFYKW9PflAhKG9PJFskaE8kXiRnTyRlKXNPfk9rJHhYfSR4WCFQJHhYI1AkeFgodCR4WCh1JHhYfk9nalhnJHhYa2pYIVlqWCNdalh+UCEvZ091KXVPKF0pdk8oXil4T35PaypST30pek8hUCl7Tyh0JH1PKHUlUE9+T2cpeU9+UCEwa09nKlNPfk9oJVZPbSVXT28lWE9wJHRPcSR0T3clWU95JVpPeztuTyFQKlVPIVsqVk8hZj1PTyFpJHhPI2c7dE8kViVfTyRyO3BPJHQ7ck8kdyVgTyhRVE8oVFVPKFskdU8odCR9Tyh1JVBPfk8hWCpZTyhPKlRPIWgoelB+UCExWU8jaCpbT35PIWkqXU9+T2glVk9tJVdPbyVYT3AkdE9xJHRPdyVZT3klWk97O25PIVAke08hWyR8TyFmPU9PIWkkeE8jZzt0TyRWJV9PJHI7cE8kdDtyTyR3JWBPKE8qX08oUVRPKFRVTyhbJHVPKHQkfU8odSVQT35PIVgqYk8hVih7UH5QITNYT28qbk8hUCpmTyFfKmxPIWAqZU8hYSplTyFpKl1PI1gqbU8lXSpoTyhQIWxPKGAhbU9+TyFaKmtPflAhNHxPI1AkZE9rKFpYfShaWCFQKFpYKHQoWlgodShaWCFZKFpYI10oWlh+T2coWlgjfShaWH5QITV1T2sqc08jXSpyT2coWVghWShZWH5PIVkqdE9nKFhYfk8oTyZXT2coWFB+T3Aqd09+TyFpKnxPfk8oTyhyT35PbStRTyFQJWZPIVgjaU8hWyVnTyF5XU8jZiNsTyNnI2lPKE8lZU8haChuUH5PIWQjdk8jaCtST35PIVAlZk8hWCtUTyFZKFlPIVslZ08oTyVlTyFWKHFQfk9wJ1hPIVArVk8hWCtVTyhRVE8oVFVPKGAoeE9+TyFaKHNQflAhOHVPIVkrV09hKVBYJ3UpUFh+T1AkW09SI3pPWyRjT28kYU99I3lPIVAje08haSN4TyFtJFtPI08kUk8jayRPTyNsJFBPI20kUE8jbiRQTyNvJFFPI3AkUk8jcSRSTyNyJGJPI3MkUk8jdSRTTyN3JFVPI3kkV08jeiRYTyhbVk8obSRZTyh0I3xPKHUjfU9+T2EhZ2EhWSFnYSd1IWdhJ3MhZ2EhViFnYSFoIWdhcyFnYSFbIWdhJWYhZ2EhZCFnYX5QITltT1Ijek99I3lPIVAje08haSN4TyhbVk9QIW9hWyFvYW8hb2EhWSFvYSFtIW9hI08hb2EjayFvYSNsIW9hI20hb2EjbiFvYSNvIW9hI3Ahb2EjcSFvYSNyIW9hI3Mhb2EjdSFvYSN3IW9hI3khb2EjeiFvYShtIW9hKHQhb2EodSFvYX5PYSFvYSd1IW9hJ3Mhb2EhViFvYSFoIW9hcyFvYSFbIW9hJWYhb2EhZCFvYX5QITxUT1Ijek99I3lPIVAje08haSN4TyhbVk9QIXFhWyFxYW8hcWEhWSFxYSFtIXFhI08hcWEjayFxYSNsIXFhI20hcWEjbiFxYSNvIXFhI3AhcWEjcSFxYSNyIXFhI3MhcWEjdSFxYSN3IXFhI3khcWEjeiFxYShtIXFhKHQhcWEodSFxYX5PYSFxYSd1IXFhJ3MhcWEhViFxYSFoIXFhcyFxYSFbIXFhJWYhcWEhZCFxYX5QIT5rT2glVk9rK2FPIVsnXU8lZitgT35PIWQrY09hKFdYIVsoV1gndShXWCFZKFdYfk9hJWxPIVtYTyd1JWxPfk9oJVZPIWklY09+T2glVk8haSVjTyhPJWVPfk8hZCN2TyNoKHRPfk9iK25PJWcrb08oTytrTyhRVE8oVFVPIVopVFB+TyFZK3BPYClTWH5PWyt0T35PYCt1T35PIVslfU8oTyVlTyhQIWxPYClTUH5PaCVWTyNdK3pPfk9oJVZPayt9TyFbJHxPfk8hWyxQT35PfSxSTyFbWE9+TyVrJXRPfk8hdSxXT35PZSxdT35PYixeTyhPI25PKFFUTyhUVU8hWilSUH5PZSV7T35PJWchUU8oTyZXT35QPVJPWyxjT2AsYk9+T1BZT1FZT1NmT2R6T2V5T21rT29ZT3BrT3FrT3drT3lZT3tZTyFQV08hVGtPIVVrTyFmdU8haVpPIWxZTyFtWU8hbllPIXB2TyF1eE8heV1PJWV9TyhRVE8oVFVPKFtWTyhqW08oeWlPfk8hWyFlTyFyIWdPJFYha08oTyFkT35QIUVrT2AsYk9hJWxPJ3UlbE9+T1BZT1FZT1NmT2Qhak9lIWlPbWtPb1lPcGtPcWtPd2tPeVlPe1lPIVBXTyFUa08hVWtPIVshZU8hZnVPIWlaTyFsWU8hbVlPIW5ZTyFwdk8hdSFoTyRWIWtPKE8hZE8oUVRPKFRVTyhbVk8oaltPKHlpT35PYSxoTyFyd08jdCFPTyVpIU9PJWohT08layFPT35QIUhUTyFpJmxPfk8mWSxuT35PIVsscE9+TyZrLHJPJm0sc09QJmhhUSZoYVMmaGFZJmhhYSZoYWQmaGFlJmhhbSZoYW8maGFwJmhhcSZoYXcmaGF5JmhheyZoYSFQJmhhIVQmaGEhVSZoYSFbJmhhIWYmaGEhaSZoYSFsJmhhIW0maGEhbiZoYSFwJmhhIXImaGEhdSZoYSF5JmhhI3QmaGEkViZoYSVlJmhhJWcmaGElaSZoYSVqJmhhJWsmaGElbiZoYSVwJmhhJXMmaGEldCZoYSV2JmhhJlMmaGEmWSZoYSZbJmhhJl4maGEmYCZoYSZjJmhhJmkmaGEmbyZoYSZxJmhhJnMmaGEmdSZoYSZ3JmhhJ3MmaGEoTyZoYShRJmhhKFQmaGEoWyZoYShqJmhhKHkmaGEhWiZoYSZhJmhhYiZoYSZmJmhhfk8oTyx4T35PaCFiWCFZIU9YIVohT1ghZCFPWCFkIWJYIWkhYlgjXSFPWH5PIVkhYlghWiFiWH5QIyBaTyFkLH1PI10sfE9oKGVYIVkjZVghWShlWCFaI2VYIVooZVghZChlWCFpKGVYfk9oJVZPIWQtUE8haSVjTyFZIV5YIVohXlh+T3Ahbk8hUCFvTyhRVE8oVFVPKGAhbU9+T1A7UE9RO1BPU2ZPZDx6T2UhaU9ta09vO1BPcGtPcWtPd2tPeTtQT3s7UE8hUFdPIVRrTyFVa08hWyFlTyFmO1NPIWlaTyFsO1BPIW07UE8hbjtQTyFwO1RPIXI7V08hdSFoTyRWIWtPKFFUTyhUVU8oW1ZPKGpbTyh5PHhPfk8oTzt6T35QIyNfTyFZLVRPIVooZFh+TyFaLVZPfk8hZCx9TyNdLHxPIVkjZVghWiNlWH5PIVktV08hWihzWH5PIVotWU9+TyFgLVpPIWEtWk8oUCFsT35QIyF8TyFaLV5PflAnX09rLWFPIVsnXU9+TyFWLWZPfk9wIXhhIV8heGEhYCF4YSFhIXhhI1EheGEjUiF4YSNTIXhhI1QheGEjVSF4YSNYIXhhI1kheGEoUCF4YShRIXhhKFQheGEoYCF4YShqIXhhflAhI1pPIW0ta08jXS1pT35QQ1NPIWAtbU8hYS1tTyhQIWxPflBDck9hJWxPI10taU8ndSVsT35PYSVsTyFkI3ZPI10taU8ndSVsT35PYSVsTyFkI3ZPIW0ta08jXS1pTyd1JWxPKG0nbU9+Tyd6J3VPJ3sndU8nfC1yT35Pcy1zT35PIVYnU2EhWSdTYX5QITltTyFYLXdPIVYnU1ghWSdTWH5QJVtPIVkoUk8hVihjYX5PIVYoY2F+UEdmTyFZKFlPIVYocWF+TyFQJWZPIVgte08hWyVnTyhPJWVPIVYnWVghWSdZWH5PI10tfU8hWShvYSFoKG9hYShvYSd1KG9hfk8hZCN2T35QIytlTyFZKGZPIWgobmF+TyFQJWZPIVslZ08jZy5STyhPJWVPfk9tLldPIVAlZk8hWC5UTyFbJWdPIXldTyNmLlZPI2cuVE8oTyVlTyFZJ11YIWgnXVh+T1IuW08haSN4T35PaCVWT2suX08hWyddTyVmLl5Pfk9hI2BpIVkjYGkndSNgaSdzI2BpIVYjYGkhaCNgaXMjYGkhWyNgaSVmI2BpIWQjYGl+UCE5bU9rPVVPfSl6TyFQKXtPKHQkfU8odSVQT35PI2gjW2FhI1thI10jW2EndSNbYSFZI1thIWgjW2EhWyNbYSFWI1thflAjLmFPI2goWlhQKFpYUihaWFsoWlhhKFpYbyhaWCFpKFpYIW0oWlgjTyhaWCNrKFpYI2woWlgjbShaWCNuKFpYI28oWlgjcChaWCNxKFpYI3IoWlgjcyhaWCN1KFpYI3coWlgjeShaWCN6KFpYJ3UoWlgoWyhaWChtKFpYIWgoWlghVihaWCdzKFpYcyhaWCFbKFpYJWYoWlghZChaWH5QITV1TyFZLmxPIWgoZlh+UCE5bU8haC5vT35PIVYucU9+T1AkW09SI3pPfSN5TyFQI3tPIWkjeE8hbSRbTyhbVk9bI2ppYSNqaW8jamkhWSNqaSNPI2ppI2wjamkjbSNqaSNuI2ppI28jamkjcCNqaSNxI2ppI3IjamkjcyNqaSN1I2ppI3cjamkjeSNqaSN6I2ppJ3UjamkobSNqaSh0I2ppKHUjamkncyNqaSFWI2ppIWgjamlzI2ppIVsjamklZiNqaSFkI2ppfk8jayNqaX5QIzF8TyNrJE9PflAjMXxPUCRbT1Ijek9vJGFPfSN5TyFQI3tPIWkjeE8hbSRbTyNrJE9PI2wkUE8jbSRQTyNuJFBPKFtWT1sjamlhI2ppIVkjamkjTyNqaSNwI2ppI3EjamkjciNqaSNzI2ppI3UjamkjdyNqaSN5I2ppI3ojamkndSNqaShtI2ppKHQjamkodSNqaSdzI2ppIVYjamkhaCNqaXMjamkhWyNqaSVmI2ppIWQjaml+TyNvI2ppflAjNGtPI28kUU9+UCM0a09QJFtPUiN6T1skY09vJGFPfSN5TyFQI3tPIWkjeE8hbSRbTyNPJFJPI2skT08jbCRQTyNtJFBPI24kUE8jbyRRTyNwJFJPI3EkUk8jciRiTyNzJFJPKFtWT2EjamkhWSNqaSN3I2ppI3kjamkjeiNqaSd1I2ppKG0jamkodCNqaSh1I2ppJ3MjamkhViNqaSFoI2ppcyNqaSFbI2ppJWYjamkhZCNqaX5PI3Ujaml+UCM3WU9QJFtPUiN6T1skY09vJGFPfSN5TyFQI3tPIWkjeE8hbSRbTyNPJFJPI2skT08jbCRQTyNtJFBPI24kUE8jbyRRTyNwJFJPI3EkUk8jciRiTyNzJFJPI3UkU08oW1ZPKHUjfU9hI2ppIVkjamkjeSNqaSN6I2ppJ3UjamkobSNqaSh0I2ppJ3MjamkhViNqaSFoI2ppcyNqaSFbI2ppJWYjamkhZCNqaX5PI3ckVU9+UCM5cE8jdyNqaX5QIzlwTyN1JFNPflAjN1lPUCRbT1Ijek9bJGNPbyRhT30jeU8hUCN7TyFpI3hPIW0kW08jTyRSTyNrJE9PI2wkUE8jbSRQTyNuJFBPI28kUU8jcCRSTyNxJFJPI3IkYk8jcyRSTyN1JFNPI3ckVU8oW1ZPKHQjfE8odSN9T2EjamkhWSNqaSN6I2ppJ3UjamkobSNqaSdzI2ppIVYjamkhaCNqaXMjamkhWyNqaSVmI2ppIWQjaml+TyN5I2ppflAjPGZPI3kkV09+UCM8Zk9QXVhSXVhbXVhvXVh9XVghUF1YIWldWCFtXVgjT11YI1BdWCNdXVgjaGZYI2tdWCNsXVgjbV1YI25dWCNvXVgjcF1YI3FdWCNyXVgjc11YI3VdWCN3XVgjeV1YI3pdWCRQXVgoW11YKG1dWCh0XVgodV1YIVldWCFaXVh+TyN9XVh+UCM/VE9QJFtPUiN6T1s7aE9vO2ZPfSN5TyFQI3tPIWkjeE8hbSRbTyNPO11PI2s7WU8jbDtaTyNtO1pPI247Wk8jbztbTyNwO11PI3E7XU8jcjtnTyNzO11PI3U7Xk8jdztgTyN5O2JPI3o7Y08oW1ZPKG0kWU8odCN8Tyh1I31Pfk8jfS5zT35QI0FiTyNQJGRPI107aU8kUDtpTyN9KGJYIVooYlh+UCEgWU9hJ2BhIVknYGEndSdgYSdzJ2BhIWgnYGEhVidgYXMnYGEhWydgYSVmJ2BhIWQnYGF+UCE5bU9bI2ppYSNqaW8jamkhWSNqaSNPI2ppI28jamkjcCNqaSNxI2ppI3IjamkjcyNqaSN1I2ppI3cjamkjeSNqaSN6I2ppJ3UjamkobSNqaSdzI2ppIVYjamkhaCNqaXMjamkhWyNqaSVmI2ppIWQjaml+T1AkW09SI3pPfSN5TyFQI3tPIWkjeE8hbSRbTyNrJE9PI2wkUE8jbSRQTyNuJFBPKFtWTyh0I2ppKHUjaml+UCNEZE9rPVVPfSl6TyFQKXtPKHQkfU8odSVQT1AjamlSI2ppIWkjamkhbSNqaSNrI2ppI2wjamkjbSNqaSNuI2ppKFsjaml+UCNEZE8hWS53T2coa1h+UCEwa09nLnlPfk9hJE9pIVkkT2kndSRPaSdzJE9pIVYkT2khaCRPaXMkT2khWyRPaSVmJE9pIWQkT2l+UCE5bU8kWy56TyReLnpPfk8kWy57TyReLntPfk8hZClkTyNdLnxPIVskYlgkWSRiWCRbJGJYJF4kYlgkZSRiWH5PIVgufU9+TyFbKWdPJFkvUE8kWylmTyReKWZPJGUvUU9+TyFZO2RPIVooYVh+UCNBYk8hWi9ST35PIWQpZE8kZSh2WH5PJGUvVE9+T3UpdU8oXSl2TyheL1dPfk8hVi9bT35QISZfTyh0JH1PayVeYX0lXmEhUCVeYSh1JV5hIVklXmEjXSVeYX5PZyVeYSN9JV5hflAjS15PKHUlUE9rJWBhfSVgYSFQJWBhKHQlYGEhWSVgYSNdJWBhfk9nJWBhI30lYGF+UCNMUE8hWWZYIWRmWCFoZlghaCR4WChtZlh+UCEvZ08hWC9lTyFZKFlPKE8vZE8hVihxUCFWKHtQflAhMVlPbypuTyFfKmxPIWAqZU8hYSplTyFpKl1PI1gqbU8lXSpoTyhQIWxPfk9wJ1hPIVAvZk8hWCtVTyFaKmtPKFFUTyhUVU8oYDt3TyFaKHNQflAjTWpPIWgvZ09+UCMuYU8hWS9oTyFkI3ZPKG0nbU8haCh6WH5PIWgvbU9+TyFQJWZPIVgqWU8hWyVnTyhPJWVPIWgoelB+TyNoL29Pfk8hViR4WCFZJHhYIWQlUFh+UCEvZ08hWS9wTyFWKHtYflAjLmFPIWQvck9+TyFWL3RPfk9oJVZPby94TyFkI3ZPIWklY08obSdtT35PKE8vek9+TyFkK2NPfk9hJWxPIVkwT08ndSVsT35PIVowUU9+UCE0fE8hYDBSTyFhMFJPKFAhbE8oYCFtT35PIVAwVE8oYCFtT35PI1gwVU9+T2clXmEhWSVeYSNdJV5hI30lXmF+UCEwa09nJWBhIVklYGEjXSVgYSN9JWBhflAhMGtPKE8mV09nJ2lYIVknaVh+TyFZKnRPZyhYYX5PZzBfT35PUjBgT30wYE8hUDBhTyNQJGRPa3phKHR6YSh1emEhWXphI116YX5PZ3phI316YX5QJCVdT30pek8hUCl7T2skcWEodCRxYSh1JHFhIVkkcWEjXSRxYX5PZyRxYSN9JHFhflAkJlVPfSl6TyFQKXtPayRzYSh0JHNhKHUkc2EhWSRzYSNdJHNhfk9nJHNhI30kc2F+UCQmd08jaDBkT35PZyVSYSFZJVJhI10lUmEjfSVSYX5QITBrTyFkI3ZPfk8jaDBnT35PIVkrV09hKVBhJ3UpUGF+T1Ijek99I3lPIVAje08haSN4TyhbVk9QIW9pWyFvaW8hb2khWSFvaSFtIW9pI08hb2kjayFvaSNsIW9pI20hb2kjbiFvaSNvIW9pI3Ahb2kjcSFvaSNyIW9pI3Mhb2kjdSFvaSN3IW9pI3khb2kjeiFvaShtIW9pKHQhb2kodSFvaX5PYSFvaSd1IW9pJ3Mhb2khViFvaSFoIW9pcyFvaSFbIW9pJWYhb2khZCFvaX5QJChmT2glVk9vJVhPcCR0T3EkdE93JVlPeSVaT3s7bk8hUCR7TyFbJHxPIWY9T08haSR4TyNnO3RPJFYlX08kcjtwTyR0O3JPJHclYE8oUVRPKFRVTyhbJHVPKHQkfU8odSVQT35PbTBwTyhPMG9PflAkKnxPIWQrY09hKFdhIVsoV2EndShXYSFZKFdhfk8jaDB2T35PW11YIVlmWCFaZlh+TyFZMHdPIVopVFh+TyFaMHlPfk9bMHpPfk9iMHxPKE8ra08oUVRPKFRVT35PIVslfU8oTyVlT2AncVghWSdxWH5PIVkrcE9gKVNhfk8haDFQT35QITltT1sxU09+T2AxVE9+TyNdMVdPfk9rMVpPIVskfE9+TyhgKHhPIVopUVB+T2glVk9rMWRPIVsxYU8lZjFjT35PWzFuTyFZMWxPIVopUlh+TyFaMW9Pfk9gMXFPYSVsTyd1JWxPfk8oTyNuTyhRVE8oVFVPfk8jUCRkTyNdJGVPJFAkZU9QKGJYUihiWFsoYlhvKGJYfShiWCFQKGJYIVkoYlghaShiWCFtKGJYI08oYlgjayhiWCNsKGJYI20oYlgjbihiWCNvKGJYI3AoYlgjcShiWCNyKGJYI3UoYlgjdyhiWCN5KGJYI3ooYlgoWyhiWChtKGJYKHQoYlgodShiWH5PI3MxdE8mVzF1T2EoYlh+UCQwZE8jXSRlTyNzMXRPJlcxdU9+T2Exd09+UCVbT2ExeU9+TyZhMXxPUCZfaVEmX2lTJl9pWSZfaWEmX2lkJl9pZSZfaW0mX2lvJl9pcCZfaXEmX2l3Jl9peSZfaXsmX2khUCZfaSFUJl9pIVUmX2khWyZfaSFmJl9pIWkmX2khbCZfaSFtJl9pIW4mX2khcCZfaSFyJl9pIXUmX2kheSZfaSN0Jl9pJFYmX2klZSZfaSVnJl9pJWkmX2klaiZfaSVrJl9pJW4mX2klcCZfaSVzJl9pJXQmX2kldiZfaSZTJl9pJlkmX2kmWyZfaSZeJl9pJmAmX2kmYyZfaSZpJl9pJm8mX2kmcSZfaSZzJl9pJnUmX2kmdyZfaSdzJl9pKE8mX2koUSZfaShUJl9pKFsmX2koaiZfaSh5Jl9pIVomX2liJl9pJmYmX2l+T2IyU08hWjJRTyZmMlJPflBgTyFbWE8haTJVT35PJm0sc09QJmhpUSZoaVMmaGlZJmhpYSZoaWQmaGllJmhpbSZoaW8maGlwJmhpcSZoaXcmaGl5JmhpeyZoaSFQJmhpIVQmaGkhVSZoaSFbJmhpIWYmaGkhaSZoaSFsJmhpIW0maGkhbiZoaSFwJmhpIXImaGkhdSZoaSF5JmhpI3QmaGkkViZoaSVlJmhpJWcmaGklaSZoaSVqJmhpJWsmaGklbiZoaSVwJmhpJXMmaGkldCZoaSV2JmhpJlMmaGkmWSZoaSZbJmhpJl4maGkmYCZoaSZjJmhpJmkmaGkmbyZoaSZxJmhpJnMmaGkmdSZoaSZ3JmhpJ3MmaGkoTyZoaShRJmhpKFQmaGkoWyZoaShqJmhpKHkmaGkhWiZoaSZhJmhpYiZoaSZmJmhpfk8hVjJbT35PIVkhXmEhWiFeYX5QI0FiT3Ahbk8hUCFvTyFYMmJPKGAhbU8hWSdUWCFaJ1RYflBAWU8hWS1UTyFaKGRhfk8hWSdaWCFaJ1pYflAhOHVPIVktV08hWihzYX5PIVoyaU9+UCdfT2ElbE8jXTJyTyd1JWxPfk9hJWxPIWQjdk8jXTJyTyd1JWxPfk9hJWxPIWQjdk8hbTJ2TyNdMnJPJ3UlbE8obSdtT35PYSVsTyd1JWxPflAhOW1PIVkkX09zJG9hfk8hVidTaSFZJ1NpflAhOW1PIVkoUk8hVihjaX5PIVkoWU8hVihxaX5PIVYocmkhWShyaX5QITltTyFZKG9pIWgob2lhKG9pJ3Uob2l+UCE5bU8jXTJ4TyFZKG9pIWgob2lhKG9pJ3Uob2l+TyFZKGZPIWgobml+TyFQJWZPIVslZ08heV1PI2YyfU8jZzJ8TyhPJWVPfk8hUCVmTyFbJWdPI2cyfE8oTyVlT35PazNVTyFbJ11PJWYzVE9+T2glVk9rM1VPIVsnXU8lZjNUT35PI2glXmFQJV5hUiVeYVslXmFhJV5hbyVeYSFpJV5hIW0lXmEjTyVeYSNrJV5hI2wlXmEjbSVeYSNuJV5hI28lXmEjcCVeYSNxJV5hI3IlXmEjcyVeYSN1JV5hI3clXmEjeSVeYSN6JV5hJ3UlXmEoWyVeYShtJV5hIWglXmEhViVeYSdzJV5hcyVeYSFbJV5hJWYlXmEhZCVeYX5QI0teTyNoJWBhUCVgYVIlYGFbJWBhYSVgYW8lYGEhaSVgYSFtJWBhI08lYGEjayVgYSNsJWBhI20lYGEjbiVgYSNvJWBhI3AlYGEjcSVgYSNyJWBhI3MlYGEjdSVgYSN3JWBhI3klYGEjeiVgYSd1JWBhKFslYGEobSVgYSFoJWBhIVYlYGEncyVgYXMlYGEhWyVgYSVmJWBhIWQlYGF+UCNMUE8jaCVeYVAlXmFSJV5hWyVeYWElXmFvJV5hIVklXmEhaSVeYSFtJV5hI08lXmEjayVeYSNsJV5hI20lXmEjbiVeYSNvJV5hI3AlXmEjcSVeYSNyJV5hI3MlXmEjdSVeYSN3JV5hI3klXmEjeiVeYSd1JV5hKFslXmEobSVeYSFoJV5hIVYlXmEncyVeYSNdJV5hcyVeYSFbJV5hJWYlXmEhZCVeYX5QIy5hTyNoJWBhUCVgYVIlYGFbJWBhYSVgYW8lYGEhWSVgYSFpJWBhIW0lYGEjTyVgYSNrJWBhI2wlYGEjbSVgYSNuJWBhI28lYGEjcCVgYSNxJWBhI3IlYGEjcyVgYSN1JWBhI3clYGEjeSVgYSN6JWBhJ3UlYGEoWyVgYShtJWBhIWglYGEhViVgYSdzJWBhI10lYGFzJWBhIVslYGElZiVgYSFkJWBhflAjLmFPI2h6YVB6YVt6YWF6YW96YSFpemEhbXphI096YSNremEjbHphI216YSNuemEjb3phI3B6YSNxemEjcnphI3N6YSN1emEjd3phI3l6YSN6emEndXphKFt6YShtemEhaHphIVZ6YSdzemFzemEhW3phJWZ6YSFkemF+UCQlXU8jaCRxYVAkcWFSJHFhWyRxYWEkcWFvJHFhIWkkcWEhbSRxYSNPJHFhI2skcWEjbCRxYSNtJHFhI24kcWEjbyRxYSNwJHFhI3EkcWEjciRxYSNzJHFhI3UkcWEjdyRxYSN5JHFhI3okcWEndSRxYShbJHFhKG0kcWEhaCRxYSFWJHFhJ3MkcWFzJHFhIVskcWElZiRxYSFkJHFhflAkJlVPI2gkc2FQJHNhUiRzYVskc2FhJHNhbyRzYSFpJHNhIW0kc2EjTyRzYSNrJHNhI2wkc2EjbSRzYSNuJHNhI28kc2EjcCRzYSNxJHNhI3Ikc2EjcyRzYSN1JHNhI3ckc2EjeSRzYSN6JHNhJ3Ukc2EoWyRzYShtJHNhIWgkc2EhViRzYSdzJHNhcyRzYSFbJHNhJWYkc2EhZCRzYX5QJCZ3TyNoJVJhUCVSYVIlUmFbJVJhYSVSYW8lUmEhWSVSYSFpJVJhIW0lUmEjTyVSYSNrJVJhI2wlUmEjbSVSYSNuJVJhI28lUmEjcCVSYSNxJVJhI3IlUmEjcyVSYSN1JVJhI3clUmEjeSVSYSN6JVJhJ3UlUmEoWyVSYShtJVJhIWglUmEhViVSYSdzJVJhI10lUmFzJVJhIVslUmElZiVSYSFkJVJhflAjLmFPYSNgcSFZI2BxJ3UjYHEncyNgcSFWI2BxIWgjYHFzI2BxIVsjYHElZiNgcSFkI2BxflAhOW1PIVgzXk8hWSdVWCFoJ1VYflAlW08hWS5sTyFoKGZhfk8hWS5sTyFoKGZhflAhOW1PIVYzYU9+TyN9IWthIVoha2F+UEtQTyN9IWdhIVkhZ2EhWiFnYX5QI0FiTyN9IW9hIVohb2F+UCE8VE8jfSFxYSFaIXFhflAhPmtPZydYWCFZJ1hYflAhK2hPIVkud09nKGthfk9TZk8hWzN1TyRjM3ZPfk8hWjN6T35PczN7T35QIy5hT2EkbHEhWSRscSd1JGxxJ3MkbHEhViRscSFoJGxxcyRscSFbJGxxJWYkbHEhZCRscX5QITltTyFWM3xPflAjLmFPfSl6TyFQKXtPKHUlUE9rJ2VhKHQnZWEhWSdlYSNdJ2Vhfk9nJ2VhI30nZWF+UCUpbk99KXpPIVApe09rJ2dhKHQnZ2EodSdnYSFZJ2dhI10nZ2F+T2cnZ2EjfSdnYX5QJSphTyhtJFlPflAjLmFPIVZmWCFWJHhYIVlmWCFZJHhYIWQlUFgjXWZYflAhL2dPKE88UU9+UCExWU9ta08oTzRPT35QLmlPIVAlZk8hWDRRTyFbJWdPKE8lZU8hWSdhWCFoJ2FYfk8hWS9oTyFoKHphfk8hWS9oTyFkI3ZPIWgoemF+TyFZL2hPIWQjdk8obSdtTyFoKHphfk9nJHppIVkkemkjXSR6aSN9JHppflAhMGtPIVg0WU8hVidjWCFZJ2NYflAhM1hPIVkvcE8hVih7YX5PIVkvcE8hVih7YX5QIy5hTyFkI3ZPI3M0Yk9+T280ZU8hZCN2TyhtJ21Pfk8hUDRoTyhgIW1Pfk8odCR9T2slXml9JV5pIVAlXmkodSVeaSFZJV5pI10lXml+T2clXmkjfSVeaX5QJS53Tyh1JVBPayVgaX0lYGkhUCVgaSh0JWBpIVklYGkjXSVgaX5PZyVgaSN9JWBpflAlL2pPZyhZaSFZKFlpflAhMGtPI100bU9nKFlpIVkoWWl+UCEwa08haDRwT35PYSRtcSFZJG1xJ3UkbXEncyRtcSFWJG1xIWgkbXFzJG1xIVskbXElZiRtcSFkJG1xflAhOW1PIVY0dE9+TyFZNHVPIVsofFh+UCMuYU9hJHhYIVskeFglWl1YJ3UkeFghWSR4WH5QIS9nTyVaNHhPYWxYa2xYfWxYIVBsWCFbbFgndWxYKHRsWCh1bFghWWxYfk8lWjR4T35PYjVPTyVnNVBPKE8ra08oUVRPKFRVTyFZJ3BYIVoncFh+TyFZMHdPIVopVGF+T1s1VE9+T2A1VU9+T2ElbE8ndSVsT35QIy5hTyFbJHxPflAjLmFPIVk1Xk8jXTVgTyFaKVFYfk8hWjVhT35PbzVoT3Ahbk8hUDViTyFfIXlPIWAhdk8hYSF2TyF5O1FPI1EhcE8jUiFwTyNTIXBPI1QhcE8jVSFwTyNYNWdPI1khek8oUCFsTyhRVE8oVFVPKGAhbU8oaiFzT35PIVo1Zk9+UCU0dE9rNW1PIVsxYU8lZjVsT35PaCVWT2s1bU8hWzFhTyVmNWxPfk9iNXRPKE8jbk8oUVRPKFRVTyFZJ29YIVonb1h+TyFZMWxPIVopUmF+TyhRVE8oVFVPKGA1dk9+T2A1ek9+TyNzNX1PJlc2T09+UE1sTyFoNlBPflAlW09hNlJPfk9hNlJPflAlW09iMlNPIVo2V08mZjJST35QYE8hZDZZT35PIWQ2W09oKGVpIVkoZWkhWihlaSFkKGVpIWkoZWl+TyFZI2VpIVojZWl+UCNBYk8jXTZdTyFZI2VpIVojZWl+TyFZIV5pIVohXml+UCNBYk9hJWxPI102Zk8ndSVsT35PYSVsTyFkI3ZPI102Zk8ndSVsT35PIVkob3EhaChvcWEob3EndShvcX5QITltTyFZKGZPIWgobnF+TyFQJWZPIVslZ08jZzZtTyhPJWVPfk8hWyddTyVmNnBPfk9rNnRPIVsnXU8lZjZwT35PI2gnZWFQJ2VhUidlYVsnZWFhJ2VhbydlYSFpJ2VhIW0nZWEjTydlYSNrJ2VhI2wnZWEjbSdlYSNuJ2VhI28nZWEjcCdlYSNxJ2VhI3InZWEjcydlYSN1J2VhI3cnZWEjeSdlYSN6J2VhJ3UnZWEoWydlYShtJ2VhIWgnZWEhVidlYSdzJ2VhcydlYSFbJ2VhJWYnZWEhZCdlYX5QJSluTyNoJ2dhUCdnYVInZ2FbJ2dhYSdnYW8nZ2EhaSdnYSFtJ2dhI08nZ2EjaydnYSNsJ2dhI20nZ2EjbidnYSNvJ2dhI3AnZ2EjcSdnYSNyJ2dhI3MnZ2EjdSdnYSN3J2dhI3knZ2EjeidnYSd1J2dhKFsnZ2EobSdnYSFoJ2dhIVYnZ2EncydnYXMnZ2EhWydnYSVmJ2dhIWQnZ2F+UCUqYU8jaCR6aVAkemlSJHppWyR6aWEkemlvJHppIVkkemkhaSR6aSFtJHppI08kemkjayR6aSNsJHppI20kemkjbiR6aSNvJHppI3AkemkjcSR6aSNyJHppI3MkemkjdSR6aSN3JHppI3kkemkjeiR6aSd1JHppKFskemkobSR6aSFoJHppIVYkemkncyR6aSNdJHppcyR6aSFbJHppJWYkemkhZCR6aX5QIy5hTyNoJV5pUCVeaVIlXmlbJV5pYSVeaW8lXmkhaSVeaSFtJV5pI08lXmkjayVeaSNsJV5pI20lXmkjbiVeaSNvJV5pI3AlXmkjcSVeaSNyJV5pI3MlXmkjdSVeaSN3JV5pI3klXmkjeiVeaSd1JV5pKFslXmkobSVeaSFoJV5pIVYlXmkncyVeaXMlXmkhWyVeaSVmJV5pIWQlXml+UCUud08jaCVgaVAlYGlSJWBpWyVgaWElYGlvJWBpIWklYGkhbSVgaSNPJWBpI2slYGkjbCVgaSNtJWBpI24lYGkjbyVgaSNwJWBpI3ElYGkjciVgaSNzJWBpI3UlYGkjdyVgaSN5JWBpI3olYGkndSVgaShbJWBpKG0lYGkhaCVgaSFWJWBpJ3MlYGlzJWBpIVslYGklZiVgaSFkJWBpflAlL2pPIVknVWEhaCdVYX5QITltTyFZLmxPIWgoZml+TyN9I2BpIVkjYGkhWiNgaX5QI0FiT1AkW09SI3pPfSN5TyFQI3tPIWkjeE8hbSRbTyhbVk9bI2ppbyNqaSNPI2ppI2wjamkjbSNqaSNuI2ppI28jamkjcCNqaSNxI2ppI3IjamkjcyNqaSN1I2ppI3cjamkjeSNqaSN6I2ppI30jamkobSNqaSh0I2ppKHUjamkhWSNqaSFaI2ppfk8jayNqaX5QJUdeTyNrO1lPflAlR15PUCRbT1Ijek9vO2ZPfSN5TyFQI3tPIWkjeE8hbSRbTyNrO1lPI2w7Wk8jbTtaTyNuO1pPKFtWT1sjamkjTyNqaSNwI2ppI3EjamkjciNqaSNzI2ppI3UjamkjdyNqaSN5I2ppI3ojamkjfSNqaShtI2ppKHQjamkodSNqaSFZI2ppIVojaml+TyNvI2ppflAlSWZPI287W09+UCVJZk9QJFtPUiN6T1s7aE9vO2ZPfSN5TyFQI3tPIWkjeE8hbSRbTyNPO11PI2s7WU8jbDtaTyNtO1pPI247Wk8jbztbTyNwO11PI3E7XU8jcjtnTyNzO11PKFtWTyN3I2ppI3kjamkjeiNqaSN9I2ppKG0jamkodCNqaSh1I2ppIVkjamkhWiNqaX5PI3Ujaml+UCVLbk9QJFtPUiN6T1s7aE9vO2ZPfSN5TyFQI3tPIWkjeE8hbSRbTyNPO11PI2s7WU8jbDtaTyNtO1pPI247Wk8jbztbTyNwO11PI3E7XU8jcjtnTyNzO11PI3U7Xk8oW1ZPKHUjfU8jeSNqaSN6I2ppI30jamkobSNqaSh0I2ppIVkjamkhWiNqaX5PI3c7YE9+UCVNb08jdyNqaX5QJU1vTyN1O15PflAlS25PUCRbT1Ijek9bO2hPbztmT30jeU8hUCN7TyFpI3hPIW0kW08jTztdTyNrO1lPI2w7Wk8jbTtaTyNuO1pPI287W08jcDtdTyNxO11PI3I7Z08jcztdTyN1O15PI3c7YE8oW1ZPKHQjfE8odSN9TyN6I2ppI30jamkobSNqaSFZI2ppIVojaml+TyN5I2ppflAmIU9PI3k7Yk9+UCYhT09hI3t5IVkje3kndSN7eSdzI3t5IVYje3khaCN7eXMje3khWyN7eSVmI3t5IWQje3l+UCE5bU9bI2ppbyNqaSNPI2ppI28jamkjcCNqaSNxI2ppI3IjamkjcyNqaSN1I2ppI3cjamkjeSNqaSN6I2ppI30jamkobSNqaSFZI2ppIVojaml+T1AkW09SI3pPfSN5TyFQI3tPIWkjeE8hbSRbTyNrO1lPI2w7Wk8jbTtaTyNuO1pPKFtWTyh0I2ppKHUjaml+UCYkek9rPVZPfSl6TyFQKXtPKHQkfU8odSVQT1AjamlSI2ppIWkjamkhbSNqaSNrI2ppI2wjamkjbSNqaSNuI2ppKFsjaml+UCYkek8jUCRkT1AoWlhSKFpYWyhaWGsoWlhvKFpYfShaWCFQKFpYIWkoWlghbShaWCNPKFpYI2soWlgjbChaWCNtKFpYI24oWlgjbyhaWCNwKFpYI3EoWlgjcihaWCNzKFpYI3UoWlgjdyhaWCN5KFpYI3ooWlgjfShaWChbKFpYKG0oWlgodChaWCh1KFpYIVkoWlghWihaWH5PI30kT2khWSRPaSFaJE9pflAjQWJPI30hb2khWiFvaX5QJChmT2cnWGEhWSdYYX5QITBrTyFaN1dPfk8hWSdgYSFaJ2BhflAjQWJPUF1YUl1YW11Yb11YfV1YIVBdWCFWXVghWV1YIWldWCFtXVgjT11YI1BdWCNdXVgjaGZYI2tdWCNsXVgjbV1YI25dWCNvXVgjcF1YI3FdWCNyXVgjc11YI3VdWCN3XVgjeV1YI3pdWCRQXVgoW11YKG1dWCh0XVgodV1Yfk8hZCVXWCNzJVdYflAmK1FPIWQjdk8obSdtTyFZJ2FhIWgnYWF+TyFZL2hPIWgoeml+TyFZL2hPIWQjdk8haCh6aX5PZyR6cSFZJHpxI10kenEjfSR6cX5QITBrTyFWJ2NhIVknY2F+UCMuYU8hZDdfT35PIVkvcE8hVih7aX5QIy5hTyFZL3BPIVYoe2l+TyFWN2NPfk8hZCN2TyNzN2hPfk9vN2lPIWQjdk8obSdtT35PfSl6TyFQKXtPKHUlUE9rJ2ZhKHQnZmEhWSdmYSNdJ2Zhfk9nJ2ZhI30nZmF+UCYvcE99KXpPIVApe09rJ2hhKHQnaGEodSdoYSFZJ2hhI10naGF+T2cnaGEjfSdoYX5QJjBjTyFWN2xPfk9nJHxxIVkkfHEjXSR8cSN9JHxxflAhMGtPYSRteSFZJG15J3UkbXkncyRteSFWJG15IWgkbXlzJG15IVskbXklZiRteSFkJG15flAhOW1PIWQ2W09+TyFZNHVPIVsofGF+TyFbJ11PUCRTYVIkU2FbJFNhbyRTYX0kU2EhUCRTYSFZJFNhIWkkU2EhbSRTYSNPJFNhI2skU2EjbCRTYSNtJFNhI24kU2EjbyRTYSNwJFNhI3EkU2EjciRTYSNzJFNhI3UkU2EjdyRTYSN5JFNhI3okU2EoWyRTYShtJFNhKHQkU2EodSRTYX5PJWY2cE9+UCYybE9hI2B5IVkjYHkndSNgeSdzI2B5IVYjYHkhaCNgeXMjYHkhWyNgeSVmI2B5IWQjYHl+UCE5bU9bN3FPfk9iN3NPKE8ra08oUVRPKFRVT35PIVkwd08hWilUaX5PYDd3T35PKGAoeE8hWSdsWCFaJ2xYfk8hWTVeTyFaKVFhfk8hWjhRT35QJTR0T3Ahbk8hUDhSTyhRVE8oVFVPKGAhbU8oaiFzT35PI1g4U09+TyFbMWFPfk8hWzFhTyVmOFVPfk9rOFhPIVsxYU8lZjhVT35PWzheTyFZJ29hIVonb2F+TyFZMWxPIVopUml+TyFoOGJPfk8haDhjT35PIWg4Zk9+TyFoOGZPflAlW09hOGhPfk8hZDhpT35PIWg4ak9+TyFZKHJpIVoocml+UCNBYk9hJWxPI104ck8ndSVsT35PIVkob3khaChveWEob3kndShveX5QITltTyFZKGZPIWgobnl+TyVmOHVPflAmMmxPIVsnXU8lZjh1T35PI2gkenFQJHpxUiR6cVskenFhJHpxbyR6cSFZJHpxIWkkenEhbSR6cSNPJHpxI2skenEjbCR6cSNtJHpxI24kenEjbyR6cSNwJHpxI3EkenEjciR6cSNzJHpxI3UkenEjdyR6cSN5JHpxI3okenEndSR6cShbJHpxKG0kenEhaCR6cSFWJHpxJ3MkenEjXSR6cXMkenEhWyR6cSVmJHpxIWQkenF+UCMuYU8jaCdmYVAnZmFSJ2ZhWydmYWEnZmFvJ2ZhIWknZmEhbSdmYSNPJ2ZhI2snZmEjbCdmYSNtJ2ZhI24nZmEjbydmYSNwJ2ZhI3EnZmEjcidmYSNzJ2ZhI3UnZmEjdydmYSN5J2ZhI3onZmEndSdmYShbJ2ZhKG0nZmEhaCdmYSFWJ2ZhJ3MnZmFzJ2ZhIVsnZmElZidmYSFkJ2ZhflAmL3BPI2gnaGFQJ2hhUidoYVsnaGFhJ2hhbydoYSFpJ2hhIW0naGEjTydoYSNrJ2hhI2wnaGEjbSdoYSNuJ2hhI28naGEjcCdoYSNxJ2hhI3InaGEjcydoYSN1J2hhI3cnaGEjeSdoYSN6J2hhJ3UnaGEoWydoYShtJ2hhIWgnaGEhVidoYSdzJ2hhcydoYSFbJ2hhJWYnaGEhZCdoYX5QJjBjTyNoJHxxUCR8cVIkfHFbJHxxYSR8cW8kfHEhWSR8cSFpJHxxIW0kfHEjTyR8cSNrJHxxI2wkfHEjbSR8cSNuJHxxI28kfHEjcCR8cSNxJHxxI3IkfHEjcyR8cSN1JHxxI3ckfHEjeSR8cSN6JHxxJ3UkfHEoWyR8cShtJHxxIWgkfHEhViR8cSdzJHxxI10kfHFzJHxxIVskfHElZiR8cSFkJHxxflAjLmFPIVknVWkhaCdVaX5QITltTyN9I2BxIVkjYHEhWiNgcX5QI0FiTyh0JH1PUCVeYVIlXmFbJV5hbyVeYSFpJV5hIW0lXmEjTyVeYSNrJV5hI2wlXmEjbSVeYSNuJV5hI28lXmEjcCVeYSNxJV5hI3IlXmEjcyVeYSN1JV5hI3clXmEjeSVeYSN6JV5hI30lXmEoWyVeYShtJV5hIVklXmEhWiVeYX5PayVeYX0lXmEhUCVeYSh1JV5hflAmQ29PKHUlUE9QJWBhUiVgYVslYGFvJWBhIWklYGEhbSVgYSNPJWBhI2slYGEjbCVgYSNtJWBhI24lYGEjbyVgYSNwJWBhI3ElYGEjciVgYSNzJWBhI3UlYGEjdyVgYSN5JWBhI3olYGEjfSVgYShbJWBhKG0lYGEhWSVgYSFaJWBhfk9rJWBhfSVgYSFQJWBhKHQlYGF+UCZFc09rPVZPfSl6TyFQKXtPKHUlUE9+UCZDb09rPVZPfSl6TyFQKXtPKHQkfU9+UCZFc09SMGBPfTBgTyFQMGFPI1AkZE9QemFbemFremFvemEhaXphIW16YSNPemEja3phI2x6YSNtemEjbnphI296YSNwemEjcXphI3J6YSNzemEjdXphI3d6YSN5emEjenphI316YShbemEobXphKHR6YSh1emEhWXphIVp6YX5PfSl6TyFQKXtPUCRxYVIkcWFbJHFhayRxYW8kcWEhaSRxYSFtJHFhI08kcWEjayRxYSNsJHFhI20kcWEjbiRxYSNvJHFhI3AkcWEjcSRxYSNyJHFhI3MkcWEjdSRxYSN3JHFhI3kkcWEjeiRxYSN9JHFhKFskcWEobSRxYSh0JHFhKHUkcWEhWSRxYSFaJHFhfk99KXpPIVApe09QJHNhUiRzYVskc2FrJHNhbyRzYSFpJHNhIW0kc2EjTyRzYSNrJHNhI2wkc2EjbSRzYSNuJHNhI28kc2EjcCRzYSNxJHNhI3Ikc2EjcyRzYSN1JHNhI3ckc2EjeSRzYSN6JHNhI30kc2EoWyRzYShtJHNhKHQkc2EodSRzYSFZJHNhIVokc2F+T2s9Vk99KXpPIVApe08odCR9Tyh1JVBPfk9QJVJhUiVSYVslUmFvJVJhIWklUmEhbSVSYSNPJVJhI2slUmEjbCVSYSNtJVJhI24lUmEjbyVSYSNwJVJhI3ElUmEjciVSYSNzJVJhI3UlUmEjdyVSYSN5JVJhI3olUmEjfSVSYShbJVJhKG0lUmEhWSVSYSFaJVJhflAmTmxPI30kbHEhWSRscSFaJGxxflAjQWJPI30kbXEhWSRtcSFaJG1xflAjQWJPIVo5U09+TyN9OVRPflAhMGtPIWQjdk8hWSdhaSFoJ2Fpfk8hZCN2TyhtJ21PIVknYWkhaCdhaX5PIVkvaE8haCh6cX5PIVYnY2khWSdjaX5QIy5hTyFZL3BPIVYoe3F+T285W08hZCN2TyhtJ21Pfk8hVjldT35QIy5hTyFWOV1Pfk8hZCN2TyNzOWJPfk9nKFl5IVkoWXl+UCEwa08hWSdqYSFbJ2phflAjLmFPYSVZcSFbJVlxJ3UlWXEhWSVZcX5QIy5hT1s5ZE9+TyFZMHdPIVopVHF+TyNdOWhPIVknbGEhWidsYX5PIVk1Xk8hWilRaX5QI0FiTyFQNGhPfk8hWzFhTyVmOWxPfk8oUVRPKFRVTyhgOXFPfk8hWTFsTyFaKVJxfk8haDl0T35PIWg5dU9+TyFoOXZPfk8haDl2T35QJVtPI105eU8hWSNleSFaI2V5fk8hWSNleSFaI2V5flAjQWJPJWY6T09+UCYybE8hWyddTyVmOk9Pfk8jfSN7eSFZI3t5IVoje3l+UCNBYk9QJHppUiR6aVskemlvJHppIWkkemkhbSR6aSNPJHppI2skemkjbCR6aSNtJHppI24kemkjbyR6aSNwJHppI3EkemkjciR6aSNzJHppI3UkemkjdyR6aSN5JHppI3okemkjfSR6aShbJHppKG0kemkhWSR6aSFaJHppflAmTmxPfSl6TyFQKXtPKHUlUE9QJ2VhUidlYVsnZWFrJ2VhbydlYSFpJ2VhIW0nZWEjTydlYSNrJ2VhI2wnZWEjbSdlYSNuJ2VhI28nZWEjcCdlYSNxJ2VhI3InZWEjcydlYSN1J2VhI3cnZWEjeSdlYSN6J2VhI30nZWEoWydlYShtJ2VhKHQnZWEhWSdlYSFaJ2Vhfk99KXpPIVApe09QJ2dhUidnYVsnZ2FrJ2dhbydnYSFpJ2dhIW0nZ2EjTydnYSNrJ2dhI2wnZ2EjbSdnYSNuJ2dhI28nZ2EjcCdnYSNxJ2dhI3InZ2EjcydnYSN1J2dhI3cnZ2EjeSdnYSN6J2dhI30nZ2EoWydnYShtJ2dhKHQnZ2EodSdnYSFZJ2dhIVonZ2F+Tyh0JH1PUCVeaVIlXmlbJV5payVeaW8lXml9JV5pIVAlXmkhaSVeaSFtJV5pI08lXmkjayVeaSNsJV5pI20lXmkjbiVeaSNvJV5pI3AlXmkjcSVeaSNyJV5pI3MlXmkjdSVeaSN3JV5pI3klXmkjeiVeaSN9JV5pKFslXmkobSVeaSh1JV5pIVklXmkhWiVeaX5PKHUlUE9QJWBpUiVgaVslYGlrJWBpbyVgaX0lYGkhUCVgaSFpJWBpIW0lYGkjTyVgaSNrJWBpI2wlYGkjbSVgaSNuJWBpI28lYGkjcCVgaSNxJWBpI3IlYGkjcyVgaSN1JWBpI3clYGkjeSVgaSN6JWBpI30lYGkoWyVgaShtJWBpKHQlYGkhWSVgaSFaJWBpfk8jfSRteSFZJG15IVokbXl+UCNBYk8jfSNgeSFZI2B5IVojYHl+UCNBYk8hZCN2TyFZJ2FxIWgnYXF+TyFZL2hPIWgoenl+TyFWJ2NxIVknY3F+UCMuYU9vOllPIWQjdk8obSdtT35PIVY6Wk9+UCMuYU8hVjpaT35PIVkwd08hWilUeX5PIVk1Xk8hWilRcX5PIVsxYU8lZjpjT35PIWg6Zk9+TyVmOmtPflAmMmxPUCR6cVIkenFbJHpxbyR6cSFpJHpxIW0kenEjTyR6cSNrJHpxI2wkenEjbSR6cSNuJHpxI28kenEjcCR6cSNxJHpxI3IkenEjcyR6cSN1JHpxI3ckenEjeSR6cSN6JHpxI30kenEoWyR6cShtJHpxIVkkenEhWiR6cX5QJk5sT30pek8hUCl7Tyh1JVBPUCdmYVInZmFbJ2ZhaydmYW8nZmEhaSdmYSFtJ2ZhI08nZmEjaydmYSNsJ2ZhI20nZmEjbidmYSNvJ2ZhI3AnZmEjcSdmYSNyJ2ZhI3MnZmEjdSdmYSN3J2ZhI3knZmEjeidmYSN9J2ZhKFsnZmEobSdmYSh0J2ZhIVknZmEhWidmYX5PfSl6TyFQKXtPUCdoYVInaGFbJ2hhaydoYW8naGEhaSdoYSFtJ2hhI08naGEjaydoYSNsJ2hhI20naGEjbidoYSNvJ2hhI3AnaGEjcSdoYSNyJ2hhI3MnaGEjdSdoYSN3J2hhI3knaGEjeidoYSN9J2hhKFsnaGEobSdoYSh0J2hhKHUnaGEhWSdoYSFaJ2hhfk9QJHxxUiR8cVskfHFvJHxxIWkkfHEhbSR8cSNPJHxxI2skfHEjbCR8cSNtJHxxI24kfHEjbyR8cSNwJHxxI3EkfHEjciR8cSNzJHxxI3UkfHEjdyR8cSN5JHxxI3okfHEjfSR8cShbJHxxKG0kfHEhWSR8cSFaJHxxflAmTmxPZyViIVohWSViIVojXSViIVojfSViIVp+UCEwa09vOm9PIWQjdk8obSdtT35PIVY6cE9+UCMuYU8hWSdscSFaJ2xxflAjQWJPIVkjZSFaIVojZSFaflAjQWJPI2glYiFaUCViIVpSJWIhWlslYiFaYSViIVpvJWIhWiFZJWIhWiFpJWIhWiFtJWIhWiNPJWIhWiNrJWIhWiNsJWIhWiNtJWIhWiNuJWIhWiNvJWIhWiNwJWIhWiNxJWIhWiNyJWIhWiNzJWIhWiN1JWIhWiN3JWIhWiN5JWIhWiN6JWIhWid1JWIhWihbJWIhWihtJWIhWiFoJWIhWiFWJWIhWidzJWIhWiNdJWIhWnMlYiFaIVslYiFaJWYlYiFaIWQlYiFaflAjLmFPbzp4TyFkI3ZPKG0nbU9+T1AlYiFaUiViIVpbJWIhWm8lYiFaIWklYiFaIW0lYiFaI08lYiFaI2slYiFaI2wlYiFaI20lYiFaI24lYiFaI28lYiFaI3AlYiFaI3ElYiFaI3IlYiFaI3MlYiFaI3UlYiFaI3clYiFaI3klYiFaI3olYiFaI30lYiFaKFslYiFaKG0lYiFaIVklYiFaIVolYiFaflAmTmxPcyhhWH5QMXFPfSVwT35QIShvTyhQIWxPflAhKG9PIVZmWCFZZlgjXWZYflAmK1FPUF1YUl1YW11Yb11YfV1YIVBdWCFZXVghWWZYIWldWCFtXVgjT11YI1BdWCNdXVgjXWZYI2hmWCNrXVgjbF1YI21dWCNuXVgjb11YI3BdWCNxXVgjcl1YI3NdWCN1XVgjd11YI3ldWCN6XVgkUF1YKFtdWChtXVgodF1YKHVdWH5PIWRmWCFoXVghaGZYKG1mWH5QJ0J4T1A7UE9RO1BPU2ZPZDx6T2UhaU9ta09vO1BPcGtPcWtPd2tPeTtQT3s7UE8hUFdPIVRrTyFVa08hW1hPIWY7U08haVpPIWw7UE8hbTtQTyFuO1BPIXA7VE8hcjtXTyF1IWhPJFYha08oTylYTyhRVE8oVFVPKFtWTyhqW08oeTx4T35PIVk7ZE8hWiRvYX5PaCVWT20lV09vJVhPcCR0T3EkdE93JVlPeSVaT3s7b08hUCR7TyFbJHxPIWY9UE8haSR4TyNnO3VPJFYlX08kcjtxTyR0O3NPJHclYE8oTyhyTyhRVE8oVFVPKFskdU8odCR9Tyh1JVBPfk8jdClgT35QJ0duT28hYlgobSFiWH5QIyBaTyFaXVghWmZYflAnQnhPIVZmWCFWJHhYIVlmWCFZJHhYI11mWH5QIS9nTyNoO1hPfk8hZCN2TyNoO1hPfk8jXTtpT35PI3M7XU9+TyNdO3hPIVkoclghWihyWH5PI107aU8hWShwWCFaKHBYfk8jaDt5T35PZzt7T35QITBrTyNoPFJPfk8jaDxTT35PIWQjdk8jaDxUT35PIWQjdk8jaDt5T35PI308VU9+UCNBYk8jaDxWT35PI2g8V09+TyNoPF1Pfk8jaDxeT35PI2g8X09+TyNoPGBPfk8jfTxhT35QITBrTyN9PGJPflAhMGtPI1AjUSNSI1QjVSNYI2YjZyNyKHkkciR0JHclWiVlJWYlZyVuJXAlcyV0JXYleH4neVQjbCFVJ3coUCNtcCNrI25vfSd4JFsneChPJF4oYH5cIixcbiAgZ290bzogXCIkNFEpWFBQUFBQUClZUFApXVApblArTy9QUFBQUDV4UFA2YFBQPFY/bVBAUVBAUVBQUEBRUEJSUEBRUEBRUEBRUEJWUEJbUEJ5UEdyUFBQR3ZQUFBQR3ZKeFBQUEtPS3pQR3ZQR3ZQUE5ZR3ZQUFBHdlBHdlAhIWFHdlAhJXYhJnshJ1VQISd4ISd8ISd4IStZUFBQUFBQUCEreSEme1BQISxaIS1nUCEwakd2R3YhMG8hM3ohOGIhOGIhPGBQUFAhPGhHdlBQUFBQUFBQUFBQIT92UCFBVFBQR3YhQmZQR3ZQR3ZHdkd2R3ZHdlBHdiFDeFAhR1JQIUpXUCFKWyFKZiFKaiFKalAhR09QIUpuIUpuUCFNc1AhTXdHdkd2IU19IyNSQlZAUVBAUVBAUUBRUCMkX0BRQFEjJmpAUSMpWkBRIytgQFFAUSMsTyMuXSMuXSMuYiMuayMuXSMud1AjLl1QQFEjL2FAUSMzU0BRQFE1eFBQUCM2e1BQUCM3ZiM3ZlAjN2ZQIzd8IzdmUFAjOFNQIzd5UCM3eSM4ZyM3eSM5UiM5WDV1KV0jOVspXVAjOWMjOWMjOWNQKV1QKV1QKV1QKV1QUCldUCM5aSM5bFAjOWwpXVAjOXBQIzlzUCldUCldUCldUCldUCldUCldKV1QUCM5eSM6UCM6WyM6YiM6aCM6biM6dCM7UyM7WSM7ZCM7aiM7dCM7eiM8WyM8YiM9UyM9ZiM9bCM9ciM+USM+ZyNAViNAZSNAbCNCUiNCYSNDfCNEWyNEYiNEaCNEbiNEeCNFTyNFVSNFYCNFciNFeFBQUFBQUFBQUFAjRk9QUFBQUFBQI0ZzI0l6I0taI0tiI0tqUFBQJCFzUCQhfCQldCQsXiQsYSQsZCQtUCQtUyQtWiQtY1AkLWkkLWxQJC5ZJC5eJC9VJDBkJDBpJDFQUFAkMVUkMVskMWBQJDFjJDFnJDFrJDJhJDJ4JDNhJDNlJDNoJDNrJDNxJDN0JDN4JDN8UiF8Um9xT1hzdCFaI2QlayZvJnEmciZ0LGsscDF8MlBZIXZRJ10tXTFhNWVRJXJ2USV6eVEmUnxRJmchVlMnVCFlLVRRJ2MhaVMnaSFyIXlVKmUkfCpWKmpRK2kle1ErdiZUUSxbJmFRLVonW1EtZSdkUS1tJ2pRMFIqbFExayxdUjt2O1QlUWRPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWslciZQJmgmayZvJnEmciZ0JngnUSdfJ28oUChSKFgoYCh0KHYoeil5K1IrVixoLGsscC1hLWktdy19Lmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzXjViNW01fTZPNlI2ZjhSOFg4aDhyUyNxXTtRIXIpWiRaJG4nVSlvLHwtUC59MmIzdTVgNl05aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7VSp5JVs7bjtvUStuJX1RLF4mZFEsZSZsUTBtK2FRMHErY1EwfCtvUTFzLGNRM1EuX1E1TzB3UTV0MWxRNnIzVVE3czVQUjh4NnQnT2tPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiVrJXImUCZoJmsmbCZvJnEmciZ0JngnUSdVJ18nbyhQKFIoWChgKHQodih6KW8peStSK1YrYSxoLGsscCx8LVAtYS1pLXctfS5fLmwucy59L2YwYTBnMHYxZDF0MXUxdzF5MXwyUDJSMmIycjJ4M1UzXjN1NWA1YjVtNX02TzZSNl02ZjZ0OFI4WDhoOHI5aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7dCFuUSFyIXYheSF6J1QnWyddJ2knaidrLVQtWi1dLW0xYTVlNWckfCR0aSN2JGIkYyRkJHgkeyVPJVElXSVeJWIpdSl7KX0qUCpSKlUqWypiKnIqcytgK2Mreit9Ll4udy9dL2Uvby9wL3IwVjBYMGQxVzFaMWMzVDN9NFk0YjRtNHU0eDVsNnA3XzdoOFU4dTlUOWI5bDpPOmM6aztnO2g7ajtrO2w7bTtwO3E7cjtzO3Q7dTt8O308TzxQPFI8UzxWPFc8WDxZPFo8WzxdPF48YTxiPHg9UT1SPVU9VlEmVXxRJ1IhZVUnWCVnKlYtV1ErbiV9USxeJmRRMGMqfFEwfCtvUTFSK3VRMXIsYlExcyxjUTVPMHdRNVgxVFE1dDFsUTV3MW5RNXgxcVE3czVQUTd2NVVROGE1elE5Zzd3UjlyOF5ybk9Yc3QhViFaI2QlayZmJm8mcSZyJnQsayxwMXwyUFIsYCZoJnheT1BYWXN0dXZ3eiFaIWAhZyFqIW8jUyNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4layVyJlAmaCZrJmwmbyZxJnImdCZ4J1EnXydvKFIoWChgKHQodih6KW8peStSK1YrYSxoLGsscCx8LVAtYS1pLXctfS5fLmwucy59L2YwYTBnMHYxZDF0MXUxdzF5MXwyUDJSMmIycjJ4M1UzXjN1NWA1YjVtNX02TzZSNl02ZjZ0OFI4WDhoOHI5aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx6PHtbI11XWiNXI1onVShQIWIlaG0jaCNpI2wkeCVjJWYoWShkKGUoZipVKlkqXStUK1UrVyxnLH0tey5SLlMuVC5WL2UvaDJVMnwyfTRRNls2bVEldXhRJXl5UyZPfCZUUSZbIVRRJ2AhaFEnYiFpUShtI3NTK2gleiV7UStsJX1RLFYmX1EsWiZhUy1kJ2MnZFEuYShuUTB1K2lRMHsrb1EwfStwUTFRK3RRMWYsV1MxaixbLF1RMm4tZVE0fTB3UTVSMHpRNVcxU1E1czFrUTdyNVBRN3U1VFE5YzdxUjpeOWQhTyR6aSRkJU8lUSVdJV4lYil9KlAqWypyKnMudy9vMFYwWDBkM300bTlUPHg9UT1SIVMld3khaSF1JXkleiV7J1MnYidjJ2QnaCdyKmQraCtpLVEtZC1lLWwveTB1MmcybjJ1NGRRK2IldVEreyZYUSxPJllRLFkmYVEuYChtUTFlLFZVMWksWixbLF1RM1YuYVE1bjFmUzVyMWoxa1E4XTVzI148fCN2JGIkYyR4JHspdSl7KlIqVSpiK2ArYyt6K30uXi9dL2UvcC9yMVcxWjFjM1Q0WTRiNHU0eDVsNnA3XzdoOFU4dTliOWw6TzpjOms7ajtsO3A7cjt0O3w8TzxSPFY8WDxaPF08YT1VPVZvPH07ZztoO2s7bTtxO3M7dTt9PFA8UzxXPFk8WzxePGJXJVRpJVYqdDx4UyZYIVEmZlEmWSFSUSZaIVNSK3kmViR9JVNpI3YkYiRjJGQkeCR7JU8lUSVdJV4lYil1KXspfSpQKlIqVSpbKmIqcipzK2ArYyt6K30uXi53L10vZS9vL3AvcjBWMFgwZDFXMVoxYzNUM300WTRiNG00dTR4NWw2cDdfN2g4VTh1OVQ5YjlsOk86YzprO2c7aDtqO2s7bDttO3A7cTtyO3M7dDt1O3w7fTxPPFA8UjxTPFY8VzxYPFk8WjxbPF08XjxhPGI8eD1RPVI9VT1WVCl2JHUpd1YqeSVbO247b1cnWCFlJWcqVi1XUyh5I3kjelErXSVwUStzJlFTLlkoaShqUTFbLFBRNG4wYFI3ezVeJ09rT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4layVyJlAmaCZrJmwmbyZxJnImdCZ4J1EnVSdfJ28oUChSKFgoYCh0KHYoeilvKXkrUitWK2EsaCxrLHAsfC1QLWEtaS13LX0uXy5sLnMufS9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJiMnIyeDNVM14zdTVgNWI1bTV9Nk82UjZdNmY2dDhSOFg4aDhyOWg5eTtQO1M7VDtXO1g7WTtaO1s7XTteO187YDthO2I7YztkO2Y7aTt2O3g7eTt7PFQ8VTxfPGA8eyRpJF5jI1kjZSVvJXElcyhPKFUocCh1KH0pTylQKVEpUilTKVQpVSlWKVcpWSlbKV4pYyltK14rci1SLXAtdS16LXwuay5uLnIudC51LnYvWDBlMl0yYDJwMnczXTNiM2MzZDNlM2YzZzNoM2kzajNrM2wzbTNuM3EzcjN5NHI0ezZfNmU2ajZ5Nno3VDdVN304bDhwOHo5UTlSOXs6YDpnO1I8b1QjVFYjVSdQa09QV1hZWnN0dXZ3IVohYCFnIW8jUyNXI1ojZCNvI3UjeCN7JE8kUCRRJFIkUyRUJFUkViRXJFgkWiRfJGEkZSRuJWslciZQJmgmayZsJm8mcSZyJnQmeCdRJ1UnXydvKFAoUihYKGAodCh2KHopbyl5K1IrVithLGgsayxwLHwtUC1hLWktdy19Ll8ubC5zLn0vZjBhMGcwdjFkMXQxdTF3MXkxfDJQMlIyYjJyMngzVTNeM3U1YDViNW01fTZPNlI2XTZmNnQ4UjhYOGg4cjloOXk7UDtTO1Q7VztYO1k7WjtbO107XjtfO2A7YTtiO2M7ZDtmO2k7djt4O3k7ezxUPFU8XzxgPHtRJ1YhZVIyYy1UdiFuUSFlIXIhdiF5IXonVCdbJ10naSdqJ2stVC1aLV0tbTFhNWU1Z1UqZCR8KlYqalMveSplKmxRMFMqbVExXixSUTRkMFJSNGcwVW5xT1hzdCFaI2QlayZvJnEmciZ0LGsscDF8MlBRJnYhXlEncyF4UyhvI3U7WFErZiV4USxUJltRLFUmXlEtYidhUS1vJ2xTLmoodDt5UzBmK1I8VFEwcytnUTFgLFNRMlQsclEyVixzUTJfLU9RMmwtY1Eyby1nUzRzMGc8X1E0eTB0UzR8MHY8YFE2XjJhUTZiMm1RNmcydFE3cDR6UThtNmBROG42Y1E4cTZoUjl4OGokZCRdYyNZI2UlcSVzKE8oVShwKHUofSlPKVApUSlSKVMpVClVKVYpVylZKVspXiljKW0rXityLVItcC11LXotfC5rLm4uci51LnYvWDBlMl0yYDJwMnczXTNiM2MzZDNlM2YzZzNoM2kzajNrM2wzbTNuM3EzcjN5NHI0ezZfNmU2ajZ5Nno3VDdVN304bDhwOHo5UTlSOXs6YDpnO1I8b1MoayNwJ2ZRKHsjelMrWyVvLnRTLlooaihsUjNPLlsnT2tPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiVrJXImUCZoJmsmbCZvJnEmciZ0JngnUSdVJ18nbyhQKFIoWChgKHQodih6KW8peStSK1YrYSxoLGsscCx8LVAtYS1pLXctfS5fLmwucy59L2YwYTBnMHYxZDF0MXUxdzF5MXwyUDJSMmIycjJ4M1UzXjN1NWA1YjVtNX02TzZSNl02ZjZ0OFI4WDhoOHI5aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7UyNxXTtRUSZxIVhRJnIhWVEmdCFbUSZ1IV1SMXssblEnXiFoUStfJXVRLWAnYFMuXShtK2JRMmotX1czUy5gLmEwbDBuUTZhMmtXNm4zUDNSM1Y0d1U4dDZvNnE2c1U5fTh2OHc4eVM6aTl8OlBROnQ6alI6ejp1VSF3USddLV1UNWMxYTVlIVFfT1haYHN0IVYhWiNkI2glYyVrJmYmaCZvJnEmciZ0KGYsayxwLlMxfDJQXSFwUSFyJ10tXTFhNWVUI3FdO1ElW3tPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWslciZQJmgmayZsJm8mcSZyJnQmeCdRJ18nbyhQKFIoWChgKHQodih6KXkrUitWK2EsaCxrLHAtYS1pLXctfS5fLmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzVTNeNWI1bTV9Nk82UjZmNnQ4UjhYOGg4clMoeSN5I3pTLlkoaShqIXM8ZiRaJG4nVSlvLHwtUC59MmIzdTVgNl05aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7VSRmZClaLGVTKGwjcCdmVSpxJVIoczNwVTBiKnguZjdQUTR3MG1RNm8zUVE4dzZyUjpQOHhtIXRRIXIhdiF5IXonXSdpJ2onay1dLW0xYTVlNWdRJ3EhdVMoYiNnMXZTLWsnaCd0US9rKlhRL3cqZFEydi1uUTRVL2xTNF8veDBTUTdaNFBTN2Y0ZTRnUTlWN1tROVo3Y1E5YDdpUzpYOVs5XVM6bjpZOlpTOnc6bzpwUjp9OnhRI3diUSdwIXVTKGEjZzF2UyhjI20rUVErUyVkUStkJXZRK2olfFUtaidoJ3EndFEuTyhiUS9qKlhRL3YqZFEvfCpnUTByK2VRMWcsWFMycy1rLW5RMnsuV1M0VC9rL2xTNF4vdzBTUTRhL3tRNGMvfVE1cDFoUTZpMnZRN1k0UFE3XjRVUzdiNF80Z1E3ZzRmUThaNXFTOVU3WjdbUTlZN2NROV43ZlE5YTdqUTlvOFtROlY5VlM6VzlaOV1ROls5YFE6ZTlwUzptOlg6WlM6djpuOnBROnw6d1E7Tzp9UTxpPGRRPHQ8bVI8dTxuViF3USddLV0lW2FPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWslciZQJmgmayZsJm8mcSZyJnQmeCdRJ18nbyhQKFIoWChgKHQodih6KXkrUitWK2EsaCxrLHAtYS1pLXctfS5fLmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzVTNeNWI1bTV9Nk82UjZmNnQ4UjhYOGg4clMjd3ohaiFyPGMkWiRuJ1Upbyx8LVAufTJiM3U1YDZdOWg5eTtQO1M7VDtXO1g7WTtaO1s7XTteO187YDthO2I7YztkO2Y7aTt2O3g7eTt7PFQ8VTxfPGA8e1I8aTx6JVtiT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVrJXImUCZoJmsmbCZvJnEmciZ0JngnUSdfJ28oUChSKFgoYCh0KHYoeil5K1IrVithLGgsayxwLWEtaS13LX0uXy5sLnMvZjBhMGcwdjFkMXQxdTF3MXkxfDJQMlIycjJ4M1UzXjViNW01fTZPNlI2ZjZ0OFI4WDhoOHJRJWRqIVMldnkhaSF1JXkleiV7J1MnYidjJ2QnaCdyKmQraCtpLVEtZC1lLWwveTB1MmcybjJ1NGRTJXx6IWpRK2Uld1EsWCZhVzFoLFksWixbLF1VNXExaTFqMWtTOFs1cjVzUTlwOF0hcjxkJFokbidVKW8sfC1QLn0yYjN1NWA2XTloOXk7UDtTO1Q7VztYO1k7WjtbO107XjtfO2A7YTtiO2M7ZDtmO2k7djt4O3k7ezxUPFU8XzxgPHtRPG08eVI8bjx6JU9lT1BYWXN0dXZ3IVohYCFnIW8jUyNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVrJXImUCZoJmsmbyZxJnImdCZ4J1EnXydvKFIoWChgKHQodih6KXkrUitWK2EsaCxrLHAtYS1pLXctfS5fLmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzVTNeNWI1bTV9Nk82UjZmNnQ4UjhYOGg4clkjYldaI1cjWihQIWIlaG0jaCNpI2wkeCVjJWYoWShkKGUoZipVKlkqXStUK1UrVyxnLH0tey5SLlMuVC5WL2UvaDJVMnwyfTRRNls2bVEsZiZsIXA8ZSRaJG4pbyx8LVAufTJiM3U1YDZdOWg5eTtQO1M7VDtXO1g7WTtaO1s7XTteO187YDthO2I7YztkO2Y7aTt2O3g7eTt7PFQ8VTxfPGA8e1I8aCdVVSdZIWUlZypWUjJlLVclUWRPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWslciZQJmgmayZvJnEmciZ0JngnUSdfJ28oUChSKFgoYCh0KHYoeil5K1IrVixoLGsscC1hLWktdy19Lmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzXjViNW01fTZPNlI2ZjhSOFg4aDhyIXIpWiRaJG4nVSlvLHwtUC59MmIzdTVgNl05aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7USxlJmxRMG0rYVEzUS5fUTZyM1VSOHg2dCFiJFRjI1klbyhPKFUocCh1KVYpVylbKWMrci1wLXUtei18Lmsubi9YMGUycDJ3M10zbTRyNHs2ZTZqNnk4cDl7O1IhUDtfKVkpbS1SLnQyXTJgM2IzazNsM3EzeTZfNno3VDdVN304bDh6OVE5UjpgOmc8byFmJFZjI1klbyhPKFUocCh1KVMpVClWKVcpWyljK3ItcC11LXotfC5rLm4vWDBlMnAydzNdM200cjR7NmU2ajZ5OHA5eztSIVQ7YSlZKW0tUi50Ml0yYDNiM2gzaTNrM2wzcTN5Nl82ejdUN1U3fThsOHo5UTlSOmA6ZzxvIV4kWmMjWSVvKE8oVShwKHUpWyljK3ItcC11LXotfC5rLm4vWDBlMnAydzNdM200cjR7NmU2ajZ5OHA5eztSUTN9L2N6PHspWSltLVIudDJdMmAzYjNxM3k2XzZ6N1Q3VTd9OGw4ejlROVI6YDpnPG9RPVE9U1I9Uj1UJ09rT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4layVyJlAmaCZrJmwmbyZxJnImdCZ4J1EnVSdfJ28oUChSKFgoYCh0KHYoeilvKXkrUitWK2EsaCxrLHAsfC1QLWEtaS13LX0uXy5sLnMufS9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJiMnIyeDNVM14zdTVgNWI1bTV9Nk82UjZdNmY2dDhSOFg4aDhyOWg5eTtQO1M7VDtXO1g7WTtaO1s7XTteO187YDthO2I7YztkO2Y7aTt2O3g7eTt7PFQ8VTxfPGA8e1Mkb2gkcFIzdi58J1ZnT1BXWFlaaHN0dXZ3IVohYCFnIW8jUyNXI1ojZCNvI3UjeCN7JE8kUCRRJFIkUyRUJFUkViRXJFgkWiRfJGEkZSRuJHAlayVyJlAmaCZrJmwmbyZxJnImdCZ4J1EnVSdfJ28oUChSKFgoYCh0KHYoeilvKXkrUitWK2EsaCxrLHAsfC1QLWEtaS13LX0uXy5sLnMufC59L2YwYTBnMHYxZDF0MXUxdzF5MXwyUDJSMmIycjJ4M1UzXjN1NWA1YjVtNX02TzZSNl02ZjZ0OFI4WDhoOHI5aDl5O1A7UztUO1c7WDtZO1o7WztdO147XztgO2E7YjtjO2Q7ZjtpO3Y7eDt5O3s8VDxVPF88YDx7VCRrZiRxUSRpZlMpZiRsKWpSKXIkcVQkamYkcVQpaCRsKWonVmhPUFdYWVpoc3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4kcCVrJXImUCZoJmsmbCZvJnEmciZ0JngnUSdVJ18nbyhQKFIoWChgKHQodih6KW8peStSK1YrYSxoLGsscCx8LVAtYS1pLXctfS5fLmwucy58Ln0vZjBhMGcwdjFkMXQxdTF3MXkxfDJQMlIyYjJyMngzVTNeM3U1YDViNW01fTZPNlI2XTZmNnQ4UjhYOGg4cjloOXk7UDtTO1Q7VztYO1k7WjtbO107XjtfO2A7YTtiO2M7ZDtmO2k7djt4O3k7ezxUPFU8XzxgPHtUJG9oJHBRJHJoUilxJHAlW2pPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWslciZQJmgmayZsJm8mcSZyJnQmeCdRJ18nbyhQKFIoWChgKHQodih6KXkrUitWK2EsaCxrLHAtYS1pLXctfS5fLmwucy9mMGEwZzB2MWQxdDF1MXcxeTF8MlAyUjJyMngzVTNeNWI1bTV9Nk82UjZmNnQ4UjhYOGg4ciFzPHkkWiRuJ1Upbyx8LVAufTJiM3U1YDZdOWg5eTtQO1M7VDtXO1g7WTtaO1s7XTteO187YDthO2I7YztkO2Y7aTt2O3g7eTt7PFQ8VTxfPGA8eyNlbE9QWFpzdCFaIWAhbyNTI2QjbyN7JG4layZoJmsmbCZvJnEmciZ0JngnUSdfKHopbytWK2EsaCxrLHAtYS5fLn0vZjBhMWQxdDF1MXcxeTF8MlAyUjNVM3U1YjVtNX02TzZSNnQ4UjhYOGghTyVSaSRkJU8lUSVdJV4lYil9KlAqWypyKnMudy9vMFYwWDBkM300bTlUPHg9UT1SI14ocyN2JGIkYyR4JHspdSl7KlIqVSpiK2ArYyt6K30uXi9dL2UvcC9yMVcxWjFjM1Q0WTRiNHU0eDVsNnA3XzdoOFU4dTliOWw6TzpjOms7ajtsO3A7cjt0O3w8TzxSPFY8WDxaPF08YT1VPVZRKn0lYFEvWSl6bzNwO2c7aDtrO207cTtzO3U7fTxQPFM8VzxZPFs8XjxiIU8keWkkZCVPJVElXSVeJWIpfSpQKlsqcipzLncvbzBWMFgwZDN9NG05VDx4PVE9UlEqXiR6VSpnJHwqVipqUStPJWFRL30qaCNePGsjdiRiJGMkeCR7KXUpeypSKlUqYitgK2Mreit9Ll4vXS9lL3AvcjFXMVoxYzNUNFk0YjR1NHg1bDZwN183aDhVOHU5YjlsOk86YzprO2o7bDtwO3I7dDt8PE88UjxWPFg8WjxdPGE9VT1WbjxsO2c7aDtrO207cTtzO3U7fTxQPFM8VzxZPFs8XjxiUTxwPHxRPHE8fVE8cj1PUjxzPVAhTyVSaSRkJU8lUSVdJV4lYil9KlAqWypyKnMudy9vMFYwWDBkM300bTlUPHg9UT1SI14ocyN2JGIkYyR4JHspdSl7KlIqVSpiK2ArYyt6K30uXi9dL2UvcC9yMVcxWjFjM1Q0WTRiNHU0eDVsNnA3XzdoOFU4dTliOWw6TzpjOms7ajtsO3A7cjt0O3w8TzxSPFY8WDxaPF08YT1VPVZvM3A7ZztoO2s7bTtxO3M7dTt9PFA8UzxXPFk8WzxePGJub09Yc3QhWiNkJWsmbyZxJnImdCxrLHAxfDJQUyphJHsqVVEseSZ7USx6Jn1SNFgvcCR8JVNpI3YkYiRjJGQkeCR7JU8lUSVdJV4lYil1KXspfSpQKlIqVSpbKmIqcipzK2ArYyt6K30uXi53L10vZS9vL3AvcjBWMFgwZDFXMVoxYzNUM300WTRiNG00dTR4NWw2cDdfN2g4VTh1OVQ5YjlsOk86YzprO2c7aDtqO2s7bDttO3A7cTtyO3M7dDt1O3w7fTxPPFA8UjxTPFY8VzxYPFk8WjxbPF08XjxhPGI8eD1RPVI9VT1WUSt8JllRMVksT1E1WzFYUjd6NV1WKmkkfCpWKmpVKmkkfCpWKmpUNWQxYTVlVS97KmYvZjViUzRmMFQ4UlI3ajRoUStkJXZRL3wqZ1EwcitlUTFnLFhRNXAxaFE4WjVxUTlvOFtSOmU5cCFPJU9pJGQlTyVRJV0lXiViKX0qUCpbKnIqcy53L28wVjBYMGQzfTRtOVQ8eD1RPVJyKX0kdilhKk8qcCtQL24wWjBbM3M0VjRxN1g3azpVPGo8djx3UzBWKm8wVyNeO2ojdiRiJGMkeCR7KXUpeypSKlUqYitgK2Mreit9Ll4vXS9lL3AvcjFXMVoxYzNUNFk0YjR1NHg1bDZwN183aDhVOHU5YjlsOk86YzprO2o7bDtwO3I7dDt8PE88UjxWPFg8WjxdPGE9VT1WbjtrO2c7aDtrO207cTtzO3U7fTxQPFM8VzxZPFs8XjxiIWA7fChxKV8qVypgLmIuZS5pL1UvWi9jL3MwazFWMVgzWTRXNFs1WjVdNnU2eDdgN2Q3bTdvOVg5XzpdOmw9Uz1UYDt9M282ezdPN1M4ezpROlQ6e1M8WC5kM1pUPFk2fTlPIU8lUWkkZCVPJVElXSVeJWIpfSpQKlsqcipzLncvbzBWMFgwZDN9NG05VDx4PVE9UnYqUCR2KWEqUSpvK1AvXy9uMFowWzNzNFY0aTRxN1g3azpVPGo8djx3UzBYKnAwWSNeO2wjdiRiJGMkeCR7KXUpeypSKlUqYitgK2Mreit9Ll4vXS9lL3AvcjFXMVoxYzNUNFk0YjR1NHg1bDZwN183aDhVOHU5YjlsOk86YzprO2o7bDtwO3I7dDt8PE88UjxWPFg8WjxdPGE9VT1WbjttO2c7aDtrO207cTtzO3U7fTxQPFM8VzxZPFs8XjxiIWQ8TyhxKV8qVypgLmMuZC5pL1UvWi9jL3MwazFWMVgzVzNZNFc0WzVaNV02dTZ2Nng3YDdkN203bzlYOV86XTpsPVM9VGQ8UDNvNnw2fTdTOHs4fDpROlI6VDp7UzxaLmUzW1Q8WzdPOVBybk9Yc3QhViFaI2QlayZmJm8mcSZyJnQsayxwMXwyUFEmYyFVUixoJmxybk9Yc3QhViFaI2QlayZmJm8mcSZyJnQsayxwMXwyUFImYyFVUSxRJlpSMVUreXNuT1hzdCFWIVojZCVrJmYmbyZxJnImdCxrLHAxfDJQUTFiLFZTNWsxZTFmVThUNWk1ajVuUzlrOFY4V1M6YTlqOW1ROnE6YlI6eTpyUSZqIVZSLGEmZlI1dzFuUyZPfCZUUjB9K3BRJm8hV1IsayZwUixxJnVUMX0scDJQUix1JnZRLHQmdlIyVyx1USd2IXtSLXEndlNzT3RRI2RYVCVucyNkUSNPVFIneCNPUSNSVVIneiNSUSl3JHVSL1Ypd1EjVVZSJ3wjVVEjWFdVKFMjWChULXhRKFQjWVIteChVUS1VJ1ZSMmQtVVEubSh1UzNfLm0zYFIzYC5uUS1dJ11SMmgtXVkhclEnXS1dMWE1ZVInZyFyUS54KWFSM3QueFUjX1clZipVVShaI18oWy15UShbI2BSLXkoVlEtWCdZUjJmLVh0YE9Yc3QhViFaI2QlayZmJmgmbyZxJnImdCxrLHAxfDJQUyNoWiVjVSNyYCNoLlNSLlMoZlEoZyNqUS5QKGNXLlgoZy5QMnk2a1EyeS5RUjZrMnpRKWokbFIvTylqUSRwaFIpcCRwUSRgY1UpXSRgLXQ7ZVEtdDtSUjtlKW1RL2kqWFc0Ui9pNFM3XTlXVTRTL2ovay9sUzddNFQ0VVI5VzdeJFopfCR2KHEpXylhKlcqYCpvKnAqeip7K1AuZC5lLmcuaC5pL1UvWi9fL2EvYy9uL3MwWjBbMGsxVjFYM1czWDNZM28zczRWNFc0WzRpNGs0cTVaNV02dTZ2Nnc2eDZ9N083UTdSN1M3WDdgN2Q3azdtN284ezh8OH05WDlfOlE6UjpTOlQ6VTpdOmw6ezxqPHY8dz1TPVRRL3EqYFU0Wi9xNF03YVE0XS9zUjdhNFtTKmokfCpWUjBQKmpyKk8kdilhKm8qcCtQL24wWjBbM3M0VjRxN1g3azpVPGo8djx3IWAuYihxKV8qVypgLmQuZS5pL1UvWi9jL3MwazFWMVgzWTRXNFs1WjVdNnU2eDdgN2Q3bTdvOVg5XzpdOmw9Uz1UVS9gKk8uYjZ7YTZ7M282fTdPN1M4ezpROlQ6e1EwVypvUTNaLmRVNGowVzNaOU9SOU82fXYqUSR2KWEqbypwK1AvXy9uMFowWzNzNFY0aTRxN1g3azpVPGo8djx3IWQuYyhxKV8qVypgLmQuZS5pL1UvWi9jL3MwazFWMVgzVzNZNFc0WzVaNV02dTZ2Nng3YDdkN203bzlYOV86XTpsPVM9VFUvYipRLmM2fGU2fDNvNn03TzdTOHs4fDpROlI6VDp7UTBZKnBRM1suZVU0bDBZM1s5UFI5UDdPUSp1JVVSMF4qdVE0djBrUjduNHZRK1glaVIwaitYUTVfMVtTN3w1XzlpUjlpN31RLFMmW1IxXyxTUTVlMWFSOFA1ZVExbSxeUzV1MW04X1I4XzV3UTB4K2xXNVEweDVTN3Q5ZVE1UzB7UTd0NVJSOWU3dVErcSZPUjFPK3FRMlAscFI2VjJQWXJPWHN0I2RRJnMhWlErWiVrUSxqJm9RLGwmcVEsbSZyUSxvJnRRMXosa1MxfSxwMlBSNlUxfFElbXBRJnchX1EmeiFhUSZ8IWJRJ08hY1EnbiF1UStZJWpRK2YleFEreCZVUSxgJmpRLHcmeVctaCdoJ3AncSd0US1vJ2xRME8qaVEwcytnUzFwLGEsZFEyWCx2UTJZLHlRMloselEyby1nVzJxLWotay1uLXBRNHkwdFE1VjFSUTVZMVZRNW8xZ1E1eTFyUTZUMXtVNmQycDJzMnZRNmcydFE3cDR6UTd4NVhRN3k1WlE4TzVkUThZNXBROGA1eFM4bzZlNmlROHE2aFE5Zjd2UTluOFpROXM4YVE5ejhwUTpfOWdROmQ5b1E6aDl7UjpzOmVRJXh5USdhIWlRJ2whdVUrZyV5JXole1EtTydTVS1jJ2InYydkUy1nJ2gnclEvdSpkUzB0K2graVEyYS1RUzJtLWQtZVEydC1sUTRgL3lRNHowdVE2YDJnUTZjMm5RNmgydVI3ZTRkUyR3aTx4Uip2JVZVJVVpJVY8eFIwXSp0USR2aVMocSN2K2NTKV8kYiRjUSlhJGRRKlckeFMqYCR7KlVRKm8lT1EqcCVRUSp6JV1RKnslXlErUCViUS5kO2pRLmU7bFEuZztwUS5oO3JRLmk7dFEvVSl1Uy9aKXsvXVEvXyl9US9hKlBRL2MqUlEvbipbUy9zKmIvZVEwWipyUTBbKnNoMGsrYC5eMWMzVDVsNnA4VTh1OWw6TzpjOmtRMVYrelExWCt9UTNXO3xRM1g8T1EzWTxSUzNvO2c7aFEzcy53UTRWL29RNFcvcFE0Wy9yUTRpMFZRNGswWFE0cTBkUTVaMVdRNV0xWlE2dTxWUTZ2PFhRNnc8WlE2eDxdUTZ9O2tRN087bVE3UTtxUTdSO3NRN1M7dVE3WDN9UTdgNFlRN2Q0YlE3azRtUTdtNHVRN280eFE4ezxTUTh8O31ROH08UFE5WDdfUTlfN2hROlE8V1E6UjxZUTpTPFtROlQ8XlE6VTlUUTpdOWJROmw8YVE6ezxiUTxqPHhRPHY9UVE8dz1SUT1TPVVSPVQ9VlEqeCVbUS5mO25SN1A7b25wT1hzdCFaI2QlayZvJnEmciZ0LGsscDF8MlBRIWZQUyNmWiNvUSZ5IWBVJ2UhbzViOFJRJ3sjU1EofCN7USluJG5TLGQmaCZrUSxpJmxRLHYmeFEseydRUS1fJ19RLnAoelEvUylvUzBoK1YvZlEwbithUTF4LGhRMmstYVEzUi5fUTN4Ln1RNG8wYVE1ajFkUTV7MXRRNXwxdVE2UTF3UTZTMXlRNlgyUlE2czNVUTdWM3VROFc1bVE4ZDV9UThlNk9ROGc2UlE4eTZ0UTltOFhSOXc4aCNZY09QWFpzdCFaIWAhbyNkI28jeyVrJmgmayZsJm8mcSZyJnQmeCdRJ18oeitWK2EsaCxrLHAtYS5fL2YwYTFkMXQxdTF3MXkxfDJQMlIzVTViNW01fTZPNlI2dDhSOFg4aFEjWVdRI2VZUSVvdVElcXZTJXN3IWdTKE8jVyhSUShVI1pRKHAjdVEodSN4USh9JE9RKU8kUFEpUCRRUSlRJFJRKVIkU1EpUyRUUSlUJFVRKVUkVlEpViRXUSlXJFhRKVkkWlEpWyRfUSleJGFRKWMkZVcpbSRuKW8ufTN1USteJXJRK3ImUFMtUidVMmJRLXAnb1MtdShQLXdRLXooWFEtfChgUS5rKHRRLm4odlEucjtQUS50O1NRLnU7VFEudjtXUS9YKXlRMGUrUlEyXSx8UTJgLVBRMnAtaVEydy19UTNdLmxRM2I7WFEzYztZUTNkO1pRM2U7W1EzZjtdUTNnO15RM2g7X1EzaTtgUTNqO2FRM2s7YlEzbDtjUTNtLnNRM247ZlEzcTtpUTNyO3ZRM3k7ZFE0cjBnUTR7MHZRNl87eFE2ZTJyUTZqMnhRNnkzXlE2ejt5UTdUO3tRN1U8VFE3fTVgUThsNl1ROHA2ZlE4ejxVUTlRPF9ROVI8YFE5ezhyUTpgOWhROmc5eVE7UiNTUjxvPHtSI1tXUidXIWVsIXRRIXIhdiF5IXonXSdpJ2onay1dLW0xYTVlNWdTJ1MhZS1UUy1RJ1QnW1IyZy1aUih3I3hRIWZRVC1bJ10tXV0hcVEhciddLV0xYTVlUSNwXVInZjtRUiliJGRZIXVRJ10tXTFhNWVRJ2ghclMnciF2IXlTJ3QhejVnUy1sJ2knalEtbidrUjJ1LW1UI2taJWNTI2paJWNTJWltLGdVKGMjaCNpI2xTLlEoZChlUS5VKGZRMGkrV1Eyei5SVTJ7LlMuVC5WUzZsMnwyfVI4czZtZCNeVyNXI1olZihQKFkqVStULXsvZXIjZ1ptI2gjaSNsJWMoZChlKGYrVy5SLlMuVC5WMnwyfTZtUypYJHgqXVEvbCpZUTF2LGdRMl4sfVE0UC9oUTZaMlVRN1s0UVE4azZbVDxnJ1UrVVYjYVclZipVVSNgVyVmKlVTKFEjVyhZVShWI1orVC9lUy1TJ1UrVVQtdihQLXtWJ1ohZSVnKlZRJGxmUil0JHFUKWkkbClqUjN3LnxUKlokeCpdVCpjJHsqVVEwbCtgUTNQLl5RNWkxY1E2cTNUUThWNWxROHY2cFE5ajhVUTl8OHVROmI5bFE6ajpPUTpyOmNSOnU6a25xT1hzdCFaI2QlayZvJnEmciZ0LGsscDF8MlBRJmkhVlIsYCZmdG1PWHN0IVUhViFaI2QlayZmJm8mcSZyJnQsayxwMXwyUFIsZyZsVCVqbSxnUjFdLFBSLF8mZFEmU3xSK3cmVFIrbSV9VCZtIVcmcFQmbiFXJnBUMk8scDJQXCIsXG4gIG5vZGVOYW1lczogXCLimqAgQXJpdGhPcCBBcml0aE9wID8uIEpTWFN0YXJ0VGFnIExpbmVDb21tZW50IEJsb2NrQ29tbWVudCBTY3JpcHQgSGFzaGJhbmcgRXhwb3J0RGVjbGFyYXRpb24gZXhwb3J0IFN0YXIgYXMgVmFyaWFibGVOYW1lIFN0cmluZyBFc2NhcGUgZnJvbSA7IGRlZmF1bHQgRnVuY3Rpb25EZWNsYXJhdGlvbiBhc3luYyBmdW5jdGlvbiBWYXJpYWJsZURlZmluaXRpb24gPiA8IFR5cGVQYXJhbUxpc3QgVHlwZURlZmluaXRpb24gZXh0ZW5kcyBUaGlzVHlwZSB0aGlzIExpdGVyYWxUeXBlIEFyaXRoT3AgTnVtYmVyIEJvb2xlYW5MaXRlcmFsIFRlbXBsYXRlVHlwZSBJbnRlcnBvbGF0aW9uRW5kIEludGVycG9sYXRpb24gSW50ZXJwb2xhdGlvblN0YXJ0IE51bGxUeXBlIG51bGwgVm9pZFR5cGUgdm9pZCBUeXBlb2ZUeXBlIHR5cGVvZiBNZW1iZXJFeHByZXNzaW9uIC4gUHJvcGVydHlOYW1lIFsgVGVtcGxhdGVTdHJpbmcgRXNjYXBlIEludGVycG9sYXRpb24gc3VwZXIgUmVnRXhwIF0gQXJyYXlFeHByZXNzaW9uIFNwcmVhZCAsIH0geyBPYmplY3RFeHByZXNzaW9uIFByb3BlcnR5IGFzeW5jIGdldCBzZXQgUHJvcGVydHlEZWZpbml0aW9uIEJsb2NrIDogTmV3VGFyZ2V0IG5ldyBOZXdFeHByZXNzaW9uICkgKCBBcmdMaXN0IFVuYXJ5RXhwcmVzc2lvbiBkZWxldGUgTG9naWNPcCBCaXRPcCBZaWVsZEV4cHJlc3Npb24geWllbGQgQXdhaXRFeHByZXNzaW9uIGF3YWl0IFBhcmVudGhlc2l6ZWRFeHByZXNzaW9uIENsYXNzRXhwcmVzc2lvbiBjbGFzcyBDbGFzc0JvZHkgTWV0aG9kRGVjbGFyYXRpb24gRGVjb3JhdG9yIEAgTWVtYmVyRXhwcmVzc2lvbiBQcml2YXRlUHJvcGVydHlOYW1lIENhbGxFeHByZXNzaW9uIFR5cGVBcmdMaXN0IENvbXBhcmVPcCA8IGRlY2xhcmUgUHJpdmFjeSBzdGF0aWMgYWJzdHJhY3Qgb3ZlcnJpZGUgUHJpdmF0ZVByb3BlcnR5RGVmaW5pdGlvbiBQcm9wZXJ0eURlY2xhcmF0aW9uIHJlYWRvbmx5IGFjY2Vzc29yIE9wdGlvbmFsIFR5cGVBbm5vdGF0aW9uIEVxdWFscyBTdGF0aWNCbG9jayBGdW5jdGlvbkV4cHJlc3Npb24gQXJyb3dGdW5jdGlvbiBQYXJhbUxpc3QgUGFyYW1MaXN0IEFycmF5UGF0dGVybiBPYmplY3RQYXR0ZXJuIFBhdHRlcm5Qcm9wZXJ0eSBQcml2YWN5IHJlYWRvbmx5IEFycm93IE1lbWJlckV4cHJlc3Npb24gQmluYXJ5RXhwcmVzc2lvbiBBcml0aE9wIEFyaXRoT3AgQXJpdGhPcCBBcml0aE9wIEJpdE9wIENvbXBhcmVPcCBpbnN0YW5jZW9mIHNhdGlzZmllcyBpbiBjb25zdCBDb21wYXJlT3AgQml0T3AgQml0T3AgQml0T3AgTG9naWNPcCBMb2dpY09wIENvbmRpdGlvbmFsRXhwcmVzc2lvbiBMb2dpY09wIExvZ2ljT3AgQXNzaWdubWVudEV4cHJlc3Npb24gVXBkYXRlT3AgUG9zdGZpeEV4cHJlc3Npb24gQ2FsbEV4cHJlc3Npb24gSW5zdGFudGlhdGlvbkV4cHJlc3Npb24gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uIER5bmFtaWNJbXBvcnQgaW1wb3J0IEltcG9ydE1ldGEgSlNYRWxlbWVudCBKU1hTZWxmQ2xvc2VFbmRUYWcgSlNYU2VsZkNsb3NpbmdUYWcgSlNYSWRlbnRpZmllciBKU1hCdWlsdGluIEpTWElkZW50aWZpZXIgSlNYTmFtZXNwYWNlZE5hbWUgSlNYTWVtYmVyRXhwcmVzc2lvbiBKU1hTcHJlYWRBdHRyaWJ1dGUgSlNYQXR0cmlidXRlIEpTWEF0dHJpYnV0ZVZhbHVlIEpTWEVzY2FwZSBKU1hFbmRUYWcgSlNYT3BlblRhZyBKU1hGcmFnbWVudFRhZyBKU1hUZXh0IEpTWEVzY2FwZSBKU1hTdGFydENsb3NlVGFnIEpTWENsb3NlVGFnIFByZWZpeENhc3QgQXJyb3dGdW5jdGlvbiBUeXBlUGFyYW1MaXN0IFNlcXVlbmNlRXhwcmVzc2lvbiBJbnN0YW50aWF0aW9uRXhwcmVzc2lvbiBLZXlvZlR5cGUga2V5b2YgVW5pcXVlVHlwZSB1bmlxdWUgSW1wb3J0VHlwZSBJbmZlcnJlZFR5cGUgaW5mZXIgVHlwZU5hbWUgUGFyZW50aGVzaXplZFR5cGUgRnVuY3Rpb25TaWduYXR1cmUgUGFyYW1MaXN0IE5ld1NpZ25hdHVyZSBJbmRleGVkVHlwZSBUdXBsZVR5cGUgTGFiZWwgQXJyYXlUeXBlIFJlYWRvbmx5VHlwZSBPYmplY3RUeXBlIE1ldGhvZFR5cGUgUHJvcGVydHlUeXBlIEluZGV4U2lnbmF0dXJlIFByb3BlcnR5RGVmaW5pdGlvbiBDYWxsU2lnbmF0dXJlIFR5cGVQcmVkaWNhdGUgaXMgTmV3U2lnbmF0dXJlIG5ldyBVbmlvblR5cGUgTG9naWNPcCBJbnRlcnNlY3Rpb25UeXBlIExvZ2ljT3AgQ29uZGl0aW9uYWxUeXBlIFBhcmFtZXRlcml6ZWRUeXBlIENsYXNzRGVjbGFyYXRpb24gYWJzdHJhY3QgaW1wbGVtZW50cyB0eXBlIFZhcmlhYmxlRGVjbGFyYXRpb24gbGV0IHZhciB1c2luZyBUeXBlQWxpYXNEZWNsYXJhdGlvbiBJbnRlcmZhY2VEZWNsYXJhdGlvbiBpbnRlcmZhY2UgRW51bURlY2xhcmF0aW9uIGVudW0gRW51bUJvZHkgTmFtZXNwYWNlRGVjbGFyYXRpb24gbmFtZXNwYWNlIG1vZHVsZSBBbWJpZW50RGVjbGFyYXRpb24gZGVjbGFyZSBHbG9iYWxEZWNsYXJhdGlvbiBnbG9iYWwgQ2xhc3NEZWNsYXJhdGlvbiBDbGFzc0JvZHkgQW1iaWVudEZ1bmN0aW9uRGVjbGFyYXRpb24gRXhwb3J0R3JvdXAgVmFyaWFibGVOYW1lIFZhcmlhYmxlTmFtZSBJbXBvcnREZWNsYXJhdGlvbiBJbXBvcnRHcm91cCBGb3JTdGF0ZW1lbnQgZm9yIEZvclNwZWMgRm9ySW5TcGVjIEZvck9mU3BlYyBvZiBXaGlsZVN0YXRlbWVudCB3aGlsZSBXaXRoU3RhdGVtZW50IHdpdGggRG9TdGF0ZW1lbnQgZG8gSWZTdGF0ZW1lbnQgaWYgZWxzZSBTd2l0Y2hTdGF0ZW1lbnQgc3dpdGNoIFN3aXRjaEJvZHkgQ2FzZUxhYmVsIGNhc2UgRGVmYXVsdExhYmVsIFRyeVN0YXRlbWVudCB0cnkgQ2F0Y2hDbGF1c2UgY2F0Y2ggRmluYWxseUNsYXVzZSBmaW5hbGx5IFJldHVyblN0YXRlbWVudCByZXR1cm4gVGhyb3dTdGF0ZW1lbnQgdGhyb3cgQnJlYWtTdGF0ZW1lbnQgYnJlYWsgQ29udGludWVTdGF0ZW1lbnQgY29udGludWUgRGVidWdnZXJTdGF0ZW1lbnQgZGVidWdnZXIgTGFiZWxlZFN0YXRlbWVudCBFeHByZXNzaW9uU3RhdGVtZW50IFNpbmdsZUV4cHJlc3Npb24gU2luZ2xlQ2xhc3NJdGVtXCIsXG4gIG1heFRlcm06IDM3NixcbiAgY29udGV4dDogdHJhY2tOZXdsaW5lLFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJpc29sYXRlXCIsIC04LDUsNiwxNCwzNCwzNiw0OCw1MCw1MixcIlwiXSxcbiAgICBbXCJncm91cFwiLCAtMjYsOSwxNywxOSw2NSwyMDQsMjA4LDIxMiwyMTMsMjE1LDIxOCwyMjEsMjMxLDIzMywyMzksMjQxLDI0MywyNDUsMjQ4LDI1NCwyNjAsMjYyLDI2NCwyNjYsMjY4LDI3MCwyNzEsXCJTdGF0ZW1lbnRcIiwtMzQsMTMsMTQsMjksMzIsMzMsMzksNDgsNTEsNTIsNTQsNTksNjcsNjksNzMsNzcsNzksODEsODIsMTA3LDEwOCwxMTcsMTE4LDEzNSwxMzgsMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDYsMTQ3LDE2NiwxNjcsMTY5LFwiRXhwcmVzc2lvblwiLC0yMywyOCwzMCwzNCwzOCw0MCw0MiwxNzEsMTczLDE3NSwxNzYsMTc4LDE3OSwxODAsMTgyLDE4MywxODQsMTg2LDE4NywxODgsMTk4LDIwMCwyMDIsMjAzLFwiVHlwZVwiLC0zLDg1LDEwMCwxMDYsXCJDbGFzc0l0ZW1cIl0sXG4gICAgW1wib3BlbmVkQnlcIiwgMjMsXCI8XCIsMzUsXCJJbnRlcnBvbGF0aW9uU3RhcnRcIiw1MyxcIltcIiw1NyxcIntcIiw3MCxcIihcIiwxNTksXCJKU1hTdGFydENsb3NlVGFnXCJdLFxuICAgIFtcImNsb3NlZEJ5XCIsIDI0LFwiPlwiLDM3LFwiSW50ZXJwb2xhdGlvbkVuZFwiLDQ3LFwiXVwiLDU4LFwifVwiLDcxLFwiKVwiLDE2NCxcIkpTWEVuZFRhZ1wiXVxuICBdLFxuICBwcm9wU291cmNlczogW2pzSGlnaGxpZ2h0XSxcbiAgc2tpcHBlZE5vZGVzOiBbMCw1LDYsMjc0XSxcbiAgcmVwZWF0Tm9kZUNvdW50OiAzNyxcbiAgdG9rZW5EYXRhOiBcIiRGcTA3W1IhYk9YJVpYWStnWVoteVpbK2dbXSVaXV4uY15wJVpwcStncXIvbXJzM2NzdDpfdHVFcnV2SlN2d0xrd3ghIFl4eSEnaXl6IShzenshKX17fCEscXx9IS5PfSFPISxxIU8hUCEvWSFQIVEhOWohUSFSIzpPIVIhWyM8XyFbIV0jSV8hXSFeI0prIV4hXyNLdSFfIWAkIVshYCFhJCR2IWEhYiQqVCFiIWMkLHIhYyF9RXIhfSNPJC18I08jUCQvVyNQI1EkNG8jUSNSJDV5I1IjU0VyI1MjVCQ3VyNUI28kOGIjbyNwJDxyI3AjcSQ9aCNxI3IkPngjciNzJEBVI3MkZiVaJGYkZytnJGcjQllFciNCWSNCWiRBYCNCWiRJU0VyJElTJElfJEFgJElfJEl8RXIkSXwkSX0kRGskSX0kSk8kRGskSk8kSlRFciRKVCRKVSRBYCRKVSRLVkVyJEtWJEtXJEFgJEtXJkZVRXImRlUmRlYkQWAmRlY7J1NFcjsnUzs9YEl8PCVsP0hURXI/SFQ/SFUkQWA/SFVPRXIobiVkXyRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVomaiZoVCRoJmpPIV4mYyFfI28mYyNwOydTJmM7J1M7PWAmdzwlbE8mYyZqJnpQOz1gPCVsJmMnfCdVXSRoJmooVSFiT1kmfVlaJmNadyZ9d3gmY3ghXiZ9IV4hXyd9IV8jTyZ9I08jUCZjI1AjbyZ9I28jcCd9I3A7J1MmfTsnUzs9YChsPCVsTyZ9IWIoU1UoVSFiT1knfVp3J314I08nfSNQOydTJ307J1M7PWAoZjwlbE8nfSFiKGlQOz1gPCVsJ30nfChvUDs9YDwlbCZ9J1soeV0kaCZqKFJwT1kocllaJmNacihycnMmY3MhXihyIV4hXylyIV8jTyhyI08jUCZjI1AjbyhyI28jcClyI3A7J1MocjsnUzs9YCphPCVsTyhycCl3VShScE9ZKXJacilycyNPKXIjUDsnUylyOydTOz1gKlo8JWxPKXJwKl5QOz1gPCVsKXInWypkUDs9YDwlbChyI1MqblgoUnAoVSFiT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4I08qZyNQOydTKmc7J1M7PWArWjwlbE8qZyNTK15QOz1gPCVsKmcobitkUDs9YDwlbCVaMDdbK3JxJGgmaihScChVIWIndzAvbE9YJVpYWStnWVomY1pbK2dbcCVacHErZ3FyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwJGYlWiRmJGcrZyRnI0JZJVojQlkjQlorZyNCWiRJUyVaJElTJElfK2ckSV8kSlQlWiRKVCRKVStnJEpVJEtWJVokS1YkS1crZyRLVyZGVSVaJkZVJkZWK2cmRlY7J1MlWjsnUzs9YCthPCVsP0hUJVo/SFQ/SFUrZz9IVU8lWjA3Wy5TVChTI1MkaCZqJ3gwL2xPIV4mYyFfI28mYyNwOydTJmM7J1M7PWAmdzwlbE8mYzA3Wy5uXyRoJmooUnAoVSFiJ3gwL2xPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWikzcC94YCRoJmohbSksUShScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWAweiFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLVzFWYCN1KENoJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWAyWCFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLVzJkXyN1KENoJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBdDNsXyhRJzpmJGgmaihVIWJPWTRrWVo1cVpyNGtyczduc3c0a3d4NXF4IV40ayFeIV84cCFfI080ayNPI1A1cSNQI280ayNvI3A4cCNwOydTNGs7J1M7PWA6WDwlbE80ayheNHJfJGgmaihVIWJPWTRrWVo1cVpyNGtyczduc3c0a3d4NXF4IV40ayFeIV84cCFfI080ayNPI1A1cSNQI280ayNvI3A4cCNwOydTNGs7J1M7PWA6WDwlbE80ayZ6NXZYJGgmak9yNXFyczZjcyFeNXEhXiFfNnkhXyNvNXEjbyNwNnkjcDsnUzVxOydTOz1gN2g8JWxPNXEmejZqVCRjYCRoJmpPIV4mYyFfI28mYyNwOydTJmM7J1M7PWAmdzwlbE8mY2A2fFRPcjZ5cnM3XXM7J1M2eTsnUzs9YDdiPCVsTzZ5YDdiTyRjYGA3ZVA7PWA8JWw2eSZ6N2tQOz1gPCVsNXEoXjd3XSRjYCRoJmooVSFiT1kmfVlaJmNadyZ9d3gmY3ghXiZ9IV4hXyd9IV8jTyZ9I08jUCZjI1AjbyZ9I28jcCd9I3A7J1MmfTsnUzs9YChsPCVsTyZ9IXI4dVooVSFiT1k4cFlaNnlacjhwcnM5aHN3OHB3eDZ5eCNPOHAjTyNQNnkjUDsnUzhwOydTOz1gOlI8JWxPOHAhcjlvVSRjYChVIWJPWSd9WncnfXgjTyd9I1A7J1MnfTsnUzs9YChmPCVsTyd9IXI6VVA7PWA8JWw4cCheOltQOz1gPCVsNGslOVs6aGgkaCZqKFJwKFUhYk9ZJVpZWiZjWnElWnFyPFNycyZ9c3QlWnR1Q3J1dyVad3gocnghXiVaIV4hXypnIV8hYyVaIWMhfUNyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0NyI1MjVCVaI1Qjb0NyI28jcCpnI3AkZyVaJGc7J1NDcjsnUzs9YEVsPCVsT0NyKHI8X19XUyRoJmooUnAoVSFiT1k8U1laJmNacjxTcnM9XnN3PFN3eEBueCFePFMhXiFfQm0hXyNPPFMjTyNQPmAjUCNvPFMjbyNwQm0jcDsnUzxTOydTOz1gQ2w8JWxPPFMoUT1nXVdTJGgmaihVIWJPWT1eWVomY1p3PV53eD5geCFePV4hXiFfP3EhXyNPPV4jTyNQPmAjUCNvPV4jbyNwP3EjcDsnUz1eOydTOz1gQGg8JWxPPV4mbj5nWFdTJGgmak9ZPmBZWiZjWiFePmAhXiFfP1MhXyNvPmAjbyNwP1MjcDsnUz5gOydTOz1gP2s8JWxPPmBTP1hTV1NPWT9TWjsnUz9TOydTOz1gP2U8JWxPP1NTP2hQOz1gPCVsP1Mmbj9uUDs9YDwlbD5gIWY/eFdXUyhVIWJPWT9xWnc/cXd4P1N4I08/cSNPI1A/UyNQOydTP3E7J1M7PWBAYjwlbE8/cSFmQGVQOz1gPCVsP3EoUUBrUDs9YDwlbD1eJ2BAd11XUyRoJmooUnBPWUBuWVomY1pyQG5ycz5gcyFeQG4hXiFfQXAhXyNPQG4jTyNQPmAjUCNvQG4jbyNwQXAjcDsnU0BuOydTOz1gQmc8JWxPQG50QXdXV1MoUnBPWUFwWnJBcHJzP1NzI09BcCNPI1A/UyNQOydTQXA7J1M7PWBCYTwlbE9BcHRCZFA7PWA8JWxBcCdgQmpQOz1gPCVsQG4jV0J2WVdTKFJwKFUhYk9ZQm1ackJtcnM/cXN3Qm13eEFweCNPQm0jTyNQP1MjUDsnU0JtOydTOz1gQ2Y8JWxPQm0jV0NpUDs9YDwlbEJtKHJDb1A7PWA8JWw8UyU5W0N9aSRoJmooaiUxbChScChVIWJPWSVaWVomY1pyJVpycyZ9c3QlWnR1Q3J1dyVad3gocnghUSVaIVEhW0NyIVshXiVaIV4hXypnIV8hYyVaIWMhfUNyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0NyI1MjVCVaI1Qjb0NyI28jcCpnI3AkZyVaJGc7J1NDcjsnUzs9YEVsPCVsT0NyJTlbRW9QOz1gPCVsQ3IwN1tGUmskaCZqKFJwKFUhYiRbI3QoTywyaihgJElbT1klWllaJmNaciVacnMmfXN0JVp0dUVydXclWnd4KHJ4fSVafSFPR3YhTyFRJVohUSFbRXIhWyFeJVohXiFfKmchXyFjJVohYyF9RXIhfSNPJVojTyNQJmMjUCNSJVojUiNTRXIjUyNUJVojVCNvRXIjbyNwKmcjcCRnJVokZzsnU0VyOydTOz1gSXw8JWxPRXIrZEhSayRoJmooUnAoVSFiJFsjdE9ZJVpZWiZjWnIlWnJzJn1zdCVadHVHdnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0d2IVshXiVaIV4hXypnIV8hYyVaIWMhfUd2IX0jTyVaI08jUCZjI1AjUiVaI1IjU0d2I1MjVCVaI1Qjb0d2I28jcCpnI3AkZyVaJGc7J1NHdjsnUzs9YEl2PCVsT0d2K2RJeVA7PWA8JWxHdjA3W0pQUDs9YDwlbEVyKEtXSl9gJGgmaihScChVIWIjbShDaE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtXS2xfJGgmaiRQKENoKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaLCN4THZhKHUrSlkkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdiVadndNe3d4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLV05XYCRoJmojeShDaChScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBdCEgY18oVCc7VyRoJmooUnBPWSEhYllaISNoWnIhIWJycyEjaHN3ISFid3ghJHh4IV4hIWIhXiFfISV6IV8jTyEhYiNPI1AhI2gjUCNvISFiI28jcCEleiNwOydTISFiOydTOz1gISdjPCVsTyEhYidsISFpXyRoJmooUnBPWSEhYllaISNoWnIhIWJycyEjaHN3ISFid3ghJHh4IV4hIWIhXiFfISV6IV8jTyEhYiNPI1AhI2gjUCNvISFiI28jcCEleiNwOydTISFiOydTOz1gISdjPCVsTyEhYiZ6ISNtWCRoJmpPdyEjaHd4NmN4IV4hI2ghXiFfISRZIV8jbyEjaCNvI3AhJFkjcDsnUyEjaDsnUzs9YCEkcjwlbE8hI2hgISRdVE93ISRZd3g3XXg7J1MhJFk7J1M7PWAhJGw8JWxPISRZYCEkb1A7PWA8JWwhJFkmeiEkdVA7PWA8JWwhI2gnbCElUl0kY2AkaCZqKFJwT1kocllaJmNacihycnMmY3MhXihyIV4hXylyIV8jTyhyI08jUCZjI1AjbyhyI28jcClyI3A7J1MocjsnUzs9YCphPCVsTyhyIVEhJlBaKFJwT1khJXpZWiEkWVpyISV6cnMhJFlzdyElend4ISZyeCNPISV6I08jUCEkWSNQOydTISV6OydTOz1gISddPCVsTyEleiFRISZ5VSRjYChScE9ZKXJacilycyNPKXIjUDsnUylyOydTOz1gKlo8JWxPKXIhUSEnYFA7PWA8JWwhJXonbCEnZlA7PWA8JWwhIWIvNXwhJ3RfIWkvLl4kaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaIyZVISlPXyFoIUxmJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWi0hbiEqW2IkaCZqKFJwKFUhYihQJSZmI24oQ2hPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4eiVaenshK2R7IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLVyErb2AkaCZqKFJwKFUhYiNrKENoT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVorO3ghLHxgJGgmaihScChVIWJvKzRZT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVosJFUhLlpfIVkrSmYkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaMDdbIS9lYyRoJmooUnAoVSFifS4yXk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghTyVaIU8hUCEwcCFQIVElWiFRIVshM1khWyFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVojJXwhMHlhJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IU8lWiFPIVAhMk8hUCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVojJXwhMlpfIVghTF4kaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkITNlZyRoJmooUnAoVSFicCc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghUSVaIVEhWyEzWSFbIV4lWiFeIV8qZyFfIWclWiFnIWghNHwhaCNPJVojTyNQJmMjUCNSJVojUiNTITNZI1MjWCVaI1gjWSE0fCNZI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCE1VmckaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnh7JVp7fCE2bnx9JVp9IU8hNm4hTyFRJVohUSFbIThTIVshXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyE4UyNTI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCE2d2MkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghUSVaIVEhWyE4UyFbIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI1IlWiNSI1MhOFMjUyNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQhOF9jJGgmaihScChVIWJwJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFbIThTIVshXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyE4UyNTI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjA3WyE5dWYkaCZqKFJwKFUhYiNsKENoT1khO1pZWiZjWnIhO1pycyE8bnN3ITtad3ghTGN4eiE7Wnp7Iy19eyFQITtaIVAhUSMvZCFRIV4hO1ohXiFfIyhpIV8hYCM3UyFgIWEjOGkhYSF9ITtaIX0jTyMsZiNPI1AhRHkjUCNvITtaI28jcCMoaSNwOydTITtaOydTOz1gIy13PCVsTyE7Wj9PITtmYiRoJmooUnAoVSFiIVU3YE9ZITtaWVomY1pyITtacnMhPG5zdyE7Wnd4IUxjeCFQITtaIVAhUSMmYCFRIV4hO1ohXiFfIyhpIV8hfSE7WiF9I08jLGYjTyNQIUR5I1AjbyE7WiNvI3AjKGkjcDsnUyE7WjsnUzs9YCMtdzwlbE8hO1o+XiE8d2AkaCZqKFUhYiFVN2BPWSE8bllaJmNadyE8bnd4IT15eCFQITxuIVAhUSFFcSFRIV4hPG4hXiFfIUdyIV8hfSE8biF9I08hS1MjTyNQIUR5I1AjbyE8biNvI3AhR3IjcDsnUyE8bjsnUzs9YCFMXTwlbE8hPG48eiE+UV4kaCZqIVU3YE9ZIT15WVomY1ohUCE9eSFQIVEhPnwhUSFeIT15IV4hXyFAYyFfIX0hPXkhfSNPIUNXI08jUCFEeSNQI28hPXkjbyNwIUBjI3A7J1MhPXk7J1M7PWAhRWs8JWxPIT15PHohP1RkJGgmaiFVN2BPIV4mYyFfI1cmYyNXI1ghPnwjWCNaJmMjWiNbIT58I1sjXSZjI10jXiE+fCNeI2EmYyNhI2IhPnwjYiNnJmMjZyNoIT58I2gjaSZjI2kjaiE+fCNqI2shPnwjayNtJmMjbSNuIT58I24jbyZjI3A7J1MmYzsnUzs9YCZ3PCVsTyZjN2AhQGhYIVU3YE9ZIUBjWiFQIUBjIVAhUSFBVCFRIX0hQGMhfSNPIUFyI08jUCFCcSNQOydTIUBjOydTOz1gIUNRPCVsTyFAYzdgIUFZVyFVN2AjVyNYIUFUI1ojWyFBVCNdI14hQVQjYSNiIUFUI2cjaCFBVCNpI2ohQVQjaiNrIUFUI20jbiFBVDdgIUF1Vk9ZIUFyWiNPIUFyI08jUCFCWyNQI1EhQGMjUTsnUyFBcjsnUzs9YCFCazwlbE8hQXI3YCFCX1NPWSFBclo7J1MhQXI7J1M7PWAhQms8JWxPIUFyN2AhQm5QOz1gPCVsIUFyN2AhQnRTT1khQGNaOydTIUBjOydTOz1gIUNRPCVsTyFAYzdgIUNUUDs9YDwlbCFAYzx6IUNdWyRoJmpPWSFDV1laJmNaIV4hQ1chXiFfIUFyIV8jTyFDVyNPI1AhRFIjUCNRIT15I1EjbyFDVyNvI3AhQXIjcDsnUyFDVzsnUzs9YCFEczwlbE8hQ1c8eiFEV1gkaCZqT1khQ1dZWiZjWiFeIUNXIV4hXyFBciFfI28hQ1cjbyNwIUFyI3A7J1MhQ1c7J1M7PWAhRHM8JWxPIUNXPHohRHZQOz1gPCVsIUNXPHohRU9YJGgmak9ZIT15WVomY1ohXiE9eSFeIV8hQGMhXyNvIT15I28jcCFAYyNwOydTIT15OydTOz1gIUVrPCVsTyE9eTx6IUVuUDs9YDwlbCE9eT5eIUV6bCRoJmooVSFiIVU3YE9ZJn1ZWiZjWncmfXd4JmN4IV4mfSFeIV8nfSFfI08mfSNPI1AmYyNQI1cmfSNXI1ghRXEjWCNaJn0jWiNbIUVxI1sjXSZ9I10jXiFFcSNeI2EmfSNhI2IhRXEjYiNnJn0jZyNoIUVxI2gjaSZ9I2kjaiFFcSNqI2shRXEjayNtJn0jbSNuIUVxI24jbyZ9I28jcCd9I3A7J1MmfTsnUzs9YChsPCVsTyZ9OHIhR3laKFUhYiFVN2BPWSFHclp3IUdyd3ghQGN4IVAhR3IhUCFRIUhsIVEhfSFHciF9I08hSlUjTyNQIUJxI1A7J1MhR3I7J1M7PWAhSnw8JWxPIUdyOHIhSHNlKFUhYiFVN2BPWSd9WncnfXgjTyd9I1AjVyd9I1cjWCFIbCNYI1onfSNaI1shSGwjWyNdJ30jXSNeIUhsI14jYSd9I2EjYiFIbCNiI2cnfSNnI2ghSGwjaCNpJ30jaSNqIUhsI2ojayFIbCNrI20nfSNtI24hSGwjbjsnUyd9OydTOz1gKGY8JWxPJ304ciFKWlgoVSFiT1khSlVadyFKVXd4IUFyeCNPIUpVI08jUCFCWyNQI1EhR3IjUTsnUyFKVTsnUzs9YCFKdjwlbE8hSlU4ciFKeVA7PWA8JWwhSlU4ciFLUFA7PWA8JWwhR3I+XiFLWl4kaCZqKFUhYk9ZIUtTWVomY1p3IUtTd3ghQ1d4IV4hS1MhXiFfIUpVIV8jTyFLUyNPI1AhRFIjUCNRITxuI1EjbyFLUyNvI3AhSlUjcDsnUyFLUzsnUzs9YCFMVjwlbE8hS1M+XiFMWVA7PWA8JWwhS1M+XiFMYFA7PWA8JWwhPG49bCFMbGAkaCZqKFJwIVU3YE9ZIUxjWVomY1pyIUxjcnMhPXlzIVAhTGMhUCFRIU1uIVEhXiFMYyFeIV8jIG8hXyF9IUxjIX0jTyMlUCNPI1AhRHkjUCNvIUxjI28jcCMgbyNwOydTIUxjOydTOz1gIyZZPCVsTyFMYz1sIU13bCRoJmooUnAhVTdgT1kocllaJmNacihycnMmY3MhXihyIV4hXylyIV8jTyhyI08jUCZjI1AjVyhyI1cjWCFNbiNYI1oociNaI1shTW4jWyNdKHIjXSNeIU1uI14jYShyI2EjYiFNbiNiI2cociNnI2ghTW4jaCNpKHIjaSNqIU1uI2ojayFNbiNrI20ociNtI24hTW4jbiNvKHIjbyNwKXIjcDsnUyhyOydTOz1gKmE8JWxPKHI4USMgdlooUnAhVTdgT1kjIG9aciMgb3JzIUBjcyFQIyBvIVAhUSMhaSFRIX0jIG8hfSNPIyRSI08jUCFCcSNQOydTIyBvOydTOz1gIyR5PCVsTyMgbzhRIyFwZShScCFVN2BPWSlyWnIpcnMjTylyI1AjVylyI1cjWCMhaSNYI1opciNaI1sjIWkjWyNdKXIjXSNeIyFpI14jYSlyI2EjYiMhaSNiI2cpciNnI2gjIWkjaCNpKXIjaSNqIyFpI2ojayMhaSNrI20pciNtI24jIWkjbjsnUylyOydTOz1gKlo8JWxPKXI4USMkV1goUnBPWSMkUlpyIyRScnMhQXJzI08jJFIjTyNQIUJbI1AjUSMgbyNROydTIyRSOydTOz1gIyRzPCVsTyMkUjhRIyR2UDs9YDwlbCMkUjhRIyR8UDs9YDwlbCMgbz1sIyVXXiRoJmooUnBPWSMlUFlaJmNaciMlUHJzIUNXcyFeIyVQIV4hXyMkUiFfI08jJVAjTyNQIURSI1AjUSFMYyNRI28jJVAjbyNwIyRSI3A7J1MjJVA7J1M7PWAjJlM8JWxPIyVQPWwjJlZQOz1gPCVsIyVQPWwjJl1QOz1gPCVsIUxjP08jJmtuJGgmaihScChVIWIhVTdgT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNXJVojVyNYIyZgI1gjWiVaI1ojWyMmYCNbI10lWiNdI14jJmAjXiNhJVojYSNiIyZgI2IjZyVaI2cjaCMmYCNoI2klWiNpI2ojJmAjaiNrIyZgI2sjbSVaI20jbiMmYCNuI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjlkIyhyXShScChVIWIhVTdgT1kjKGlaciMoaXJzIUdyc3cjKGl3eCMgb3ghUCMoaSFQIVEjKWshUSF9IyhpIX0jTyMrYCNPI1AhQnEjUDsnUyMoaTsnUzs9YCMsYDwlbE8jKGk5ZCMpdGgoUnAoVSFiIVU3YE9ZKmdacipncnMnfXN3Kmd3eClyeCNPKmcjUCNXKmcjVyNYIylrI1gjWipnI1ojWyMpayNbI10qZyNdI14jKWsjXiNhKmcjYSNiIylrI2IjZypnI2cjaCMpayNoI2kqZyNpI2ojKWsjaiNrIylrI2sjbSpnI20jbiMpayNuOydTKmc7J1M7PWArWjwlbE8qZzlkIytnWihScChVIWJPWSMrYFpyIytgcnMhSlVzdyMrYHd4IyRSeCNPIytgI08jUCFCWyNQI1EjKGkjUTsnUyMrYDsnUzs9YCMsWTwlbE8jK2A5ZCMsXVA7PWA8JWwjK2A5ZCMsY1A7PWA8JWwjKGk/TyMsb2AkaCZqKFJwKFUhYk9ZIyxmWVomY1pyIyxmcnMhS1NzdyMsZnd4IyVQeCFeIyxmIV4hXyMrYCFfI08jLGYjTyNQIURSI1AjUSE7WiNRI28jLGYjbyNwIytgI3A7J1MjLGY7J1M7PWAjLXE8JWxPIyxmP08jLXRQOz1gPCVsIyxmP08jLXpQOz1gPCVsITtaMDdbIy5bYiRoJmooUnAoVSFiJ3kwL2whVTdgT1khO1pZWiZjWnIhO1pycyE8bnN3ITtad3ghTGN4IVAhO1ohUCFRIyZgIVEhXiE7WiFeIV8jKGkhXyF9ITtaIX0jTyMsZiNPI1AhRHkjUCNvITtaI28jcCMoaSNwOydTITtaOydTOz1gIy13PCVsTyE7WjA3WyMvb18kaCZqKFJwKFUhYlQwL2xPWSMvZFlaJmNaciMvZHJzIzBuc3cjL2R3eCM0T3ghXiMvZCFeIV8jNX0hXyNPIy9kI08jUCMxcCNQI28jL2QjbyNwIzV9I3A7J1MjL2Q7J1M7PWAjNnw8JWxPIy9kMDZqIzB3XSRoJmooVSFiVDAvbE9ZIzBuWVomY1p3IzBud3gjMXB4IV4jMG4hXiFfIzNSIV8jTyMwbiNPI1AjMXAjUCNvIzBuI28jcCMzUiNwOydTIzBuOydTOz1gIzN4PCVsTyMwbjA1VyMxd1gkaCZqVDAvbE9ZIzFwWVomY1ohXiMxcCFeIV8jMmQhXyNvIzFwI28jcCMyZCNwOydTIzFwOydTOz1gIzJ7PCVsTyMxcDAvbCMyaVNUMC9sT1kjMmRaOydTIzJkOydTOz1gIzJ1PCVsTyMyZDAvbCMyeFA7PWA8JWwjMmQwNVcjM09QOz1gPCVsIzFwMDFPIzNZVyhVIWJUMC9sT1kjM1JadyMzUnd4IzJkeCNPIzNSI08jUCMyZCNQOydTIzNSOydTOz1gIzNyPCVsTyMzUjAxTyMzdVA7PWA8JWwjM1IwNmojM3tQOz1gPCVsIzBuMDV4IzRYXSRoJmooUnBUMC9sT1kjNE9ZWiZjWnIjNE9ycyMxcHMhXiM0TyFeIV8jNVEhXyNPIzRPI08jUCMxcCNQI28jNE8jbyNwIzVRI3A7J1MjNE87J1M7PWAjNXc8JWxPIzRPMDBeIzVYVyhScFQwL2xPWSM1UVpyIzVRcnMjMmRzI08jNVEjTyNQIzJkI1A7J1MjNVE7J1M7PWAjNXE8JWxPIzVRMDBeIzV0UDs9YDwlbCM1UTA1eCM1elA7PWA8JWwjNE8wMXAjNldZKFJwKFUhYlQwL2xPWSM1fVpyIzV9cnMjM1JzdyM1fXd4IzVReCNPIzV9I08jUCMyZCNQOydTIzV9OydTOz1gIzZ2PCVsTyM1fTAxcCM2eVA7PWA8JWwjNX0wN1sjN1BQOz1gPCVsIy9kKTNoIzdhYiRoJmokUChDaChScChVIWIhVTdgT1khO1pZWiZjWnIhO1pycyE8bnN3ITtad3ghTGN4IVAhO1ohUCFRIyZgIVEhXiE7WiFeIV8jKGkhXyF9ITtaIX0jTyMsZiNPI1AhRHkjUCNvITtaI28jcCMoaSNwOydTITtaOydTOz1gIy13PCVsTyE7WkF0Izh2YiRZI3QkaCZqKFJwKFUhYiFVN2BPWSE7WllaJmNaciE7WnJzITxuc3chO1p3eCFMY3ghUCE7WiFQIVEjJmAhUSFeITtaIV4hXyMoaSFfIX0hO1ohfSNPIyxmI08jUCFEeSNQI28hO1ojbyNwIyhpI3A7J1MhO1o7J1M7PWAjLXc8JWxPITtaJ0FkIzpacCRoJmooUnAoVSFicCc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghTyVaIU8hUCEzWSFQIVElWiFRIVsjPF8hWyFeJVohXiFfKmchXyFnJVohZyFoITR8IWgjTyVaI08jUCZjI1AjUiVaI1IjUyM8XyNTI1UlWiNVI1YjP2kjViNYJVojWCNZITR8I1kjYiVaI2IjYyM+XyNjI2QjQnEjZCNsJVojbCNtI0VzI20jbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkIzxqayRoJmooUnAoVSFicCc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghTyVaIU8hUCEzWSFQIVElWiFRIVsjPF8hWyFeJVohXiFfKmchXyFnJVohZyFoITR8IWgjTyVaI08jUCZjI1AjUiVaI1IjUyM8XyNTI1glWiNYI1khNHwjWSNiJVojYiNjIz5fI2MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkIz5qXyRoJmooUnAoVSFicCc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkIz9yZCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFSI0FRIVIhUyNBUSFTIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI1IlWiNSI1MjQVEjUyNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQjQV1mJGgmaihScChVIWJwJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFSI0FRIVIhUyNBUSFTIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI1IlWiNSI1MjQVEjUyNiJVojYiNjIz5fI2MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkI0J6YyRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFZI0RWIVkhXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyNEViNTI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCNEYmUkaCZqKFJwKFUhYnAnOXRPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVkjRFYhWSFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNSJVojUiNTI0RWI1MjYiVaI2IjYyM+XyNjI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCNFfGckaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghUSVaIVEhWyNHZSFbIV4lWiFeIV8qZyFfIWMlWiFjIWkjR2UhaSNPJVojTyNQJmMjUCNSJVojUiNTI0dlI1MjVCVaI1QjWiNHZSNaI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCNHcGkkaCZqKFJwKFUhYnAnOXRPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVsjR2UhWyFeJVohXiFfKmchXyFjJVohYyFpI0dlIWkjTyVaI08jUCZjI1AjUiVaI1IjUyNHZSNTI1QlWiNUI1ojR2UjWiNiJVojYiNjIz5fI2MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKil4I0lsXyFkJGIkaCZqI30pTHYoUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVopWyNKdl9hbCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVowNGYjTFNeaCMpYCNPLTxVKFJwKFUhYih5N2BPWSpnWnIqZ3JzJ31zdypnd3gpcnghUCpnIVAhUSNNTyFRIV4qZyFeIV8jTXQhXyFgJCBmIWAjTypnI1A7J1MqZzsnUzs9YCtaPCVsTypnKG4jTVhYJGomaihScChVIWJPWSpnWnIqZ3JzJ31zdypnd3gpcngjTypnI1A7J1MqZzsnUzs9YCtaPCVsTypnKEVsI019WiNvKENoKFJwKFUhYk9ZKmdacipncnMnfXN3Kmd3eClyeCFfKmchXyFgI05wIWAjTypnI1A7J1MqZzsnUzs9YCtaPCVsTypnKEVsI055WCRQKENoKFJwKFUhYk9ZKmdacipncnMnfXN3Kmd3eClyeCNPKmcjUDsnUypnOydTOz1gK1o8JWxPKmcoRWwkIG9YI3AoQ2goUnAoVSFiT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4I08qZyNQOydTKmc7J1M7PWArWjwlbE8qZyopeCQhZ2EjXSohWSRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgMHohYCFhJCNsIWEjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtbJCN3XyNoKENsJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiopeCQlVmFnISpyI3AoQ2gkZSN8JGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWAkJlshYCFhJCdmIWEjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtXJCZnXyNwKENoJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLVyQncWEjbyhDaCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCFhJCh2IWEjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtXJClSYCNvKENoJGgmaihScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLZCQqYGEobShDdCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFhJVohYSFiJCtlIWIjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtXJCtwYCRoJmojeihDaChScChVIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiUjYCQsfV8heSRJcCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVowNGYkLlhfIVAwLHYkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKG4kL11aJGgmak8hXiQwTyFeIV8kMGYhXyNpJDBPI2kjaiQwayNqI2wkME8jbCNtJDJeI20jbyQwTyNvI3AkMGYjcDsnUyQwTzsnUzs9YCQ0aTwlbE8kME8obiQwVlRfI1MkaCZqTyFeJmMhXyNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMjUyQwa09fI1MobiQwcFskaCZqTyFRJmMhUSFbJDFmIVshXiZjIV8hYyZjIWMhaSQxZiFpI1QmYyNUI1okMWYjWiNvJmMjbyNwJDN8I3A7J1MmYzsnUzs9YCZ3PCVsTyZjKG4kMWtaJGgmak8hUSZjIVEhWyQyXiFbIV4mYyFfIWMmYyFjIWkkMl4haSNUJmMjVCNaJDJeI1ojbyZjI3A7J1MmYzsnUzs9YCZ3PCVsTyZjKG4kMmNaJGgmak8hUSZjIVEhWyQzVSFbIV4mYyFfIWMmYyFjIWkkM1UhaSNUJmMjVCNaJDNVI1ojbyZjI3A7J1MmYzsnUzs9YCZ3PCVsTyZjKG4kM1paJGgmak8hUSZjIVEhWyQwTyFbIV4mYyFfIWMmYyFjIWkkME8haSNUJmMjVCNaJDBPI1ojbyZjI3A7J1MmYzsnUzs9YCZ3PCVsTyZjI1MkNFBSIVEhWyQ0WSFjIWkkNFkjVCNaJDRZI1MkNF1TIVEhWyQ0WSFjIWkkNFkjVCNaJDRZI3EjciQwZihuJDRsUDs9YDwlbCQwTyMxWyQ0el8hViMpbCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1ckNlVgI3coQ2gkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKztwJDdjXyRoJmooUnAoVSFiKFsrNFFPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjA3WyQ4cWskaCZqKFJwKFUhYihPLDJqJF4jdChgJElbT1klWllaJmNaciVacnMmfXN0JVp0dSQ4YnV3JVp3eChyeH0lWn0hTyQ6ZiFPIVElWiFRIVskOGIhWyFeJVohXiFfKmchXyFjJVohYyF9JDhiIX0jTyVaI08jUCZjI1AjUiVaI1IjUyQ4YiNTI1QlWiNUI28kOGIjbyNwKmcjcCRnJVokZzsnUyQ4YjsnUzs9YCQ8bDwlbE8kOGIrZCQ6cWskaCZqKFJwKFUhYiReI3RPWSVaWVomY1pyJVpycyZ9c3QlWnR1JDpmdXclWnd4KHJ4fSVafSFPJDpmIU8hUSVaIVEhWyQ6ZiFbIV4lWiFeIV8qZyFfIWMlWiFjIX0kOmYhfSNPJVojTyNQJmMjUCNSJVojUiNTJDpmI1MjVCVaI1QjbyQ6ZiNvI3AqZyNwJGclWiRnOydTJDpmOydTOz1gJDxmPCVsTyQ6ZitkJDxpUDs9YDwlbCQ6ZjA3WyQ8b1A7PWA8JWwkOGIjSmYkPHtYIVsjSGIoUnAoVSFiT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4I08qZyNQOydTKmc7J1M7PWArWjwlbE8qZywjeCQ9c2EodCtKWSRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcCNxJCtlI3E7J1MlWjsnUzs9YCthPCVsTyVaKEtkJD9WXyFaKENkc2AkaCZqKFJwKFUhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaP08kQGFfIW43YCRoJmooUnAoVSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVowN1skQXF8JGgmaihScChVIWIndzAvbCRbI3QoTywyaihgJElbT1glWlhZK2dZWiZjWlsrZ1twJVpwcStncXIlWnJzJn1zdCVadHVFcnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0VyIVshXiVaIV4hXypnIV8hYyVaIWMhfUVyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0VyI1MjVCVaI1Qjb0VyI28jcCpnI3AkZiVaJGYkZytnJGcjQllFciNCWSNCWiRBYCNCWiRJU0VyJElTJElfJEFgJElfJEpURXIkSlQkSlUkQWAkSlUkS1ZFciRLViRLVyRBYCRLVyZGVUVyJkZVJkZWJEFgJkZWOydTRXI7J1M7PWBJfDwlbD9IVEVyP0hUP0hVJEFgP0hVT0VyMDdbJER8ayRoJmooUnAoVSFiJ3gwL2wkWyN0KE8sMmooYCRJW09ZJVpZWiZjWnIlWnJzJn1zdCVadHVFcnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0VyIVshXiVaIV4hXypnIV8hYyVaIWMhfUVyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0VyI1MjVCVaI1Qjb0VyI28jcCpnI3AkZyVaJGc7J1NFcjsnUzs9YEl8PCVsT0VyXCIsXG4gIHRva2VuaXplcnM6IFtub1NlbWljb2xvbiwgb3BlcmF0b3JUb2tlbiwganN4LCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIGluc2VydFNlbWljb2xvbiwgbmV3IExvY2FsVG9rZW5Hcm91cChcIiRTflJSdHVbI08jUGcjUyNUI3x+X1AjbyNwYn5nT3V+fmpWTyNpIVAjaSNqIVUjaiNsIVAjbCNtIXEjbTsnUyFQOydTOz1gI3Y8JWxPIVB+IVVPIVJ+fiFYUyFRIVshZSFjIWkhZSNUI1ohZSNvI3AjWn4haFIhUSFbIXEhYyFpIXEjVCNaIXF+IXRSIVEhWyF9IWMhaSF9I1QjWiF9fiNRUiFRIVshUCFjIWkhUCNUI1ohUH4jXlIhUSFbI2chYyFpI2cjVCNaI2d+I2pTIVEhWyNnIWMhaSNnI1QjWiNnI3EjciFQfiN5UDs9YDwlbCFQfiRSTyhefn5cIiwgMTQxLCAzMzUpLCBuZXcgTG9jYWxUb2tlbkdyb3VwKFwian5SUVlaWHp7Xn5eTyd7fn5hUCFQIVFkfmlPJ3x+flwiLCAyNSwgMzE4KV0sXG4gIHRvcFJ1bGVzOiB7XCJTY3JpcHRcIjpbMCw3XSxcIlNpbmdsZUV4cHJlc3Npb25cIjpbMSwyNzJdLFwiU2luZ2xlQ2xhc3NJdGVtXCI6WzIsMjczXX0sXG4gIGRpYWxlY3RzOiB7anN4OiAwLCB0czogMTQ3MjV9LFxuICBkeW5hbWljUHJlY2VkZW5jZXM6IHtcIjc3XCI6MSxcIjc5XCI6MSxcIjkxXCI6MSxcIjE2N1wiOjEsXCIxOTZcIjoxfSxcbiAgc3BlY2lhbGl6ZWQ6IFt7dGVybTogMzIyLCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19pZGVudGlmaWVyW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDMzOCwgZ2V0OiAodmFsdWUpID0+IHNwZWNfd29yZFt2YWx1ZV0gfHwgLTF9LHt0ZXJtOiA5MiwgZ2V0OiAodmFsdWUpID0+IHNwZWNfTGVzc1RoYW5bdmFsdWVdIHx8IC0xfV0sXG4gIHRva2VuUHJlYzogMTQ3NDlcbn0pO1xuXG5leHBvcnQgeyBwYXJzZXIgfTtcbiIsCiAgICAiaW1wb3J0IHsgQW5ub3RhdGlvbiwgU3RhdGVFZmZlY3QsIEVkaXRvclNlbGVjdGlvbiwgY29kZVBvaW50QXQsIGNvZGVQb2ludFNpemUsIGZyb21Db2RlUG9pbnQsIEZhY2V0LCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBQcmVjLCBUZXh0LCBUcmFuc2FjdGlvbiwgTWFwTW9kZSwgUmFuZ2VWYWx1ZSwgUmFuZ2VTZXQsIENoYXJDYXRlZ29yeSB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IERpcmVjdGlvbiwgbG9nRXhjZXB0aW9uLCBzaG93VG9vbHRpcCwgRWRpdG9yVmlldywgVmlld1BsdWdpbiwgZ2V0VG9vbHRpcCwgRGVjb3JhdGlvbiwgV2lkZ2V0VHlwZSwga2V5bWFwIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBzeW50YXhUcmVlLCBpbmRlbnRVbml0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG4vKipcbkFuIGluc3RhbmNlIG9mIHRoaXMgaXMgcGFzc2VkIHRvIGNvbXBsZXRpb24gc291cmNlIGZ1bmN0aW9ucy5cbiovXG5jbGFzcyBDb21wbGV0aW9uQ29udGV4dCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IGNvbXBsZXRpb24gY29udGV4dC4gKE1vc3RseSB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICBjb21wbGV0aW9uIHNvdXJjZXPigJRpbiB0aGUgZWRpdG9yLCB0aGUgZXh0ZW5zaW9uIHdpbGwgY3JlYXRlXG4gICAgdGhlc2UgZm9yIHlvdS4pXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgZWRpdG9yIHN0YXRlIHRoYXQgdGhlIGNvbXBsZXRpb24gaGFwcGVucyBpbi5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIGNvbXBsZXRpb24gaXMgaGFwcGVuaW5nLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciBjb21wbGV0aW9uIHdhcyBhY3RpdmF0ZWQgZXhwbGljaXRseSwgb3JcbiAgICBpbXBsaWNpdGx5IGJ5IHR5cGluZy4gVGhlIHVzdWFsIHdheSB0byByZXNwb25kIHRvIHRoaXMgaXMgdG9cbiAgICBvbmx5IHJldHVybiBjb21wbGV0aW9ucyB3aGVuIGVpdGhlciB0aGVyZSBpcyBwYXJ0IG9mIGFcbiAgICBjb21wbGV0YWJsZSBlbnRpdHkgYmVmb3JlIHRoZSBjdXJzb3IsIG9yIGBleHBsaWNpdGAgaXMgdHJ1ZS5cbiAgICAqL1xuICAgIGV4cGxpY2l0LCBcbiAgICAvKipcbiAgICBUaGUgZWRpdG9yIHZpZXcuIE1heSBiZSB1bmRlZmluZWQgaWYgdGhlIGNvbnRleHQgd2FzIGNyZWF0ZWRcbiAgICBpbiBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBubyBzdWNoIHZpZXcgYXZhaWxhYmxlLCBzdWNoIGFzXG4gICAgaW4gc3luY2hyb25vdXMgdXBkYXRlcyB2aWFcbiAgICBbYENvbXBsZXRpb25SZXN1bHQudXBkYXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvblJlc3VsdC51cGRhdGUpXG4gICAgb3Igd2hlbiBjYWxsZWQgYnkgdGVzdCBjb2RlLlxuICAgICovXG4gICAgdmlldykge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLmV4cGxpY2l0ID0gZXhwbGljaXQ7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hYm9ydExpc3RlbmVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuYWJvcnRPbkRvY0NoYW5nZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGV4dGVudCwgY29udGVudCwgYW5kIChpZiB0aGVyZSBpcyBhIHRva2VuKSB0eXBlIG9mIHRoZVxuICAgIHRva2VuIGJlZm9yZSBgdGhpcy5wb3NgLlxuICAgICovXG4gICAgdG9rZW5CZWZvcmUodHlwZXMpIHtcbiAgICAgICAgbGV0IHRva2VuID0gc3ludGF4VHJlZSh0aGlzLnN0YXRlKS5yZXNvbHZlSW5uZXIodGhpcy5wb3MsIC0xKTtcbiAgICAgICAgd2hpbGUgKHRva2VuICYmIHR5cGVzLmluZGV4T2YodG9rZW4ubmFtZSkgPCAwKVxuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbi5wYXJlbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbiA/IHsgZnJvbTogdG9rZW4uZnJvbSwgdG86IHRoaXMucG9zLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5zdGF0ZS5zbGljZURvYyh0b2tlbi5mcm9tLCB0aGlzLnBvcyksXG4gICAgICAgICAgICB0eXBlOiB0b2tlbi50eXBlIH0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIG1hdGNoIG9mIHRoZSBnaXZlbiBleHByZXNzaW9uIGRpcmVjdGx5IGJlZm9yZSB0aGVcbiAgICBjdXJzb3IuXG4gICAgKi9cbiAgICBtYXRjaEJlZm9yZShleHByKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHRoaXMucG9zKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5tYXgobGluZS5mcm9tLCB0aGlzLnBvcyAtIDI1MCk7XG4gICAgICAgIGxldCBzdHIgPSBsaW5lLnRleHQuc2xpY2Uoc3RhcnQgLSBsaW5lLmZyb20sIHRoaXMucG9zIC0gbGluZS5mcm9tKTtcbiAgICAgICAgbGV0IGZvdW5kID0gc3RyLnNlYXJjaChlbnN1cmVBbmNob3IoZXhwciwgZmFsc2UpKTtcbiAgICAgICAgcmV0dXJuIGZvdW5kIDwgMCA/IG51bGwgOiB7IGZyb206IHN0YXJ0ICsgZm91bmQsIHRvOiB0aGlzLnBvcywgdGV4dDogc3RyLnNsaWNlKGZvdW5kKSB9O1xuICAgIH1cbiAgICAvKipcbiAgICBZaWVsZHMgdHJ1ZSB3aGVuIHRoZSBxdWVyeSBoYXMgYmVlbiBhYm9ydGVkLiBDYW4gYmUgdXNlZnVsIGluXG4gICAgYXN5bmNocm9ub3VzIHF1ZXJpZXMgdG8gYXZvaWQgZG9pbmcgd29yayB0aGF0IHdpbGwgYmUgaWdub3JlZC5cbiAgICAqL1xuICAgIGdldCBhYm9ydGVkKCkgeyByZXR1cm4gdGhpcy5hYm9ydExpc3RlbmVycyA9PSBudWxsOyB9XG4gICAgLyoqXG4gICAgQWxsb3dzIHlvdSB0byByZWdpc3RlciBhYm9ydCBoYW5kbGVycywgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlblxuICAgIHRoZSBxdWVyeSBpc1xuICAgIFthYm9ydGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5Db21wbGV0aW9uQ29udGV4dC5hYm9ydGVkKS5cbiAgICBcbiAgICBCeSBkZWZhdWx0LCBydW5uaW5nIHF1ZXJpZXMgd2lsbCBub3QgYmUgYWJvcnRlZCBmb3IgcmVndWxhclxuICAgIHR5cGluZyBvciBiYWNrc3BhY2luZywgb24gdGhlIGFzc3VtcHRpb24gdGhhdCB0aGV5IGFyZSBsaWtlbHkgdG9cbiAgICByZXR1cm4gYSByZXN1bHQgd2l0aCBhXG4gICAgW2B2YWxpZEZvcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLkNvbXBsZXRpb25SZXN1bHQudmFsaWRGb3IpIGZpZWxkIHRoYXRcbiAgICBhbGxvd3MgdGhlIHJlc3VsdCB0byBiZSB1c2VkIGFmdGVyIGFsbC4gUGFzc2luZyBgb25Eb2NDaGFuZ2U6XG4gICAgdHJ1ZWAgd2lsbCBjYXVzZSB0aGlzIHF1ZXJ5IHRvIGJlIGFib3J0ZWQgZm9yIGFueSBkb2N1bWVudFxuICAgIGNoYW5nZS5cbiAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJhYm9ydFwiICYmIHRoaXMuYWJvcnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9uRG9jQ2hhbmdlKVxuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRPbkRvY0NoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0b1NldChjaGFycykge1xuICAgIGxldCBmbGF0ID0gT2JqZWN0LmtleXMoY2hhcnMpLmpvaW4oXCJcIik7XG4gICAgbGV0IHdvcmRzID0gL1xcdy8udGVzdChmbGF0KTtcbiAgICBpZiAod29yZHMpXG4gICAgICAgIGZsYXQgPSBmbGF0LnJlcGxhY2UoL1xcdy9nLCBcIlwiKTtcbiAgICByZXR1cm4gYFske3dvcmRzID8gXCJcXFxcd1wiIDogXCJcIn0ke2ZsYXQucmVwbGFjZSgvW15cXHdcXHNdL2csIFwiXFxcXCQmXCIpfV1gO1xufVxuZnVuY3Rpb24gcHJlZml4TWF0Y2gob3B0aW9ucykge1xuICAgIGxldCBmaXJzdCA9IE9iamVjdC5jcmVhdGUobnVsbCksIHJlc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IHsgbGFiZWwgfSBvZiBvcHRpb25zKSB7XG4gICAgICAgIGZpcnN0W2xhYmVsWzBdXSA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGFiZWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN0W2xhYmVsW2ldXSA9IHRydWU7XG4gICAgfVxuICAgIGxldCBzb3VyY2UgPSB0b1NldChmaXJzdCkgKyB0b1NldChyZXN0KSArIFwiKiRcIjtcbiAgICByZXR1cm4gW25ldyBSZWdFeHAoXCJeXCIgKyBzb3VyY2UpLCBuZXcgUmVnRXhwKHNvdXJjZSldO1xufVxuLyoqXG5HaXZlbiBhIGEgZml4ZWQgYXJyYXkgb2Ygb3B0aW9ucywgcmV0dXJuIGFuIGF1dG9jb21wbGV0ZXIgdGhhdFxuY29tcGxldGVzIHRoZW0uXG4qL1xuZnVuY3Rpb24gY29tcGxldGVGcm9tTGlzdChsaXN0KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBsaXN0Lm1hcChvID0+IHR5cGVvZiBvID09IFwic3RyaW5nXCIgPyB7IGxhYmVsOiBvIH0gOiBvKTtcbiAgICBsZXQgW3ZhbGlkRm9yLCBtYXRjaF0gPSBvcHRpb25zLmV2ZXJ5KG8gPT4gL15cXHcrJC8udGVzdChvLmxhYmVsKSkgPyBbL1xcdyokLywgL1xcdyskL10gOiBwcmVmaXhNYXRjaChvcHRpb25zKTtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHRva2VuID0gY29udGV4dC5tYXRjaEJlZm9yZShtYXRjaCk7XG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBjb250ZXh0LmV4cGxpY2l0ID8geyBmcm9tOiB0b2tlbiA/IHRva2VuLmZyb20gOiBjb250ZXh0LnBvcywgb3B0aW9ucywgdmFsaWRGb3IgfSA6IG51bGw7XG4gICAgfTtcbn1cbi8qKlxuV3JhcCB0aGUgZ2l2ZW4gY29tcGxldGlvbiBzb3VyY2Ugc28gdGhhdCBpdCB3aWxsIG9ubHkgZmlyZSB3aGVuIHRoZVxuY3Vyc29yIGlzIGluIGEgc3ludGF4IG5vZGUgd2l0aCBvbmUgb2YgdGhlIGdpdmVuIG5hbWVzLlxuKi9cbmZ1bmN0aW9uIGlmSW4obm9kZXMsIHNvdXJjZSkge1xuICAgIHJldHVybiAoY29udGV4dCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChub2Rlcy5pbmRleE9mKHBvcy5uYW1lKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAocG9zLnR5cGUuaXNUb3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbn1cbi8qKlxuV3JhcCB0aGUgZ2l2ZW4gY29tcGxldGlvbiBzb3VyY2Ugc28gdGhhdCBpdCB3aWxsIG5vdCBmaXJlIHdoZW4gdGhlXG5jdXJzb3IgaXMgaW4gYSBzeW50YXggbm9kZSB3aXRoIG9uZSBvZiB0aGUgZ2l2ZW4gbmFtZXMuXG4qL1xuZnVuY3Rpb24gaWZOb3RJbihub2Rlcywgc291cmNlKSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IHN5bnRheFRyZWUoY29udGV4dC5zdGF0ZSkucmVzb2x2ZUlubmVyKGNvbnRleHQucG9zLCAtMSk7IHBvczsgcG9zID0gcG9zLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKG5vZGVzLmluZGV4T2YocG9zLm5hbWUpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocG9zLnR5cGUuaXNUb3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZShjb250ZXh0KTtcbiAgICB9O1xufVxuY2xhc3MgT3B0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wbGV0aW9uLCBzb3VyY2UsIG1hdGNoLCBzY29yZSkge1xuICAgICAgICB0aGlzLmNvbXBsZXRpb24gPSBjb21wbGV0aW9uO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgfVxufVxuZnVuY3Rpb24gY3VyKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5mcm9tOyB9XG4vLyBNYWtlIHN1cmUgdGhlIGdpdmVuIHJlZ2V4cCBoYXMgYSAkIGF0IGl0cyBlbmQgYW5kLCBpZiBgc3RhcnRgIGlzXG4vLyB0cnVlLCBhIF4gYXQgaXRzIHN0YXJ0LlxuZnVuY3Rpb24gZW5zdXJlQW5jaG9yKGV4cHIsIHN0YXJ0KSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCB7IHNvdXJjZSB9ID0gZXhwcjtcbiAgICBsZXQgYWRkU3RhcnQgPSBzdGFydCAmJiBzb3VyY2VbMF0gIT0gXCJeXCIsIGFkZEVuZCA9IHNvdXJjZVtzb3VyY2UubGVuZ3RoIC0gMV0gIT0gXCIkXCI7XG4gICAgaWYgKCFhZGRTdGFydCAmJiAhYWRkRW5kKVxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgJHthZGRTdGFydCA/IFwiXlwiIDogXCJcIn0oPzoke3NvdXJjZX0pJHthZGRFbmQgPyBcIiRcIiA6IFwiXCJ9YCwgKF9hID0gZXhwci5mbGFncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGV4cHIuaWdub3JlQ2FzZSA/IFwiaVwiIDogXCJcIikpO1xufVxuLyoqXG5UaGlzIGFubm90YXRpb24gaXMgYWRkZWQgdG8gdHJhbnNhY3Rpb25zIHRoYXQgYXJlIHByb2R1Y2VkIGJ5XG5waWNraW5nIGEgY29tcGxldGlvbi5cbiovXG5jb25zdCBwaWNrZWRDb21wbGV0aW9uID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcbkhlbHBlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cmFuc2FjdGlvbiBzcGVjIHdoaWNoIGluc2VydHMgYVxuY29tcGxldGlvbidzIHRleHQgaW4gdGhlIG1haW4gc2VsZWN0aW9uIHJhbmdlLCBhbmQgYW55IG90aGVyXG5zZWxlY3Rpb24gcmFuZ2UgdGhhdCBoYXMgdGhlIHNhbWUgdGV4dCBpbiBmcm9udCBvZiBpdC5cbiovXG5mdW5jdGlvbiBpbnNlcnRDb21wbGV0aW9uVGV4dChzdGF0ZSwgdGV4dCwgZnJvbSwgdG8pIHtcbiAgICBsZXQgeyBtYWluIH0gPSBzdGF0ZS5zZWxlY3Rpb24sIGZyb21PZmYgPSBmcm9tIC0gbWFpbi5mcm9tLCB0b09mZiA9IHRvIC0gbWFpbi5mcm9tO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBpZiAocmFuZ2UgIT0gbWFpbiAmJiBmcm9tICE9IHRvICYmXG4gICAgICAgICAgICBzdGF0ZS5zbGljZURvYyhyYW5nZS5mcm9tICsgZnJvbU9mZiwgcmFuZ2UuZnJvbSArIHRvT2ZmKSAhPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0bykpXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tICsgZnJvbU9mZiwgdG86IHRvID09IG1haW4uZnJvbSA/IHJhbmdlLnRvIDogcmFuZ2UuZnJvbSArIHRvT2ZmLCBpbnNlcnQ6IHRleHQgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20gKyBmcm9tT2ZmICsgdGV4dC5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgfSkpLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXQuY29tcGxldGVcIiB9KTtcbn1cbmNvbnN0IFNvdXJjZUNhY2hlID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBhc1NvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlKSlcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICBsZXQga25vd24gPSBTb3VyY2VDYWNoZS5nZXQoc291cmNlKTtcbiAgICBpZiAoIWtub3duKVxuICAgICAgICBTb3VyY2VDYWNoZS5zZXQoc291cmNlLCBrbm93biA9IGNvbXBsZXRlRnJvbUxpc3Qoc291cmNlKSk7XG4gICAgcmV0dXJuIGtub3duO1xufVxuY29uc3Qgc3RhcnRDb21wbGV0aW9uRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuY29uc3QgY2xvc2VDb21wbGV0aW9uRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuXG4vLyBBIHBhdHRlcm4gbWF0Y2hlciBmb3IgZnV6enkgY29tcGxldGlvbiBtYXRjaGluZy4gQ3JlYXRlIGFuIGluc3RhbmNlXG4vLyBvbmNlIGZvciBhIHBhdHRlcm4sIGFuZCB0aGVuIHVzZSB0aGF0IHRvIG1hdGNoIGFueSBudW1iZXIgb2Zcbi8vIGNvbXBsZXRpb25zLlxuY2xhc3MgRnV6enlNYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICAgICAgdGhpcy5mb2xkZWQgPSBbXTtcbiAgICAgICAgLy8gQnVmZmVycyByZXVzZWQgYnkgY2FsbHMgdG8gYG1hdGNoYCB0byB0cmFjayBtYXRjaGVkIGNoYXJhY3RlclxuICAgICAgICAvLyBwb3NpdGlvbnMuXG4gICAgICAgIHRoaXMuYW55ID0gW107XG4gICAgICAgIHRoaXMucHJlY2lzZSA9IFtdO1xuICAgICAgICB0aGlzLmJ5V29yZCA9IFtdO1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgdGhpcy5tYXRjaGVkID0gW107XG4gICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGF0dGVybi5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgY2hhciA9IGNvZGVQb2ludEF0KHBhdHRlcm4sIHApLCBzaXplID0gY29kZVBvaW50U2l6ZShjaGFyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChjaGFyKTtcbiAgICAgICAgICAgIGxldCBwYXJ0ID0gcGF0dGVybi5zbGljZShwLCBwICsgc2l6ZSksIHVwcGVyID0gcGFydC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5mb2xkZWQucHVzaChjb2RlUG9pbnRBdCh1cHBlciA9PSBwYXJ0ID8gcGFydC50b0xvd2VyQ2FzZSgpIDogdXBwZXIsIDApKTtcbiAgICAgICAgICAgIHAgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFzdHJhbCA9IHBhdHRlcm4ubGVuZ3RoICE9IHRoaXMuY2hhcnMubGVuZ3RoO1xuICAgIH1cbiAgICByZXQoc2NvcmUsIG1hdGNoZWQpIHtcbiAgICAgICAgdGhpcy5zY29yZSA9IHNjb3JlO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSBtYXRjaGVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gTWF0Y2hlcyBhIGdpdmVuIHdvcmQgKGNvbXBsZXRpb24pIGFnYWluc3QgdGhlIHBhdHRlcm4gKGlucHV0KS5cbiAgICAvLyBXaWxsIHJldHVybiBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIHdhcyBhIG1hdGNoIGFuZCxcbiAgICAvLyBvbiBzdWNjZXNzLCBzZXQgYHRoaXMuc2NvcmVgIHRvIHRoZSBzY29yZSwgYHRoaXMubWF0Y2hlZGAgdG8gYW5cbiAgICAvLyBhcnJheSBvZiBgZnJvbSwgdG9gIHBhaXJzIGluZGljYXRpbmcgdGhlIG1hdGNoZWQgcGFydHMgb2YgYHdvcmRgLlxuICAgIC8vXG4gICAgLy8gVGhlIHNjb3JlIGlzIGEgbnVtYmVyIHRoYXQgaXMgbW9yZSBuZWdhdGl2ZSB0aGUgd29yc2UgdGhlIG1hdGNoXG4gICAgLy8gaXMuIFNlZSBgUGVuYWx0eWAgYWJvdmUuXG4gICAgbWF0Y2god29yZCkge1xuICAgICAgICBpZiAodGhpcy5wYXR0ZXJuLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0KC0xMDAgLyogUGVuYWx0eS5Ob3RGdWxsICovLCBbXSk7XG4gICAgICAgIGlmICh3b3JkLmxlbmd0aCA8IHRoaXMucGF0dGVybi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHsgY2hhcnMsIGZvbGRlZCwgYW55LCBwcmVjaXNlLCBieVdvcmQgfSA9IHRoaXM7XG4gICAgICAgIC8vIEZvciBzaW5nbGUtY2hhcmFjdGVyIHF1ZXJpZXMsIG9ubHkgbWF0Y2ggd2hlbiB0aGV5IG9jY3VyIHJpZ2h0XG4gICAgICAgIC8vIGF0IHRoZSBzdGFydFxuICAgICAgICBpZiAoY2hhcnMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IGNvZGVQb2ludEF0KHdvcmQsIDApLCBmaXJzdFNpemUgPSBjb2RlUG9pbnRTaXplKGZpcnN0KTtcbiAgICAgICAgICAgIGxldCBzY29yZSA9IGZpcnN0U2l6ZSA9PSB3b3JkLmxlbmd0aCA/IDAgOiAtMTAwIC8qIFBlbmFsdHkuTm90RnVsbCAqLztcbiAgICAgICAgICAgIGlmIChmaXJzdCA9PSBjaGFyc1swXSkgO1xuICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3QgPT0gZm9sZGVkWzBdKVxuICAgICAgICAgICAgICAgIHNjb3JlICs9IC0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldChzY29yZSwgWzAsIGZpcnN0U2l6ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXJlY3QgPSB3b3JkLmluZGV4T2YodGhpcy5wYXR0ZXJuKTtcbiAgICAgICAgaWYgKGRpcmVjdCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0KHdvcmQubGVuZ3RoID09IHRoaXMucGF0dGVybi5sZW5ndGggPyAwIDogLTEwMCAvKiBQZW5hbHR5Lk5vdEZ1bGwgKi8sIFswLCB0aGlzLnBhdHRlcm4ubGVuZ3RoXSk7XG4gICAgICAgIGxldCBsZW4gPSBjaGFycy5sZW5ndGgsIGFueVRvID0gMDtcbiAgICAgICAgaWYgKGRpcmVjdCA8IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBlID0gTWF0aC5taW4od29yZC5sZW5ndGgsIDIwMCk7IGkgPCBlICYmIGFueVRvIDwgbGVuOykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gY29kZVBvaW50QXQod29yZCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gY2hhcnNbYW55VG9dIHx8IG5leHQgPT0gZm9sZGVkW2FueVRvXSlcbiAgICAgICAgICAgICAgICAgICAgYW55W2FueVRvKytdID0gaTtcbiAgICAgICAgICAgICAgICBpICs9IGNvZGVQb2ludFNpemUobmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBObyBtYXRjaCwgZXhpdCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGFueVRvIDwgbGVuKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgdHJhY2tzIHRoZSBleHRlbnQgb2YgdGhlIHByZWNpc2UgKG5vbi1mb2xkZWQsIG5vdFxuICAgICAgICAvLyBuZWNlc3NhcmlseSBhZGphY2VudCkgbWF0Y2hcbiAgICAgICAgbGV0IHByZWNpc2VUbyA9IDA7XG4gICAgICAgIC8vIFRyYWNrcyB3aGV0aGVyIHRoZXJlIGlzIGEgbWF0Y2ggdGhhdCBoaXRzIG9ubHkgY2hhcmFjdGVycyB0aGF0XG4gICAgICAgIC8vIGFwcGVhciB0byBiZSBzdGFydGluZyB3b3Jkcy4gYGJ5V29yZEZvbGRlZGAgaXMgc2V0IHRvIHRydWUgd2hlblxuICAgICAgICAvLyBhIGNhc2UgZm9sZGVkIGNoYXJhY3RlciBpcyBlbmNvdW50ZXJlZCBpbiBzdWNoIGEgbWF0Y2hcbiAgICAgICAgbGV0IGJ5V29yZFRvID0gMCwgYnlXb3JkRm9sZGVkID0gZmFsc2U7XG4gICAgICAgIC8vIElmIHdlJ3ZlIGZvdW5kIGEgcGFydGlhbCBhZGphY2VudCBtYXRjaCwgdGhlc2UgdHJhY2sgaXRzIHN0YXRlXG4gICAgICAgIGxldCBhZGphY2VudFRvID0gMCwgYWRqYWNlbnRTdGFydCA9IC0xLCBhZGphY2VudEVuZCA9IC0xO1xuICAgICAgICBsZXQgaGFzTG93ZXIgPSAvW2Etel0vLnRlc3Qod29yZCksIHdvcmRBZGphY2VudCA9IHRydWU7XG4gICAgICAgIC8vIEdvIG92ZXIgdGhlIG9wdGlvbidzIHRleHQsIHNjYW5uaW5nIGZvciB0aGUgdmFyaW91cyBraW5kcyBvZiBtYXRjaGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBlID0gTWF0aC5taW4od29yZC5sZW5ndGgsIDIwMCksIHByZXZUeXBlID0gMCAvKiBUcC5Ob25Xb3JkICovOyBpIDwgZSAmJiBieVdvcmRUbyA8IGxlbjspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gY29kZVBvaW50QXQod29yZCwgaSk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0IDwgMCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmVjaXNlVG8gPCBsZW4gJiYgbmV4dCA9PSBjaGFyc1twcmVjaXNlVG9dKVxuICAgICAgICAgICAgICAgICAgICBwcmVjaXNlW3ByZWNpc2VUbysrXSA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGFkamFjZW50VG8gPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gY2hhcnNbYWRqYWNlbnRUb10gfHwgbmV4dCA9PSBmb2xkZWRbYWRqYWNlbnRUb10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGphY2VudFRvID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudEVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRUbysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRUbyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2gsIHR5cGUgPSBuZXh0IDwgMHhmZlxuICAgICAgICAgICAgICAgID8gKG5leHQgPj0gNDggJiYgbmV4dCA8PSA1NyB8fCBuZXh0ID49IDk3ICYmIG5leHQgPD0gMTIyID8gMiAvKiBUcC5Mb3dlciAqLyA6IG5leHQgPj0gNjUgJiYgbmV4dCA8PSA5MCA/IDEgLyogVHAuVXBwZXIgKi8gOiAwIC8qIFRwLk5vbldvcmQgKi8pXG4gICAgICAgICAgICAgICAgOiAoKGNoID0gZnJvbUNvZGVQb2ludChuZXh0KSkgIT0gY2gudG9Mb3dlckNhc2UoKSA/IDEgLyogVHAuVXBwZXIgKi8gOiBjaCAhPSBjaC50b1VwcGVyQ2FzZSgpID8gMiAvKiBUcC5Mb3dlciAqLyA6IDAgLyogVHAuTm9uV29yZCAqLyk7XG4gICAgICAgICAgICBpZiAoIWkgfHwgdHlwZSA9PSAxIC8qIFRwLlVwcGVyICovICYmIGhhc0xvd2VyIHx8IHByZXZUeXBlID09IDAgLyogVHAuTm9uV29yZCAqLyAmJiB0eXBlICE9IDAgLyogVHAuTm9uV29yZCAqLykge1xuICAgICAgICAgICAgICAgIGlmIChjaGFyc1tieVdvcmRUb10gPT0gbmV4dCB8fCAoZm9sZGVkW2J5V29yZFRvXSA9PSBuZXh0ICYmIChieVdvcmRGb2xkZWQgPSB0cnVlKSkpXG4gICAgICAgICAgICAgICAgICAgIGJ5V29yZFtieVdvcmRUbysrXSA9IGk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYnlXb3JkLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgd29yZEFkamFjZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2VHlwZSA9IHR5cGU7XG4gICAgICAgICAgICBpICs9IGNvZGVQb2ludFNpemUobmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ5V29yZFRvID09IGxlbiAmJiBieVdvcmRbMF0gPT0gMCAmJiB3b3JkQWRqYWNlbnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQoLTEwMCAvKiBQZW5hbHR5LkJ5V29yZCAqLyArIChieVdvcmRGb2xkZWQgPyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gOiAwKSwgYnlXb3JkLCB3b3JkKTtcbiAgICAgICAgaWYgKGFkamFjZW50VG8gPT0gbGVuICYmIGFkamFjZW50U3RhcnQgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldCgtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gLSB3b3JkLmxlbmd0aCArIChhZGphY2VudEVuZCA9PSB3b3JkLmxlbmd0aCA/IDAgOiAtMTAwIC8qIFBlbmFsdHkuTm90RnVsbCAqLyksIFswLCBhZGphY2VudEVuZF0pO1xuICAgICAgICBpZiAoZGlyZWN0ID4gLTEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXQoLTcwMCAvKiBQZW5hbHR5Lk5vdFN0YXJ0ICovIC0gd29yZC5sZW5ndGgsIFtkaXJlY3QsIGRpcmVjdCArIHRoaXMucGF0dGVybi5sZW5ndGhdKTtcbiAgICAgICAgaWYgKGFkamFjZW50VG8gPT0gbGVuKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0KC0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLyArIC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyAtIHdvcmQubGVuZ3RoLCBbYWRqYWNlbnRTdGFydCwgYWRqYWNlbnRFbmRdKTtcbiAgICAgICAgaWYgKGJ5V29yZFRvID09IGxlbilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdCgtMTAwIC8qIFBlbmFsdHkuQnlXb3JkICovICsgKGJ5V29yZEZvbGRlZCA/IC0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLyA6IDApICsgLTcwMCAvKiBQZW5hbHR5Lk5vdFN0YXJ0ICovICtcbiAgICAgICAgICAgICAgICAod29yZEFkamFjZW50ID8gMCA6IC0xMTAwIC8qIFBlbmFsdHkuR2FwICovKSwgYnlXb3JkLCB3b3JkKTtcbiAgICAgICAgcmV0dXJuIGNoYXJzLmxlbmd0aCA9PSAyID8gbnVsbFxuICAgICAgICAgICAgOiB0aGlzLnJlc3VsdCgoYW55WzBdID8gLTcwMCAvKiBQZW5hbHR5Lk5vdFN0YXJ0ICovIDogMCkgKyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gKyAtMTEwMCAvKiBQZW5hbHR5LkdhcCAqLywgYW55LCB3b3JkKTtcbiAgICB9XG4gICAgcmVzdWx0KHNjb3JlLCBwb3NpdGlvbnMsIHdvcmQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBpID0gMDtcbiAgICAgICAgZm9yIChsZXQgcG9zIG9mIHBvc2l0aW9ucykge1xuICAgICAgICAgICAgbGV0IHRvID0gcG9zICsgKHRoaXMuYXN0cmFsID8gY29kZVBvaW50U2l6ZShjb2RlUG9pbnRBdCh3b3JkLCBwb3MpKSA6IDEpO1xuICAgICAgICAgICAgaWYgKGkgJiYgcmVzdWx0W2kgLSAxXSA9PSBwb3MpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2kgLSAxXSA9IHRvO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2krK10gPSBwb3M7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2krK10gPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXQoc2NvcmUgLSB3b3JkLmxlbmd0aCwgcmVzdWx0KTtcbiAgICB9XG59XG5jbGFzcyBTdHJpY3RNYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMubWF0Y2hlZCA9IFtdO1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgdGhpcy5mb2xkZWQgPSBwYXR0ZXJuLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIG1hdGNoKHdvcmQpIHtcbiAgICAgICAgaWYgKHdvcmQubGVuZ3RoIDwgdGhpcy5wYXR0ZXJuLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgc3RhcnQgPSB3b3JkLnNsaWNlKDAsIHRoaXMucGF0dGVybi5sZW5ndGgpO1xuICAgICAgICBsZXQgbWF0Y2ggPSBzdGFydCA9PSB0aGlzLnBhdHRlcm4gPyAwIDogc3RhcnQudG9Mb3dlckNhc2UoKSA9PSB0aGlzLmZvbGRlZCA/IC0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLyA6IG51bGw7XG4gICAgICAgIGlmIChtYXRjaCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHRoaXMubWF0Y2hlZCA9IFswLCBzdGFydC5sZW5ndGhdO1xuICAgICAgICB0aGlzLnNjb3JlID0gbWF0Y2ggKyAod29yZC5sZW5ndGggPT0gdGhpcy5wYXR0ZXJuLmxlbmd0aCA/IDAgOiAtMTAwIC8qIFBlbmFsdHkuTm90RnVsbCAqLyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuY29uc3QgY29tcGxldGlvbkNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBhY3RpdmF0ZU9uVHlwaW5nOiB0cnVlLFxuICAgICAgICAgICAgYWN0aXZhdGVPbkNvbXBsZXRpb246ICgpID0+IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZhdGVPblR5cGluZ0RlbGF5OiAxMDAsXG4gICAgICAgICAgICBzZWxlY3RPbk9wZW46IHRydWUsXG4gICAgICAgICAgICBvdmVycmlkZTogbnVsbCxcbiAgICAgICAgICAgIGNsb3NlT25CbHVyOiB0cnVlLFxuICAgICAgICAgICAgbWF4UmVuZGVyZWRPcHRpb25zOiAxMDAsXG4gICAgICAgICAgICBkZWZhdWx0S2V5bWFwOiB0cnVlLFxuICAgICAgICAgICAgdG9vbHRpcENsYXNzOiAoKSA9PiBcIlwiLFxuICAgICAgICAgICAgb3B0aW9uQ2xhc3M6ICgpID0+IFwiXCIsXG4gICAgICAgICAgICBhYm92ZUN1cnNvcjogZmFsc2UsXG4gICAgICAgICAgICBpY29uczogdHJ1ZSxcbiAgICAgICAgICAgIGFkZFRvT3B0aW9uczogW10sXG4gICAgICAgICAgICBwb3NpdGlvbkluZm86IGRlZmF1bHRQb3NpdGlvbkluZm8sXG4gICAgICAgICAgICBmaWx0ZXJTdHJpY3Q6IGZhbHNlLFxuICAgICAgICAgICAgY29tcGFyZUNvbXBsZXRpb25zOiAoYSwgYikgPT4gYS5sYWJlbC5sb2NhbGVDb21wYXJlKGIubGFiZWwpLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25EZWxheTogNzUsXG4gICAgICAgICAgICB1cGRhdGVTeW5jVGltZTogMTAwXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHRLZXltYXA6IChhLCBiKSA9PiBhICYmIGIsXG4gICAgICAgICAgICBjbG9zZU9uQmx1cjogKGEsIGIpID0+IGEgJiYgYixcbiAgICAgICAgICAgIGljb25zOiAoYSwgYikgPT4gYSAmJiBiLFxuICAgICAgICAgICAgdG9vbHRpcENsYXNzOiAoYSwgYikgPT4gYyA9PiBqb2luQ2xhc3MoYShjKSwgYihjKSksXG4gICAgICAgICAgICBvcHRpb25DbGFzczogKGEsIGIpID0+IGMgPT4gam9pbkNsYXNzKGEoYyksIGIoYykpLFxuICAgICAgICAgICAgYWRkVG9PcHRpb25zOiAoYSwgYikgPT4gYS5jb25jYXQoYiksXG4gICAgICAgICAgICBmaWx0ZXJTdHJpY3Q6IChhLCBiKSA9PiBhIHx8IGIsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gam9pbkNsYXNzKGEsIGIpIHtcbiAgICByZXR1cm4gYSA/IGIgPyBhICsgXCIgXCIgKyBiIDogYSA6IGI7XG59XG5mdW5jdGlvbiBkZWZhdWx0UG9zaXRpb25JbmZvKHZpZXcsIGxpc3QsIG9wdGlvbiwgaW5mbywgc3BhY2UsIHRvb2x0aXApIHtcbiAgICBsZXQgcnRsID0gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5SVEwsIGxlZnQgPSBydGwsIG5hcnJvdyA9IGZhbHNlO1xuICAgIGxldCBzaWRlID0gXCJ0b3BcIiwgb2Zmc2V0LCBtYXhXaWR0aDtcbiAgICBsZXQgc3BhY2VMZWZ0ID0gbGlzdC5sZWZ0IC0gc3BhY2UubGVmdCwgc3BhY2VSaWdodCA9IHNwYWNlLnJpZ2h0IC0gbGlzdC5yaWdodDtcbiAgICBsZXQgaW5mb1dpZHRoID0gaW5mby5yaWdodCAtIGluZm8ubGVmdCwgaW5mb0hlaWdodCA9IGluZm8uYm90dG9tIC0gaW5mby50b3A7XG4gICAgaWYgKGxlZnQgJiYgc3BhY2VMZWZ0IDwgTWF0aC5taW4oaW5mb1dpZHRoLCBzcGFjZVJpZ2h0KSlcbiAgICAgICAgbGVmdCA9IGZhbHNlO1xuICAgIGVsc2UgaWYgKCFsZWZ0ICYmIHNwYWNlUmlnaHQgPCBNYXRoLm1pbihpbmZvV2lkdGgsIHNwYWNlTGVmdCkpXG4gICAgICAgIGxlZnQgPSB0cnVlO1xuICAgIGlmIChpbmZvV2lkdGggPD0gKGxlZnQgPyBzcGFjZUxlZnQgOiBzcGFjZVJpZ2h0KSkge1xuICAgICAgICBvZmZzZXQgPSBNYXRoLm1heChzcGFjZS50b3AsIE1hdGgubWluKG9wdGlvbi50b3AsIHNwYWNlLmJvdHRvbSAtIGluZm9IZWlnaHQpKSAtIGxpc3QudG9wO1xuICAgICAgICBtYXhXaWR0aCA9IE1hdGgubWluKDQwMCAvKiBJbmZvLldpZHRoICovLCBsZWZ0ID8gc3BhY2VMZWZ0IDogc3BhY2VSaWdodCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuYXJyb3cgPSB0cnVlO1xuICAgICAgICBtYXhXaWR0aCA9IE1hdGgubWluKDQwMCAvKiBJbmZvLldpZHRoICovLCAocnRsID8gbGlzdC5yaWdodCA6IHNwYWNlLnJpZ2h0IC0gbGlzdC5sZWZ0KSAtIDMwIC8qIEluZm8uTWFyZ2luICovKTtcbiAgICAgICAgbGV0IHNwYWNlQmVsb3cgPSBzcGFjZS5ib3R0b20gLSBsaXN0LmJvdHRvbTtcbiAgICAgICAgaWYgKHNwYWNlQmVsb3cgPj0gaW5mb0hlaWdodCB8fCBzcGFjZUJlbG93ID4gbGlzdC50b3ApIHsgLy8gQmVsb3cgdGhlIGNvbXBsZXRpb25cbiAgICAgICAgICAgIG9mZnNldCA9IG9wdGlvbi5ib3R0b20gLSBsaXN0LnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gQWJvdmUgaXRcbiAgICAgICAgICAgIHNpZGUgPSBcImJvdHRvbVwiO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbGlzdC5ib3R0b20gLSBvcHRpb24udG9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzY2FsZVkgPSAobGlzdC5ib3R0b20gLSBsaXN0LnRvcCkgLyB0b29sdGlwLm9mZnNldEhlaWdodDtcbiAgICBsZXQgc2NhbGVYID0gKGxpc3QucmlnaHQgLSBsaXN0LmxlZnQpIC8gdG9vbHRpcC5vZmZzZXRXaWR0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdHlsZTogYCR7c2lkZX06ICR7b2Zmc2V0IC8gc2NhbGVZfXB4OyBtYXgtd2lkdGg6ICR7bWF4V2lkdGggLyBzY2FsZVh9cHhgLFxuICAgICAgICBjbGFzczogXCJjbS1jb21wbGV0aW9uSW5mby1cIiArIChuYXJyb3cgPyAocnRsID8gXCJsZWZ0LW5hcnJvd1wiIDogXCJyaWdodC1uYXJyb3dcIikgOiBsZWZ0ID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gb3B0aW9uQ29udGVudChjb25maWcpIHtcbiAgICBsZXQgY29udGVudCA9IGNvbmZpZy5hZGRUb09wdGlvbnMuc2xpY2UoKTtcbiAgICBpZiAoY29uZmlnLmljb25zKVxuICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgcmVuZGVyKGNvbXBsZXRpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwiY20tY29tcGxldGlvbkljb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRpb24udHlwZSlcbiAgICAgICAgICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKC4uLmNvbXBsZXRpb24udHlwZS5zcGxpdCgvXFxzKy9nKS5tYXAoY2xzID0+IFwiY20tY29tcGxldGlvbkljb24tXCIgKyBjbHMpKTtcbiAgICAgICAgICAgICAgICBpY29uLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWNvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3NpdGlvbjogMjBcbiAgICAgICAgfSk7XG4gICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgcmVuZGVyKGNvbXBsZXRpb24sIF9zLCBfdiwgbWF0Y2gpIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgbGFiZWxFbHQuY2xhc3NOYW1lID0gXCJjbS1jb21wbGV0aW9uTGFiZWxcIjtcbiAgICAgICAgICAgIGxldCBsYWJlbCA9IGNvbXBsZXRpb24uZGlzcGxheUxhYmVsIHx8IGNvbXBsZXRpb24ubGFiZWwsIG9mZiA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdGNoLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IG1hdGNoW2orK10sIHRvID0gbWF0Y2hbaisrXTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+IG9mZilcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxFbHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwuc2xpY2Uob2ZmLCBmcm9tKSkpO1xuICAgICAgICAgICAgICAgIGxldCBzcGFuID0gbGFiZWxFbHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO1xuICAgICAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwuc2xpY2UoZnJvbSwgdG8pKSk7XG4gICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLWNvbXBsZXRpb25NYXRjaGVkVGV4dFwiO1xuICAgICAgICAgICAgICAgIG9mZiA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZiA8IGxhYmVsLmxlbmd0aClcbiAgICAgICAgICAgICAgICBsYWJlbEVsdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsYWJlbC5zbGljZShvZmYpKSk7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWxFbHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiA1MFxuICAgIH0sIHtcbiAgICAgICAgcmVuZGVyKGNvbXBsZXRpb24pIHtcbiAgICAgICAgICAgIGlmICghY29tcGxldGlvbi5kZXRhaWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBsZXQgZGV0YWlsRWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBkZXRhaWxFbHQuY2xhc3NOYW1lID0gXCJjbS1jb21wbGV0aW9uRGV0YWlsXCI7XG4gICAgICAgICAgICBkZXRhaWxFbHQudGV4dENvbnRlbnQgPSBjb21wbGV0aW9uLmRldGFpbDtcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxFbHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiA4MFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50LnNvcnQoKGEsIGIpID0+IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uKS5tYXAoYSA9PiBhLnJlbmRlcik7XG59XG5mdW5jdGlvbiByYW5nZUFyb3VuZFNlbGVjdGVkKHRvdGFsLCBzZWxlY3RlZCwgbWF4KSB7XG4gICAgaWYgKHRvdGFsIDw9IG1heClcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogMCwgdG86IHRvdGFsIH07XG4gICAgaWYgKHNlbGVjdGVkIDwgMClcbiAgICAgICAgc2VsZWN0ZWQgPSAwO1xuICAgIGlmIChzZWxlY3RlZCA8PSAodG90YWwgPj4gMSkpIHtcbiAgICAgICAgbGV0IG9mZiA9IE1hdGguZmxvb3Ioc2VsZWN0ZWQgLyBtYXgpO1xuICAgICAgICByZXR1cm4geyBmcm9tOiBvZmYgKiBtYXgsIHRvOiAob2ZmICsgMSkgKiBtYXggfTtcbiAgICB9XG4gICAgbGV0IG9mZiA9IE1hdGguZmxvb3IoKHRvdGFsIC0gc2VsZWN0ZWQpIC8gbWF4KTtcbiAgICByZXR1cm4geyBmcm9tOiB0b3RhbCAtIChvZmYgKyAxKSAqIG1heCwgdG86IHRvdGFsIC0gb2ZmICogbWF4IH07XG59XG5jbGFzcyBDb21wbGV0aW9uVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc3RhdGVGaWVsZCwgYXBwbHlDb21wbGV0aW9uKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc3RhdGVGaWVsZCA9IHN0YXRlRmllbGQ7XG4gICAgICAgIHRoaXMuYXBwbHlDb21wbGV0aW9uID0gYXBwbHlDb21wbGV0aW9uO1xuICAgICAgICB0aGlzLmluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLmluZm9EZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGFjZUluZm9SZXEgPSB7XG4gICAgICAgICAgICByZWFkOiAoKSA9PiB0aGlzLm1lYXN1cmVJbmZvKCksXG4gICAgICAgICAgICB3cml0ZTogKHBvcykgPT4gdGhpcy5wbGFjZUluZm8ocG9zKSxcbiAgICAgICAgICAgIGtleTogdGhpc1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNwYWNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2xhc3MgPSBcIlwiO1xuICAgICAgICBsZXQgY1N0YXRlID0gdmlldy5zdGF0ZS5maWVsZChzdGF0ZUZpZWxkKTtcbiAgICAgICAgbGV0IHsgb3B0aW9ucywgc2VsZWN0ZWQgfSA9IGNTdGF0ZS5vcGVuO1xuICAgICAgICBsZXQgY29uZmlnID0gdmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5vcHRpb25Db250ZW50ID0gb3B0aW9uQ29udGVudChjb25maWcpO1xuICAgICAgICB0aGlzLm9wdGlvbkNsYXNzID0gY29uZmlnLm9wdGlvbkNsYXNzO1xuICAgICAgICB0aGlzLnRvb2x0aXBDbGFzcyA9IGNvbmZpZy50b29sdGlwQ2xhc3M7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZUFyb3VuZFNlbGVjdGVkKG9wdGlvbnMubGVuZ3RoLCBzZWxlY3RlZCwgY29uZmlnLm1heFJlbmRlcmVkT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS10b29sdGlwLWF1dG9jb21wbGV0ZVwiO1xuICAgICAgICB0aGlzLnVwZGF0ZVRvb2x0aXBDbGFzcyh2aWV3LnN0YXRlKTtcbiAgICAgICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHsgb3B0aW9ucyB9ID0gdmlldy5zdGF0ZS5maWVsZChzdGF0ZUZpZWxkKS5vcGVuO1xuICAgICAgICAgICAgZm9yIChsZXQgZG9tID0gZS50YXJnZXQsIG1hdGNoOyBkb20gJiYgZG9tICE9IHRoaXMuZG9tOyBkb20gPSBkb20ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChkb20ubm9kZU5hbWUgPT0gXCJMSVwiICYmIChtYXRjaCA9IC8tKFxcZCspJC8uZXhlYyhkb20uaWQpKSAmJiArbWF0Y2hbMV0gPCBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29tcGxldGlvbih2aWV3LCBvcHRpb25zWyttYXRjaFsxXV0pO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQodGhpcy5zdGF0ZUZpZWxkLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgJiYgc3RhdGUudG9vbHRpcCAmJiB2aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLmNsb3NlT25CbHVyICYmXG4gICAgICAgICAgICAgICAgZS5yZWxhdGVkVGFyZ2V0ICE9IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogY2xvc2VDb21wbGV0aW9uRWZmZWN0Lm9mKG51bGwpIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaG93T3B0aW9ucyhvcHRpb25zLCBjU3RhdGUuaWQpO1xuICAgIH1cbiAgICBtb3VudCgpIHsgdGhpcy51cGRhdGVTZWwoKTsgfVxuICAgIHNob3dPcHRpb25zKG9wdGlvbnMsIGlkKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3QpXG4gICAgICAgICAgICB0aGlzLmxpc3QucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGlzdEJveChvcHRpb25zLCBpZCwgdGhpcy5yYW5nZSkpO1xuICAgICAgICB0aGlzLmxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmZvKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLnBsYWNlSW5mb1JlcSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHVwZGF0ZS5zdGF0ZS5maWVsZCh0aGlzLnN0YXRlRmllbGQpO1xuICAgICAgICBsZXQgcHJldlN0YXRlID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmllbGQodGhpcy5zdGF0ZUZpZWxkKTtcbiAgICAgICAgdGhpcy51cGRhdGVUb29sdGlwQ2xhc3ModXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKGNTdGF0ZSAhPSBwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgIGxldCB7IG9wdGlvbnMsIHNlbGVjdGVkLCBkaXNhYmxlZCB9ID0gY1N0YXRlLm9wZW47XG4gICAgICAgICAgICBpZiAoIXByZXZTdGF0ZS5vcGVuIHx8IHByZXZTdGF0ZS5vcGVuLm9wdGlvbnMgIT0gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZUFyb3VuZFNlbGVjdGVkKG9wdGlvbnMubGVuZ3RoLCBzZWxlY3RlZCwgdXBkYXRlLnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLm1heFJlbmRlcmVkT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93T3B0aW9ucyhvcHRpb25zLCBjU3RhdGUuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWwoKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCAhPSAoKF9hID0gcHJldlN0YXRlLm9wZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LnRvZ2dsZShcImNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlLWRpc2FibGVkXCIsICEhZGlzYWJsZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVRvb2x0aXBDbGFzcyhzdGF0ZSkge1xuICAgICAgICBsZXQgY2xzID0gdGhpcy50b29sdGlwQ2xhc3Moc3RhdGUpO1xuICAgICAgICBpZiAoY2xzICE9IHRoaXMuY3VycmVudENsYXNzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuY3VycmVudENsYXNzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LnJlbW92ZShjKTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY2xzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChjKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENsYXNzID0gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvc2l0aW9uZWQoc3BhY2UpIHtcbiAgICAgICAgdGhpcy5zcGFjZSA9IHNwYWNlO1xuICAgICAgICBpZiAodGhpcy5pbmZvKVxuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMucGxhY2VJbmZvUmVxKTtcbiAgICB9XG4gICAgdXBkYXRlU2VsKCkge1xuICAgICAgICBsZXQgY1N0YXRlID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKHRoaXMuc3RhdGVGaWVsZCksIG9wZW4gPSBjU3RhdGUub3BlbjtcbiAgICAgICAgaWYgKG9wZW4uc2VsZWN0ZWQgPiAtMSAmJiBvcGVuLnNlbGVjdGVkIDwgdGhpcy5yYW5nZS5mcm9tIHx8IG9wZW4uc2VsZWN0ZWQgPj0gdGhpcy5yYW5nZS50bykge1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlQXJvdW5kU2VsZWN0ZWQob3Blbi5vcHRpb25zLmxlbmd0aCwgb3Blbi5zZWxlY3RlZCwgdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLm1heFJlbmRlcmVkT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnNob3dPcHRpb25zKG9wZW4ub3B0aW9ucywgY1N0YXRlLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51cGRhdGVTZWxlY3RlZE9wdGlvbihvcGVuLnNlbGVjdGVkKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95SW5mbygpO1xuICAgICAgICAgICAgbGV0IHsgY29tcGxldGlvbiB9ID0gb3Blbi5vcHRpb25zW29wZW4uc2VsZWN0ZWRdO1xuICAgICAgICAgICAgbGV0IHsgaW5mbyB9ID0gY29tcGxldGlvbjtcbiAgICAgICAgICAgIGlmICghaW5mbylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgaW5mb1Jlc3VsdCA9IHR5cGVvZiBpbmZvID09PSBcInN0cmluZ1wiID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaW5mbykgOiBpbmZvKGNvbXBsZXRpb24pO1xuICAgICAgICAgICAgaWYgKCFpbmZvUmVzdWx0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChcInRoZW5cIiBpbiBpbmZvUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaW5mb1Jlc3VsdC50aGVuKG9iaiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmogJiYgdGhpcy52aWV3LnN0YXRlLmZpZWxkKHRoaXMuc3RhdGVGaWVsZCwgZmFsc2UpID09IGNTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSW5mb1BhbmUob2JqLCBjb21wbGV0aW9uKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGUsIFwiY29tcGxldGlvbiBpbmZvXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkSW5mb1BhbmUoaW5mb1Jlc3VsdCwgY29tcGxldGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSW5mb1BhbmUoY29udGVudCwgY29tcGxldGlvbikge1xuICAgICAgICB0aGlzLmRlc3Ryb3lJbmZvKCk7XG4gICAgICAgIGxldCB3cmFwID0gdGhpcy5pbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgd3JhcC5jbGFzc05hbWUgPSBcImNtLXRvb2x0aXAgY20tY29tcGxldGlvbkluZm9cIjtcbiAgICAgICAgaWYgKGNvbnRlbnQubm9kZVR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuaW5mb0Rlc3Ryb3kgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHsgZG9tLCBkZXN0cm95IH0gPSBjb250ZW50O1xuICAgICAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChkb20pO1xuICAgICAgICAgICAgdGhpcy5pbmZvRGVzdHJveSA9IGRlc3Ryb3kgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh3cmFwKTtcbiAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMucGxhY2VJbmZvUmVxKTtcbiAgICB9XG4gICAgdXBkYXRlU2VsZWN0ZWRPcHRpb24oc2VsZWN0ZWQpIHtcbiAgICAgICAgbGV0IHNldCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IG9wdCA9IHRoaXMubGlzdC5maXJzdENoaWxkLCBpID0gdGhpcy5yYW5nZS5mcm9tOyBvcHQ7IG9wdCA9IG9wdC5uZXh0U2libGluZywgaSsrKSB7XG4gICAgICAgICAgICBpZiAob3B0Lm5vZGVOYW1lICE9IFwiTElcIiB8fCAhb3B0LmlkKSB7XG4gICAgICAgICAgICAgICAgaS0tOyAvLyBBIHNlY3Rpb24gaGVhZGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHQuaGFzQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldCA9IG9wdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0Lmhhc0F0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIikpXG4gICAgICAgICAgICAgICAgICAgIG9wdC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZXQpXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldyh0aGlzLmxpc3QsIHNldCk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxuICAgIG1lYXN1cmVJbmZvKCkge1xuICAgICAgICBsZXQgc2VsID0gdGhpcy5kb20ucXVlcnlTZWxlY3RvcihcIlthcmlhLXNlbGVjdGVkXVwiKTtcbiAgICAgICAgaWYgKCFzZWwgfHwgIXRoaXMuaW5mbylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgbGlzdFJlY3QgPSB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGluZm9SZWN0ID0gdGhpcy5pbmZvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgc2VsUmVjdCA9IHNlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHNwYWNlID0gdGhpcy5zcGFjZTtcbiAgICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICAgICAgbGV0IHdpbiA9IHRoaXMuZG9tLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgICAgICAgICAgc3BhY2UgPSB7IGxlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IHdpbi5pbm5lcldpZHRoLCBib3R0b206IHdpbi5pbm5lckhlaWdodCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxSZWN0LnRvcCA+IE1hdGgubWluKHNwYWNlLmJvdHRvbSwgbGlzdFJlY3QuYm90dG9tKSAtIDEwIHx8XG4gICAgICAgICAgICBzZWxSZWN0LmJvdHRvbSA8IE1hdGgubWF4KHNwYWNlLnRvcCwgbGlzdFJlY3QudG9wKSArIDEwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykucG9zaXRpb25JbmZvKHRoaXMudmlldywgbGlzdFJlY3QsIHNlbFJlY3QsIGluZm9SZWN0LCBzcGFjZSwgdGhpcy5kb20pO1xuICAgIH1cbiAgICBwbGFjZUluZm8ocG9zKSB7XG4gICAgICAgIGlmICh0aGlzLmluZm8pIHtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zLnN0eWxlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm8uc3R5bGUuY3NzVGV4dCA9IHBvcy5zdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZm8uY2xhc3NOYW1lID0gXCJjbS10b29sdGlwIGNtLWNvbXBsZXRpb25JbmZvIFwiICsgKHBvcy5jbGFzcyB8fCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5mby5zdHlsZS5jc3NUZXh0ID0gXCJ0b3A6IC0xZTZweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUxpc3RCb3gob3B0aW9ucywgaWQsIHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICB1bC5pZCA9IGlkO1xuICAgICAgICB1bC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGJveFwiKTtcbiAgICAgICAgdWwuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG4gICAgICAgIHVsLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGhpcy52aWV3LnN0YXRlLnBocmFzZShcIkNvbXBsZXRpb25zXCIpKTtcbiAgICAgICAgbGV0IGN1clNlY3Rpb24gPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gcmFuZ2UuZnJvbTsgaSA8IHJhbmdlLnRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB7IGNvbXBsZXRpb24sIG1hdGNoIH0gPSBvcHRpb25zW2ldLCB7IHNlY3Rpb24gfSA9IGNvbXBsZXRpb247XG4gICAgICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gdHlwZW9mIHNlY3Rpb24gPT0gXCJzdHJpbmdcIiA/IHNlY3Rpb24gOiBzZWN0aW9uLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT0gY3VyU2VjdGlvbiAmJiAoaSA+IHJhbmdlLmZyb20gfHwgcmFuZ2UuZnJvbSA9PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJTZWN0aW9uID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWN0aW9uICE9IFwic3RyaW5nXCIgJiYgc2VjdGlvbi5oZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKHNlY3Rpb24uaGVhZGVyKHNlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWFkZXIgPSB1bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29tcGxldGlvbi1zZWN0aW9uXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaSA9IHVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSk7XG4gICAgICAgICAgICBsaS5pZCA9IGlkICsgXCItXCIgKyBpO1xuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICAgICAgICAgIGxldCBjbHMgPSB0aGlzLm9wdGlvbkNsYXNzKGNvbXBsZXRpb24pO1xuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICBsaS5jbGFzc05hbWUgPSBjbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBzb3VyY2Ugb2YgdGhpcy5vcHRpb25Db250ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBzb3VyY2UoY29tcGxldGlvbiwgdGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcsIG1hdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmdlLmZyb20pXG4gICAgICAgICAgICB1bC5jbGFzc0xpc3QuYWRkKFwiY20tY29tcGxldGlvbkxpc3RJbmNvbXBsZXRlVG9wXCIpO1xuICAgICAgICBpZiAocmFuZ2UudG8gPCBvcHRpb25zLmxlbmd0aClcbiAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoXCJjbS1jb21wbGV0aW9uTGlzdEluY29tcGxldGVCb3R0b21cIik7XG4gICAgICAgIHJldHVybiB1bDtcbiAgICB9XG4gICAgZGVzdHJveUluZm8oKSB7XG4gICAgICAgIGlmICh0aGlzLmluZm8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZm9EZXN0cm95KVxuICAgICAgICAgICAgICAgIHRoaXMuaW5mb0Rlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5mby5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5mbyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95SW5mbygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBsZXRpb25Ub29sdGlwKHN0YXRlRmllbGQsIGFwcGx5Q29tcGxldGlvbikge1xuICAgIHJldHVybiAodmlldykgPT4gbmV3IENvbXBsZXRpb25Ub29sdGlwKHZpZXcsIHN0YXRlRmllbGQsIGFwcGx5Q29tcGxldGlvbik7XG59XG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhjb250YWluZXIsIGVsZW1lbnQpIHtcbiAgICBsZXQgcGFyZW50ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBzZWxmID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgc2NhbGVZID0gcGFyZW50LmhlaWdodCAvIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgaWYgKHNlbGYudG9wIDwgcGFyZW50LnRvcClcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCAtPSAocGFyZW50LnRvcCAtIHNlbGYudG9wKSAvIHNjYWxlWTtcbiAgICBlbHNlIGlmIChzZWxmLmJvdHRvbSA+IHBhcmVudC5ib3R0b20pXG4gICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gKHNlbGYuYm90dG9tIC0gcGFyZW50LmJvdHRvbSkgLyBzY2FsZVk7XG59XG5cbi8vIFVzZWQgdG8gcGljayBhIHByZWZlcnJlZCBvcHRpb24gd2hlbiB0d28gb3B0aW9ucyB3aXRoIHRoZSBzYW1lXG4vLyBsYWJlbCBvY2N1ciBpbiB0aGUgcmVzdWx0LlxuZnVuY3Rpb24gc2NvcmUob3B0aW9uKSB7XG4gICAgcmV0dXJuIChvcHRpb24uYm9vc3QgfHwgMCkgKiAxMDAgKyAob3B0aW9uLmFwcGx5ID8gMTAgOiAwKSArIChvcHRpb24uaW5mbyA/IDUgOiAwKSArXG4gICAgICAgIChvcHRpb24udHlwZSA/IDEgOiAwKTtcbn1cbmZ1bmN0aW9uIHNvcnRPcHRpb25zKGFjdGl2ZSwgc3RhdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgIGxldCBzZWN0aW9ucyA9IG51bGw7XG4gICAgbGV0IGFkZE9wdGlvbiA9IChvcHRpb24pID0+IHtcbiAgICAgICAgb3B0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgICAgIGxldCB7IHNlY3Rpb24gfSA9IG9wdGlvbi5jb21wbGV0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgaWYgKCFzZWN0aW9ucylcbiAgICAgICAgICAgICAgICBzZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgbGV0IG5hbWUgPSB0eXBlb2Ygc2VjdGlvbiA9PSBcInN0cmluZ1wiID8gc2VjdGlvbiA6IHNlY3Rpb24ubmFtZTtcbiAgICAgICAgICAgIGlmICghc2VjdGlvbnMuc29tZShzID0+IHMubmFtZSA9PSBuYW1lKSlcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHR5cGVvZiBzZWN0aW9uID09IFwic3RyaW5nXCIgPyB7IG5hbWUgfSA6IHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBsZXQgY29uZiA9IHN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpO1xuICAgIGZvciAobGV0IGEgb2YgYWN0aXZlKVxuICAgICAgICBpZiAoYS5oYXNSZXN1bHQoKSkge1xuICAgICAgICAgICAgbGV0IGdldE1hdGNoID0gYS5yZXN1bHQuZ2V0TWF0Y2g7XG4gICAgICAgICAgICBpZiAoYS5yZXN1bHQuZmlsdGVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG9wdGlvbiBvZiBhLnJlc3VsdC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE9wdGlvbihuZXcgT3B0aW9uKG9wdGlvbiwgYS5zb3VyY2UsIGdldE1hdGNoID8gZ2V0TWF0Y2gob3B0aW9uKSA6IFtdLCAxZTkgLSBvcHRpb25zLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gc3RhdGUuc2xpY2VEb2MoYS5mcm9tLCBhLnRvKSwgbWF0Y2g7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZXIgPSBjb25mLmZpbHRlclN0cmljdCA/IG5ldyBTdHJpY3RNYXRjaGVyKHBhdHRlcm4pIDogbmV3IEZ1enp5TWF0Y2hlcihwYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBvcHRpb24gb2YgYS5yZXN1bHQub3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gbWF0Y2hlci5tYXRjaChvcHRpb24ubGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlZCA9ICFvcHRpb24uZGlzcGxheUxhYmVsID8gbWF0Y2gubWF0Y2hlZCA6IGdldE1hdGNoID8gZ2V0TWF0Y2gob3B0aW9uLCBtYXRjaC5tYXRjaGVkKSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW9uKG5ldyBPcHRpb24ob3B0aW9uLCBhLnNvdXJjZSwgbWF0Y2hlZCwgbWF0Y2guc2NvcmUgKyAob3B0aW9uLmJvb3N0IHx8IDApKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIGlmIChzZWN0aW9ucykge1xuICAgICAgICBsZXQgc2VjdGlvbk9yZGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgcG9zID0gMDtcbiAgICAgICAgbGV0IGNtcCA9IChhLCBiKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiAoKF9hID0gYS5yYW5rKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxZTkpIC0gKChfYiA9IGIucmFuaykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMWU5KSB8fCAoYS5uYW1lIDwgYi5uYW1lID8gLTEgOiAxKTsgfTtcbiAgICAgICAgZm9yIChsZXQgcyBvZiBzZWN0aW9ucy5zb3J0KGNtcCkpIHtcbiAgICAgICAgICAgIHBvcyAtPSAxZTU7XG4gICAgICAgICAgICBzZWN0aW9uT3JkZXJbcy5uYW1lXSA9IHBvcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IHsgc2VjdGlvbiB9ID0gb3B0aW9uLmNvbXBsZXRpb247XG4gICAgICAgICAgICBpZiAoc2VjdGlvbilcbiAgICAgICAgICAgICAgICBvcHRpb24uc2NvcmUgKz0gc2VjdGlvbk9yZGVyW3R5cGVvZiBzZWN0aW9uID09IFwic3RyaW5nXCIgPyBzZWN0aW9uIDogc2VjdGlvbi5uYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gW10sIHByZXYgPSBudWxsO1xuICAgIGxldCBjb21wYXJlID0gY29uZi5jb21wYXJlQ29tcGxldGlvbnM7XG4gICAgZm9yIChsZXQgb3B0IG9mIG9wdGlvbnMuc29ydCgoYSwgYikgPT4gKGIuc2NvcmUgLSBhLnNjb3JlKSB8fCBjb21wYXJlKGEuY29tcGxldGlvbiwgYi5jb21wbGV0aW9uKSkpIHtcbiAgICAgICAgbGV0IGN1ciA9IG9wdC5jb21wbGV0aW9uO1xuICAgICAgICBpZiAoIXByZXYgfHwgcHJldi5sYWJlbCAhPSBjdXIubGFiZWwgfHwgcHJldi5kZXRhaWwgIT0gY3VyLmRldGFpbCB8fFxuICAgICAgICAgICAgKHByZXYudHlwZSAhPSBudWxsICYmIGN1ci50eXBlICE9IG51bGwgJiYgcHJldi50eXBlICE9IGN1ci50eXBlKSB8fFxuICAgICAgICAgICAgcHJldi5hcHBseSAhPSBjdXIuYXBwbHkgfHwgcHJldi5ib29zdCAhPSBjdXIuYm9vc3QpXG4gICAgICAgICAgICByZXN1bHQucHVzaChvcHQpO1xuICAgICAgICBlbHNlIGlmIChzY29yZShvcHQuY29tcGxldGlvbikgPiBzY29yZShwcmV2KSlcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSBvcHQ7XG4gICAgICAgIHByZXYgPSBvcHQuY29tcGxldGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNsYXNzIENvbXBsZXRpb25EaWFsb2cge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGF0dHJzLCB0b29sdGlwLCB0aW1lc3RhbXAsIHNlbGVjdGVkLCBkaXNhYmxlZCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIHRoaXMudG9vbHRpcCA9IHRvb2x0aXA7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9XG4gICAgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQsIGlkKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZCA9PSB0aGlzLnNlbGVjdGVkIHx8IHNlbGVjdGVkID49IHRoaXMub3B0aW9ucy5sZW5ndGggPyB0aGlzXG4gICAgICAgICAgICA6IG5ldyBDb21wbGV0aW9uRGlhbG9nKHRoaXMub3B0aW9ucywgbWFrZUF0dHJzKGlkLCBzZWxlY3RlZCksIHRoaXMudG9vbHRpcCwgdGhpcy50aW1lc3RhbXAsIHNlbGVjdGVkLCB0aGlzLmRpc2FibGVkKTtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkKGFjdGl2ZSwgc3RhdGUsIGlkLCBwcmV2LCBjb25mKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gc29ydE9wdGlvbnMoYWN0aXZlLCBzdGF0ZSk7XG4gICAgICAgIGlmICghb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2ICYmIGFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSA9PSAxIC8qIFN0YXRlLlBlbmRpbmcgKi8pID9cbiAgICAgICAgICAgICAgICBuZXcgQ29tcGxldGlvbkRpYWxvZyhwcmV2Lm9wdGlvbnMsIHByZXYuYXR0cnMsIHByZXYudG9vbHRpcCwgcHJldi50aW1lc3RhbXAsIHByZXYuc2VsZWN0ZWQsIHRydWUpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5zZWxlY3RPbk9wZW4gPyAwIDogLTE7XG4gICAgICAgIGlmIChwcmV2ICYmIHByZXYuc2VsZWN0ZWQgIT0gc2VsZWN0ZWQgJiYgcHJldi5zZWxlY3RlZCAhPSAtMSkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWUgPSBwcmV2Lm9wdGlvbnNbcHJldi5zZWxlY3RlZF0uY29tcGxldGlvbjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1tpXS5jb21wbGV0aW9uID09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0aW9uRGlhbG9nKG9wdGlvbnMsIG1ha2VBdHRycyhpZCwgc2VsZWN0ZWQpLCB7XG4gICAgICAgICAgICBwb3M6IGFjdGl2ZS5yZWR1Y2UoKGEsIGIpID0+IGIuaGFzUmVzdWx0KCkgPyBNYXRoLm1pbihhLCBiLmZyb20pIDogYSwgMWU4KSxcbiAgICAgICAgICAgIGNyZWF0ZTogY3JlYXRlVG9vbHRpcCxcbiAgICAgICAgICAgIGFib3ZlOiBjb25mLmFib3ZlQ3Vyc29yLFxuICAgICAgICB9LCBwcmV2ID8gcHJldi50aW1lc3RhbXAgOiBEYXRlLm5vdygpLCBzZWxlY3RlZCwgZmFsc2UpO1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXRpb25EaWFsb2codGhpcy5vcHRpb25zLCB0aGlzLmF0dHJzLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMudG9vbHRpcCksIHsgcG9zOiBjaGFuZ2VzLm1hcFBvcyh0aGlzLnRvb2x0aXAucG9zKSB9KSwgdGhpcy50aW1lc3RhbXAsIHRoaXMuc2VsZWN0ZWQsIHRoaXMuZGlzYWJsZWQpO1xuICAgIH1cbn1cbmNsYXNzIENvbXBsZXRpb25TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoYWN0aXZlLCBpZCwgb3Blbikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgIH1cbiAgICBzdGF0aWMgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxldGlvblN0YXRlKG5vbmUsIFwiY20tYWMtXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyZTYpLnRvU3RyaW5nKDM2KSwgbnVsbCk7XG4gICAgfVxuICAgIHVwZGF0ZSh0cikge1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdHIsIGNvbmYgPSBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKTtcbiAgICAgICAgbGV0IHNvdXJjZXMgPSBjb25mLm92ZXJyaWRlIHx8XG4gICAgICAgICAgICBzdGF0ZS5sYW5ndWFnZURhdGFBdChcImF1dG9jb21wbGV0ZVwiLCBjdXIoc3RhdGUpKS5tYXAoYXNTb3VyY2UpO1xuICAgICAgICBsZXQgYWN0aXZlID0gc291cmNlcy5tYXAoc291cmNlID0+IHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYWN0aXZlLmZpbmQocyA9PiBzLnNvdXJjZSA9PSBzb3VyY2UpIHx8XG4gICAgICAgICAgICAgICAgbmV3IEFjdGl2ZVNvdXJjZShzb3VyY2UsIHRoaXMuYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlICE9IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pID8gMSAvKiBTdGF0ZS5QZW5kaW5nICovIDogMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLyk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudXBkYXRlKHRyLCBjb25mKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoID09IHRoaXMuYWN0aXZlLmxlbmd0aCAmJiBhY3RpdmUuZXZlcnkoKGEsIGkpID0+IGEgPT0gdGhpcy5hY3RpdmVbaV0pKVxuICAgICAgICAgICAgYWN0aXZlID0gdGhpcy5hY3RpdmU7XG4gICAgICAgIGxldCBvcGVuID0gdGhpcy5vcGVuO1xuICAgICAgICBpZiAob3BlbiAmJiB0ci5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgb3BlbiA9IG9wZW4ubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICBpZiAodHIuc2VsZWN0aW9uIHx8IGFjdGl2ZS5zb21lKGEgPT4gYS5oYXNSZXN1bHQoKSAmJiB0ci5jaGFuZ2VzLnRvdWNoZXNSYW5nZShhLmZyb20sIGEudG8pKSB8fFxuICAgICAgICAgICAgIXNhbWVSZXN1bHRzKGFjdGl2ZSwgdGhpcy5hY3RpdmUpKVxuICAgICAgICAgICAgb3BlbiA9IENvbXBsZXRpb25EaWFsb2cuYnVpbGQoYWN0aXZlLCBzdGF0ZSwgdGhpcy5pZCwgb3BlbiwgY29uZik7XG4gICAgICAgIGVsc2UgaWYgKG9wZW4gJiYgb3Blbi5kaXNhYmxlZCAmJiAhYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlID09IDEgLyogU3RhdGUuUGVuZGluZyAqLykpXG4gICAgICAgICAgICBvcGVuID0gbnVsbDtcbiAgICAgICAgaWYgKCFvcGVuICYmIGFjdGl2ZS5ldmVyeShhID0+IGEuc3RhdGUgIT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKSAmJiBhY3RpdmUuc29tZShhID0+IGEuaGFzUmVzdWx0KCkpKVxuICAgICAgICAgICAgYWN0aXZlID0gYWN0aXZlLm1hcChhID0+IGEuaGFzUmVzdWx0KCkgPyBuZXcgQWN0aXZlU291cmNlKGEuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKSA6IGEpO1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0U2VsZWN0ZWRFZmZlY3QpKVxuICAgICAgICAgICAgICAgIG9wZW4gPSBvcGVuICYmIG9wZW4uc2V0U2VsZWN0ZWQoZWZmZWN0LnZhbHVlLCB0aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZSA9PSB0aGlzLmFjdGl2ZSAmJiBvcGVuID09IHRoaXMub3BlbiA/IHRoaXMgOiBuZXcgQ29tcGxldGlvblN0YXRlKGFjdGl2ZSwgdGhpcy5pZCwgb3Blbik7XG4gICAgfVxuICAgIGdldCB0b29sdGlwKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLnRvb2x0aXAgOiBudWxsOyB9XG4gICAgZ2V0IGF0dHJzKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLmF0dHJzIDogdGhpcy5hY3RpdmUubGVuZ3RoID8gYmFzZUF0dHJzIDogbm9BdHRyczsgfVxufVxuZnVuY3Rpb24gc2FtZVJlc3VsdHMoYSwgYikge1xuICAgIGlmIChhID09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAobGV0IGlBID0gMCwgaUIgPSAwOzspIHtcbiAgICAgICAgd2hpbGUgKGlBIDwgYS5sZW5ndGggJiYgIWFbaUFdLmhhc1Jlc3VsdClcbiAgICAgICAgICAgIGlBKys7XG4gICAgICAgIHdoaWxlIChpQiA8IGIubGVuZ3RoICYmICFiW2lCXS5oYXNSZXN1bHQpXG4gICAgICAgICAgICBpQisrO1xuICAgICAgICBsZXQgZW5kQSA9IGlBID09IGEubGVuZ3RoLCBlbmRCID0gaUIgPT0gYi5sZW5ndGg7XG4gICAgICAgIGlmIChlbmRBIHx8IGVuZEIpXG4gICAgICAgICAgICByZXR1cm4gZW5kQSA9PSBlbmRCO1xuICAgICAgICBpZiAoYVtpQSsrXS5yZXN1bHQgIT0gYltpQisrXS5yZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY29uc3QgYmFzZUF0dHJzID0ge1xuICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCJcbn07XG5jb25zdCBub0F0dHJzID0ge307XG5mdW5jdGlvbiBtYWtlQXR0cnMoaWQsIHNlbGVjdGVkKSB7XG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgXCJhcmlhLWF1dG9jb21wbGV0ZVwiOiBcImxpc3RcIixcbiAgICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogaWRcbiAgICB9O1xuICAgIGlmIChzZWxlY3RlZCA+IC0xKVxuICAgICAgICByZXN1bHRbXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIl0gPSBpZCArIFwiLVwiICsgc2VsZWN0ZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IG5vbmUgPSBbXTtcbmZ1bmN0aW9uIGdldFVwZGF0ZVR5cGUodHIsIGNvbmYpIHtcbiAgICBpZiAodHIuaXNVc2VyRXZlbnQoXCJpbnB1dC5jb21wbGV0ZVwiKSkge1xuICAgICAgICBsZXQgY29tcGxldGlvbiA9IHRyLmFubm90YXRpb24ocGlja2VkQ29tcGxldGlvbik7XG4gICAgICAgIGlmIChjb21wbGV0aW9uICYmIGNvbmYuYWN0aXZhdGVPbkNvbXBsZXRpb24oY29tcGxldGlvbikpXG4gICAgICAgICAgICByZXR1cm4gNCAvKiBVcGRhdGVUeXBlLkFjdGl2YXRlICovIHwgOCAvKiBVcGRhdGVUeXBlLlJlc2V0ICovO1xuICAgIH1cbiAgICBsZXQgdHlwaW5nID0gdHIuaXNVc2VyRXZlbnQoXCJpbnB1dC50eXBlXCIpO1xuICAgIHJldHVybiB0eXBpbmcgJiYgY29uZi5hY3RpdmF0ZU9uVHlwaW5nID8gNCAvKiBVcGRhdGVUeXBlLkFjdGl2YXRlICovIHwgMSAvKiBVcGRhdGVUeXBlLlR5cGluZyAqL1xuICAgICAgICA6IHR5cGluZyA/IDEgLyogVXBkYXRlVHlwZS5UeXBpbmcgKi9cbiAgICAgICAgICAgIDogdHIuaXNVc2VyRXZlbnQoXCJkZWxldGUuYmFja3dhcmRcIikgPyAyIC8qIFVwZGF0ZVR5cGUuQmFja3NwYWNpbmcgKi9cbiAgICAgICAgICAgICAgICA6IHRyLnNlbGVjdGlvbiA/IDggLyogVXBkYXRlVHlwZS5SZXNldCAqL1xuICAgICAgICAgICAgICAgICAgICA6IHRyLmRvY0NoYW5nZWQgPyAxNiAvKiBVcGRhdGVUeXBlLlJlc2V0SWZUb3VjaGluZyAqLyA6IDAgLyogVXBkYXRlVHlwZS5Ob25lICovO1xufVxuY2xhc3MgQWN0aXZlU291cmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIHN0YXRlLCBleHBsaWNpdFBvcyA9IC0xKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuZXhwbGljaXRQb3MgPSBleHBsaWNpdFBvcztcbiAgICB9XG4gICAgaGFzUmVzdWx0KCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB1cGRhdGUodHIsIGNvbmYpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBnZXRVcGRhdGVUeXBlKHRyLCBjb25mKSwgdmFsdWUgPSB0aGlzO1xuICAgICAgICBpZiAoKHR5cGUgJiA4IC8qIFVwZGF0ZVR5cGUuUmVzZXQgKi8pIHx8ICh0eXBlICYgMTYgLyogVXBkYXRlVHlwZS5SZXNldElmVG91Y2hpbmcgKi8pICYmIHRoaXMudG91Y2hlcyh0cikpXG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBBY3RpdmVTb3VyY2UodmFsdWUuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgaWYgKCh0eXBlICYgNCAvKiBVcGRhdGVUeXBlLkFjdGl2YXRlICovKSAmJiB2YWx1ZS5zdGF0ZSA9PSAwIC8qIFN0YXRlLkluYWN0aXZlICovKVxuICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHRoaXMuc291cmNlLCAxIC8qIFN0YXRlLlBlbmRpbmcgKi8pO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnVwZGF0ZUZvcih0ciwgdHlwZSk7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHN0YXJ0Q29tcGxldGlvbkVmZmVjdCkpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMSAvKiBTdGF0ZS5QZW5kaW5nICovLCBlZmZlY3QudmFsdWUgPyBjdXIodHIuc3RhdGUpIDogLTEpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKGNsb3NlQ29tcGxldGlvbkVmZmVjdCkpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLyk7XG4gICAgICAgICAgICBlbHNlIGlmIChlZmZlY3QuaXMoc2V0QWN0aXZlRWZmZWN0KSlcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBhY3RpdmUgb2YgZWZmZWN0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlLnNvdXJjZSA9PSB2YWx1ZS5zb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHVwZGF0ZUZvcih0ciwgdHlwZSkgeyByZXR1cm4gdGhpcy5tYXAodHIuY2hhbmdlcyk7IH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gY2hhbmdlcy5lbXB0eSB8fCB0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IHRoaXMgOiBuZXcgQWN0aXZlU291cmNlKHRoaXMuc291cmNlLCB0aGlzLnN0YXRlLCBjaGFuZ2VzLm1hcFBvcyh0aGlzLmV4cGxpY2l0UG9zKSk7XG4gICAgfVxuICAgIHRvdWNoZXModHIpIHtcbiAgICAgICAgcmV0dXJuIHRyLmNoYW5nZXMudG91Y2hlc1JhbmdlKGN1cih0ci5zdGF0ZSkpO1xuICAgIH1cbn1cbmNsYXNzIEFjdGl2ZVJlc3VsdCBleHRlbmRzIEFjdGl2ZVNvdXJjZSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBleHBsaWNpdFBvcywgcmVzdWx0LCBmcm9tLCB0bykge1xuICAgICAgICBzdXBlcihzb3VyY2UsIDIgLyogU3RhdGUuUmVzdWx0ICovLCBleHBsaWNpdFBvcyk7XG4gICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIGhhc1Jlc3VsdCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICB1cGRhdGVGb3IodHIsIHR5cGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoISh0eXBlICYgMyAvKiBVcGRhdGVUeXBlLlNpbXBsZUludGVyYWN0aW9uICovKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcCh0ci5jaGFuZ2VzKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmVzdWx0O1xuICAgICAgICBpZiAocmVzdWx0Lm1hcCAmJiAhdHIuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAocmVzdWx0LCB0ci5jaGFuZ2VzKTtcbiAgICAgICAgbGV0IGZyb20gPSB0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmZyb20pLCB0byA9IHRyLmNoYW5nZXMubWFwUG9zKHRoaXMudG8sIDEpO1xuICAgICAgICBsZXQgcG9zID0gY3VyKHRyLnN0YXRlKTtcbiAgICAgICAgaWYgKCh0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IHBvcyA8PSBmcm9tIDogcG9zIDwgdGhpcy5mcm9tKSB8fFxuICAgICAgICAgICAgcG9zID4gdG8gfHwgIXJlc3VsdCB8fFxuICAgICAgICAgICAgKHR5cGUgJiAyIC8qIFVwZGF0ZVR5cGUuQmFja3NwYWNpbmcgKi8pICYmIGN1cih0ci5zdGFydFN0YXRlKSA9PSB0aGlzLmZyb20pXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVNvdXJjZSh0aGlzLnNvdXJjZSwgdHlwZSAmIDQgLyogVXBkYXRlVHlwZS5BY3RpdmF0ZSAqLyA/IDEgLyogU3RhdGUuUGVuZGluZyAqLyA6IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pO1xuICAgICAgICBsZXQgZXhwbGljaXRQb3MgPSB0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IC0xIDogdHIuY2hhbmdlcy5tYXBQb3ModGhpcy5leHBsaWNpdFBvcyk7XG4gICAgICAgIGlmIChjaGVja1ZhbGlkKHJlc3VsdC52YWxpZEZvciwgdHIuc3RhdGUsIGZyb20sIHRvKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlUmVzdWx0KHRoaXMuc291cmNlLCBleHBsaWNpdFBvcywgcmVzdWx0LCBmcm9tLCB0byk7XG4gICAgICAgIGlmIChyZXN1bHQudXBkYXRlICYmXG4gICAgICAgICAgICAocmVzdWx0ID0gcmVzdWx0LnVwZGF0ZShyZXN1bHQsIGZyb20sIHRvLCBuZXcgQ29tcGxldGlvbkNvbnRleHQodHIuc3RhdGUsIHBvcywgZXhwbGljaXRQb3MgPj0gMCkpKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlUmVzdWx0KHRoaXMuc291cmNlLCBleHBsaWNpdFBvcywgcmVzdWx0LCByZXN1bHQuZnJvbSwgKF9hID0gcmVzdWx0LnRvKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjdXIodHIuc3RhdGUpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDEgLyogU3RhdGUuUGVuZGluZyAqLywgZXhwbGljaXRQb3MpO1xuICAgIH1cbiAgICBtYXAobWFwcGluZykge1xuICAgICAgICBpZiAobWFwcGluZy5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5yZXN1bHQubWFwID8gdGhpcy5yZXN1bHQubWFwKHRoaXMucmVzdWx0LCBtYXBwaW5nKSA6IHRoaXMucmVzdWx0O1xuICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlU291cmNlKHRoaXMuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVSZXN1bHQodGhpcy5zb3VyY2UsIHRoaXMuZXhwbGljaXRQb3MgPCAwID8gLTEgOiBtYXBwaW5nLm1hcFBvcyh0aGlzLmV4cGxpY2l0UG9zKSwgdGhpcy5yZXN1bHQsIG1hcHBpbmcubWFwUG9zKHRoaXMuZnJvbSksIG1hcHBpbmcubWFwUG9zKHRoaXMudG8sIDEpKTtcbiAgICB9XG4gICAgdG91Y2hlcyh0cikge1xuICAgICAgICByZXR1cm4gdHIuY2hhbmdlcy50b3VjaGVzUmFuZ2UodGhpcy5mcm9tLCB0aGlzLnRvKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1ZhbGlkKHZhbGlkRm9yLCBzdGF0ZSwgZnJvbSwgdG8pIHtcbiAgICBpZiAoIXZhbGlkRm9yKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHRleHQgPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0byk7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWxpZEZvciA9PSBcImZ1bmN0aW9uXCIgPyB2YWxpZEZvcih0ZXh0LCBmcm9tLCB0bywgc3RhdGUpIDogZW5zdXJlQW5jaG9yKHZhbGlkRm9yLCB0cnVlKS50ZXN0KHRleHQpO1xufVxuY29uc3Qgc2V0QWN0aXZlRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHNvdXJjZXMsIG1hcHBpbmcpIHsgcmV0dXJuIHNvdXJjZXMubWFwKHMgPT4gcy5tYXAobWFwcGluZykpOyB9XG59KTtcbmNvbnN0IHNldFNlbGVjdGVkRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuY29uc3QgY29tcGxldGlvblN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBDb21wbGV0aW9uU3RhdGUuc3RhcnQoKTsgfSxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7IHJldHVybiB2YWx1ZS51cGRhdGUodHIpOyB9LFxuICAgIHByb3ZpZGU6IGYgPT4gW1xuICAgICAgICBzaG93VG9vbHRpcC5mcm9tKGYsIHZhbCA9PiB2YWwudG9vbHRpcCksXG4gICAgICAgIEVkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMuZnJvbShmLCBzdGF0ZSA9PiBzdGF0ZS5hdHRycylcbiAgICBdXG59KTtcbmZ1bmN0aW9uIGFwcGx5Q29tcGxldGlvbih2aWV3LCBvcHRpb24pIHtcbiAgICBjb25zdCBhcHBseSA9IG9wdGlvbi5jb21wbGV0aW9uLmFwcGx5IHx8IG9wdGlvbi5jb21wbGV0aW9uLmxhYmVsO1xuICAgIGxldCByZXN1bHQgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSkuYWN0aXZlLmZpbmQoYSA9PiBhLnNvdXJjZSA9PSBvcHRpb24uc291cmNlKTtcbiAgICBpZiAoIShyZXN1bHQgaW5zdGFuY2VvZiBBY3RpdmVSZXN1bHQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBhcHBseSA9PSBcInN0cmluZ1wiKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5zZXJ0Q29tcGxldGlvblRleHQodmlldy5zdGF0ZSwgYXBwbHksIHJlc3VsdC5mcm9tLCByZXN1bHQudG8pKSwgeyBhbm5vdGF0aW9uczogcGlja2VkQ29tcGxldGlvbi5vZihvcHRpb24uY29tcGxldGlvbikgfSkpO1xuICAgIGVsc2VcbiAgICAgICAgYXBwbHkodmlldywgb3B0aW9uLmNvbXBsZXRpb24sIHJlc3VsdC5mcm9tLCByZXN1bHQudG8pO1xuICAgIHJldHVybiB0cnVlO1xufVxuY29uc3QgY3JlYXRlVG9vbHRpcCA9IC8qQF9fUFVSRV9fKi9jb21wbGV0aW9uVG9vbHRpcChjb21wbGV0aW9uU3RhdGUsIGFwcGx5Q29tcGxldGlvbik7XG5cbi8qKlxuUmV0dXJucyBhIGNvbW1hbmQgdGhhdCBtb3ZlcyB0aGUgY29tcGxldGlvbiBzZWxlY3Rpb24gZm9yd2FyZCBvclxuYmFja3dhcmQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiovXG5mdW5jdGlvbiBtb3ZlQ29tcGxldGlvblNlbGVjdGlvbihmb3J3YXJkLCBieSA9IFwib3B0aW9uXCIpIHtcbiAgICByZXR1cm4gKHZpZXcpID0+IHtcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSk7XG4gICAgICAgIGlmICghY1N0YXRlIHx8ICFjU3RhdGUub3BlbiB8fCBjU3RhdGUub3Blbi5kaXNhYmxlZCB8fFxuICAgICAgICAgICAgRGF0ZS5ub3coKSAtIGNTdGF0ZS5vcGVuLnRpbWVzdGFtcCA8IHZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykuaW50ZXJhY3Rpb25EZWxheSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHN0ZXAgPSAxLCB0b29sdGlwO1xuICAgICAgICBpZiAoYnkgPT0gXCJwYWdlXCIgJiYgKHRvb2x0aXAgPSBnZXRUb29sdGlwKHZpZXcsIGNTdGF0ZS5vcGVuLnRvb2x0aXApKSlcbiAgICAgICAgICAgIHN0ZXAgPSBNYXRoLm1heCgyLCBNYXRoLmZsb29yKHRvb2x0aXAuZG9tLm9mZnNldEhlaWdodCAvXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5kb20ucXVlcnlTZWxlY3RvcihcImxpXCIpLm9mZnNldEhlaWdodCkgLSAxKTtcbiAgICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBjU3RhdGUub3Blbi5vcHRpb25zO1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBjU3RhdGUub3Blbi5zZWxlY3RlZCA+IC0xID8gY1N0YXRlLm9wZW4uc2VsZWN0ZWQgKyBzdGVwICogKGZvcndhcmQgPyAxIDogLTEpIDogZm9yd2FyZCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCAwKVxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBieSA9PSBcInBhZ2VcIiA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgICBlbHNlIGlmIChzZWxlY3RlZCA+PSBsZW5ndGgpXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGJ5ID09IFwicGFnZVwiID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRTZWxlY3RlZEVmZmVjdC5vZihzZWxlY3RlZCkgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbkFjY2VwdCB0aGUgY3VycmVudCBjb21wbGV0aW9uLlxuKi9cbmNvbnN0IGFjY2VwdENvbXBsZXRpb24gPSAodmlldykgPT4ge1xuICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5IHx8ICFjU3RhdGUgfHwgIWNTdGF0ZS5vcGVuIHx8IGNTdGF0ZS5vcGVuLnNlbGVjdGVkIDwgMCB8fCBjU3RhdGUub3Blbi5kaXNhYmxlZCB8fFxuICAgICAgICBEYXRlLm5vdygpIC0gY1N0YXRlLm9wZW4udGltZXN0YW1wIDwgdmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5pbnRlcmFjdGlvbkRlbGF5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGFwcGx5Q29tcGxldGlvbih2aWV3LCBjU3RhdGUub3Blbi5vcHRpb25zW2NTdGF0ZS5vcGVuLnNlbGVjdGVkXSk7XG59O1xuLyoqXG5FeHBsaWNpdGx5IHN0YXJ0IGF1dG9jb21wbGV0aW9uLlxuKi9cbmNvbnN0IHN0YXJ0Q29tcGxldGlvbiA9ICh2aWV3KSA9PiB7XG4gICAgbGV0IGNTdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFjU3RhdGUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc3RhcnRDb21wbGV0aW9uRWZmZWN0Lm9mKHRydWUpIH0pO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuQ2xvc2UgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29tcGxldGlvbi5cbiovXG5jb25zdCBjbG9zZUNvbXBsZXRpb24gPSAodmlldykgPT4ge1xuICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghY1N0YXRlIHx8ICFjU3RhdGUuYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlICE9IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGNsb3NlQ29tcGxldGlvbkVmZmVjdC5vZihudWxsKSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5jbGFzcyBSdW5uaW5nUXVlcnkge1xuICAgIGNvbnN0cnVjdG9yKGFjdGl2ZSwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy50aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy51cGRhdGVzID0gW107XG4gICAgICAgIC8vIE5vdGUgdGhhdCAndW5kZWZpbmVkJyBtZWFucyAnbm90IGRvbmUgeWV0Jywgd2hlcmVhcyAnbnVsbCcgbWVhbnNcbiAgICAgICAgLy8gJ3F1ZXJ5IHJldHVybmVkIG51bGwnLlxuICAgICAgICB0aGlzLmRvbmUgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuY29uc3QgTWF4VXBkYXRlQ291bnQgPSA1MCwgTWluQWJvcnRUaW1lID0gMTAwMDtcbmNvbnN0IGNvbXBsZXRpb25QbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5kZWJvdW5jZVVwZGF0ZSA9IC0xO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBbXTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IC0xO1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGFydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDAgLyogQ29tcG9zaXRpb25TdGF0ZS5Ob25lICovO1xuICAgICAgICBmb3IgKGxldCBhY3RpdmUgb2Ygdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUpLmFjdGl2ZSlcbiAgICAgICAgICAgIGlmIChhY3RpdmUuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRRdWVyeShhY3RpdmUpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjU3RhdGUgPSB1cGRhdGUuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKTtcbiAgICAgICAgbGV0IGNvbmYgPSB1cGRhdGUuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZyk7XG4gICAgICAgIGlmICghdXBkYXRlLnNlbGVjdGlvblNldCAmJiAhdXBkYXRlLmRvY0NoYW5nZWQgJiYgdXBkYXRlLnN0YXJ0U3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKSA9PSBjU3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBkb2VzUmVzZXQgPSB1cGRhdGUudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4ge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBnZXRVcGRhdGVUeXBlKHRyLCBjb25mKTtcbiAgICAgICAgICAgIHJldHVybiAodHlwZSAmIDggLyogVXBkYXRlVHlwZS5SZXNldCAqLykgfHwgKHRyLnNlbGVjdGlvbiB8fCB0ci5kb2NDaGFuZ2VkKSAmJiAhKHR5cGUgJiAzIC8qIFVwZGF0ZVR5cGUuU2ltcGxlSW50ZXJhY3Rpb24gKi8pO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IHRoaXMucnVubmluZ1tpXTtcbiAgICAgICAgICAgIGlmIChkb2VzUmVzZXQgfHxcbiAgICAgICAgICAgICAgICBxdWVyeS5jb250ZXh0LmFib3J0T25Eb2NDaGFuZ2UgJiYgdXBkYXRlLmRvY0NoYW5nZWQgfHxcbiAgICAgICAgICAgICAgICBxdWVyeS51cGRhdGVzLmxlbmd0aCArIHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoID4gTWF4VXBkYXRlQ291bnQgJiYgRGF0ZS5ub3coKSAtIHF1ZXJ5LnRpbWUgPiBNaW5BYm9ydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIHF1ZXJ5LmNvbnRleHQuYWJvcnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMudmlldy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVlcnkuY29udGV4dC5hYm9ydExpc3RlbmVycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVlcnkudXBkYXRlcy5wdXNoKC4uLnVwZGF0ZS50cmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYm91bmNlVXBkYXRlID4gLTEpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVVwZGF0ZSk7XG4gICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gdHIuZWZmZWN0cy5zb21lKGUgPT4gZS5pcyhzdGFydENvbXBsZXRpb25FZmZlY3QpKSkpXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGFydCA9IHRydWU7XG4gICAgICAgIGxldCBkZWxheSA9IHRoaXMucGVuZGluZ1N0YXJ0ID8gNTAgOiBjb25mLmFjdGl2YXRlT25UeXBpbmdEZWxheTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZVVwZGF0ZSA9IGNTdGF0ZS5hY3RpdmUuc29tZShhID0+IGEuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovICYmICF0aGlzLnJ1bm5pbmcuc29tZShxID0+IHEuYWN0aXZlLnNvdXJjZSA9PSBhLnNvdXJjZSkpXG4gICAgICAgICAgICA/IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zdGFydFVwZGF0ZSgpLCBkZWxheSkgOiAtMTtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9zaW5nICE9IDAgLyogQ29tcG9zaXRpb25TdGF0ZS5Ob25lICovKVxuICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgdXBkYXRlLnRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0ci5pc1VzZXJFdmVudChcImlucHV0LnR5cGVcIikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gMiAvKiBDb21wb3NpdGlvblN0YXRlLkNoYW5nZWQgKi87XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb21wb3NpbmcgPT0gMiAvKiBDb21wb3NpdGlvblN0YXRlLkNoYW5nZWQgKi8gJiYgdHIuc2VsZWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDMgLyogQ29tcG9zaXRpb25TdGF0ZS5DaGFuZ2VkQW5kTW92ZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0VXBkYXRlKCkge1xuICAgICAgICB0aGlzLmRlYm91bmNlVXBkYXRlID0gLTE7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0aGlzLnZpZXcsIGNTdGF0ZSA9IHN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSk7XG4gICAgICAgIGZvciAobGV0IGFjdGl2ZSBvZiBjU3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlLnN0YXRlID09IDEgLyogU3RhdGUuUGVuZGluZyAqLyAmJiAhdGhpcy5ydW5uaW5nLnNvbWUociA9PiByLmFjdGl2ZS5zb3VyY2UgPT0gYWN0aXZlLnNvdXJjZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFF1ZXJ5KGFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRRdWVyeShhY3RpdmUpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHRoaXMudmlldywgcG9zID0gY3VyKHN0YXRlKTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBuZXcgQ29tcGxldGlvbkNvbnRleHQoc3RhdGUsIHBvcywgYWN0aXZlLmV4cGxpY2l0UG9zID09IHBvcywgdGhpcy52aWV3KTtcbiAgICAgICAgbGV0IHBlbmRpbmcgPSBuZXcgUnVubmluZ1F1ZXJ5KGFjdGl2ZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMucnVubmluZy5wdXNoKHBlbmRpbmcpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoYWN0aXZlLnNvdXJjZShjb250ZXh0KSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKCFwZW5kaW5nLmNvbnRleHQuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcuZG9uZSA9IHJlc3VsdCB8fCBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVBY2NlcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGNsb3NlQ29tcGxldGlvbkVmZmVjdC5vZihudWxsKSB9KTtcbiAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZUFjY2VwdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZy5ldmVyeShxID0+IHEuZG9uZSAhPT0gdW5kZWZpbmVkKSlcbiAgICAgICAgICAgIHRoaXMuYWNjZXB0KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGVib3VuY2VBY2NlcHQgPCAwKVxuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hY2NlcHQoKSwgdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLnVwZGF0ZVN5bmNUaW1lKTtcbiAgICB9XG4gICAgLy8gRm9yIGVhY2ggZmluaXNoZWQgcXVlcnkgaW4gdGhpcy5ydW5uaW5nLCB0cnkgdG8gY3JlYXRlIGEgcmVzdWx0XG4gICAgLy8gb3IsIGlmIGFwcHJvcHJpYXRlLCByZXN0YXJ0IHRoZSBxdWVyeS5cbiAgICBhY2NlcHQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZGVib3VuY2VBY2NlcHQgPiAtMSlcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlQWNjZXB0KTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IC0xO1xuICAgICAgICBsZXQgdXBkYXRlZCA9IFtdO1xuICAgICAgICBsZXQgY29uZiA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IHRoaXMucnVubmluZ1tpXTtcbiAgICAgICAgICAgIGlmIChxdWVyeS5kb25lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICBpZiAocXVlcnkuZG9uZSkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSBuZXcgQWN0aXZlUmVzdWx0KHF1ZXJ5LmFjdGl2ZS5zb3VyY2UsIHF1ZXJ5LmFjdGl2ZS5leHBsaWNpdFBvcywgcXVlcnkuZG9uZSwgcXVlcnkuZG9uZS5mcm9tLCAoX2EgPSBxdWVyeS5kb25lLnRvKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjdXIocXVlcnkudXBkYXRlcy5sZW5ndGggPyBxdWVyeS51cGRhdGVzWzBdLnN0YXJ0U3RhdGUgOiB0aGlzLnZpZXcuc3RhdGUpKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYXkgdGhlIHRyYW5zYWN0aW9ucyB0aGF0IGhhcHBlbmVkIHNpbmNlIHRoZSBzdGFydCBvZlxuICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGFuZCBzZWUgaWYgdGhhdCBwcmVzZXJ2ZXMgdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRyIG9mIHF1ZXJ5LnVwZGF0ZXMpXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGFjdGl2ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUuaGFzUmVzdWx0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5wdXNoKGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSkuYWN0aXZlLmZpbmQoYSA9PiBhLnNvdXJjZSA9PSBxdWVyeS5hY3RpdmUuc291cmNlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LmRvbmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGZhaWxlZC4gU2hvdWxkIGNsZWFyIHRoZSBwZW5kaW5nIHN0YXR1cyBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBoYXNuJ3QgYmVlbiByZS1zZXQgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aXZlID0gbmV3IEFjdGl2ZVNvdXJjZShxdWVyeS5hY3RpdmUuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgcXVlcnkudXBkYXRlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGFjdGl2ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlLnN0YXRlICE9IDEgLyogU3RhdGUuUGVuZGluZyAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQucHVzaChhY3RpdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXJlZCBieSBzdWJzZXF1ZW50IHRyYW5zYWN0aW9ucy4gUmVzdGFydC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFF1ZXJ5KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRBY3RpdmVFZmZlY3Qub2YodXBkYXRlZCkgfSk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgYmx1cihldmVudCkge1xuICAgICAgICAgICAgbGV0IHN0YXRlID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLnRvb2x0aXAgJiYgdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLmNsb3NlT25CbHVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpYWxvZyA9IHN0YXRlLm9wZW4gJiYgZ2V0VG9vbHRpcCh0aGlzLnZpZXcsIHN0YXRlLm9wZW4udG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaWFsb2cgfHwgIWRpYWxvZy5kb20uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogY2xvc2VDb21wbGV0aW9uRWZmZWN0Lm9mKG51bGwpIH0pLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBvc2l0aW9uc3RhcnQoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDEgLyogQ29tcG9zaXRpb25TdGF0ZS5TdGFydGVkICovO1xuICAgICAgICB9LFxuICAgICAgICBjb21wb3NpdGlvbmVuZCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyA9PSAzIC8qIENvbXBvc2l0aW9uU3RhdGUuQ2hhbmdlZEFuZE1vdmVkICovKSB7XG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpIGZpcmVzIGNvbXBvc2l0aW9uZW5kIGV2ZW50cyBzeW5jaHJvbm91c2x5LCBwb3NzaWJseVxuICAgICAgICAgICAgICAgIC8vIGZyb20gaW5zaWRlIGFuIHVwZGF0ZSwgc28gZGlzcGF0Y2ggYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgcmVlbnRyYW5jeVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc3RhcnRDb21wbGV0aW9uRWZmZWN0Lm9mKGZhbHNlKSB9KSwgMjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAwIC8qIENvbXBvc2l0aW9uU3RhdGUuTm9uZSAqLztcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuY29uc3Qgd2luZG93cyA9IHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJvYmplY3RcIiAmJiAvKkBfX1BVUkVfXyovL1dpbi8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuY29uc3QgY29tbWl0Q2hhcmFjdGVycyA9IC8qQF9fUFVSRV9fKi9QcmVjLmhpZ2hlc3QoLypAX19QVVJFX18qL0VkaXRvclZpZXcuZG9tRXZlbnRIYW5kbGVycyh7XG4gICAga2V5ZG93bihldmVudCwgdmlldykge1xuICAgICAgICBsZXQgZmllbGQgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgICAgICBpZiAoIWZpZWxkIHx8ICFmaWVsZC5vcGVuIHx8IGZpZWxkLm9wZW4uZGlzYWJsZWQgfHwgZmllbGQub3Blbi5zZWxlY3RlZCA8IDAgfHxcbiAgICAgICAgICAgIGV2ZW50LmtleS5sZW5ndGggPiAxIHx8IGV2ZW50LmN0cmxLZXkgJiYgISh3aW5kb3dzICYmIGV2ZW50LmFsdEtleSkgfHwgZXZlbnQubWV0YUtleSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IG9wdGlvbiA9IGZpZWxkLm9wZW4ub3B0aW9uc1tmaWVsZC5vcGVuLnNlbGVjdGVkXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZpZWxkLmFjdGl2ZS5maW5kKGEgPT4gYS5zb3VyY2UgPT0gb3B0aW9uLnNvdXJjZSk7XG4gICAgICAgIGxldCBjb21taXRDaGFycyA9IG9wdGlvbi5jb21wbGV0aW9uLmNvbW1pdENoYXJhY3RlcnMgfHwgcmVzdWx0LnJlc3VsdC5jb21taXRDaGFyYWN0ZXJzO1xuICAgICAgICBpZiAoY29tbWl0Q2hhcnMgJiYgY29tbWl0Q2hhcnMuaW5kZXhPZihldmVudC5rZXkpID4gLTEpXG4gICAgICAgICAgICBhcHBseUNvbXBsZXRpb24odmlldywgb3B0aW9uKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pKTtcblxuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS10b29sdGlwLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlXCI6IHtcbiAgICAgICAgXCImID4gdWxcIjoge1xuICAgICAgICAgICAgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW4gYXV0b1wiLFxuICAgICAgICAgICAgbWF4V2lkdGhfZmFsbGJhY2s6IFwiNzAwcHhcIixcbiAgICAgICAgICAgIG1heFdpZHRoOiBcIm1pbig3MDBweCwgOTV2dylcIixcbiAgICAgICAgICAgIG1pbldpZHRoOiBcIjI1MHB4XCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMTBlbVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIGxpc3RTdHlsZTogXCJub25lXCIsXG4gICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgXCImID4gbGksICYgPiBjb21wbGV0aW9uLXNlY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMXB4IDNweFwiLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJiA+IGxpXCI6IHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJiA+IGNvbXBsZXRpb24tc2VjdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJsaXN0LWl0ZW1cIixcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHNpbHZlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNWVtXCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC43XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZSB1bCBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzE3Y1wiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlLWRpc2FibGVkIHVsIGxpW2FyaWEtc2VsZWN0ZWRdXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjNzc3XCIsXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZSB1bCBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzM0N1wiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdG9vbHRpcC1hdXRvY29tcGxldGUtZGlzYWJsZWQgdWwgbGlbYXJpYS1zZWxlY3RlZF1cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0NDRcIixcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25MaXN0SW5jb21wbGV0ZVRvcDpiZWZvcmUsIC5jbS1jb21wbGV0aW9uTGlzdEluY29tcGxldGVCb3R0b206YWZ0ZXJcIjoge1xuICAgICAgICBjb250ZW50OiAnXCLCt8K3wrdcIicsXG4gICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICB9LFxuICAgIFwiLmNtLXRvb2x0aXAuY20tY29tcGxldGlvbkluZm9cIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjNweCA5cHhcIixcbiAgICAgICAgd2lkdGg6IFwibWF4LWNvbnRlbnRcIixcbiAgICAgICAgbWF4V2lkdGg6IGAkezQwMCAvKiBJbmZvLldpZHRoICovfXB4YCxcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSW5mby5jbS1jb21wbGV0aW9uSW5mby1sZWZ0XCI6IHsgcmlnaHQ6IFwiMTAwJVwiIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkluZm8uY20tY29tcGxldGlvbkluZm8tcmlnaHRcIjogeyBsZWZ0OiBcIjEwMCVcIiB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JbmZvLmNtLWNvbXBsZXRpb25JbmZvLWxlZnQtbmFycm93XCI6IHsgcmlnaHQ6IGAkezMwIC8qIEluZm8uTWFyZ2luICovfXB4YCB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JbmZvLmNtLWNvbXBsZXRpb25JbmZvLXJpZ2h0LW5hcnJvd1wiOiB7IGxlZnQ6IGAkezMwIC8qIEluZm8uTWFyZ2luICovfXB4YCB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zbmlwcGV0RmllbGRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMDIyXCIgfSxcbiAgICBcIiZkYXJrIC5jbS1zbmlwcGV0RmllbGRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZmZmZjIyXCIgfSxcbiAgICBcIi5jbS1zbmlwcGV0RmllbGRQb3NpdGlvblwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwidGV4dC10b3BcIixcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogXCIxLjE1ZW1cIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgbWFyZ2luOiBcIjAgLTAuN3B4IC0uN2VtXCIsXG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMS40cHggZG90dGVkICM4ODhcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbk1hdGNoZWRUZXh0XCI6IHtcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCJcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25EZXRhaWxcIjoge1xuICAgICAgICBtYXJnaW5MZWZ0OiBcIjAuNWVtXCIsXG4gICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb25cIjoge1xuICAgICAgICBmb250U2l6ZTogXCI5MCVcIixcbiAgICAgICAgd2lkdGg6IFwiLjhlbVwiLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIuNmVtXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMC42XCIsXG4gICAgICAgIGJveFNpemluZzogXCJjb250ZW50LWJveFwiXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1mdW5jdGlvbiwgLmNtLWNvbXBsZXRpb25JY29uLW1ldGhvZFwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ8aSJ1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLWNsYXNzXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCIn4peLJ1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLWludGVyZmFjZVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ+KXjCdcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi12YXJpYWJsZVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ/CdkaUnXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tY29uc3RhbnRcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIifwnZC2J1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLXR5cGVcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIifwnZGhJ1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLWVudW1cIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIifiiKonXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tcHJvcGVydHlcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIifilqEnXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24ta2V5d29yZFwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ/CflJFcXHVGRTBFJ1wiIH0gLy8gRGlzYWJsZSBlbW9qaSByZW5kZXJpbmdcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLW5hbWVzcGFjZVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ+KWoidcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi10ZXh0XCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInYWJjJ1wiLCBmb250U2l6ZTogXCI1MCVcIiwgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIiB9XG4gICAgfVxufSk7XG5cbmNsYXNzIEZpZWxkUG9zIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgbGluZSwgZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxufVxuY2xhc3MgRmllbGRSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZmllbGQsIGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICBsZXQgZnJvbSA9IGNoYW5nZXMubWFwUG9zKHRoaXMuZnJvbSwgLTEsIE1hcE1vZGUuVHJhY2tEZWwpO1xuICAgICAgICBsZXQgdG8gPSBjaGFuZ2VzLm1hcFBvcyh0aGlzLnRvLCAxLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgcmV0dXJuIGZyb20gPT0gbnVsbCB8fCB0byA9PSBudWxsID8gbnVsbCA6IG5ldyBGaWVsZFJhbmdlKHRoaXMuZmllbGQsIGZyb20sIHRvKTtcbiAgICB9XG59XG5jbGFzcyBTbmlwcGV0IHtcbiAgICBjb25zdHJ1Y3RvcihsaW5lcywgZmllbGRQb3NpdGlvbnMpIHtcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLmZpZWxkUG9zaXRpb25zID0gZmllbGRQb3NpdGlvbnM7XG4gICAgfVxuICAgIGluc3RhbnRpYXRlKHN0YXRlLCBwb3MpIHtcbiAgICAgICAgbGV0IHRleHQgPSBbXSwgbGluZVN0YXJ0ID0gW3Bvc107XG4gICAgICAgIGxldCBsaW5lT2JqID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBiYXNlSW5kZW50ID0gL15cXHMqLy5leGVjKGxpbmVPYmoudGV4dClbMF07XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy5saW5lcykge1xuICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGVudCA9IGJhc2VJbmRlbnQsIHRhYnMgPSAvXlxcdCovLmV4ZWMobGluZSlbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFiczsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpbmRlbnQgKz0gc3RhdGUuZmFjZXQoaW5kZW50VW5pdCk7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0LnB1c2gocG9zICsgaW5kZW50Lmxlbmd0aCAtIHRhYnMpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBpbmRlbnQgKyBsaW5lLnNsaWNlKHRhYnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dC5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgcG9zICs9IGxpbmUubGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuZ2VzID0gdGhpcy5maWVsZFBvc2l0aW9ucy5tYXAocG9zID0+IG5ldyBGaWVsZFJhbmdlKHBvcy5maWVsZCwgbGluZVN0YXJ0W3Bvcy5saW5lXSArIHBvcy5mcm9tLCBsaW5lU3RhcnRbcG9zLmxpbmVdICsgcG9zLnRvKSk7XG4gICAgICAgIHJldHVybiB7IHRleHQsIHJhbmdlcyB9O1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2UodGVtcGxhdGUpIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IFtdO1xuICAgICAgICBsZXQgbGluZXMgPSBbXSwgcG9zaXRpb25zID0gW10sIG07XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGVtcGxhdGUuc3BsaXQoL1xcclxcbj98XFxuLykpIHtcbiAgICAgICAgICAgIHdoaWxlIChtID0gL1sjJF1cXHsoPzooXFxkKykoPzo6KFtefV0qKSk/fCgoPzpcXFxcW3t9XXxbXn1dKSopKVxcfS8uZXhlYyhsaW5lKSkge1xuICAgICAgICAgICAgICAgIGxldCBzZXEgPSBtWzFdID8gK21bMV0gOiBudWxsLCByYXdOYW1lID0gbVsyXSB8fCBtWzNdIHx8IFwiXCIsIGZvdW5kID0gLTE7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSByYXdOYW1lLnJlcGxhY2UoL1xcXFxbe31dL2csIG0gPT4gbVsxXSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcSAhPSBudWxsID8gZmllbGRzW2ldLnNlcSA9PSBzZXEgOiBuYW1lID8gZmllbGRzW2ldLm5hbWUgPT0gbmFtZSA6IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBmaWVsZHMubGVuZ3RoICYmIChzZXEgPT0gbnVsbCB8fCAoZmllbGRzW2ldLnNlcSAhPSBudWxsICYmIGZpZWxkc1tpXS5zZXEgPCBzZXEpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLnNwbGljZShpLCAwLCB7IHNlcSwgbmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3Mgb2YgcG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcy5maWVsZCA+PSBmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MuZmllbGQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobmV3IEZpZWxkUG9zKGZvdW5kLCBsaW5lcy5sZW5ndGgsIG0uaW5kZXgsIG0uaW5kZXggKyBuYW1lLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIG0uaW5kZXgpICsgcmF3TmFtZSArIGxpbmUuc2xpY2UobS5pbmRleCArIG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcXFwoW3t9XSkvZywgKF8sIGJyYWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MubGluZSA9PSBsaW5lcy5sZW5ndGggJiYgcG9zLmZyb20gPiBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmZyb20tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcy50by0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyYWNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU25pcHBldChsaW5lcywgcG9zaXRpb25zKTtcbiAgICB9XG59XG5sZXQgZmllbGRNYXJrZXIgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi53aWRnZXQoeyB3aWRnZXQ6IC8qQF9fUFVSRV9fKi9uZXcgY2xhc3MgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICAgICAgdG9ET00oKSB7XG4gICAgICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLXNuaXBwZXRGaWVsZFBvc2l0aW9uXCI7XG4gICAgICAgICAgICByZXR1cm4gc3BhbjtcbiAgICAgICAgfVxuICAgICAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfSB9KTtcbmxldCBmaWVsZFJhbmdlID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLXNuaXBwZXRGaWVsZFwiIH0pO1xuY2xhc3MgQWN0aXZlU25pcHBldCB7XG4gICAgY29uc3RydWN0b3IocmFuZ2VzLCBhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLmRlY28gPSBEZWNvcmF0aW9uLnNldChyYW5nZXMubWFwKHIgPT4gKHIuZnJvbSA9PSByLnRvID8gZmllbGRNYXJrZXIgOiBmaWVsZFJhbmdlKS5yYW5nZShyLmZyb20sIHIudG8pKSk7XG4gICAgfVxuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IG1hcHBlZCA9IHIubWFwKGNoYW5nZXMpO1xuICAgICAgICAgICAgaWYgKCFtYXBwZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZXMucHVzaChtYXBwZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQWN0aXZlU25pcHBldChyYW5nZXMsIHRoaXMuYWN0aXZlKTtcbiAgICB9XG4gICAgc2VsZWN0aW9uSW5zaWRlRmllbGQoc2VsKSB7XG4gICAgICAgIHJldHVybiBzZWwucmFuZ2VzLmV2ZXJ5KHJhbmdlID0+IHRoaXMucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IHRoaXMuYWN0aXZlICYmIHIuZnJvbSA8PSByYW5nZS5mcm9tICYmIHIudG8gPj0gcmFuZ2UudG8pKTtcbiAgICB9XG59XG5jb25zdCBzZXRBY3RpdmUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHtcbiAgICBtYXAodmFsdWUsIGNoYW5nZXMpIHsgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm1hcChjaGFuZ2VzKTsgfVxufSk7XG5jb25zdCBtb3ZlVG9GaWVsZCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IHNuaXBwZXRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEFjdGl2ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMobW92ZVRvRmllbGQpICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlU25pcHBldCh2YWx1ZS5yYW5nZXMsIGVmZmVjdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICYmIHRyLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcCh0ci5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHRyLnNlbGVjdGlvbiAmJiAhdmFsdWUuc2VsZWN0aW9uSW5zaWRlRmllbGQodHIuc2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZiA9PiBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZiwgdmFsID0+IHZhbCA/IHZhbC5kZWNvIDogRGVjb3JhdGlvbi5ub25lKVxufSk7XG5mdW5jdGlvbiBmaWVsZFNlbGVjdGlvbihyYW5nZXMsIGZpZWxkKSB7XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLmZpbHRlcihyID0+IHIuZmllbGQgPT0gZmllbGQpLm1hcChyID0+IEVkaXRvclNlbGVjdGlvbi5yYW5nZShyLmZyb20sIHIudG8pKSk7XG59XG4vKipcbkNvbnZlcnQgYSBzbmlwcGV0IHRlbXBsYXRlIHRvIGEgZnVuY3Rpb24gdGhhdCBjYW5cblthcHBseV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvbi5hcHBseSkgaXQuIFNuaXBwZXRzIGFyZSB3cml0dGVuXG51c2luZyBzeW50YXggbGlrZSB0aGlzOlxuXG4gICAgXCJmb3IgKGxldCAke2luZGV4fSA9IDA7ICR7aW5kZXh9IDwgJHtlbmR9OyAke2luZGV4fSsrKSB7XFxuXFx0JHt9XFxufVwiXG5cbkVhY2ggYCR7fWAgcGxhY2Vob2xkZXIgKHlvdSBtYXkgYWxzbyB1c2UgYCN7fWApIGluZGljYXRlcyBhIGZpZWxkXG50aGF0IHRoZSB1c2VyIGNhbiBmaWxsIGluLiBJdHMgbmFtZSwgaWYgYW55LCB3aWxsIGJlIHRoZSBkZWZhdWx0XG5jb250ZW50IGZvciB0aGUgZmllbGQuXG5cbldoZW4gdGhlIHNuaXBwZXQgaXMgYWN0aXZhdGVkIGJ5IGNhbGxpbmcgdGhlIHJldHVybmVkIGZ1bmN0aW9uLFxudGhlIGNvZGUgaXMgaW5zZXJ0ZWQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBOZXdsaW5lcyBpbiB0aGVcbnRlbXBsYXRlIGFyZSBpbmRlbnRlZCBieSB0aGUgaW5kZW50YXRpb24gb2YgdGhlIHN0YXJ0IGxpbmUsIHBsdXNcbm9uZSBbaW5kZW50IHVuaXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50VW5pdCkgcGVyIHRhYiBjaGFyYWN0ZXIgYWZ0ZXJcbnRoZSBuZXdsaW5lLlxuXG5PbiBhY3RpdmF0aW9uLCAoYWxsIGluc3RhbmNlcyBvZikgdGhlIGZpcnN0IGZpZWxkIGFyZSBzZWxlY3RlZC5cblRoZSB1c2VyIGNhbiBtb3ZlIGJldHdlZW4gZmllbGRzIHdpdGggVGFiIGFuZCBTaGlmdC1UYWIgYXMgbG9uZyBhc1xudGhlIGZpZWxkcyBhcmUgYWN0aXZlLiBNb3ZpbmcgdG8gdGhlIGxhc3QgZmllbGQgb3IgbW92aW5nIHRoZVxuY3Vyc29yIG91dCBvZiB0aGUgY3VycmVudCBmaWVsZCBkZWFjdGl2YXRlcyB0aGUgZmllbGRzLlxuXG5UaGUgb3JkZXIgb2YgZmllbGRzIGRlZmF1bHRzIHRvIHRleHR1YWwgb3JkZXIsIGJ1dCB5b3UgY2FuIGFkZFxubnVtYmVycyB0byBwbGFjZWhvbGRlcnMgKGAkezF9YCBvciBgJHsxOmRlZmF1bHRUZXh0fWApIHRvIHByb3ZpZGVcbmEgY3VzdG9tIG9yZGVyLlxuXG5UbyBpbmNsdWRlIGEgbGl0ZXJhbCBge2Agb3IgYH1gIGluIHlvdXIgdGVtcGxhdGUsIHB1dCBhIGJhY2tzbGFzaFxuaW4gZnJvbnQgb2YgaXQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGFuZCB0aGUgYnJhY2Ugd2lsbCBub3QgYmVcbmludGVycHJldGVkIGFzIGluZGljYXRpbmcgYSBwbGFjZWhvbGRlci5cbiovXG5mdW5jdGlvbiBzbmlwcGV0KHRlbXBsYXRlKSB7XG4gICAgbGV0IHNuaXBwZXQgPSBTbmlwcGV0LnBhcnNlKHRlbXBsYXRlKTtcbiAgICByZXR1cm4gKGVkaXRvciwgY29tcGxldGlvbiwgZnJvbSwgdG8pID0+IHtcbiAgICAgICAgbGV0IHsgdGV4dCwgcmFuZ2VzIH0gPSBzbmlwcGV0Lmluc3RhbnRpYXRlKGVkaXRvci5zdGF0ZSwgZnJvbSk7XG4gICAgICAgIGxldCBzcGVjID0ge1xuICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tLCB0bywgaW5zZXJ0OiBUZXh0Lm9mKHRleHQpIH0sXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIGFubm90YXRpb25zOiBjb21wbGV0aW9uID8gW3BpY2tlZENvbXBsZXRpb24ub2YoY29tcGxldGlvbiksIFRyYW5zYWN0aW9uLnVzZXJFdmVudC5vZihcImlucHV0LmNvbXBsZXRlXCIpXSA6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHNwZWMuc2VsZWN0aW9uID0gZmllbGRTZWxlY3Rpb24ocmFuZ2VzLCAwKTtcbiAgICAgICAgaWYgKHJhbmdlcy5zb21lKHIgPT4gci5maWVsZCA+IDApKSB7XG4gICAgICAgICAgICBsZXQgYWN0aXZlID0gbmV3IEFjdGl2ZVNuaXBwZXQocmFuZ2VzLCAwKTtcbiAgICAgICAgICAgIGxldCBlZmZlY3RzID0gc3BlYy5lZmZlY3RzID0gW3NldEFjdGl2ZS5vZihhY3RpdmUpXTtcbiAgICAgICAgICAgIGlmIChlZGl0b3Iuc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKFtzbmlwcGV0U3RhdGUsIGFkZFNuaXBwZXRLZXltYXAsIHNuaXBwZXRQb2ludGVySGFuZGxlciwgYmFzZVRoZW1lXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5kaXNwYXRjaChlZGl0b3Iuc3RhdGUudXBkYXRlKHNwZWMpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbW92ZUZpZWxkKGRpcikge1xuICAgIHJldHVybiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgICAgIGlmICghYWN0aXZlIHx8IGRpciA8IDAgJiYgYWN0aXZlLmFjdGl2ZSA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgbmV4dCA9IGFjdGl2ZS5hY3RpdmUgKyBkaXIsIGxhc3QgPSBkaXIgPiAwICYmICFhY3RpdmUucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IG5leHQgKyBkaXIpO1xuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgc2VsZWN0aW9uOiBmaWVsZFNlbGVjdGlvbihhY3RpdmUucmFuZ2VzLCBuZXh0KSxcbiAgICAgICAgICAgIGVmZmVjdHM6IHNldEFjdGl2ZS5vZihsYXN0ID8gbnVsbCA6IG5ldyBBY3RpdmVTbmlwcGV0KGFjdGl2ZS5yYW5nZXMsIG5leHQpKSxcbiAgICAgICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuQSBjb21tYW5kIHRoYXQgY2xlYXJzIHRoZSBhY3RpdmUgc25pcHBldCwgaWYgYW55LlxuKi9cbmNvbnN0IGNsZWFyU25pcHBldCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IGFjdGl2ZSA9IHN0YXRlLmZpZWxkKHNuaXBwZXRTdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghYWN0aXZlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgZWZmZWN0czogc2V0QWN0aXZlLm9mKG51bGwpIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdG8gdGhlIG5leHQgc25pcHBldCBmaWVsZCwgaWYgYXZhaWxhYmxlLlxuKi9cbmNvbnN0IG5leHRTbmlwcGV0RmllbGQgPSAvKkBfX1BVUkVfXyovbW92ZUZpZWxkKDEpO1xuLyoqXG5Nb3ZlIHRvIHRoZSBwcmV2aW91cyBzbmlwcGV0IGZpZWxkLCBpZiBhdmFpbGFibGUuXG4qL1xuY29uc3QgcHJldlNuaXBwZXRGaWVsZCA9IC8qQF9fUFVSRV9fKi9tb3ZlRmllbGQoLTEpO1xuLyoqXG5DaGVjayBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgc25pcHBldCB3aXRoIGEgbmV4dCBmaWVsZCBmb3JcbmBuZXh0U25pcHBldEZpZWxkYCB0byBtb3ZlIHRvLlxuKi9cbmZ1bmN0aW9uIGhhc05leHRTbmlwcGV0RmllbGQoc3RhdGUpIHtcbiAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuICEhKGFjdGl2ZSAmJiBhY3RpdmUucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IGFjdGl2ZS5hY3RpdmUgKyAxKSk7XG59XG4vKipcblJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgc25pcHBldCBhbmQgYSBwcmV2aW91cyBmaWVsZFxuZm9yIGBwcmV2U25pcHBldEZpZWxkYCB0byBtb3ZlIHRvLlxuKi9cbmZ1bmN0aW9uIGhhc1ByZXZTbmlwcGV0RmllbGQoc3RhdGUpIHtcbiAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuICEhKGFjdGl2ZSAmJiBhY3RpdmUuYWN0aXZlID4gMCk7XG59XG5jb25zdCBkZWZhdWx0U25pcHBldEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJUYWJcIiwgcnVuOiBuZXh0U25pcHBldEZpZWxkLCBzaGlmdDogcHJldlNuaXBwZXRGaWVsZCB9LFxuICAgIHsga2V5OiBcIkVzY2FwZVwiLCBydW46IGNsZWFyU25pcHBldCB9XG5dO1xuLyoqXG5BIGZhY2V0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBrZXkgYmluZGluZ3MgdXNlZCBieVxuc25pcHBldHMuIFRoZSBkZWZhdWx0IGJpbmRzIFRhYiB0b1xuW2BuZXh0U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubmV4dFNuaXBwZXRGaWVsZCksIFNoaWZ0LVRhYiB0b1xuW2BwcmV2U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUucHJldlNuaXBwZXRGaWVsZCksIGFuZCBFc2NhcGVcbnRvIFtgY2xlYXJTbmlwcGV0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuY2xlYXJTbmlwcGV0KS5cbiovXG5jb25zdCBzbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShtYXBzKSB7IHJldHVybiBtYXBzLmxlbmd0aCA/IG1hcHNbMF0gOiBkZWZhdWx0U25pcHBldEtleW1hcDsgfVxufSk7XG5jb25zdCBhZGRTbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyova2V5bWFwLmNvbXB1dGUoW3NuaXBwZXRLZXltYXBdLCBzdGF0ZSA9PiBzdGF0ZS5mYWNldChzbmlwcGV0S2V5bWFwKSkpO1xuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIGZyb20gYSBzbmlwcGV0LiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZVxucHJvcGVydGllcyBmcm9tIGBjb21wbGV0aW9uYCwgcGx1cyBhbiBgYXBwbHlgIGZ1bmN0aW9uIHRoYXRcbmFwcGxpZXMgdGhlIHNuaXBwZXQuXG4qL1xuZnVuY3Rpb24gc25pcHBldENvbXBsZXRpb24odGVtcGxhdGUsIGNvbXBsZXRpb24pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21wbGV0aW9uKSwgeyBhcHBseTogc25pcHBldCh0ZW1wbGF0ZSkgfSk7XG59XG5jb25zdCBzbmlwcGV0UG9pbnRlckhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBtb3VzZWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgbGV0IGFjdGl2ZSA9IHZpZXcuc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSksIHBvcztcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgKHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2ggPSBhY3RpdmUucmFuZ2VzLmZpbmQociA9PiByLmZyb20gPD0gcG9zICYmIHIudG8gPj0gcG9zKTtcbiAgICAgICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5maWVsZCA9PSBhY3RpdmUuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZmllbGRTZWxlY3Rpb24oYWN0aXZlLnJhbmdlcywgbWF0Y2guZmllbGQpLFxuICAgICAgICAgICAgZWZmZWN0czogc2V0QWN0aXZlLm9mKGFjdGl2ZS5yYW5nZXMuc29tZShyID0+IHIuZmllbGQgPiBtYXRjaC5maWVsZClcbiAgICAgICAgICAgICAgICA/IG5ldyBBY3RpdmVTbmlwcGV0KGFjdGl2ZS5yYW5nZXMsIG1hdGNoLmZpZWxkKSA6IG51bGwpLFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiB3b3JkUkUod29yZENoYXJzKSB7XG4gICAgbGV0IGVzY2FwZWQgPSB3b3JkQ2hhcnMucmVwbGFjZSgvW1xcXVxcLVxcXFxdL2csIFwiXFxcXCQmXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBbXFxcXHB7QWxwaGFiZXRpY31cXFxccHtOdW1iZXJ9XyR7ZXNjYXBlZH1dK2AsIFwidWdcIik7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgW1xcdyR7ZXNjYXBlZH1dYCwgXCJnXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFJFKHJlLCBmKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoZihyZS5zb3VyY2UpLCByZS51bmljb2RlID8gXCJ1XCIgOiBcIlwiKTtcbn1cbmNvbnN0IHdvcmRDYWNoZXMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIHdvcmRDYWNoZSh3b3JkQ2hhcnMpIHtcbiAgICByZXR1cm4gd29yZENhY2hlc1t3b3JkQ2hhcnNdIHx8ICh3b3JkQ2FjaGVzW3dvcmRDaGFyc10gPSBuZXcgV2Vha01hcCk7XG59XG5mdW5jdGlvbiBzdG9yZVdvcmRzKGRvYywgd29yZFJFLCByZXN1bHQsIHNlZW4sIGlnbm9yZUF0KSB7XG4gICAgZm9yIChsZXQgbGluZXMgPSBkb2MuaXRlckxpbmVzKCksIHBvcyA9IDA7ICFsaW5lcy5uZXh0KCkuZG9uZTspIHtcbiAgICAgICAgbGV0IHsgdmFsdWUgfSA9IGxpbmVzLCBtO1xuICAgICAgICB3b3JkUkUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKG0gPSB3b3JkUkUuZXhlYyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICghc2VlblttWzBdXSAmJiBwb3MgKyBtLmluZGV4ICE9IGlnbm9yZUF0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyB0eXBlOiBcInRleHRcIiwgbGFiZWw6IG1bMF0gfSk7XG4gICAgICAgICAgICAgICAgc2VlblttWzBdXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPj0gMjAwMCAvKiBDLk1heExpc3QgKi8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gdmFsdWUubGVuZ3RoICsgMTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb2xsZWN0V29yZHMoZG9jLCBjYWNoZSwgd29yZFJFLCB0bywgaWdub3JlQXQpIHtcbiAgICBsZXQgYmlnID0gZG9jLmxlbmd0aCA+PSAxMDAwIC8qIEMuTWluQ2FjaGVMZW4gKi87XG4gICAgbGV0IGNhY2hlZCA9IGJpZyAmJiBjYWNoZS5nZXQoZG9jKTtcbiAgICBpZiAoY2FjaGVkKVxuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIGxldCByZXN1bHQgPSBbXSwgc2VlbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGRvYy5jaGlsZHJlbikge1xuICAgICAgICBsZXQgcG9zID0gMDtcbiAgICAgICAgZm9yIChsZXQgY2ggb2YgZG9jLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2gubGVuZ3RoID49IDEwMDAgLyogQy5NaW5DYWNoZUxlbiAqLykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29sbGVjdFdvcmRzKGNoLCBjYWNoZSwgd29yZFJFLCB0byAtIHBvcywgaWdub3JlQXQgLSBwb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VlbltjLmxhYmVsXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VlbltjLmxhYmVsXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3JlV29yZHMoY2gsIHdvcmRSRSwgcmVzdWx0LCBzZWVuLCBpZ25vcmVBdCAtIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgKz0gY2gubGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RvcmVXb3Jkcyhkb2MsIHdvcmRSRSwgcmVzdWx0LCBzZWVuLCBpZ25vcmVBdCk7XG4gICAgfVxuICAgIGlmIChiaWcgJiYgcmVzdWx0Lmxlbmd0aCA8IDIwMDAgLyogQy5NYXhMaXN0ICovKVxuICAgICAgICBjYWNoZS5zZXQoZG9jLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkEgY29tcGxldGlvbiBzb3VyY2UgdGhhdCB3aWxsIHNjYW4gdGhlIGRvY3VtZW50IGZvciB3b3JkcyAodXNpbmcgYVxuW2NoYXJhY3RlciBjYXRlZ29yaXplcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIpKSwgYW5kXG5yZXR1cm4gdGhvc2UgYXMgY29tcGxldGlvbnMuXG4qL1xuY29uc3QgY29tcGxldGVBbnlXb3JkID0gY29udGV4dCA9PiB7XG4gICAgbGV0IHdvcmRDaGFycyA9IGNvbnRleHQuc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJ3b3JkQ2hhcnNcIiwgY29udGV4dC5wb3MpLmpvaW4oXCJcIik7XG4gICAgbGV0IHJlID0gd29yZFJFKHdvcmRDaGFycyk7XG4gICAgbGV0IHRva2VuID0gY29udGV4dC5tYXRjaEJlZm9yZShtYXBSRShyZSwgcyA9PiBzICsgXCIkXCIpKTtcbiAgICBpZiAoIXRva2VuICYmICFjb250ZXh0LmV4cGxpY2l0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZnJvbSA9IHRva2VuID8gdG9rZW4uZnJvbSA6IGNvbnRleHQucG9zO1xuICAgIGxldCBvcHRpb25zID0gY29sbGVjdFdvcmRzKGNvbnRleHQuc3RhdGUuZG9jLCB3b3JkQ2FjaGUod29yZENoYXJzKSwgcmUsIDUwMDAwIC8qIEMuUmFuZ2UgKi8sIGZyb20pO1xuICAgIHJldHVybiB7IGZyb20sIG9wdGlvbnMsIHZhbGlkRm9yOiBtYXBSRShyZSwgcyA9PiBcIl5cIiArIHMpIH07XG59O1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBicmFja2V0czogW1wiKFwiLCBcIltcIiwgXCJ7XCIsIFwiJ1wiLCAnXCInXSxcbiAgICBiZWZvcmU6IFwiKV19Ojs+XCIsXG4gICAgc3RyaW5nUHJlZml4ZXM6IFtdXG59O1xuY29uc3QgY2xvc2VCcmFja2V0RWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHZhbHVlLCBtYXBwaW5nKSB7XG4gICAgICAgIGxldCBtYXBwZWQgPSBtYXBwaW5nLm1hcFBvcyh2YWx1ZSwgLTEsIE1hcE1vZGUuVHJhY2tBZnRlcik7XG4gICAgICAgIHJldHVybiBtYXBwZWQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG1hcHBlZDtcbiAgICB9XG59KTtcbmNvbnN0IGNsb3NlZEJyYWNrZXQgPSAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG59O1xuY2xvc2VkQnJhY2tldC5zdGFydFNpZGUgPSAxO1xuY2xvc2VkQnJhY2tldC5lbmRTaWRlID0gLTE7XG5jb25zdCBicmFja2V0U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHsgcmV0dXJuIFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gdHIuc3RhdGUuZG9jLmxpbmVBdCh0ci5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudXBkYXRlKHsgZmlsdGVyOiBmcm9tID0+IGZyb20gPj0gbGluZS5mcm9tICYmIGZyb20gPD0gbGluZS50byB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoY2xvc2VCcmFja2V0RWZmZWN0KSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnVwZGF0ZSh7IGFkZDogW2Nsb3NlZEJyYWNrZXQucmFuZ2UoZWZmZWN0LnZhbHVlLCBlZmZlY3QudmFsdWUgKyAxKV0gfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59KTtcbi8qKlxuRXh0ZW5zaW9uIHRvIGVuYWJsZSBicmFja2V0LWNsb3NpbmcgYmVoYXZpb3IuIFdoZW4gYSBjbG9zZWFibGVcbmJyYWNrZXQgaXMgdHlwZWQsIGl0cyBjbG9zaW5nIGJyYWNrZXQgaXMgaW1tZWRpYXRlbHkgaW5zZXJ0ZWRcbmFmdGVyIHRoZSBjdXJzb3IuIFdoZW4gY2xvc2luZyBhIGJyYWNrZXQgZGlyZWN0bHkgaW4gZnJvbnQgb2YgYVxuY2xvc2luZyBicmFja2V0IGluc2VydGVkIGJ5IHRoZSBleHRlbnNpb24sIHRoZSBjdXJzb3IgbW92ZXMgb3ZlclxudGhhdCBicmFja2V0LlxuKi9cbmZ1bmN0aW9uIGNsb3NlQnJhY2tldHMoKSB7XG4gICAgcmV0dXJuIFtpbnB1dEhhbmRsZXIsIGJyYWNrZXRTdGF0ZV07XG59XG5jb25zdCBkZWZpbmVkQ2xvc2luZyA9IFwiKClbXXt9PD5cIjtcbmZ1bmN0aW9uIGNsb3NpbmcoY2gpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmluZWRDbG9zaW5nLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICBpZiAoZGVmaW5lZENsb3NpbmcuY2hhckNvZGVBdChpKSA9PSBjaClcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVkQ2xvc2luZy5jaGFyQXQoaSArIDEpO1xuICAgIHJldHVybiBmcm9tQ29kZVBvaW50KGNoIDwgMTI4ID8gY2ggOiBjaCArIDEpO1xufVxuZnVuY3Rpb24gY29uZmlnKHN0YXRlLCBwb3MpIHtcbiAgICByZXR1cm4gc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJjbG9zZUJyYWNrZXRzXCIsIHBvcylbMF0gfHwgZGVmYXVsdHM7XG59XG5jb25zdCBhbmRyb2lkID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcIm9iamVjdFwiICYmIC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmNvbnN0IGlucHV0SGFuZGxlciA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIGluc2VydCkgPT4ge1xuICAgIGlmICgoYW5kcm9pZCA/IHZpZXcuY29tcG9zaW5nIDogdmlldy5jb21wb3NpdGlvblN0YXJ0ZWQpIHx8IHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBpZiAoaW5zZXJ0Lmxlbmd0aCA+IDIgfHwgaW5zZXJ0Lmxlbmd0aCA9PSAyICYmIGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQoaW5zZXJ0LCAwKSkgPT0gMSB8fFxuICAgICAgICBmcm9tICE9IHNlbC5mcm9tIHx8IHRvICE9IHNlbC50bylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB0ciA9IGluc2VydEJyYWNrZXQodmlldy5zdGF0ZSwgaW5zZXJ0KTtcbiAgICBpZiAoIXRyKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaCh0cik7XG4gICAgcmV0dXJuIHRydWU7XG59KTtcbi8qKlxuQ29tbWFuZCB0aGF0IGltcGxlbWVudHMgZGVsZXRpbmcgYSBwYWlyIG9mIG1hdGNoaW5nIGJyYWNrZXRzIHdoZW5cbnRoZSBjdXJzb3IgaXMgYmV0d2VlbiB0aGVtLlxuKi9cbmNvbnN0IGRlbGV0ZUJyYWNrZXRQYWlyID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY29uZiA9IGNvbmZpZyhzdGF0ZSwgc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCk7XG4gICAgbGV0IHRva2VucyA9IGNvbmYuYnJhY2tldHMgfHwgZGVmYXVsdHMuYnJhY2tldHM7XG4gICAgbGV0IGRvbnQgPSBudWxsLCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgbGV0IGJlZm9yZSA9IHByZXZDaGFyKHN0YXRlLmRvYywgcmFuZ2UuaGVhZCk7XG4gICAgICAgICAgICBmb3IgKGxldCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT0gYmVmb3JlICYmIG5leHRDaGFyKHN0YXRlLmRvYywgcmFuZ2UuaGVhZCkgPT0gY2xvc2luZyhjb2RlUG9pbnRBdCh0b2tlbiwgMCkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmhlYWQgLSB0b2tlbi5sZW5ndGgsIHRvOiByYW5nZS5oZWFkICsgdG9rZW4ubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5oZWFkIC0gdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiBkb250ID0gcmFuZ2UgfTtcbiAgICB9KTtcbiAgICBpZiAoIWRvbnQpXG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiZGVsZXRlLmJhY2t3YXJkXCIgfSkpO1xuICAgIHJldHVybiAhZG9udDtcbn07XG4vKipcbkNsb3NlLWJyYWNrZXRzIHJlbGF0ZWQga2V5IGJpbmRpbmdzLiBCaW5kcyBCYWNrc3BhY2UgdG9cbltgZGVsZXRlQnJhY2tldFBhaXJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5kZWxldGVCcmFja2V0UGFpcikuXG4qL1xuY29uc3QgY2xvc2VCcmFja2V0c0tleW1hcCA9IFtcbiAgICB7IGtleTogXCJCYWNrc3BhY2VcIiwgcnVuOiBkZWxldGVCcmFja2V0UGFpciB9XG5dO1xuLyoqXG5JbXBsZW1lbnRzIHRoZSBleHRlbnNpb24ncyBiZWhhdmlvciBvbiB0ZXh0IGluc2VydGlvbi4gSWYgdGhlXG5naXZlbiBzdHJpbmcgY291bnRzIGFzIGEgYnJhY2tldCBpbiB0aGUgbGFuZ3VhZ2UgYXJvdW5kIHRoZVxuc2VsZWN0aW9uLCBhbmQgcmVwbGFjaW5nIHRoZSBzZWxlY3Rpb24gd2l0aCBpdCByZXF1aXJlcyBjdXN0b21cbmJlaGF2aW9yIChpbnNlcnRpbmcgYSBjbG9zaW5nIHZlcnNpb24gb3Igc2tpcHBpbmcgcGFzdCBhXG5wcmV2aW91c2x5LWNsb3NlZCBicmFja2V0KSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgdHJhbnNhY3Rpb25cbnJlcHJlc2VudGluZyB0aGF0IGN1c3RvbSBiZWhhdmlvci4gKFlvdSBvbmx5IG5lZWQgdGhpcyBpZiB5b3Ugd2FudFxudG8gcHJvZ3JhbW1hdGljYWxseSBpbnNlcnQgYnJhY2tldHPigJR0aGVcbltgY2xvc2VCcmFja2V0c2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmNsb3NlQnJhY2tldHMpIGV4dGVuc2lvbiB3aWxsXG50YWtlIGNhcmUgb2YgcnVubmluZyB0aGlzIGZvciB1c2VyIGlucHV0LilcbiovXG5mdW5jdGlvbiBpbnNlcnRCcmFja2V0KHN0YXRlLCBicmFja2V0KSB7XG4gICAgbGV0IGNvbmYgPSBjb25maWcoc3RhdGUsIHN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgIGxldCB0b2tlbnMgPSBjb25mLmJyYWNrZXRzIHx8IGRlZmF1bHRzLmJyYWNrZXRzO1xuICAgIGZvciAobGV0IHRvayBvZiB0b2tlbnMpIHtcbiAgICAgICAgbGV0IGNsb3NlZCA9IGNsb3NpbmcoY29kZVBvaW50QXQodG9rLCAwKSk7XG4gICAgICAgIGlmIChicmFja2V0ID09IHRvaylcbiAgICAgICAgICAgIHJldHVybiBjbG9zZWQgPT0gdG9rID8gaGFuZGxlU2FtZShzdGF0ZSwgdG9rLCB0b2tlbnMuaW5kZXhPZih0b2sgKyB0b2sgKyB0b2spID4gLTEsIGNvbmYpXG4gICAgICAgICAgICAgICAgOiBoYW5kbGVPcGVuKHN0YXRlLCB0b2ssIGNsb3NlZCwgY29uZi5iZWZvcmUgfHwgZGVmYXVsdHMuYmVmb3JlKTtcbiAgICAgICAgaWYgKGJyYWNrZXQgPT0gY2xvc2VkICYmIGNsb3NlZEJyYWNrZXRBdChzdGF0ZSwgc3RhdGUuc2VsZWN0aW9uLm1haW4uZnJvbSkpXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2xvc2Uoc3RhdGUsIHRvaywgY2xvc2VkKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjbG9zZWRCcmFja2V0QXQoc3RhdGUsIHBvcykge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIHN0YXRlLmZpZWxkKGJyYWNrZXRTdGF0ZSkuYmV0d2VlbigwLCBzdGF0ZS5kb2MubGVuZ3RoLCBmcm9tID0+IHtcbiAgICAgICAgaWYgKGZyb20gPT0gcG9zKVxuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIG5leHRDaGFyKGRvYywgcG9zKSB7XG4gICAgbGV0IG5leHQgPSBkb2Muc2xpY2VTdHJpbmcocG9zLCBwb3MgKyAyKTtcbiAgICByZXR1cm4gbmV4dC5zbGljZSgwLCBjb2RlUG9pbnRTaXplKGNvZGVQb2ludEF0KG5leHQsIDApKSk7XG59XG5mdW5jdGlvbiBwcmV2Q2hhcihkb2MsIHBvcykge1xuICAgIGxldCBwcmV2ID0gZG9jLnNsaWNlU3RyaW5nKHBvcyAtIDIsIHBvcyk7XG4gICAgcmV0dXJuIGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQocHJldiwgMCkpID09IHByZXYubGVuZ3RoID8gcHJldiA6IHByZXYuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBoYW5kbGVPcGVuKHN0YXRlLCBvcGVuLCBjbG9zZSwgY2xvc2VCZWZvcmUpIHtcbiAgICBsZXQgZG9udCA9IG51bGwsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IFt7IGluc2VydDogb3BlbiwgZnJvbTogcmFuZ2UuZnJvbSB9LCB7IGluc2VydDogY2xvc2UsIGZyb206IHJhbmdlLnRvIH1dLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGNsb3NlQnJhY2tldEVmZmVjdC5vZihyYW5nZS50byArIG9wZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmFuY2hvciArIG9wZW4ubGVuZ3RoLCByYW5nZS5oZWFkICsgb3Blbi5sZW5ndGgpIH07XG4gICAgICAgIGxldCBuZXh0ID0gbmV4dENoYXIoc3RhdGUuZG9jLCByYW5nZS5oZWFkKTtcbiAgICAgICAgaWYgKCFuZXh0IHx8IC9cXHMvLnRlc3QobmV4dCkgfHwgY2xvc2VCZWZvcmUuaW5kZXhPZihuZXh0KSA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IG9wZW4gKyBjbG9zZSwgZnJvbTogcmFuZ2UuaGVhZCB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGNsb3NlQnJhY2tldEVmZmVjdC5vZihyYW5nZS5oZWFkICsgb3Blbi5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmhlYWQgKyBvcGVuLmxlbmd0aCkgfTtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IGRvbnQgPSByYW5nZSB9O1xuICAgIH0pO1xuICAgIHJldHVybiBkb250ID8gbnVsbCA6IHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQudHlwZVwiXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYW5kbGVDbG9zZShzdGF0ZSwgX29wZW4sIGNsb3NlKSB7XG4gICAgbGV0IGRvbnQgPSBudWxsLCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSAmJiBuZXh0Q2hhcihzdGF0ZS5kb2MsIHJhbmdlLmhlYWQpID09IGNsb3NlKVxuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5oZWFkLCB0bzogcmFuZ2UuaGVhZCArIGNsb3NlLmxlbmd0aCwgaW5zZXJ0OiBjbG9zZSB9LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmhlYWQgKyBjbG9zZS5sZW5ndGgpIH07XG4gICAgICAgIHJldHVybiBkb250ID0geyByYW5nZSB9O1xuICAgIH0pO1xuICAgIHJldHVybiBkb250ID8gbnVsbCA6IHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQudHlwZVwiXG4gICAgfSk7XG59XG4vLyBIYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSBvcGVuIGFuZCBjbG9zZSB0b2tlbiBhcmUgdGhlIHNhbWUsIGFuZFxuLy8gcG9zc2libHkgdHJpcGxlIHF1b3RlcyAoYXMgaW4gYFwiXCJcImFiY1wiXCJcImAtc3R5bGUgcXVvdGluZykuXG5mdW5jdGlvbiBoYW5kbGVTYW1lKHN0YXRlLCB0b2tlbiwgYWxsb3dUcmlwbGUsIGNvbmZpZykge1xuICAgIGxldCBzdHJpbmdQcmVmaXhlcyA9IGNvbmZpZy5zdHJpbmdQcmVmaXhlcyB8fCBkZWZhdWx0cy5zdHJpbmdQcmVmaXhlcztcbiAgICBsZXQgZG9udCA9IG51bGwsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IFt7IGluc2VydDogdG9rZW4sIGZyb206IHJhbmdlLmZyb20gfSwgeyBpbnNlcnQ6IHRva2VuLCBmcm9tOiByYW5nZS50byB9XSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocmFuZ2UudG8gKyB0b2tlbi5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yICsgdG9rZW4ubGVuZ3RoLCByYW5nZS5oZWFkICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICBsZXQgcG9zID0gcmFuZ2UuaGVhZCwgbmV4dCA9IG5leHRDaGFyKHN0YXRlLmRvYywgcG9zKSwgc3RhcnQ7XG4gICAgICAgIGlmIChuZXh0ID09IHRva2VuKSB7XG4gICAgICAgICAgICBpZiAobm9kZVN0YXJ0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IHRva2VuICsgdG9rZW4sIGZyb206IHBvcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocG9zICsgdG9rZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2xvc2VkQnJhY2tldEF0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzVHJpcGxlID0gYWxsb3dUcmlwbGUgJiYgc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyB0b2tlbi5sZW5ndGggKiAzKSA9PSB0b2tlbiArIHRva2VuICsgdG9rZW47XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBpc1RyaXBsZSA/IHRva2VuICsgdG9rZW4gKyB0b2tlbiA6IHRva2VuO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogcG9zLCB0bzogcG9zICsgY29udGVudC5sZW5ndGgsIGluc2VydDogY29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MgKyBjb250ZW50Lmxlbmd0aCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbGxvd1RyaXBsZSAmJiBzdGF0ZS5zbGljZURvYyhwb3MgLSAyICogdG9rZW4ubGVuZ3RoLCBwb3MpID09IHRva2VuICsgdG9rZW4gJiZcbiAgICAgICAgICAgIChzdGFydCA9IGNhblN0YXJ0U3RyaW5nQXQoc3RhdGUsIHBvcyAtIDIgKiB0b2tlbi5sZW5ndGgsIHN0cmluZ1ByZWZpeGVzKSkgPiAtMSAmJlxuICAgICAgICAgICAgbm9kZVN0YXJ0KHN0YXRlLCBzdGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgaW5zZXJ0OiB0b2tlbiArIHRva2VuICsgdG9rZW4gKyB0b2tlbiwgZnJvbTogcG9zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogY2xvc2VCcmFja2V0RWZmZWN0Lm9mKHBvcyArIHRva2VuLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpKG5leHQpICE9IENoYXJDYXRlZ29yeS5Xb3JkKSB7XG4gICAgICAgICAgICBpZiAoY2FuU3RhcnRTdHJpbmdBdChzdGF0ZSwgcG9zLCBzdHJpbmdQcmVmaXhlcykgPiAtMSAmJiAhcHJvYmFibHlJblN0cmluZyhzdGF0ZSwgcG9zLCB0b2tlbiwgc3RyaW5nUHJlZml4ZXMpKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgaW5zZXJ0OiB0b2tlbiArIHRva2VuLCBmcm9tOiBwb3MgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogY2xvc2VCcmFja2V0RWZmZWN0Lm9mKHBvcyArIHRva2VuLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcyArIHRva2VuLmxlbmd0aCkgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYW5nZTogZG9udCA9IHJhbmdlIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvbnQgPyBudWxsIDogc3RhdGUudXBkYXRlKGNoYW5nZXMsIHtcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgIHVzZXJFdmVudDogXCJpbnB1dC50eXBlXCJcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vZGVTdGFydChzdGF0ZSwgcG9zKSB7XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zICsgMSk7XG4gICAgcmV0dXJuIHRyZWUucGFyZW50ICYmIHRyZWUuZnJvbSA9PSBwb3M7XG59XG5mdW5jdGlvbiBwcm9iYWJseUluU3RyaW5nKHN0YXRlLCBwb3MsIHF1b3RlVG9rZW4sIHByZWZpeGVzKSB7XG4gICAgbGV0IG5vZGUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zLCAtMSk7XG4gICAgbGV0IG1heFByZWZpeCA9IHByZWZpeGVzLnJlZHVjZSgobSwgcCkgPT4gTWF0aC5tYXgobSwgcC5sZW5ndGgpLCAwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBsZXQgc3RhcnQgPSBzdGF0ZS5zbGljZURvYyhub2RlLmZyb20sIE1hdGgubWluKG5vZGUudG8sIG5vZGUuZnJvbSArIHF1b3RlVG9rZW4ubGVuZ3RoICsgbWF4UHJlZml4KSk7XG4gICAgICAgIGxldCBxdW90ZVBvcyA9IHN0YXJ0LmluZGV4T2YocXVvdGVUb2tlbik7XG4gICAgICAgIGlmICghcXVvdGVQb3MgfHwgcXVvdGVQb3MgPiAtMSAmJiBwcmVmaXhlcy5pbmRleE9mKHN0YXJ0LnNsaWNlKDAsIHF1b3RlUG9zKSkgPiAtMSkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGZpcnN0ICYmIGZpcnN0LmZyb20gPT0gbm9kZS5mcm9tICYmIGZpcnN0LnRvIC0gZmlyc3QuZnJvbSA+IHF1b3RlVG9rZW4ubGVuZ3RoICsgcXVvdGVQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2xpY2VEb2MoZmlyc3QudG8gLSBxdW90ZVRva2VuLmxlbmd0aCwgZmlyc3QudG8pID09IHF1b3RlVG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZpcnN0LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS50byA9PSBwb3MgJiYgbm9kZS5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNhblN0YXJ0U3RyaW5nQXQoc3RhdGUsIHBvcywgcHJlZml4ZXMpIHtcbiAgICBsZXQgY2hhckNhdCA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGlmIChjaGFyQ2F0KHN0YXRlLnNsaWNlRG9jKHBvcyAtIDEsIHBvcykpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIGZvciAobGV0IHByZWZpeCBvZiBwcmVmaXhlcykge1xuICAgICAgICBsZXQgc3RhcnQgPSBwb3MgLSBwcmVmaXgubGVuZ3RoO1xuICAgICAgICBpZiAoc3RhdGUuc2xpY2VEb2Moc3RhcnQsIHBvcykgPT0gcHJlZml4ICYmIGNoYXJDYXQoc3RhdGUuc2xpY2VEb2Moc3RhcnQgLSAxLCBzdGFydCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIGF1dG9jb21wbGV0aW9uLlxuKi9cbmZ1bmN0aW9uIGF1dG9jb21wbGV0aW9uKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgY29tbWl0Q2hhcmFjdGVycyxcbiAgICAgICAgY29tcGxldGlvblN0YXRlLFxuICAgICAgICBjb21wbGV0aW9uQ29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIGNvbXBsZXRpb25QbHVnaW4sXG4gICAgICAgIGNvbXBsZXRpb25LZXltYXBFeHQsXG4gICAgICAgIGJhc2VUaGVtZVxuICAgIF07XG59XG4vKipcbkJhc2ljIGtleWJpbmRpbmdzIGZvciBhdXRvY29tcGxldGlvbi5cblxuIC0gQ3RybC1TcGFjZTogW2BzdGFydENvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5zdGFydENvbXBsZXRpb24pXG4gLSBFc2NhcGU6IFtgY2xvc2VDb21wbGV0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuY2xvc2VDb21wbGV0aW9uKVxuIC0gQXJyb3dEb3duOiBbYG1vdmVDb21wbGV0aW9uU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubW92ZUNvbXBsZXRpb25TZWxlY3Rpb24pYCh0cnVlKWBcbiAtIEFycm93VXA6IFtgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5tb3ZlQ29tcGxldGlvblNlbGVjdGlvbilgKGZhbHNlKWBcbiAtIFBhZ2VEb3duOiBbYG1vdmVDb21wbGV0aW9uU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubW92ZUNvbXBsZXRpb25TZWxlY3Rpb24pYCh0cnVlLCBcInBhZ2VcIilgXG4gLSBQYWdlRG93bjogW2Btb3ZlQ29tcGxldGlvblNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLm1vdmVDb21wbGV0aW9uU2VsZWN0aW9uKWAodHJ1ZSwgXCJwYWdlXCIpYFxuIC0gRW50ZXI6IFtgYWNjZXB0Q29tcGxldGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmFjY2VwdENvbXBsZXRpb24pXG4qL1xuY29uc3QgY29tcGxldGlvbktleW1hcCA9IFtcbiAgICB7IGtleTogXCJDdHJsLVNwYWNlXCIsIHJ1bjogc3RhcnRDb21wbGV0aW9uIH0sXG4gICAgeyBrZXk6IFwiRXNjYXBlXCIsIHJ1bjogY2xvc2VDb21wbGV0aW9uIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dEb3duXCIsIHJ1bjogLypAX19QVVJFX18qL21vdmVDb21wbGV0aW9uU2VsZWN0aW9uKHRydWUpIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dVcFwiLCBydW46IC8qQF9fUFVSRV9fKi9tb3ZlQ29tcGxldGlvblNlbGVjdGlvbihmYWxzZSkgfSxcbiAgICB7IGtleTogXCJQYWdlRG93blwiLCBydW46IC8qQF9fUFVSRV9fKi9tb3ZlQ29tcGxldGlvblNlbGVjdGlvbih0cnVlLCBcInBhZ2VcIikgfSxcbiAgICB7IGtleTogXCJQYWdlVXBcIiwgcnVuOiAvKkBfX1BVUkVfXyovbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24oZmFsc2UsIFwicGFnZVwiKSB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIHJ1bjogYWNjZXB0Q29tcGxldGlvbiB9XG5dO1xuY29uc3QgY29tcGxldGlvbktleW1hcEV4dCA9IC8qQF9fUFVSRV9fKi9QcmVjLmhpZ2hlc3QoLypAX19QVVJFX18qL2tleW1hcC5jb21wdXRlTihbY29tcGxldGlvbkNvbmZpZ10sIHN0YXRlID0+IHN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLmRlZmF1bHRLZXltYXAgPyBbY29tcGxldGlvbktleW1hcF0gOiBbXSkpO1xuLyoqXG5HZXQgdGhlIGN1cnJlbnQgY29tcGxldGlvbiBzdGF0dXMuIFdoZW4gY29tcGxldGlvbnMgYXJlIGF2YWlsYWJsZSxcbnRoaXMgd2lsbCByZXR1cm4gYFwiYWN0aXZlXCJgLiBXaGVuIGNvbXBsZXRpb25zIGFyZSBwZW5kaW5nIChpbiB0aGVcbnByb2Nlc3Mgb2YgYmVpbmcgcXVlcmllZCksIHRoaXMgcmV0dXJucyBgXCJwZW5kaW5nXCJgLiBPdGhlcndpc2UsIGl0XG5yZXR1cm5zIGBudWxsYC5cbiovXG5mdW5jdGlvbiBjb21wbGV0aW9uU3RhdHVzKHN0YXRlKSB7XG4gICAgbGV0IGNTdGF0ZSA9IHN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgIHJldHVybiBjU3RhdGUgJiYgY1N0YXRlLmFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSA9PSAxIC8qIFN0YXRlLlBlbmRpbmcgKi8pID8gXCJwZW5kaW5nXCJcbiAgICAgICAgOiBjU3RhdGUgJiYgY1N0YXRlLmFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSAhPSAwIC8qIFN0YXRlLkluYWN0aXZlICovKSA/IFwiYWN0aXZlXCIgOiBudWxsO1xufVxuY29uc3QgY29tcGxldGlvbkFycmF5Q2FjaGUgPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXA7XG4vKipcblJldHVybnMgdGhlIGF2YWlsYWJsZSBjb21wbGV0aW9ucyBhcyBhbiBhcnJheS5cbiovXG5mdW5jdGlvbiBjdXJyZW50Q29tcGxldGlvbnMoc3RhdGUpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG9wZW4gPSAoX2EgPSBzdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wZW47XG4gICAgaWYgKCFvcGVuIHx8IG9wZW4uZGlzYWJsZWQpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBsZXQgY29tcGxldGlvbnMgPSBjb21wbGV0aW9uQXJyYXlDYWNoZS5nZXQob3Blbi5vcHRpb25zKTtcbiAgICBpZiAoIWNvbXBsZXRpb25zKVxuICAgICAgICBjb21wbGV0aW9uQXJyYXlDYWNoZS5zZXQob3Blbi5vcHRpb25zLCBjb21wbGV0aW9ucyA9IG9wZW4ub3B0aW9ucy5tYXAobyA9PiBvLmNvbXBsZXRpb24pKTtcbiAgICByZXR1cm4gY29tcGxldGlvbnM7XG59XG4vKipcblJldHVybiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGNvbXBsZXRpb24sIGlmIGFueS5cbiovXG5mdW5jdGlvbiBzZWxlY3RlZENvbXBsZXRpb24oc3RhdGUpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG9wZW4gPSAoX2EgPSBzdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wZW47XG4gICAgcmV0dXJuIG9wZW4gJiYgIW9wZW4uZGlzYWJsZWQgJiYgb3Blbi5zZWxlY3RlZCA+PSAwID8gb3Blbi5vcHRpb25zW29wZW4uc2VsZWN0ZWRdLmNvbXBsZXRpb24gOiBudWxsO1xufVxuLyoqXG5SZXR1cm5zIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcG9zaXRpb24gaW4gdGhlIGFjdGl2ZSBjb21wbGV0aW9uXG5saXN0LCBvciBudWxsIGlmIG5vIGNvbXBsZXRpb25zIGFyZSBhY3RpdmUuXG4qL1xuZnVuY3Rpb24gc2VsZWN0ZWRDb21wbGV0aW9uSW5kZXgoc3RhdGUpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG9wZW4gPSAoX2EgPSBzdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wZW47XG4gICAgcmV0dXJuIG9wZW4gJiYgIW9wZW4uZGlzYWJsZWQgJiYgb3Blbi5zZWxlY3RlZCA+PSAwID8gb3Blbi5zZWxlY3RlZCA6IG51bGw7XG59XG4vKipcbkNyZWF0ZSBhbiBlZmZlY3QgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYSB0cmFuc2FjdGlvbiB0byBjaGFuZ2VcbnRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgY29tcGxldGlvbi5cbiovXG5mdW5jdGlvbiBzZXRTZWxlY3RlZENvbXBsZXRpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gc2V0U2VsZWN0ZWRFZmZlY3Qub2YoaW5kZXgpO1xufVxuXG5leHBvcnQgeyBDb21wbGV0aW9uQ29udGV4dCwgYWNjZXB0Q29tcGxldGlvbiwgYXV0b2NvbXBsZXRpb24sIGNsZWFyU25pcHBldCwgY2xvc2VCcmFja2V0cywgY2xvc2VCcmFja2V0c0tleW1hcCwgY2xvc2VDb21wbGV0aW9uLCBjb21wbGV0ZUFueVdvcmQsIGNvbXBsZXRlRnJvbUxpc3QsIGNvbXBsZXRpb25LZXltYXAsIGNvbXBsZXRpb25TdGF0dXMsIGN1cnJlbnRDb21wbGV0aW9ucywgZGVsZXRlQnJhY2tldFBhaXIsIGhhc05leHRTbmlwcGV0RmllbGQsIGhhc1ByZXZTbmlwcGV0RmllbGQsIGlmSW4sIGlmTm90SW4sIGluc2VydEJyYWNrZXQsIGluc2VydENvbXBsZXRpb25UZXh0LCBtb3ZlQ29tcGxldGlvblNlbGVjdGlvbiwgbmV4dFNuaXBwZXRGaWVsZCwgcGlja2VkQ29tcGxldGlvbiwgcHJldlNuaXBwZXRGaWVsZCwgc2VsZWN0ZWRDb21wbGV0aW9uLCBzZWxlY3RlZENvbXBsZXRpb25JbmRleCwgc2V0U2VsZWN0ZWRDb21wbGV0aW9uLCBzbmlwcGV0LCBzbmlwcGV0Q29tcGxldGlvbiwgc25pcHBldEtleW1hcCwgc3RhcnRDb21wbGV0aW9uIH07XG4iLAogICAgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci9qYXZhc2NyaXB0JztcbmltcG9ydCB7IHN5bnRheFRyZWUsIExSTGFuZ3VhZ2UsIGluZGVudE5vZGVQcm9wLCBjb250aW51ZWRJbmRlbnQsIGZsYXRJbmRlbnQsIGRlbGltaXRlZEluZGVudCwgZm9sZE5vZGVQcm9wLCBmb2xkSW5zaWRlLCBkZWZpbmVMYW5ndWFnZUZhY2V0LCBzdWJsYW5ndWFnZVByb3AsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IEVkaXRvclNlbGVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHNuaXBwZXRDb21wbGV0aW9uLCBpZk5vdEluLCBjb21wbGV0ZUZyb21MaXN0IH0gZnJvbSAnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJztcbmltcG9ydCB7IE5vZGVXZWFrTWFwLCBJdGVyTW9kZSB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vKipcbkEgY29sbGVjdGlvbiBvZiBKYXZhU2NyaXB0LXJlbGF0ZWRcbltzbmlwcGV0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuc25pcHBldCkuXG4qL1xuY29uc3Qgc25pcHBldHMgPSBbXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZnVuY3Rpb24gJHtuYW1lfSgke3BhcmFtc30pIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZGV0YWlsOiBcImRlZmluaXRpb25cIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJmb3IgKGxldCAke2luZGV4fSA9IDA7ICR7aW5kZXh9IDwgJHtib3VuZH07ICR7aW5kZXh9KyspIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZm9yXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZm9yIChsZXQgJHtuYW1lfSBvZiAke2NvbGxlY3Rpb259KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImZvclwiLFxuICAgICAgICBkZXRhaWw6IFwib2YgbG9vcFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImRvIHtcXG5cXHQke31cXG59IHdoaWxlICgke30pXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZG9cIixcbiAgICAgICAgZGV0YWlsOiBcImxvb3BcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJ3aGlsZSAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcIndoaWxlXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwidHJ5IHtcXG5cXHQke31cXG59IGNhdGNoICgke2Vycm9yfSkge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJ0cnlcIixcbiAgICAgICAgZGV0YWlsOiBcIi8gY2F0Y2ggYmxvY2tcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJpZiAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImlmXCIsXG4gICAgICAgIGRldGFpbDogXCJibG9ja1wiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImlmICgke30pIHtcXG5cXHQke31cXG59IGVsc2Uge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJpZlwiLFxuICAgICAgICBkZXRhaWw6IFwiLyBlbHNlIGJsb2NrXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiY2xhc3MgJHtuYW1lfSB7XFxuXFx0Y29uc3RydWN0b3IoJHtwYXJhbXN9KSB7XFxuXFx0XFx0JHt9XFxuXFx0fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJjbGFzc1wiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmaW5pdGlvblwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImltcG9ydCB7JHtuYW1lc319IGZyb20gXFxcIiR7bW9kdWxlfVxcXCJcXG4ke31cIiwge1xuICAgICAgICBsYWJlbDogXCJpbXBvcnRcIixcbiAgICAgICAgZGV0YWlsOiBcIm5hbWVkXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiaW1wb3J0ICR7bmFtZX0gZnJvbSBcXFwiJHttb2R1bGV9XFxcIlxcbiR7fVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImltcG9ydFwiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmYXVsdFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pXG5dO1xuLyoqXG5BIGNvbGxlY3Rpb24gb2Ygc25pcHBldCBjb21wbGV0aW9ucyBmb3IgVHlwZVNjcmlwdC4gSW5jbHVkZXMgdGhlXG5KYXZhU2NyaXB0IFtzbmlwcGV0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5nLWphdmFzY3JpcHQuc25pcHBldHMpLlxuKi9cbmNvbnN0IHR5cGVzY3JpcHRTbmlwcGV0cyA9IC8qQF9fUFVSRV9fKi9zbmlwcGV0cy5jb25jYXQoW1xuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImludGVyZmFjZSAke25hbWV9IHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiaW50ZXJmYWNlXCIsXG4gICAgICAgIGRldGFpbDogXCJkZWZpbml0aW9uXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwidHlwZSAke25hbWV9ID0gJHt0eXBlfVwiLCB7XG4gICAgICAgIGxhYmVsOiBcInR5cGVcIixcbiAgICAgICAgZGV0YWlsOiBcImRlZmluaXRpb25cIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJlbnVtICR7bmFtZX0ge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJlbnVtXCIsXG4gICAgICAgIGRldGFpbDogXCJkZWZpbml0aW9uXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSlcbl0pO1xuXG5jb25zdCBjYWNoZSA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVdlYWtNYXAoKTtcbmNvbnN0IFNjb3BlTm9kZXMgPSAvKkBfX1BVUkVfXyovbmV3IFNldChbXG4gICAgXCJTY3JpcHRcIiwgXCJCbG9ja1wiLFxuICAgIFwiRnVuY3Rpb25FeHByZXNzaW9uXCIsIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiLCBcIkFycm93RnVuY3Rpb25cIiwgXCJNZXRob2REZWNsYXJhdGlvblwiLFxuICAgIFwiRm9yU3RhdGVtZW50XCJcbl0pO1xuZnVuY3Rpb24gZGVmSUQodHlwZSkge1xuICAgIHJldHVybiAobm9kZSwgZGVmKSA9PiB7XG4gICAgICAgIGxldCBpZCA9IG5vZGUubm9kZS5nZXRDaGlsZChcIlZhcmlhYmxlRGVmaW5pdGlvblwiKTtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgZGVmKGlkLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbmNvbnN0IGZ1bmN0aW9uQ29udGV4dCA9IFtcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIl07XG5jb25zdCBnYXRoZXJDb21wbGV0aW9ucyA9IHtcbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJmdW5jdGlvblwiKSxcbiAgICBDbGFzc0RlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjbGFzc1wiKSxcbiAgICBDbGFzc0V4cHJlc3Npb246ICgpID0+IHRydWUsXG4gICAgRW51bURlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjb25zdGFudFwiKSxcbiAgICBUeXBlQWxpYXNEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwidHlwZVwiKSxcbiAgICBOYW1lc3BhY2VEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwibmFtZXNwYWNlXCIpLFxuICAgIFZhcmlhYmxlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgaWYgKCFub2RlLm1hdGNoQ29udGV4dChmdW5jdGlvbkNvbnRleHQpKVxuICAgICAgICBkZWYobm9kZSwgXCJ2YXJpYWJsZVwiKTsgfSxcbiAgICBUeXBlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgZGVmKG5vZGUsIFwidHlwZVwiKTsgfSxcbiAgICBfX3Byb3RvX186IG51bGxcbn07XG5mdW5jdGlvbiBnZXRTY29wZShkb2MsIG5vZGUpIHtcbiAgICBsZXQgY2FjaGVkID0gY2FjaGUuZ2V0KG5vZGUpO1xuICAgIGlmIChjYWNoZWQpXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgbGV0IGNvbXBsZXRpb25zID0gW10sIHRvcCA9IHRydWU7XG4gICAgZnVuY3Rpb24gZGVmKG5vZGUsIHR5cGUpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBkb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICAgICAgY29tcGxldGlvbnMucHVzaCh7IGxhYmVsOiBuYW1lLCB0eXBlIH0pO1xuICAgIH1cbiAgICBub2RlLmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKS5pdGVyYXRlKG5vZGUgPT4ge1xuICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5hbWUpIHtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSBnYXRoZXJDb21wbGV0aW9uc1tub2RlLm5hbWVdO1xuICAgICAgICAgICAgaWYgKGdhdGhlciAmJiBnYXRoZXIobm9kZSwgZGVmKSB8fCBTY29wZU5vZGVzLmhhcyhub2RlLm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnRvIC0gbm9kZS5mcm9tID4gODE5Mikge1xuICAgICAgICAgICAgLy8gQWxsb3cgY2FjaGluZyBmb3IgYmlnZ2VyIGludGVybmFsIG5vZGVzXG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGdldFNjb3BlKGRvYywgbm9kZS5ub2RlKSlcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGMpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KG5vZGUsIGNvbXBsZXRpb25zKTtcbiAgICByZXR1cm4gY29tcGxldGlvbnM7XG59XG5jb25zdCBJZGVudGlmaWVyID0gL15bXFx3JFxceGExLVxcdWZmZmZdW1xcdyRcXGRcXHhhMS1cXHVmZmZmXSokLztcbmNvbnN0IGRvbnRDb21wbGV0ZSA9IFtcbiAgICBcIlRlbXBsYXRlU3RyaW5nXCIsIFwiU3RyaW5nXCIsIFwiUmVnRXhwXCIsXG4gICAgXCJMaW5lQ29tbWVudFwiLCBcIkJsb2NrQ29tbWVudFwiLFxuICAgIFwiVmFyaWFibGVEZWZpbml0aW9uXCIsIFwiVHlwZURlZmluaXRpb25cIiwgXCJMYWJlbFwiLFxuICAgIFwiUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJvcGVydHlOYW1lXCIsXG4gICAgXCJQcml2YXRlUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJpdmF0ZVByb3BlcnR5TmFtZVwiLFxuICAgIFwiLlwiLCBcIj8uXCJcbl07XG4vKipcbkNvbXBsZXRpb24gc291cmNlIHRoYXQgbG9va3MgdXAgbG9jYWxseSBkZWZpbmVkIG5hbWVzIGluXG5KYXZhU2NyaXB0IGNvZGUuXG4qL1xuZnVuY3Rpb24gbG9jYWxDb21wbGV0aW9uU291cmNlKGNvbnRleHQpIHtcbiAgICBsZXQgaW5uZXIgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpO1xuICAgIGlmIChkb250Q29tcGxldGUuaW5kZXhPZihpbm5lci5uYW1lKSA+IC0xKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgaXNXb3JkID0gaW5uZXIubmFtZSA9PSBcIlZhcmlhYmxlTmFtZVwiIHx8XG4gICAgICAgIGlubmVyLnRvIC0gaW5uZXIuZnJvbSA8IDIwICYmIElkZW50aWZpZXIudGVzdChjb250ZXh0LnN0YXRlLnNsaWNlRG9jKGlubmVyLmZyb20sIGlubmVyLnRvKSk7XG4gICAgaWYgKCFpc1dvcmQgJiYgIWNvbnRleHQuZXhwbGljaXQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBvcHRpb25zID0gW107XG4gICAgZm9yIChsZXQgcG9zID0gaW5uZXI7IHBvczsgcG9zID0gcG9zLnBhcmVudCkge1xuICAgICAgICBpZiAoU2NvcGVOb2Rlcy5oYXMocG9zLm5hbWUpKVxuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMuY29uY2F0KGdldFNjb3BlKGNvbnRleHQuc3RhdGUuZG9jLCBwb3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgZnJvbTogaXNXb3JkID8gaW5uZXIuZnJvbSA6IGNvbnRleHQucG9zLFxuICAgICAgICB2YWxpZEZvcjogSWRlbnRpZmllclxuICAgIH07XG59XG5mdW5jdGlvbiBwYXRoRm9yKHJlYWQsIG1lbWJlciwgbmFtZSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgcGF0aCA9IFtdO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG9iaiA9IG1lbWJlci5maXJzdENoaWxkLCBwcm9wO1xuICAgICAgICBpZiAoKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5uYW1lKSA9PSBcIlZhcmlhYmxlTmFtZVwiKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2gocmVhZChvYmopKTtcbiAgICAgICAgICAgIHJldHVybiB7IHBhdGg6IHBhdGgucmV2ZXJzZSgpLCBuYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5uYW1lKSA9PSBcIk1lbWJlckV4cHJlc3Npb25cIiAmJiAoKF9hID0gKHByb3AgPSBvYmoubGFzdENoaWxkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUpID09IFwiUHJvcGVydHlOYW1lXCIpIHtcbiAgICAgICAgICAgIHBhdGgucHVzaChyZWFkKHByb3ApKTtcbiAgICAgICAgICAgIG1lbWJlciA9IG9iajtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5IZWxwZXIgZnVuY3Rpb24gZm9yIGRlZmluaW5nIEphdmFTY3JpcHQgY29tcGxldGlvbiBzb3VyY2VzLiBJdFxucmV0dXJucyB0aGUgY29tcGxldGFibGUgbmFtZSBhbmQgb2JqZWN0IHBhdGggZm9yIGEgY29tcGxldGlvblxuY29udGV4dCwgb3IgbnVsbCBpZiBubyBuYW1lL3Byb3BlcnR5IGNvbXBsZXRpb24gc2hvdWxkIGhhcHBlbiBhdFxudGhhdCBwb3NpdGlvbi4gRm9yIGV4YW1wbGUsIHdoZW4gY29tcGxldGluZyBhZnRlciBgYS5iLmNgIGl0IHdpbGxcbnJldHVybiBge3BhdGg6IFtcImFcIiwgXCJiXCJdLCBuYW1lOiBcImNcIn1gLiBXaGVuIGNvbXBsZXRpbmcgYWZ0ZXIgYHhgXG5pdCB3aWxsIHJldHVybiBge3BhdGg6IFtdLCBuYW1lOiBcInhcIn1gLiBXaGVuIG5vdCBpbiBhIHByb3BlcnR5IG9yXG5uYW1lLCBpdCB3aWxsIHJldHVybiBudWxsIGlmIGBjb250ZXh0LmV4cGxpY2l0YCBpcyBmYWxzZSwgYW5kXG5ge3BhdGg6IFtdLCBuYW1lOiBcIlwifWAgb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGNvbXBsZXRpb25QYXRoKGNvbnRleHQpIHtcbiAgICBsZXQgcmVhZCA9IChub2RlKSA9PiBjb250ZXh0LnN0YXRlLmRvYy5zbGljZVN0cmluZyhub2RlLmZyb20sIG5vZGUudG8pO1xuICAgIGxldCBpbm5lciA9IHN5bnRheFRyZWUoY29udGV4dC5zdGF0ZSkucmVzb2x2ZUlubmVyKGNvbnRleHQucG9zLCAtMSk7XG4gICAgaWYgKGlubmVyLm5hbWUgPT0gXCJQcm9wZXJ0eU5hbWVcIikge1xuICAgICAgICByZXR1cm4gcGF0aEZvcihyZWFkLCBpbm5lci5wYXJlbnQsIHJlYWQoaW5uZXIpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKGlubmVyLm5hbWUgPT0gXCIuXCIgfHwgaW5uZXIubmFtZSA9PSBcIj8uXCIpICYmIGlubmVyLnBhcmVudC5uYW1lID09IFwiTWVtYmVyRXhwcmVzc2lvblwiKSB7XG4gICAgICAgIHJldHVybiBwYXRoRm9yKHJlYWQsIGlubmVyLnBhcmVudCwgXCJcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvbnRDb21wbGV0ZS5pbmRleE9mKGlubmVyLm5hbWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlubmVyLm5hbWUgPT0gXCJWYXJpYWJsZU5hbWVcIiB8fCBpbm5lci50byAtIGlubmVyLmZyb20gPCAyMCAmJiBJZGVudGlmaWVyLnRlc3QocmVhZChpbm5lcikpKSB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IFtdLCBuYW1lOiByZWFkKGlubmVyKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpbm5lci5uYW1lID09IFwiTWVtYmVyRXhwcmVzc2lvblwiKSB7XG4gICAgICAgIHJldHVybiBwYXRoRm9yKHJlYWQsIGlubmVyLCBcIlwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmV4cGxpY2l0ID8geyBwYXRoOiBbXSwgbmFtZTogXCJcIiB9IDogbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnVtZXJhdGVQcm9wZXJ0eUNvbXBsZXRpb25zKG9iaiwgdG9wKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXSwgc2VlbiA9IG5ldyBTZXQ7XG4gICAgZm9yIChsZXQgZGVwdGggPSAwOzsgZGVwdGgrKykge1xuICAgICAgICBmb3IgKGxldCBuYW1lIG9mIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBPYmplY3Qua2V5cykob2JqKSkge1xuICAgICAgICAgICAgaWYgKCEvXlthLXpBLVpfJFxceGFhLVxcdWZmZGNdW1xcdyRcXHhhYS1cXHVmZmRjXSokLy50ZXN0KG5hbWUpIHx8IHNlZW4uaGFzKG5hbWUpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2Vlbi5hZGQobmFtZSk7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IG5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZW9mIHZhbHVlID09IFwiZnVuY3Rpb25cIiA/ICgvXltBLVpdLy50ZXN0KG5hbWUpID8gXCJjbGFzc1wiIDogdG9wID8gXCJmdW5jdGlvblwiIDogXCJtZXRob2RcIilcbiAgICAgICAgICAgICAgICAgICAgOiB0b3AgPyBcInZhcmlhYmxlXCIgOiBcInByb3BlcnR5XCIsXG4gICAgICAgICAgICAgICAgYm9vc3Q6IC1kZXB0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIG9iaiA9IG5leHQ7XG4gICAgfVxufVxuLyoqXG5EZWZpbmVzIGEgW2NvbXBsZXRpb24gc291cmNlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5Db21wbGV0aW9uU291cmNlKSB0aGF0XG5jb21wbGV0ZXMgZnJvbSB0aGUgZ2l2ZW4gc2NvcGUgb2JqZWN0IChmb3IgZXhhbXBsZSBgZ2xvYmFsVGhpc2ApLlxuV2lsbCBlbnRlciBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3Qgd2hlbiBjb21wbGV0aW5nIHByb3BlcnRpZXMgb25cbmEgZGlyZWN0bHktbmFtZWQgcGF0aC5cbiovXG5mdW5jdGlvbiBzY29wZUNvbXBsZXRpb25Tb3VyY2Uoc2NvcGUpIHtcbiAgICBsZXQgY2FjaGUgPSBuZXcgTWFwO1xuICAgIHJldHVybiAoY29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgcGF0aCA9IGNvbXBsZXRpb25QYXRoKGNvbnRleHQpO1xuICAgICAgICBpZiAoIXBhdGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHRhcmdldCA9IHNjb3BlO1xuICAgICAgICBmb3IgKGxldCBzdGVwIG9mIHBhdGgucGF0aCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3N0ZXBdO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgb3B0aW9ucyA9IGVudW1lcmF0ZVByb3BlcnR5Q29tcGxldGlvbnModGFyZ2V0LCAhcGF0aC5wYXRoLmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogY29udGV4dC5wb3MgLSBwYXRoLm5hbWUubGVuZ3RoLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHZhbGlkRm9yOiBJZGVudGlmaWVyXG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG5BIGxhbmd1YWdlIHByb3ZpZGVyIGJhc2VkIG9uIHRoZSBbTGV6ZXIgSmF2YVNjcmlwdFxucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL2phdmFzY3JpcHQpLCBleHRlbmRlZCB3aXRoXG5oaWdobGlnaHRpbmcgYW5kIGluZGVudGF0aW9uIGluZm9ybWF0aW9uLlxuKi9cbmNvbnN0IGphdmFzY3JpcHRMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9MUkxhbmd1YWdlLmRlZmluZSh7XG4gICAgbmFtZTogXCJqYXZhc2NyaXB0XCIsXG4gICAgcGFyc2VyOiAvKkBfX1BVUkVfXyovcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovaW5kZW50Tm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBJZlN0YXRlbWVudDogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqKHt8ZWxzZVxcYikvIH0pLFxuICAgICAgICAgICAgICAgIFRyeVN0YXRlbWVudDogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqKHt8Y2F0Y2hcXGJ8ZmluYWxseVxcYikvIH0pLFxuICAgICAgICAgICAgICAgIExhYmVsZWRTdGF0ZW1lbnQ6IGZsYXRJbmRlbnQsXG4gICAgICAgICAgICAgICAgU3dpdGNoQm9keTogY29udGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IGNvbnRleHQudGV4dEFmdGVyLCBjbG9zZWQgPSAvXlxccypcXH0vLnRlc3QoYWZ0ZXIpLCBpc0Nhc2UgPSAvXlxccyooY2FzZXxkZWZhdWx0KVxcYi8udGVzdChhZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmJhc2VJbmRlbnQgKyAoY2xvc2VkID8gMCA6IGlzQ2FzZSA/IDEgOiAyKSAqIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIEJsb2NrOiAvKkBfX1BVUkVfXyovZGVsaW1pdGVkSW5kZW50KHsgY2xvc2luZzogXCJ9XCIgfSksXG4gICAgICAgICAgICAgICAgQXJyb3dGdW5jdGlvbjogY3ggPT4gY3guYmFzZUluZGVudCArIGN4LnVuaXQsXG4gICAgICAgICAgICAgICAgXCJUZW1wbGF0ZVN0cmluZyBCbG9ja0NvbW1lbnRcIjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICBcIlN0YXRlbWVudCBQcm9wZXJ0eVwiOiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KHsgZXhjZXB0OiAvXnsvIH0pLFxuICAgICAgICAgICAgICAgIEpTWEVsZW1lbnQoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xvc2VkID0gL15cXHMqPFxcLy8udGVzdChjb250ZXh0LnRleHRBZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoY29udGV4dC5ub2RlLmZyb20pICsgKGNsb3NlZCA/IDAgOiBjb250ZXh0LnVuaXQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgSlNYRXNjYXBlKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NlZCA9IC9cXHMqXFx9Ly50ZXN0KGNvbnRleHQudGV4dEFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubGluZUluZGVudChjb250ZXh0Lm5vZGUuZnJvbSkgKyAoY2xvc2VkID8gMCA6IGNvbnRleHQudW5pdCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkpTWE9wZW5UYWcgSlNYU2VsZkNsb3NpbmdUYWdcIihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbHVtbihjb250ZXh0Lm5vZGUuZnJvbSkgKyBjb250ZXh0LnVuaXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovZm9sZE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgXCJCbG9jayBDbGFzc0JvZHkgU3dpdGNoQm9keSBFbnVtQm9keSBPYmplY3RFeHByZXNzaW9uIEFycmF5RXhwcmVzc2lvbiBPYmplY3RUeXBlXCI6IGZvbGRJbnNpZGUsXG4gICAgICAgICAgICAgICAgQmxvY2tDb21tZW50KHRyZWUpIHsgcmV0dXJuIHsgZnJvbTogdHJlZS5mcm9tICsgMiwgdG86IHRyZWUudG8gLSAyIH07IH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY2xvc2VCcmFja2V0czogeyBicmFja2V0czogW1wiKFwiLCBcIltcIiwgXCJ7XCIsIFwiJ1wiLCAnXCInLCBcImBcIl0gfSxcbiAgICAgICAgY29tbWVudFRva2VuczogeyBsaW5lOiBcIi8vXCIsIGJsb2NrOiB7IG9wZW46IFwiLypcIiwgY2xvc2U6IFwiKi9cIiB9IH0sXG4gICAgICAgIGluZGVudE9uSW5wdXQ6IC9eXFxzKig/OmNhc2UgfGRlZmF1bHQ6fFxce3xcXH18PFxcLykkLyxcbiAgICAgICAgd29yZENoYXJzOiBcIiRcIlxuICAgIH1cbn0pO1xuY29uc3QganN4U3VibGFuZ3VhZ2UgPSB7XG4gICAgdGVzdDogbm9kZSA9PiAvXkpTWC8udGVzdChub2RlLm5hbWUpLFxuICAgIGZhY2V0OiAvKkBfX1BVUkVfXyovZGVmaW5lTGFuZ3VhZ2VGYWNldCh7IGNvbW1lbnRUb2tlbnM6IHsgYmxvY2s6IHsgb3BlbjogXCJ7LypcIiwgY2xvc2U6IFwiKi99XCIgfSB9IH0pXG59O1xuLyoqXG5BIGxhbmd1YWdlIHByb3ZpZGVyIGZvciBUeXBlU2NyaXB0LlxuKi9cbmNvbnN0IHR5cGVzY3JpcHRMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9qYXZhc2NyaXB0TGFuZ3VhZ2UuY29uZmlndXJlKHsgZGlhbGVjdDogXCJ0c1wiIH0sIFwidHlwZXNjcmlwdFwiKTtcbi8qKlxuTGFuZ3VhZ2UgcHJvdmlkZXIgZm9yIEpTWC5cbiovXG5jb25zdCBqc3hMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9qYXZhc2NyaXB0TGFuZ3VhZ2UuY29uZmlndXJlKHtcbiAgICBkaWFsZWN0OiBcImpzeFwiLFxuICAgIHByb3BzOiBbLypAX19QVVJFX18qL3N1Ymxhbmd1YWdlUHJvcC5hZGQobiA9PiBuLmlzVG9wID8gW2pzeFN1Ymxhbmd1YWdlXSA6IHVuZGVmaW5lZCldXG59KTtcbi8qKlxuTGFuZ3VhZ2UgcHJvdmlkZXIgZm9yIEpTWCArIFR5cGVTY3JpcHQuXG4qL1xuY29uc3QgdHN4TGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovamF2YXNjcmlwdExhbmd1YWdlLmNvbmZpZ3VyZSh7XG4gICAgZGlhbGVjdDogXCJqc3ggdHNcIixcbiAgICBwcm9wczogWy8qQF9fUFVSRV9fKi9zdWJsYW5ndWFnZVByb3AuYWRkKG4gPT4gbi5pc1RvcCA/IFtqc3hTdWJsYW5ndWFnZV0gOiB1bmRlZmluZWQpXVxufSwgXCJ0eXBlc2NyaXB0XCIpO1xubGV0IGt3Q29tcGxldGlvbiA9IChuYW1lKSA9PiAoeyBsYWJlbDogbmFtZSwgdHlwZTogXCJrZXl3b3JkXCIgfSk7XG5jb25zdCBrZXl3b3JkcyA9IC8qQF9fUFVSRV9fKi9cImJyZWFrIGNhc2UgY29uc3QgY29udGludWUgZGVmYXVsdCBkZWxldGUgZXhwb3J0IGV4dGVuZHMgZmFsc2UgZmluYWxseSBpbiBpbnN0YW5jZW9mIGxldCBuZXcgcmV0dXJuIHN0YXRpYyBzdXBlciBzd2l0Y2ggdGhpcyB0aHJvdyB0cnVlIHR5cGVvZiB2YXIgeWllbGRcIi5zcGxpdChcIiBcIikubWFwKGt3Q29tcGxldGlvbik7XG5jb25zdCB0eXBlc2NyaXB0S2V5d29yZHMgPSAvKkBfX1BVUkVfXyova2V5d29yZHMuY29uY2F0KC8qQF9fUFVSRV9fKi9bXCJkZWNsYXJlXCIsIFwiaW1wbGVtZW50c1wiLCBcInByaXZhdGVcIiwgXCJwcm90ZWN0ZWRcIiwgXCJwdWJsaWNcIl0ubWFwKGt3Q29tcGxldGlvbikpO1xuLyoqXG5KYXZhU2NyaXB0IHN1cHBvcnQuIEluY2x1ZGVzIFtzbmlwcGV0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmctamF2YXNjcmlwdC5zbmlwcGV0cylcbmFuZCBsb2NhbCB2YXJpYWJsZSBjb21wbGV0aW9uLlxuKi9cbmZ1bmN0aW9uIGphdmFzY3JpcHQoY29uZmlnID0ge30pIHtcbiAgICBsZXQgbGFuZyA9IGNvbmZpZy5qc3ggPyAoY29uZmlnLnR5cGVzY3JpcHQgPyB0c3hMYW5ndWFnZSA6IGpzeExhbmd1YWdlKVxuICAgICAgICA6IGNvbmZpZy50eXBlc2NyaXB0ID8gdHlwZXNjcmlwdExhbmd1YWdlIDogamF2YXNjcmlwdExhbmd1YWdlO1xuICAgIGxldCBjb21wbGV0aW9ucyA9IGNvbmZpZy50eXBlc2NyaXB0ID8gdHlwZXNjcmlwdFNuaXBwZXRzLmNvbmNhdCh0eXBlc2NyaXB0S2V5d29yZHMpIDogc25pcHBldHMuY29uY2F0KGtleXdvcmRzKTtcbiAgICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChsYW5nLCBbXG4gICAgICAgIGphdmFzY3JpcHRMYW5ndWFnZS5kYXRhLm9mKHtcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogaWZOb3RJbihkb250Q29tcGxldGUsIGNvbXBsZXRlRnJvbUxpc3QoY29tcGxldGlvbnMpKVxuICAgICAgICB9KSxcbiAgICAgICAgamF2YXNjcmlwdExhbmd1YWdlLmRhdGEub2Yoe1xuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBsb2NhbENvbXBsZXRpb25Tb3VyY2VcbiAgICAgICAgfSksXG4gICAgICAgIGNvbmZpZy5qc3ggPyBhdXRvQ2xvc2VUYWdzIDogW10sXG4gICAgXSk7XG59XG5mdW5jdGlvbiBmaW5kT3BlblRhZyhub2RlKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAobm9kZS5uYW1lID09IFwiSlNYT3BlblRhZ1wiIHx8IG5vZGUubmFtZSA9PSBcIkpTWFNlbGZDbG9zaW5nVGFnXCIgfHwgbm9kZS5uYW1lID09IFwiSlNYRnJhZ21lbnRUYWdcIilcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBpZiAobm9kZS5uYW1lID09IFwiSlNYRXNjYXBlXCIgfHwgIW5vZGUucGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50TmFtZShkb2MsIHRyZWUsIG1heCA9IGRvYy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBjaCA9IHRyZWUgPT09IG51bGwgfHwgdHJlZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJlZS5maXJzdENoaWxkOyBjaDsgY2ggPSBjaC5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoY2gubmFtZSA9PSBcIkpTWElkZW50aWZpZXJcIiB8fCBjaC5uYW1lID09IFwiSlNYQnVpbHRpblwiIHx8IGNoLm5hbWUgPT0gXCJKU1hOYW1lc3BhY2VkTmFtZVwiIHx8XG4gICAgICAgICAgICBjaC5uYW1lID09IFwiSlNYTWVtYmVyRXhwcmVzc2lvblwiKVxuICAgICAgICAgICAgcmV0dXJuIGRvYy5zbGljZVN0cmluZyhjaC5mcm9tLCBNYXRoLm1pbihjaC50bywgbWF4KSk7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xufVxuY29uc3QgYW5kcm9pZCA9IHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJvYmplY3RcIiAmJiAvKkBfX1BVUkVfXyovL0FuZHJvaWRcXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4vKipcbkV4dGVuc2lvbiB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBpbnNlcnQgSlNYIGNsb3NlIHRhZ3Mgd2hlbiBhIGA+YCBvclxuYC9gIGlzIHR5cGVkLlxuKi9cbmNvbnN0IGF1dG9DbG9zZVRhZ3MgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5pbnB1dEhhbmRsZXIub2YoKHZpZXcsIGZyb20sIHRvLCB0ZXh0LCBkZWZhdWx0SW5zZXJ0KSA9PiB7XG4gICAgaWYgKChhbmRyb2lkID8gdmlldy5jb21wb3NpbmcgOiB2aWV3LmNvbXBvc2l0aW9uU3RhcnRlZCkgfHwgdmlldy5zdGF0ZS5yZWFkT25seSB8fFxuICAgICAgICBmcm9tICE9IHRvIHx8ICh0ZXh0ICE9IFwiPlwiICYmIHRleHQgIT0gXCIvXCIpIHx8XG4gICAgICAgICFqYXZhc2NyaXB0TGFuZ3VhZ2UuaXNBY3RpdmVBdCh2aWV3LnN0YXRlLCBmcm9tLCAtMSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgYmFzZSA9IGRlZmF1bHRJbnNlcnQoKSwgeyBzdGF0ZSB9ID0gYmFzZTtcbiAgICBsZXQgY2xvc2VUYWdzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHsgaGVhZCB9ID0gcmFuZ2UsIGFyb3VuZCA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihoZWFkIC0gMSwgLTEpLCBuYW1lO1xuICAgICAgICBpZiAoYXJvdW5kLm5hbWUgPT0gXCJKU1hTdGFydFRhZ1wiKVxuICAgICAgICAgICAgYXJvdW5kID0gYXJvdW5kLnBhcmVudDtcbiAgICAgICAgaWYgKHN0YXRlLmRvYy5zbGljZVN0cmluZyhoZWFkIC0gMSwgaGVhZCkgIT0gdGV4dCB8fCBhcm91bmQubmFtZSA9PSBcIkpTWEF0dHJpYnV0ZVZhbHVlXCIgJiYgYXJvdW5kLnRvID4gaGVhZCkgO1xuICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiPlwiICYmIGFyb3VuZC5uYW1lID09IFwiSlNYRnJhZ21lbnRUYWdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UsIGNoYW5nZXM6IHsgZnJvbTogaGVhZCwgaW5zZXJ0OiBgPC8+YCB9IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIi9cIiAmJiBhcm91bmQubmFtZSA9PSBcIkpTWFN0YXJ0Q2xvc2VUYWdcIikge1xuICAgICAgICAgICAgbGV0IGVtcHR5ID0gYXJvdW5kLnBhcmVudCwgYmFzZSA9IGVtcHR5LnBhcmVudDtcbiAgICAgICAgICAgIGlmIChiYXNlICYmIGVtcHR5LmZyb20gPT0gaGVhZCAtIDIgJiZcbiAgICAgICAgICAgICAgICAoKG5hbWUgPSBlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGJhc2UuZmlyc3RDaGlsZCwgaGVhZCkpIHx8ICgoX2EgPSBiYXNlLmZpcnN0Q2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSA9PSBcIkpTWEZyYWdtZW50VGFnXCIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGAke25hbWV9PmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIGluc2VydC5sZW5ndGgsIC0xKSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCBpbnNlcnQgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCI+XCIpIHtcbiAgICAgICAgICAgIGxldCBvcGVuVGFnID0gZmluZE9wZW5UYWcoYXJvdW5kKTtcbiAgICAgICAgICAgIGlmIChvcGVuVGFnICYmIG9wZW5UYWcubmFtZSA9PSBcIkpTWE9wZW5UYWdcIiAmJlxuICAgICAgICAgICAgICAgICEvXlxcLz8+fF48XFwvLy50ZXN0KHN0YXRlLmRvYy5zbGljZVN0cmluZyhoZWFkLCBoZWFkICsgMikpICYmXG4gICAgICAgICAgICAgICAgKG5hbWUgPSBlbGVtZW50TmFtZShzdGF0ZS5kb2MsIG9wZW5UYWcsIGhlYWQpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCBpbnNlcnQ6IGA8LyR7bmFtZX0+YCB9IH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcmFuZ2UgfTtcbiAgICB9KTtcbiAgICBpZiAoY2xvc2VUYWdzLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKFtcbiAgICAgICAgYmFzZSxcbiAgICAgICAgc3RhdGUudXBkYXRlKGNsb3NlVGFncywgeyB1c2VyRXZlbnQ6IFwiaW5wdXQuY29tcGxldGVcIiwgc2Nyb2xsSW50b1ZpZXc6IHRydWUgfSlcbiAgICBdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG4vKipcbkNvbm5lY3RzIGFuIFtFU0xpbnRdKGh0dHBzOi8vZXNsaW50Lm9yZy8pIGxpbnRlciB0byBDb2RlTWlycm9yJ3NcbltsaW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xpbnQpIGludGVncmF0aW9uLiBgZXNsaW50YCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgdGhlXG5bYExpbnRlcmBdKGh0dHBzOi8vZXNsaW50Lm9yZy9kb2NzL2RldmVsb3Blci1ndWlkZS9ub2RlanMtYXBpI2xpbnRlcilcbmNsYXNzLCBhbmQgYGNvbmZpZ2AgYW4gb3B0aW9uYWwgRVNMaW50IGNvbmZpZ3VyYXRpb24uIFRoZSByZXR1cm5cbnZhbHVlIG9mIHRoaXMgZnVuY3Rpb24gY2FuIGJlIHBhc3NlZCB0byBbYGxpbnRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGludC5saW50ZXIpXG50byBjcmVhdGUgYSBKYXZhU2NyaXB0IGxpbnRpbmcgZXh0ZW5zaW9uLlxuXG5Ob3RlIHRoYXQgRVNMaW50IHRhcmdldHMgbm9kZSwgYW5kIGlzIHRyaWNreSB0byBydW4gaW4gdGhlXG5icm93c2VyLiBUaGVcbltlc2xpbnQtbGludGVyLWJyb3dzZXJpZnldKGh0dHBzOi8vZ2l0aHViLmNvbS9VemlUZWNoL2VzbGludC1saW50ZXItYnJvd3NlcmlmeSlcbnBhY2thZ2UgbWF5IGhlbHAgd2l0aCB0aGF0IChzZWVcbltleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vVXppVGVjaC9lc2xpbnQtbGludGVyLWJyb3dzZXJpZnkvYmxvYi9tYXN0ZXIvZXhhbXBsZS9zY3JpcHQuanMpKS5cbiovXG5mdW5jdGlvbiBlc0xpbnQoZXNsaW50LCBjb25maWcpIHtcbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICBwYXJzZXJPcHRpb25zOiB7IGVjbWFWZXJzaW9uOiAyMDE5LCBzb3VyY2VUeXBlOiBcIm1vZHVsZVwiIH0sXG4gICAgICAgICAgICBlbnY6IHsgYnJvd3NlcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXM2OiB0cnVlLCBlczIwMTU6IHRydWUsIGVzMjAxNzogdHJ1ZSwgZXMyMDIwOiB0cnVlIH0sXG4gICAgICAgICAgICBydWxlczoge31cbiAgICAgICAgfTtcbiAgICAgICAgZXNsaW50LmdldFJ1bGVzKCkuZm9yRWFjaCgoZGVzYywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlc2MubWV0YS5kb2NzLnJlY29tbWVuZGVkKVxuICAgICAgICAgICAgICAgIGNvbmZpZy5ydWxlc1tuYW1lXSA9IDI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKHZpZXcpID0+IHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGZvdW5kID0gW107XG4gICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiBqYXZhc2NyaXB0TGFuZ3VhZ2UuZmluZFJlZ2lvbnMoc3RhdGUpKSB7XG4gICAgICAgICAgICBsZXQgZnJvbUxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZyb20pLCBvZmZzZXQgPSB7IGxpbmU6IGZyb21MaW5lLm51bWJlciAtIDEsIGNvbDogZnJvbSAtIGZyb21MaW5lLmZyb20sIHBvczogZnJvbSB9O1xuICAgICAgICAgICAgZm9yIChsZXQgZCBvZiBlc2xpbnQudmVyaWZ5KHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKSwgY29uZmlnKSlcbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKHRyYW5zbGF0ZURpYWdub3N0aWMoZCwgc3RhdGUuZG9jLCBvZmZzZXQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcFBvcyhsaW5lLCBjb2wsIGRvYywgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIGRvYy5saW5lKGxpbmUgKyBvZmZzZXQubGluZSkuZnJvbSArIGNvbCArIChsaW5lID09IDEgPyBvZmZzZXQuY29sIC0gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIHRyYW5zbGF0ZURpYWdub3N0aWMoaW5wdXQsIGRvYywgb2Zmc2V0KSB7XG4gICAgbGV0IHN0YXJ0ID0gbWFwUG9zKGlucHV0LmxpbmUsIGlucHV0LmNvbHVtbiwgZG9jLCBvZmZzZXQpO1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIGZyb206IHN0YXJ0LFxuICAgICAgICB0bzogaW5wdXQuZW5kTGluZSAhPSBudWxsICYmIGlucHV0LmVuZENvbHVtbiAhPSAxID8gbWFwUG9zKGlucHV0LmVuZExpbmUsIGlucHV0LmVuZENvbHVtbiwgZG9jLCBvZmZzZXQpIDogc3RhcnQsXG4gICAgICAgIG1lc3NhZ2U6IGlucHV0Lm1lc3NhZ2UsXG4gICAgICAgIHNvdXJjZTogaW5wdXQucnVsZUlkID8gXCJlc2xpbnQ6XCIgKyBpbnB1dC5ydWxlSWQgOiBcImVzbGludFwiLFxuICAgICAgICBzZXZlcml0eTogaW5wdXQuc2V2ZXJpdHkgPT0gMSA/IFwid2FybmluZ1wiIDogXCJlcnJvclwiLFxuICAgIH07XG4gICAgaWYgKGlucHV0LmZpeCkge1xuICAgICAgICBsZXQgeyByYW5nZSwgdGV4dCB9ID0gaW5wdXQuZml4LCBmcm9tID0gcmFuZ2VbMF0gKyBvZmZzZXQucG9zIC0gc3RhcnQsIHRvID0gcmFuZ2VbMV0gKyBvZmZzZXQucG9zIC0gc3RhcnQ7XG4gICAgICAgIHJlc3VsdC5hY3Rpb25zID0gW3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZpeFwiLFxuICAgICAgICAgICAgICAgIGFwcGx5KHZpZXcsIHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBjaGFuZ2VzOiB7IGZyb206IHN0YXJ0ICsgZnJvbSwgdG86IHN0YXJ0ICsgdG8sIGluc2VydDogdGV4dCB9LCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgYXV0b0Nsb3NlVGFncywgY29tcGxldGlvblBhdGgsIGVzTGludCwgamF2YXNjcmlwdCwgamF2YXNjcmlwdExhbmd1YWdlLCBqc3hMYW5ndWFnZSwgbG9jYWxDb21wbGV0aW9uU291cmNlLCBzY29wZUNvbXBsZXRpb25Tb3VyY2UsIHNuaXBwZXRzLCB0c3hMYW5ndWFnZSwgdHlwZXNjcmlwdExhbmd1YWdlLCB0eXBlc2NyaXB0U25pcHBldHMgfTtcbiIsCiAgICAiaW1wb3J0IHsgcGFyc2VyLCBjb25maWd1cmVOZXN0aW5nIH0gZnJvbSAnQGxlemVyL2h0bWwnO1xuaW1wb3J0IHsgY3NzTGFuZ3VhZ2UsIGNzcyB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmctY3NzJztcbmltcG9ydCB7IGphdmFzY3JpcHRMYW5ndWFnZSwgdHlwZXNjcmlwdExhbmd1YWdlLCBqc3hMYW5ndWFnZSwgdHN4TGFuZ3VhZ2UsIGphdmFzY3JpcHQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWphdmFzY3JpcHQnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yU2VsZWN0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGZvbGROb2RlUHJvcCwgYnJhY2tldE1hdGNoaW5nSGFuZGxlLCBMYW5ndWFnZVN1cHBvcnQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5cbmNvbnN0IFRhcmdldHMgPSBbXCJfYmxhbmtcIiwgXCJfc2VsZlwiLCBcIl90b3BcIiwgXCJfcGFyZW50XCJdO1xuY29uc3QgQ2hhcnNldHMgPSBbXCJhc2NpaVwiLCBcInV0Zi04XCIsIFwidXRmLTE2XCIsIFwibGF0aW4xXCIsIFwibGF0aW4xXCJdO1xuY29uc3QgTWV0aG9kcyA9IFtcImdldFwiLCBcInBvc3RcIiwgXCJwdXRcIiwgXCJkZWxldGVcIl07XG5jb25zdCBFbmNzID0gW1wiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLCBcInRleHQvcGxhaW5cIl07XG5jb25zdCBCb29sID0gW1widHJ1ZVwiLCBcImZhbHNlXCJdO1xuY29uc3QgUyA9IHt9OyAvLyBFbXB0eSB0YWcgc3BlY1xuY29uc3QgVGFncyA9IHtcbiAgICBhOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBocmVmOiBudWxsLCBwaW5nOiBudWxsLCB0eXBlOiBudWxsLFxuICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICB0YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICBocmVmbGFuZzogbnVsbFxuICAgICAgICB9XG4gICAgfSxcbiAgICBhYmJyOiBTLFxuICAgIGFkZHJlc3M6IFMsXG4gICAgYXJlYToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgYWx0OiBudWxsLCBjb29yZHM6IG51bGwsIGhyZWY6IG51bGwsIHRhcmdldDogbnVsbCwgcGluZzogbnVsbCxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLCBocmVmbGFuZzogbnVsbCwgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIHNoYXBlOiBbXCJkZWZhdWx0XCIsIFwicmVjdFwiLCBcImNpcmNsZVwiLCBcInBvbHlcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXJ0aWNsZTogUyxcbiAgICBhc2lkZTogUyxcbiAgICBhdWRpbzoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBtZWRpYWdyb3VwOiBudWxsLFxuICAgICAgICAgICAgY3Jvc3NvcmlnaW46IFtcImFub255bW91c1wiLCBcInVzZS1jcmVkZW50aWFsc1wiXSxcbiAgICAgICAgICAgIHByZWxvYWQ6IFtcIm5vbmVcIiwgXCJtZXRhZGF0YVwiLCBcImF1dG9cIl0sXG4gICAgICAgICAgICBhdXRvcGxheTogW1wiYXV0b3BsYXlcIl0sXG4gICAgICAgICAgICBsb29wOiBbXCJsb29wXCJdLFxuICAgICAgICAgICAgY29udHJvbHM6IFtcImNvbnRyb2xzXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGI6IFMsXG4gICAgYmFzZTogeyBhdHRyczogeyBocmVmOiBudWxsLCB0YXJnZXQ6IFRhcmdldHMgfSB9LFxuICAgIGJkaTogUyxcbiAgICBiZG86IFMsXG4gICAgYmxvY2txdW90ZTogeyBhdHRyczogeyBjaXRlOiBudWxsIH0gfSxcbiAgICBib2R5OiBTLFxuICAgIGJyOiBTLFxuICAgIGJ1dHRvbjoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZm9ybTogbnVsbCwgZm9ybWFjdGlvbjogbnVsbCwgbmFtZTogbnVsbCwgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBmb3JtZW5jdHlwZTogRW5jcyxcbiAgICAgICAgICAgIGZvcm1tZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBmb3Jtbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgICAgICAgIGZvcm10YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICB0eXBlOiBbXCJzdWJtaXRcIiwgXCJyZXNldFwiLCBcImJ1dHRvblwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBjYW52YXM6IHsgYXR0cnM6IHsgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCB9IH0sXG4gICAgY2FwdGlvbjogUyxcbiAgICBjZW50ZXI6IFMsXG4gICAgY2l0ZTogUyxcbiAgICBjb2RlOiBTLFxuICAgIGNvbDogeyBhdHRyczogeyBzcGFuOiBudWxsIH0gfSxcbiAgICBjb2xncm91cDogeyBhdHRyczogeyBzcGFuOiBudWxsIH0gfSxcbiAgICBjb21tYW5kOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJjb21tYW5kXCIsIFwiY2hlY2tib3hcIiwgXCJyYWRpb1wiXSxcbiAgICAgICAgICAgIGxhYmVsOiBudWxsLCBpY29uOiBudWxsLCByYWRpb2dyb3VwOiBudWxsLCBjb21tYW5kOiBudWxsLCB0aXRsZTogbnVsbCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIGNoZWNrZWQ6IFtcImNoZWNrZWRcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTogeyBhdHRyczogeyB2YWx1ZTogbnVsbCB9IH0sXG4gICAgZGF0YWdyaWQ6IHsgYXR0cnM6IHsgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLCBtdWx0aXBsZTogW1wibXVsdGlwbGVcIl0gfSB9LFxuICAgIGRhdGFsaXN0OiB7IGF0dHJzOiB7IGRhdGE6IG51bGwgfSB9LFxuICAgIGRkOiBTLFxuICAgIGRlbDogeyBhdHRyczogeyBjaXRlOiBudWxsLCBkYXRldGltZTogbnVsbCB9IH0sXG4gICAgZGV0YWlsczogeyBhdHRyczogeyBvcGVuOiBbXCJvcGVuXCJdIH0gfSxcbiAgICBkZm46IFMsXG4gICAgZGl2OiBTLFxuICAgIGRsOiBTLFxuICAgIGR0OiBTLFxuICAgIGVtOiBTLFxuICAgIGVtYmVkOiB7IGF0dHJzOiB7IHNyYzogbnVsbCwgdHlwZTogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCB9IH0sXG4gICAgZXZlbnRzb3VyY2U6IHsgYXR0cnM6IHsgc3JjOiBudWxsIH0gfSxcbiAgICBmaWVsZHNldDogeyBhdHRyczogeyBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sIGZvcm06IG51bGwsIG5hbWU6IG51bGwgfSB9LFxuICAgIGZpZ2NhcHRpb246IFMsXG4gICAgZmlndXJlOiBTLFxuICAgIGZvb3RlcjogUyxcbiAgICBmb3JtOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhY3Rpb246IG51bGwsIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBcImFjY2VwdC1jaGFyc2V0XCI6IENoYXJzZXRzLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBbXCJvblwiLCBcIm9mZlwiXSxcbiAgICAgICAgICAgIGVuY3R5cGU6IEVuY3MsXG4gICAgICAgICAgICBtZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBub3ZhbGlkYXRlOiBbXCJub3ZhbGlkYXRlXCJdLFxuICAgICAgICAgICAgdGFyZ2V0OiBUYXJnZXRzXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGgxOiBTLCBoMjogUywgaDM6IFMsIGg0OiBTLCBoNTogUywgaDY6IFMsXG4gICAgaGVhZDoge1xuICAgICAgICBjaGlsZHJlbjogW1widGl0bGVcIiwgXCJiYXNlXCIsIFwibGlua1wiLCBcInN0eWxlXCIsIFwibWV0YVwiLCBcInNjcmlwdFwiLCBcIm5vc2NyaXB0XCIsIFwiY29tbWFuZFwiXVxuICAgIH0sXG4gICAgaGVhZGVyOiBTLFxuICAgIGhncm91cDogUyxcbiAgICBocjogUyxcbiAgICBodG1sOiB7XG4gICAgICAgIGF0dHJzOiB7IG1hbmlmZXN0OiBudWxsIH1cbiAgICB9LFxuICAgIGk6IFMsXG4gICAgaWZyYW1lOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBzcmM6IG51bGwsIHNyY2RvYzogbnVsbCwgbmFtZTogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIHNhbmRib3g6IFtcImFsbG93LXRvcC1uYXZpZ2F0aW9uXCIsIFwiYWxsb3ctc2FtZS1vcmlnaW5cIiwgXCJhbGxvdy1mb3Jtc1wiLCBcImFsbG93LXNjcmlwdHNcIl0sXG4gICAgICAgICAgICBzZWFtbGVzczogW1wic2VhbWxlc3NcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW1nOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhbHQ6IG51bGwsIHNyYzogbnVsbCwgaXNtYXA6IG51bGwsIHVzZW1hcDogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGFsdDogbnVsbCwgZGlybmFtZTogbnVsbCwgZm9ybTogbnVsbCwgZm9ybWFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIGhlaWdodDogbnVsbCwgbGlzdDogbnVsbCwgbWF4OiBudWxsLCBtYXhsZW5ndGg6IG51bGwsIG1pbjogbnVsbCxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsIHBhdHRlcm46IG51bGwsIHBsYWNlaG9sZGVyOiBudWxsLCBzaXplOiBudWxsLCBzcmM6IG51bGwsXG4gICAgICAgICAgICBzdGVwOiBudWxsLCB2YWx1ZTogbnVsbCwgd2lkdGg6IG51bGwsXG4gICAgICAgICAgICBhY2NlcHQ6IFtcImF1ZGlvLypcIiwgXCJ2aWRlby8qXCIsIFwiaW1hZ2UvKlwiXSxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogW1wib25cIiwgXCJvZmZcIl0sXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGNoZWNrZWQ6IFtcImNoZWNrZWRcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICBmb3JtZW5jdHlwZTogRW5jcyxcbiAgICAgICAgICAgIGZvcm1tZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBmb3Jtbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgICAgICAgIGZvcm10YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICBtdWx0aXBsZTogW1wibXVsdGlwbGVcIl0sXG4gICAgICAgICAgICByZWFkb25seTogW1wicmVhZG9ubHlcIl0sXG4gICAgICAgICAgICByZXF1aXJlZDogW1wicmVxdWlyZWRcIl0sXG4gICAgICAgICAgICB0eXBlOiBbXCJoaWRkZW5cIiwgXCJ0ZXh0XCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCIsIFwiZW1haWxcIiwgXCJwYXNzd29yZFwiLCBcImRhdGV0aW1lXCIsIFwiZGF0ZVwiLCBcIm1vbnRoXCIsXG4gICAgICAgICAgICAgICAgXCJ3ZWVrXCIsIFwidGltZVwiLCBcImRhdGV0aW1lLWxvY2FsXCIsIFwibnVtYmVyXCIsIFwicmFuZ2VcIiwgXCJjb2xvclwiLCBcImNoZWNrYm94XCIsIFwicmFkaW9cIixcbiAgICAgICAgICAgICAgICBcImZpbGVcIiwgXCJzdWJtaXRcIiwgXCJpbWFnZVwiLCBcInJlc2V0XCIsIFwiYnV0dG9uXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluczogeyBhdHRyczogeyBjaXRlOiBudWxsLCBkYXRldGltZTogbnVsbCB9IH0sXG4gICAga2JkOiBTLFxuICAgIGtleWdlbjoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2hhbGxlbmdlOiBudWxsLCBmb3JtOiBudWxsLCBuYW1lOiBudWxsLFxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICBrZXl0eXBlOiBbXCJSU0FcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGFiZWw6IHsgYXR0cnM6IHsgZm9yOiBudWxsLCBmb3JtOiBudWxsIH0gfSxcbiAgICBsZWdlbmQ6IFMsXG4gICAgbGk6IHsgYXR0cnM6IHsgdmFsdWU6IG51bGwgfSB9LFxuICAgIGxpbms6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGhyZWY6IG51bGwsIHR5cGU6IG51bGwsXG4gICAgICAgICAgICBocmVmbGFuZzogbnVsbCxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgc2l6ZXM6IFtcImFsbFwiLCBcIjE2eDE2XCIsIFwiMTZ4MTYgMzJ4MzJcIiwgXCIxNngxNiAzMngzMiA2NHg2NFwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXA6IHsgYXR0cnM6IHsgbmFtZTogbnVsbCB9IH0sXG4gICAgbWFyazogUyxcbiAgICBtZW51OiB7IGF0dHJzOiB7IGxhYmVsOiBudWxsLCB0eXBlOiBbXCJsaXN0XCIsIFwiY29udGV4dFwiLCBcInRvb2xiYXJcIl0gfSB9LFxuICAgIG1ldGE6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXG4gICAgICAgICAgICBjaGFyc2V0OiBDaGFyc2V0cyxcbiAgICAgICAgICAgIG5hbWU6IFtcInZpZXdwb3J0XCIsIFwiYXBwbGljYXRpb24tbmFtZVwiLCBcImF1dGhvclwiLCBcImRlc2NyaXB0aW9uXCIsIFwiZ2VuZXJhdG9yXCIsIFwia2V5d29yZHNcIl0sXG4gICAgICAgICAgICBcImh0dHAtZXF1aXZcIjogW1wiY29udGVudC1sYW5ndWFnZVwiLCBcImNvbnRlbnQtdHlwZVwiLCBcImRlZmF1bHQtc3R5bGVcIiwgXCJyZWZyZXNoXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGVyOiB7IGF0dHJzOiB7IHZhbHVlOiBudWxsLCBtaW46IG51bGwsIGxvdzogbnVsbCwgaGlnaDogbnVsbCwgbWF4OiBudWxsLCBvcHRpbXVtOiBudWxsIH0gfSxcbiAgICBuYXY6IFMsXG4gICAgbm9zY3JpcHQ6IFMsXG4gICAgb2JqZWN0OiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBkYXRhOiBudWxsLCB0eXBlOiBudWxsLCBuYW1lOiBudWxsLCB1c2VtYXA6IG51bGwsIGZvcm06IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwsXG4gICAgICAgICAgICB0eXBlbXVzdG1hdGNoOiBbXCJ0eXBlbXVzdG1hdGNoXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9sOiB7IGF0dHJzOiB7IHJldmVyc2VkOiBbXCJyZXZlcnNlZFwiXSwgc3RhcnQ6IG51bGwsIHR5cGU6IFtcIjFcIiwgXCJhXCIsIFwiQVwiLCBcImlcIiwgXCJJXCJdIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXCJsaVwiLCBcInNjcmlwdFwiLCBcInRlbXBsYXRlXCIsIFwidWxcIiwgXCJvbFwiXSB9LFxuICAgIG9wdGdyb3VwOiB7IGF0dHJzOiB7IGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSwgbGFiZWw6IG51bGwgfSB9LFxuICAgIG9wdGlvbjogeyBhdHRyczogeyBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sIGxhYmVsOiBudWxsLCBzZWxlY3RlZDogW1wic2VsZWN0ZWRcIl0sIHZhbHVlOiBudWxsIH0gfSxcbiAgICBvdXRwdXQ6IHsgYXR0cnM6IHsgZm9yOiBudWxsLCBmb3JtOiBudWxsLCBuYW1lOiBudWxsIH0gfSxcbiAgICBwOiBTLFxuICAgIHBhcmFtOiB7IGF0dHJzOiB7IG5hbWU6IG51bGwsIHZhbHVlOiBudWxsIH0gfSxcbiAgICBwcmU6IFMsXG4gICAgcHJvZ3Jlc3M6IHsgYXR0cnM6IHsgdmFsdWU6IG51bGwsIG1heDogbnVsbCB9IH0sXG4gICAgcTogeyBhdHRyczogeyBjaXRlOiBudWxsIH0gfSxcbiAgICBycDogUyxcbiAgICBydDogUyxcbiAgICBydWJ5OiBTLFxuICAgIHNhbXA6IFMsXG4gICAgc2NyaXB0OiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJ0ZXh0L2phdmFzY3JpcHRcIl0sXG4gICAgICAgICAgICBzcmM6IG51bGwsXG4gICAgICAgICAgICBhc3luYzogW1wiYXN5bmNcIl0sXG4gICAgICAgICAgICBkZWZlcjogW1wiZGVmZXJcIl0sXG4gICAgICAgICAgICBjaGFyc2V0OiBDaGFyc2V0c1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZWN0aW9uOiBTLFxuICAgIHNlbGVjdDoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZm9ybTogbnVsbCwgbmFtZTogbnVsbCwgc2l6ZTogbnVsbCxcbiAgICAgICAgICAgIGF1dG9mb2N1czogW1wiYXV0b2ZvY3VzXCJdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgICAgICAgbXVsdGlwbGU6IFtcIm11bHRpcGxlXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNsb3Q6IHsgYXR0cnM6IHsgbmFtZTogbnVsbCB9IH0sXG4gICAgc21hbGw6IFMsXG4gICAgc291cmNlOiB7IGF0dHJzOiB7IHNyYzogbnVsbCwgdHlwZTogbnVsbCwgbWVkaWE6IG51bGwgfSB9LFxuICAgIHNwYW46IFMsXG4gICAgc3Ryb25nOiBTLFxuICAgIHN0eWxlOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJ0ZXh0L2Nzc1wiXSxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgc2NvcGVkOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YjogUyxcbiAgICBzdW1tYXJ5OiBTLFxuICAgIHN1cDogUyxcbiAgICB0YWJsZTogUyxcbiAgICB0Ym9keTogUyxcbiAgICB0ZDogeyBhdHRyczogeyBjb2xzcGFuOiBudWxsLCByb3dzcGFuOiBudWxsLCBoZWFkZXJzOiBudWxsIH0gfSxcbiAgICB0ZW1wbGF0ZTogUyxcbiAgICB0ZXh0YXJlYToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZGlybmFtZTogbnVsbCwgZm9ybTogbnVsbCwgbWF4bGVuZ3RoOiBudWxsLCBuYW1lOiBudWxsLCBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIHJvd3M6IG51bGwsIGNvbHM6IG51bGwsXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIHJlYWRvbmx5OiBbXCJyZWFkb25seVwiXSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJyZXF1aXJlZFwiXSxcbiAgICAgICAgICAgIHdyYXA6IFtcInNvZnRcIiwgXCJoYXJkXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRmb290OiBTLFxuICAgIHRoOiB7IGF0dHJzOiB7IGNvbHNwYW46IG51bGwsIHJvd3NwYW46IG51bGwsIGhlYWRlcnM6IG51bGwsIHNjb3BlOiBbXCJyb3dcIiwgXCJjb2xcIiwgXCJyb3dncm91cFwiLCBcImNvbGdyb3VwXCJdIH0gfSxcbiAgICB0aGVhZDogUyxcbiAgICB0aW1lOiB7IGF0dHJzOiB7IGRhdGV0aW1lOiBudWxsIH0gfSxcbiAgICB0aXRsZTogUyxcbiAgICB0cjogUyxcbiAgICB0cmFjazoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBsYWJlbDogbnVsbCwgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIGtpbmQ6IFtcInN1YnRpdGxlc1wiLCBcImNhcHRpb25zXCIsIFwiZGVzY3JpcHRpb25zXCIsIFwiY2hhcHRlcnNcIiwgXCJtZXRhZGF0YVwiXSxcbiAgICAgICAgICAgIHNyY2xhbmc6IG51bGxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdWw6IHsgY2hpbGRyZW46IFtcImxpXCIsIFwic2NyaXB0XCIsIFwidGVtcGxhdGVcIiwgXCJ1bFwiLCBcIm9sXCJdIH0sXG4gICAgdmFyOiBTLFxuICAgIHZpZGVvOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBzcmM6IG51bGwsIHBvc3RlcjogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl0sXG4gICAgICAgICAgICBwcmVsb2FkOiBbXCJhdXRvXCIsIFwibWV0YWRhdGFcIiwgXCJub25lXCJdLFxuICAgICAgICAgICAgYXV0b3BsYXk6IFtcImF1dG9wbGF5XCJdLFxuICAgICAgICAgICAgbWVkaWFncm91cDogW1wibW92aWVcIl0sXG4gICAgICAgICAgICBtdXRlZDogW1wibXV0ZWRcIl0sXG4gICAgICAgICAgICBjb250cm9sczogW1wiY29udHJvbHNcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2JyOiBTXG59O1xuY29uc3QgR2xvYmFsQXR0cnMgPSB7XG4gICAgYWNjZXNza2V5OiBudWxsLFxuICAgIGNsYXNzOiBudWxsLFxuICAgIGNvbnRlbnRlZGl0YWJsZTogQm9vbCxcbiAgICBjb250ZXh0bWVudTogbnVsbCxcbiAgICBkaXI6IFtcImx0clwiLCBcInJ0bFwiLCBcImF1dG9cIl0sXG4gICAgZHJhZ2dhYmxlOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJhdXRvXCJdLFxuICAgIGRyb3B6b25lOiBbXCJjb3B5XCIsIFwibW92ZVwiLCBcImxpbmtcIiwgXCJzdHJpbmc6XCIsIFwiZmlsZTpcIl0sXG4gICAgaGlkZGVuOiBbXCJoaWRkZW5cIl0sXG4gICAgaWQ6IG51bGwsXG4gICAgaW5lcnQ6IFtcImluZXJ0XCJdLFxuICAgIGl0ZW1pZDogbnVsbCxcbiAgICBpdGVtcHJvcDogbnVsbCxcbiAgICBpdGVtcmVmOiBudWxsLFxuICAgIGl0ZW1zY29wZTogW1wiaXRlbXNjb3BlXCJdLFxuICAgIGl0ZW10eXBlOiBudWxsLFxuICAgIGxhbmc6IFtcImFyXCIsIFwiYm5cIiwgXCJkZVwiLCBcImVuLUdCXCIsIFwiZW4tVVNcIiwgXCJlc1wiLCBcImZyXCIsIFwiaGlcIiwgXCJpZFwiLCBcImphXCIsIFwicGFcIiwgXCJwdFwiLCBcInJ1XCIsIFwidHJcIiwgXCJ6aFwiXSxcbiAgICBzcGVsbGNoZWNrOiBCb29sLFxuICAgIGF1dG9jb3JyZWN0OiBCb29sLFxuICAgIGF1dG9jYXBpdGFsaXplOiBCb29sLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIHRhYmluZGV4OiBudWxsLFxuICAgIHRpdGxlOiBudWxsLFxuICAgIHRyYW5zbGF0ZTogW1wieWVzXCIsIFwibm9cIl0sXG4gICAgcmVsOiBbXCJzdHlsZXNoZWV0XCIsIFwiYWx0ZXJuYXRlXCIsIFwiYXV0aG9yXCIsIFwiYm9va21hcmtcIiwgXCJoZWxwXCIsIFwibGljZW5zZVwiLCBcIm5leHRcIiwgXCJub2ZvbGxvd1wiLCBcIm5vcmVmZXJyZXJcIiwgXCJwcmVmZXRjaFwiLCBcInByZXZcIiwgXCJzZWFyY2hcIiwgXCJ0YWdcIl0sXG4gICAgcm9sZTogLypAX19QVVJFX18qL1wiYWxlcnQgYXBwbGljYXRpb24gYXJ0aWNsZSBiYW5uZXIgYnV0dG9uIGNlbGwgY2hlY2tib3ggY29tcGxlbWVudGFyeSBjb250ZW50aW5mbyBkaWFsb2cgZG9jdW1lbnQgZmVlZCBmaWd1cmUgZm9ybSBncmlkIGdyaWRjZWxsIGhlYWRpbmcgaW1nIGxpc3QgbGlzdGJveCBsaXN0aXRlbSBtYWluIG5hdmlnYXRpb24gcmVnaW9uIHJvdyByb3dncm91cCBzZWFyY2ggc3dpdGNoIHRhYiB0YWJsZSB0YWJwYW5lbCB0ZXh0Ym94IHRpbWVyXCIuc3BsaXQoXCIgXCIpLFxuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IG51bGwsXG4gICAgXCJhcmlhLWF0b21pY1wiOiBCb29sLFxuICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogW1wiaW5saW5lXCIsIFwibGlzdFwiLCBcImJvdGhcIiwgXCJub25lXCJdLFxuICAgIFwiYXJpYS1idXN5XCI6IEJvb2wsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IG51bGwsXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IG51bGwsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLWRyb3BlZmZlY3RcIjogbnVsbCxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwidW5kZWZpbmVkXCJdLFxuICAgIFwiYXJpYS1mbG93dG9cIjogbnVsbCxcbiAgICBcImFyaWEtZ3JhYmJlZFwiOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IEJvb2wsXG4gICAgXCJhcmlhLWhpZGRlblwiOiBCb29sLFxuICAgIFwiYXJpYS1pbnZhbGlkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcImdyYW1tYXJcIiwgXCJzcGVsbGluZ1wiXSxcbiAgICBcImFyaWEtbGFiZWxcIjogbnVsbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBudWxsLFxuICAgIFwiYXJpYS1sZXZlbFwiOiBudWxsLFxuICAgIFwiYXJpYS1saXZlXCI6IFtcIm9mZlwiLCBcInBvbGl0ZVwiLCBcImFzc2VydGl2ZVwiXSxcbiAgICBcImFyaWEtbXVsdGlsaW5lXCI6IEJvb2wsXG4gICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBCb29sLFxuICAgIFwiYXJpYS1vd25zXCI6IG51bGwsXG4gICAgXCJhcmlhLXBvc2luc2V0XCI6IG51bGwsXG4gICAgXCJhcmlhLXByZXNzZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLXJlYWRvbmx5XCI6IEJvb2wsXG4gICAgXCJhcmlhLXJlbGV2YW50XCI6IG51bGwsXG4gICAgXCJhcmlhLXJlcXVpcmVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLXNlbGVjdGVkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcInVuZGVmaW5lZFwiXSxcbiAgICBcImFyaWEtc2V0c2l6ZVwiOiBudWxsLFxuICAgIFwiYXJpYS1zb3J0XCI6IFtcImFzY2VuZGluZ1wiLCBcImRlc2NlbmRpbmdcIiwgXCJub25lXCIsIFwib3RoZXJcIl0sXG4gICAgXCJhcmlhLXZhbHVlbWF4XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbWluXCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbm93XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVldGV4dFwiOiBudWxsXG59O1xuY29uc3QgZXZlbnRBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qLyhcImJlZm9yZXVubG9hZCBjb3B5IGN1dCBkcmFnc3RhcnQgZHJhZ292ZXIgZHJhZ2xlYXZlIGRyYWdlbnRlciBkcmFnZW5kIFwiICtcbiAgICBcImRyYWcgcGFzdGUgZm9jdXMgYmx1ciBjaGFuZ2UgY2xpY2sgbG9hZCBtb3VzZWRvd24gbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcbiAgICBcIm1vdXNldXAga2V5ZG93biBrZXl1cCByZXNpemUgc2Nyb2xsIHVubG9hZFwiKS5zcGxpdChcIiBcIikubWFwKG4gPT4gXCJvblwiICsgbik7XG5mb3IgKGxldCBhIG9mIGV2ZW50QXR0cmlidXRlcylcbiAgICBHbG9iYWxBdHRyc1thXSA9IG51bGw7XG5jbGFzcyBTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGV4dHJhVGFncywgZXh0cmFBdHRycykge1xuICAgICAgICB0aGlzLnRhZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIFRhZ3MpLCBleHRyYVRhZ3MpO1xuICAgICAgICB0aGlzLmdsb2JhbEF0dHJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBHbG9iYWxBdHRycyksIGV4dHJhQXR0cnMpO1xuICAgICAgICB0aGlzLmFsbFRhZ3MgPSBPYmplY3Qua2V5cyh0aGlzLnRhZ3MpO1xuICAgICAgICB0aGlzLmdsb2JhbEF0dHJOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuZ2xvYmFsQXR0cnMpO1xuICAgIH1cbn1cblNjaGVtYS5kZWZhdWx0ID0gLypAX19QVVJFX18qL25ldyBTY2hlbWE7XG5mdW5jdGlvbiBlbGVtZW50TmFtZShkb2MsIHRyZWUsIG1heCA9IGRvYy5sZW5ndGgpIHtcbiAgICBpZiAoIXRyZWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGxldCB0YWcgPSB0cmVlLmZpcnN0Q2hpbGQ7XG4gICAgbGV0IG5hbWUgPSB0YWcgJiYgdGFnLmdldENoaWxkKFwiVGFnTmFtZVwiKTtcbiAgICByZXR1cm4gbmFtZSA/IGRvYy5zbGljZVN0cmluZyhuYW1lLmZyb20sIE1hdGgubWluKG5hbWUudG8sIG1heCkpIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUsIHNraXAgPSBmYWxzZSkge1xuICAgIGZvciAoOyB0cmVlOyB0cmVlID0gdHJlZS5wYXJlbnQpXG4gICAgICAgIGlmICh0cmVlLm5hbWUgPT0gXCJFbGVtZW50XCIpIHtcbiAgICAgICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJlZTtcbiAgICAgICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gYWxsb3dlZENoaWxkcmVuKGRvYywgdHJlZSwgc2NoZW1hKSB7XG4gICAgbGV0IHBhcmVudEluZm8gPSBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShkb2MsIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpKV07XG4gICAgcmV0dXJuIChwYXJlbnRJbmZvID09PSBudWxsIHx8IHBhcmVudEluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEluZm8uY2hpbGRyZW4pIHx8IHNjaGVtYS5hbGxUYWdzO1xufVxuZnVuY3Rpb24gb3BlblRhZ3MoZG9jLCB0cmVlKSB7XG4gICAgbGV0IG9wZW4gPSBbXTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKTsgcGFyZW50ICYmICFwYXJlbnQudHlwZS5pc1RvcDsgcGFyZW50ID0gZmluZFBhcmVudEVsZW1lbnQocGFyZW50LnBhcmVudCkpIHtcbiAgICAgICAgbGV0IHRhZ05hbWUgPSBlbGVtZW50TmFtZShkb2MsIHBhcmVudCk7XG4gICAgICAgIGlmICh0YWdOYW1lICYmIHBhcmVudC5sYXN0Q2hpbGQubmFtZSA9PSBcIkNsb3NlVGFnXCIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKHRhZ05hbWUgJiYgb3Blbi5pbmRleE9mKHRhZ05hbWUpIDwgMCAmJiAodHJlZS5uYW1lID09IFwiRW5kVGFnXCIgfHwgdHJlZS5mcm9tID49IHBhcmVudC5maXJzdENoaWxkLnRvKSlcbiAgICAgICAgICAgIG9wZW4ucHVzaCh0YWdOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wZW47XG59XG5jb25zdCBpZGVudGlmaWVyID0gL15bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC87XG5mdW5jdGlvbiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBmcm9tLCB0bykge1xuICAgIGxldCBlbmQgPSAvXFxzKj4vLnRlc3Qoc3RhdGUuc2xpY2VEb2ModG8sIHRvICsgNSkpID8gXCJcIiA6IFwiPlwiO1xuICAgIGxldCBwYXJlbnQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlLCB0cnVlKTtcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogYWxsb3dlZENoaWxkcmVuKHN0YXRlLmRvYywgcGFyZW50LCBzY2hlbWEpLm1hcCh0YWdOYW1lID0+ICh7IGxhYmVsOiB0YWdOYW1lLCB0eXBlOiBcInR5cGVcIiB9KSkuY29uY2F0KG9wZW5UYWdzKHN0YXRlLmRvYywgdHJlZSkubWFwKCh0YWcsIGkpID0+ICh7IGxhYmVsOiBcIi9cIiArIHRhZywgYXBwbHk6IFwiL1wiICsgdGFnICsgZW5kLFxuICAgICAgICAgICAgdHlwZTogXCJ0eXBlXCIsIGJvb3N0OiA5OSAtIGkgfSkpKSxcbiAgICAgICAgdmFsaWRGb3I6IC9eXFwvP1s6XFwtXFwuXFx3XFx1MDBiNy1cXHVmZmZmXSokLyB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVDbG9zZVRhZyhzdGF0ZSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZW5kID0gL1xccyo+Ly50ZXN0KHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDUpKSA/IFwiXCIgOiBcIj5cIjtcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogb3BlblRhZ3Moc3RhdGUuZG9jLCB0cmVlKS5tYXAoKHRhZywgaSkgPT4gKHsgbGFiZWw6IHRhZywgYXBwbHk6IHRhZyArIGVuZCwgdHlwZTogXCJ0eXBlXCIsIGJvb3N0OiA5OSAtIGkgfSkpLFxuICAgICAgICB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVTdGFydFRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MpIHtcbiAgICBsZXQgb3B0aW9ucyA9IFtdLCBsZXZlbCA9IDA7XG4gICAgZm9yIChsZXQgdGFnTmFtZSBvZiBhbGxvd2VkQ2hpbGRyZW4oc3RhdGUuZG9jLCB0cmVlLCBzY2hlbWEpKVxuICAgICAgICBvcHRpb25zLnB1c2goeyBsYWJlbDogXCI8XCIgKyB0YWdOYW1lLCB0eXBlOiBcInR5cGVcIiB9KTtcbiAgICBmb3IgKGxldCBvcGVuIG9mIG9wZW5UYWdzKHN0YXRlLmRvYywgdHJlZSkpXG4gICAgICAgIG9wdGlvbnMucHVzaCh7IGxhYmVsOiBcIjwvXCIgKyBvcGVuICsgXCI+XCIsIHR5cGU6IFwidHlwZVwiLCBib29zdDogOTkgLSBsZXZlbCsrIH0pO1xuICAgIHJldHVybiB7IGZyb206IHBvcywgdG86IHBvcywgb3B0aW9ucywgdmFsaWRGb3I6IC9ePFxcLz9bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC8gfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlQXR0ck5hbWUoc3RhdGUsIHNjaGVtYSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZWx0ID0gZmluZFBhcmVudEVsZW1lbnQodHJlZSksIGluZm8gPSBlbHQgPyBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGVsdCldIDogbnVsbDtcbiAgICBsZXQgbG9jYWxBdHRycyA9IGluZm8gJiYgaW5mby5hdHRycyA/IE9iamVjdC5rZXlzKGluZm8uYXR0cnMpIDogW107XG4gICAgbGV0IG5hbWVzID0gaW5mbyAmJiBpbmZvLmdsb2JhbEF0dHJzID09PSBmYWxzZSA/IGxvY2FsQXR0cnNcbiAgICAgICAgOiBsb2NhbEF0dHJzLmxlbmd0aCA/IGxvY2FsQXR0cnMuY29uY2F0KHNjaGVtYS5nbG9iYWxBdHRyTmFtZXMpIDogc2NoZW1hLmdsb2JhbEF0dHJOYW1lcztcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogbmFtZXMubWFwKGF0dHJOYW1lID0+ICh7IGxhYmVsOiBhdHRyTmFtZSwgdHlwZTogXCJwcm9wZXJ0eVwiIH0pKSxcbiAgICAgICAgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlQXR0clZhbHVlKHN0YXRlLCBzY2hlbWEsIHRyZWUsIGZyb20sIHRvKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBuYW1lTm9kZSA9IChfYSA9IHRyZWUucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q2hpbGQoXCJBdHRyaWJ1dGVOYW1lXCIpO1xuICAgIGxldCBvcHRpb25zID0gW10sIHRva2VuID0gdW5kZWZpbmVkO1xuICAgIGlmIChuYW1lTm9kZSkge1xuICAgICAgICBsZXQgYXR0ck5hbWUgPSBzdGF0ZS5zbGljZURvYyhuYW1lTm9kZS5mcm9tLCBuYW1lTm9kZS50byk7XG4gICAgICAgIGxldCBhdHRycyA9IHNjaGVtYS5nbG9iYWxBdHRyc1thdHRyTmFtZV07XG4gICAgICAgIGlmICghYXR0cnMpIHtcbiAgICAgICAgICAgIGxldCBlbHQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKSwgaW5mbyA9IGVsdCA/IHNjaGVtYS50YWdzW2VsZW1lbnROYW1lKHN0YXRlLmRvYywgZWx0KV0gOiBudWxsO1xuICAgICAgICAgICAgYXR0cnMgPSAoaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLmF0dHJzKSAmJiBpbmZvLmF0dHJzW2F0dHJOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgICAgIGxldCBiYXNlID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pLnRvTG93ZXJDYXNlKCksIHF1b3RlU3RhcnQgPSAnXCInLCBxdW90ZUVuZCA9ICdcIic7XG4gICAgICAgICAgICBpZiAoL15bJ1wiXS8udGVzdChiYXNlKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gYmFzZVswXSA9PSAnXCInID8gL15bXlwiXSokLyA6IC9eW14nXSokLztcbiAgICAgICAgICAgICAgICBxdW90ZVN0YXJ0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBxdW90ZUVuZCA9IHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDEpID09IGJhc2VbMF0gPyBcIlwiIDogYmFzZVswXTtcbiAgICAgICAgICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBmcm9tKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IC9eW15cXHM8Pj0nXCJdKiQvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgdmFsdWUgb2YgYXR0cnMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHsgbGFiZWw6IHZhbHVlLCBhcHBseTogcXVvdGVTdGFydCArIHZhbHVlICsgcXVvdGVFbmQsIHR5cGU6IFwiY29uc3RhbnRcIiB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBmcm9tLCB0bywgb3B0aW9ucywgdmFsaWRGb3I6IHRva2VuIH07XG59XG5mdW5jdGlvbiBodG1sQ29tcGxldGlvbkZvcihzY2hlbWEsIGNvbnRleHQpIHtcbiAgICBsZXQgeyBzdGF0ZSwgcG9zIH0gPSBjb250ZXh0LCB0cmVlID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKHBvcywgLTEpLCBhcm91bmQgPSB0cmVlLnJlc29sdmUocG9zKTtcbiAgICBmb3IgKGxldCBzY2FuID0gcG9zLCBiZWZvcmU7IGFyb3VuZCA9PSB0cmVlICYmIChiZWZvcmUgPSB0cmVlLmNoaWxkQmVmb3JlKHNjYW4pKTspIHtcbiAgICAgICAgbGV0IGxhc3QgPSBiZWZvcmUubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWxhc3QgfHwgIWxhc3QudHlwZS5pc0Vycm9yIHx8IGxhc3QuZnJvbSA8IGxhc3QudG8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgYXJvdW5kID0gdHJlZSA9IGJlZm9yZTtcbiAgICAgICAgc2NhbiA9IGxhc3QuZnJvbTtcbiAgICB9XG4gICAgaWYgKHRyZWUubmFtZSA9PSBcIlRhZ05hbWVcIikge1xuICAgICAgICByZXR1cm4gdHJlZS5wYXJlbnQgJiYgL0Nsb3NlVGFnJC8udGVzdCh0cmVlLnBhcmVudC5uYW1lKSA/IGNvbXBsZXRlQ2xvc2VUYWcoc3RhdGUsIHRyZWUsIHRyZWUuZnJvbSwgcG9zKVxuICAgICAgICAgICAgOiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLmZyb20sIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIlN0YXJ0VGFnXCIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlVGFnKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHBvcywgcG9zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHJlZS5uYW1lID09IFwiU3RhcnRDbG9zZVRhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZUNsb3NlVGFnKHN0YXRlLCB0cmVlLCBwb3MsIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIk9wZW5UYWdcIiB8fCB0cmVlLm5hbWUgPT0gXCJTZWxmQ2xvc2luZ1RhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkF0dHJpYnV0ZU5hbWVcIikge1xuICAgICAgICByZXR1cm4gY29tcGxldGVBdHRyTmFtZShzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVOYW1lXCIgPyB0cmVlLmZyb20gOiBwb3MsIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIklzXCIgfHwgdHJlZS5uYW1lID09IFwiQXR0cmlidXRlVmFsdWVcIiB8fCB0cmVlLm5hbWUgPT0gXCJVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlQXR0clZhbHVlKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHRyZWUubmFtZSA9PSBcIklzXCIgPyBwb3MgOiB0cmVlLmZyb20sIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQuZXhwbGljaXQgJiYgKGFyb3VuZC5uYW1lID09IFwiRWxlbWVudFwiIHx8IGFyb3VuZC5uYW1lID09IFwiVGV4dFwiIHx8IGFyb3VuZC5uYW1lID09IFwiRG9jdW1lbnRcIikpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlU3RhcnRUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgcG9zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuSFRNTCB0YWcgY29tcGxldGlvbi4gT3BlbnMgYW5kIGNsb3NlcyB0YWdzIGFuZCBhdHRyaWJ1dGVzIGluIGFcbmNvbnRleHQtYXdhcmUgd2F5LlxuKi9cbmZ1bmN0aW9uIGh0bWxDb21wbGV0aW9uU291cmNlKGNvbnRleHQpIHtcbiAgICByZXR1cm4gaHRtbENvbXBsZXRpb25Gb3IoU2NoZW1hLmRlZmF1bHQsIGNvbnRleHQpO1xufVxuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIHNvdXJjZSBmb3IgSFRNTCBleHRlbmRlZCB3aXRoIGFkZGl0aW9uYWwgdGFnc1xub3IgYXR0cmlidXRlcy5cbiovXG5mdW5jdGlvbiBodG1sQ29tcGxldGlvblNvdXJjZVdpdGgoY29uZmlnKSB7XG4gICAgbGV0IHsgZXh0cmFUYWdzLCBleHRyYUdsb2JhbEF0dHJpYnV0ZXM6IGV4dHJhQXR0cnMgfSA9IGNvbmZpZztcbiAgICBsZXQgc2NoZW1hID0gZXh0cmFBdHRycyB8fCBleHRyYVRhZ3MgPyBuZXcgU2NoZW1hKGV4dHJhVGFncywgZXh0cmFBdHRycykgOiBTY2hlbWEuZGVmYXVsdDtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IGh0bWxDb21wbGV0aW9uRm9yKHNjaGVtYSwgY29udGV4dCk7XG59XG5cbmNvbnN0IGpzb25QYXJzZXIgPSAvKkBfX1BVUkVfXyovamF2YXNjcmlwdExhbmd1YWdlLnBhcnNlci5jb25maWd1cmUoeyB0b3A6IFwiU2luZ2xlRXhwcmVzc2lvblwiIH0pO1xuY29uc3QgZGVmYXVsdE5lc3RpbmcgPSBbXG4gICAgeyB0YWc6IFwic2NyaXB0XCIsXG4gICAgICAgIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0XCIgfHwgYXR0cnMubGFuZyA9PSBcInRzXCIsXG4gICAgICAgIHBhcnNlcjogdHlwZXNjcmlwdExhbmd1YWdlLnBhcnNlciB9LFxuICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICBhdHRyczogYXR0cnMgPT4gYXR0cnMudHlwZSA9PSBcInRleHQvYmFiZWxcIiB8fCBhdHRycy50eXBlID09IFwidGV4dC9qc3hcIixcbiAgICAgICAgcGFyc2VyOiBqc3hMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICB7IHRhZzogXCJzY3JpcHRcIixcbiAgICAgICAgYXR0cnM6IGF0dHJzID0+IGF0dHJzLnR5cGUgPT0gXCJ0ZXh0L3R5cGVzY3JpcHQtanN4XCIsXG4gICAgICAgIHBhcnNlcjogdHN4TGFuZ3VhZ2UucGFyc2VyIH0sXG4gICAgeyB0YWc6IFwic2NyaXB0XCIsXG4gICAgICAgIGF0dHJzKGF0dHJzKSB7XG4gICAgICAgICAgICByZXR1cm4gL14oaW1wb3J0bWFwfHNwZWN1bGF0aW9ucnVsZXN8YXBwbGljYXRpb25cXC8oLitcXCspP2pzb24pJC9pLnRlc3QoYXR0cnMudHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjoganNvblBhcnNlciB9LFxuICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICBhdHRycyhhdHRycykge1xuICAgICAgICAgICAgcmV0dXJuICFhdHRycy50eXBlIHx8IC9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC8oPzp4LSk/KD86amF2YXxlY21hKXNjcmlwdCR8Xm1vZHVsZSR8XiQvaS50ZXN0KGF0dHJzLnR5cGUpO1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZXI6IGphdmFzY3JpcHRMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICB7IHRhZzogXCJzdHlsZVwiLFxuICAgICAgICBhdHRycyhhdHRycykge1xuICAgICAgICAgICAgcmV0dXJuICghYXR0cnMubGFuZyB8fCBhdHRycy5sYW5nID09IFwiY3NzXCIpICYmICghYXR0cnMudHlwZSB8fCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2kudGVzdChhdHRycy50eXBlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjogY3NzTGFuZ3VhZ2UucGFyc2VyIH1cbl07XG5jb25zdCBkZWZhdWx0QXR0cnMgPSAvKkBfX1BVUkVfXyovW1xuICAgIHsgbmFtZTogXCJzdHlsZVwiLFxuICAgICAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9jc3NMYW5ndWFnZS5wYXJzZXIuY29uZmlndXJlKHsgdG9wOiBcIlN0eWxlc1wiIH0pIH1cbl0uY29uY2F0KC8qQF9fUFVSRV9fKi9ldmVudEF0dHJpYnV0ZXMubWFwKG5hbWUgPT4gKHsgbmFtZSwgcGFyc2VyOiBqYXZhc2NyaXB0TGFuZ3VhZ2UucGFyc2VyIH0pKSk7XG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgYmFzZWQgb24gdGhlIFtMZXplciBIVE1MXG5wYXJzZXJdKGh0dHBzOi8vZ2l0aHViLmNvbS9sZXplci1wYXJzZXIvaHRtbCksIGV4dGVuZGVkIHdpdGggdGhlXG5KYXZhU2NyaXB0IGFuZCBDU1MgcGFyc2VycyB0byBwYXJzZSB0aGUgY29udGVudCBvZiBgPHNjcmlwdD5gIGFuZFxuYDxzdHlsZT5gIHRhZ3MuXG4qL1xuY29uc3QgaHRtbFBsYWluID0gLypAX19QVVJFX18qL0xSTGFuZ3VhZ2UuZGVmaW5lKHtcbiAgICBuYW1lOiBcImh0bWxcIixcbiAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIEVsZW1lbnQoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSAvXihcXHMqKSg8XFwvKT8vLmV4ZWMoY29udGV4dC50ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5ub2RlLnRvIDw9IGNvbnRleHQucG9zICsgYWZ0ZXJbMF0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubGluZUluZGVudChjb250ZXh0Lm5vZGUuZnJvbSkgKyAoYWZ0ZXJbMl0gPyAwIDogY29udGV4dC51bml0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiT3BlblRhZyBDbG9zZVRhZyBTZWxmQ2xvc2luZ1RhZ1wiKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29sdW1uKGNvbnRleHQubm9kZS5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIERvY3VtZW50KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQucG9zICsgL1xccyovLmV4ZWMoY29udGV4dC50ZXh0QWZ0ZXIpWzBdLmxlbmd0aCA8IGNvbnRleHQubm9kZS50bylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRFbHQgPSBudWxsLCBjbG9zZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3VyID0gY29udGV4dC5ub2RlOzspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gY3VyLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFzdCB8fCBsYXN0Lm5hbWUgIT0gXCJFbGVtZW50XCIgfHwgbGFzdC50byAhPSBjdXIudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRFbHQgPSBjdXIgPSBsYXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRFbHQgJiYgISgoY2xvc2UgPSBlbmRFbHQubGFzdENoaWxkKSAmJiAoY2xvc2UubmFtZSA9PSBcIkNsb3NlVGFnXCIgfHwgY2xvc2UubmFtZSA9PSBcIlNlbGZDbG9zaW5nVGFnXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoZW5kRWx0LmZyb20pICsgY29udGV4dC51bml0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBFbGVtZW50KG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkLCBsYXN0ID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3QgfHwgZmlyc3QubmFtZSAhPSBcIk9wZW5UYWdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmcm9tOiBmaXJzdC50bywgdG86IGxhc3QubmFtZSA9PSBcIkNsb3NlVGFnXCIgPyBsYXN0LmZyb20gOiBub2RlLnRvIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovYnJhY2tldE1hdGNoaW5nSGFuZGxlLmFkZCh7XG4gICAgICAgICAgICAgICAgXCJPcGVuVGFnIENsb3NlVGFnXCI6IG5vZGUgPT4gbm9kZS5nZXRDaGlsZChcIlRhZ05hbWVcIilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcIjwhLS1cIiwgY2xvc2U6IFwiLS0+XCIgfSB9LFxuICAgICAgICBpbmRlbnRPbklucHV0OiAvXlxccyo8XFwvXFx3K1xcVyQvLFxuICAgICAgICB3b3JkQ2hhcnM6IFwiLS5fXCJcbiAgICB9XG59KTtcbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIEhUTUxcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9odG1sKSwgZXh0ZW5kZWQgd2l0aCB0aGVcbkphdmFTY3JpcHQgYW5kIENTUyBwYXJzZXJzIHRvIHBhcnNlIHRoZSBjb250ZW50IG9mIGA8c2NyaXB0PmAgYW5kXG5gPHN0eWxlPmAgdGFncy5cbiovXG5jb25zdCBodG1sTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovaHRtbFBsYWluLmNvbmZpZ3VyZSh7XG4gICAgd3JhcDogLypAX19QVVJFX18qL2NvbmZpZ3VyZU5lc3RpbmcoZGVmYXVsdE5lc3RpbmcsIGRlZmF1bHRBdHRycylcbn0pO1xuLyoqXG5MYW5ndWFnZSBzdXBwb3J0IGZvciBIVE1MLCBpbmNsdWRpbmdcbltgaHRtbENvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmctaHRtbC5odG1sQ29tcGxldGlvbikgYW5kIEphdmFTY3JpcHQgYW5kXG5DU1Mgc3VwcG9ydCBleHRlbnNpb25zLlxuKi9cbmZ1bmN0aW9uIGh0bWwoY29uZmlnID0ge30pIHtcbiAgICBsZXQgZGlhbGVjdCA9IFwiXCIsIHdyYXA7XG4gICAgaWYgKGNvbmZpZy5tYXRjaENsb3NpbmdUYWdzID09PSBmYWxzZSlcbiAgICAgICAgZGlhbGVjdCA9IFwibm9NYXRjaFwiO1xuICAgIGlmIChjb25maWcuc2VsZkNsb3NpbmdUYWdzID09PSB0cnVlKVxuICAgICAgICBkaWFsZWN0ID0gKGRpYWxlY3QgPyBkaWFsZWN0ICsgXCIgXCIgOiBcIlwiKSArIFwic2VsZkNsb3NpbmdcIjtcbiAgICBpZiAoY29uZmlnLm5lc3RlZExhbmd1YWdlcyAmJiBjb25maWcubmVzdGVkTGFuZ3VhZ2VzLmxlbmd0aCB8fFxuICAgICAgICBjb25maWcubmVzdGVkQXR0cmlidXRlcyAmJiBjb25maWcubmVzdGVkQXR0cmlidXRlcy5sZW5ndGgpXG4gICAgICAgIHdyYXAgPSBjb25maWd1cmVOZXN0aW5nKChjb25maWcubmVzdGVkTGFuZ3VhZ2VzIHx8IFtdKS5jb25jYXQoZGVmYXVsdE5lc3RpbmcpLCAoY29uZmlnLm5lc3RlZEF0dHJpYnV0ZXMgfHwgW10pLmNvbmNhdChkZWZhdWx0QXR0cnMpKTtcbiAgICBsZXQgbGFuZyA9IHdyYXAgPyBodG1sUGxhaW4uY29uZmlndXJlKHsgd3JhcCwgZGlhbGVjdCB9KSA6IGRpYWxlY3QgPyBodG1sTGFuZ3VhZ2UuY29uZmlndXJlKHsgZGlhbGVjdCB9KSA6IGh0bWxMYW5ndWFnZTtcbiAgICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChsYW5nLCBbXG4gICAgICAgIGh0bWxMYW5ndWFnZS5kYXRhLm9mKHsgYXV0b2NvbXBsZXRlOiBodG1sQ29tcGxldGlvblNvdXJjZVdpdGgoY29uZmlnKSB9KSxcbiAgICAgICAgY29uZmlnLmF1dG9DbG9zZVRhZ3MgIT09IGZhbHNlID8gYXV0b0Nsb3NlVGFncyA6IFtdLFxuICAgICAgICBqYXZhc2NyaXB0KCkuc3VwcG9ydCxcbiAgICAgICAgY3NzKCkuc3VwcG9ydFxuICAgIF0pO1xufVxuY29uc3Qgc2VsZkNsb3NlcnMgPSAvKkBfX1BVUkVfXyovbmV3IFNldCgvKkBfX1BVUkVfXyovXCJhcmVhIGJhc2UgYnIgY29sIGNvbW1hbmQgZW1iZWQgZnJhbWUgaHIgaW1nIGlucHV0IGtleWdlbiBsaW5rIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdiciBtZW51aXRlbVwiLnNwbGl0KFwiIFwiKSk7XG4vKipcbkV4dGVuc2lvbiB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBpbnNlcnQgY2xvc2UgdGFncyB3aGVuIGEgYD5gIG9yXG5gL2AgaXMgdHlwZWQuXG4qL1xuY29uc3QgYXV0b0Nsb3NlVGFncyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIHRleHQsIGluc2VydFRyYW5zYWN0aW9uKSA9PiB7XG4gICAgaWYgKHZpZXcuY29tcG9zaW5nIHx8IHZpZXcuc3RhdGUucmVhZE9ubHkgfHwgZnJvbSAhPSB0byB8fCAodGV4dCAhPSBcIj5cIiAmJiB0ZXh0ICE9IFwiL1wiKSB8fFxuICAgICAgICAhaHRtbExhbmd1YWdlLmlzQWN0aXZlQXQodmlldy5zdGF0ZSwgZnJvbSwgLTEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGJhc2UgPSBpbnNlcnRUcmFuc2FjdGlvbigpLCB7IHN0YXRlIH0gPSBiYXNlO1xuICAgIGxldCBjbG9zZVRhZ3MgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGxldCBkaWRUeXBlID0gc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHJhbmdlLmZyb20gLSAxLCByYW5nZS50bykgPT0gdGV4dDtcbiAgICAgICAgbGV0IHsgaGVhZCB9ID0gcmFuZ2UsIGFmdGVyID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKGhlYWQsIC0xKSwgbmFtZTtcbiAgICAgICAgaWYgKGRpZFR5cGUgJiYgdGV4dCA9PSBcIj5cIiAmJiBhZnRlci5uYW1lID09IFwiRW5kVGFnXCIpIHtcbiAgICAgICAgICAgIGxldCB0YWcgPSBhZnRlci5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoKChfYiA9IChfYSA9IHRhZy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgdGFnLnBhcmVudCwgaGVhZCkpICYmXG4gICAgICAgICAgICAgICAgIXNlbGZDbG9zZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGxldCB0byA9IGhlYWQgKyAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQsIGhlYWQgKyAxKSA9PT0gXCI+XCIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGA8LyR7bmFtZX0+YDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCB0bywgaW5zZXJ0IH0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWRUeXBlICYmIHRleHQgPT0gXCIvXCIgJiYgYWZ0ZXIubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgICAgICAgICBsZXQgdGFnID0gYWZ0ZXIucGFyZW50O1xuICAgICAgICAgICAgaWYgKGFmdGVyLmZyb20gPT0gaGVhZCAtIDIgJiYgKChfYyA9IHRhZy5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgdGFnLCBoZWFkKSkgJiYgIXNlbGZDbG9zZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGxldCB0byA9IGhlYWQgKyAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQsIGhlYWQgKyAxKSA9PT0gXCI+XCIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGAke25hbWV9PmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIGluc2VydC5sZW5ndGgsIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiBoZWFkLCB0bywgaW5zZXJ0IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgfSk7XG4gICAgaWYgKGNsb3NlVGFncy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaChbXG4gICAgICAgIGJhc2UsXG4gICAgICAgIHN0YXRlLnVwZGF0ZShjbG9zZVRhZ3MsIHtcbiAgICAgICAgICAgIHVzZXJFdmVudDogXCJpbnB1dC5jb21wbGV0ZVwiLFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgfSlcbiAgICBdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG5leHBvcnQgeyBhdXRvQ2xvc2VUYWdzLCBodG1sLCBodG1sQ29tcGxldGlvblNvdXJjZSwgaHRtbENvbXBsZXRpb25Tb3VyY2VXaXRoLCBodG1sTGFuZ3VhZ2UsIGh0bWxQbGFpbiB9O1xuIiwKICAgICJpbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBIaWdobGlnaHRTdHlsZSwgc3ludGF4SGlnaGxpZ2h0aW5nIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBVc2luZyBodHRwczovL2dpdGh1Yi5jb20vb25lLWRhcmsvdnNjb2RlLW9uZS1kYXJrLXRoZW1lLyBhcyByZWZlcmVuY2UgZm9yIHRoZSBjb2xvcnNcbmNvbnN0IGNoYWxreSA9IFwiI2U1YzA3YlwiLCBjb3JhbCA9IFwiI2UwNmM3NVwiLCBjeWFuID0gXCIjNTZiNmMyXCIsIGludmFsaWQgPSBcIiNmZmZmZmZcIiwgaXZvcnkgPSBcIiNhYmIyYmZcIiwgc3RvbmUgPSBcIiM3ZDg3OTlcIiwgLy8gQnJpZ2h0ZW5lZCBjb21wYXJlZCB0byBvcmlnaW5hbCB0byBpbmNyZWFzZSBjb250cmFzdFxubWFsaWJ1ID0gXCIjNjFhZmVmXCIsIHNhZ2UgPSBcIiM5OGMzNzlcIiwgd2hpc2tleSA9IFwiI2QxOWE2NlwiLCB2aW9sZXQgPSBcIiNjNjc4ZGRcIiwgZGFya0JhY2tncm91bmQgPSBcIiMyMTI1MmJcIiwgaGlnaGxpZ2h0QmFja2dyb3VuZCA9IFwiIzJjMzEzYVwiLCBiYWNrZ3JvdW5kID0gXCIjMjgyYzM0XCIsIHRvb2x0aXBCYWNrZ3JvdW5kID0gXCIjMzUzYTQyXCIsIHNlbGVjdGlvbiA9IFwiIzNFNDQ1MVwiLCBjdXJzb3IgPSBcIiM1MjhiZmZcIjtcbi8qKlxuVGhlIGNvbG9ycyB1c2VkIGluIHRoZSB0aGVtZSwgYXMgQ1NTIGNvbG9yIHN0cmluZ3MuXG4qL1xuY29uc3QgY29sb3IgPSB7XG4gICAgY2hhbGt5LFxuICAgIGNvcmFsLFxuICAgIGN5YW4sXG4gICAgaW52YWxpZCxcbiAgICBpdm9yeSxcbiAgICBzdG9uZSxcbiAgICBtYWxpYnUsXG4gICAgc2FnZSxcbiAgICB3aGlza2V5LFxuICAgIHZpb2xldCxcbiAgICBkYXJrQmFja2dyb3VuZCxcbiAgICBoaWdobGlnaHRCYWNrZ3JvdW5kLFxuICAgIGJhY2tncm91bmQsXG4gICAgdG9vbHRpcEJhY2tncm91bmQsXG4gICAgc2VsZWN0aW9uLFxuICAgIGN1cnNvclxufTtcbi8qKlxuVGhlIGVkaXRvciB0aGVtZSBzdHlsZXMgZm9yIE9uZSBEYXJrLlxuKi9cbmNvbnN0IG9uZURhcmtUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LnRoZW1lKHtcbiAgICBcIiZcIjoge1xuICAgICAgICBjb2xvcjogaXZvcnksXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZFxuICAgIH0sXG4gICAgXCIuY20tY29udGVudFwiOiB7XG4gICAgICAgIGNhcmV0Q29sb3I6IGN1cnNvclxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yLCAuY20tZHJvcEN1cnNvclwiOiB7IGJvcmRlckxlZnRDb2xvcjogY3Vyc29yIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tc2VsZWN0aW9uTGF5ZXIgLmNtLXNlbGVjdGlvbkJhY2tncm91bmQsIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kLCAuY20tY29udGVudCA6OnNlbGVjdGlvblwiOiB7IGJhY2tncm91bmRDb2xvcjogc2VsZWN0aW9uIH0sXG4gICAgXCIuY20tcGFuZWxzXCI6IHsgYmFja2dyb3VuZENvbG9yOiBkYXJrQmFja2dyb3VuZCwgY29sb3I6IGl2b3J5IH0sXG4gICAgXCIuY20tcGFuZWxzLmNtLXBhbmVscy10b3BcIjogeyBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkIGJsYWNrXCIgfSxcbiAgICBcIi5jbS1wYW5lbHMuY20tcGFuZWxzLWJvdHRvbVwiOiB7IGJvcmRlclRvcDogXCIycHggc29saWQgYmxhY2tcIiB9LFxuICAgIFwiLmNtLXNlYXJjaE1hdGNoXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM3MmExZmY1OVwiLFxuICAgICAgICBvdXRsaW5lOiBcIjFweCBzb2xpZCAjNDU3ZGZmXCJcbiAgICB9LFxuICAgIFwiLmNtLXNlYXJjaE1hdGNoLmNtLXNlYXJjaE1hdGNoLXNlbGVjdGVkXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM2MTk5ZmYyZlwiXG4gICAgfSxcbiAgICBcIi5jbS1hY3RpdmVMaW5lXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiM2Njk5ZmYwYlwiIH0sXG4gICAgXCIuY20tc2VsZWN0aW9uTWF0Y2hcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2FhZmU2NjFhXCIgfSxcbiAgICBcIiYuY20tZm9jdXNlZCAuY20tbWF0Y2hpbmdCcmFja2V0LCAmLmNtLWZvY3VzZWQgLmNtLW5vbm1hdGNoaW5nQnJhY2tldFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjYmFkMGY4NDdcIlxuICAgIH0sXG4gICAgXCIuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZCxcbiAgICAgICAgY29sb3I6IHN0b25lLFxuICAgICAgICBib3JkZXI6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBoaWdobGlnaHRCYWNrZ3JvdW5kXG4gICAgfSxcbiAgICBcIi5jbS1mb2xkUGxhY2Vob2xkZXJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgY29sb3I6IFwiI2RkZFwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b29sdGlwQmFja2dyb3VuZFxuICAgIH0sXG4gICAgXCIuY20tdG9vbHRpcCAuY20tdG9vbHRpcC1hcnJvdzpiZWZvcmVcIjoge1xuICAgICAgICBib3JkZXJUb3BDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwIC5jbS10b29sdGlwLWFycm93OmFmdGVyXCI6IHtcbiAgICAgICAgYm9yZGVyVG9wQ29sb3I6IHRvb2x0aXBCYWNrZ3JvdW5kLFxuICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogdG9vbHRpcEJhY2tncm91bmRcbiAgICB9LFxuICAgIFwiLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlXCI6IHtcbiAgICAgICAgXCImID4gdWwgPiBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhpZ2hsaWdodEJhY2tncm91bmQsXG4gICAgICAgICAgICBjb2xvcjogaXZvcnlcbiAgICAgICAgfVxuICAgIH1cbn0sIHsgZGFyazogdHJ1ZSB9KTtcbi8qKlxuVGhlIGhpZ2hsaWdodGluZyBzdHlsZSBmb3IgY29kZSBpbiB0aGUgT25lIERhcmsgdGhlbWUuXG4qL1xuY29uc3Qgb25lRGFya0hpZ2hsaWdodFN0eWxlID0gLypAX19QVVJFX18qL0hpZ2hsaWdodFN0eWxlLmRlZmluZShbXG4gICAgeyB0YWc6IHRhZ3Mua2V5d29yZCxcbiAgICAgICAgY29sb3I6IHZpb2xldCB9LFxuICAgIHsgdGFnOiBbdGFncy5uYW1lLCB0YWdzLmRlbGV0ZWQsIHRhZ3MuY2hhcmFjdGVyLCB0YWdzLnByb3BlcnR5TmFtZSwgdGFncy5tYWNyb05hbWVdLFxuICAgICAgICBjb2xvcjogY29yYWwgfSxcbiAgICB7IHRhZzogWy8qQF9fUFVSRV9fKi90YWdzLmZ1bmN0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgdGFncy5sYWJlbE5hbWVdLFxuICAgICAgICBjb2xvcjogbWFsaWJ1IH0sXG4gICAgeyB0YWc6IFt0YWdzLmNvbG9yLCAvKkBfX1BVUkVfXyovdGFncy5jb25zdGFudCh0YWdzLm5hbWUpLCAvKkBfX1BVUkVfXyovdGFncy5zdGFuZGFyZCh0YWdzLm5hbWUpXSxcbiAgICAgICAgY29sb3I6IHdoaXNrZXkgfSxcbiAgICB7IHRhZzogWy8qQF9fUFVSRV9fKi90YWdzLmRlZmluaXRpb24odGFncy5uYW1lKSwgdGFncy5zZXBhcmF0b3JdLFxuICAgICAgICBjb2xvcjogaXZvcnkgfSxcbiAgICB7IHRhZzogW3RhZ3MudHlwZU5hbWUsIHRhZ3MuY2xhc3NOYW1lLCB0YWdzLm51bWJlciwgdGFncy5jaGFuZ2VkLCB0YWdzLmFubm90YXRpb24sIHRhZ3MubW9kaWZpZXIsIHRhZ3Muc2VsZiwgdGFncy5uYW1lc3BhY2VdLFxuICAgICAgICBjb2xvcjogY2hhbGt5IH0sXG4gICAgeyB0YWc6IFt0YWdzLm9wZXJhdG9yLCB0YWdzLm9wZXJhdG9yS2V5d29yZCwgdGFncy51cmwsIHRhZ3MuZXNjYXBlLCB0YWdzLnJlZ2V4cCwgdGFncy5saW5rLCAvKkBfX1BVUkVfXyovdGFncy5zcGVjaWFsKHRhZ3Muc3RyaW5nKV0sXG4gICAgICAgIGNvbG9yOiBjeWFuIH0sXG4gICAgeyB0YWc6IFt0YWdzLm1ldGEsIHRhZ3MuY29tbWVudF0sXG4gICAgICAgIGNvbG9yOiBzdG9uZSB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5lbXBoYXNpcyxcbiAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaWtldGhyb3VnaCxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwibGluZS10aHJvdWdoXCIgfSxcbiAgICB7IHRhZzogdGFncy5saW5rLFxuICAgICAgICBjb2xvcjogc3RvbmUsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaGVhZGluZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgIGNvbG9yOiBjb3JhbCB9LFxuICAgIHsgdGFnOiBbdGFncy5hdG9tLCB0YWdzLmJvb2wsIC8qQF9fUFVSRV9fKi90YWdzLnNwZWNpYWwodGFncy52YXJpYWJsZU5hbWUpXSxcbiAgICAgICAgY29sb3I6IHdoaXNrZXkgfSxcbiAgICB7IHRhZzogW3RhZ3MucHJvY2Vzc2luZ0luc3RydWN0aW9uLCB0YWdzLnN0cmluZywgdGFncy5pbnNlcnRlZF0sXG4gICAgICAgIGNvbG9yOiBzYWdlIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW52YWxpZCxcbiAgICAgICAgY29sb3I6IGludmFsaWQgfSxcbl0pO1xuLyoqXG5FeHRlbnNpb24gdG8gZW5hYmxlIHRoZSBPbmUgRGFyayB0aGVtZSAoYm90aCB0aGUgZWRpdG9yIHRoZW1lIGFuZFxudGhlIGhpZ2hsaWdodCBzdHlsZSkuXG4qL1xuY29uc3Qgb25lRGFyayA9IFtvbmVEYXJrVGhlbWUsIC8qQF9fUFVSRV9fKi9zeW50YXhIaWdobGlnaHRpbmcob25lRGFya0hpZ2hsaWdodFN0eWxlKV07XG5cbmV4cG9ydCB7IGNvbG9yLCBvbmVEYXJrLCBvbmVEYXJrSGlnaGxpZ2h0U3R5bGUsIG9uZURhcmtUaGVtZSB9O1xuIiwKICAgICJpbXBvcnQgeyBFZGl0b3JWaWV3LCBrZXltYXAsIGxpbmVOdW1iZXJzIH0gZnJvbSAnQGNvZGVtaXJyb3IvdmlldydcbmltcG9ydCB7IGRlZmF1bHRLZXltYXAsIGhpc3RvcnksIGhpc3RvcnlLZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci9jb21tYW5kcydcbmltcG9ydCB7IGh0bWwgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWh0bWwnXG5pbXBvcnQgeyBvbmVEYXJrIH0gZnJvbSAnQGNvZGVtaXJyb3IvdGhlbWUtb25lLWRhcmsnXG5pbXBvcnQgeyBhdXRvY29tcGxldGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL2F1dG9jb21wbGV0ZSdcblxuY29uc3QgZ2VvY2FjaGluZ0Nzc0ZpbGVzID0gW1xuICAgICdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Tm90bytTYW5zOjQwMCw3MDAmc3Vic2V0PWxhdGluLGxhdGluLWV4dCcsXG4gICAgJ2h0dHBzOi8vd3d3Lmdlb2NhY2hpbmcuY29tL2NvbnRlbnQvY29yZUNTUycsXG5dXG5cbmxldCBjb3B5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHknKSxcbiAgICBzaGFkb3dQcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXdDb250YWluZXInKS5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSksXG4gICAgdmlld1xuXG5jb25zdCBpbml0aWFsRG9jdW1lbnQgPSBgPGgxIHN0eWxlPVwiY29sb3I6IGNob2NvbGF0ZVwiPllvdXIgR2VvY2FjaGUgdGl0bGU8L2gxPlxuXG48cCBzdHlsZT1cIm1hcmdpbjogMWVtIDAgMCAwO1wiPllvdSBjYW4gZWRpdCB0aGUgY29udGVudCBvZiB0aGUgdGl0bGUgYWJvdmUgYW5kIHRoaXMgcGFyYWdyYXBoLjwvcD5gXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgbGV0IGRvYyA9IGluaXRpYWxEb2N1bWVudFxuICAgIGlmIChcbiAgICAgICAgc3RvcmFnZUF2YWlsYWJsZSgnbG9jYWxTdG9yYWdlJykgJiZcbiAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvbnRlbnQnKSAmJlxuICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29udGVudCcpLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICAgIGRvYyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb250ZW50JylcbiAgICB9XG5cbiAgICB2aWV3ID0gbmV3IEVkaXRvclZpZXcoe1xuICAgICAgICBkb2MsXG4gICAgICAgIGV4dGVuc2lvbnM6IFtcbiAgICAgICAgICAgIGhpc3RvcnkoKSxcbiAgICAgICAgICAgIGtleW1hcC5vZihbLi4uZGVmYXVsdEtleW1hcCwgLi4uaGlzdG9yeUtleW1hcF0pLFxuICAgICAgICAgICAgbGluZU51bWJlcnMoKSxcbiAgICAgICAgICAgIGh0bWwoKSxcbiAgICAgICAgICAgIEVkaXRvclZpZXcubGluZVdyYXBwaW5nLFxuICAgICAgICAgICAgb25lRGFyayxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0aW9uKHt9KSxcbiAgICAgICAgICAgIEVkaXRvclZpZXcudXBkYXRlTGlzdGVuZXIub2YoKHVwZGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZUF2YWlsYWJsZSgnbG9jYWxTdG9yYWdlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb250ZW50JywgdXBkYXRlLnN0YXRlLmRvYy50b1N0cmluZygpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcHBseVByZXZpZXcodXBkYXRlLnN0YXRlLmRvYy50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICBwYXJlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dFRleHQnKSxcbiAgICB9KVxuXG4gICAgaW5pdFByZXZpZXcoKVxuICAgIGFwcGx5UHJldmlldyh2aWV3LnN0YXRlLmRvYy50b1N0cmluZygpKVxuXG4gICAgaWYgKCFpc0NvcHlBdmFpbGFibGUoKSkge1xuICAgICAgICBjb3B5QnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb3B5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29weVRvQ2xpcGJvYXJkKVxuICAgIH1cbn0pXG5cbmNvbnN0IGluaXRQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGxldCBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpLFxuICAgICAgICBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZCcpLFxuICAgICAgICBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpXG5cbiAgICBodG1sLmFwcGVuZENoaWxkKGhlYWQpXG5cbiAgICBnZW9jYWNoaW5nQ3NzRmlsZXMuZm9yRWFjaCgoY3NzRmlsZSkgPT4ge1xuICAgICAgICBsZXQgbGlua0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJylcbiAgICAgICAgbGlua0VsZW0uc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpXG4gICAgICAgIGxpbmtFbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGNzc0ZpbGUpXG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobGlua0VsZW0pXG4gICAgfSlcblxuICAgIGxldCB1c2VyU3VwcGxpZWRDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB1c2VyU3VwcGxpZWRDb250ZW50LmNsYXNzTGlzdC5hZGQoJ1VzZXJTdXBwbGllZENvbnRlbnQnKVxuXG4gICAgbGV0IGxvbmdEZXNjcmlwdGlvbiA9IHVzZXJTdXBwbGllZENvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxuICAgIGxvbmdEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2N0bDAwX0NvbnRlbnRCb2R5X0xvbmdEZXNjcmlwdGlvbicpXG5cbiAgICB1c2VyU3VwcGxpZWRDb250ZW50LmFwcGVuZENoaWxkKGxvbmdEZXNjcmlwdGlvbilcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQodXNlclN1cHBsaWVkQ29udGVudClcblxuICAgIGh0bWwuYXBwZW5kQ2hpbGQoYm9keSlcblxuICAgIHNoYWRvd1ByZXZpZXcuYXBwZW5kQ2hpbGQoaHRtbClcbn1cblxuY29uc3QgYXBwbHlQcmV2aWV3ID0gKGNvbnRlbnQpID0+IHtcbiAgICAvLyBpZiAoY29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAvLyAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICBzaGFkb3dQcmV2aWV3LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9Db250ZW50Qm9keV9Mb25nRGVzY3JpcHRpb24nKS5pbm5lckhUTUwgPSBjb250ZW50XG59XG5cbi8vIGNvbnN0IGNsZWFuSW5wdXQgPSAoY29udGVudCkgPT4ge1xuLy8gICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuLy8gICBsZXQgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhjb250ZW50LCBcInRleHQvaHRtbFwiKTtcblxuLy8gICBsZXQgdGFncyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpO1xuLy8gICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuLy8gICAgIHRhZy5yZW1vdmUoKTtcbi8vICAgfSk7XG4vLyB9O1xuXG5jb25zdCBzdG9yYWdlQXZhaWxhYmxlID0gKHR5cGUpID0+IHtcbiAgICBsZXQgc3RvcmFnZVxuICAgIHRyeSB7XG4gICAgICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV1cbiAgICAgICAgbGV0IHggPSAnX19zdG9yYWdlX3Rlc3RfXydcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpXG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiZcbiAgICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICAgIChlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8IGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAgIHN0b3JhZ2UgJiZcbiAgICAgICAgICAgIHN0b3JhZ2UubGVuZ3RoICE9PSAwXG4gICAgICAgIClcbiAgICB9XG59XG5cbmNvbnN0IGlzQ29weUF2YWlsYWJsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHRcbn1cblxuY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHZpZXcuc3RhdGUuZG9jLnRvU3RyaW5nKCkpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHknKS5pbm5lckhUTUwgPSAn8J+TiyBDb3BpZWQhJ1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHknKS5pbm5lckhUTUwgPSAn8J+TiyBDb3B5J1xuICAgIH0sIDEwMDApXG59XG5cbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsXScpXG5tb2RhbHMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXIuZGF0YXNldC5tb2RhbClcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpXG4gICAgICAgIGNvbnN0IGV4aXRzID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLWV4aXQnKVxuICAgICAgICBleGl0cy5mb3JFYWNoKGZ1bmN0aW9uIChleGl0KSB7XG4gICAgICAgICAgICBleGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufSlcbiIKICBdLAogICJtYXBwaW5ncyI6ICJBQStWQSxTQUFTLEVBQVUsQ0FBQyxFQUFNLENBQ3RCLElBQUksRUFBUyxHQUNiLFFBQVMsS0FBUSxFQUNiLEdBQVUsRUFBSyxPQUFTLEVBQzVCLE9BQU8sRUFFWCxTQUFTLEVBQVUsQ0FBQyxFQUFNLEVBQVEsRUFBTyxFQUFHLEVBQUssSUFBSyxDQUNsRCxRQUFTLEVBQU0sRUFBRyxFQUFJLEVBQUcsRUFBUSxHQUFNLEVBQUksRUFBSyxRQUFVLEdBQU8sRUFBSSxJQUFLLENBQ3RFLElBQUksRUFBTyxFQUFLLEdBQUksRUFBTSxFQUFNLEVBQUssT0FDckMsR0FBSSxHQUFPLEVBQU0sQ0FDYixHQUFJLEVBQU0sRUFDTixFQUFPLEVBQUssTUFBTSxFQUFHLEVBQUssQ0FBRyxFQUNqQyxHQUFJLEVBQU0sRUFDTixFQUFPLEVBQUssTUFBTSxFQUFPLENBQUcsRUFDaEMsR0FBSSxFQUNBLEVBQU8sRUFBTyxPQUFTLElBQU0sRUFDN0IsRUFBUSxPQUdSLEdBQU8sS0FBSyxDQUFJLEVBRXhCLEVBQU0sRUFBTSxFQUVoQixPQUFPLEVBRVgsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFNLEVBQUksQ0FDL0IsT0FBTyxHQUFXLEVBQU0sQ0FBQyxFQUFFLEVBQUcsRUFBTSxDQUFFLEVBb0wxQyxTQUFTLEVBQUksQ0FBQyxFQUFNLEVBQU0sRUFBSSxDQUUxQixPQURBLEVBQU8sS0FBSyxJQUFJLEVBQUcsS0FBSyxJQUFJLEVBQUssT0FBUSxDQUFJLENBQUMsRUFDdkMsQ0FBQyxFQUFNLEtBQUssSUFBSSxFQUFNLEtBQUssSUFBSSxFQUFLLE9BQVEsQ0FBRSxDQUFDLENBQUMsRUFhM0QsU0FBUyxFQUFlLENBQUMsRUFBTSxDQUMzQixRQUFTLEVBQUksRUFBRyxFQUFJLEdBQU8sT0FBUSxHQUFLLEVBQ3BDLEdBQUksR0FBTyxHQUFLLEVBQ1osT0FBTyxHQUFPLEVBQUksSUFBTSxFQUNoQyxNQUFPLEdBRVgsU0FBUyxFQUFtQixDQUFDLEVBQU0sQ0FDL0IsT0FBTyxHQUFRLFFBQVcsR0FBUSxPQVd0QyxTQUFTLEVBQWdCLENBQUMsRUFBSyxFQUFLLEVBQVUsR0FBTSxFQUFtQixHQUFNLENBQ3pFLE9BQVEsRUFBVSxHQUFtQixJQUFrQixFQUFLLEVBQUssQ0FBZ0IsRUFFckYsU0FBUyxFQUFnQixDQUFDLEVBQUssRUFBSyxFQUFrQixDQUNsRCxHQUFJLEdBQU8sRUFBSSxPQUNYLE9BQU8sRUFFWCxHQUFJLEdBQU8sR0FBYSxFQUFJLFdBQVcsQ0FBRyxDQUFDLEdBQUssR0FBYyxFQUFJLFdBQVcsRUFBTSxDQUFDLENBQUMsRUFDakYsSUFDSixJQUFJLEVBQU8sR0FBWSxFQUFLLENBQUcsRUFDL0IsR0FBTyxHQUFjLENBQUksRUFDekIsTUFBTyxFQUFNLEVBQUksT0FBUSxDQUNyQixJQUFJLEVBQU8sR0FBWSxFQUFLLENBQUcsRUFDL0IsR0FBSSxHQUFRLElBQU8sR0FBUSxJQUFPLEdBQW9CLEdBQWdCLENBQUksRUFDdEUsR0FBTyxHQUFjLENBQUksRUFDekIsRUFBTyxVQUVGLEdBQW9CLENBQUksRUFBRyxDQUNoQyxJQUFJLEVBQWMsRUFBRyxFQUFJLEVBQU0sRUFDL0IsTUFBTyxHQUFLLEdBQUssR0FBb0IsR0FBWSxFQUFLLENBQUMsQ0FBQyxFQUNwRCxJQUNBLEdBQUssRUFFVCxHQUFJLEVBQWMsR0FBSyxFQUNuQixVQUVBLElBQU8sTUFHWCxPQUdSLE9BQU8sRUFFWCxTQUFTLEVBQWdCLENBQUMsRUFBSyxFQUFLLEVBQWtCLENBQ2xELE1BQU8sRUFBTSxFQUFHLENBQ1osSUFBSSxFQUFRLEdBQWlCLEVBQUssRUFBTSxFQUFHLENBQWdCLEVBQzNELEdBQUksRUFBUSxFQUNSLE9BQU8sRUFDWCxJQUVKLE1BQU8sR0FFWCxTQUFTLEVBQVksQ0FBQyxFQUFJLENBQUUsT0FBTyxHQUFNLE9BQVUsRUFBSyxNQUN4RCxTQUFTLEVBQWEsQ0FBQyxFQUFJLENBQUUsT0FBTyxHQUFNLE9BQVUsRUFBSyxNQU16RCxTQUFTLEVBQVcsQ0FBQyxFQUFLLEVBQUssQ0FDM0IsSUFBSSxFQUFRLEVBQUksV0FBVyxDQUFHLEVBQzlCLElBQUssR0FBYyxDQUFLLEdBQUssRUFBTSxHQUFLLEVBQUksT0FDeEMsT0FBTyxFQUNYLElBQUksRUFBUSxFQUFJLFdBQVcsRUFBTSxDQUFDLEVBQ2xDLElBQUssR0FBYSxDQUFLLEVBQ25CLE9BQU8sRUFDWCxPQUFTLEVBQVEsT0FBVyxLQUFPLEVBQVEsT0FBVSxNQU96RCxTQUFTLEVBQWEsQ0FBQyxFQUFNLENBQ3pCLEdBQUksR0FBUSxNQUNSLE9BQU8sT0FBTyxhQUFhLENBQUksRUFFbkMsT0FEQSxHQUFRLE1BQ0QsT0FBTyxjQUFjLEdBQVEsSUFBTSxPQUFTLEVBQU8sTUFBUSxLQUFNLEVBSzVFLFNBQVMsRUFBYSxDQUFDLEVBQU0sQ0FBRSxPQUFPLEVBQU8sTUFBVSxFQUFJLEVBd2EzRCxTQUFTLEVBQVUsQ0FBQyxFQUFVLEVBQUssRUFBSyxFQUFZLEdBQU8sQ0FDdkQsR0FBSSxHQUFPLEdBQUssR0FBTyxFQUNuQixPQUNKLElBQUksRUFBTyxFQUFTLE9BQVMsRUFDN0IsR0FBSSxHQUFRLEdBQUssR0FBTyxHQUFLLEdBQU8sRUFBUyxFQUFPLEdBQ2hELEVBQVMsSUFBUyxVQUNiLEdBQU8sR0FBSyxFQUFTLElBQVMsRUFDbkMsRUFBUyxFQUFPLElBQU0sVUFDakIsRUFDTCxFQUFTLElBQVMsRUFDbEIsRUFBUyxFQUFPLElBQU0sTUFHdEIsR0FBUyxLQUFLLEVBQUssQ0FBRyxFQUU5QixTQUFTLEVBQVMsQ0FBQyxFQUFRLEVBQVUsRUFBTyxDQUN4QyxHQUFJLEVBQU0sUUFBVSxFQUNoQixPQUNKLElBQUksRUFBUyxFQUFTLE9BQVMsR0FBTSxFQUNyQyxHQUFJLEVBQVEsRUFBTyxPQUNmLEVBQU8sRUFBTyxPQUFTLEdBQUssRUFBTyxFQUFPLE9BQVMsR0FBRyxPQUFPLENBQUssTUFFakUsQ0FDRCxNQUFPLEVBQU8sT0FBUyxFQUNuQixFQUFPLEtBQUssRUFBSyxLQUFLLEVBQzFCLEVBQU8sS0FBSyxDQUFLLEdBR3pCLFNBQVMsRUFBVyxDQUFDLEVBQU0sRUFBRyxFQUFZLENBQ3RDLElBQUksRUFBVyxFQUFLLFNBQ3BCLFFBQVMsRUFBTyxFQUFHLEVBQU8sRUFBRyxFQUFJLEVBQUcsRUFBSSxFQUFLLFNBQVMsUUFBUyxDQUMzRCxJQUFJLEVBQU0sRUFBSyxTQUFTLEtBQU0sRUFBTSxFQUFLLFNBQVMsS0FDbEQsR0FBSSxFQUFNLEVBQ04sR0FBUSxFQUNSLEdBQVEsTUFFUCxDQUNELElBQUksRUFBTyxFQUFNLEVBQU8sRUFBTSxFQUFPLEVBQUssTUFDMUMsT0FBUyxDQUdMLEdBRkEsR0FBUSxFQUNSLEdBQVEsRUFDSixHQUFPLEVBQ1AsRUFBTyxFQUFLLE9BQU8sRUFBVSxFQUFJLEdBQU0sRUFBRSxFQUM3QyxHQUFJLEdBQWMsR0FBSyxFQUFLLFNBQVMsUUFBVSxFQUFLLFNBQVMsRUFBSSxHQUFLLEVBQ2xFLE1BQ0osRUFBTSxFQUFLLFNBQVMsS0FDcEIsRUFBTSxFQUFLLFNBQVMsS0FFeEIsRUFBRSxFQUFNLEVBQU0sRUFBTSxFQUFNLENBQUksRUFDOUIsRUFBTyxFQUNQLEVBQU8sSUFJbkIsU0FBUyxFQUFNLENBQUMsRUFBTSxFQUFNLEVBQVEsRUFBUSxHQUFPLENBRy9DLElBQUksRUFBVyxDQUFDLEVBQUcsRUFBUyxFQUFRLENBQUMsRUFBSSxLQUNyQyxFQUFJLElBQUksR0FBWSxDQUFJLEVBQUcsRUFBSSxJQUFJLEdBQVksQ0FBSSxFQUt2RCxRQUFTLEVBQVcsS0FDaEIsR0FBSSxFQUFFLEtBQU8sSUFBTSxFQUFFLEtBQU8sR0FBSSxDQUU1QixJQUFJLEVBQU0sS0FBSyxJQUFJLEVBQUUsSUFBSyxFQUFFLEdBQUcsRUFDL0IsR0FBVyxFQUFVLEVBQUssRUFBRSxFQUM1QixFQUFFLFFBQVEsQ0FBRyxFQUNiLEVBQUUsUUFBUSxDQUFHLFVBRVIsRUFBRSxLQUFPLElBQU0sRUFBRSxJQUFNLEdBQUssR0FBWSxFQUFFLEdBQUssRUFBRSxLQUFPLElBQU0sRUFBRSxJQUFNLEVBQUUsS0FBTyxFQUFFLEtBQU8sRUFBRSxNQUFRLElBQVUsQ0FJakgsSUFBSSxFQUFNLEVBQUUsSUFDWixHQUFXLEVBQVUsRUFBRSxJQUFLLEVBQUUsRUFDOUIsTUFBTyxFQUFLLENBQ1IsSUFBSSxFQUFRLEtBQUssSUFBSSxFQUFFLElBQUssQ0FBRyxFQUMvQixHQUFJLEVBQUUsS0FBTyxHQUFLLEVBQVcsRUFBRSxHQUFLLEVBQUUsS0FBTyxFQUFPLENBRWhELEdBREEsR0FBVyxFQUFVLEVBQUcsRUFBRSxHQUFHLEVBQ3pCLEVBQ0EsR0FBVSxFQUFRLEVBQVUsRUFBRSxJQUFJLEVBQ3RDLEVBQVcsRUFBRSxFQUVqQixFQUFFLFFBQVEsQ0FBSyxFQUNmLEdBQU8sRUFFWCxFQUFFLEtBQUssVUFFRixFQUFFLEtBQU8sRUFBRyxDQUdqQixJQUFJLEVBQU0sRUFBRyxFQUFPLEVBQUUsSUFDdEIsTUFBTyxFQUNILEdBQUksRUFBRSxLQUFPLEdBQUksQ0FDYixJQUFJLEVBQVEsS0FBSyxJQUFJLEVBQU0sRUFBRSxHQUFHLEVBQ2hDLEdBQU8sRUFDUCxHQUFRLEVBQ1IsRUFBRSxRQUFRLENBQUssVUFFVixFQUFFLEtBQU8sR0FBSyxFQUFFLElBQU0sRUFDM0IsR0FBUSxFQUFFLElBQ1YsRUFBRSxLQUFLLE1BR1AsT0FJUixHQURBLEdBQVcsRUFBVSxFQUFLLEVBQVcsRUFBRSxFQUFJLEVBQUUsSUFBTSxDQUFDLEVBQ2hELEdBQVUsRUFBVyxFQUFFLEVBQ3ZCLEdBQVUsRUFBUSxFQUFVLEVBQUUsSUFBSSxFQUN0QyxFQUFXLEVBQUUsRUFDYixFQUFFLFFBQVEsRUFBRSxJQUFNLENBQUksVUFFakIsRUFBRSxNQUFRLEVBQUUsS0FDakIsT0FBTyxFQUFTLEVBQVUsVUFBVSxFQUFVLENBQU0sRUFBSSxHQUFXLE9BQU8sQ0FBUSxNQUdsRixPQUFNLElBQUksTUFBTSwrQkFBK0IsRUFJM0QsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFNLEVBQVEsR0FBTyxDQUM1QyxJQUFJLEVBQVcsQ0FBQyxFQUNaLEVBQVMsRUFBUSxDQUFDLEVBQUksS0FDdEIsRUFBSSxJQUFJLEdBQVksQ0FBSSxFQUFHLEVBQUksSUFBSSxHQUFZLENBQUksRUFDdkQsUUFBUyxFQUFPLEtBQ1osR0FBSSxFQUFFLE1BQVEsRUFBRSxLQUNaLE9BQU8sRUFBUyxFQUFVLFVBQVUsRUFBVSxDQUFNLEVBQUksR0FBVyxPQUFPLENBQVEsVUFFN0UsRUFBRSxLQUFPLEVBQ2QsR0FBVyxFQUFVLEVBQUUsSUFBSyxFQUFHLENBQUksRUFDbkMsRUFBRSxLQUFLLFVBRUYsRUFBRSxLQUFPLElBQU0sRUFBRSxLQUFNLENBRTVCLEdBREEsR0FBVyxFQUFVLEVBQUcsRUFBRSxJQUFLLENBQUksRUFDL0IsRUFDQSxHQUFVLEVBQVEsRUFBVSxFQUFFLElBQUksRUFDdEMsRUFBRSxLQUFLLFVBRUYsRUFBRSxNQUFRLEVBQUUsS0FDakIsTUFBTSxJQUFJLE1BQU0sK0JBQStCLE1BRTlDLENBQ0QsSUFBSSxFQUFNLEtBQUssSUFBSSxFQUFFLEtBQU0sRUFBRSxHQUFHLEVBQUcsRUFBYSxFQUFTLE9BQ3pELEdBQUksRUFBRSxLQUFPLEdBQUksQ0FDYixJQUFJLEVBQU8sRUFBRSxLQUFPLEdBQUssR0FBSyxFQUFFLElBQU0sRUFBSSxFQUFFLElBRTVDLEdBREEsR0FBVyxFQUFVLEVBQUssRUFBTSxDQUFJLEVBQ2hDLEdBQVUsRUFDVixHQUFVLEVBQVEsRUFBVSxFQUFFLElBQUksVUFFakMsRUFBRSxLQUFPLElBRWQsR0FEQSxHQUFXLEVBQVUsRUFBRSxJQUFNLEVBQUksRUFBRSxJQUFLLEVBQUssQ0FBSSxFQUM3QyxFQUNBLEdBQVUsRUFBUSxFQUFVLEVBQUUsUUFBUSxDQUFHLENBQUMsVUFHOUMsR0FBVyxFQUFVLEVBQUUsSUFBTSxFQUFJLEVBQUUsSUFBSyxFQUFFLElBQU0sRUFBSSxFQUFFLElBQUssQ0FBSSxFQUMzRCxJQUFXLEVBQUUsSUFDYixHQUFVLEVBQVEsRUFBVSxFQUFFLElBQUksRUFFMUMsR0FBUSxFQUFFLElBQU0sR0FBTyxFQUFFLEtBQU8sR0FBSyxFQUFFLElBQU0sS0FBUyxHQUFRLEVBQVMsT0FBUyxHQUNoRixFQUFFLFNBQVMsQ0FBRyxFQUNkLEVBQUUsUUFBUSxDQUFHLEdBa1R6QixTQUFTLEVBQWMsQ0FBQyxFQUFXLEVBQVcsQ0FDMUMsUUFBUyxLQUFTLEVBQVUsT0FDeEIsR0FBSSxFQUFNLEdBQUssRUFDWCxNQUFNLElBQUksV0FBVyxzQ0FBc0MsRUF3RnZFLFNBQVMsRUFBUyxDQUFDLEVBQUcsRUFBRyxDQUNyQixPQUFPLEdBQUssR0FBSyxFQUFFLFFBQVUsRUFBRSxRQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUcsSUFBTSxJQUFNLEVBQUUsRUFBRSxFQTREekUsU0FBUyxFQUFZLENBQUMsRUFBRyxFQUFHLEVBQVMsQ0FDakMsR0FBSSxFQUFFLFFBQVUsRUFBRSxPQUNkLE1BQU8sR0FDWCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUUsT0FBUSxJQUMxQixJQUFLLEVBQVEsRUFBRSxHQUFJLEVBQUUsRUFBRSxFQUNuQixNQUFPLEdBQ2YsTUFBTyxHQUVYLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBTyxDQUM3QixJQUFJLEVBQVUsR0FDZCxRQUFTLEtBQVEsRUFDYixHQUFJLEdBQVcsRUFBTyxDQUFJLEVBQUksRUFDMUIsRUFBVSxHQUNsQixPQUFPLEVBRVgsU0FBUyxFQUFnQixDQUFDLEVBQVcsRUFBTyxFQUFXLENBQ25ELElBQUksRUFBZ0IsRUFBVSxJQUFJLEtBQUssRUFBVSxFQUFFLEdBQUcsRUFDbEQsRUFBZ0IsRUFBVSxJQUFJLEtBQUssRUFBRSxJQUFJLEVBQ3pDLEVBQVUsRUFBYyxPQUFPLE9BQU8sRUFBSSxFQUFFLEVBQzVDLEVBQU0sRUFBVSxFQUFNLEtBQU8sRUFDakMsU0FBUyxDQUFHLENBQUMsRUFBTyxDQUNoQixJQUFJLEVBQVMsQ0FBQyxFQUNkLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBYyxPQUFRLElBQUssQ0FDM0MsSUFBSSxFQUFRLEdBQVEsRUFBTyxFQUFjLEVBQUUsRUFDM0MsR0FBSSxFQUFjLElBQU0sRUFDcEIsUUFBUyxLQUFPLEVBQ1osRUFBTyxLQUFLLENBQUcsTUFFbkIsR0FBTyxLQUFLLENBQUssRUFFekIsT0FBTyxFQUFNLFFBQVEsQ0FBTSxFQUUvQixNQUFPLENBQ0gsTUFBTSxDQUFDLEVBQU8sQ0FDVixRQUFTLEtBQVEsRUFDYixHQUFXLEVBQU8sQ0FBSSxFQUUxQixPQURBLEVBQU0sT0FBTyxHQUFPLEVBQUksQ0FBSyxFQUN0QixHQUVYLE1BQU0sQ0FBQyxFQUFPLEVBQUksQ0FDZCxJQUFLLEdBQVUsRUFBTyxDQUFPLEVBQ3pCLE1BQU8sR0FDWCxJQUFJLEVBQVEsRUFBSSxDQUFLLEVBQ3JCLEdBQUksRUFBTSxRQUFRLEVBQU8sRUFBTSxPQUFPLEVBQUksRUFDdEMsTUFBTyxHQUVYLE9BREEsRUFBTSxPQUFPLEdBQU8sRUFDYixHQUVYLFdBQVcsQ0FBQyxFQUFPLEVBQVUsQ0FDekIsSUFBSSxFQUFhLEdBQVUsRUFBTyxDQUFhLEVBQzNDLEVBQWUsRUFBUyxPQUFPLE9BQU8sRUFBTSxJQUFLLEVBQVcsRUFBUyxNQUFNLENBQUssRUFDcEYsR0FBSSxJQUFpQixHQUFjLEdBQVUsRUFBVyxDQUFZLEVBRWhFLE9BREEsRUFBTSxPQUFPLEdBQU8sRUFDYixFQUVYLElBQUksRUFBUSxFQUFJLENBQUssRUFDckIsR0FBSSxFQUFNLFFBQVEsRUFBTyxDQUFRLEVBRTdCLE9BREEsRUFBTSxPQUFPLEdBQU8sRUFDYixFQUdYLE9BREEsRUFBTSxPQUFPLEdBQU8sRUFDYixFQUVmLEVBb0ZKLFNBQVMsRUFBSSxDQUFDLEVBQU8sQ0FDakIsTUFBTyxDQUFDLElBQVEsSUFBSSxHQUFjLEVBQUssQ0FBSyxFQWdKaEQsU0FBUyxFQUFPLENBQUMsRUFBVyxFQUFjLEVBQWlCLENBQ3ZELElBQUksRUFBUyxDQUFDLENBQUMsRUFBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFDLENBQUMsRUFDNUIsRUFBTyxJQUFJLElBQ2YsU0FBUyxDQUFLLENBQUMsRUFBSyxFQUFNLENBQ3RCLElBQUksRUFBUSxFQUFLLElBQUksQ0FBRyxFQUN4QixHQUFJLEdBQVMsS0FBTSxDQUNmLEdBQUksR0FBUyxFQUNULE9BQ0osSUFBSSxFQUFRLEVBQU8sR0FBTyxRQUFRLENBQUcsRUFDckMsR0FBSSxFQUFRLEdBQ1IsRUFBTyxHQUFPLE9BQU8sRUFBTyxDQUFDLEVBQ2pDLEdBQUksYUFBZSxHQUNmLEVBQWdCLE9BQU8sRUFBSSxXQUFXLEVBRzlDLEdBREEsRUFBSyxJQUFJLEVBQUssQ0FBSSxFQUNkLE1BQU0sUUFBUSxDQUFHLEVBQ2pCLFFBQVMsS0FBSyxFQUNWLEVBQU0sRUFBRyxDQUFJLFVBRVosYUFBZSxHQUFxQixDQUN6QyxHQUFJLEVBQWdCLElBQUksRUFBSSxXQUFXLEVBQ25DLE1BQU0sSUFBSSxXQUFXLDRDQUE0QyxFQUNyRSxJQUFJLEVBQVUsRUFBYSxJQUFJLEVBQUksV0FBVyxHQUFLLEVBQUksTUFDdkQsRUFBZ0IsSUFBSSxFQUFJLFlBQWEsQ0FBTyxFQUM1QyxFQUFNLEVBQVMsQ0FBSSxVQUVkLGFBQWUsR0FDcEIsRUFBTSxFQUFJLE1BQU8sRUFBSSxJQUFJLFVBRXBCLGFBQWUsSUFFcEIsR0FEQSxFQUFPLEdBQU0sS0FBSyxDQUFHLEVBQ2pCLEVBQUksU0FDSixFQUFNLEVBQUksU0FBVSxDQUFJLFVBRXZCLGFBQWUsSUFFcEIsR0FEQSxFQUFPLEdBQU0sS0FBSyxDQUFHLEVBQ2pCLEVBQUksTUFBTSxXQUNWLEVBQU0sRUFBSSxNQUFNLFdBQVksR0FBTSxPQUFPLE1BRTVDLENBQ0QsSUFBSSxFQUFVLEVBQUksVUFDbEIsSUFBSyxFQUNELE1BQU0sSUFBSSxNQUFNLGtEQUFrRCxvSEFBc0gsRUFDNUwsRUFBTSxFQUFTLENBQUksR0FJM0IsT0FEQSxFQUFNLEVBQVcsR0FBTSxPQUFPLEVBQ3ZCLEVBQU8sT0FBTyxDQUFDLEVBQUcsSUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBRTlDLFNBQVMsRUFBVSxDQUFDLEVBQU8sRUFBTSxDQUM3QixHQUFJLEVBQU8sRUFDUCxNQUFPLEdBQ1gsSUFBSSxFQUFNLEdBQVEsRUFDZCxFQUFTLEVBQU0sT0FBTyxHQUMxQixHQUFJLEdBQVUsRUFDVixNQUFNLElBQUksTUFBTSxnREFBZ0QsRUFDcEUsR0FBSSxFQUFTLEVBQ1QsT0FBTyxFQUNYLEVBQU0sT0FBTyxHQUFPLEVBQ3BCLElBQUksRUFBVSxFQUFNLFlBQVksRUFBTyxFQUFNLE9BQU8sYUFBYSxFQUFJLEVBQ3JFLE9BQU8sRUFBTSxPQUFPLEdBQU8sRUFBOEIsRUFFN0QsU0FBUyxFQUFPLENBQUMsRUFBTyxFQUFNLENBQzFCLE9BQU8sRUFBTyxFQUFJLEVBQU0sT0FBTyxhQUFhLEdBQVEsR0FBSyxFQUFNLE9BQU8sR0FBUSxHQXFVbEYsU0FBUyxFQUFVLENBQUMsRUFBRyxFQUFHLENBQ3RCLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxFQUFLLEVBQUcsRUFBSyxJQUFLLENBQ3ZCLElBQUksRUFBTSxFQUNWLEdBQUksRUFBSyxFQUFFLFNBQVcsR0FBTSxFQUFFLFFBQVUsRUFBRSxJQUFPLEVBQUUsSUFDL0MsRUFBTyxFQUFFLEtBQ1QsRUFBSyxFQUFFLGFBRUYsRUFBSyxFQUFFLE9BQ1osRUFBTyxFQUFFLEtBQ1QsRUFBSyxFQUFFLFNBR1AsUUFBTyxFQUNYLElBQUssRUFBTyxRQUFVLEVBQU8sRUFBTyxPQUFTLEdBQUssRUFDOUMsRUFBTyxLQUFLLEVBQU0sQ0FBRSxVQUNmLEVBQU8sRUFBTyxPQUFTLEdBQUssRUFDakMsRUFBTyxFQUFPLE9BQVMsR0FBSyxHQUd4QyxTQUFTLEVBQWdCLENBQUMsRUFBRyxFQUFHLEVBQVksQ0FDeEMsSUFBSSxFQUNKLElBQUksRUFBUyxFQUFTLEVBQ3RCLEdBQUksRUFDQSxFQUFVLEVBQUUsUUFDWixFQUFVLEVBQVUsTUFBTSxFQUFFLFFBQVEsTUFBTSxFQUMxQyxFQUFVLEVBQUUsUUFBUSxRQUFRLEVBQUUsT0FBTyxNQUdyQyxHQUFVLEVBQUUsUUFBUSxJQUFJLEVBQUUsT0FBTyxFQUNqQyxFQUFVLEVBQUUsUUFBUSxRQUFRLEVBQUUsUUFBUyxFQUFJLEVBQzNDLEVBQVUsRUFBRSxRQUFRLFFBQVEsQ0FBTyxFQUV2QyxNQUFPLENBQ0gsVUFDQSxVQUFXLEVBQUUsVUFBWSxFQUFFLFVBQVUsSUFBSSxDQUFPLEdBQUssRUFBSyxFQUFFLGFBQWUsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLElBQUksQ0FBTyxFQUMxSCxRQUFTLEVBQVksV0FBVyxFQUFFLFFBQVMsQ0FBTyxFQUFFLE9BQU8sRUFBWSxXQUFXLEVBQUUsUUFBUyxDQUFPLENBQUMsRUFDckcsWUFBYSxFQUFFLFlBQVksT0FBUyxFQUFFLFlBQVksT0FBTyxFQUFFLFdBQVcsRUFBSSxFQUFFLFlBQzVFLGVBQWdCLEVBQUUsZ0JBQWtCLEVBQUUsY0FDMUMsRUFFSixTQUFTLEVBQXVCLENBQUMsRUFBTyxFQUFNLEVBQVMsQ0FDbkQsSUFBSSxFQUFNLEVBQUssVUFBVyxFQUFjLEdBQVEsRUFBSyxXQUFXLEVBQ2hFLEdBQUksRUFBSyxVQUNMLEVBQWMsRUFBWSxPQUFPLEVBQVksVUFBVSxHQUFHLEVBQUssU0FBUyxDQUFDLEVBQzdFLE1BQU8sQ0FDSCxRQUFTLEVBQUssbUJBQW1CLEVBQVksRUFBSyxRQUM1QyxFQUFVLEdBQUcsRUFBSyxTQUFXLENBQUMsRUFBRyxFQUFTLEVBQU0sTUFBTSxFQUFhLENBQUMsRUFDMUUsVUFBVyxJQUFRLGFBQWUsRUFBa0IsRUFBTSxFQUFnQixPQUFPLEVBQUksT0FBUSxFQUFJLElBQUksR0FDckcsUUFBUyxHQUFRLEVBQUssT0FBTyxFQUM3QixjQUNBLGlCQUFrQixFQUFLLGNBQzNCLEVBRUosU0FBUyxFQUFrQixDQUFDLEVBQU8sRUFBTyxFQUFRLENBQzlDLElBQUksRUFBSSxHQUF3QixFQUFPLEVBQU0sT0FBUyxFQUFNLEdBQUssQ0FBQyxFQUFHLEVBQU0sSUFBSSxNQUFNLEVBQ3JGLEdBQUksRUFBTSxRQUFVLEVBQU0sR0FBRyxTQUFXLEdBQ3BDLEVBQVMsR0FDYixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQ25DLEdBQUksRUFBTSxHQUFHLFNBQVcsR0FDcEIsRUFBUyxHQUNiLElBQUksSUFBUSxFQUFNLEdBQUcsV0FDckIsRUFBSSxHQUFpQixFQUFHLEdBQXdCLEVBQU8sRUFBTSxHQUFJLEVBQU0sRUFBRSxRQUFRLFVBQVksRUFBTSxJQUFJLE1BQU0sRUFBRyxDQUFHLEVBRXZILElBQUksRUFBSyxFQUFZLE9BQU8sRUFBTyxFQUFFLFFBQVMsRUFBRSxVQUFXLEVBQUUsUUFBUyxFQUFFLFlBQWEsRUFBRSxjQUFjLEVBQ3JHLE9BQU8sR0FBa0IsRUFBUyxHQUFrQixDQUFFLEVBQUksQ0FBRSxFQUdoRSxTQUFTLEVBQWlCLENBQUMsRUFBSSxDQUMzQixJQUFJLEVBQVEsRUFBRyxXQUVYLEVBQVMsR0FDYixRQUFTLEtBQVUsRUFBTSxNQUFNLEVBQVksRUFBRyxDQUMxQyxJQUFJLEVBQVEsRUFBTyxDQUFFLEVBQ3JCLEdBQUksSUFBVSxHQUFPLENBQ2pCLEVBQVMsR0FDVCxNQUVKLEdBQUksTUFBTSxRQUFRLENBQUssRUFDbkIsRUFBUyxJQUFXLEdBQU8sRUFBUSxHQUFXLEVBQVEsQ0FBSyxFQUVuRSxHQUFJLElBQVcsR0FBTSxDQUNqQixJQUFJLEVBQVMsRUFDYixHQUFJLElBQVcsR0FDWCxFQUFPLEVBQUcsUUFBUSxhQUNsQixFQUFVLEVBQVUsTUFBTSxFQUFNLElBQUksTUFBTSxNQUV6QyxDQUNELElBQUksRUFBVyxFQUFHLFFBQVEsT0FBTyxDQUFNLEVBQ3ZDLEVBQVUsRUFBUyxRQUNuQixFQUFPLEVBQVMsU0FBUyxRQUFRLEVBQVMsT0FBTyxFQUFFLGFBRXZELEVBQUssRUFBWSxPQUFPLEVBQU8sRUFBUyxFQUFHLFdBQWEsRUFBRyxVQUFVLElBQUksQ0FBSSxFQUFHLEVBQVksV0FBVyxFQUFHLFFBQVMsQ0FBSSxFQUFHLEVBQUcsWUFBYSxFQUFHLGNBQWMsRUFHL0osSUFBSSxFQUFVLEVBQU0sTUFBTSxFQUFpQixFQUMzQyxRQUFTLEVBQUksRUFBUSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssQ0FDMUMsSUFBSSxFQUFXLEVBQVEsR0FBRyxDQUFFLEVBQzVCLEdBQUksYUFBb0IsRUFDcEIsRUFBSyxVQUNBLE1BQU0sUUFBUSxDQUFRLEdBQUssRUFBUyxRQUFVLEdBQUssRUFBUyxhQUFjLEVBQy9FLEVBQUssRUFBUyxPQUVkLEdBQUssR0FBbUIsRUFBTyxHQUFRLENBQVEsRUFBRyxFQUFLLEVBRS9ELE9BQU8sRUFFWCxTQUFTLEVBQWlCLENBQUMsRUFBSSxDQUMzQixJQUFJLEVBQVEsRUFBRyxXQUFZLEVBQVksRUFBTSxNQUFNLEVBQW1CLEVBQUcsRUFBTyxFQUNoRixRQUFTLEVBQUksRUFBVSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssQ0FDNUMsSUFBSSxFQUFZLEVBQVUsR0FBRyxDQUFFLEVBQy9CLEdBQUksR0FBYSxPQUFPLEtBQUssQ0FBUyxFQUFFLE9BQ3BDLEVBQU8sR0FBaUIsRUFBTSxHQUF3QixFQUFPLEVBQVcsRUFBRyxRQUFRLFNBQVMsRUFBRyxFQUFJLEVBRTNHLE9BQU8sR0FBUSxFQUFLLEVBQUssRUFBWSxPQUFPLEVBQU8sRUFBRyxRQUFTLEVBQUcsVUFBVyxFQUFLLFFBQVMsRUFBSyxZQUFhLEVBQUssY0FBYyxFQUdwSSxTQUFTLEVBQU8sQ0FBQyxFQUFPLENBQ3BCLE9BQU8sR0FBUyxLQUFPLEdBQU8sTUFBTSxRQUFRLENBQUssRUFBSSxFQUFRLENBQUMsQ0FBSyxFQTRCdkUsU0FBUyxFQUFXLENBQUMsRUFBSyxDQUN0QixHQUFJLEdBQ0EsT0FBTyxHQUFTLEtBQUssQ0FBRyxFQUM1QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxJQUFLLENBQ2pDLElBQUksRUFBSyxFQUFJLEdBQ2IsR0FBSSxLQUFLLEtBQUssQ0FBRSxHQUFLLEVBQUssU0FBVyxFQUFHLFlBQVksR0FBSyxFQUFHLFlBQVksR0FBSyxHQUEyQixLQUFLLENBQUUsR0FDM0csTUFBTyxHQUVmLE1BQU8sR0FFWCxTQUFTLEVBQWUsQ0FBQyxFQUFXLENBQ2hDLE1BQU8sQ0FBQyxJQUFTLENBQ2IsSUFBSyxLQUFLLEtBQUssQ0FBSSxFQUNmLE9BQU8sR0FBYSxNQUN4QixHQUFJLEdBQVksQ0FBSSxFQUNoQixPQUFPLEdBQWEsS0FDeEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFDbEMsR0FBSSxFQUFLLFFBQVEsRUFBVSxFQUFFLEVBQUksR0FDN0IsT0FBTyxHQUFhLEtBQzVCLE9BQU8sR0FBYSxPQWtkNUIsU0FBUyxFQUFhLENBQUMsRUFBUyxFQUNoQyxFQUFVLENBQUMsRUFBRyxDQUNWLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxLQUFVLEVBQ2YsUUFBUyxLQUFPLE9BQU8sS0FBSyxDQUFNLEVBQUcsQ0FDakMsSUFBSSxFQUFRLEVBQU8sR0FBTSxFQUFVLEVBQU8sR0FDMUMsR0FBSSxJQUFZLE9BQ1osRUFBTyxHQUFPLFVBQ1QsSUFBWSxHQUFTLElBQVUsZ0JBQy9CLE9BQU8sZUFBZSxLQUFLLEVBQVMsQ0FBRyxFQUM1QyxFQUFPLEdBQU8sRUFBUSxHQUFLLEVBQVMsQ0FBSyxNQUV6QyxPQUFNLElBQUksTUFBTSxtQ0FBcUMsQ0FBRyxFQUVwRSxRQUFTLEtBQU8sRUFDWixHQUFJLEVBQU8sS0FBUyxPQUNoQixFQUFPLEdBQU8sRUFBUyxHQUMvQixPQUFPLEVBb0RYLFNBQVMsRUFBUSxDQUFDLEVBQUcsRUFBRyxDQUNwQixPQUFPLEVBQUUsS0FBTyxFQUFFLE1BQVEsRUFBRSxNQUFNLFVBQVksRUFBRSxNQUFNLFVBK1YxRCxTQUFTLEVBQVEsQ0FBQyxFQUFRLENBQ3RCLEdBQUksRUFBTyxPQUFTLEVBQ2hCLFFBQVMsRUFBTyxFQUFPLEdBQUksRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDdEQsSUFBSSxFQUFNLEVBQU8sR0FDakIsR0FBSSxHQUFTLEVBQU0sQ0FBRyxFQUFJLEVBQ3RCLE9BQU8sRUFBTyxNQUFNLEVBQUUsS0FBSyxFQUFRLEVBQ3ZDLEVBQU8sRUFFZixPQUFPLEVBd0dYLFNBQVMsRUFBZ0IsQ0FBQyxFQUFHLEVBQUcsRUFBVSxDQUN0QyxJQUFJLEVBQU0sSUFBSSxJQUNkLFFBQVMsS0FBTyxFQUNaLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxNQUFNLE9BQVEsSUFDbEMsR0FBSSxFQUFJLE1BQU0sR0FBRyxVQUFZLEVBQ3pCLEVBQUksSUFBSSxFQUFJLE1BQU0sR0FBSSxFQUFJLFNBQVMsRUFBRSxFQUNqRCxJQUFJLEVBQVMsSUFBSSxJQUNqQixRQUFTLEtBQU8sRUFDWixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksTUFBTSxPQUFRLElBQUssQ0FDdkMsSUFBSSxFQUFRLEVBQUksSUFBSSxFQUFJLE1BQU0sRUFBRSxFQUNoQyxHQUFJLEdBQVMsT0FBUyxFQUFXLEVBQVMsT0FBTyxDQUFLLEVBQUksSUFBVSxFQUFJLFNBQVMsTUFDM0UsSUFBYSxNQUFRLElBQWtCLE9BQVMsT0FBSSxFQUFTLGFBQWEsRUFBTyxFQUFRLEVBQUksTUFBTSxHQUFHLE1BQU0sR0FDOUcsRUFBTyxJQUFJLEVBQUksTUFBTSxFQUFFLEVBRW5DLE9BQU8sRUFnSVgsU0FBUyxFQUFVLENBQUMsRUFBTSxFQUFPLENBQzdCLFFBQVMsRUFBTSxFQUFLLEtBQVUsQ0FDMUIsSUFBSSxHQUFjLEdBQVMsR0FBSyxFQUNoQyxHQUFJLEdBQWMsRUFBSyxPQUNuQixNQUNKLElBQUksRUFBUSxFQUFLLEdBQ2pCLEdBQUksRUFBYSxFQUFJLEVBQUssUUFBVSxFQUFNLFFBQVEsRUFBSyxFQUFhLEVBQUUsR0FBSyxFQUN2RSxFQUFRLEVBQUssRUFBYSxHQUMxQixJQUVKLEdBQUksRUFBSSxRQUFRLENBQUssRUFBSSxFQUNyQixNQUNKLEVBQUssR0FBYyxFQUNuQixFQUFLLEdBQVMsRUFDZCxFQUFRLEdBZ0loQixTQUFTLEVBQU8sQ0FBQyxFQUFHLEVBQVEsRUFBRyxFQUFRLEVBQVEsRUFBWSxDQUN2RCxFQUFFLEtBQUssQ0FBTSxFQUNiLEVBQUUsS0FBSyxDQUFNLEVBQ2IsSUFBSSxFQUFPLEVBQVMsRUFDaEIsRUFBTSxFQUFRLEVBQU8sRUFBUyxFQUNsQyxPQUFTLENBQ0wsSUFBSSxFQUFRLEVBQUUsR0FBSyxFQUFRLEVBQUUsSUFBTSxFQUFFLFFBQVUsRUFBRSxRQUM3QyxFQUFNLEVBQU8sRUFBSSxFQUFFLEdBQUssRUFBTyxFQUFFLEdBQUksRUFBVSxLQUFLLElBQUksRUFBSyxDQUFJLEVBQ3JFLEdBQUksRUFBRSxPQUFTLEVBQUUsT0FDYixLQUFNLEVBQUUsT0FBUyxFQUFFLFFBQVUsRUFBRSxPQUFTLEVBQUUsT0FBUyxFQUFFLE1BQU0sR0FBRyxFQUFFLEtBQUssSUFDakUsR0FBVyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUcsRUFBRSxlQUFlLEVBQUUsRUFBRSxDQUFDLEdBQ3pELEVBQVcsYUFBYSxFQUFLLEVBQVMsRUFBRSxNQUFPLEVBQUUsS0FBSyxVQUd0RCxFQUFVLElBQVEsR0FBVyxFQUFFLE9BQVEsRUFBRSxNQUFNLEVBQy9DLEVBQVcsYUFBYSxFQUFLLEVBQVMsRUFBRSxPQUFRLEVBQUUsTUFBTSxFQUVoRSxHQUFJLEVBQU0sRUFDTixNQUVKLEdBREEsRUFBTSxFQUNGLEdBQVEsRUFDUixFQUFFLEtBQUssRUFDWCxHQUFJLEdBQVEsRUFDUixFQUFFLEtBQUssR0FHbkIsU0FBUyxFQUFVLENBQUMsRUFBRyxFQUFHLENBQ3RCLEdBQUksRUFBRSxRQUFVLEVBQUUsT0FDZCxNQUFPLEdBQ1gsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsSUFDMUIsR0FBSSxFQUFFLElBQU0sRUFBRSxLQUFPLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUM3QixNQUFPLEdBQ2YsTUFBTyxHQUVYLFNBQVMsRUFBTSxDQUFDLEVBQU8sRUFBTyxDQUMxQixRQUFTLEVBQUksRUFBTyxFQUFJLEVBQU0sT0FBUyxFQUFHLEVBQUksRUFBRyxJQUM3QyxFQUFNLEdBQUssRUFBTSxFQUFJLEdBQ3pCLEVBQU0sSUFBSSxFQUVkLFNBQVMsRUFBTSxDQUFDLEVBQU8sRUFBTyxFQUFPLENBQ2pDLFFBQVMsRUFBSSxFQUFNLE9BQVMsRUFBRyxHQUFLLEVBQU8sSUFDdkMsRUFBTSxFQUFJLEdBQUssRUFBTSxHQUN6QixFQUFNLEdBQVMsRUFFbkIsU0FBUyxFQUFZLENBQUMsRUFBTyxFQUFPLENBQ2hDLElBQUksRUFBUSxHQUFJLEVBQVcsSUFDM0IsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDOUIsSUFBSyxFQUFNLEdBQUssR0FBWSxFQUFNLEdBQUcsUUFBVSxFQUFNLEdBQU8sU0FBVyxFQUNuRSxFQUFRLEVBQ1IsRUFBVyxFQUFNLEdBRXpCLE9BQU8sRUFPWCxTQUFTLEVBQVcsQ0FBQyxFQUFRLEVBQVMsRUFBSyxFQUFPLE9BQVEsQ0FDdEQsSUFBSSxFQUFJLEVBQ1IsUUFBUyxFQUFJLEVBQUcsRUFBSSxHQUNoQixHQUFJLEVBQU8sV0FBVyxDQUFDLEdBQUssRUFDeEIsR0FBSyxFQUFXLEVBQUksRUFDcEIsUUFHQSxLQUNBLEVBQUksR0FBaUIsRUFBUSxDQUFDLEVBR3RDLE9BQU8sRUFTWCxTQUFTLEVBQVUsQ0FBQyxFQUFRLEVBQUssRUFBUyxFQUFRLENBQzlDLFFBQVMsRUFBSSxFQUFHLEVBQUksSUFBSyxDQUNyQixHQUFJLEdBQUssRUFDTCxPQUFPLEVBQ1gsR0FBSSxHQUFLLEVBQU8sT0FDWixNQUNKLEdBQUssRUFBTyxXQUFXLENBQUMsR0FBSyxFQUFJLEVBQVcsRUFBSSxFQUFXLEVBQzNELEVBQUksR0FBaUIsRUFBUSxDQUFDLEVBRWxDLE9BQU8sSUFBVyxHQUFPLEdBQUssRUFBTyxPQWwxSHpDLE1BQU0sQ0FBSyxDQUlQLE1BQU0sQ0FBQyxFQUFLLENBQ1IsR0FBSSxFQUFNLEdBQUssRUFBTSxLQUFLLE9BQ3RCLE1BQU0sSUFBSSxXQUFXLG9CQUFvQiwyQkFBNkIsS0FBSyxRQUFRLEVBQ3ZGLE9BQU8sS0FBSyxVQUFVLEVBQUssR0FBTyxFQUFHLENBQUMsRUFLMUMsSUFBSSxDQUFDLEVBQUcsQ0FDSixHQUFJLEVBQUksR0FBSyxFQUFJLEtBQUssTUFDbEIsTUFBTSxJQUFJLFdBQVcsdUJBQXVCLFFBQVEsS0FBSyxxQkFBcUIsRUFDbEYsT0FBTyxLQUFLLFVBQVUsRUFBRyxHQUFNLEVBQUcsQ0FBQyxFQUt2QyxPQUFPLENBQUMsRUFBTSxFQUFJLEVBQU0sQ0FDcEIsQ0FBQyxFQUFNLENBQUUsRUFBSSxHQUFLLEtBQU0sRUFBTSxDQUFFLEVBQ2hDLElBQUksRUFBUSxDQUFDLEVBRWIsR0FEQSxLQUFLLFVBQVUsRUFBRyxFQUFNLEVBQU8sQ0FBZSxFQUMxQyxFQUFLLE9BQ0wsRUFBSyxVQUFVLEVBQUcsRUFBSyxPQUFRLEVBQU8sQ0FBbUMsRUFFN0UsT0FEQSxLQUFLLFVBQVUsRUFBSSxLQUFLLE9BQVEsRUFBTyxDQUFpQixFQUNqRCxHQUFTLEtBQUssRUFBTyxLQUFLLFFBQVUsRUFBSyxHQUFRLEVBQUssTUFBTSxFQUt2RSxNQUFNLENBQUMsRUFBTyxDQUNWLE9BQU8sS0FBSyxRQUFRLEtBQUssT0FBUSxLQUFLLE9BQVEsQ0FBSyxFQUt2RCxLQUFLLENBQUMsRUFBTSxFQUFLLEtBQUssT0FBUSxDQUMxQixDQUFDLEVBQU0sQ0FBRSxFQUFJLEdBQUssS0FBTSxFQUFNLENBQUUsRUFDaEMsSUFBSSxFQUFRLENBQUMsRUFFYixPQURBLEtBQUssVUFBVSxFQUFNLEVBQUksRUFBTyxDQUFDLEVBQzFCLEdBQVMsS0FBSyxFQUFPLEVBQUssQ0FBSSxFQUt6QyxFQUFFLENBQUMsRUFBTyxDQUNOLEdBQUksR0FBUyxLQUNULE1BQU8sR0FDWCxHQUFJLEVBQU0sUUFBVSxLQUFLLFFBQVUsRUFBTSxPQUFTLEtBQUssTUFDbkQsTUFBTyxHQUNYLElBQUksRUFBUSxLQUFLLGNBQWMsRUFBTyxDQUFDLEVBQUcsRUFBTSxLQUFLLE9BQVMsS0FBSyxjQUFjLEVBQU8sRUFBRSxFQUN0RixFQUFJLElBQUksR0FBYyxJQUFJLEVBQUcsRUFBSSxJQUFJLEdBQWMsQ0FBSyxFQUM1RCxRQUFTLEVBQU8sRUFBTyxFQUFNLElBQVMsQ0FJbEMsR0FIQSxFQUFFLEtBQUssQ0FBSSxFQUNYLEVBQUUsS0FBSyxDQUFJLEVBQ1gsRUFBTyxFQUNILEVBQUUsV0FBYSxFQUFFLFdBQWEsRUFBRSxNQUFRLEVBQUUsTUFBUSxFQUFFLE9BQVMsRUFBRSxNQUMvRCxNQUFPLEdBRVgsR0FEQSxHQUFPLEVBQUUsTUFBTSxPQUNYLEVBQUUsTUFBUSxHQUFPLEVBQ2pCLE1BQU8sSUFRbkIsSUFBSSxDQUFDLEVBQU0sRUFBRyxDQUFFLE9BQU8sSUFBSSxHQUFjLEtBQU0sQ0FBRyxFQUtsRCxTQUFTLENBQUMsRUFBTSxFQUFLLEtBQUssT0FBUSxDQUFFLE9BQU8sSUFBSSxHQUFrQixLQUFNLEVBQU0sQ0FBRSxFQVEvRSxTQUFTLENBQUMsRUFBTSxFQUFJLENBQ2hCLElBQUksRUFDSixHQUFJLEdBQVEsS0FDUixFQUFRLEtBQUssS0FBSyxNQUVqQixDQUNELEdBQUksR0FBTSxLQUNOLEVBQUssS0FBSyxNQUFRLEVBQ3RCLElBQUksRUFBUSxLQUFLLEtBQUssQ0FBSSxFQUFFLEtBQzVCLEVBQVEsS0FBSyxVQUFVLEVBQU8sS0FBSyxJQUFJLEVBQU8sR0FBTSxLQUFLLE1BQVEsRUFBSSxLQUFLLE9BQVMsR0FBTSxFQUFJLEVBQUksS0FBSyxLQUFLLEVBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUUxSCxPQUFPLElBQUksR0FBVyxDQUFLLEVBTS9CLFFBQVEsRUFBRyxDQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsRUFLdEMsTUFBTSxFQUFHLENBQ0wsSUFBSSxFQUFRLENBQUMsRUFFYixPQURBLEtBQUssUUFBUSxDQUFLLEVBQ1gsRUFLWCxXQUFXLEVBQUcsUUFJUCxHQUFFLENBQUMsRUFBTSxDQUNaLEdBQUksRUFBSyxRQUFVLEVBQ2YsTUFBTSxJQUFJLFdBQVcsd0NBQXdDLEVBQ2pFLEdBQUksRUFBSyxRQUFVLElBQU0sRUFBSyxHQUMxQixPQUFPLEVBQUssTUFDaEIsT0FBTyxFQUFLLFFBQVUsR0FBdUIsSUFBSSxFQUFTLENBQUksRUFBSSxHQUFTLEtBQUssRUFBUyxNQUFNLEVBQU0sQ0FBQyxDQUFDLENBQUMsRUFFaEgsQ0FJQSxNQUFNLFVBQWlCLENBQUssQ0FDeEIsV0FBVyxDQUFDLEVBQU0sRUFBUyxHQUFXLENBQUksRUFBRyxDQUN6QyxNQUFNLEVBQ04sS0FBSyxLQUFPLEVBQ1osS0FBSyxPQUFTLEtBRWQsTUFBSyxFQUFHLENBQUUsT0FBTyxLQUFLLEtBQUssVUFDM0IsU0FBUSxFQUFHLENBQUUsT0FBTyxLQUN4QixTQUFTLENBQUMsRUFBUSxFQUFRLEVBQU0sRUFBUSxDQUNwQyxRQUFTLEVBQUksR0FBSSxJQUFLLENBQ2xCLElBQUksRUFBUyxLQUFLLEtBQUssR0FBSSxFQUFNLEVBQVMsRUFBTyxPQUNqRCxJQUFLLEVBQVMsRUFBTyxJQUFRLEVBQ3pCLE9BQU8sSUFBSSxHQUFLLEVBQVEsRUFBSyxFQUFNLENBQU0sRUFDN0MsRUFBUyxFQUFNLEVBQ2YsS0FHUixTQUFTLENBQUMsRUFBTSxFQUFJLEVBQVEsRUFBTSxDQUM5QixJQUFJLEVBQU8sR0FBUSxHQUFLLEdBQU0sS0FBSyxPQUFTLEtBQ3RDLElBQUksRUFBUyxHQUFVLEtBQUssS0FBTSxFQUFNLENBQUUsRUFBRyxLQUFLLElBQUksRUFBSSxLQUFLLE1BQU0sRUFBSSxLQUFLLElBQUksRUFBRyxDQUFJLENBQUMsRUFDaEcsR0FBSSxFQUFPLEVBQW1CLENBQzFCLElBQUksRUFBTyxFQUFPLElBQUksRUFDbEIsRUFBUyxHQUFXLEVBQUssS0FBTSxFQUFLLEtBQUssTUFBTSxFQUFHLEVBQUcsRUFBSyxNQUFNLEVBQ3BFLEdBQUksRUFBTyxRQUFVLEdBQ2pCLEVBQU8sS0FBSyxJQUFJLEVBQVMsRUFBUSxFQUFLLE9BQVMsRUFBSyxNQUFNLENBQUMsTUFFMUQsQ0FDRCxJQUFJLEVBQU0sRUFBTyxRQUFVLEVBQzNCLEVBQU8sS0FBSyxJQUFJLEVBQVMsRUFBTyxNQUFNLEVBQUcsQ0FBRyxDQUFDLEVBQUcsSUFBSSxFQUFTLEVBQU8sTUFBTSxDQUFHLENBQUMsQ0FBQyxPQUluRixHQUFPLEtBQUssQ0FBSSxFQUd4QixPQUFPLENBQUMsRUFBTSxFQUFJLEVBQU0sQ0FDcEIsS0FBTSxhQUFnQixHQUNsQixPQUFPLE1BQU0sUUFBUSxFQUFNLEVBQUksQ0FBSSxFQUN2QyxDQUFDLEVBQU0sQ0FBRSxFQUFJLEdBQUssS0FBTSxFQUFNLENBQUUsRUFDaEMsSUFBSSxFQUFRLEdBQVcsS0FBSyxLQUFNLEdBQVcsRUFBSyxLQUFNLEdBQVUsS0FBSyxLQUFNLEVBQUcsQ0FBSSxDQUFDLEVBQUcsQ0FBRSxFQUN0RixFQUFTLEtBQUssT0FBUyxFQUFLLFFBQVUsRUFBSyxHQUMvQyxHQUFJLEVBQU0sUUFBVSxHQUNoQixPQUFPLElBQUksRUFBUyxFQUFPLENBQU0sRUFDckMsT0FBTyxHQUFTLEtBQUssRUFBUyxNQUFNLEVBQU8sQ0FBQyxDQUFDLEVBQUcsQ0FBTSxFQUUxRCxXQUFXLENBQUMsRUFBTSxFQUFLLEtBQUssT0FBUSxFQUFVLEtBQU0sQ0FDaEQsQ0FBQyxFQUFNLENBQUUsRUFBSSxHQUFLLEtBQU0sRUFBTSxDQUFFLEVBQ2hDLElBQUksRUFBUyxHQUNiLFFBQVMsRUFBTSxFQUFHLEVBQUksRUFBRyxHQUFPLEdBQU0sRUFBSSxLQUFLLEtBQUssT0FBUSxJQUFLLENBQzdELElBQUksRUFBTyxLQUFLLEtBQUssR0FBSSxFQUFNLEVBQU0sRUFBSyxPQUMxQyxHQUFJLEVBQU0sR0FBUSxFQUNkLEdBQVUsRUFDZCxHQUFJLEVBQU8sR0FBTyxFQUFLLEVBQ25CLEdBQVUsRUFBSyxNQUFNLEtBQUssSUFBSSxFQUFHLEVBQU8sQ0FBRyxFQUFHLEVBQUssQ0FBRyxFQUMxRCxFQUFNLEVBQU0sRUFFaEIsT0FBTyxFQUVYLE9BQU8sQ0FBQyxFQUFRLENBQ1osUUFBUyxLQUFRLEtBQUssS0FDbEIsRUFBTyxLQUFLLENBQUksRUFFeEIsYUFBYSxFQUFHLENBQUUsTUFBTyxTQUNsQixNQUFLLENBQUMsRUFBTSxFQUFRLENBQ3ZCLElBQUksRUFBTyxDQUFDLEVBQUcsRUFBTSxHQUNyQixRQUFTLEtBQVEsRUFHYixHQUZBLEVBQUssS0FBSyxDQUFJLEVBQ2QsR0FBTyxFQUFLLE9BQVMsRUFDakIsRUFBSyxRQUFVLEdBQ2YsRUFBTyxLQUFLLElBQUksRUFBUyxFQUFNLENBQUcsQ0FBQyxFQUNuQyxFQUFPLENBQUMsRUFDUixFQUFNLEdBR2QsR0FBSSxFQUFNLEdBQ04sRUFBTyxLQUFLLElBQUksRUFBUyxFQUFNLENBQUcsQ0FBQyxFQUN2QyxPQUFPLEVBRWYsQ0FLQSxNQUFNLFdBQWlCLENBQUssQ0FDeEIsV0FBVyxDQUFDLEVBQVUsRUFBUSxDQUMxQixNQUFNLEVBQ04sS0FBSyxTQUFXLEVBQ2hCLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxFQUNiLFFBQVMsS0FBUyxFQUNkLEtBQUssT0FBUyxFQUFNLE1BRTVCLFNBQVMsQ0FBQyxFQUFRLEVBQVEsRUFBTSxFQUFRLENBQ3BDLFFBQVMsRUFBSSxHQUFJLElBQUssQ0FDbEIsSUFBSSxFQUFRLEtBQUssU0FBUyxHQUFJLEVBQU0sRUFBUyxFQUFNLE9BQVEsRUFBVSxFQUFPLEVBQU0sTUFBUSxFQUMxRixJQUFLLEVBQVMsRUFBVSxJQUFRLEVBQzVCLE9BQU8sRUFBTSxVQUFVLEVBQVEsRUFBUSxFQUFNLENBQU0sRUFDdkQsRUFBUyxFQUFNLEVBQ2YsRUFBTyxFQUFVLEdBR3pCLFNBQVMsQ0FBQyxFQUFNLEVBQUksRUFBUSxFQUFNLENBQzlCLFFBQVMsRUFBSSxFQUFHLEVBQU0sRUFBRyxHQUFPLEdBQU0sRUFBSSxLQUFLLFNBQVMsT0FBUSxJQUFLLENBQ2pFLElBQUksRUFBUSxLQUFLLFNBQVMsR0FBSSxFQUFNLEVBQU0sRUFBTSxPQUNoRCxHQUFJLEdBQVEsR0FBTyxHQUFNLEVBQUssQ0FDMUIsSUFBSSxFQUFZLElBQVMsR0FBTyxFQUFPLEVBQW9CLElBQU0sR0FBTyxFQUFLLEVBQWtCLElBQy9GLEdBQUksR0FBTyxHQUFRLEdBQU8sSUFBTyxFQUM3QixFQUFPLEtBQUssQ0FBSyxNQUVqQixHQUFNLFVBQVUsRUFBTyxFQUFLLEVBQUssRUFBSyxFQUFRLENBQVMsRUFFL0QsRUFBTSxFQUFNLEdBR3BCLE9BQU8sQ0FBQyxFQUFNLEVBQUksRUFBTSxDQUVwQixHQURBLENBQUMsRUFBTSxDQUFFLEVBQUksR0FBSyxLQUFNLEVBQU0sQ0FBRSxFQUM1QixFQUFLLE1BQVEsS0FBSyxNQUNsQixRQUFTLEVBQUksRUFBRyxFQUFNLEVBQUcsRUFBSSxLQUFLLFNBQVMsT0FBUSxJQUFLLENBQ3BELElBQUksRUFBUSxLQUFLLFNBQVMsR0FBSSxFQUFNLEVBQU0sRUFBTSxPQUloRCxHQUFJLEdBQVEsR0FBTyxHQUFNLEVBQUssQ0FDMUIsSUFBSSxFQUFVLEVBQU0sUUFBUSxFQUFPLEVBQUssRUFBSyxFQUFLLENBQUksRUFDbEQsRUFBYSxLQUFLLE1BQVEsRUFBTSxNQUFRLEVBQVEsTUFDcEQsR0FBSSxFQUFRLE1BQVMsR0FBZSxHQUNoQyxFQUFRLE1BQVMsR0FBZSxFQUFnQyxDQUNoRSxJQUFJLEVBQU8sS0FBSyxTQUFTLE1BQU0sRUFFL0IsT0FEQSxFQUFLLEdBQUssRUFDSCxJQUFJLEdBQVMsRUFBTSxLQUFLLFFBQVUsRUFBSyxHQUFRLEVBQUssTUFBTSxFQUVyRSxPQUFPLE1BQU0sUUFBUSxFQUFLLEVBQUssQ0FBTyxFQUUxQyxFQUFNLEVBQU0sRUFFcEIsT0FBTyxNQUFNLFFBQVEsRUFBTSxFQUFJLENBQUksRUFFdkMsV0FBVyxDQUFDLEVBQU0sRUFBSyxLQUFLLE9BQVEsRUFBVSxLQUFNLENBQ2hELENBQUMsRUFBTSxDQUFFLEVBQUksR0FBSyxLQUFNLEVBQU0sQ0FBRSxFQUNoQyxJQUFJLEVBQVMsR0FDYixRQUFTLEVBQUksRUFBRyxFQUFNLEVBQUcsRUFBSSxLQUFLLFNBQVMsUUFBVSxHQUFPLEVBQUksSUFBSyxDQUNqRSxJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQUksRUFBTSxFQUFNLEVBQU0sT0FDaEQsR0FBSSxFQUFNLEdBQVEsRUFDZCxHQUFVLEVBQ2QsR0FBSSxFQUFPLEdBQU8sRUFBSyxFQUNuQixHQUFVLEVBQU0sWUFBWSxFQUFPLEVBQUssRUFBSyxFQUFLLENBQU8sRUFDN0QsRUFBTSxFQUFNLEVBRWhCLE9BQU8sRUFFWCxPQUFPLENBQUMsRUFBUSxDQUNaLFFBQVMsS0FBUyxLQUFLLFNBQ25CLEVBQU0sUUFBUSxDQUFNLEVBRTVCLGFBQWEsQ0FBQyxFQUFPLEVBQUssQ0FDdEIsS0FBTSxhQUFpQixJQUNuQixNQUFPLEdBQ1gsSUFBSSxFQUFTLEdBQ1IsRUFBSSxFQUFJLEVBQUksR0FBTSxFQUFNLEVBQUksQ0FBQyxFQUFHLEVBQUcsS0FBSyxTQUFTLE9BQVEsRUFBTSxTQUFTLE1BQU0sRUFDN0UsQ0FBQyxLQUFLLFNBQVMsT0FBUyxFQUFHLEVBQU0sU0FBUyxPQUFTLEVBQUcsR0FBSSxFQUFFLEVBQ2xFLE1BQVEsR0FBTSxFQUFLLEdBQU0sRUFBSyxDQUMxQixHQUFJLEdBQU0sR0FBTSxHQUFNLEVBQ2xCLE9BQU8sRUFDWCxJQUFJLEVBQU0sS0FBSyxTQUFTLEdBQUssRUFBTSxFQUFNLFNBQVMsR0FDbEQsR0FBSSxHQUFPLEVBQ1AsT0FBTyxFQUFTLEVBQUksY0FBYyxFQUFLLENBQUcsRUFDOUMsR0FBVSxFQUFJLE9BQVMsU0FHeEIsS0FBSSxDQUFDLEVBQVUsRUFBUyxFQUFTLE9BQU8sQ0FBQyxFQUFHLElBQU8sRUFBSSxFQUFHLE9BQVMsRUFBRyxFQUFFLEVBQUcsQ0FDOUUsSUFBSSxFQUFRLEVBQ1osUUFBUyxLQUFNLEVBQ1gsR0FBUyxFQUFHLE1BQ2hCLEdBQUksRUFBUSxHQUFzQixDQUM5QixJQUFJLEVBQU8sQ0FBQyxFQUNaLFFBQVMsS0FBTSxFQUNYLEVBQUcsUUFBUSxDQUFJLEVBQ25CLE9BQU8sSUFBSSxFQUFTLEVBQU0sQ0FBTSxFQUVwQyxJQUFJLEVBQVEsS0FBSyxJQUFJLEdBQXNCLEdBQVMsQ0FBd0IsRUFBRyxFQUFXLEdBQVMsRUFBRyxFQUFXLEdBQVMsRUFDdEgsRUFBVSxDQUFDLEVBQUcsRUFBZSxFQUFHLEVBQWEsR0FBSSxFQUFlLENBQUMsRUFDckUsU0FBUyxDQUFHLENBQUMsRUFBTyxDQUNoQixJQUFJLEVBQ0osR0FBSSxFQUFNLE1BQVEsR0FBWSxhQUFpQixHQUMzQyxRQUFTLEtBQVEsRUFBTSxTQUNuQixFQUFJLENBQUksVUFFUCxFQUFNLE1BQVEsSUFBYSxFQUFlLElBQWEsR0FDNUQsRUFBTSxFQUNOLEVBQVEsS0FBSyxDQUFLLFVBRWIsYUFBaUIsR0FBWSxJQUNqQyxFQUFPLEVBQWEsRUFBYSxPQUFTLGNBQWUsR0FDMUQsRUFBTSxNQUFRLEVBQUssT0FBUyxHQUM1QixHQUFnQixFQUFNLE1BQ3RCLEdBQWMsRUFBTSxPQUFTLEVBQzdCLEVBQWEsRUFBYSxPQUFTLEdBQUssSUFBSSxFQUFTLEVBQUssS0FBSyxPQUFPLEVBQU0sSUFBSSxFQUFHLEVBQUssT0FBUyxFQUFJLEVBQU0sTUFBTSxNQUVoSCxDQUNELEdBQUksRUFBZSxFQUFNLE1BQVEsRUFDN0IsRUFBTSxFQUNWLEdBQWdCLEVBQU0sTUFDdEIsR0FBYyxFQUFNLE9BQVMsRUFDN0IsRUFBYSxLQUFLLENBQUssR0FHL0IsU0FBUyxDQUFLLEVBQUcsQ0FDYixHQUFJLEdBQWdCLEVBQ2hCLE9BQ0osRUFBUSxLQUFLLEVBQWEsUUFBVSxFQUFJLEVBQWEsR0FBSyxHQUFTLEtBQUssRUFBYyxDQUFVLENBQUMsRUFDakcsRUFBYSxHQUNiLEVBQWUsRUFBYSxPQUFTLEVBRXpDLFFBQVMsS0FBUyxFQUNkLEVBQUksQ0FBSyxFQUViLE9BREEsRUFBTSxFQUNDLEVBQVEsUUFBVSxFQUFJLEVBQVEsR0FBSyxJQUFJLEdBQVMsRUFBUyxDQUFNLEVBRTlFLENBQ0EsRUFBSyxNQUFxQixJQUFJLEVBQVMsQ0FBQyxFQUFFLEVBQUcsQ0FBQyxFQTZCOUMsTUFBTSxFQUFjLENBQ2hCLFdBQVcsQ0FBQyxFQUFNLEVBQU0sRUFBRyxDQUN2QixLQUFLLElBQU0sRUFDWCxLQUFLLEtBQU8sR0FDWixLQUFLLFVBQVksR0FDakIsS0FBSyxNQUFRLEdBQ2IsS0FBSyxNQUFRLENBQUMsQ0FBSSxFQUNsQixLQUFLLFFBQVUsQ0FBQyxFQUFNLEVBQUksR0FBSyxhQUFnQixFQUFXLEVBQUssS0FBSyxPQUFTLEVBQUssU0FBUyxTQUFXLENBQUMsRUFFM0csU0FBUyxDQUFDLEVBQU0sRUFBSyxDQUNqQixLQUFLLEtBQU8sS0FBSyxVQUFZLEdBQzdCLE9BQVMsQ0FDTCxJQUFJLEVBQU8sS0FBSyxNQUFNLE9BQVMsRUFDM0IsRUFBTSxLQUFLLE1BQU0sR0FBTyxFQUFjLEtBQUssUUFBUSxHQUFPLEVBQVMsR0FBZSxFQUNsRixFQUFPLGFBQWUsRUFBVyxFQUFJLEtBQUssT0FBUyxFQUFJLFNBQVMsT0FDcEUsR0FBSSxJQUFXLEVBQU0sRUFBSSxFQUFPLEdBQUksQ0FDaEMsR0FBSSxHQUFRLEVBR1IsT0FGQSxLQUFLLEtBQU8sR0FDWixLQUFLLE1BQVEsR0FDTixLQUVYLEdBQUksRUFBTSxFQUNOLEtBQUssUUFBUSxFQUFPLEtBQ3hCLEtBQUssTUFBTSxJQUFJLEVBQ2YsS0FBSyxRQUFRLElBQUksV0FFWCxFQUFjLEtBQU8sRUFBTSxFQUFJLEVBQUksR0FBSSxDQUU3QyxHQURBLEtBQUssUUFBUSxJQUFTLEVBQ2xCLEdBQVEsRUFHUixPQUZBLEtBQUssVUFBWSxHQUNqQixLQUFLLE1BQVEsS0FDTixLQUVYLFlBRUssYUFBZSxFQUFVLENBRTlCLElBQUksRUFBTyxFQUFJLEtBQUssR0FBVSxFQUFNLEVBQUksR0FBSyxJQUU3QyxHQURBLEtBQUssUUFBUSxJQUFTLEVBQ2xCLEVBQUssT0FBUyxLQUFLLElBQUksRUFBRyxDQUFJLEVBRTlCLE9BREEsS0FBSyxNQUFRLEdBQVEsRUFBSSxFQUFPLEVBQU0sRUFBSSxFQUFLLE1BQU0sQ0FBSSxFQUFJLEVBQUssTUFBTSxFQUFHLEVBQUssT0FBUyxDQUFJLEVBQ3RGLEtBRVgsR0FBUSxFQUFLLFdBRVosQ0FDRCxJQUFJLEVBQU8sRUFBSSxTQUFTLEdBQVUsRUFBTSxFQUFJLEdBQUssSUFDakQsR0FBSSxFQUFPLEVBQUssT0FDWixHQUFRLEVBQUssT0FDYixLQUFLLFFBQVEsSUFBUyxNQUVyQixDQUNELEdBQUksRUFBTSxFQUNOLEtBQUssUUFBUSxLQUNqQixLQUFLLE1BQU0sS0FBSyxDQUFJLEVBQ3BCLEtBQUssUUFBUSxLQUFLLEVBQU0sRUFBSSxHQUFLLGFBQWdCLEVBQVcsRUFBSyxLQUFLLE9BQVMsRUFBSyxTQUFTLFNBQVcsQ0FBQyxLQUt6SCxJQUFJLENBQUMsRUFBTyxFQUFHLENBQ1gsR0FBSSxFQUFPLEVBQ1AsS0FBSyxXQUFXLEdBQVEsS0FBSyxHQUFJLEVBQ2pDLEVBQU8sS0FBSyxNQUFNLE9BRXRCLE9BQU8sS0FBSyxVQUFVLEVBQU0sS0FBSyxHQUFHLEVBRTVDLENBQ0EsTUFBTSxFQUFrQixDQUNwQixXQUFXLENBQUMsRUFBTSxFQUFPLEVBQUssQ0FDMUIsS0FBSyxNQUFRLEdBQ2IsS0FBSyxLQUFPLEdBQ1osS0FBSyxPQUFTLElBQUksR0FBYyxFQUFNLEVBQVEsRUFBTSxHQUFLLENBQUMsRUFDMUQsS0FBSyxJQUFNLEVBQVEsRUFBTSxFQUFLLE9BQVMsRUFDdkMsS0FBSyxLQUFPLEtBQUssSUFBSSxFQUFPLENBQUcsRUFDL0IsS0FBSyxHQUFLLEtBQUssSUFBSSxFQUFPLENBQUcsRUFFakMsU0FBUyxDQUFDLEVBQU0sRUFBSyxDQUNqQixHQUFJLEVBQU0sRUFBSSxLQUFLLEtBQU8sS0FBSyxLQUFPLEtBQUssS0FBTyxLQUFLLEdBR25ELE9BRkEsS0FBSyxNQUFRLEdBQ2IsS0FBSyxLQUFPLEdBQ0wsS0FFWCxHQUFRLEtBQUssSUFBSSxFQUFHLEVBQU0sRUFBSSxLQUFLLElBQU0sS0FBSyxHQUFLLEtBQUssS0FBTyxLQUFLLEdBQUcsRUFDdkUsSUFBSSxFQUFRLEVBQU0sRUFBSSxLQUFLLElBQU0sS0FBSyxLQUFPLEtBQUssR0FBSyxLQUFLLElBQzVELEdBQUksRUFBTyxFQUNQLEVBQU8sRUFDWCxHQUFTLEVBQ1QsSUFBTSxTQUFVLEtBQUssT0FBTyxLQUFLLENBQUksRUFJckMsT0FIQSxLQUFLLE1BQVEsRUFBTSxPQUFTLEdBQVEsRUFDcEMsS0FBSyxNQUFRLEVBQU0sUUFBVSxFQUFRLEVBQVEsRUFBTSxFQUFJLEVBQU0sTUFBTSxFQUFNLE9BQVMsQ0FBSyxFQUFJLEVBQU0sTUFBTSxFQUFHLENBQUssRUFDL0csS0FBSyxNQUFRLEtBQUssTUFDWCxLQUVYLElBQUksQ0FBQyxFQUFPLEVBQUcsQ0FDWCxHQUFJLEVBQU8sRUFDUCxFQUFPLEtBQUssSUFBSSxFQUFNLEtBQUssS0FBTyxLQUFLLEdBQUcsVUFDckMsRUFBTyxFQUNaLEVBQU8sS0FBSyxJQUFJLEVBQU0sS0FBSyxHQUFLLEtBQUssR0FBRyxFQUM1QyxPQUFPLEtBQUssVUFBVSxFQUFNLEtBQUssT0FBTyxHQUFHLEtBRTNDLFVBQVMsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLFdBQWEsS0FBSyxPQUFTLEdBQ3BFLENBQ0EsTUFBTSxFQUFXLENBQ2IsV0FBVyxDQUFDLEVBQU8sQ0FDZixLQUFLLE1BQVEsRUFDYixLQUFLLFdBQWEsR0FDbEIsS0FBSyxNQUFRLEdBQ2IsS0FBSyxLQUFPLEdBRWhCLElBQUksQ0FBQyxFQUFPLEVBQUcsQ0FDWCxJQUFNLE9BQU0sWUFBVyxTQUFVLEtBQUssTUFBTSxLQUFLLENBQUksRUFDckQsR0FBSSxHQUFRLEtBQUssV0FDYixLQUFLLE1BQVEsR0FDYixLQUFLLFdBQWEsV0FFYixFQUNMLEtBQUssS0FBTyxHQUNaLEtBQUssTUFBUSxXQUVSLEVBQ0wsR0FBSSxLQUFLLFdBQ0wsS0FBSyxNQUFRLE9BR2IsTUFBSyxXQUFhLEdBQ2xCLEtBQUssS0FBSyxNQUlkLE1BQUssTUFBUSxFQUNiLEtBQUssV0FBYSxHQUV0QixPQUFPLFFBRVAsVUFBUyxFQUFHLENBQUUsTUFBTyxHQUM3QixDQUNBLFVBQVcsUUFBVSxZQUNqQixFQUFLLFVBQVUsT0FBTyxrQkFBcUIsRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFLLEdBQ2pFLEdBQWMsVUFBVSxPQUFPLFVBQVksR0FBa0IsVUFBVSxPQUFPLFVBQzFFLEdBQVcsVUFBVSxPQUFPLGtCQUFxQixFQUFHLENBQUUsT0FBTyxNQU1yRSxNQUFNLEVBQUssQ0FJUCxXQUFXLENBSVgsRUFLQSxFQUlBLEVBSUEsRUFBTSxDQUNGLEtBQUssS0FBTyxFQUNaLEtBQUssR0FBSyxFQUNWLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxLQUtaLE9BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxHQUFLLEtBQUssS0FDekMsQ0FZQSxJQUFJLEdBQXNCLGl6Q0FBaXpDLE1BQU0sR0FBRyxFQUFFLElBQUksS0FBSyxFQUFJLFNBQVMsRUFBRyxFQUFFLEVBQUksQ0FBQyxFQUV0M0MsUUFBUyxFQUFJLEVBQUcsRUFBSSxHQUFPLE9BQVEsSUFDL0IsR0FBTyxJQUFNLEdBQU8sRUFBSSxHQVU1QixJQUFNLEdBQU0sS0FvRk4sR0FBZSxXQUlqQixXQUFpQyxDQUFDLEVBQVMsQ0FrQi9DLE9BYkksRUFBUSxFQUFRLE9BQVksR0FBSyxTQUlqQyxFQUFRLEVBQVEsU0FBYyxHQUFLLFdBSW5DLEVBQVEsRUFBUSxZQUFpQixHQUFLLGNBSXRDLEVBQVEsRUFBUSxXQUFnQixHQUFLLGFBQ2xDLEdBQVUsS0FBWSxHQUFVLENBQUMsRUFBRSxFQU0xQyxNQUFNLEVBQVcsQ0FTYixXQUFXLENBSVgsRUFBVSxDQUNOLEtBQUssU0FBVyxLQUtoQixPQUFNLEVBQUcsQ0FDVCxJQUFJLEVBQVMsRUFDYixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssU0FBUyxPQUFRLEdBQUssRUFDM0MsR0FBVSxLQUFLLFNBQVMsR0FDNUIsT0FBTyxLQUtQLFVBQVMsRUFBRyxDQUNaLElBQUksRUFBUyxFQUNiLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxTQUFTLE9BQVEsR0FBSyxFQUFHLENBQzlDLElBQUksRUFBTSxLQUFLLFNBQVMsRUFBSSxHQUM1QixHQUFVLEVBQU0sRUFBSSxLQUFLLFNBQVMsR0FBSyxFQUUzQyxPQUFPLEtBS1AsTUFBSyxFQUFHLENBQUUsT0FBTyxLQUFLLFNBQVMsUUFBVSxHQUFLLEtBQUssU0FBUyxRQUFVLEdBQUssS0FBSyxTQUFTLEdBQUssRUFNbEcsUUFBUSxDQUFDLEVBQUcsQ0FDUixRQUFTLEVBQUksRUFBRyxFQUFPLEVBQUcsRUFBTyxFQUFHLEVBQUksS0FBSyxTQUFTLFFBQVMsQ0FDM0QsSUFBSSxFQUFNLEtBQUssU0FBUyxLQUFNLEVBQU0sS0FBSyxTQUFTLEtBQ2xELEdBQUksRUFBTSxFQUNOLEVBQUUsRUFBTSxFQUFNLENBQUcsRUFDakIsR0FBUSxNQUdSLElBQVEsRUFFWixHQUFRLEdBZWhCLGlCQUFpQixDQUFDLEVBQUcsRUFBYSxHQUFPLENBQ3JDLEdBQVksS0FBTSxFQUFHLENBQVUsS0FLL0IsYUFBWSxFQUFHLENBQ2YsSUFBSSxFQUFXLENBQUMsRUFDaEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLFNBQVMsUUFBUyxDQUN2QyxJQUFJLEVBQU0sS0FBSyxTQUFTLEtBQU0sRUFBTSxLQUFLLFNBQVMsS0FDbEQsR0FBSSxFQUFNLEVBQ04sRUFBUyxLQUFLLEVBQUssQ0FBRyxNQUV0QixHQUFTLEtBQUssRUFBSyxDQUFHLEVBRTlCLE9BQU8sSUFBSSxHQUFXLENBQVEsRUFPbEMsV0FBVyxDQUFDLEVBQU8sQ0FBRSxPQUFPLEtBQUssTUFBUSxFQUFRLEVBQU0sTUFBUSxLQUFPLEdBQVksS0FBTSxDQUFLLEVBTzdGLE9BQU8sQ0FBQyxFQUFPLEVBQVMsR0FBTyxDQUFFLE9BQU8sRUFBTSxNQUFRLEtBQU8sR0FBTyxLQUFNLEVBQU8sQ0FBTSxFQUN2RixNQUFNLENBQUMsRUFBSyxFQUFRLEdBQUksRUFBTyxHQUFRLE9BQVEsQ0FDM0MsSUFBSSxFQUFPLEVBQUcsRUFBTyxFQUNyQixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssU0FBUyxRQUFTLENBQ3ZDLElBQUksRUFBTSxLQUFLLFNBQVMsS0FBTSxFQUFNLEtBQUssU0FBUyxLQUFNLEVBQU8sRUFBTyxFQUN0RSxHQUFJLEVBQU0sRUFBRyxDQUNULEdBQUksRUFBTyxFQUNQLE9BQU8sR0FBUSxFQUFNLEdBQ3pCLEdBQVEsTUFFUCxDQUNELEdBQUksR0FBUSxHQUFRLFFBQVUsR0FBUSxJQUNqQyxHQUFRLEdBQVEsVUFBWSxFQUFPLEdBQU8sRUFBTyxHQUM5QyxHQUFRLEdBQVEsYUFBZSxFQUFPLEdBQ3RDLEdBQVEsR0FBUSxZQUFjLEVBQU8sR0FDekMsT0FBTyxLQUNYLEdBQUksRUFBTyxHQUFPLEdBQVEsR0FBTyxFQUFRLElBQU0sRUFDM0MsT0FBTyxHQUFPLEdBQVEsRUFBUSxFQUFJLEVBQU8sRUFBTyxFQUNwRCxHQUFRLEVBRVosRUFBTyxFQUVYLEdBQUksRUFBTSxFQUNOLE1BQU0sSUFBSSxXQUFXLFlBQVksNkNBQStDLEdBQU0sRUFDMUYsT0FBTyxFQU9YLFlBQVksQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUMxQixRQUFTLEVBQUksRUFBRyxFQUFNLEVBQUcsRUFBSSxLQUFLLFNBQVMsUUFBVSxHQUFPLEdBQUssQ0FDN0QsSUFBSSxFQUFNLEtBQUssU0FBUyxLQUFNLEVBQU0sS0FBSyxTQUFTLEtBQU0sRUFBTSxFQUFNLEVBQ3BFLEdBQUksR0FBTyxHQUFLLEdBQU8sR0FBTSxHQUFPLEVBQ2hDLE9BQU8sRUFBTSxHQUFRLEVBQU0sRUFBSyxRQUFVLEdBQzlDLEVBQU0sRUFFVixNQUFPLEdBS1gsUUFBUSxFQUFHLENBQ1AsSUFBSSxFQUFTLEdBQ2IsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLFNBQVMsUUFBUyxDQUN2QyxJQUFJLEVBQU0sS0FBSyxTQUFTLEtBQU0sRUFBTSxLQUFLLFNBQVMsS0FDbEQsSUFBVyxFQUFTLElBQU0sSUFBTSxHQUFPLEdBQU8sRUFBSSxJQUFNLEVBQU0sSUFFbEUsT0FBTyxFQUtYLE1BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxlQUtoQixTQUFRLENBQUMsRUFBTSxDQUNsQixJQUFLLE1BQU0sUUFBUSxDQUFJLEdBQUssRUFBSyxPQUFTLEdBQUssRUFBSyxLQUFLLFlBQVksR0FBSyxRQUFRLEVBQzlFLE1BQU0sSUFBSSxXQUFXLDJDQUEyQyxFQUNwRSxPQUFPLElBQUksR0FBVyxDQUFJLFFBS3ZCLE9BQU0sQ0FBQyxFQUFVLENBQUUsT0FBTyxJQUFJLEdBQVcsQ0FBUSxFQUM1RCxDQU1BLE1BQU0sVUFBa0IsRUFBVyxDQUMvQixXQUFXLENBQUMsRUFJWixFQUFVLENBQ04sTUFBTSxDQUFRLEVBQ2QsS0FBSyxTQUFXLEVBTXBCLEtBQUssQ0FBQyxFQUFLLENBQ1AsR0FBSSxLQUFLLFFBQVUsRUFBSSxPQUNuQixNQUFNLElBQUksV0FBVyx5REFBeUQsRUFFbEYsT0FEQSxHQUFZLEtBQU0sQ0FBQyxFQUFPLEVBQUssRUFBTyxFQUFNLElBQVMsRUFBTSxFQUFJLFFBQVEsRUFBTyxHQUFTLEVBQU0sR0FBUSxDQUFJLEVBQUcsRUFBSyxFQUMxRyxFQUVYLE9BQU8sQ0FBQyxFQUFPLEVBQVMsR0FBTyxDQUFFLE9BQU8sR0FBTyxLQUFNLEVBQU8sRUFBUSxFQUFJLEVBT3hFLE1BQU0sQ0FBQyxFQUFLLENBQ1IsSUFBSSxFQUFXLEtBQUssU0FBUyxNQUFNLEVBQUcsRUFBVyxDQUFDLEVBQ2xELFFBQVMsRUFBSSxFQUFHLEVBQU0sRUFBRyxFQUFJLEVBQVMsT0FBUSxHQUFLLEVBQUcsQ0FDbEQsSUFBSSxFQUFNLEVBQVMsR0FBSSxFQUFNLEVBQVMsRUFBSSxHQUMxQyxHQUFJLEdBQU8sRUFBRyxDQUNWLEVBQVMsR0FBSyxFQUNkLEVBQVMsRUFBSSxHQUFLLEVBQ2xCLElBQUksRUFBUSxHQUFLLEVBQ2pCLE1BQU8sRUFBUyxPQUFTLEVBQ3JCLEVBQVMsS0FBSyxFQUFLLEtBQUssRUFDNUIsRUFBUyxLQUFLLEVBQU0sRUFBSSxNQUFNLEVBQUssRUFBTSxDQUFHLEVBQUksRUFBSyxLQUFLLEVBRTlELEdBQU8sRUFFWCxPQUFPLElBQUksRUFBVSxFQUFVLENBQVEsRUFRM0MsT0FBTyxDQUFDLEVBQU8sQ0FBRSxPQUFPLEtBQUssTUFBUSxFQUFRLEVBQU0sTUFBUSxLQUFPLEdBQVksS0FBTSxFQUFPLEVBQUksRUFjL0YsR0FBRyxDQUFDLEVBQU8sRUFBUyxHQUFPLENBQUUsT0FBTyxFQUFNLE1BQVEsS0FBTyxHQUFPLEtBQU0sRUFBTyxFQUFRLEVBQUksRUFVekYsV0FBVyxDQUFDLEVBQUcsRUFBYSxHQUFPLENBQy9CLEdBQVksS0FBTSxFQUFHLENBQVUsS0FNL0IsS0FBSSxFQUFHLENBQUUsT0FBTyxHQUFXLE9BQU8sS0FBSyxRQUFRLEVBSW5ELE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFpQixDQUFDLEVBQUcsRUFBaUIsQ0FBQyxFQUFHLEVBQW1CLENBQUMsRUFDOUQsRUFBTyxJQUFJLEdBQVksSUFBSSxFQUMvQixFQUFNLFFBQVMsRUFBSSxFQUFHLEVBQU0sSUFBSyxDQUM3QixJQUFJLEVBQU8sR0FBSyxFQUFPLE9BQVMsSUFBTSxFQUFPLEtBQzdDLE1BQU8sRUFBTSxHQUFRLEdBQU8sR0FBUSxFQUFLLEtBQU8sRUFBRyxDQUMvQyxHQUFJLEVBQUssS0FDTCxRQUNKLElBQUksRUFBTSxLQUFLLElBQUksRUFBSyxJQUFLLEVBQU8sQ0FBRyxFQUN2QyxHQUFXLEVBQWtCLEVBQUssRUFBRSxFQUNwQyxJQUFJLEVBQU0sRUFBSyxLQUFPLEdBQUssR0FBSyxFQUFLLEtBQU8sRUFBSSxFQUFLLElBQU0sRUFFM0QsR0FEQSxHQUFXLEVBQWdCLEVBQUssQ0FBRyxFQUMvQixFQUFNLEVBQ04sR0FBVSxFQUFnQixFQUFnQixFQUFLLElBQUksRUFDdkQsRUFBSyxRQUFRLENBQUcsRUFDaEIsR0FBTyxFQUVYLElBQUksRUFBTSxFQUFPLEtBQ2pCLE1BQU8sRUFBTSxFQUFLLENBQ2QsR0FBSSxFQUFLLEtBQ0wsUUFDSixJQUFJLEVBQU0sS0FBSyxJQUFJLEVBQUssSUFBSyxFQUFNLENBQUcsRUFDdEMsR0FBVyxFQUFnQixFQUFLLEVBQUUsRUFDbEMsR0FBVyxFQUFrQixFQUFLLEVBQUssS0FBTyxHQUFLLEdBQUssRUFBSyxLQUFPLEVBQUksRUFBSyxJQUFNLENBQUMsRUFDcEYsRUFBSyxRQUFRLENBQUcsRUFDaEIsR0FBTyxHQUdmLE1BQU8sQ0FBRSxRQUFTLElBQUksRUFBVSxFQUFnQixDQUFjLEVBQzFELFNBQVUsR0FBVyxPQUFPLENBQWdCLENBQUUsRUFLdEQsTUFBTSxFQUFHLENBQ0wsSUFBSSxFQUFRLENBQUMsRUFDYixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssU0FBUyxPQUFRLEdBQUssRUFBRyxDQUM5QyxJQUFJLEVBQU0sS0FBSyxTQUFTLEdBQUksRUFBTSxLQUFLLFNBQVMsRUFBSSxHQUNwRCxHQUFJLEVBQU0sRUFDTixFQUFNLEtBQUssQ0FBRyxVQUNULEdBQU8sRUFDWixFQUFNLEtBQUssQ0FBQyxDQUFHLENBQUMsTUFFaEIsR0FBTSxLQUFLLENBQUMsQ0FBRyxFQUFFLE9BQU8sS0FBSyxTQUFTLEdBQUssR0FBRyxPQUFPLENBQUMsQ0FBQyxFQUUvRCxPQUFPLFFBTUosR0FBRSxDQUFDLEVBQVMsRUFBUSxFQUFTLENBQ2hDLElBQUksRUFBVyxDQUFDLEVBQUcsRUFBVyxDQUFDLEVBQUcsRUFBTSxFQUNwQyxFQUFRLEtBQ1osU0FBUyxDQUFLLENBQUMsRUFBUSxHQUFPLENBQzFCLElBQUssSUFBVSxFQUFTLE9BQ3BCLE9BQ0osR0FBSSxFQUFNLEVBQ04sR0FBVyxFQUFVLEVBQVMsRUFBSyxFQUFFLEVBQ3pDLElBQUksRUFBTSxJQUFJLEVBQVUsRUFBVSxDQUFRLEVBQzFDLEVBQVEsRUFBUSxFQUFNLFFBQVEsRUFBSSxJQUFJLENBQUssQ0FBQyxFQUFJLEVBQ2hELEVBQVcsQ0FBQyxFQUNaLEVBQVcsQ0FBQyxFQUNaLEVBQU0sRUFFVixTQUFTLENBQU8sQ0FBQyxFQUFNLENBQ25CLEdBQUksTUFBTSxRQUFRLENBQUksRUFDbEIsUUFBUyxLQUFPLEVBQ1osRUFBUSxDQUFHLFVBRVYsYUFBZ0IsRUFBVyxDQUNoQyxHQUFJLEVBQUssUUFBVSxFQUNmLE1BQU0sSUFBSSxXQUFXLHFDQUFxQyxFQUFLLG9CQUFvQixJQUFTLEVBQ2hHLEVBQU0sRUFDTixFQUFRLEVBQVEsRUFBTSxRQUFRLEVBQUssSUFBSSxDQUFLLENBQUMsRUFBSSxNQUVoRCxDQUNELElBQU0sT0FBTSxLQUFLLEVBQU0sVUFBVyxFQUNsQyxHQUFJLEVBQU8sR0FBTSxFQUFPLEdBQUssRUFBSyxFQUM5QixNQUFNLElBQUksV0FBVyx3QkFBd0IsUUFBVyx1QkFBd0IsSUFBUyxFQUM3RixJQUFJLEdBQVcsRUFBUyxFQUFLLGFBQWUsR0FBVSxTQUFXLEVBQUssR0FBRyxFQUFPLE1BQU0sR0FBVyxFQUFZLENBQUMsRUFBSSxFQUM5RyxFQUFTLEVBQVEsT0FDckIsR0FBSSxHQUFRLEdBQU0sR0FBVSxFQUN4QixPQUNKLEdBQUksRUFBTyxFQUNQLEVBQU0sRUFDVixHQUFJLEVBQU8sRUFDUCxHQUFXLEVBQVUsRUFBTyxFQUFLLEVBQUUsRUFDdkMsR0FBVyxFQUFVLEVBQUssRUFBTSxDQUFNLEVBQ3RDLEdBQVUsRUFBVSxFQUFVLENBQU8sRUFDckMsRUFBTSxHQUtkLE9BRkEsRUFBUSxDQUFPLEVBQ2YsR0FBTyxDQUFLLEVBQ0wsUUFLSixNQUFLLENBQUMsRUFBUSxDQUNqQixPQUFPLElBQUksRUFBVSxFQUFTLENBQUMsRUFBUSxFQUFFLEVBQUksQ0FBQyxFQUFHLENBQUMsQ0FBQyxRQU1oRCxTQUFRLENBQUMsRUFBTSxDQUNsQixJQUFLLE1BQU0sUUFBUSxDQUFJLEVBQ25CLE1BQU0sSUFBSSxXQUFXLDBDQUEwQyxFQUNuRSxJQUFJLEVBQVcsQ0FBQyxFQUFHLEVBQVcsQ0FBQyxFQUMvQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUFLLENBQ2xDLElBQUksRUFBTyxFQUFLLEdBQ2hCLFVBQVcsR0FBUSxTQUNmLEVBQVMsS0FBSyxFQUFNLEVBQUUsV0FFaEIsTUFBTSxRQUFRLENBQUksVUFBWSxFQUFLLElBQU0sVUFBWSxFQUFLLEtBQUssQ0FBQyxFQUFHLElBQU0sVUFBWSxHQUFLLFFBQVEsRUFDeEcsTUFBTSxJQUFJLFdBQVcsMENBQTBDLFVBRTFELEVBQUssUUFBVSxFQUNwQixFQUFTLEtBQUssRUFBSyxHQUFJLENBQUMsTUFFdkIsQ0FDRCxNQUFPLEVBQVMsT0FBUyxFQUNyQixFQUFTLEtBQUssRUFBSyxLQUFLLEVBQzVCLEVBQVMsR0FBSyxFQUFLLEdBQUcsRUFBSyxNQUFNLENBQUMsQ0FBQyxFQUNuQyxFQUFTLEtBQUssRUFBSyxHQUFJLEVBQVMsR0FBRyxNQUFNLEdBR2pELE9BQU8sSUFBSSxFQUFVLEVBQVUsQ0FBUSxRQUtwQyxVQUFTLENBQUMsRUFBVSxFQUFVLENBQ2pDLE9BQU8sSUFBSSxFQUFVLEVBQVUsQ0FBUSxFQUUvQyxDQXlLQSxNQUFNLEVBQVksQ0FDZCxXQUFXLENBQUMsRUFBSyxDQUNiLEtBQUssSUFBTSxFQUNYLEtBQUssRUFBSSxFQUNULEtBQUssS0FBSyxFQUVkLElBQUksRUFBRyxDQUNILElBQU0sWUFBYSxLQUFLLElBQ3hCLEdBQUksS0FBSyxFQUFJLEVBQVMsT0FDbEIsS0FBSyxJQUFNLEVBQVMsS0FBSyxLQUN6QixLQUFLLElBQU0sRUFBUyxLQUFLLFNBR3pCLE1BQUssSUFBTSxFQUNYLEtBQUssSUFBTSxHQUVmLEtBQUssSUFBTSxLQUVYLEtBQUksRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFPLE1BQzVCLEtBQUksRUFBRyxDQUFFLE9BQU8sS0FBSyxJQUFNLEVBQUksS0FBSyxJQUFNLEtBQUssT0FDL0MsS0FBSSxFQUFHLENBQ1AsSUFBTSxZQUFhLEtBQUssSUFBSyxFQUFTLEtBQUssRUFBSSxHQUFNLEVBQ3JELE9BQU8sR0FBUyxFQUFTLE9BQVMsRUFBSyxNQUFRLEVBQVMsR0FFNUQsT0FBTyxDQUFDLEVBQUssQ0FDVCxJQUFNLFlBQWEsS0FBSyxJQUFLLEVBQVMsS0FBSyxFQUFJLEdBQU0sRUFDckQsT0FBTyxHQUFTLEVBQVMsU0FBVyxFQUFNLEVBQUssTUFDekMsRUFBUyxHQUFPLE1BQU0sS0FBSyxJQUFLLEdBQU8sS0FBTyxPQUFZLEtBQUssSUFBTSxDQUFHLEVBRWxGLE9BQU8sQ0FBQyxFQUFLLENBQ1QsR0FBSSxHQUFPLEtBQUssSUFDWixLQUFLLEtBQUssTUFFVixNQUFLLEtBQU8sRUFDWixLQUFLLEtBQU8sRUFHcEIsUUFBUSxDQUFDLEVBQUssQ0FDVixHQUFJLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBUSxDQUFHLFVBQ1gsR0FBTyxLQUFLLElBQ2pCLEtBQUssS0FBSyxNQUVWLE1BQUssS0FBTyxFQUNaLEtBQUssS0FBTyxFQUd4QixDQVFBLE1BQU0sRUFBZSxDQUNqQixXQUFXLENBSVgsRUFJQSxFQUFJLEVBQU8sQ0FDUCxLQUFLLEtBQU8sRUFDWixLQUFLLEdBQUssRUFDVixLQUFLLE1BQVEsS0FNYixPQUFNLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxHQUE4QixLQUFLLEdBQUssS0FBSyxRQUs1RSxLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxHQUE4QixLQUFLLEtBQU8sS0FBSyxNQUk1RSxNQUFLLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxLQUFLLE1BT25DLE1BQUssRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFRLEVBQWdDLEdBQUssS0FBSyxNQUFRLEdBQWdDLEVBQUksS0FLcEgsVUFBUyxFQUFHLENBQ1osSUFBSSxFQUFRLEtBQUssTUFBUSxFQUN6QixPQUFPLEdBQVMsRUFBSSxLQUFPLEtBUTNCLFdBQVUsRUFBRyxDQUNiLElBQUksRUFBUSxLQUFLLE9BQVMsRUFDMUIsT0FBTyxHQUFTLFNBQXdDLE9BQVksRUFNeEUsR0FBRyxDQUFDLEVBQVEsRUFBUSxHQUFJLENBQ3BCLElBQUksRUFBTSxFQUNWLEdBQUksS0FBSyxNQUNMLEVBQU8sRUFBSyxFQUFPLE9BQU8sS0FBSyxLQUFNLENBQUssTUFHMUMsR0FBTyxFQUFPLE9BQU8sS0FBSyxLQUFNLENBQUMsRUFDakMsRUFBSyxFQUFPLE9BQU8sS0FBSyxHQUFJLEVBQUUsRUFFbEMsT0FBTyxHQUFRLEtBQUssTUFBUSxHQUFNLEtBQUssR0FBSyxLQUFPLElBQUksR0FBZSxFQUFNLEVBQUksS0FBSyxLQUFLLEVBSzlGLE1BQU0sQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUNwQixHQUFJLEdBQVEsS0FBSyxRQUFVLEdBQU0sS0FBSyxPQUNsQyxPQUFPLEVBQWdCLE1BQU0sRUFBTSxDQUFFLEVBQ3pDLElBQUksRUFBTyxLQUFLLElBQUksRUFBTyxLQUFLLE1BQU0sRUFBSSxLQUFLLElBQUksRUFBSyxLQUFLLE1BQU0sRUFBSSxFQUFPLEVBQzlFLE9BQU8sRUFBZ0IsTUFBTSxLQUFLLE9BQVEsQ0FBSSxFQUtsRCxFQUFFLENBQUMsRUFBTyxFQUFlLEdBQU8sQ0FDNUIsT0FBTyxLQUFLLFFBQVUsRUFBTSxRQUFVLEtBQUssTUFBUSxFQUFNLFFBQ25ELElBQWlCLEtBQUssT0FBUyxLQUFLLE9BQVMsRUFBTSxPQUs3RCxNQUFNLEVBQUcsQ0FBRSxNQUFPLENBQUUsT0FBUSxLQUFLLE9BQVEsS0FBTSxLQUFLLElBQUssUUFLbEQsU0FBUSxDQUFDLEVBQU0sQ0FDbEIsSUFBSyxVQUFlLEVBQUssUUFBVSxpQkFBbUIsRUFBSyxNQUFRLFNBQy9ELE1BQU0sSUFBSSxXQUFXLGdEQUFnRCxFQUN6RSxPQUFPLEVBQWdCLE1BQU0sRUFBSyxPQUFRLEVBQUssSUFBSSxRQUtoRCxPQUFNLENBQUMsRUFBTSxFQUFJLEVBQU8sQ0FDM0IsT0FBTyxJQUFJLEdBQWUsRUFBTSxFQUFJLENBQUssRUFFakQsQ0FJQSxNQUFNLENBQWdCLENBQ2xCLFdBQVcsQ0FLWCxFQUtBLEVBQVcsQ0FDUCxLQUFLLE9BQVMsRUFDZCxLQUFLLFVBQVksRUFNckIsR0FBRyxDQUFDLEVBQVEsRUFBUSxHQUFJLENBQ3BCLEdBQUksRUFBTyxNQUNQLE9BQU8sS0FDWCxPQUFPLEVBQWdCLE9BQU8sS0FBSyxPQUFPLElBQUksS0FBSyxFQUFFLElBQUksRUFBUSxDQUFLLENBQUMsRUFBRyxLQUFLLFNBQVMsRUFRNUYsRUFBRSxDQUFDLEVBQU8sRUFBZSxHQUFPLENBQzVCLEdBQUksS0FBSyxPQUFPLFFBQVUsRUFBTSxPQUFPLFFBQ25DLEtBQUssV0FBYSxFQUFNLFVBQ3hCLE1BQU8sR0FDWCxRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssT0FBTyxPQUFRLElBQ3BDLElBQUssS0FBSyxPQUFPLEdBQUcsR0FBRyxFQUFNLE9BQU8sR0FBSSxDQUFZLEVBQ2hELE1BQU8sR0FDZixNQUFPLE1BT1AsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLE9BQU8sS0FBSyxXQUtyQyxRQUFRLEVBQUcsQ0FDUCxPQUFPLEtBQUssT0FBTyxRQUFVLEVBQUksS0FBTyxJQUFJLEVBQWdCLENBQUMsS0FBSyxJQUFJLEVBQUcsQ0FBQyxFQUs5RSxRQUFRLENBQUMsRUFBTyxFQUFPLEdBQU0sQ0FDekIsT0FBTyxFQUFnQixPQUFPLENBQUMsQ0FBSyxFQUFFLE9BQU8sS0FBSyxNQUFNLEVBQUcsRUFBTyxFQUFJLEtBQUssVUFBWSxDQUFDLEVBTTVGLFlBQVksQ0FBQyxFQUFPLEVBQVEsS0FBSyxVQUFXLENBQ3hDLElBQUksRUFBUyxLQUFLLE9BQU8sTUFBTSxFQUUvQixPQURBLEVBQU8sR0FBUyxFQUNULEVBQWdCLE9BQU8sRUFBUSxLQUFLLFNBQVMsRUFNeEQsTUFBTSxFQUFHLENBQ0wsTUFBTyxDQUFFLE9BQVEsS0FBSyxPQUFPLElBQUksS0FBSyxFQUFFLE9BQU8sQ0FBQyxFQUFHLEtBQU0sS0FBSyxTQUFVLFFBS3JFLFNBQVEsQ0FBQyxFQUFNLENBQ2xCLElBQUssSUFBUyxNQUFNLFFBQVEsRUFBSyxNQUFNLFVBQVksRUFBSyxNQUFRLFVBQVksRUFBSyxNQUFRLEVBQUssT0FBTyxPQUNqRyxNQUFNLElBQUksV0FBVyxpREFBaUQsRUFDMUUsT0FBTyxJQUFJLEVBQWdCLEVBQUssT0FBTyxJQUFJLENBQUMsSUFBTSxHQUFlLFNBQVMsQ0FBQyxDQUFDLEVBQUcsRUFBSyxJQUFJLFFBS3JGLE9BQU0sQ0FBQyxFQUFRLEVBQU8sRUFBUSxDQUNqQyxPQUFPLElBQUksRUFBZ0IsQ0FBQyxFQUFnQixNQUFNLEVBQVEsQ0FBSSxDQUFDLEVBQUcsQ0FBQyxRQU1oRSxPQUFNLENBQUMsRUFBUSxFQUFZLEVBQUcsQ0FDakMsR0FBSSxFQUFPLFFBQVUsRUFDakIsTUFBTSxJQUFJLFdBQVcsc0NBQXNDLEVBQy9ELFFBQVMsRUFBTSxFQUFHLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUFLLENBQzdDLElBQUksRUFBUSxFQUFPLEdBQ25CLEdBQUksRUFBTSxNQUFRLEVBQU0sTUFBUSxFQUFNLEVBQU0sS0FBTyxFQUMvQyxPQUFPLEVBQWdCLFdBQVcsRUFBTyxNQUFNLEVBQUcsQ0FBUyxFQUMvRCxFQUFNLEVBQU0sR0FFaEIsT0FBTyxJQUFJLEVBQWdCLEVBQVEsQ0FBUyxRQU16QyxPQUFNLENBQUMsRUFBSyxFQUFRLEVBQUcsRUFBVyxFQUFZLENBQ2pELE9BQU8sR0FBZSxPQUFPLEVBQUssR0FBTSxHQUFTLEVBQUksRUFBSSxFQUFRLEVBQUksRUFBZ0MsS0FDaEcsR0FBYSxLQUFPLEVBQUksS0FBSyxJQUFJLEVBQUcsQ0FBUyxJQUM1QyxJQUFlLE1BQVEsSUFBb0IsT0FBSSxFQUFhLFdBQTBDLENBQW1DLFFBSzVJLE1BQUssQ0FBQyxFQUFRLEVBQU0sRUFBWSxFQUFXLENBQzlDLElBQUksR0FBVSxJQUFlLE1BQVEsSUFBb0IsT0FBSSxFQUFhLFdBQTBDLEdBQy9HLEdBQWEsS0FBTyxFQUFJLEtBQUssSUFBSSxFQUFHLENBQVMsR0FDbEQsT0FBTyxFQUFPLEVBQVMsR0FBZSxPQUFPLEVBQU0sRUFBUSxHQUE4RCxDQUFLLEVBQ3hILEdBQWUsT0FBTyxFQUFRLEdBQU8sRUFBTyxFQUFTLEVBQWdDLEdBQUssQ0FBSyxRQUtsRyxXQUFVLENBQUMsRUFBUSxFQUFZLEVBQUcsQ0FDckMsSUFBSSxFQUFPLEVBQU8sR0FDbEIsRUFBTyxLQUFLLENBQUMsRUFBRyxJQUFNLEVBQUUsS0FBTyxFQUFFLElBQUksRUFDckMsRUFBWSxFQUFPLFFBQVEsQ0FBSSxFQUMvQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUFLLENBQ3BDLElBQUksRUFBUSxFQUFPLEdBQUksRUFBTyxFQUFPLEVBQUksR0FDekMsR0FBSSxFQUFNLE1BQVEsRUFBTSxNQUFRLEVBQUssR0FBSyxFQUFNLEtBQU8sRUFBSyxHQUFJLENBQzVELElBQUksRUFBTyxFQUFLLEtBQU0sRUFBSyxLQUFLLElBQUksRUFBTSxHQUFJLEVBQUssRUFBRSxFQUNyRCxHQUFJLEdBQUssRUFDTCxJQUNKLEVBQU8sU0FBUyxFQUFHLEVBQUcsRUFBTSxPQUFTLEVBQU0sS0FBTyxFQUFnQixNQUFNLEVBQUksQ0FBSSxFQUFJLEVBQWdCLE1BQU0sRUFBTSxDQUFFLENBQUMsR0FHM0gsT0FBTyxJQUFJLEVBQWdCLEVBQVEsQ0FBUyxFQUVwRCxDQU9BLElBQUksR0FBUyxFQWNiLE1BQU0sQ0FBTSxDQUNSLFdBQVcsQ0FJWCxFQUlBLEVBSUEsRUFBUyxFQUFVLEVBQVMsQ0FDeEIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxhQUFlLEVBQ3BCLEtBQUssUUFBVSxFQUNmLEtBQUssU0FBVyxFQUloQixLQUFLLEdBQUssS0FDVixLQUFLLFFBQVUsRUFBUSxDQUFDLENBQUMsRUFDekIsS0FBSyxrQkFBb0IsR0FBVyxXQUFhLEVBQVEsSUFBSSxFQUFJLEtBTWpFLE9BQU0sRUFBRyxDQUFFLE9BQU8sV0FJZixPQUFNLENBQUMsRUFBUyxDQUFDLEVBQUcsQ0FDdkIsT0FBTyxJQUFJLEVBQU0sRUFBTyxVQUFZLENBQUMsSUFBTSxHQUFJLEVBQU8sZUFBaUIsQ0FBQyxFQUFHLElBQU0sSUFBTSxHQUFJLEVBQU8sV0FBYSxFQUFPLFFBQVUsR0FBWSxDQUFDLEVBQUcsSUFBTSxJQUFNLEtBQU0sRUFBTyxPQUFRLEVBQU8sT0FBTyxFQUtuTSxFQUFFLENBQUMsRUFBTyxDQUNOLE9BQU8sSUFBSSxHQUFjLENBQUMsRUFBRyxLQUFNLEVBQXlCLENBQUssRUFXckUsT0FBTyxDQUFDLEVBQU0sRUFBSyxDQUNmLEdBQUksS0FBSyxTQUNMLE1BQU0sSUFBSSxNQUFNLDhCQUE4QixFQUNsRCxPQUFPLElBQUksR0FBYyxFQUFNLEtBQU0sRUFBeUIsQ0FBRyxFQU1yRSxRQUFRLENBQUMsRUFBTSxFQUFLLENBQ2hCLEdBQUksS0FBSyxTQUNMLE1BQU0sSUFBSSxNQUFNLDhCQUE4QixFQUNsRCxPQUFPLElBQUksR0FBYyxFQUFNLEtBQU0sRUFBd0IsQ0FBRyxFQUVwRSxJQUFJLENBQUMsRUFBTyxFQUFLLENBQ2IsSUFBSyxFQUNELEVBQU0sS0FBSyxFQUNmLE9BQU8sS0FBSyxRQUFRLENBQUMsQ0FBSyxFQUFHLEtBQVMsRUFBSSxFQUFNLE1BQU0sQ0FBSyxDQUFDLENBQUMsRUFFckUsQ0FJQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUFDLEVBQWMsRUFBTyxFQUFNLEVBQU8sQ0FDMUMsS0FBSyxhQUFlLEVBQ3BCLEtBQUssTUFBUSxFQUNiLEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxFQUNiLEtBQUssR0FBSyxLQUVkLFdBQVcsQ0FBQyxFQUFXLENBQ25CLElBQUksRUFDSixJQUFJLEVBQVMsS0FBSyxNQUNkLEVBQVUsS0FBSyxNQUFNLGFBQ3JCLEVBQUssS0FBSyxHQUFJLEVBQU0sRUFBVSxJQUFPLEVBQUcsRUFBUSxLQUFLLE1BQVEsRUFDN0QsRUFBUyxHQUFPLEVBQVMsR0FBTyxFQUFXLENBQUMsRUFDaEQsUUFBUyxLQUFPLEtBQUssYUFDakIsR0FBSSxHQUFPLE1BQ1AsRUFBUyxXQUNKLEdBQU8sWUFDWixFQUFTLGNBQ0QsRUFBSyxFQUFVLEVBQUksT0FBUyxNQUFRLElBQVksT0FBSSxFQUFLLEdBQUssSUFBTSxFQUM1RSxFQUFTLEtBQUssRUFBVSxFQUFJLEdBQUcsRUFFdkMsTUFBTyxDQUNILE1BQU0sQ0FBQyxFQUFPLENBRVYsT0FEQSxFQUFNLE9BQU8sR0FBTyxFQUFPLENBQUssRUFDekIsR0FFWCxNQUFNLENBQUMsRUFBTyxFQUFJLENBQ2QsR0FBSyxHQUFVLEVBQUcsWUFBZ0IsSUFBVyxFQUFHLFlBQWMsRUFBRyxZQUFlLEdBQVUsRUFBTyxDQUFRLEVBQUcsQ0FDeEcsSUFBSSxFQUFTLEVBQU8sQ0FBSyxFQUN6QixHQUFJLEdBQVMsR0FBYSxFQUFRLEVBQU0sT0FBTyxHQUFNLENBQU8sR0FBSyxFQUFRLEVBQVEsRUFBTSxPQUFPLEVBQUksRUFFOUYsT0FEQSxFQUFNLE9BQU8sR0FBTyxFQUNiLEVBR2YsTUFBTyxJQUVYLFlBQWEsQ0FBQyxFQUFPLElBQWEsQ0FDOUIsSUFBSSxFQUFRLEVBQVUsRUFBUyxPQUFPLFFBQVEsR0FDOUMsR0FBSSxHQUFXLEtBQU0sQ0FDakIsSUFBSSxFQUFTLEdBQVEsRUFBVSxDQUFPLEVBQ3RDLEdBQUksS0FBSyxhQUFhLE1BQU0sS0FBTyxDQUMvQixPQUFPLGFBQWUsRUFBUSxFQUFTLE1BQU0sQ0FBRyxJQUFNLEVBQU0sTUFBTSxDQUFHLEVBQ2pFLGFBQWUsR0FBYSxFQUFTLE1BQU0sRUFBSyxFQUFLLEdBQUssRUFBTSxNQUFNLEVBQUssRUFBSyxFQUFJLEdBQzNGLElBQU0sRUFBUSxHQUFhLEVBQVMsRUFBTyxDQUFLLEVBQUcsRUFBUSxDQUFPLEVBQUksRUFBUSxFQUFTLEVBQU8sQ0FBSyxFQUFHLENBQU0sR0FFekcsT0FEQSxFQUFNLE9BQU8sR0FBTyxFQUNiLE1BSVgsR0FBUyxFQUFPLENBQUssRUFHekIsT0FEQSxFQUFNLE9BQU8sR0FBTyxFQUNiLEVBRWYsRUFFUixDQWtFQSxJQUFNLEdBQXlCLEVBQU0sT0FBTyxDQUFFLE9BQVEsRUFBSyxDQUFDLEVBSzVELE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FJWCxFQUFJLEVBQVMsRUFBUyxFQUl0QixFQUFNLENBQ0YsS0FBSyxHQUFLLEVBQ1YsS0FBSyxRQUFVLEVBQ2YsS0FBSyxRQUFVLEVBQ2YsS0FBSyxTQUFXLEVBQ2hCLEtBQUssS0FBTyxFQUlaLEtBQUssU0FBVyxhQUtiLE9BQU0sQ0FBQyxFQUFRLENBQ2xCLElBQUksRUFBUSxJQUFJLEdBQVcsS0FBVSxFQUFPLE9BQVEsRUFBTyxPQUFRLEVBQU8sVUFBWSxDQUFDLEVBQUcsSUFBTSxJQUFNLEdBQUksQ0FBTSxFQUNoSCxHQUFJLEVBQU8sUUFDUCxFQUFNLFNBQVcsRUFBTyxRQUFRLENBQUssRUFDekMsT0FBTyxFQUVYLE1BQU0sQ0FBQyxFQUFPLENBQ1YsSUFBSSxFQUFPLEVBQU0sTUFBTSxFQUFTLEVBQUUsS0FBSyxLQUFLLEVBQUUsT0FBUyxJQUFJLEVBQzNELFFBQVMsSUFBUyxNQUFRLElBQWMsT0FBUyxPQUFJLEVBQUssU0FBVyxLQUFLLFNBQVMsQ0FBSyxFQUs1RixJQUFJLENBQUMsRUFBVyxDQUNaLElBQUksRUFBTSxFQUFVLEtBQUssS0FBTyxFQUNoQyxNQUFPLENBQ0gsT0FBUSxDQUFDLElBQVUsQ0FFZixPQURBLEVBQU0sT0FBTyxHQUFPLEtBQUssT0FBTyxDQUFLLEVBQzlCLEdBRVgsT0FBUSxDQUFDLEVBQU8sSUFBTyxDQUNuQixJQUFJLEVBQVMsRUFBTSxPQUFPLEdBQ3RCLEVBQVEsS0FBSyxRQUFRLEVBQVEsQ0FBRSxFQUNuQyxHQUFJLEtBQUssU0FBUyxFQUFRLENBQUssRUFDM0IsTUFBTyxHQUVYLE9BREEsRUFBTSxPQUFPLEdBQU8sRUFDYixHQUVYLFlBQWEsQ0FBQyxFQUFPLElBQWEsQ0FDOUIsR0FBSSxFQUFTLE9BQU8sUUFBUSxLQUFLLEtBQU8sS0FFcEMsT0FEQSxFQUFNLE9BQU8sR0FBTyxFQUFTLE1BQU0sSUFBSSxFQUNoQyxFQUdYLE9BREEsRUFBTSxPQUFPLEdBQU8sS0FBSyxPQUFPLENBQUssRUFDOUIsRUFFZixFQU9KLElBQUksQ0FBQyxFQUFRLENBQ1QsTUFBTyxDQUFDLEtBQU0sR0FBVSxHQUFHLENBQUUsTUFBTyxLQUFNLFFBQU8sQ0FBQyxDQUFDLEtBT25ELFVBQVMsRUFBRyxDQUFFLE9BQU8sS0FDN0IsQ0FDQSxJQUFNLEdBQVEsQ0FBRSxPQUFRLEVBQUcsSUFBSyxFQUFHLFFBQVMsRUFBRyxLQUFNLEVBQUcsUUFBUyxDQUFFLEVBYzdELEdBQU8sQ0FLVCxRQUFzQixHQUFLLEdBQU0sT0FBTyxFQUt4QyxLQUFtQixHQUFLLEdBQU0sSUFBSSxFQUtsQyxRQUFzQixHQUFLLEdBQU0sT0FBTyxFQUl4QyxJQUFrQixHQUFLLEdBQU0sR0FBRyxFQUtoQyxPQUFxQixHQUFLLEdBQU0sTUFBTSxDQUMxQyxFQUNBLE1BQU0sRUFBYyxDQUNoQixXQUFXLENBQUMsRUFBTyxFQUFNLENBQ3JCLEtBQUssTUFBUSxFQUNiLEtBQUssS0FBTyxFQUVwQixDQVFBLE1BQU0sRUFBWSxDQUtkLEVBQUUsQ0FBQyxFQUFLLENBQUUsT0FBTyxJQUFJLEdBQW9CLEtBQU0sQ0FBRyxFQUtsRCxXQUFXLENBQUMsRUFBUyxDQUNqQixPQUFPLEdBQVksWUFBWSxHQUFHLENBQUUsWUFBYSxLQUFNLFVBQVcsQ0FBUSxDQUFDLEVBTS9FLEdBQUcsQ0FBQyxFQUFPLENBQ1AsT0FBTyxFQUFNLE9BQU8sYUFBYSxJQUFJLElBQUksRUFFakQsQ0FDQSxNQUFNLEVBQW9CLENBQ3RCLFdBQVcsQ0FBQyxFQUFhLEVBQU8sQ0FDNUIsS0FBSyxZQUFjLEVBQ25CLEtBQUssTUFBUSxFQUVyQixDQUNBLE1BQU0sRUFBYyxDQUNoQixXQUFXLENBQUMsRUFBTSxFQUFjLEVBQWMsRUFBUyxFQUFjLEVBQVEsQ0FDekUsS0FBSyxLQUFPLEVBQ1osS0FBSyxhQUFlLEVBQ3BCLEtBQUssYUFBZSxFQUNwQixLQUFLLFFBQVUsRUFDZixLQUFLLGFBQWUsRUFDcEIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxlQUFpQixDQUFDLEVBQ3ZCLE1BQU8sS0FBSyxlQUFlLE9BQVMsRUFBYSxPQUM3QyxLQUFLLGVBQWUsS0FBSyxDQUE2QixFQUU5RCxXQUFXLENBQUMsRUFBTyxDQUNmLElBQUksRUFBTyxLQUFLLFFBQVEsRUFBTSxJQUM5QixPQUFPLEdBQVEsS0FBTyxFQUFNLFFBQVUsS0FBSyxhQUFhLEdBQVEsU0FFN0QsUUFBTyxDQUFDLEVBQU0sRUFBYyxFQUFVLENBQ3pDLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBUyxPQUFPLE9BQU8sSUFBSSxFQUMzQixFQUFrQixJQUFJLElBQzFCLFFBQVMsS0FBTyxHQUFRLEVBQU0sRUFBYyxDQUFlLEVBQ3ZELEdBQUksYUFBZSxHQUNmLEVBQU8sS0FBSyxDQUFHLE1BRWYsQ0FBQyxFQUFPLEVBQUksTUFBTSxNQUFRLEVBQU8sRUFBSSxNQUFNLElBQU0sQ0FBQyxJQUFJLEtBQUssQ0FBRyxFQUV0RSxJQUFJLEVBQVUsT0FBTyxPQUFPLElBQUksRUFDNUIsRUFBZSxDQUFDLEVBQ2hCLEVBQWUsQ0FBQyxFQUNwQixRQUFTLEtBQVMsRUFDZCxFQUFRLEVBQU0sSUFBTSxFQUFhLFFBQVUsRUFDM0MsRUFBYSxLQUFLLEtBQUssRUFBTSxLQUFLLENBQUMsQ0FBQyxFQUV4QyxJQUFJLEVBQVksSUFBYSxNQUFRLElBQWtCLE9BQVMsT0FBSSxFQUFTLE9BQU8sT0FDcEYsUUFBUyxLQUFNLEVBQVEsQ0FDbkIsSUFBSSxFQUFZLEVBQU8sR0FBSyxFQUFRLEVBQVUsR0FBRyxNQUM3QyxFQUFlLEdBQWEsRUFBVSxJQUFPLENBQUMsRUFDbEQsR0FBSSxFQUFVLE1BQU0sS0FBSyxFQUFFLE1BQVEsQ0FBdUIsRUFFdEQsR0FEQSxFQUFRLEVBQU0sSUFBTyxFQUFhLFFBQVUsRUFBSyxFQUM3QyxHQUFVLEVBQWMsQ0FBUyxFQUNqQyxFQUFhLEtBQUssRUFBUyxNQUFNLENBQUssQ0FBQyxNQUV0QyxDQUNELElBQUksRUFBUSxFQUFNLFFBQVEsRUFBVSxJQUFJLEtBQUssRUFBRSxLQUFLLENBQUMsRUFDckQsRUFBYSxLQUFLLEdBQVksRUFBTSxRQUFRLEVBQU8sRUFBUyxNQUFNLENBQUssQ0FBQyxFQUFJLEVBQVMsTUFBTSxDQUFLLEVBQUksQ0FBSyxNQUc1RyxDQUNELFFBQVMsS0FBSyxFQUNWLEdBQUksRUFBRSxNQUFRLEVBQ1YsRUFBUSxFQUFFLElBQU8sRUFBYSxRQUFVLEVBQUssRUFDN0MsRUFBYSxLQUFLLEVBQUUsS0FBSyxNQUd6QixHQUFRLEVBQUUsSUFBTSxFQUFhLFFBQVUsRUFDdkMsRUFBYSxLQUFLLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQyxFQUcvQyxFQUFRLEVBQU0sSUFBTSxFQUFhLFFBQVUsRUFDM0MsRUFBYSxLQUFLLEtBQUssR0FBaUIsRUFBRyxFQUFPLENBQVMsQ0FBQyxHQUdwRSxJQUFJLEVBQVUsRUFBYSxJQUFJLEtBQUssRUFBRSxDQUFPLENBQUMsRUFDOUMsT0FBTyxJQUFJLEdBQWMsRUFBTSxFQUFpQixFQUFTLEVBQVMsRUFBYyxDQUFNLEVBRTlGLENBbUVBLElBQU0sR0FBNEIsRUFBTSxPQUFPLEVBQ3pDLEdBQXVDLEVBQU0sT0FBTyxDQUN0RCxRQUFTLEtBQVUsRUFBTyxLQUFLLEtBQUssQ0FBQyxFQUNyQyxPQUFRLEVBQ1osQ0FBQyxFQUNLLEdBQTZCLEVBQU0sT0FBTyxDQUM1QyxRQUFTLEtBQVUsRUFBTyxPQUFTLEVBQU8sR0FBSyxPQUMvQyxPQUFRLEVBQ1osQ0FBQyxFQUNLLEdBQTRCLEVBQU0sT0FBTyxFQUN6QyxHQUFpQyxFQUFNLE9BQU8sRUFDOUMsR0FBbUMsRUFBTSxPQUFPLEVBQ2hELEdBQXdCLEVBQU0sT0FBTyxDQUN2QyxRQUFTLEtBQVUsRUFBTyxPQUFTLEVBQU8sR0FBSyxFQUNuRCxDQUFDLEVBV0QsTUFBTSxFQUFXLENBSWIsV0FBVyxDQUlYLEVBSUEsRUFBTyxDQUNILEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxRQUtWLE9BQU0sRUFBRyxDQUFFLE9BQU8sSUFBSSxHQUNqQyxDQUlBLE1BQU0sRUFBZSxDQUlqQixFQUFFLENBQUMsRUFBTyxDQUFFLE9BQU8sSUFBSSxHQUFXLEtBQU0sQ0FBSyxFQUNqRCxDQUtBLE1BQU0sRUFBZ0IsQ0FJbEIsV0FBVyxDQVFYLEVBQUssQ0FDRCxLQUFLLElBQU0sRUFNZixFQUFFLENBQUMsRUFBTyxDQUFFLE9BQU8sSUFBSSxFQUFZLEtBQU0sQ0FBSyxFQUNsRCxDQVFBLE1BQU0sQ0FBWSxDQUlkLFdBQVcsQ0FJWCxFQUlBLEVBQU8sQ0FDSCxLQUFLLEtBQU8sRUFDWixLQUFLLE1BQVEsRUFNakIsR0FBRyxDQUFDLEVBQVMsQ0FDVCxJQUFJLEVBQVMsS0FBSyxLQUFLLElBQUksS0FBSyxNQUFPLENBQU8sRUFDOUMsT0FBTyxJQUFXLE9BQVksT0FBWSxHQUFVLEtBQUssTUFBUSxLQUFPLElBQUksRUFBWSxLQUFLLEtBQU0sQ0FBTSxFQU03RyxFQUFFLENBQUMsRUFBTSxDQUFFLE9BQU8sS0FBSyxNQUFRLFFBUXhCLE9BQU0sQ0FBQyxFQUFPLENBQUMsRUFBRyxDQUNyQixPQUFPLElBQUksR0FBZ0IsRUFBSyxNQUFRLEtBQUssRUFBRSxRQUs1QyxXQUFVLENBQUMsRUFBUyxFQUFTLENBQ2hDLElBQUssRUFBUSxPQUNULE9BQU8sRUFDWCxJQUFJLEVBQVMsQ0FBQyxFQUNkLFFBQVMsS0FBVSxFQUFTLENBQ3hCLElBQUksRUFBUyxFQUFPLElBQUksQ0FBTyxFQUMvQixHQUFJLEVBQ0EsRUFBTyxLQUFLLENBQU0sRUFFMUIsT0FBTyxFQUVmLENBUUEsRUFBWSxZQUEyQixFQUFZLE9BQU8sRUFJMUQsRUFBWSxhQUE0QixFQUFZLE9BQU8sRUFVM0QsTUFBTSxDQUFZLENBQ2QsV0FBVyxDQUlYLEVBSUEsRUFLQSxFQUlBLEVBSUEsRUFLQSxFQUFnQixDQWVaLEdBZEEsS0FBSyxXQUFhLEVBQ2xCLEtBQUssUUFBVSxFQUNmLEtBQUssVUFBWSxFQUNqQixLQUFLLFFBQVUsRUFDZixLQUFLLFlBQWMsRUFDbkIsS0FBSyxlQUFpQixFQUl0QixLQUFLLEtBQU8sS0FJWixLQUFLLE9BQVMsS0FDVixFQUNBLEdBQWUsRUFBVyxFQUFRLFNBQVMsRUFDL0MsSUFBSyxFQUFZLEtBQUssQ0FBQyxJQUFNLEVBQUUsTUFBUSxFQUFZLElBQUksRUFDbkQsS0FBSyxZQUFjLEVBQVksT0FBTyxFQUFZLEtBQUssR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLFFBS3RFLE9BQU0sQ0FBQyxFQUFZLEVBQVMsRUFBVyxFQUFTLEVBQWEsRUFBZ0IsQ0FDaEYsT0FBTyxJQUFJLEVBQVksRUFBWSxFQUFTLEVBQVcsRUFBUyxFQUFhLENBQWMsS0FVM0YsT0FBTSxFQUFHLENBQ1QsT0FBTyxLQUFLLE9BQVMsS0FBSyxLQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssV0FBVyxHQUFHLE1BUXZFLGFBQVksRUFBRyxDQUNmLE9BQU8sS0FBSyxXQUFhLEtBQUssV0FBVyxVQUFVLElBQUksS0FBSyxPQUFPLEtBUW5FLE1BQUssRUFBRyxDQUNSLElBQUssS0FBSyxPQUNOLEtBQUssV0FBVyxpQkFBaUIsSUFBSSxFQUN6QyxPQUFPLEtBQUssT0FLaEIsVUFBVSxDQUFDLEVBQU0sQ0FDYixRQUFTLEtBQU8sS0FBSyxZQUNqQixHQUFJLEVBQUksTUFBUSxFQUNaLE9BQU8sRUFBSSxNQUNuQixVQUtBLFdBQVUsRUFBRyxDQUFFLE9BQVEsS0FBSyxRQUFRLFNBT3BDLGFBQVksRUFBRyxDQUFFLE9BQU8sS0FBSyxXQUFXLFFBQVUsS0FBSyxNQUFNLE9BUWpFLFdBQVcsQ0FBQyxFQUFPLENBQ2YsSUFBSSxFQUFJLEtBQUssV0FBVyxFQUFZLFNBQVMsRUFDN0MsU0FBVSxJQUFNLEdBQUssR0FBUyxFQUFFLE9BQVMsRUFBTSxRQUFVLEVBQUUsTUFBTSxFQUFHLEVBQU0sTUFBTSxHQUFLLEdBQVMsRUFBRSxFQUFNLFNBQVcsTUFFekgsQ0FLQSxFQUFZLEtBQW9CLEdBQVcsT0FBTyxFQTJCbEQsRUFBWSxVQUF5QixHQUFXLE9BQU8sRUFLdkQsRUFBWSxhQUE0QixHQUFXLE9BQU8sRUFPMUQsRUFBWSxPQUFzQixHQUFXLE9BQU8sRUFxSHBELElBQU0sR0FBTyxDQUFDLEVBVVYsV0FBc0MsQ0FBQyxFQUFjLENBYXpELE9BVEksRUFBYSxFQUFhLEtBQVUsR0FBSyxPQUl6QyxFQUFhLEVBQWEsTUFBVyxHQUFLLFFBSTFDLEVBQWEsRUFBYSxNQUFXLEdBQUssUUFDdkMsR0FBZSxLQUFpQixHQUFlLENBQUMsRUFBRSxFQUNuRCxHQUE2Qiw0R0FDL0IsR0FDSixHQUFJLENBQ0EsR0FBd0IsSUFBSSxPQUFPLGdDQUFpQyxHQUFHLFFBRXBFLEVBQVAsRUFpQ0EsTUFBTSxDQUFZLENBQ2QsV0FBVyxDQUlYLEVBSUEsRUFJQSxFQUlBLEVBQVEsRUFBYSxFQUFJLENBU3JCLEdBUkEsS0FBSyxPQUFTLEVBQ2QsS0FBSyxJQUFNLEVBQ1gsS0FBSyxVQUFZLEVBQ2pCLEtBQUssT0FBUyxFQUNkLEtBQUssT0FBUyxFQUFPLGVBQWUsTUFBTSxFQUMxQyxLQUFLLFlBQWMsRUFHZixFQUNBLEVBQUcsT0FBUyxLQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssT0FBTyxhQUFhLE9BQVEsSUFDakQsR0FBVyxLQUFNLEdBQUssQ0FBQyxFQUMzQixLQUFLLFlBQWMsS0FFdkIsS0FBSyxDQUFDLEVBQU8sRUFBVSxHQUFNLENBQ3pCLElBQUksRUFBTyxLQUFLLE9BQU8sUUFBUSxFQUFNLElBQ3JDLEdBQUksR0FBUSxLQUFNLENBQ2QsR0FBSSxFQUNBLE1BQU0sSUFBSSxXQUFXLG9DQUFvQyxFQUM3RCxPQUdKLE9BREEsR0FBVyxLQUFNLENBQUksRUFDZCxHQUFRLEtBQU0sQ0FBSSxFQWlCN0IsTUFBTSxJQUFJLEVBQU8sQ0FDYixPQUFPLEdBQW1CLEtBQU0sRUFBTyxFQUFJLEVBSy9DLGdCQUFnQixDQUFDLEVBQUksQ0FDakIsSUFBSSxFQUFPLEtBQUssUUFBVSxPQUFNLGdCQUFpQixFQUNqRCxRQUFTLEtBQVUsRUFBRyxRQUNsQixHQUFJLEVBQU8sR0FBRyxHQUFZLFdBQVcsRUFBRyxDQUNwQyxHQUFJLEVBQ0EsRUFBZSxJQUFJLElBQ25CLEVBQUssYUFBYSxRQUFRLENBQUMsRUFBSyxJQUFRLEVBQWEsSUFBSSxFQUFLLENBQUcsQ0FBQyxFQUNsRSxFQUFPLEtBRVgsRUFBYSxJQUFJLEVBQU8sTUFBTSxZQUFhLEVBQU8sTUFBTSxTQUFTLFVBRTVELEVBQU8sR0FBRyxFQUFZLFdBQVcsRUFDdEMsRUFBTyxLQUNQLEVBQU8sRUFBTyxjQUVULEVBQU8sR0FBRyxFQUFZLFlBQVksRUFDdkMsRUFBTyxLQUNQLEVBQU8sR0FBUSxDQUFJLEVBQUUsT0FBTyxFQUFPLEtBQUssRUFHaEQsSUFBSSxFQUNKLElBQUssRUFDRCxFQUFPLEdBQWMsUUFBUSxFQUFNLEVBQWMsSUFBSSxFQUVyRCxFQUR3QixJQUFJLEVBQVksRUFBTSxLQUFLLElBQUssS0FBSyxVQUFXLEVBQUssYUFBYSxJQUFJLElBQU0sSUFBSSxFQUFHLENBQUMsRUFBTyxJQUFTLEVBQUssWUFBWSxFQUFPLElBQUksRUFBRyxJQUFJLEVBQy9ILFdBR2hDLEdBQWMsRUFBRyxXQUFXLE9BQU8sTUFBTSxFQUU3QyxJQUFJLEVBQVksRUFBRyxXQUFXLE1BQU0sRUFBdUIsRUFBSSxFQUFHLGFBQWUsRUFBRyxhQUFhLFNBQVMsRUFDMUcsSUFBSSxFQUFZLEVBQU0sRUFBRyxPQUFRLEVBQVcsRUFBYSxDQUFDLEVBQU8sSUFBUyxFQUFLLE9BQU8sRUFBTyxDQUFFLEVBQUcsQ0FBRSxFQU14RyxnQkFBZ0IsQ0FBQyxFQUFNLENBQ25CLFVBQVcsR0FBUSxTQUNmLEVBQU8sS0FBSyxPQUFPLENBQUksRUFDM0IsT0FBTyxLQUFLLGNBQWMsTUFBVSxDQUFFLFFBQVMsQ0FBRSxLQUFNLEVBQU0sS0FBTSxHQUFJLEVBQU0sR0FBSSxPQUFRLENBQUssRUFDMUYsTUFBTyxFQUFnQixPQUFPLEVBQU0sS0FBTyxFQUFLLE1BQU0sQ0FBRSxFQUFFLEVBYWxFLGFBQWEsQ0FBQyxFQUFHLENBQ2IsSUFBSSxFQUFNLEtBQUssVUFDWCxFQUFVLEVBQUUsRUFBSSxPQUFPLEVBQUUsRUFDekIsRUFBVSxLQUFLLFFBQVEsRUFBUSxPQUFPLEVBQUcsRUFBUyxDQUFDLEVBQVEsS0FBSyxFQUNoRSxFQUFVLEdBQVEsRUFBUSxPQUFPLEVBQ3JDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxPQUFPLE9BQVEsSUFBSyxDQUN4QyxJQUFJLEVBQVMsRUFBRSxFQUFJLE9BQU8sRUFBRSxFQUN4QixFQUFhLEtBQUssUUFBUSxFQUFPLE9BQU8sRUFBRyxFQUFZLEVBQVcsSUFBSSxDQUFPLEVBQ2pGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBRyxJQUNuQixFQUFPLEdBQUssRUFBTyxHQUFHLElBQUksQ0FBUyxFQUN2QyxJQUFJLEVBQVEsRUFBUSxRQUFRLEVBQVksRUFBSSxFQUM1QyxFQUFPLEtBQUssRUFBTyxNQUFNLElBQUksQ0FBSyxDQUFDLEVBQ25DLEVBQVUsRUFBUSxRQUFRLENBQVMsRUFDbkMsRUFBVSxFQUFZLFdBQVcsRUFBUyxDQUFTLEVBQUUsT0FBTyxFQUFZLFdBQVcsR0FBUSxFQUFPLE9BQU8sRUFBRyxDQUFLLENBQUMsRUFFdEgsTUFBTyxDQUNILFVBQ0EsVUFBVyxFQUFnQixPQUFPLEVBQVEsRUFBSSxTQUFTLEVBQ3ZELFNBQ0osRUFPSixPQUFPLENBQUMsRUFBTyxDQUFDLEVBQUcsQ0FDZixHQUFJLGFBQWdCLEVBQ2hCLE9BQU8sRUFDWCxPQUFPLEVBQVUsR0FBRyxFQUFNLEtBQUssSUFBSSxPQUFRLEtBQUssTUFBTSxFQUFZLGFBQWEsQ0FBQyxFQU9wRixNQUFNLENBQUMsRUFBUSxDQUNYLE9BQU8sRUFBSyxHQUFHLEVBQU8sTUFBTSxLQUFLLE1BQU0sRUFBWSxhQUFhLEdBQUssRUFBWSxDQUFDLEVBS3RGLFFBQVEsQ0FBQyxFQUFPLEVBQUcsRUFBSyxLQUFLLElBQUksT0FBUSxDQUNyQyxPQUFPLEtBQUssSUFBSSxZQUFZLEVBQU0sRUFBSSxLQUFLLFNBQVMsRUFLeEQsS0FBSyxDQUFDLEVBQU8sQ0FDVCxJQUFJLEVBQU8sS0FBSyxPQUFPLFFBQVEsRUFBTSxJQUNyQyxHQUFJLEdBQVEsS0FDUixPQUFPLEVBQU0sUUFFakIsT0FEQSxHQUFXLEtBQU0sQ0FBSSxFQUNkLEdBQVEsS0FBTSxDQUFJLEVBUTdCLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFTLENBQ1QsSUFBSyxLQUFLLFNBQVMsRUFDbkIsVUFBVyxLQUFLLFVBQVUsT0FBTyxDQUNyQyxFQUNBLEdBQUksRUFDQSxRQUFTLEtBQVEsRUFBUSxDQUNyQixJQUFJLEVBQVEsRUFBTyxHQUNuQixHQUFJLGFBQWlCLElBQWMsS0FBSyxPQUFPLFFBQVEsRUFBTSxLQUFPLEtBQ2hFLEVBQU8sR0FBUSxFQUFNLEtBQUssT0FBTyxLQUFLLE1BQU0sRUFBTyxFQUFLLEVBQUcsSUFBSSxFQUUzRSxPQUFPLFFBUUosU0FBUSxDQUFDLEVBQU0sRUFBUyxDQUFDLEVBQUcsRUFBUSxDQUN2QyxJQUFLLFVBQWUsRUFBSyxLQUFPLFNBQzVCLE1BQU0sSUFBSSxXQUFXLDZDQUE2QyxFQUN0RSxJQUFJLEVBQVksQ0FBQyxFQUNqQixHQUFJLEdBQ0EsUUFBUyxLQUFRLEVBQ2IsR0FBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQU0sQ0FBSSxFQUFHLENBQ2xELElBQUksRUFBUSxFQUFPLEdBQU8sRUFBUSxFQUFLLEdBQ3ZDLEVBQVUsS0FBSyxFQUFNLEtBQUssS0FBUyxFQUFNLEtBQUssU0FBUyxFQUFPLENBQUssQ0FBQyxDQUFDLEdBR2pGLE9BQU8sRUFBWSxPQUFPLENBQ3RCLElBQUssRUFBSyxJQUNWLFVBQVcsRUFBZ0IsU0FBUyxFQUFLLFNBQVMsRUFDbEQsV0FBWSxFQUFPLFdBQWEsRUFBVSxPQUFPLENBQUMsRUFBTyxVQUFVLENBQUMsRUFBSSxDQUM1RSxDQUFDLFFBT0UsT0FBTSxDQUFDLEVBQVMsQ0FBQyxFQUFHLENBQ3ZCLElBQUksRUFBZ0IsR0FBYyxRQUFRLEVBQU8sWUFBYyxDQUFDLEVBQUcsSUFBSSxHQUFHLEVBQ3RFLEVBQU0sRUFBTyxlQUFlLEVBQU8sRUFBTyxJQUN4QyxFQUFLLElBQUksRUFBTyxLQUFPLElBQUksTUFBTSxFQUFjLFlBQVksRUFBWSxhQUFhLEdBQUssRUFBWSxDQUFDLEVBQ3hHLEdBQWEsRUFBTyxVQUFZLEVBQWdCLE9BQU8sQ0FBQyxFQUN0RCxFQUFPLHFCQUFxQixFQUFrQixFQUFPLFVBQ2pELEVBQWdCLE9BQU8sRUFBTyxVQUFVLE9BQVEsRUFBTyxVQUFVLElBQUksRUFFL0UsR0FEQSxHQUFlLEVBQVcsRUFBSSxNQUFNLEdBQy9CLEVBQWMsWUFBWSxFQUF1QixFQUNsRCxFQUFZLEVBQVUsU0FBUyxFQUNuQyxPQUFPLElBQUksRUFBWSxFQUFlLEVBQUssRUFBVyxFQUFjLGFBQWEsSUFBSSxJQUFNLElBQUksRUFBRyxDQUFDLEVBQU8sSUFBUyxFQUFLLE9BQU8sQ0FBSyxFQUFHLElBQUksS0FNM0ksUUFBTyxFQUFHLENBQUUsT0FBTyxLQUFLLE1BQU0sRUFBWSxPQUFPLEtBS2pELFVBQVMsRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFNLEVBQVksYUFBYSxHQUFLLFFBSzlELFNBQVEsRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFNLEVBQVEsRUFXM0MsTUFBTSxDQUFDLEtBQVcsRUFBUSxDQUN0QixRQUFTLEtBQU8sS0FBSyxNQUFNLEVBQVksT0FBTyxFQUMxQyxHQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBSyxDQUFNLEVBQUcsQ0FDbkQsRUFBUyxFQUFJLEdBQ2IsTUFFUixHQUFJLEVBQU8sT0FDUCxFQUFTLEVBQU8sUUFBUSxjQUFlLENBQUMsRUFBRyxJQUFNLENBQzdDLEdBQUksR0FBSyxJQUNMLE1BQU8sSUFDWCxJQUFJLElBQU0sR0FBSyxHQUNmLE9BQVEsR0FBSyxFQUFJLEVBQU8sT0FBUyxFQUFJLEVBQU8sRUFBSSxHQUNuRCxFQUNMLE9BQU8sRUFrQlgsY0FBYyxDQUFDLEVBQU0sRUFBSyxFQUFPLEdBQUksQ0FDakMsSUFBSSxFQUFTLENBQUMsRUFDZCxRQUFTLEtBQVksS0FBSyxNQUFNLEVBQVksRUFDeEMsUUFBUyxLQUFVLEVBQVMsS0FBTSxFQUFLLENBQUksRUFDdkMsR0FBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVEsQ0FBSSxFQUNqRCxFQUFPLEtBQUssRUFBTyxFQUFLLEVBR3BDLE9BQU8sRUFhWCxlQUFlLENBQUMsRUFBSSxDQUNoQixPQUFPLEdBQWdCLEtBQUssZUFBZSxZQUFhLENBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQVF4RSxNQUFNLENBQUMsRUFBSyxDQUNSLElBQU0sT0FBTSxPQUFNLFVBQVcsS0FBSyxJQUFJLE9BQU8sQ0FBRyxFQUM1QyxFQUFNLEtBQUssZ0JBQWdCLENBQUcsRUFDOUIsRUFBUSxFQUFNLEVBQU0sRUFBTSxFQUFNLEVBQ3BDLE1BQU8sRUFBUSxFQUFHLENBQ2QsSUFBSSxFQUFPLEdBQWlCLEVBQU0sRUFBTyxFQUFLLEVBQzlDLEdBQUksRUFBSSxFQUFLLE1BQU0sRUFBTSxDQUFLLENBQUMsR0FBSyxHQUFhLEtBQzdDLE1BQ0osRUFBUSxFQUVaLE1BQU8sRUFBTSxFQUFRLENBQ2pCLElBQUksRUFBTyxHQUFpQixFQUFNLENBQUcsRUFDckMsR0FBSSxFQUFJLEVBQUssTUFBTSxFQUFLLENBQUksQ0FBQyxHQUFLLEdBQWEsS0FDM0MsTUFDSixFQUFNLEVBRVYsT0FBTyxHQUFTLEVBQU0sS0FBTyxFQUFnQixNQUFNLEVBQVEsRUFBTSxFQUFNLENBQUksRUFFbkYsQ0FTQSxFQUFZLHdCQUEwQixHQU10QyxFQUFZLFFBQXVCLEVBQU0sT0FBTyxDQUM1QyxRQUFTLEtBQVUsRUFBTyxPQUFTLEVBQU8sR0FBSyxDQUNuRCxDQUFDLEVBVUQsRUFBWSxjQUFnQixHQWM1QixFQUFZLFNBQVcsR0FPdkIsRUFBWSxRQUF1QixFQUFNLE9BQU8sQ0FDNUMsT0FBTyxDQUFDLEVBQUcsRUFBRyxDQUNWLElBQUksRUFBSyxPQUFPLEtBQUssQ0FBQyxFQUFHLEVBQUssT0FBTyxLQUFLLENBQUMsRUFDM0MsT0FBTyxFQUFHLFFBQVUsRUFBRyxRQUFVLEVBQUcsTUFBTSxLQUFLLEVBQUUsSUFBTSxFQUFFLEVBQUUsRUFFbkUsQ0FBQyxFQUtELEVBQVksYUFBZSxHQWUzQixFQUFZLGFBQWUsR0FvQjNCLEVBQVksa0JBQW9CLEdBY2hDLEVBQVksb0JBQXNCLEdBQ2xDLEdBQVksWUFBMkIsRUFBWSxPQUFPLEVBbUMxRCxNQUFNLEVBQVcsQ0FRYixFQUFFLENBQUMsRUFBTyxDQUFFLE9BQU8sTUFBUSxFQUkzQixLQUFLLENBQUMsRUFBTSxFQUFLLEVBQU0sQ0FBRSxPQUFPLEdBQU0sT0FBTyxFQUFNLEVBQUksSUFBSSxFQUMvRCxDQUNBLEdBQVcsVUFBVSxVQUFZLEdBQVcsVUFBVSxRQUFVLEVBQ2hFLEdBQVcsVUFBVSxNQUFRLEdBQzdCLEdBQVcsVUFBVSxRQUFVLEdBQVEsU0FJdkMsTUFBTSxFQUFNLENBQ1IsV0FBVyxDQUlYLEVBSUEsRUFJQSxFQUFPLENBQ0gsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBQ1YsS0FBSyxNQUFRLFFBS1YsT0FBTSxDQUFDLEVBQU0sRUFBSSxFQUFPLENBQzNCLE9BQU8sSUFBSSxHQUFNLEVBQU0sRUFBSSxDQUFLLEVBRXhDLENBSUEsTUFBTSxFQUFNLENBQ1IsV0FBVyxDQUFDLEVBQU0sRUFBSSxFQUt0QixFQUFVLENBQ04sS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBQ1YsS0FBSyxNQUFRLEVBQ2IsS0FBSyxTQUFXLEtBRWhCLE9BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxHQUFHLEtBQUssR0FBRyxPQUFTLEdBRy9DLFNBQVMsQ0FBQyxFQUFLLEVBQU0sRUFBSyxFQUFVLEVBQUcsQ0FDbkMsSUFBSSxFQUFNLEVBQU0sS0FBSyxHQUFLLEtBQUssS0FDL0IsUUFBUyxFQUFLLEVBQVMsRUFBSyxFQUFJLFNBQVUsQ0FDdEMsR0FBSSxHQUFNLEVBQ04sT0FBTyxFQUNYLElBQUksRUFBTyxFQUFLLEdBQU8sRUFDbkIsRUFBTyxFQUFJLEdBQU8sSUFBUSxFQUFNLEtBQUssTUFBTSxHQUFLLFFBQVUsS0FBSyxNQUFNLEdBQUssV0FBYSxFQUMzRixHQUFJLEdBQU8sRUFDUCxPQUFPLEdBQVEsRUFBSSxFQUFLLEVBQzVCLEdBQUksR0FBUSxFQUNSLEVBQUssTUFFTCxHQUFLLEVBQU0sR0FHdkIsT0FBTyxDQUFDLEVBQVEsRUFBTSxFQUFJLEVBQUcsQ0FDekIsUUFBUyxFQUFJLEtBQUssVUFBVSxFQUFNLEtBQXlCLEVBQUksRUFBRyxFQUFJLEtBQUssVUFBVSxFQUFJLElBQXdCLEdBQU8sQ0FBQyxFQUFHLEVBQUksRUFBRyxJQUMvSCxHQUFJLEVBQUUsS0FBSyxLQUFLLEdBQUssRUFBUSxLQUFLLEdBQUcsR0FBSyxFQUFRLEtBQUssTUFBTSxFQUFFLElBQU0sR0FDakUsTUFBTyxHQUVuQixHQUFHLENBQUMsRUFBUSxFQUFTLENBQ2pCLElBQUksRUFBUSxDQUFDLEVBQUcsRUFBTyxDQUFDLEVBQUcsRUFBSyxDQUFDLEVBQUcsRUFBUyxHQUFJLEVBQVcsR0FDNUQsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLE1BQU0sT0FBUSxJQUFLLENBQ3hDLElBQUksRUFBTSxLQUFLLE1BQU0sR0FBSSxFQUFVLEtBQUssS0FBSyxHQUFLLEVBQVEsRUFBUSxLQUFLLEdBQUcsR0FBSyxFQUFRLEVBQVMsRUFDaEcsR0FBSSxHQUFXLEVBQU8sQ0FDbEIsSUFBSSxFQUFTLEVBQVEsT0FBTyxFQUFTLEVBQUksVUFBVyxFQUFJLE9BQU8sRUFDL0QsR0FBSSxHQUFVLEtBQ1YsU0FFSixHQURBLEVBQVUsRUFBUSxFQUNkLEVBQUksV0FBYSxFQUFJLFNBRXJCLEdBREEsRUFBUSxFQUFRLE9BQU8sRUFBUyxFQUFJLE9BQU8sRUFDdkMsRUFBUSxFQUNSLGtCQUlSLEVBQVUsRUFBUSxPQUFPLEVBQVMsRUFBSSxTQUFTLEVBQy9DLEVBQVEsRUFBUSxPQUFPLEVBQU8sRUFBSSxPQUFPLEVBQ3JDLEVBQVUsR0FBUyxHQUFXLEdBQVMsRUFBSSxVQUFZLEdBQUssRUFBSSxTQUFXLEVBQzNFLFNBRVIsSUFBSyxFQUFRLEdBQVcsRUFBSSxRQUFVLEVBQUksV0FBYSxFQUNuRCxTQUNKLEdBQUksRUFBUyxFQUNULEVBQVMsRUFDYixHQUFJLEVBQUksTUFDSixFQUFXLEtBQUssSUFBSSxFQUFVLEVBQVEsQ0FBTyxFQUNqRCxFQUFNLEtBQUssQ0FBRyxFQUNkLEVBQUssS0FBSyxFQUFVLENBQU0sRUFDMUIsRUFBRyxLQUFLLEVBQVEsQ0FBTSxFQUUxQixNQUFPLENBQUUsT0FBUSxFQUFNLE9BQVMsSUFBSSxHQUFNLEVBQU0sRUFBSSxFQUFPLENBQVEsRUFBSSxLQUFNLElBQUssQ0FBTyxFQUVqRyxDQU9BLE1BQU0sQ0FBUyxDQUNYLFdBQVcsQ0FJWCxFQUlBLEVBSUEsRUFJQSxFQUFVLENBQ04sS0FBSyxTQUFXLEVBQ2hCLEtBQUssTUFBUSxFQUNiLEtBQUssVUFBWSxFQUNqQixLQUFLLFNBQVcsUUFLYixPQUFNLENBQUMsRUFBVSxFQUFPLEVBQVcsRUFBVSxDQUNoRCxPQUFPLElBQUksRUFBUyxFQUFVLEVBQU8sRUFBVyxDQUFRLEtBS3hELE9BQU0sRUFBRyxDQUNULElBQUksRUFBTyxLQUFLLE1BQU0sT0FBUyxFQUMvQixPQUFPLEVBQU8sRUFBSSxFQUFJLEtBQUssSUFBSSxLQUFLLFNBQVMsQ0FBSSxFQUFHLEtBQUssVUFBVSxNQUFNLEtBS3pFLEtBQUksRUFBRyxDQUNQLEdBQUksS0FBSyxRQUNMLE1BQU8sR0FDWCxJQUFJLEVBQU8sS0FBSyxVQUFVLEtBQzFCLFFBQVMsS0FBUyxLQUFLLE1BQ25CLEdBQVEsRUFBTSxNQUFNLE9BQ3hCLE9BQU8sRUFLWCxRQUFRLENBQUMsRUFBTyxDQUNaLE9BQU8sS0FBSyxTQUFTLEdBQVMsS0FBSyxNQUFNLEdBQU8sT0FXcEQsTUFBTSxDQUFDLEVBQVksQ0FDZixJQUFNLE1BQU0sQ0FBQyxFQUFHLE9BQU8sR0FBTyxhQUFhLEVBQUcsV0FBVyxLQUFLLFFBQVcsRUFDckUsRUFBUyxFQUFXLE9BQ3hCLEdBQUksRUFBSSxRQUFVLElBQU0sRUFDcEIsT0FBTyxLQUNYLEdBQUksRUFDQSxFQUFNLEVBQUksTUFBTSxFQUFFLEtBQUssRUFBUSxFQUNuQyxHQUFJLEtBQUssUUFDTCxPQUFPLEVBQUksT0FBUyxFQUFTLEdBQUcsQ0FBRyxFQUFJLEtBQzNDLElBQUksRUFBTSxJQUFJLEdBQVksS0FBTSxLQUFNLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRyxFQUFJLEVBQUcsRUFBUSxDQUFDLEVBQy9ELEVBQVUsSUFBSSxHQUNsQixNQUFPLEVBQUksT0FBUyxFQUFJLEVBQUksT0FDeEIsR0FBSSxFQUFJLEVBQUksU0FBVyxFQUFJLEtBQU8sRUFBSSxHQUFHLE1BQVEsRUFBSSxVQUFZLEVBQUksR0FBRyxNQUFNLFlBQWMsRUFBRyxDQUMzRixJQUFJLEVBQVEsRUFBSSxLQUNoQixJQUFLLEVBQVEsU0FBUyxFQUFNLEtBQU0sRUFBTSxHQUFJLEVBQU0sS0FBSyxFQUNuRCxFQUFNLEtBQUssQ0FBSyxVQUVmLEVBQUksWUFBYyxHQUFLLEVBQUksV0FBYSxLQUFLLE1BQU0sU0FDdkQsR0FBSyxFQUFJLFFBQVUsS0FBSyxTQUFTLEVBQUksVUFBVSxFQUFJLEVBQUksR0FBRyxTQUN6RCxHQUFVLEVBQWEsS0FBSyxTQUFTLEVBQUksVUFBVSxHQUFLLEVBQVcsS0FBSyxTQUFTLEVBQUksY0FDdkYsRUFBUSxTQUFTLEtBQUssU0FBUyxFQUFJLFlBQWEsS0FBSyxNQUFNLEVBQUksV0FBVyxFQUMxRSxFQUFJLFVBQVUsTUFFYixDQUNELElBQUssR0FBVSxFQUFhLEVBQUksSUFBTSxFQUFXLEVBQUksTUFBUSxFQUFPLEVBQUksS0FBTSxFQUFJLEdBQUksRUFBSSxLQUFLLEdBQzNGLElBQUssRUFBUSxTQUFTLEVBQUksS0FBTSxFQUFJLEdBQUksRUFBSSxLQUFLLEVBQzdDLEVBQU0sS0FBSyxHQUFNLE9BQU8sRUFBSSxLQUFNLEVBQUksR0FBSSxFQUFJLEtBQUssQ0FBQyxFQUU1RCxFQUFJLEtBQUssRUFHakIsT0FBTyxFQUFRLFlBQVksS0FBSyxVQUFVLFVBQVksRUFBTSxPQUFTLEVBQVMsTUFDeEUsS0FBSyxVQUFVLE9BQU8sQ0FBRSxJQUFLLEVBQU8sU0FBUSxhQUFZLFVBQVMsQ0FBQyxDQUFDLEVBSzdFLEdBQUcsQ0FBQyxFQUFTLENBQ1QsR0FBSSxFQUFRLE9BQVMsS0FBSyxRQUN0QixPQUFPLEtBQ1gsSUFBSSxFQUFTLENBQUMsRUFBRyxFQUFXLENBQUMsRUFBRyxFQUFXLEdBQzNDLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxNQUFNLE9BQVEsSUFBSyxDQUN4QyxJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQUksRUFBUSxLQUFLLE1BQU0sR0FDN0MsRUFBUSxFQUFRLGFBQWEsRUFBTyxFQUFRLEVBQU0sTUFBTSxFQUM1RCxHQUFJLElBQVUsR0FDVixFQUFXLEtBQUssSUFBSSxFQUFVLEVBQU0sUUFBUSxFQUM1QyxFQUFPLEtBQUssQ0FBSyxFQUNqQixFQUFTLEtBQUssRUFBUSxPQUFPLENBQUssQ0FBQyxVQUU5QixJQUFVLEdBQU0sQ0FDckIsSUFBTSxTQUFRLE9BQVEsRUFBTSxJQUFJLEVBQU8sQ0FBTyxFQUM5QyxHQUFJLEVBQ0EsRUFBVyxLQUFLLElBQUksRUFBVSxFQUFPLFFBQVEsRUFDN0MsRUFBTyxLQUFLLENBQU0sRUFDbEIsRUFBUyxLQUFLLENBQUcsR0FJN0IsSUFBSSxFQUFPLEtBQUssVUFBVSxJQUFJLENBQU8sRUFDckMsT0FBTyxFQUFPLFFBQVUsRUFBSSxFQUFPLElBQUksRUFBUyxFQUFVLEVBQVEsR0FBUSxFQUFTLE1BQU8sQ0FBUSxFQVF0RyxPQUFPLENBQUMsRUFBTSxFQUFJLEVBQUcsQ0FDakIsR0FBSSxLQUFLLFFBQ0wsT0FDSixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssTUFBTSxPQUFRLElBQUssQ0FDeEMsSUFBSSxFQUFRLEtBQUssU0FBUyxHQUFJLEVBQVEsS0FBSyxNQUFNLEdBQ2pELEdBQUksR0FBTSxHQUFTLEdBQVEsRUFBUSxFQUFNLFFBQ3JDLEVBQU0sUUFBUSxFQUFPLEVBQU8sRUFBTyxFQUFLLEVBQU8sQ0FBQyxJQUFNLEdBQ3RELE9BRVIsS0FBSyxVQUFVLFFBQVEsRUFBTSxFQUFJLENBQUMsRUFNdEMsSUFBSSxDQUFDLEVBQU8sRUFBRyxDQUNYLE9BQU8sR0FBVyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFJLEtBS3hDLFFBQU8sRUFBRyxDQUFFLE9BQU8sS0FBSyxXQUFhLFdBS2xDLEtBQUksQ0FBQyxFQUFNLEVBQU8sRUFBRyxDQUN4QixPQUFPLEdBQVcsS0FBSyxDQUFJLEVBQUUsS0FBSyxDQUFJLFFBTW5DLFFBQU8sQ0FBQyxFQUFTLEVBS3hCLEVBQVUsRUFLVixFQUFlLEdBQUksQ0FDZixJQUFJLEVBQUksRUFBUSxPQUFPLEtBQU8sRUFBSSxTQUFXLElBQU0sRUFBSSxTQUFXLEVBQUksVUFBWSxDQUFZLEVBQzFGLEVBQUksRUFBUSxPQUFPLEtBQU8sRUFBSSxTQUFXLElBQU0sRUFBSSxTQUFXLEVBQUksVUFBWSxDQUFZLEVBQzFGLEVBQWUsR0FBaUIsRUFBRyxFQUFHLENBQVEsRUFDOUMsRUFBUSxJQUFJLEdBQVcsRUFBRyxFQUFjLENBQVksRUFDcEQsRUFBUSxJQUFJLEdBQVcsRUFBRyxFQUFjLENBQVksRUFFeEQsR0FEQSxFQUFTLFNBQVMsQ0FBQyxFQUFPLEVBQU8sSUFBVyxHQUFRLEVBQU8sRUFBTyxFQUFPLEVBQU8sRUFBUSxDQUFVLENBQUMsRUFDL0YsRUFBUyxPQUFTLEVBQVMsUUFBVSxFQUNyQyxHQUFRLEVBQU8sRUFBRyxFQUFPLEVBQUcsRUFBRyxDQUFVLFFBTTFDLEdBQUUsQ0FBQyxFQUFTLEVBQVMsRUFBTyxFQUFHLEVBQUksQ0FDdEMsR0FBSSxHQUFNLEtBQ04sRUFBSyxVQUNULElBQUksRUFBSSxFQUFRLE9BQU8sTUFBUSxFQUFJLFNBQVcsRUFBUSxRQUFRLENBQUcsRUFBSSxDQUFDLEVBQ2xFLEVBQUksRUFBUSxPQUFPLE1BQVEsRUFBSSxTQUFXLEVBQVEsUUFBUSxDQUFHLEVBQUksQ0FBQyxFQUN0RSxHQUFJLEVBQUUsUUFBVSxFQUFFLE9BQ2QsTUFBTyxHQUNYLElBQUssRUFBRSxPQUNILE1BQU8sR0FDWCxJQUFJLEVBQWUsR0FBaUIsRUFBRyxDQUFDLEVBQ3BDLEVBQVEsSUFBSSxHQUFXLEVBQUcsRUFBYyxDQUFDLEVBQUUsS0FBSyxDQUFJLEVBQUcsRUFBUSxJQUFJLEdBQVcsRUFBRyxFQUFjLENBQUMsRUFBRSxLQUFLLENBQUksRUFDL0csT0FBUyxDQUNMLEdBQUksRUFBTSxJQUFNLEVBQU0sS0FDakIsR0FBVyxFQUFNLE9BQVEsRUFBTSxNQUFNLEdBQ3RDLEVBQU0sU0FBVyxFQUFNLFFBQVUsRUFBTSxNQUFNLEdBQUcsRUFBTSxLQUFLLEdBQzNELE1BQU8sR0FDWCxHQUFJLEVBQU0sR0FBSyxFQUNYLE1BQU8sR0FDWCxFQUFNLEtBQUssRUFDWCxFQUFNLEtBQUssU0FVWixNQUFLLENBQUMsRUFBTSxFQUFNLEVBQUksRUFLN0IsRUFBZSxHQUFJLENBQ2YsSUFBSSxFQUFTLElBQUksR0FBVyxFQUFNLEtBQU0sQ0FBWSxFQUFFLEtBQUssQ0FBSSxFQUFHLEVBQU0sRUFDcEUsRUFBYSxFQUFPLFVBQ3hCLE9BQVMsQ0FDTCxJQUFJLEVBQVEsS0FBSyxJQUFJLEVBQU8sR0FBSSxDQUFFLEVBQ2xDLEdBQUksRUFBTyxNQUFPLENBQ2QsSUFBSSxFQUFTLEVBQU8sZUFBZSxFQUFPLEVBQUUsRUFDeEMsRUFBWSxFQUFPLFVBQVksRUFBTyxFQUFPLE9BQVMsRUFDcEQsRUFBTyxNQUFNLFVBQVksRUFBSSxFQUFPLE9BQ2hDLEtBQUssSUFBSSxFQUFPLE9BQVEsQ0FBVSxFQUM1QyxFQUFTLE1BQU0sRUFBSyxFQUFPLEVBQU8sTUFBTyxFQUFRLEVBQVcsRUFBTyxTQUFTLEVBQzVFLEVBQWEsS0FBSyxJQUFJLEVBQU8sUUFBUSxDQUFLLEVBQUcsRUFBTyxNQUFNLFVBRXJELEVBQVEsRUFDYixFQUFTLEtBQUssRUFBSyxFQUFPLEVBQU8sT0FBUSxDQUFVLEVBQ25ELEVBQWEsRUFBTyxRQUFRLENBQUssRUFFckMsR0FBSSxFQUFPLEdBQUssRUFDWixPQUFPLEdBQWMsRUFBTyxPQUFTLEVBQU8sR0FBSyxFQUFLLEVBQUksR0FDOUQsRUFBTSxFQUFPLEdBQ2IsRUFBTyxLQUFLLFNBVWIsR0FBRSxDQUFDLEVBQVEsRUFBTyxHQUFPLENBQzVCLElBQUksRUFBUSxJQUFJLEdBQ2hCLFFBQVMsS0FBUyxhQUFrQixHQUFRLENBQUMsQ0FBTSxFQUFJLEVBQU8sR0FBUyxDQUFNLEVBQUksRUFDN0UsRUFBTSxJQUFJLEVBQU0sS0FBTSxFQUFNLEdBQUksRUFBTSxLQUFLLEVBQy9DLE9BQU8sRUFBTSxPQUFPLFFBS2pCLEtBQUksQ0FBQyxFQUFNLENBQ2QsSUFBSyxFQUFLLE9BQ04sT0FBTyxFQUFTLE1BQ3BCLElBQUksRUFBUyxFQUFLLEVBQUssT0FBUyxHQUNoQyxRQUFTLEVBQUksRUFBSyxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQ2xDLFFBQVMsRUFBUSxFQUFLLEdBQUksR0FBUyxFQUFTLE1BQU8sRUFBUSxFQUFNLFVBQzdELEVBQVMsSUFBSSxFQUFTLEVBQU0sU0FBVSxFQUFNLE1BQU8sRUFBUSxLQUFLLElBQUksRUFBTSxTQUFVLEVBQU8sUUFBUSxDQUFDLEVBRTVHLE9BQU8sRUFFZixDQUlBLEVBQVMsTUFBcUIsSUFBSSxFQUFTLENBQUMsRUFBRyxDQUFDLEVBQUcsS0FBTSxFQUFFLEVBVzNELEVBQVMsTUFBTSxVQUFZLEVBQVMsTUFNcEMsTUFBTSxFQUFnQixDQUNsQixXQUFXLENBQUMsRUFBVyxDQU1uQixHQUxBLEtBQUssT0FBTyxLQUFLLElBQUksR0FBTSxLQUFLLEtBQU0sS0FBSyxHQUFJLEtBQUssTUFBTyxLQUFLLFFBQVEsQ0FBQyxFQUN6RSxLQUFLLFNBQVMsS0FBSyxLQUFLLFVBQVUsRUFDbEMsS0FBSyxXQUFhLEdBQ2xCLEtBQUssWUFBYyxLQUFLLElBQUksS0FBSyxZQUFhLEtBQUssUUFBUSxFQUMzRCxLQUFLLFNBQVcsR0FDWixFQUNBLEtBQUssS0FBTyxDQUFDLEVBQ2IsS0FBSyxHQUFLLENBQUMsRUFDWCxLQUFLLE1BQVEsQ0FBQyxFQU10QixXQUFXLEVBQUcsQ0FDVixLQUFLLE9BQVMsQ0FBQyxFQUNmLEtBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssV0FBYSxHQUNsQixLQUFLLEtBQU8sS0FDWixLQUFLLFNBQVcsS0FDaEIsS0FBSyxPQUFTLEtBQ2QsS0FBSyxLQUFPLENBQUMsRUFDYixLQUFLLEdBQUssQ0FBQyxFQUNYLEtBQUssTUFBUSxDQUFDLEVBQ2QsS0FBSyxTQUFXLEdBQ2hCLEtBQUssWUFBYyxHQUNuQixLQUFLLFVBQVksS0FNckIsR0FBRyxDQUFDLEVBQU0sRUFBSSxFQUFPLENBQ2pCLElBQUssS0FBSyxTQUFTLEVBQU0sRUFBSSxDQUFLLEVBQzlCLENBQUMsS0FBSyxZQUFjLEtBQUssVUFBWSxJQUFJLEtBQWtCLElBQUksRUFBTSxFQUFJLENBQUssRUFLdEYsUUFBUSxDQUFDLEVBQU0sRUFBSSxFQUFPLENBQ3RCLElBQUksRUFBTyxFQUFPLEtBQUssUUFBVSxFQUFNLFVBQVksS0FBSyxLQUFLLFFBQzdELEdBQUksR0FBUSxJQUFNLEVBQU8sS0FBSyxVQUFZLEVBQU0sVUFBWSxLQUFLLEtBQUssV0FBYSxFQUMvRSxNQUFNLElBQUksTUFBTSxnRUFBZ0UsRUFDcEYsR0FBSSxFQUFPLEVBQ1AsTUFBTyxHQUNYLEdBQUksS0FBSyxLQUFLLFFBQVUsSUFDcEIsS0FBSyxZQUFZLEVBQUksRUFDekIsR0FBSSxLQUFLLFdBQWEsRUFDbEIsS0FBSyxXQUFhLEVBT3RCLEdBTkEsS0FBSyxLQUFLLEtBQUssRUFBTyxLQUFLLFVBQVUsRUFDckMsS0FBSyxHQUFHLEtBQUssRUFBSyxLQUFLLFVBQVUsRUFDakMsS0FBSyxLQUFPLEVBQ1osS0FBSyxTQUFXLEVBQ2hCLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBTSxLQUFLLENBQUssRUFDakIsRUFBTSxNQUNOLEtBQUssU0FBVyxLQUFLLElBQUksS0FBSyxTQUFVLEVBQUssQ0FBSSxFQUNyRCxNQUFPLEdBS1gsUUFBUSxDQUFDLEVBQU0sRUFBTyxDQUNsQixJQUFLLEVBQU8sS0FBSyxRQUFVLEVBQU0sTUFBTSxHQUFHLFVBQVksS0FBSyxLQUFLLFNBQVcsRUFDdkUsTUFBTyxHQUNYLEdBQUksS0FBSyxLQUFLLE9BQ1YsS0FBSyxZQUFZLEVBQUksRUFDekIsS0FBSyxZQUFjLEtBQUssSUFBSSxLQUFLLFlBQWEsRUFBTSxRQUFRLEVBQzVELEtBQUssT0FBTyxLQUFLLENBQUssRUFDdEIsS0FBSyxTQUFTLEtBQUssQ0FBSSxFQUN2QixJQUFJLEVBQU8sRUFBTSxNQUFNLE9BQVMsRUFJaEMsT0FIQSxLQUFLLEtBQU8sRUFBTSxNQUFNLEdBQ3hCLEtBQUssU0FBVyxFQUFNLEtBQUssR0FBUSxFQUNuQyxLQUFLLE9BQVMsRUFBTSxHQUFHLEdBQVEsRUFDeEIsR0FNWCxNQUFNLEVBQUcsQ0FBRSxPQUFPLEtBQUssWUFBWSxFQUFTLEtBQUssRUFJakQsV0FBVyxDQUFDLEVBQU0sQ0FDZCxHQUFJLEtBQUssS0FBSyxPQUNWLEtBQUssWUFBWSxFQUFLLEVBQzFCLEdBQUksS0FBSyxPQUFPLFFBQVUsRUFDdEIsT0FBTyxFQUNYLElBQUksRUFBUyxFQUFTLE9BQU8sS0FBSyxTQUFVLEtBQUssT0FBUSxLQUFLLFVBQVksS0FBSyxVQUFVLFlBQVksQ0FBSSxFQUFJLEVBQU0sS0FBSyxXQUFXLEVBRW5JLE9BREEsS0FBSyxLQUFPLEtBQ0wsRUFFZixDQWlCQSxNQUFNLEVBQVksQ0FDZCxXQUFXLENBQUMsRUFBTyxFQUFNLEVBQVUsRUFBTyxFQUFHLENBQ3pDLEtBQUssTUFBUSxFQUNiLEtBQUssS0FBTyxFQUNaLEtBQUssU0FBVyxFQUNoQixLQUFLLEtBQU8sS0FFWixVQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxLQUFLLE1BQU0sVUFBWSxLQUN6RCxRQUFPLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxLQUFLLE1BQU0sUUFBVSxFQUN6RCxJQUFJLENBQUMsRUFBSyxFQUFPLEtBQXlCLENBR3RDLE9BRkEsS0FBSyxXQUFhLEtBQUssV0FBYSxFQUNwQyxLQUFLLFVBQVUsRUFBSyxFQUFNLEVBQUssRUFDeEIsS0FFWCxTQUFTLENBQUMsRUFBSyxFQUFNLEVBQVMsQ0FDMUIsTUFBTyxLQUFLLFdBQWEsS0FBSyxNQUFNLE1BQU0sT0FBUSxDQUM5QyxJQUFJLEVBQU8sS0FBSyxNQUFNLE1BQU0sS0FBSyxZQUNqQyxLQUFNLEtBQUssTUFBUSxLQUFLLEtBQUssSUFBSSxDQUFJLEdBQ2pDLEtBQUssTUFBTSxTQUFTLEtBQUssVUFBVSxFQUFJLEdBQ3ZDLEVBQUssU0FBVyxLQUFLLFVBQ3JCLE1BQ0osS0FBSyxhQUNMLEVBQVUsR0FFZCxHQUFJLEtBQUssV0FBYSxLQUFLLE1BQU0sTUFBTSxPQUFRLENBQzNDLElBQUksRUFBYSxLQUFLLE1BQU0sTUFBTSxLQUFLLFlBQVksVUFBVSxFQUFNLEtBQUssTUFBTSxTQUFTLEtBQUssWUFBYSxFQUFNLEVBQUksRUFDbkgsSUFBSyxHQUFXLEtBQUssV0FBYSxFQUM5QixLQUFLLGNBQWMsQ0FBVSxFQUVyQyxLQUFLLEtBQUssRUFFZCxPQUFPLENBQUMsRUFBSyxFQUFNLENBQ2YsSUFBSyxLQUFLLEdBQUssR0FBTyxLQUFLLFFBQVUsR0FBUSxFQUN6QyxLQUFLLFVBQVUsRUFBSyxFQUFNLEVBQUksRUFFdEMsSUFBSSxFQUFHLENBQ0gsT0FDSSxHQUFJLEtBQUssWUFBYyxLQUFLLE1BQU0sTUFBTSxPQUFRLENBQzVDLEtBQUssS0FBTyxLQUFLLEdBQUssSUFDdEIsS0FBSyxNQUFRLEtBQ2IsVUFFQyxDQUNELElBQUksRUFBVyxLQUFLLE1BQU0sU0FBUyxLQUFLLFlBQWEsRUFBUSxLQUFLLE1BQU0sTUFBTSxLQUFLLFlBQy9FLEVBQU8sRUFBVyxFQUFNLEtBQUssS0FBSyxZQUt0QyxHQUpBLEtBQUssS0FBTyxFQUNaLEtBQUssR0FBSyxFQUFXLEVBQU0sR0FBRyxLQUFLLFlBQ25DLEtBQUssTUFBUSxFQUFNLE1BQU0sS0FBSyxZQUM5QixLQUFLLGNBQWMsS0FBSyxXQUFhLENBQUMsRUFDbEMsS0FBSyxTQUFXLEdBQUssS0FBSyxNQUFNLE9BQVMsS0FBSyxHQUFLLEtBQUssTUFBUSxLQUFLLFNBQ3JFLE9BSWhCLGFBQWEsQ0FBQyxFQUFPLENBQ2pCLEdBQUksR0FBUyxLQUFLLE1BQU0sTUFBTSxLQUFLLFlBQVksTUFBTSxPQUFRLENBRXpELEdBREEsS0FBSyxhQUNELEtBQUssS0FDTCxNQUFPLEtBQUssV0FBYSxLQUFLLE1BQU0sTUFBTSxRQUFVLEtBQUssS0FBSyxJQUFJLEtBQUssTUFBTSxNQUFNLEtBQUssV0FBVyxFQUMvRixLQUFLLGFBRWIsS0FBSyxXQUFhLE1BR2xCLE1BQUssV0FBYSxFQUcxQixTQUFTLEVBQUcsQ0FDUixLQUFLLGFBQ0wsS0FBSyxXQUFhLEVBQ2xCLEtBQUssS0FBSyxFQUVkLE9BQU8sQ0FBQyxFQUFPLENBQ1gsT0FBTyxLQUFLLEtBQU8sRUFBTSxNQUFRLEtBQUssVUFBWSxFQUFNLFdBQWEsS0FBSyxLQUFPLEVBQU0sTUFDbkYsS0FBSyxHQUFLLEVBQU0sSUFBTSxLQUFLLFFBQVUsRUFBTSxRQUV2RCxDQUNBLE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FBQyxFQUFNLENBQ2QsS0FBSyxLQUFPLFFBRVQsS0FBSSxDQUFDLEVBQU0sRUFBTyxLQUFNLEVBQVcsR0FBSSxDQUMxQyxJQUFJLEVBQU8sQ0FBQyxFQUNaLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLElBQzdCLFFBQVMsRUFBTSxFQUFLLElBQUssRUFBSSxRQUFTLEVBQU0sRUFBSSxVQUM1QyxHQUFJLEVBQUksVUFBWSxFQUNoQixFQUFLLEtBQUssSUFBSSxHQUFZLEVBQUssRUFBTSxFQUFVLENBQUMsQ0FBQyxFQUc3RCxPQUFPLEVBQUssUUFBVSxFQUFJLEVBQUssR0FBSyxJQUFJLEdBQVcsQ0FBSSxLQUV2RCxVQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBUSxLQUFLLE1BQU0sVUFBWSxFQUM3RCxJQUFJLENBQUMsRUFBSyxFQUFPLEtBQXlCLENBQ3RDLFFBQVMsS0FBTyxLQUFLLEtBQ2pCLEVBQUksS0FBSyxFQUFLLENBQUksRUFDdEIsUUFBUyxFQUFJLEtBQUssS0FBSyxRQUFVLEVBQUcsR0FBSyxFQUFHLElBQ3hDLEdBQVcsS0FBSyxLQUFNLENBQUMsRUFFM0IsT0FEQSxLQUFLLEtBQUssRUFDSCxLQUVYLE9BQU8sQ0FBQyxFQUFLLEVBQU0sQ0FDZixRQUFTLEtBQU8sS0FBSyxLQUNqQixFQUFJLFFBQVEsRUFBSyxDQUFJLEVBQ3pCLFFBQVMsRUFBSSxLQUFLLEtBQUssUUFBVSxFQUFHLEdBQUssRUFBRyxJQUN4QyxHQUFXLEtBQUssS0FBTSxDQUFDLEVBQzNCLElBQUssS0FBSyxHQUFLLEdBQU8sS0FBSyxNQUFNLFFBQVUsR0FBUSxFQUMvQyxLQUFLLEtBQUssRUFFbEIsSUFBSSxFQUFHLENBQ0gsR0FBSSxLQUFLLEtBQUssUUFBVSxFQUNwQixLQUFLLEtBQU8sS0FBSyxHQUFLLElBQ3RCLEtBQUssTUFBUSxLQUNiLEtBQUssS0FBTyxPQUVYLENBQ0QsSUFBSSxFQUFNLEtBQUssS0FBSyxHQUtwQixHQUpBLEtBQUssS0FBTyxFQUFJLEtBQ2hCLEtBQUssR0FBSyxFQUFJLEdBQ2QsS0FBSyxNQUFRLEVBQUksTUFDakIsS0FBSyxLQUFPLEVBQUksS0FDWixFQUFJLE1BQ0osRUFBSSxLQUFLLEVBQ2IsR0FBVyxLQUFLLEtBQU0sQ0FBQyxHQUduQyxDQWtCQSxNQUFNLEVBQVcsQ0FDYixXQUFXLENBQUMsRUFBTSxFQUFNLEVBQVUsQ0FDOUIsS0FBSyxTQUFXLEVBQ2hCLEtBQUssT0FBUyxDQUFDLEVBQ2YsS0FBSyxTQUFXLENBQUMsRUFDakIsS0FBSyxXQUFhLENBQUMsRUFDbkIsS0FBSyxVQUFZLEdBRWpCLEtBQUssTUFBUSxLQUNiLEtBQUssVUFBWSxFQUNqQixLQUFLLFVBQVksRUFDakIsS0FBSyxHQUFLLEtBQ1YsS0FBSyxRQUFVLEVBR2YsS0FBSyxVQUFZLEdBQ2pCLEtBQUssT0FBUyxHQUFXLEtBQUssRUFBTSxFQUFNLENBQVEsRUFFdEQsSUFBSSxDQUFDLEVBQUssRUFBTyxLQUF5QixDQVF0QyxPQVBBLEtBQUssT0FBTyxLQUFLLEVBQUssQ0FBSSxFQUMxQixLQUFLLE9BQU8sT0FBUyxLQUFLLFNBQVMsT0FBUyxLQUFLLFdBQVcsT0FBUyxFQUNyRSxLQUFLLFVBQVksR0FDakIsS0FBSyxHQUFLLEVBQ1YsS0FBSyxRQUFVLEVBQ2YsS0FBSyxVQUFZLEdBQ2pCLEtBQUssS0FBSyxFQUNILEtBRVgsT0FBTyxDQUFDLEVBQUssRUFBTSxDQUNmLE1BQU8sS0FBSyxVQUFZLEtBQU8sS0FBSyxTQUFTLEtBQUssV0FBYSxHQUFPLEtBQUssT0FBTyxLQUFLLFdBQVcsUUFBVSxHQUFRLEVBQ2hILEtBQUssYUFBYSxLQUFLLFNBQVMsRUFDcEMsS0FBSyxPQUFPLFFBQVEsRUFBSyxDQUFJLEVBRWpDLFlBQVksQ0FBQyxFQUFPLENBQ2hCLEdBQU8sS0FBSyxPQUFRLENBQUssRUFDekIsR0FBTyxLQUFLLFNBQVUsQ0FBSyxFQUMzQixHQUFPLEtBQUssV0FBWSxDQUFLLEVBQzdCLEtBQUssVUFBWSxHQUFhLEtBQUssT0FBUSxLQUFLLFFBQVEsRUFFNUQsU0FBUyxDQUFDLEVBQVcsQ0FDakIsSUFBSSxFQUFJLEdBQUssUUFBTyxLQUFJLFFBQVMsS0FBSyxPQUV0QyxNQUFPLEVBQUksS0FBSyxXQUFXLFNBQVcsRUFBTyxLQUFLLFdBQVcsSUFBTSxFQUFLLEtBQUssU0FBUyxJQUFNLEVBQ3hGLElBSUosR0FIQSxHQUFPLEtBQUssT0FBUSxFQUFHLENBQUssRUFDNUIsR0FBTyxLQUFLLFNBQVUsRUFBRyxDQUFFLEVBQzNCLEdBQU8sS0FBSyxXQUFZLEVBQUcsQ0FBSSxFQUMzQixFQUNBLEdBQU8sRUFBVyxFQUFHLEtBQUssT0FBTyxJQUFJLEVBQ3pDLEtBQUssVUFBWSxHQUFhLEtBQUssT0FBUSxLQUFLLFFBQVEsRUFJNUQsSUFBSSxFQUFHLENBQ0gsSUFBSSxFQUFPLEtBQUssR0FBSSxFQUFXLEtBQUssTUFDcEMsS0FBSyxNQUFRLEtBQ2IsSUFBSSxFQUFZLEtBQUssVUFBWSxFQUFJLENBQUMsRUFBSSxLQUMxQyxPQUFTLENBQ0wsSUFBSSxFQUFJLEtBQUssVUFDYixHQUFJLEVBQUksS0FBTyxLQUFLLFNBQVMsR0FBSyxLQUFLLE9BQU8sTUFBUSxLQUFLLE9BQU8sR0FBRyxRQUFVLEtBQUssT0FBTyxXQUFhLEVBQUcsQ0FDdkcsR0FBSSxLQUFLLFNBQVMsR0FBSyxFQUFNLENBQ3pCLEtBQUssR0FBSyxLQUFLLFNBQVMsR0FDeEIsS0FBSyxRQUFVLEtBQUssT0FBTyxHQUFHLFFBQzlCLE1BR0osR0FEQSxLQUFLLGFBQWEsQ0FBQyxFQUNmLEVBQ0EsR0FBTyxFQUFXLENBQUMsV0FFakIsS0FBSyxPQUFPLE1BQU8sQ0FDekIsS0FBSyxHQUFLLEtBQUssUUFBVSxJQUN6QixjQUVLLEtBQUssT0FBTyxLQUFPLEVBQU0sQ0FDOUIsS0FBSyxHQUFLLEtBQUssT0FBTyxLQUN0QixLQUFLLFFBQVUsS0FBSyxPQUFPLFVBQzNCLFVBRUMsQ0FDRCxJQUFJLEVBQVUsS0FBSyxPQUFPLE1BQzFCLElBQUssRUFBUSxNQUNULEtBQUssVUFBVSxDQUFTLEVBQ3hCLEtBQUssT0FBTyxLQUFLLFVBRVosR0FBWSxLQUFLLE9BQU8sSUFBTSxLQUFLLElBQU0sS0FBSyxPQUFPLEtBQU8sS0FBSyxPQUFPLEdBRTdFLEtBQUssT0FBTyxLQUFLLE1BRWhCLENBQ0QsS0FBSyxNQUFRLEVBQ2IsS0FBSyxVQUFZLEtBQUssT0FBTyxLQUM3QixLQUFLLFVBQVksS0FBSyxPQUFPLEtBQzdCLEtBQUssR0FBSyxLQUFLLE9BQU8sR0FDdEIsS0FBSyxRQUFVLEVBQVEsUUFDdkIsS0FBSyxPQUFPLEtBQUssRUFDakIsS0FBSyxRQUFRLEtBQUssR0FBSSxLQUFLLE9BQU8sRUFDbEMsUUFJWixHQUFJLEVBQVcsQ0FDWCxLQUFLLFVBQVksRUFDakIsUUFBUyxFQUFJLEVBQVUsT0FBUyxFQUFHLEdBQUssR0FBSyxFQUFVLEdBQUssRUFBTSxJQUM5RCxLQUFLLGFBR2pCLGNBQWMsQ0FBQyxFQUFJLENBQ2YsSUFBSyxLQUFLLE9BQU8sT0FDYixPQUFPLEtBQUssT0FDaEIsSUFBSSxFQUFTLENBQUMsRUFDZCxRQUFTLEVBQUksS0FBSyxPQUFPLE9BQVMsRUFBRyxHQUFLLEVBQUcsSUFBSyxDQUM5QyxHQUFJLEtBQUssV0FBVyxHQUFLLEtBQUssVUFDMUIsTUFDSixHQUFJLEtBQUssU0FBUyxHQUFLLEdBQU0sS0FBSyxTQUFTLElBQU0sR0FBTSxLQUFLLE9BQU8sR0FBRyxTQUFXLEtBQUssTUFBTSxRQUN4RixFQUFPLEtBQUssS0FBSyxPQUFPLEVBQUUsRUFFbEMsT0FBTyxFQUFPLFFBQVEsRUFFMUIsT0FBTyxDQUFDLEVBQUksQ0FDUixJQUFJLEVBQU8sRUFDWCxRQUFTLEVBQUksS0FBSyxTQUFTLE9BQVMsRUFBRyxHQUFLLEdBQUssS0FBSyxTQUFTLEdBQUssRUFBSSxJQUNwRSxJQUNKLE9BQU8sRUFFZixDQzN2SEEsSUFBTSxVQUFlLFFBQVUsWUFBYyxLQURuQyxTQUM4QyxPQUFPLElBRHJELFFBQzBELEVBQzlELFVBQWEsUUFBVSxZQUFjLGFBQWUsS0FBSyxNQUFNLEtBQUssT0FBTyxFQUFJLEdBQUcsRUFBSSxPQUFPLFVBQVUsRUFDdkcsVUFBYSxZQUFjLFlBQWMsa0JBQW9CLFFBQVUsWUFBYyxPQUFTLENBQUMsRUFXOUYsTUFBTSxFQUFZLENBTXZCLFdBQVcsQ0FBQyxFQUFNLEVBQVMsQ0FDekIsS0FBSyxNQUFRLENBQUMsRUFDZCxJQUFLLFVBQVUsR0FBVyxDQUFDLEVBRTNCLFNBQVMsQ0FBYSxDQUFDLEVBQVUsQ0FDL0IsTUFBTyxLQUFLLEtBQUssQ0FBUSxFQUFJLENBQUMsQ0FBUSxFQUFJLEVBQVMsTUFBTSxNQUFNLEVBR2pFLFNBQVMsQ0FBTSxDQUFDLEVBQVcsRUFBTSxFQUFRLEVBQWEsQ0FDcEQsSUFBSSxFQUFRLENBQUMsRUFBRyxFQUFPLFlBQVksS0FBSyxFQUFVLEVBQUUsRUFBRyxFQUFZLEdBQVEsRUFBSyxJQUFNLFlBQ3RGLEdBQUksR0FBUSxHQUFRLEtBQU0sT0FBTyxFQUFPLEtBQUssRUFBVSxHQUFLLEdBQUcsRUFDL0QsUUFBUyxLQUFRLEVBQU0sQ0FDckIsSUFBSSxFQUFRLEVBQUssR0FDakIsR0FBSSxJQUFJLEtBQUssQ0FBSSxFQUNmLEVBQU8sRUFBSyxNQUFNLE1BQU0sRUFBRSxJQUFJLEtBQVEsRUFBVSxJQUFJLEtBQU8sRUFBSyxRQUFRLElBQUssQ0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsRUFBRyxJQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFDekcsRUFBTyxDQUFNLFVBQ1gsVUFBZ0IsR0FBUyxTQUFVLENBQzVDLElBQUssRUFBTSxNQUFNLElBQUksV0FBVyw0QkFBOEIsRUFBTyxnQ0FBZ0MsRUFDckcsRUFBTyxFQUFjLENBQUksRUFBRyxFQUFPLEVBQU8sQ0FBUyxVQUMxQyxHQUFTLEtBQ2xCLEVBQU0sS0FBSyxFQUFLLFFBQVEsTUFBTyxFQUFFLEVBQUUsUUFBUSxTQUFVLEtBQUssSUFBTSxFQUFFLFlBQVksQ0FBQyxFQUFJLEtBQU8sRUFBUSxHQUFHLEVBR3pHLEdBQUksRUFBTSxRQUFVLEVBQ2xCLEVBQU8sTUFBTSxJQUFXLElBQVMsRUFBYyxFQUFVLElBQUksQ0FBTSxFQUFJLEdBQVcsS0FBSyxJQUFJLEVBQy9FLEtBQU8sRUFBTSxLQUFLLEdBQUcsRUFBSSxHQUFHLEVBSTVDLFFBQVMsS0FBUSxFQUFNLEVBQU8sRUFBYyxDQUFJLEVBQUcsRUFBSyxHQUFPLEtBQUssS0FBSyxFQUszRSxRQUFRLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBTSxLQUFLLElBQUksUUFJakMsUUFBTyxFQUFHLENBQ2YsSUFBSSxFQUFLLEdBQUksS0FBVSxFQUV2QixPQURBLEdBQUksSUFBUyxFQUFLLEVBNURaLFNBNkRLLEVBQUcsU0FBUyxFQUFFLFFBbUJwQixNQUFLLENBQUMsRUFBTSxFQUFTLEVBQVMsQ0FDbkMsSUFBSSxFQUFNLEVBQUssSUFBTSxFQUFRLEdBQVcsRUFBUSxNQUNoRCxJQUFLLEVBQUssRUFBTSxJQUFJLEdBQVMsRUFBTSxDQUFLLFVBQy9CLEVBQU8sRUFBSSxTQUFTLENBQUssRUFDbEMsRUFBSSxNQUFNLE1BQU0sUUFBUSxDQUFPLEVBQUksRUFBVSxDQUFDLENBQU8sRUFBRyxDQUFJLEVBRWhFLENBRUEsSUFBSSxHQUFhLElBQUksSUFFckIsTUFBTSxFQUFTLENBQ2IsV0FBVyxDQUFDLEVBQU0sRUFBTyxDQUN2QixJQUFJLEVBQU0sRUFBSyxlQUFpQixFQUFNLEVBQU0sRUFBSSxZQUNoRCxJQUFLLEVBQUssTUFBUSxFQUFLLG9CQUFzQixFQUFJLGNBQWUsQ0FDOUQsSUFBSSxFQUFVLEdBQVcsSUFBSSxDQUFHLEVBQ2hDLEdBQUksRUFBUyxPQUFPLEVBQUssSUFBTyxFQUNoQyxLQUFLLE1BQVEsSUFBSSxFQUFJLGNBQ3JCLEdBQVcsSUFBSSxFQUFLLElBQUksVUFFeEIsS0FBSyxTQUFXLEVBQUksY0FBYyxPQUFPLEVBQ3JDLEVBQU8sS0FBSyxTQUFTLGFBQWEsUUFBUyxDQUFLLEVBRXRELEtBQUssUUFBVSxDQUFDLEVBQ2hCLEVBQUssSUFBTyxLQUdkLEtBQUssQ0FBQyxFQUFTLEVBQU0sQ0FDbkIsSUFBSSxFQUFRLEtBQUssTUFDYixFQUFNLEVBQTZCLEVBQUksRUFDM0MsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFRLE9BQVEsSUFBSyxDQUN2QyxJQUFJLEVBQU0sRUFBUSxHQUFJLEVBQVEsS0FBSyxRQUFRLFFBQVEsQ0FBRyxFQUN0RCxHQUFJLEVBQVEsR0FBSyxFQUFRLEdBQ3ZCLEtBQUssUUFBUSxPQUFPLEVBQU8sQ0FBQyxFQUM1QixJQUNBLEVBQVEsR0FFVixHQUFJLEdBQVMsSUFFWCxHQURBLEtBQUssUUFBUSxPQUFPLElBQUssRUFBRyxDQUFHLEVBQzNCLEVBQU8sUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFJLE1BQU0sT0FBUSxJQUMvQyxFQUFNLFdBQVcsRUFBSSxNQUFNLEdBQUksR0FBSyxNQUNqQyxDQUNMLE1BQU8sRUFBSSxFQUFPLEdBQU8sS0FBSyxRQUFRLEtBQUssTUFBTSxPQUNqRCxHQUFPLEVBQUksTUFBTSxPQUNqQixLQUlKLEdBQUksR0FDRixHQUFJLEVBQUssbUJBQW1CLFFBQVEsS0FBSyxLQUFLLEVBQUksRUFDaEQsRUFBSyxtQkFBcUIsQ0FBQyxLQUFLLE1BQU8sR0FBRyxFQUFLLGtCQUFrQixNQUM5RCxDQUNMLElBQUksRUFBTyxHQUNYLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxRQUFRLE9BQVEsSUFDdkMsR0FBUSxLQUFLLFFBQVEsR0FBRyxTQUFTLEVBQUksS0FDdkMsS0FBSyxTQUFTLFlBQWMsRUFDNUIsSUFBSSxFQUFTLEVBQUssTUFBUSxFQUMxQixHQUFJLEtBQUssU0FBUyxZQUFjLEVBQzlCLEVBQU8sYUFBYSxLQUFLLFNBQVUsRUFBTyxVQUFVLEdBSTFELFFBQVEsQ0FBQyxFQUFPLENBQ2QsR0FBSSxLQUFLLFVBQVksS0FBSyxTQUFTLGFBQWEsT0FBTyxHQUFLLEVBQzFELEtBQUssU0FBUyxhQUFhLFFBQVMsQ0FBSyxFQUUvQyxDQzdDTyxTQUFTLEVBQU8sQ0FBQyxFQUFPLENBRzdCLElBQUksRUFBWSxJQUFPLEVBQU0sU0FBVyxFQUFNLFdBQWEsRUFBTSxVQUFZLEVBQU0sUUFDL0UsSUFBTSxFQUFNLFVBQVksRUFBTSxLQUFPLEVBQU0sSUFBSSxRQUFVLEdBQ3pELEVBQU0sS0FBTyxlQUNiLEdBQVMsR0FBYSxFQUFNLE1BQzdCLEVBQU0sU0FBVyxHQUFRLElBQU0sRUFBTSxVQUN0QyxFQUFNLEtBQU8sZUFFZixHQUFJLEdBQVEsTUFBTyxFQUFPLFNBQzFCLEdBQUksR0FBUSxNQUFPLEVBQU8sU0FFMUIsR0FBSSxHQUFRLE9BQVEsRUFBTyxZQUMzQixHQUFJLEdBQVEsS0FBTSxFQUFPLFVBQ3pCLEdBQUksR0FBUSxRQUFTLEVBQU8sYUFDNUIsR0FBSSxHQUFRLE9BQVEsRUFBTyxZQUMzQixPQUFPLEVBckhGLElBQUksR0FBTyxDQUNoQixFQUFHLFlBQ0gsRUFBRyxNQUNILEdBQUksUUFDSixHQUFJLFVBQ0osR0FBSSxRQUNKLEdBQUksUUFDSixHQUFJLFVBQ0osR0FBSSxNQUNKLEdBQUksV0FDSixHQUFJLFNBQ0osR0FBSSxJQUNKLEdBQUksU0FDSixHQUFJLFdBQ0osR0FBSSxNQUNKLEdBQUksT0FDSixHQUFJLFlBQ0osR0FBSSxVQUNKLEdBQUksYUFDSixHQUFJLFlBQ0osR0FBSSxjQUNKLEdBQUksU0FDSixHQUFJLFNBQ0osR0FBSSxJQUNKLEdBQUksSUFDSixHQUFJLE9BQ0osR0FBSSxPQUNKLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssVUFDTCxJQUFLLGFBQ0wsSUFBSyxRQUNMLElBQUssUUFDTCxJQUFLLFVBQ0wsSUFBSyxVQUNMLElBQUssTUFDTCxJQUFLLE1BQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxLQUNMLElBQUssSUFDTCxJQUFLLEdBQ1AsRUFFVyxHQUFRLENBQ2pCLEdBQUksSUFDSixHQUFJLElBQ0osR0FBSSxJQUNKLEdBQUksSUFDSixHQUFJLElBQ0osR0FBSSxJQUNKLEdBQUksSUFDSixHQUFJLElBQ0osR0FBSSxJQUNKLEdBQUksSUFDSixHQUFJLElBQ0osR0FBSSxJQUNKLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNQLEVBRUksVUFBYSxXQUFhLGFBQWUsTUFBTSxLQUFLLFVBQVUsUUFBUSxFQUN0RSxVQUFZLFdBQWEsYUFBZSxnREFBZ0QsS0FBSyxVQUFVLFNBQVMsRUFHcEgsSUFBUyxHQUFJLEVBQUcsR0FBSSxHQUFJLEtBQUssR0FBSyxHQUFLLElBQUssR0FBSyxHQUFLLElBQUssT0FBTyxFQUFDLEVBQTFELE9BR1QsSUFBUyxHQUFJLEVBQUcsSUFBSyxHQUFJLEtBQUssR0FBSyxHQUFJLEtBQU8sSUFBTSxHQUEzQyxPQUdULElBQVMsR0FBSSxHQUFJLElBQUssR0FBSSxLQUN4QixHQUFLLElBQUssT0FBTyxhQUFhLEdBQUksRUFBRSxFQUNwQyxHQUFNLElBQUssT0FBTyxhQUFhLEVBQUMsRUFGekIsT0FNVCxJQUFTLE1BQVEsR0FBTSxJQUFLLEdBQU0sZUFBZSxFQUFJLEVBQUcsR0FBTSxJQUFRLEdBQUssSUFBbEUsT0M5RlQsU0FBUyxFQUFZLENBQUMsRUFBTSxDQUN4QixJQUFJLEVBSUosR0FBSSxFQUFLLFVBQVksR0FDakIsRUFBUyxFQUFLLGFBQWUsRUFBTyxFQUFLLGtCQUd6QyxHQUFTLEVBRWIsT0FBTyxFQUFPLGFBQWEsRUFFL0IsU0FBUyxFQUFRLENBQUMsRUFBSyxFQUFNLENBQ3pCLE9BQU8sRUFBTyxHQUFPLEdBQVEsRUFBSSxTQUFTLEVBQUssVUFBWSxFQUFJLEVBQUssV0FBYSxDQUFJLEVBQUksR0FFN0YsU0FBUyxFQUFpQixDQUFDLEVBQUssQ0FDNUIsSUFBSSxFQUFNLEVBQUksY0FDZCxNQUFPLEdBQU8sRUFBSSxXQUNkLEVBQU0sRUFBSSxXQUFXLGNBQ3pCLE9BQU8sRUFFWCxTQUFTLEVBQVksQ0FBQyxFQUFLLEVBQVcsQ0FDbEMsSUFBSyxFQUFVLFdBQ1gsTUFBTyxHQUNYLEdBQUksQ0FJQSxPQUFPLEdBQVMsRUFBSyxFQUFVLFVBQVUsUUFFdEMsRUFBUCxDQUNJLE1BQU8sSUFHZixTQUFTLEVBQWMsQ0FBQyxFQUFLLENBQ3pCLEdBQUksRUFBSSxVQUFZLEVBQ2hCLE9BQU8sR0FBVSxFQUFLLEVBQUcsRUFBSSxVQUFVLE1BQU0sRUFBRSxlQUFlLFVBQ3pELEVBQUksVUFBWSxFQUNyQixPQUFPLEVBQUksZUFBZSxNQUUxQixPQUFPLENBQUMsRUFLaEIsU0FBUyxFQUFvQixDQUFDLEVBQU0sRUFBSyxFQUFZLEVBQVcsQ0FDNUQsT0FBTyxFQUFjLEdBQVEsRUFBTSxFQUFLLEVBQVksRUFBVyxFQUFFLEdBQzdELEdBQVEsRUFBTSxFQUFLLEVBQVksRUFBVyxDQUFDLEVBQUssR0FFeEQsU0FBUyxFQUFRLENBQUMsRUFBTSxDQUNwQixRQUFTLEVBQVEsR0FBSSxJQUVqQixHQURBLEVBQU8sRUFBSyxpQkFDUCxFQUNELE9BQU8sRUFHbkIsU0FBUyxFQUFjLENBQUMsRUFBTSxDQUMxQixPQUFPLEVBQUssVUFBWSxHQUFLLHNEQUFzRCxLQUFLLEVBQUssUUFBUSxFQUV6RyxTQUFTLEVBQU8sQ0FBQyxFQUFNLEVBQUssRUFBWSxFQUFXLEVBQUssQ0FDcEQsT0FBUyxDQUNMLEdBQUksR0FBUSxHQUFjLEdBQU8sRUFDN0IsTUFBTyxHQUNYLEdBQUksSUFBUSxFQUFNLEVBQUksRUFBSSxHQUFVLENBQUksR0FBSSxDQUN4QyxHQUFJLEVBQUssVUFBWSxNQUNqQixNQUFPLEdBQ1gsSUFBSSxFQUFTLEVBQUssV0FDbEIsSUFBSyxHQUFVLEVBQU8sVUFBWSxFQUM5QixNQUFPLEdBQ1gsRUFBTSxHQUFTLENBQUksR0FBSyxFQUFNLEVBQUksRUFBSSxHQUN0QyxFQUFPLFVBRUYsRUFBSyxVQUFZLEVBQUcsQ0FFekIsR0FEQSxFQUFPLEVBQUssV0FBVyxHQUFPLEVBQU0sRUFBSSxHQUFLLElBQ3pDLEVBQUssVUFBWSxHQUFLLEVBQUssaUJBQW1CLFFBQzlDLE1BQU8sR0FDWCxFQUFNLEVBQU0sRUFBSSxHQUFVLENBQUksRUFBSSxNQUdsQyxPQUFPLElBSW5CLFNBQVMsRUFBUyxDQUFDLEVBQU0sQ0FDckIsT0FBTyxFQUFLLFVBQVksRUFBSSxFQUFLLFVBQVUsT0FBUyxFQUFLLFdBQVcsT0FFeEUsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFNLENBQzdCLElBQUksRUFBSSxFQUFPLEVBQUssS0FBTyxFQUFLLE1BQ2hDLE1BQU8sQ0FBRSxLQUFNLEVBQUcsTUFBTyxFQUFHLElBQUssRUFBSyxJQUFLLE9BQVEsRUFBSyxNQUFPLEVBRW5FLFNBQVMsRUFBVSxDQUFDLEVBQUssQ0FDckIsSUFBSSxFQUFLLEVBQUksZUFDYixHQUFJLEVBQ0EsTUFBTyxDQUNILEtBQU0sRUFBRyxNQUFPLEVBQUcsTUFDbkIsSUFBSyxFQUFHLE9BQVEsRUFBRyxNQUN2QixFQUNKLE1BQU8sQ0FBRSxLQUFNLEVBQUcsTUFBTyxFQUFJLFdBQ3pCLElBQUssRUFBRyxPQUFRLEVBQUksV0FBWSxFQUV4QyxTQUFTLEVBQVEsQ0FBQyxFQUFLLEVBQU0sQ0FDekIsSUFBSSxFQUFTLEVBQUssTUFBUSxFQUFJLFlBQzFCLEVBQVMsRUFBSyxPQUFTLEVBQUksYUFDL0IsR0FBSSxFQUFTLE9BQVMsRUFBUyxRQUFVLFNBQVMsQ0FBTSxHQUFLLEtBQUssSUFBSSxFQUFLLE1BQVEsRUFBSSxXQUFXLEVBQUksRUFDbEcsRUFBUyxFQUNiLEdBQUksRUFBUyxPQUFTLEVBQVMsUUFBVSxTQUFTLENBQU0sR0FBSyxLQUFLLElBQUksRUFBSyxPQUFTLEVBQUksWUFBWSxFQUFJLEVBQ3BHLEVBQVMsRUFDYixNQUFPLENBQUUsU0FBUSxRQUFPLEVBRTVCLFNBQVMsRUFBa0IsQ0FBQyxFQUFLLEVBQU0sRUFBTSxFQUFHLEVBQUcsRUFBUyxFQUFTLEVBQUssQ0FDdEUsSUFBSSxFQUFNLEVBQUksY0FBZSxFQUFNLEVBQUksYUFBZSxPQUN0RCxRQUFTLEVBQU0sRUFBSyxFQUFPLEdBQU8sSUFBUSxHQUN0QyxHQUFJLEVBQUksVUFBWSxFQUFHLENBQ25CLElBQUksRUFBVSxFQUFNLEdBQU8sRUFBSSxLQUMzQixFQUFTLEVBQUcsRUFBUyxFQUN6QixHQUFJLEVBQ0EsRUFBVyxHQUFXLENBQUcsTUFFeEIsQ0FDRCxHQUFJLG1CQUFtQixLQUFLLGlCQUFpQixDQUFHLEVBQUUsUUFBUSxFQUN0RCxFQUFPLEdBQ1gsR0FBSSxFQUFJLGNBQWdCLEVBQUksY0FBZ0IsRUFBSSxhQUFlLEVBQUksWUFBYSxDQUM1RSxFQUFNLEVBQUksY0FBZ0IsRUFBSSxXQUM5QixTQUVKLElBQUksRUFBTyxFQUFJLHNCQUFzQixFQUNyQyxDQUFDLENBQUUsU0FBUSxRQUFPLEVBQUksR0FBUyxFQUFLLENBQUksR0FFeEMsRUFBVyxDQUFFLEtBQU0sRUFBSyxLQUFNLE1BQU8sRUFBSyxLQUFPLEVBQUksWUFBYyxFQUMvRCxJQUFLLEVBQUssSUFBSyxPQUFRLEVBQUssSUFBTSxFQUFJLGFBQWUsQ0FBTyxFQUVwRSxJQUFJLEVBQVEsRUFBRyxFQUFRLEVBQ3ZCLEdBQUksR0FBSyxXQUNMLEdBQUksRUFBSyxJQUFNLEVBQVMsS0FFcEIsR0FEQSxJQUFVLEVBQVMsSUFBTSxFQUFLLElBQU0sR0FDaEMsRUFBTyxHQUFLLEVBQUssT0FBUyxFQUFTLE9BQVMsRUFDNUMsRUFBUSxFQUFLLE9BQVMsRUFBUyxPQUFTLEVBQVEsVUFFL0MsRUFBSyxPQUFTLEVBQVMsUUFFNUIsR0FEQSxFQUFRLEVBQUssT0FBUyxFQUFTLE9BQVMsRUFDcEMsRUFBTyxHQUFNLEVBQUssSUFBTSxFQUFTLEVBQVMsSUFDMUMsSUFBVSxFQUFTLElBQU0sRUFBUSxFQUFLLElBQU0sUUFHbkQsQ0FDRCxJQUFJLEVBQWEsRUFBSyxPQUFTLEVBQUssSUFBSyxFQUFpQixFQUFTLE9BQVMsRUFBUyxJQUlyRixHQUhnQixHQUFLLFVBQVksR0FBYyxFQUFpQixFQUFLLElBQU0sRUFBYSxFQUFJLEVBQWlCLEVBQ3pHLEdBQUssU0FBVyxHQUFLLFVBQVksRUFBTyxFQUFJLEVBQUssSUFBTSxFQUNuRCxFQUFLLE9BQVMsRUFBaUIsR0FDbkIsRUFBUyxJQUVqQyxHQUFJLEdBQUssV0FDTCxHQUFJLEVBQUssS0FBTyxFQUFTLE1BRXJCLEdBREEsSUFBVSxFQUFTLEtBQU8sRUFBSyxLQUFPLEdBQ2xDLEVBQU8sR0FBSyxFQUFLLE1BQVEsRUFBUyxNQUFRLEVBQzFDLEVBQVEsRUFBSyxNQUFRLEVBQVMsTUFBUSxFQUFRLFVBRTdDLEVBQUssTUFBUSxFQUFTLE9BRTNCLEdBREEsRUFBUSxFQUFLLE1BQVEsRUFBUyxNQUFRLEVBQ2xDLEVBQU8sR0FBSyxFQUFLLEtBQU8sRUFBUyxLQUFPLEVBQ3hDLElBQVUsRUFBUyxLQUFPLEVBQVEsRUFBSyxLQUFPLFFBT3RELElBSGlCLEdBQUssU0FBVyxFQUFLLE1BQVEsRUFBSyxNQUFRLEVBQUssTUFBUSxHQUFLLEVBQVMsTUFBUSxFQUFTLE1BQVEsRUFDMUcsR0FBSyxTQUFZLEVBQU0sRUFBSyxLQUFPLEVBQ2hDLEVBQUssT0FBUyxFQUFTLE1BQVEsRUFBUyxNQUFRLEdBQ25DLEVBQVMsS0FFbEMsR0FBSSxHQUFTLEVBQ1QsR0FBSSxFQUNBLEVBQUksU0FBUyxFQUFPLENBQUssTUFFeEIsQ0FDRCxJQUFJLEVBQVMsRUFBRyxFQUFTLEVBQ3pCLEdBQUksRUFBTyxDQUNQLElBQUksRUFBUSxFQUFJLFVBQ2hCLEVBQUksV0FBYSxFQUFRLEVBQ3pCLEdBQVUsRUFBSSxVQUFZLEdBQVMsRUFFdkMsR0FBSSxFQUFPLENBQ1AsSUFBSSxFQUFRLEVBQUksV0FDaEIsRUFBSSxZQUFjLEVBQVEsRUFDMUIsR0FBVSxFQUFJLFdBQWEsR0FBUyxFQUl4QyxHQUZBLEVBQU8sQ0FBRSxLQUFNLEVBQUssS0FBTyxFQUFRLElBQUssRUFBSyxJQUFNLEVBQy9DLE1BQU8sRUFBSyxNQUFRLEVBQVEsT0FBUSxFQUFLLE9BQVMsQ0FBTyxFQUN6RCxHQUFVLEtBQUssSUFBSSxFQUFTLENBQUssRUFBSSxFQUNyQyxFQUFJLFVBQ1IsR0FBSSxHQUFVLEtBQUssSUFBSSxFQUFTLENBQUssRUFBSSxFQUNyQyxFQUFJLFVBR2hCLEdBQUksRUFDQSxNQUNKLEVBQU0sRUFBSSxjQUFnQixFQUFJLG1CQUV6QixFQUFJLFVBQVksR0FDckIsRUFBTSxFQUFJLFNBR1YsT0FJWixTQUFTLEVBQWlCLENBQUMsRUFBSyxDQUM1QixJQUFJLEVBQU0sRUFBSSxjQUFlLEVBQUcsRUFDaEMsUUFBUyxFQUFNLEVBQUksV0FBWSxHQUMzQixHQUFJLEdBQU8sRUFBSSxNQUFTLEdBQUssRUFDekIsY0FFSyxFQUFJLFVBQVksRUFBRyxDQUN4QixJQUFLLEdBQUssRUFBSSxhQUFlLEVBQUksYUFDN0IsRUFBSSxFQUNSLElBQUssR0FBSyxFQUFJLFlBQWMsRUFBSSxZQUM1QixFQUFJLEVBQ1IsRUFBTSxFQUFJLGNBQWdCLEVBQUksbUJBRXpCLEVBQUksVUFBWSxHQUNyQixFQUFNLEVBQUksU0FHVixPQUdSLE1BQU8sQ0FBRSxJQUFHLEdBQUUsRUE0QmxCLFNBQVMsRUFBa0IsQ0FBQyxFQUFLLENBQzdCLEdBQUksRUFBSSxVQUNKLE9BQU8sRUFBSSxVQUFVLEVBQ3pCLEdBQUksR0FDQSxPQUFPLEVBQUksTUFBTSxFQUFzQixFQUMzQyxJQUFJLEVBQVEsQ0FBQyxFQUNiLFFBQVMsRUFBTSxFQUFLLEVBQUssRUFBTSxFQUFJLFdBRS9CLEdBREEsRUFBTSxLQUFLLEVBQUssRUFBSSxVQUFXLEVBQUksVUFBVSxFQUN6QyxHQUFPLEVBQUksY0FDWCxNQVFSLEdBTkEsRUFBSSxNQUFNLElBQTBCLEtBQU8sSUFDbkMsY0FBYSxFQUFHLENBRWhCLE9BREEsR0FBeUIsQ0FBRSxjQUFlLEVBQUssRUFDeEMsR0FFZixFQUFJLE1BQVMsR0FDUixHQUF3QixDQUN6QixHQUF5QixHQUN6QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sUUFBUyxDQUMvQixJQUFJLEVBQU0sRUFBTSxLQUFNLEVBQU0sRUFBTSxLQUFNLEVBQU8sRUFBTSxLQUNyRCxHQUFJLEVBQUksV0FBYSxFQUNqQixFQUFJLFVBQVksRUFDcEIsR0FBSSxFQUFJLFlBQWMsRUFDbEIsRUFBSSxXQUFhLElBS2pDLFNBQVMsRUFBUyxDQUFDLEVBQU0sRUFBTSxFQUFLLEVBQU0sQ0FDdEMsSUFBSSxFQUFRLEtBQWlCLEdBQWUsU0FBUyxZQUFZLEdBR2pFLE9BRkEsRUFBTSxPQUFPLEVBQU0sQ0FBRSxFQUNyQixFQUFNLFNBQVMsRUFBTSxDQUFJLEVBQ2xCLEVBRVgsU0FBUyxFQUFXLENBQUMsRUFBSyxFQUFNLEVBQU0sRUFBTSxDQUN4QyxJQUFJLEVBQVUsQ0FBRSxJQUFLLEVBQU0sS0FBTSxFQUFNLFFBQVMsRUFBTSxNQUFPLEVBQU0sV0FBWSxFQUFLLEVBQ3BGLEdBQUksRUFDQSxDQUFDLENBQUUsT0FBUSxFQUFRLE9BQVEsUUFBUyxFQUFRLFFBQVMsU0FBVSxFQUFRLFNBQVUsUUFBUyxFQUFRLE9BQVEsRUFBSSxHQUNsSCxJQUFJLEVBQU8sSUFBSSxjQUFjLFVBQVcsQ0FBTyxFQUMvQyxFQUFLLFVBQVksR0FDakIsRUFBSSxjQUFjLENBQUksRUFDdEIsSUFBSSxFQUFLLElBQUksY0FBYyxRQUFTLENBQU8sRUFHM0MsT0FGQSxFQUFHLFVBQVksR0FDZixFQUFJLGNBQWMsQ0FBRSxFQUNiLEVBQUssa0JBQW9CLEVBQUcsaUJBRXZDLFNBQVMsRUFBTyxDQUFDLEVBQU0sQ0FDbkIsTUFBTyxFQUFNLENBQ1QsR0FBSSxJQUFTLEVBQUssVUFBWSxHQUFLLEVBQUssVUFBWSxJQUFNLEVBQUssTUFDM0QsT0FBTyxFQUNYLEVBQU8sRUFBSyxjQUFnQixFQUFLLFdBRXJDLE9BQU8sS0FFWCxTQUFTLEVBQWUsQ0FBQyxFQUFNLENBQzNCLE1BQU8sRUFBSyxXQUFXLE9BQ25CLEVBQUssb0JBQW9CLEVBQUssV0FBVyxFQUFFLEVBRW5ELFNBQVMsRUFBYyxDQUFDLEVBQUssRUFBVyxDQUNwQyxJQUFxQixVQUFqQixFQUErQyxZQUFuQixHQUFTLEVBQ3pDLElBQUssR0FBUSxFQUFVLFlBQWMsR0FBUSxFQUFVLGNBQWdCLEVBQ25FLE1BQU8sR0FFWCxFQUFTLEtBQUssSUFBSSxFQUFRLEdBQVUsQ0FBSSxDQUFDLEVBQ3pDLE9BQ0ksR0FBSSxFQUFRLENBQ1IsR0FBSSxFQUFLLFVBQVksRUFDakIsTUFBTyxHQUNYLElBQUksRUFBTyxFQUFLLFdBQVcsRUFBUyxHQUNwQyxHQUFJLEVBQUssaUJBQW1CLFFBQ3hCLFFBRUEsR0FBTyxFQUNQLEVBQVMsR0FBVSxDQUFJLFVBR3RCLEdBQVEsRUFDYixNQUFPLE9BR1AsR0FBUyxHQUFTLENBQUksRUFDdEIsRUFBTyxFQUFLLFdBSXhCLFNBQVMsRUFBa0IsQ0FBQyxFQUFLLENBQzdCLE9BQU8sRUFBSSxVQUFZLEtBQUssSUFBSSxFQUFHLEVBQUksYUFBZSxFQUFJLGFBQWUsQ0FBQyxFQUU5RSxTQUFTLEVBQWMsQ0FBQyxFQUFXLEVBQWEsQ0FDNUMsUUFBUyxFQUFPLEVBQVcsRUFBUyxJQUNoQyxHQUFJLEVBQUssVUFBWSxHQUFLLEVBQVMsRUFDL0IsTUFBTyxDQUFFLEtBQU0sRUFBTSxPQUFRLENBQU8sVUFFL0IsRUFBSyxVQUFZLEdBQUssRUFBUyxFQUFHLENBQ3ZDLEdBQUksRUFBSyxpQkFBbUIsUUFDeEIsT0FBTyxLQUNYLEVBQU8sRUFBSyxXQUFXLEVBQVMsR0FDaEMsRUFBUyxHQUFVLENBQUksVUFFbEIsRUFBSyxhQUFlLEdBQWUsQ0FBSSxFQUM1QyxFQUFTLEdBQVMsQ0FBSSxFQUN0QixFQUFPLEVBQUssZUFHWixRQUFPLEtBSW5CLFNBQVMsRUFBYSxDQUFDLEVBQVcsRUFBYSxDQUMzQyxRQUFTLEVBQU8sRUFBVyxFQUFTLElBQ2hDLEdBQUksRUFBSyxVQUFZLEdBQUssRUFBUyxFQUFLLFVBQVUsT0FDOUMsTUFBTyxDQUFFLEtBQU0sRUFBTSxPQUFRLENBQU8sVUFFL0IsRUFBSyxVQUFZLEdBQUssRUFBUyxFQUFLLFdBQVcsT0FBUSxDQUM1RCxHQUFJLEVBQUssaUJBQW1CLFFBQ3hCLE9BQU8sS0FDWCxFQUFPLEVBQUssV0FBVyxHQUN2QixFQUFTLFVBRUosRUFBSyxhQUFlLEdBQWUsQ0FBSSxFQUM1QyxFQUFTLEdBQVMsQ0FBSSxFQUFJLEVBQzFCLEVBQU8sRUFBSyxlQUdaLFFBQU8sS0FrT25CLFNBQVMsRUFBSSxDQUFDLEVBQUssQ0FDZixJQUFJLEVBQU8sRUFBSSxZQUVmLE9BREEsRUFBSSxXQUFXLFlBQVksQ0FBRyxFQUN2QixFQXFCWCxTQUFTLEVBQVksQ0FBQyxFQUFRLEVBQU8sRUFBUyxFQUFLLEVBQU8sRUFBUSxFQUFjLEVBQVcsRUFBUyxDQUNoRyxJQUFNLFlBQWEsRUFDZixFQUFTLEVBQVMsT0FBUyxFQUFTLEdBQVMsS0FDN0MsRUFBTyxFQUFPLE9BQVMsRUFBTyxFQUFPLE9BQVMsR0FBSyxLQUNuRCxFQUFhLEVBQU8sRUFBSyxXQUFhLEVBRTFDLEdBQUksR0FBUyxHQUFPLElBQVcsSUFBaUIsR0FBYyxFQUFPLE9BQVMsR0FDMUUsRUFBTyxNQUFNLEVBQVMsRUFBTyxFQUFPLE9BQVMsRUFBTyxLQUFNLEdBQVcsRUFBRyxFQUFXLENBQU8sRUFDMUYsT0FDSixHQUFJLEVBQU0sRUFBUyxPQUFRLENBQ3ZCLElBQUksRUFBUSxFQUFTLEdBRXJCLEdBQUksSUFBVSxFQUFRLEVBQU0sUUFBVSxFQUFNLGFBQWUsSUFBUyxNQUFRLElBQWMsT0FBUyxPQUFJLEVBQUssYUFBYyxDQUd0SCxHQUFJLEdBQVMsRUFDVCxFQUFRLEVBQU0sTUFBTSxDQUFLLEVBQ3pCLEVBQVEsRUFJWixJQUFLLEdBQWMsR0FBUSxFQUFNLE1BQU0sRUFBRyxFQUFPLEVBQU0sR0FBTSxFQUFHLENBQU8sRUFDbkUsRUFBTyxFQUFPLE9BQVMsR0FBSyxNQUUzQixDQUdELEdBQUksR0FBUyxFQUFNLFNBQVMsU0FBVyxFQUFNLFNBQVMsR0FBRyxPQUNyRCxFQUFNLE1BQU0sRUFBRyxFQUFPLEtBQU0sR0FBTyxFQUFHLENBQU8sRUFDakQsRUFBTyxLQUFLLENBQUssV0FHaEIsSUFBVSxNQUFRLElBQWUsT0FBUyxPQUFJLEVBQU0sV0FHekQsR0FBSSxFQUNBLEVBQUssV0FBYSxNQUVsQixHQUFlLEVBSXZCLElBRUosR0FBSSxHQUVBLEdBREEsRUFBTyxXQUFhLEVBQ2hCLEVBQVUsRUFBRyxDQUNiLElBQUssR0FBZ0IsRUFBTyxRQUFVLEVBQU8sTUFBTSxFQUFTLEVBQU8sT0FBUSxFQUFPLEdBQUksR0FBTyxFQUFXLENBQUMsRUFDckcsRUFBTyxXQUFhLEVBQU8sTUFBTSxFQUFFLG1CQUU5QixFQUFVLEVBQU8sUUFBVSxFQUFPLFNBQVMsUUFBVSxFQUFPLFNBQVMsRUFBTyxTQUFTLE9BQVMsR0FBRyxRQUFVLEVBQ2hILEVBQU8sTUFBTSxFQUFTLEVBQU8sT0FBUSxLQUFNLEdBQU8sRUFBVyxDQUFDLEVBRWxFLEtBSVIsTUFBTyxFQUFRLEdBQU8sRUFBTyxPQUN6QixHQUFJLEVBQVMsRUFBTSxHQUFHLE9BQU8sRUFBTyxFQUFPLE9BQVMsRUFBRSxFQUNsRCxJQUNBLEVBQU8sSUFBSSxFQUNYLEVBQVUsRUFBTyxPQUFTLEVBQUksVUFFekIsRUFBUyxHQUFPLE9BQU8sRUFBTyxFQUFFLEVBQ3JDLElBQ0EsRUFBTyxNQUFNLEVBQ2IsRUFBWSxFQUFPLE9BQVMsRUFBSSxNQUdoQyxPQUdSLElBQUssRUFBTyxRQUFVLEdBQVMsRUFBTSxFQUFTLFNBQVcsRUFBUyxFQUFRLEdBQUcsWUFDekUsRUFBUyxHQUFLLE1BQU0sRUFBRyxFQUFHLEVBQVMsRUFBUSxHQUFJLEdBQU8sRUFBVyxDQUFPLEVBQ3hFLElBQ0osR0FBSSxFQUFRLEdBQU8sRUFBTyxPQUN0QixFQUFPLGdCQUFnQixFQUFPLEVBQUssQ0FBTSxFQUVqRCxTQUFTLEVBQWlCLENBQUMsRUFBUSxFQUFNLEVBQUksRUFBUSxFQUFXLEVBQVMsQ0FDckUsSUFBSSxFQUFNLEVBQU8sWUFBWSxHQUN2QixFQUFHLEVBQUssSUFBSyxHQUFVLEVBQUksUUFBUSxFQUFJLENBQUMsR0FDeEMsRUFBRyxFQUFPLElBQUssR0FBWSxFQUFJLFFBQVEsRUFBTSxFQUFFLEVBQ2pELEVBQU8sRUFBTyxFQUNsQixRQUFTLEtBQVEsRUFDYixHQUFRLEVBQUssT0FDakIsRUFBTyxRQUFVLEVBQ2pCLEdBQWEsRUFBUSxFQUFPLEVBQVMsRUFBSyxFQUFPLEVBQVEsRUFBRyxFQUFXLENBQU8sRUF1SmxGLFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBSyxFQUFNLENBQ2pDLElBQUksRUFBUyxFQUFLLFVBQVUsT0FDNUIsR0FBSSxFQUFNLEVBQ04sRUFBTSxFQUNWLElBQUksRUFBTyxFQUFLLEVBQUssRUFBSyxFQUFVLEVBQ3BDLEdBQUksR0FBTyxHQUFLLEVBQU8sR0FBSyxHQUFPLEdBQVUsR0FBUSxHQUNqRCxLQUFNLEVBQVEsUUFBVSxFQUFRLFFBQzVCLEdBQUksRUFDQSxJQUNBLEVBQVUsVUFFTCxFQUFLLEVBQ1YsSUFDQSxFQUFVLFlBS2QsRUFBTyxFQUNQLFlBQ0ssRUFBSyxFQUNWLElBRVIsSUFBSSxFQUFRLEdBQVUsRUFBTSxFQUFNLENBQUUsRUFBRSxlQUFlLEVBQ3JELElBQUssRUFBTSxPQUNQLE9BQU8sS0FDWCxJQUFJLEVBQU8sRUFBTyxHQUFVLEVBQVUsRUFBSSxHQUFRLEdBQUssRUFBSSxFQUFNLE9BQVMsR0FDMUUsR0FBSSxFQUFRLFNBQVcsR0FBVyxFQUFLLE9BQVMsRUFDNUMsRUFBTyxNQUFNLFVBQVUsS0FBSyxLQUFLLEVBQU8sS0FBSyxFQUFFLEtBQUssR0FBSyxFQUM3RCxPQUFPLEVBQVUsR0FBWSxFQUFNLEVBQVUsQ0FBQyxFQUFJLEdBQVEsS0E4SDlELFNBQVMsRUFBYyxDQUFDLEVBQVEsRUFBSyxDQUNqQyxJQUFJLEVBQU0sRUFBTyxLQUFPLFlBQWEsRUFBUSxFQUFJLEVBQ2pELFFBQVMsRUFBTSxFQUFHLEVBQUksRUFBUyxPQUFRLElBQUssQ0FDeEMsSUFBSSxFQUFRLEVBQVMsR0FBSSxFQUFNLEVBQU0sRUFBTSxPQUMzQyxHQUFJLEdBQU8sR0FBTyxFQUFNLFFBQVEsR0FBSyxFQUNqQyxTQUNKLEdBQUksRUFBTSxHQUFPLEVBQU0sR0FBTyxFQUFNLElBQUksWUFBYyxFQUNsRCxPQUFPLEVBQU0sU0FBUyxFQUFNLENBQUcsRUFDbkMsR0FBSSxHQUFPLEVBQ1AsTUFDSixFQUFNLEVBRVYsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFHLElBQUssQ0FDeEIsSUFBSSxFQUFPLEVBQVMsRUFBSSxHQUN4QixHQUFJLEVBQUssSUFBSSxZQUFjLEVBQ3ZCLE9BQU8sRUFBSyxTQUFTLEVBQUssTUFBTSxFQUV4QyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVMsT0FBUSxJQUFLLENBQ3RDLElBQUksRUFBTyxFQUFTLEdBQ3BCLEdBQUksRUFBSyxJQUFJLFlBQWMsRUFDdkIsT0FBTyxFQUFLLFNBQVMsQ0FBQyxFQUU5QixPQUFPLElBQUksR0FBTyxFQUFLLENBQUMsRUFHNUIsU0FBUyxFQUFjLENBQUMsRUFBUSxFQUFNLEVBQU0sQ0FDeEMsSUFBSSxHQUFRLFlBQWEsRUFDekIsR0FBSSxFQUFPLEdBQUssYUFBZ0IsSUFBWSxFQUFTLFNBQ2hELEVBQU8sRUFBUyxFQUFTLE9BQVMsY0FBZSxJQUFZLEVBQUssS0FBSyxHQUFHLEVBQUssSUFBSSxFQUNwRixHQUFlLEVBQU0sRUFBSyxTQUFTLEdBQUksRUFBTyxDQUFDLE1BRy9DLEdBQVMsS0FBSyxDQUFJLEVBQ2xCLEVBQUssVUFBVSxDQUFNLEVBRXpCLEVBQU8sUUFBVSxFQUFLLE9BRTFCLFNBQVMsRUFBZ0IsQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUN2QyxJQUFJLEVBQVMsS0FBTSxFQUFZLEdBQUksRUFBUSxLQUFNLEVBQVcsR0FDNUQsU0FBUyxDQUFJLENBQUMsRUFBTSxFQUFLLENBQ3JCLFFBQVMsRUFBSSxFQUFHLEVBQU0sRUFBRyxFQUFJLEVBQUssU0FBUyxRQUFVLEdBQU8sRUFBSyxJQUFLLENBQ2xFLElBQUksRUFBUSxFQUFLLFNBQVMsR0FBSSxFQUFNLEVBQU0sRUFBTSxPQUNoRCxHQUFJLEdBQU8sR0FDUCxHQUFJLEVBQU0sU0FBUyxPQUNmLEVBQUssRUFBTyxFQUFNLENBQUcsWUFFZCxHQUFTLEVBQU0sVUFBWSxFQUFPLEtBQ3hDLEVBQU0sR0FBTyxHQUFPLEdBQU8sRUFBTSxRQUFRLEVBQUksR0FDOUMsRUFBUSxFQUNSLEVBQVcsRUFBTSxVQUVaLEVBQU0sR0FBUSxHQUFPLEdBQU8sRUFBTSxRQUFRLEVBQUksSUFBTyxFQUFNLFNBQ2hFLEVBQVMsRUFDVCxFQUFZLEVBQU0sRUFHMUIsRUFBTSxHQUdkLEVBQUssRUFBTSxDQUFHLEVBQ2QsSUFBSSxHQUFVLEVBQU8sRUFBSSxFQUFTLElBQVUsR0FBVSxFQUN0RCxHQUFJLEVBQ0EsT0FBTyxFQUFPLFNBQVMsS0FBSyxJQUFJLEVBQUcsR0FBVSxFQUFTLEVBQVksQ0FBUSxFQUFHLENBQUksRUFDckYsT0FBTyxHQUFhLENBQUksRUFFNUIsU0FBUyxFQUFZLENBQUMsRUFBTSxDQUN4QixJQUFJLEVBQU8sRUFBSyxJQUFJLFVBQ3BCLElBQUssRUFDRCxPQUFPLEVBQUssSUFBSSxzQkFBc0IsRUFDMUMsSUFBSSxFQUFRLEdBQWUsQ0FBSSxFQUMvQixPQUFPLEVBQU0sRUFBTSxPQUFTLElBQU0sS0FHdEMsU0FBUyxFQUFZLENBQUMsRUFBUSxFQUFRLENBQ2xDLFFBQVMsS0FBUSxFQUNiLEdBQUksR0FBUSxTQUFXLEVBQU8sTUFDMUIsRUFBTyxPQUFTLElBQU0sRUFBTyxjQUN4QixHQUFRLFNBQVcsRUFBTyxNQUMvQixFQUFPLE9BQVMsSUFBTSxFQUFPLFVBRTdCLEdBQU8sR0FBUSxFQUFPLEdBRTlCLE9BQU8sRUFHWCxTQUFTLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBUSxDQUMzQixHQUFJLEdBQUssRUFDTCxNQUFPLEdBQ1gsSUFBSyxFQUNELEVBQUksR0FDUixJQUFLLEVBQ0QsRUFBSSxHQUNSLElBQUksRUFBUSxPQUFPLEtBQUssQ0FBQyxFQUFHLEVBQVEsT0FBTyxLQUFLLENBQUMsRUFDakQsR0FBSSxFQUFNLFFBQVUsR0FBVSxFQUFNLFFBQVEsQ0FBTSxFQUFJLEdBQUssRUFBSSxJQUMzRCxFQUFNLFFBQVUsR0FBVSxFQUFNLFFBQVEsQ0FBTSxFQUFJLEdBQUssRUFBSSxHQUMzRCxNQUFPLEdBQ1gsUUFBUyxLQUFPLEVBQ1osR0FBSSxHQUFPLElBQVcsRUFBTSxRQUFRLENBQUcsR0FBSyxJQUFNLEVBQUUsS0FBUyxFQUFFLElBQzNELE1BQU8sR0FFZixNQUFPLEdBRVgsU0FBUyxFQUFXLENBQUMsRUFBSyxFQUFNLEVBQU8sQ0FDbkMsSUFBSSxFQUFVLEdBQ2QsR0FBSSxHQUNBLFFBQVMsS0FBUSxFQUNiLEtBQU0sSUFBUyxLQUFRLElBRW5CLEdBREEsRUFBVSxHQUNOLEdBQVEsUUFDUixFQUFJLE1BQU0sUUFBVSxPQUVwQixHQUFJLGdCQUFnQixDQUFJLEVBRXhDLEdBQUksR0FDQSxRQUFTLEtBQVEsRUFDYixLQUFNLEdBQVEsRUFBSyxJQUFTLEVBQU0sSUFFOUIsR0FEQSxFQUFVLEdBQ04sR0FBUSxRQUNSLEVBQUksTUFBTSxRQUFVLEVBQU0sT0FFMUIsR0FBSSxhQUFhLEVBQU0sRUFBTSxFQUFLLEVBRWxELE9BQU8sRUFFWCxTQUFTLEVBQVEsQ0FBQyxFQUFLLENBQ25CLElBQUksRUFBUSxPQUFPLE9BQU8sSUFBSSxFQUM5QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksV0FBVyxPQUFRLElBQUssQ0FDNUMsSUFBSSxFQUFPLEVBQUksV0FBVyxHQUMxQixFQUFNLEVBQUssTUFBUSxFQUFLLE1BRTVCLE9BQU8sRUE0UVgsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFRLEdBQU8sQ0FDdkMsSUFBTSxlQUFnQixFQUFPLGFBQWMsR0FBUSxFQUNuRCxHQUFJLEdBQVMsS0FDVCxFQUFRLEVBQUssVUFDakIsR0FBSSxHQUFPLEtBQ1AsRUFBTSxFQUFLLFVBQ2YsTUFBTyxDQUFFLE1BQU8sSUFBVSxNQUFRLElBQWUsT0FBSSxFQUFRLEVBQU8sSUFBSyxJQUFRLE1BQVEsSUFBYSxPQUFJLEVBQU0sQ0FBTSxFQUUxSCxTQUFTLEVBQVMsQ0FBQyxFQUFHLEVBQUcsQ0FDckIsT0FBTyxHQUFLLE1BQVEsR0FBSyxHQUFLLEVBQUUsUUFBUSxDQUFDLEdBRTdDLFNBQVMsRUFBUSxDQUFDLEVBQU0sRUFBSSxFQUFRLEVBQVMsRUFBRyxDQUM1QyxJQUFJLEVBQU8sRUFBTyxPQUFTLEVBQzNCLEdBQUksR0FBUSxHQUFLLEVBQU8sR0FBUSxHQUFVLEVBQ3RDLEVBQU8sR0FBUSxLQUFLLElBQUksRUFBTyxHQUFPLENBQUUsTUFFeEMsR0FBTyxLQUFLLEVBQU0sQ0FBRSxFQWdhNUIsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFRLENBQzdCLFFBQVMsS0FBUSxFQUNiLEVBQU8sSUFBSSxHQUFTLEVBQU0sQ0FBQyxDQUFJLEVBQUcsRUFBSyxNQUFNLEVBQ2pELE9BQU8sRUFnQ1gsU0FBUyxFQUFHLENBQUMsRUFBSyxDQUNkLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFJLE9BQVEsSUFDNUIsRUFBTyxLQUFLLElBQU0sRUFBSSxFQUFFLEVBQzVCLE9BQU8sRUFlWCxTQUFTLEVBQVEsQ0FBQyxFQUFJLENBQ2xCLE9BQU8sR0FBTSxJQUFPLEdBQVMsR0FDekIsTUFBUyxHQUFNLEdBQU0sS0FBUSxFQUN6QixNQUFTLEdBQU0sR0FBTSxLQUFRLEdBQVksRUFBSyxNQUMxQyxNQUFTLEdBQU0sR0FBTSxLQUFRLEVBQ3pCLE1BQVUsR0FBTSxHQUFNLEtBQVMsSUFDM0IsT0FBVSxHQUFNLEdBQU0sTUFBUyxFQUFlLEVBa0V0RSxTQUFTLEVBQVUsQ0FBQyxFQUFHLEVBQUcsQ0FDdEIsR0FBSSxFQUFFLFFBQVUsRUFBRSxPQUNkLE1BQU8sR0FDWCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUUsT0FBUSxJQUFLLENBQy9CLElBQUksRUFBSyxFQUFFLEdBQUksRUFBSyxFQUFFLEdBQ3RCLEdBQUksRUFBRyxNQUFRLEVBQUcsTUFBUSxFQUFHLElBQU0sRUFBRyxJQUFNLEVBQUcsV0FBYSxFQUFHLFlBQWMsR0FBVyxFQUFHLE1BQU8sRUFBRyxLQUFLLEVBQ3RHLE1BQU8sR0FFZixNQUFPLEdBTVgsU0FBUyxFQUFnQixDQUFDLEVBQU0sRUFBTyxFQUFLLEVBQVUsRUFBVyxDQUM3RCxRQUFTLEVBQUssRUFBRyxHQUFNLEVBQVMsT0FBUSxJQUFNLENBQzFDLElBQUksRUFBTyxFQUFLLEVBQVMsRUFBSyxHQUFHLEdBQUssRUFBTyxFQUFLLEVBQUssRUFBUyxPQUFTLEVBQVMsR0FBSSxLQUFPLEVBQ3pGLEVBQVcsRUFBSyxJQUFpQixFQVdyQyxRQUFTLEVBQUksRUFBTSxFQUFPLEVBQVUsRUFBYSxFQUFVLEVBQUksRUFBSSxJQUFLLENBQ3BFLElBQUksRUFBTyxHQUFTLEVBQUssV0FBVyxDQUFDLENBQUMsRUFDdEMsR0FBSSxHQUFRLElBQ1IsRUFBTyxVQUNGLEdBQVEsR0FBZ0IsR0FBYyxFQUMzQyxFQUFPLEdBRVgsR0FEQSxFQUFNLEdBQUssR0FBUSxFQUFlLEVBQWMsRUFDNUMsRUFBTyxFQUNQLEVBQWEsRUFDakIsRUFBTyxFQVVYLFFBQVMsRUFBSSxFQUFNLEVBQU8sRUFBVSxFQUFhLEVBQVUsRUFBSSxFQUFJLElBQUssQ0FDcEUsSUFBSSxFQUFPLEVBQU0sR0FDakIsR0FBSSxHQUFRLElBQ1IsR0FBSSxFQUFJLEVBQUssR0FBSyxHQUFRLEVBQU0sRUFBSSxJQUFPLEVBQU8sR0FDOUMsRUFBTyxFQUFNLEdBQUssTUFFbEIsR0FBTSxHQUFLLFlBRVYsR0FBUSxHQUFlLENBQzVCLElBQUksRUFBTSxFQUFJLEVBQ2QsTUFBTyxFQUFNLEdBQU0sRUFBTSxJQUFRLEdBQzdCLElBQ0osSUFBSSxFQUFXLEdBQUssR0FBUSxHQUFrQixFQUFNLEdBQU8sRUFBTSxJQUFRLEVBQWlCLEdBQWMsRUFBYyxFQUFjLEVBQWdCLElBQ3BKLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSyxJQUNyQixFQUFNLEdBQUssRUFDZixFQUFJLEVBQU0sVUFFTCxHQUFRLEdBQWdCLEdBQWMsRUFDM0MsRUFBTSxHQUFLLEVBR2YsR0FEQSxFQUFPLEVBQ0gsRUFBTyxFQUNQLEVBQWEsSUFLN0IsU0FBUyxFQUFtQixDQUFDLEVBQU0sRUFBTyxFQUFLLEVBQVUsRUFBVyxDQUNoRSxJQUFJLEVBQWUsR0FBYSxFQUFjLEVBQWMsRUFDNUQsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFHLEVBQVUsRUFBRyxHQUFNLEVBQVMsT0FBUSxJQUFNLENBQy9ELElBQUksRUFBTyxFQUFLLEVBQVMsRUFBSyxHQUFHLEdBQUssRUFBTyxFQUFLLEVBQUssRUFBUyxPQUFTLEVBQVMsR0FBSSxLQUFPLEVBSzdGLFFBQVMsRUFBSSxFQUFNLEVBQUksRUFBSSxFQUFNLEVBQUksRUFBSSxJQUdyQyxHQUFJLEVBQUssR0FBUyxFQUFLLEVBQUssV0FBVyxDQUFDLEdBQ3BDLEdBQUksRUFBSyxHQUNMLFFBQVMsRUFBSyxFQUFLLEVBQUcsR0FBTSxFQUFHLEdBQU0sRUFDakMsR0FBSSxHQUFhLEVBQUssS0FBTyxFQUFJLENBQzdCLElBQUksRUFBUSxHQUFhLEVBQUssR0FDMUIsRUFBUSxFQUFRLEVBQWlDLElBQy9DLEVBQVEsR0FBb0MsRUFDekMsRUFBUSxFQUFvQyxFQUFlLEVBQ3BFLEdBQUksRUFDQSxFQUFNLEdBQUssRUFBTSxHQUFhLElBQU8sRUFDekMsRUFBSyxFQUNMLGVBSUgsR0FBYSxRQUFVLElBQzVCLFVBR0EsSUFBYSxLQUFRLEVBQ3JCLEdBQWEsS0FBUSxFQUNyQixHQUFhLEtBQVEsV0FHbkIsRUFBTyxFQUFNLEtBQU8sR0FBZSxHQUFRLEVBQWEsQ0FDOUQsSUFBSSxFQUFRLEdBQVEsRUFDcEIsRUFBVSxFQUFRLEVBQUksRUFDdEIsUUFBUyxFQUFLLEVBQUssRUFBRyxHQUFNLEVBQUcsR0FBTSxFQUFHLENBQ3BDLElBQUksRUFBTSxHQUFhLEVBQUssR0FDNUIsR0FBSSxFQUFNLEVBQ04sTUFDSixHQUFJLEVBQ0EsR0FBYSxFQUFLLElBQU0sTUFFdkIsQ0FDRCxHQUFJLEVBQU0sRUFDTixNQUNKLEdBQWEsRUFBSyxJQUFNLE1BT2hELFNBQVMsRUFBZSxDQUFDLEVBQU8sRUFBSyxFQUFVLEVBQVcsQ0FDdEQsUUFBUyxFQUFLLEVBQUcsRUFBTyxFQUFXLEdBQU0sRUFBUyxPQUFRLElBQU0sQ0FDNUQsSUFBSSxFQUFPLEVBQUssRUFBUyxFQUFLLEdBQUcsR0FBSyxFQUFPLEVBQUssRUFBSyxFQUFTLE9BQVMsRUFBUyxHQUFJLEtBQU8sRUFRN0YsUUFBUyxFQUFJLEVBQU0sRUFBSSxHQUFLLENBQ3hCLElBQUksRUFBTyxFQUFNLEdBQ2pCLEdBQUksR0FBUSxJQUFnQixDQUN4QixJQUFJLEVBQU0sRUFBSSxFQUNkLE9BQ0ksR0FBSSxHQUFPLEVBQUksQ0FDWCxHQUFJLEdBQU0sRUFBUyxPQUNmLE1BQ0osRUFBTSxFQUFTLEtBQU0sR0FDckIsRUFBSyxFQUFLLEVBQVMsT0FBUyxFQUFTLEdBQUksS0FBTyxVQUUzQyxFQUFNLElBQVEsSUFDbkIsUUFHQSxPQUdSLElBQUksRUFBVSxHQUFRLEVBQ2xCLEdBQVUsRUFBTSxFQUFNLEVBQU0sR0FBTyxJQUFjLEVBQ2pELEVBQVUsR0FBVyxFQUFVLEVBQVUsRUFBYyxFQUFlLEVBQzFFLFFBQVMsRUFBSSxFQUFLLEVBQUssRUFBSSxFQUFRLEVBQUssRUFBUyxFQUFLLEdBQUcsR0FBSyxFQUFPLEVBQUksR0FBSSxDQUN6RSxHQUFJLEdBQUssRUFDTCxFQUFJLEVBQVMsRUFBRSxHQUFJLEtBQ25CLEVBQVEsRUFBSyxFQUFTLEVBQUssR0FBRyxHQUFLLEVBRXZDLEVBQU0sRUFBRSxHQUFLLEVBRWpCLEVBQUksTUFHSixHQUFPLEVBQ1AsTUFTaEIsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFNLEVBQUksRUFBTyxFQUFXLEVBQVUsRUFBTyxDQUNsRSxJQUFJLEVBQVUsRUFBUSxFQUFJLEVBQWMsRUFDeEMsR0FBSyxFQUFRLEdBQU8sRUFBWSxFQUM1QixRQUFTLEVBQU0sRUFBTSxFQUFLLEVBQUcsRUFBTSxHQUFLLENBS3BDLElBQUksRUFBVSxHQUFNLEVBQVEsR0FDNUIsR0FBSSxHQUFNLEVBQVMsUUFBVSxFQUFNLEVBQVMsR0FBSSxLQUFNLENBQ2xELElBQUksRUFBTyxFQUFNLEdBQ2pCLEdBQUksR0FBUSxFQUNSLEVBQVUsR0FDVixFQUFRLEdBQVEsR0FNeEIsSUFBSSxHQUFXLEdBQVcsR0FBVyxFQUFjLENBQUMsRUFBSSxLQUNwRCxFQUFhLEVBQVUsRUFBUSxFQUFRLEVBQ3ZDLEVBQVEsRUFDWixFQUFLLE9BQ0QsR0FBSSxFQUFLLEVBQVMsUUFBVSxHQUFTLEVBQVMsR0FBSSxLQUFNLENBQ3BELEdBQUksRUFDQSxRQUNKLElBQUksRUFBTSxFQUFTLEdBRW5CLElBQUssRUFDRCxRQUFTLEVBQU8sRUFBSSxHQUFJLEVBQUssRUFBSyxJQUFLLENBQ25DLEdBQUksR0FBUSxFQUNSLFFBQ0osR0FBSSxFQUFLLEVBQVMsUUFBVSxFQUFTLEdBQUksTUFBUSxFQUM3QyxFQUFPLEVBQVMsS0FBTSxXQUNqQixFQUFNLElBQVMsRUFDcEIsWUFFQSxPQUdaLEdBREEsSUFDSSxFQUNBLEVBQVEsS0FBSyxDQUFHLE1BRWYsQ0FDRCxHQUFJLEVBQUksS0FBTyxFQUNYLEVBQU0sS0FBSyxJQUFJLEdBQVMsRUFBSyxFQUFJLEtBQU0sQ0FBVSxDQUFDLEVBQ3RELElBQUksRUFBVyxFQUFJLFdBQWEsTUFBVSxFQUFhLEdBQ3ZELEdBQW9CLEVBQU0sRUFBVSxFQUFRLEVBQUksRUFBTyxFQUFXLEVBQUksTUFBTyxFQUFJLEtBQU0sRUFBSSxHQUFJLENBQUssRUFDcEcsRUFBTSxFQUFJLEdBRWQsRUFBUSxFQUFJLFdBRVAsR0FBUyxJQUFPLEVBQVUsRUFBTSxJQUFVLEVBQVUsRUFBTSxJQUFVLEdBQ3pFLFVBR0EsS0FHUixHQUFJLEVBQ0EsR0FBVSxFQUFNLEVBQUssRUFBTyxFQUFRLEVBQUcsRUFBVyxFQUFTLENBQUssVUFDM0QsRUFBTSxFQUNYLEVBQU0sS0FBSyxJQUFJLEdBQVMsRUFBSyxFQUFPLENBQVUsQ0FBQyxFQUNuRCxFQUFNLE1BTVYsU0FBUyxFQUFNLEVBQUksRUFBSyxFQUFTLE9BQVEsRUFBTSxHQUFPLENBQ2xELElBQUksRUFBVSxHQUFNLEVBQVEsR0FDNUIsSUFBSyxHQUFNLEVBQU0sRUFBUyxFQUFLLEdBQUcsR0FBSSxDQUNsQyxJQUFJLEVBQU8sRUFBTSxFQUFNLEdBQ3ZCLEdBQUksR0FBUSxFQUNSLEVBQVUsR0FDVixFQUFRLEdBQVEsR0FHeEIsSUFBSSxHQUFXLEdBQVcsR0FBVyxFQUFjLENBQUMsRUFBSSxLQUNwRCxFQUFhLEVBQVUsRUFBUSxFQUFRLEVBQ3ZDLEVBQVEsRUFDWixFQUFLLE9BQ0QsR0FBSSxHQUFNLEdBQVMsRUFBUyxFQUFLLEdBQUcsR0FBSSxDQUNwQyxHQUFJLEVBQ0EsUUFDSixJQUFJLEVBQU0sRUFBUyxFQUFFLEdBRXJCLElBQUssRUFDRCxRQUFTLEVBQU8sRUFBSSxLQUFNLEVBQUssSUFBTSxDQUNqQyxHQUFJLEdBQVEsRUFDUixRQUNKLEdBQUksR0FBTSxFQUFTLEVBQUssR0FBRyxJQUFNLEVBQzdCLEVBQU8sRUFBUyxFQUFFLEdBQUksYUFDakIsRUFBTSxFQUFPLElBQU0sRUFDeEIsWUFFQSxPQUVaLEdBQUksRUFDQSxFQUFRLEtBQUssQ0FBRyxNQUVmLENBQ0QsR0FBSSxFQUFJLEdBQUssRUFDVCxFQUFNLEtBQUssSUFBSSxHQUFTLEVBQUksR0FBSSxFQUFLLENBQVUsQ0FBQyxFQUNwRCxJQUFJLEVBQVcsRUFBSSxXQUFhLE1BQVUsRUFBYSxHQUN2RCxHQUFvQixFQUFNLEVBQVUsRUFBUSxFQUFJLEVBQU8sRUFBVyxFQUFJLE1BQU8sRUFBSSxLQUFNLEVBQUksR0FBSSxDQUFLLEVBQ3BHLEVBQU0sRUFBSSxLQUVkLEVBQVEsRUFBSSxhQUVQLEdBQVMsSUFBUyxFQUFVLEVBQU0sRUFBUSxJQUFNLEVBQVUsRUFBTSxFQUFRLElBQU0sR0FDbkYsVUFHQSxLQUdSLEdBQUksRUFDQSxHQUFVLEVBQU0sRUFBTyxFQUFLLEVBQVEsRUFBRyxFQUFXLEVBQVMsQ0FBSyxVQUMzRCxFQUFRLEVBQ2IsRUFBTSxLQUFLLElBQUksR0FBUyxFQUFPLEVBQUssQ0FBVSxDQUFDLEVBQ25ELEVBQU0sR0FJbEIsU0FBUyxFQUFtQixDQUFDLEVBQU0sRUFBTyxFQUFXLEVBQVUsRUFBTSxFQUFJLEVBQU8sQ0FDNUUsSUFBSSxFQUFhLEVBQVEsRUFBSSxFQUFjLEVBQzNDLEdBQWlCLEVBQU0sRUFBTSxFQUFJLEVBQVUsQ0FBUyxFQUNwRCxHQUFvQixFQUFNLEVBQU0sRUFBSSxFQUFVLENBQVMsRUFDdkQsR0FBZ0IsRUFBTSxFQUFJLEVBQVUsQ0FBUyxFQUM3QyxHQUFVLEVBQU0sRUFBTSxFQUFJLEVBQU8sRUFBVyxFQUFVLENBQUssRUFFL0QsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFXLEVBQVUsQ0FDN0MsSUFBSyxFQUNELE1BQU8sQ0FBQyxJQUFJLEdBQVMsRUFBRyxFQUFHLEdBQWEsR0FBTSxFQUFJLENBQUMsQ0FBQyxFQUN4RCxHQUFJLEdBQWEsS0FBUSxFQUFTLFNBQVcsR0FBTyxLQUFLLENBQUksRUFDekQsT0FBTyxHQUFhLEVBQUssTUFBTSxFQUNuQyxHQUFJLEVBQVMsT0FDVCxNQUFPLEVBQUssT0FBUyxFQUFNLE9BQ3ZCLEVBQU0sRUFBTSxRQUFVLElBQzlCLElBQUksRUFBUSxDQUFDLEVBQUcsRUFBUSxHQUFhLEdBQU0sRUFBSSxFQUUvQyxPQURBLEdBQW9CLEVBQU0sRUFBTyxFQUFPLEVBQVUsRUFBRyxFQUFLLE9BQVEsQ0FBSyxFQUNoRSxFQUVYLFNBQVMsRUFBWSxDQUFDLEVBQVEsQ0FDMUIsTUFBTyxDQUFDLElBQUksR0FBUyxFQUFHLEVBQVEsQ0FBQyxDQUFDLEVBZ0J0QyxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQU8sRUFBSyxFQUFPLEVBQVMsQ0FDcEQsSUFBSSxFQUNKLElBQUksRUFBYSxFQUFNLEtBQU8sRUFBSyxLQUMvQixFQUFRLEdBQVMsS0FBSyxFQUFPLEdBQWEsRUFBSyxFQUFNLGFBQWUsTUFBUSxJQUFZLE9BQUksRUFBSyxHQUFJLEVBQU0sS0FBSyxFQUNoSCxFQUFPLEVBQU0sR0FBUSxFQUFVLEVBQUssS0FBSyxFQUFTLENBQUcsRUFFekQsR0FBSSxHQUFjLEVBQVMsQ0FDdkIsSUFBSSxFQUFRLEdBQVMsRUFBVSxFQUFJLEdBQ25DLEdBQUksRUFBUSxHQUFLLEdBQVMsRUFBTSxPQUM1QixPQUFPLEtBQ1gsRUFBTyxFQUFNLEVBQVEsR0FDckIsRUFBYSxFQUFLLE1BQU0sRUFBUyxDQUFHLEVBQ3BDLEVBQVUsRUFBSyxLQUFLLEVBQVMsQ0FBRyxFQUVwQyxJQUFJLEVBQVksR0FBaUIsRUFBSyxLQUFNLEVBQVksRUFBSyxRQUFRLEVBQVMsQ0FBRyxDQUFDLEVBQ2xGLEdBQUksRUFBWSxFQUFLLE1BQVEsRUFBWSxFQUFLLEdBQzFDLEVBQVksRUFDaEIsR0FBWSxFQUFLLEtBQUssTUFBTSxLQUFLLElBQUksRUFBWSxDQUFTLEVBQUcsS0FBSyxJQUFJLEVBQVksQ0FBUyxDQUFDLEVBQzVGLElBQUksRUFBVyxJQUFVLEVBQVUsRUFBTSxPQUFTLEVBQUksR0FBSyxLQUFPLEVBQU0sR0FBUyxFQUFVLEVBQUksS0FDL0YsR0FBSSxHQUFZLEdBQWEsR0FBVyxFQUFTLE9BQVMsRUFBVSxFQUFJLEdBQUssRUFBSyxNQUM5RSxPQUFPLEVBQWdCLE9BQU8sRUFBUyxNQUFNLEVBQVMsQ0FBRyxFQUFJLEVBQUssS0FBTSxFQUFTLFFBQVEsRUFBUyxDQUFHLEVBQUksRUFBSSxHQUFJLEVBQVMsS0FBSyxFQUNuSSxPQUFPLEVBQWdCLE9BQU8sRUFBWSxFQUFLLEtBQU0sRUFBSyxRQUFRLEVBQVMsQ0FBRyxFQUFJLEdBQUssRUFBRyxFQUFLLEtBQUssRUFFeEcsU0FBUyxFQUFhLENBQUMsRUFBTSxFQUFNLEVBQUksQ0FDbkMsUUFBUyxFQUFJLEVBQU0sRUFBSSxFQUFJLElBQUssQ0FDNUIsSUFBSSxFQUFPLEdBQVMsRUFBSyxXQUFXLENBQUMsQ0FBQyxFQUN0QyxHQUFJLEdBQVEsRUFDUixPQUFPLEdBQ1gsR0FBSSxHQUFRLEdBQWUsR0FBUSxFQUMvQixPQUFPLEdBRWYsT0FBTyxHQTBEWCxTQUFTLEVBQVksQ0FBQyxFQUFPLEVBQVcsRUFBUyxDQUM3QyxJQUFJLEVBQVUsRUFBTSxNQUFNLEVBQWEsRUFDdkMsR0FBSSxFQUFRLE9BQ1IsRUFBUSxHQUFHLENBQVMsVUFDZixPQUFPLFFBQ1osT0FBTyxRQUFRLE9BQU8sQ0FBUyxFQUFHLEVBQVMsT0FBVyxPQUFXLENBQVMsVUFDckUsRUFDTCxRQUFRLE1BQU0sRUFBVSxJQUFLLENBQVMsTUFFdEMsU0FBUSxNQUFNLENBQVMsRUE4SC9CLFNBQVMsRUFBaUIsQ0FBQyxFQUFNLEVBQU0sQ0FDbkMsSUFBSSxFQUFXLEVBQUssTUFBTSxNQUFNLEVBQWtCLEVBQ2xELElBQUssRUFBUyxPQUNWLE9BQU8sRUFDWCxJQUFJLEVBQU8sRUFBUyxJQUFJLEtBQUssYUFBYSxTQUFXLEVBQUUsQ0FBSSxFQUFJLENBQUMsRUFDNUQsRUFBUyxDQUFDLEVBdUJkLE9BdEJBLEVBQVMsTUFBTSxFQUFNLEVBQUssS0FBTSxFQUFLLEdBQUksQ0FDckMsS0FBSyxFQUFHLEdBQ1IsSUFBSSxDQUFDLEVBQVMsRUFBTyxFQUFRLEVBQU0sQ0FDL0IsSUFBSSxFQUFPLEVBQVUsRUFBSyxLQUFNLEVBQUssRUFBUSxFQUFLLEtBQzlDLEVBQVEsRUFDWixRQUFTLEVBQUksRUFBTyxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssSUFBUSxDQUNqRCxJQUFJLEVBQVksRUFBTyxHQUFHLEtBQUssWUFBYSxFQUM1QyxHQUFJLEdBQWEsS0FDYixFQUFZLEdBQWMsRUFBSyxLQUFNLEVBQU0sQ0FBRSxFQUNqRCxHQUFJLEVBQU8sR0FBSyxFQUFNLFNBQ2pCLEVBQVMsRUFBTSxFQUFNLE9BQVMsSUFBSSxJQUFNLEdBQVEsRUFBTyxXQUFhLEVBQ3JFLEVBQU8sR0FBSyxFQUNaLEVBQVEsRUFBTyxVQUVkLENBQ0QsSUFBSSxFQUFNLENBQUUsT0FBTSxLQUFJLFlBQVcsTUFBTyxDQUFDLENBQUUsRUFDM0MsRUFBTSxLQUFLLENBQUcsRUFDZCxFQUFRLEVBQUksUUFJNUIsQ0FBQyxFQUNNLEVBR1gsU0FBUyxFQUFnQixDQUFDLEVBQU0sQ0FDNUIsSUFBSSxFQUFPLEVBQUcsRUFBUSxFQUFHLEVBQU0sRUFBRyxFQUFTLEVBQzNDLFFBQVMsS0FBVSxFQUFLLE1BQU0sTUFBTSxFQUFhLEVBQUcsQ0FDaEQsSUFBSSxFQUFJLEVBQU8sQ0FBSSxFQUNuQixHQUFJLEVBQUcsQ0FDSCxHQUFJLEVBQUUsTUFBUSxLQUNWLEVBQU8sS0FBSyxJQUFJLEVBQU0sRUFBRSxJQUFJLEVBQ2hDLEdBQUksRUFBRSxPQUFTLEtBQ1gsRUFBUSxLQUFLLElBQUksRUFBTyxFQUFFLEtBQUssRUFDbkMsR0FBSSxFQUFFLEtBQU8sS0FDVCxFQUFNLEtBQUssSUFBSSxFQUFLLEVBQUUsR0FBRyxFQUM3QixHQUFJLEVBQUUsUUFBVSxLQUNaLEVBQVMsS0FBSyxJQUFJLEVBQVEsRUFBRSxNQUFNLEdBRzlDLE1BQU8sQ0FBRSxPQUFNLFFBQU8sTUFBSyxRQUFPLEVBb3JCdEMsU0FBUyxFQUFpQixDQUFDLEVBQUssQ0FDNUIsT0FBTyxFQUFJLEtBQUssVUFBWSxHQUFLLEVBQUksS0FBSyxhQUNyQyxFQUFJLFFBQVUsR0FBSyxFQUFJLEtBQUssV0FBVyxFQUFJLE9BQVMsR0FBRyxpQkFBbUIsV0FDMUUsRUFBSSxRQUFVLEVBQUksS0FBSyxXQUFXLFFBQVUsRUFBSSxLQUFLLFdBQVcsRUFBSSxRQUFRLGlCQUFtQixTQUV4RyxTQUFTLEVBQW1CLENBQUMsRUFBTSxFQUFTLENBQ3hDLElBQUksRUFBTSxFQUFLLFNBQVMsZUFDeEIsSUFBSyxFQUFJLFVBQ0wsT0FBTyxLQUNYLElBQUksRUFBYSxHQUFlLEVBQUksVUFBVyxFQUFJLFdBQVcsRUFDMUQsRUFBWSxHQUFjLEVBQUksVUFBVyxFQUFJLFdBQVcsRUFDeEQsRUFBVyxHQUFjLEVBQzdCLEdBQUksR0FBYSxHQUFjLEVBQVUsTUFBUSxFQUFXLEtBQU0sQ0FDOUQsSUFBSSxFQUFZLEVBQVksSUFBSSxFQUFVLElBQUksRUFDOUMsSUFBSyxHQUFhLGFBQXFCLElBQVksRUFBVSxNQUFRLEVBQVUsS0FBSyxVQUNoRixFQUFXLFVBRU4sRUFBSyxRQUFRLDJCQUE0QixDQUM5QyxJQUFJLEVBQWEsRUFBWSxJQUFJLEVBQVcsSUFBSSxFQUNoRCxNQUFPLEdBQWMsYUFBc0IsSUFBWSxFQUFXLE1BQVEsRUFBVyxLQUFLLFdBQ3RGLEVBQVcsR0FJdkIsR0FEQSxFQUFLLFFBQVEsMkJBQTZCLEdBQVksR0FDakQsRUFDRCxPQUFPLEtBQ1gsSUFBSSxFQUFPLEVBQVUsRUFBUyxPQUM5QixNQUFPLENBQUUsT0FBTSxHQUFJLEVBQU8sRUFBUyxLQUFLLFVBQVUsT0FBUSxLQUFNLEVBQVMsSUFBSyxFQUVsRixTQUFTLEVBQW9CLENBQUMsRUFBTSxFQUFTLEVBQVMsQ0FDbEQsSUFBSSxFQUFRLEdBQW9CLEVBQU0sQ0FBTyxFQUM3QyxJQUFLLEVBQ0QsT0FBTyxLQUNYLElBQU0sS0FBTSxFQUFVLE9BQU0sTUFBTyxFQUFPLEVBQU8sRUFBUyxVQUUxRCxHQUFJLFNBQVMsS0FBSyxDQUFJLEVBQ2xCLE9BQU8sS0FDWCxHQUFJLEVBQUssTUFBTSxJQUFJLFlBQVksRUFBTSxLQUFNLEVBQU0sRUFBRSxHQUFLLEVBQ3BELE9BQU8sS0FDWCxJQUFJLEVBQU0sRUFBUSxhQUNkLEVBQVEsSUFBSSxHQUFhLEVBQUksT0FBTyxDQUFJLEVBQUcsRUFBSSxPQUFPLENBQUUsRUFBRyxFQUFNLENBQUUsRUFDbkUsRUFBUSxDQUFDLEVBQ2IsUUFBUyxFQUFTLEVBQVMsWUFBYSxFQUFTLEVBQU8sV0FBWSxDQUNoRSxJQUFJLEVBQWEsRUFBWSxJQUFJLENBQU0sRUFDdkMsR0FBSSxhQUFzQixHQUN0QixFQUFNLEtBQUssQ0FBRSxLQUFNLEVBQVEsS0FBTSxFQUFXLElBQUssQ0FBQyxVQUM3QyxhQUFzQixJQUFZLEVBQU8sVUFBWSxPQUFTLEVBQU8sWUFBYyxFQUFLLFdBQzdGLE1BQU8sQ0FBRSxRQUFPLEtBQU0sRUFBVSxRQUFPLEtBQU0sQ0FBTyxVQUMvQyxHQUFVLEVBQUssV0FDcEIsRUFBTSxLQUFLLENBQUUsS0FBTSxFQUFRLEtBQU0sSUFBSSxHQUFlLENBQzVDLFVBQVcsR0FDWCxXQUFZLEdBQVMsQ0FBTSxFQUMzQixRQUFTLEVBQU8sUUFBUSxZQUFZLENBQ3hDLENBQUMsQ0FBRSxDQUFDLE1BRVIsUUFBTyxNQUduQixTQUFTLEVBQWdCLENBQUMsRUFBTSxFQUFRLENBQ3BDLEdBQUksRUFBSyxVQUFZLEVBQ2pCLE1BQU8sR0FDWCxPQUFRLEdBQVUsRUFBSyxXQUFXLEVBQVMsR0FBRyxpQkFBbUIsUUFBVSxFQUF3QixJQUM5RixFQUFTLEVBQUssV0FBVyxRQUFVLEVBQUssV0FBVyxHQUFRLGlCQUFtQixRQUFVLEVBQXVCLEdBU3hILFNBQVMsRUFBZSxDQUFDLEVBQUcsRUFBRyxFQUFNLENBQ2pDLElBQUksRUFBTyxJQUFJLEdBRWYsT0FEQSxFQUFTLFFBQVEsRUFBRyxFQUFHLEVBQU0sQ0FBSSxFQUMxQixFQUFLLFFBRWhCLFNBQVMsRUFBWSxDQUFDLEVBQU0sRUFBUSxDQUNoQyxRQUFTLEVBQU0sRUFBTSxHQUFPLEdBQU8sRUFBUSxFQUFNLEVBQUksY0FBZ0IsRUFBSSxXQUNyRSxHQUFJLEVBQUksVUFBWSxHQUFLLEVBQUksaUJBQW1CLFFBQzVDLE1BQU8sR0FHZixNQUFPLEdBRVgsU0FBUyxFQUFrQixDQUFDLEVBQVMsRUFBYSxDQUM5QyxJQUFJLEVBQVUsR0FDZCxHQUFJLEVBQ0EsRUFBUSxrQkFBa0IsQ0FBQyxFQUFNLElBQU8sQ0FDcEMsR0FBSSxFQUFPLEVBQVksSUFBTSxFQUFLLEVBQVksS0FDMUMsRUFBVSxHQUNqQixFQUNMLE9BQU8sRUFHWCxTQUFTLEVBQU8sQ0FBQyxFQUFPLEVBQUssRUFBTyxFQUFHLENBQ25DLElBQUksRUFBYSxFQUFNLGdCQUFnQixDQUFHLEVBQ3RDLEVBQU8sRUFBTSxJQUFJLE9BQU8sQ0FBRyxFQUFHLEVBQVUsRUFBTSxFQUFLLEtBQ3ZELEdBQUksRUFBSyxRQUFVLEVBQ2YsT0FBTyxFQUFnQixPQUFPLENBQUcsRUFDckMsR0FBSSxHQUFXLEVBQ1gsRUFBTyxVQUNGLEdBQVcsRUFBSyxPQUNyQixFQUFPLEdBQ1gsSUFBSSxFQUFPLEVBQVMsRUFBSyxFQUN6QixHQUFJLEVBQU8sRUFDUCxFQUFPLEdBQWlCLEVBQUssS0FBTSxFQUFTLEVBQUssTUFFakQsR0FBSyxHQUFpQixFQUFLLEtBQU0sQ0FBTyxFQUM1QyxJQUFJLEVBQU0sRUFBVyxFQUFLLEtBQUssTUFBTSxFQUFNLENBQUUsQ0FBQyxFQUM5QyxNQUFPLEVBQU8sRUFBRyxDQUNiLElBQUksRUFBTyxHQUFpQixFQUFLLEtBQU0sRUFBTSxFQUFLLEVBQ2xELEdBQUksRUFBVyxFQUFLLEtBQUssTUFBTSxFQUFNLENBQUksQ0FBQyxHQUFLLEVBQzNDLE1BQ0osRUFBTyxFQUVYLE1BQU8sRUFBSyxFQUFLLE9BQVEsQ0FDckIsSUFBSSxFQUFPLEdBQWlCLEVBQUssS0FBTSxDQUFFLEVBQ3pDLEdBQUksRUFBVyxFQUFLLEtBQUssTUFBTSxFQUFJLENBQUksQ0FBQyxHQUFLLEVBQ3pDLE1BQ0osRUFBSyxFQUVULE9BQU8sRUFBZ0IsTUFBTSxFQUFPLEVBQUssS0FBTSxFQUFLLEVBQUssSUFBSSxFQUtqRSxTQUFTLEVBQUssQ0FBQyxFQUFHLEVBQU0sQ0FDcEIsT0FBTyxFQUFLLEtBQU8sRUFBSSxFQUFLLEtBQU8sRUFBSSxLQUFLLElBQUksRUFBRyxFQUFJLEVBQUssS0FBSyxFQUVyRSxTQUFTLEVBQUssQ0FBQyxFQUFHLEVBQU0sQ0FDcEIsT0FBTyxFQUFLLElBQU0sRUFBSSxFQUFLLElBQU0sRUFBSSxLQUFLLElBQUksRUFBRyxFQUFJLEVBQUssTUFBTSxFQUVwRSxTQUFTLEVBQVEsQ0FBQyxFQUFHLEVBQUcsQ0FDcEIsT0FBTyxFQUFFLElBQU0sRUFBRSxPQUFTLEdBQUssRUFBRSxPQUFTLEVBQUUsSUFBTSxFQUV0RCxTQUFTLEVBQUssQ0FBQyxFQUFNLEVBQUssQ0FDdEIsT0FBTyxFQUFNLEVBQUssSUFBTSxDQUFFLE1BQUssS0FBTSxFQUFLLEtBQU0sTUFBTyxFQUFLLE1BQU8sT0FBUSxFQUFLLE1BQU8sRUFBSSxFQUUvRixTQUFTLEVBQUssQ0FBQyxFQUFNLEVBQVEsQ0FDekIsT0FBTyxFQUFTLEVBQUssT0FBUyxDQUFFLElBQUssRUFBSyxJQUFLLEtBQU0sRUFBSyxLQUFNLE1BQU8sRUFBSyxNQUFPLFFBQU8sRUFBSSxFQUVsRyxTQUFTLEVBQWMsQ0FBQyxFQUFRLEVBQUcsRUFBRyxDQUNsQyxJQUFJLEVBQVMsRUFBYSxFQUFVLEVBQVUsRUFBaUIsR0FDM0QsRUFBTyxFQUFPLEVBQVcsRUFDN0IsUUFBUyxFQUFRLEVBQU8sV0FBWSxFQUFPLEVBQVEsRUFBTSxZQUFhLENBQ2xFLElBQUksRUFBUSxHQUFlLENBQUssRUFDaEMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQU8sRUFBTSxHQUNqQixHQUFJLEdBQWUsR0FBUyxFQUFhLENBQUksRUFDekMsRUFBTyxHQUFNLEdBQU0sRUFBTSxFQUFZLE1BQU0sRUFBRyxFQUFZLEdBQUcsRUFDakUsSUFBSSxFQUFLLEdBQU0sRUFBRyxDQUFJLEVBQUcsRUFBSyxHQUFNLEVBQUcsQ0FBSSxFQUMzQyxHQUFJLEdBQU0sR0FBSyxHQUFNLEVBQ2pCLE9BQU8sRUFBTSxVQUFZLEVBQUksR0FBYSxFQUFPLEVBQUcsQ0FBQyxFQUFJLEdBQWUsRUFBTyxFQUFHLENBQUMsRUFDdkYsSUFBSyxHQUFXLEVBQVcsR0FBTSxHQUFZLEdBQU0sRUFBVyxFQUFJLENBQzlELEVBQVUsRUFDVixFQUFjLEVBQ2QsRUFBVyxFQUNYLEVBQVcsRUFDWCxJQUFJLEVBQU8sRUFBTSxFQUFJLEVBQUssSUFBTSxHQUFLLEVBQUssRUFBTSxFQUFJLEVBQUssS0FBTyxHQUFLLEVBQUssRUFDMUUsR0FBa0IsSUFBUyxFQUFPLEVBQUksRUFBSSxFQUFNLE9BQVMsRUFBSSxFQUFJLEdBRXJFLEdBQUksR0FBTSxHQUNOLEdBQUksRUFBSSxFQUFLLFVBQVksR0FBYSxFQUFVLE9BQVMsRUFBSyxRQUMxRCxFQUFRLEVBQ1IsRUFBWSxVQUVQLEVBQUksRUFBSyxPQUFTLEdBQWEsRUFBVSxJQUFNLEVBQUssS0FDekQsRUFBUSxFQUNSLEVBQVksVUFHWCxHQUFhLEdBQVMsRUFBVyxDQUFJLEVBQzFDLEVBQVksR0FBTSxFQUFXLEVBQUssTUFBTSxVQUVuQyxHQUFhLEdBQVMsRUFBVyxDQUFJLEVBQzFDLEVBQVksR0FBTSxFQUFXLEVBQUssR0FBRyxHQUlqRCxHQUFJLEdBQWEsRUFBVSxRQUFVLEVBQ2pDLEVBQVUsRUFDVixFQUFjLFVBRVQsR0FBYSxFQUFVLEtBQU8sRUFDbkMsRUFBVSxFQUNWLEVBQWMsRUFFbEIsSUFBSyxFQUNELE1BQU8sQ0FBRSxLQUFNLEVBQVEsT0FBUSxDQUFFLEVBQ3JDLElBQUksRUFBUSxLQUFLLElBQUksRUFBWSxLQUFNLEtBQUssSUFBSSxFQUFZLE1BQU8sQ0FBQyxDQUFDLEVBQ3JFLEdBQUksRUFBUSxVQUFZLEVBQ3BCLE9BQU8sR0FBYSxFQUFTLEVBQU8sQ0FBQyxFQUN6QyxHQUFJLEdBQWtCLEVBQVEsaUJBQW1CLFFBQzdDLE9BQU8sR0FBZSxFQUFTLEVBQU8sQ0FBQyxFQUMzQyxJQUFJLEVBQVMsTUFBTSxVQUFVLFFBQVEsS0FBSyxFQUFPLFdBQVksQ0FBTyxHQUMvRCxJQUFNLEVBQVksS0FBTyxFQUFZLE9BQVMsRUFBSSxFQUFJLEdBQzNELE1BQU8sQ0FBRSxLQUFNLEVBQVEsUUFBTyxFQUVsQyxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQUcsRUFBRyxDQUM5QixJQUFJLEVBQU0sRUFBSyxVQUFVLE9BQ3JCLEVBQWdCLEdBQUksRUFBWSxJQUFLLEVBQWMsRUFDdkQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFLLElBQUssQ0FDMUIsSUFBSSxFQUFRLEdBQVUsRUFBTSxFQUFHLEVBQUksQ0FBQyxFQUFFLGVBQWUsRUFDckQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQU8sRUFBTSxHQUNqQixHQUFJLEVBQUssS0FBTyxFQUFLLE9BQ2pCLFNBQ0osSUFBSyxFQUNELEVBQWMsRUFBSSxFQUFLLEtBQzNCLElBQUksR0FBTSxFQUFLLElBQU0sRUFBSSxFQUFLLElBQU0sRUFBSSxFQUFJLEVBQUssUUFBVSxFQUMzRCxHQUFJLEVBQUssS0FBTyxHQUFLLEdBQUssRUFBSyxNQUFRLEdBQUssR0FBSyxFQUFLLEVBQVcsQ0FDN0QsSUFBSSxFQUFRLElBQU0sRUFBSyxLQUFPLEVBQUssT0FBUyxFQUFHLEVBQVEsRUFDdkQsR0FBSSxFQUFRLFFBQVUsRUFBUSxPQUkxQixHQURpQixHQUFVLEVBQU0sQ0FBQyxFQUFFLHNCQUFzQixFQUMzQyxNQUFRLEVBQUssTUFDeEIsR0FBUyxFQUVqQixHQUFJLEdBQU0sRUFDTixNQUFPLENBQUUsT0FBTSxPQUFRLEdBQUssRUFBUSxFQUFJLEVBQUcsRUFDL0MsRUFBZ0IsR0FBSyxFQUFRLEVBQUksR0FDakMsRUFBWSxJQUl4QixNQUFPLENBQUUsT0FBTSxPQUFRLEVBQWdCLEdBQUssRUFBZ0IsRUFBYyxFQUFJLEVBQUssVUFBVSxPQUFTLENBQUUsRUFFNUcsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFRLEVBQVMsRUFBTyxHQUFJLENBQ25ELElBQUksRUFBSSxFQUNSLElBQUksRUFBVSxFQUFLLFdBQVcsc0JBQXNCLEVBQUcsRUFBUyxFQUFRLElBQU0sRUFBSyxVQUFVLFdBQ3pGLEdBQVMsYUFBYyxFQUFLLFdBQzFCLElBQUcsS0FBTSxFQUFRLEVBQVUsRUFBSSxFQUNyQyxHQUFJLEVBQVUsRUFDVixNQUFPLEdBQ1gsR0FBSSxFQUFVLEVBQ1YsT0FBTyxFQUFLLE1BQU0sSUFBSSxPQUUxQixRQUFTLEVBQVcsRUFBSyxVQUFVLGFBQWEsV0FBYSxFQUFHLEVBQVUsS0FBUyxDQUUvRSxHQURBLEVBQVEsRUFBSyxnQkFBZ0IsQ0FBTyxFQUNoQyxFQUFNLE1BQVEsR0FBVSxLQUN4QixNQUNKLE9BQVMsQ0FHTCxHQURBLEVBQVUsRUFBTyxFQUFJLEVBQU0sT0FBUyxFQUFXLEVBQU0sSUFBTSxFQUN2RCxHQUFXLEdBQUssR0FBVyxFQUMzQixNQUdKLEdBQUksRUFDQSxPQUFPLEVBQVUsS0FBTyxFQUM1QixFQUFVLEdBQ1YsR0FBUSxHQUdoQixFQUFJLEVBQVMsRUFDYixJQUFJLEVBQVksRUFBTSxLQUV0QixHQUFJLEVBQVksRUFBSyxTQUFTLEtBQzFCLE9BQU8sRUFBSyxTQUFTLE1BQVEsRUFBSSxFQUFJLEVBQVUsS0FBTyxHQUFxQixFQUFNLEVBQVMsRUFBTyxFQUFHLENBQUMsRUFDekcsR0FBSSxFQUFZLEVBQUssU0FBUyxHQUMxQixPQUFPLEVBQUssU0FBUyxJQUFNLEVBQUssTUFBTSxJQUFJLE9BQVMsRUFBSyxNQUFNLElBQUksT0FDOUQsRUFBVSxLQUFPLEdBQXFCLEVBQU0sRUFBUyxFQUFPLEVBQUcsQ0FBQyxFQUV4RSxJQUFJLEVBQU0sRUFBSyxJQUFJLGNBQ2YsRUFBTyxFQUFLLEtBQUssaUJBQW1CLEVBQUssS0FBTyxFQUNoRCxFQUFVLEVBQUssaUJBQWlCLEVBQUcsQ0FBQyxFQUN4QyxHQUFJLElBQVksRUFBSyxXQUFXLFNBQVMsQ0FBTyxFQUM1QyxFQUFVLEtBRWQsSUFBSyxHQUdELEdBRkEsRUFBSSxLQUFLLElBQUksRUFBUSxLQUFPLEVBQUcsS0FBSyxJQUFJLEVBQVEsTUFBUSxFQUFHLENBQUMsQ0FBQyxFQUM3RCxFQUFVLEVBQUssaUJBQWlCLEVBQUcsQ0FBQyxFQUNoQyxJQUFZLEVBQUssV0FBVyxTQUFTLENBQU8sRUFDNUMsRUFBVSxLQUlsQixJQUFJLEVBQU0sRUFBUyxHQUNuQixHQUFJLEtBQWEsRUFBSyxFQUFLLFFBQVEsUUFBUSxDQUFPLEtBQU8sTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLGFBQWUsSUFDeEcsR0FBSSxFQUFJLHVCQUF3QixDQUM1QixJQUFJLEVBQU0sRUFBSSx1QkFBdUIsRUFBRyxDQUFDLEVBQ3pDLEdBQUksRUFDQSxDQUFDLENBQUUsV0FBWSxFQUFNLFFBQU8sRUFBSSxXQUUvQixFQUFJLG9CQUFxQixDQUM5QixJQUFJLEVBQVEsRUFBSSxvQkFBb0IsRUFBRyxDQUFDLEVBQ3hDLEdBQUksR0FFQSxHQURDLENBQUUsZUFBZ0IsRUFBTSxZQUFhLENBQU8sRUFBSSxHQUM1QyxFQUFLLFdBQVcsU0FBUyxDQUFJLEdBQzlCLEVBQVEsUUFBVSxHQUE4QixFQUFNLEVBQVEsQ0FBQyxHQUMvRCxFQUFRLFFBQVUsR0FBOEIsRUFBTSxFQUFRLENBQUMsRUFDL0QsRUFBTyxTQUt2QixJQUFLLElBQVMsRUFBSyxRQUFRLElBQUksU0FBUyxDQUFJLEVBQUcsQ0FDM0MsSUFBSSxFQUFPLEdBQVMsS0FBSyxFQUFLLFFBQVMsQ0FBUyxFQUNoRCxJQUFLLEVBQ0QsT0FBTyxFQUFVLEVBQU0sSUFBTSxFQUFNLE9BQVMsRUFBSSxFQUFNLEdBQUssRUFBTSxLQUNyRSxDQUFDLENBQUUsT0FBTSxRQUFPLEVBQUksR0FBZSxFQUFLLElBQUssRUFBRyxDQUFDLEdBRXJELElBQUksRUFBVSxFQUFLLFFBQVEsUUFBUSxDQUFJLEVBQ3ZDLElBQUssRUFDRCxPQUFPLEtBQ1gsR0FBSSxFQUFRLFlBQWMsRUFBSyxFQUFRLE9BQVMsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLFdBQWEsRUFBRyxDQUNoRyxJQUFJLEVBQU8sRUFBUSxJQUFJLHNCQUFzQixFQUM3QyxPQUFPLEVBQU8sRUFBSSxFQUFLLEtBQU8sRUFBTyxHQUFLLEVBQUssUUFBVSxFQUFPLElBQU0sRUFBSyxLQUFPLEVBQUssT0FBUyxFQUMxRixFQUFRLFdBQWEsRUFBUSxhQUduQyxRQUFPLEVBQVEsZ0JBQWdCLEVBQU0sQ0FBTSxFQUFJLEVBQVEsV0FHL0QsU0FBUyxFQUFvQixDQUFDLEVBQU0sRUFBYSxFQUFPLEVBQUcsRUFBRyxDQUMxRCxJQUFJLEVBQU8sS0FBSyxPQUFPLEVBQUksRUFBWSxNQUFRLEVBQUsscUJBQXFCLEVBQ3pFLEdBQUksRUFBSyxjQUFnQixFQUFNLE9BQVMsRUFBSyxrQkFBb0IsSUFBSyxDQUNsRSxJQUFJLEVBQWEsRUFBSyxVQUFVLGFBQWEsV0FDekMsRUFBTyxLQUFLLE9BQU8sRUFBSSxFQUFNLEtBQU8sRUFBSyxrQkFBb0IsR0FBYyxLQUFPLENBQVUsRUFDaEcsR0FBUSxFQUFPLEVBQUssVUFBVSxhQUFhLFdBRS9DLElBQUksRUFBVSxFQUFLLE1BQU0sU0FBUyxFQUFNLEtBQU0sRUFBTSxFQUFFLEVBQ3RELE9BQU8sRUFBTSxLQUFPLEdBQVcsRUFBUyxFQUFNLEVBQUssTUFBTSxPQUFPLEVBTXBFLFNBQVMsRUFBNkIsQ0FBQyxFQUFNLEVBQVEsRUFBRyxDQUNwRCxJQUFJLEVBQ0osR0FBSSxFQUFLLFVBQVksR0FBSyxJQUFXLEVBQU0sRUFBSyxVQUFVLFFBQ3RELE1BQU8sR0FDWCxRQUFTLEVBQU8sRUFBSyxZQUFhLEVBQU0sRUFBTyxFQUFLLFlBQ2hELEdBQUksRUFBSyxVQUFZLEdBQUssRUFBSyxVQUFZLEtBQ3ZDLE1BQU8sR0FDZixPQUFPLEdBQVUsRUFBTSxFQUFNLEVBQUcsQ0FBRyxFQUFFLHNCQUFzQixFQUFFLEtBQU8sRUFHeEUsU0FBUyxFQUE2QixDQUFDLEVBQU0sRUFBUSxFQUFHLENBQ3BELEdBQUksR0FBVSxFQUNWLE1BQU8sR0FDWCxRQUFTLEVBQU0sSUFBUSxDQUNuQixJQUFJLEVBQVMsRUFBSSxXQUNqQixJQUFLLEdBQVUsRUFBTyxVQUFZLEdBQUssRUFBTyxZQUFjLEVBQ3hELE1BQU8sR0FDWCxHQUFJLEVBQU8sVUFBVSxTQUFTLFNBQVMsRUFDbkMsTUFDSixFQUFNLEVBRVYsSUFBSSxFQUFPLEVBQUssVUFBWSxFQUFJLEVBQUssc0JBQXNCLEVBQ3JELEdBQVUsRUFBTSxFQUFHLEtBQUssSUFBSSxFQUFLLFVBQVUsT0FBUSxDQUFDLENBQUMsRUFBRSxzQkFBc0IsRUFDbkYsT0FBTyxFQUFJLEVBQUssS0FBTyxFQUUzQixTQUFTLEVBQU8sQ0FBQyxFQUFNLEVBQUssQ0FDeEIsSUFBSSxFQUFPLEVBQUssWUFBWSxDQUFHLEVBQy9CLEdBQUksTUFBTSxRQUFRLEVBQUssSUFBSSxHQUN2QixRQUFTLEtBQUssRUFBSyxLQUNmLEdBQUksRUFBRSxHQUFLLEdBQU8sRUFBRSxJQUFNLElBQVEsRUFBRSxJQUFNLEVBQUssSUFBTSxFQUFFLE1BQVEsR0FBVSxNQUNyRSxPQUFPLEVBRW5CLE9BQU8sRUFFWCxTQUFTLEVBQWtCLENBQUMsRUFBTSxFQUFPLEVBQVMsRUFBYSxDQUMzRCxJQUFJLEVBQU8sR0FBUSxFQUFNLEVBQU0sSUFBSSxFQUMvQixHQUFVLEdBQWUsRUFBSyxNQUFRLEdBQVUsUUFBVSxFQUFLLGNBQWdCLEVBQUssa0JBQW9CLEtBQ3RHLEVBQUssWUFBWSxFQUFNLE1BQVEsR0FBSyxFQUFNLEtBQU8sRUFBSyxLQUFPLEVBQU0sS0FBTyxFQUFJLEVBQU0sSUFBSSxFQUM5RixHQUFJLEVBQVEsQ0FDUixJQUFJLEVBQWEsRUFBSyxJQUFJLHNCQUFzQixFQUM1QyxFQUFZLEVBQUssZ0JBQWdCLEVBQUssSUFBSSxFQUMxQyxFQUFNLEVBQUssWUFBWSxDQUFFLEVBQUcsSUFBWSxHQUFhLEVBQVUsS0FBTyxFQUFXLE1BQVEsRUFBSSxFQUFXLEtBQU8sRUFDL0csR0FBSSxFQUFPLElBQU0sRUFBTyxRQUFVLENBQUUsQ0FBQyxFQUN6QyxHQUFJLEdBQU8sS0FDUCxPQUFPLEVBQWdCLE9BQU8sRUFBSyxFQUFVLEdBQUssQ0FBQyxFQUUzRCxPQUFPLEVBQWdCLE9BQU8sRUFBVSxFQUFLLEdBQUssRUFBSyxLQUFNLEVBQVUsR0FBSyxDQUFDLEVBRWpGLFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBTyxFQUFTLEVBQUksQ0FDMUMsSUFBSSxFQUFPLEVBQUssTUFBTSxJQUFJLE9BQU8sRUFBTSxJQUFJLEVBQUcsRUFBUSxFQUFLLFVBQVUsQ0FBSSxFQUNyRSxFQUFZLEVBQUssZ0JBQWdCLEVBQUssSUFBSSxFQUM5QyxRQUFTLEVBQU0sRUFBTyxFQUFRLE9BQVEsQ0FDbEMsSUFBSSxFQUFPLEdBQWEsRUFBTSxFQUFPLEVBQVcsRUFBSyxDQUFPLEVBQUcsRUFBTyxHQUN0RSxJQUFLLEVBQU0sQ0FDUCxHQUFJLEVBQUssU0FBVyxFQUFVLEVBQUssTUFBTSxJQUFJLE1BQVEsR0FDakQsT0FBTyxFQUNYLEVBQU8sS0FDUCxFQUFPLEVBQUssTUFBTSxJQUFJLEtBQUssRUFBSyxRQUFVLEVBQVUsRUFBSSxHQUFHLEVBQzNELEVBQVEsRUFBSyxVQUFVLENBQUksRUFDM0IsRUFBTyxFQUFLLGVBQWUsR0FBTyxDQUFPLEVBRTdDLElBQUssRUFBTyxDQUNSLElBQUssRUFDRCxPQUFPLEVBQ1gsRUFBUSxFQUFHLENBQUksV0FFVCxFQUFNLENBQUksRUFDaEIsT0FBTyxFQUVYLEVBQU0sR0FHZCxTQUFTLEVBQU8sQ0FBQyxFQUFNLEVBQUssRUFBTyxDQUMvQixJQUFJLEVBQWEsRUFBSyxNQUFNLGdCQUFnQixDQUFHLEVBQzNDLEVBQU0sRUFBVyxDQUFLLEVBQzFCLE1BQU8sQ0FBQyxJQUFTLENBQ2IsSUFBSSxFQUFVLEVBQVcsQ0FBSSxFQUM3QixHQUFJLEdBQU8sR0FBYSxNQUNwQixFQUFNLEVBQ1YsT0FBTyxHQUFPLEdBR3RCLFNBQVMsRUFBYyxDQUFDLEVBQU0sRUFBTyxFQUFTLEVBQVUsQ0FDcEQsSUFBSSxFQUFXLEVBQU0sS0FBTSxFQUFNLEVBQVUsRUFBSSxHQUMvQyxHQUFJLElBQWEsRUFBVSxFQUFLLE1BQU0sSUFBSSxPQUFTLEdBQy9DLE9BQU8sRUFBZ0IsT0FBTyxFQUFVLEVBQU0sS0FBSyxFQUN2RCxJQUFJLEVBQU8sRUFBTSxXQUFZLEVBQ3pCLEVBQU8sRUFBSyxXQUFXLHNCQUFzQixFQUM3QyxFQUFjLEVBQUssWUFBWSxFQUFVLEVBQU0sT0FBUyxFQUFFLEVBQUcsRUFBUyxFQUFLLFlBQy9FLEdBQUksRUFBYSxDQUNiLEdBQUksR0FBUSxLQUNSLEVBQU8sRUFBWSxLQUFPLEVBQUssS0FDbkMsRUFBUyxFQUFNLEVBQUksRUFBWSxJQUFNLEVBQVksV0FFaEQsQ0FDRCxJQUFJLEVBQU8sRUFBSyxVQUFVLFlBQVksQ0FBUSxFQUM5QyxHQUFJLEdBQVEsS0FDUixFQUFPLEtBQUssSUFBSSxFQUFLLE1BQVEsRUFBSyxLQUFNLEVBQUssdUJBQXlCLEVBQVcsRUFBSyxLQUFLLEVBQy9GLEdBQVUsRUFBTSxFQUFJLEVBQUssSUFBTSxFQUFLLFFBQVUsRUFFbEQsSUFBSSxFQUFlLEVBQUssS0FBTyxFQUMzQixFQUFPLElBQWEsTUFBUSxJQUFrQixPQUFJLEVBQVksRUFBSyxVQUFVLGFBQWEsWUFBYyxFQUM1RyxRQUFTLEVBQVEsR0FBSSxHQUFTLEdBQUksQ0FDOUIsSUFBSSxFQUFPLEdBQVUsRUFBTyxHQUFTLEVBQ2pDLEVBQU0sR0FBWSxFQUFNLENBQUUsRUFBRyxFQUFjLEVBQUcsQ0FBSyxFQUFHLEdBQU8sQ0FBRyxFQUNwRSxHQUFJLEVBQU8sRUFBSyxLQUFPLEVBQU8sRUFBSyxTQUFXLEVBQU0sRUFBSSxFQUFNLEVBQVcsRUFBTSxHQUFXLENBQ3RGLElBQUksRUFBVyxFQUFLLFFBQVEsY0FBYyxDQUFHLEVBQ3pDLEdBQVMsR0FBWSxFQUFPLEVBQVMsSUFBTSxHQUFLLEVBQ3BELE9BQU8sRUFBZ0IsT0FBTyxFQUFLLEVBQU8sT0FBVyxDQUFJLElBSXJFLFNBQVMsRUFBZ0IsQ0FBQyxFQUFPLEVBQUssRUFBTSxDQUN4QyxPQUFTLENBQ0wsSUFBSSxFQUFRLEVBQ1osUUFBUyxLQUFPLEVBQ1osRUFBSSxRQUFRLEVBQU0sRUFBRyxFQUFNLEVBQUcsQ0FBQyxFQUFNLEVBQUksSUFBVSxDQUMvQyxHQUFJLEVBQU0sR0FBUSxFQUFNLEVBQUksQ0FDeEIsSUFBSSxFQUFPLEdBQVMsSUFBUyxFQUFNLEVBQU8sRUFBSyxFQUFNLEdBQUssR0FDMUQsRUFBTSxFQUFPLEVBQUksRUFBTyxFQUN4QixFQUFRLEdBRWYsRUFFTCxJQUFLLEVBQ0QsT0FBTyxHQUduQixTQUFTLEVBQVMsQ0FBQyxFQUFNLEVBQVEsRUFBSyxDQUNsQyxJQUFJLEVBQVMsR0FBaUIsRUFBSyxNQUFNLE1BQU0sRUFBWSxFQUFFLElBQUksS0FBSyxFQUFFLENBQUksQ0FBQyxFQUFHLEVBQUksS0FBTSxFQUFPLEtBQU8sRUFBSSxLQUFPLEdBQUssQ0FBQyxFQUN6SCxPQUFPLEdBQVUsRUFBSSxLQUFPLEVBQU0sRUFBZ0IsT0FBTyxFQUFRLEVBQVMsRUFBSSxLQUFPLEVBQUksRUFBRSxFQW1HL0YsU0FBUyxFQUFPLENBQUMsRUFBUSxFQUFNLEVBQVEsQ0FDbkMsT0FBUyxDQUNMLElBQUssR0FBUSxFQUFTLEdBQVUsQ0FBSSxFQUNoQyxNQUFPLEdBQ1gsR0FBSSxHQUFRLEVBQ1IsTUFBTyxHQUNYLEVBQVMsR0FBUyxDQUFJLEVBQUksRUFDMUIsRUFBTyxFQUFLLFlBeURwQixTQUFTLEVBQWMsQ0FBQyxFQUFNLEVBQVcsQ0FDckMsSUFBSSxHQUNFLFVBQVcsRUFBVyxFQUFNLEVBQUssTUFBTSxVQUFVLEtBQ25ELEVBQVUsRUFBSyxXQUFXLFlBQWMsS0FBSyxJQUFJLEVBQUksSUFBTSxFQUFLLFdBQVcsWUFBYyxHQUM3RixHQUFJLEVBQVUsT0FBUSxDQUNsQixJQUFNLE9BQU0sTUFBTyxFQUFVLE9BQ3pCLEVBQWUsRUFBSSxLQUFNLEVBQWdCLEtBRzdDLEdBQUksSUFBWSxHQUFLLEVBQVEsU0FBVyxFQUFVLEtBQUssT0FBUyxFQUFLLEVBQ2pFLEVBQWUsRUFBSSxHQUNuQixFQUFnQixNQUVwQixJQUFJLEVBQU8sR0FBUyxFQUFLLE1BQU0sSUFBSSxZQUFZLEVBQU0sRUFBSSxFQUFvQixFQUFHLEVBQVUsS0FBTSxFQUFlLEVBQU0sQ0FBYSxFQUNsSSxHQUFJLEVBQU0sQ0FHTixHQUFJLEVBQVEsUUFBVSxHQUFXLElBQzdCLEVBQUssS0FBTyxFQUFLLEtBQU8sR0FBSyxFQUFVLEtBQUssTUFBTSxFQUFLLEtBQU0sRUFBSyxHQUFHLEdBQUssR0FBdUIsR0FDakcsRUFBSyxNQUNULEVBQVMsQ0FBRSxLQUFNLEVBQU8sRUFBSyxLQUFNLEdBQUksRUFBTyxFQUFLLElBQy9DLE9BQVEsRUFBSyxHQUFHLEVBQVUsS0FBSyxNQUFNLEVBQUssS0FBTSxFQUFLLEdBQUcsRUFBRSxNQUFNLEVBQW9CLENBQUMsQ0FBRSxXQUcxRixLQUFZLEVBQUssVUFBWSxFQUFLLE1BQU0sTUFBTSxFQUFRLEdBQUssRUFBTyxLQUFLLEdBQUcsQ0FBRyxHQUNsRixFQUFTLEtBRWIsSUFBSyxJQUFXLEVBQ1osTUFBTyxHQUNYLElBQUssR0FBVSxFQUFVLFdBQWEsRUFBSSxPQUFTLEdBQVUsRUFBTyxLQUFLLE1BRXJFLEVBQVMsQ0FBRSxLQUFNLEVBQUksS0FBTSxHQUFJLEVBQUksR0FBSSxPQUFRLEVBQUssTUFBTSxJQUFJLE1BQU0sRUFBSSxLQUFNLEVBQUksRUFBRSxDQUFFLFVBRWpGLEdBQVUsRUFBTyxNQUFRLEVBQUksTUFBUSxFQUFPLElBQU0sRUFBSSxLQUMxRCxFQUFPLE1BQVEsRUFBSSxNQUFRLEVBQU8sSUFBTSxFQUFJLEtBQzVDLEVBQUksR0FBSyxFQUFJLE1BQVMsRUFBTyxHQUFLLEVBQU8sT0FBUyxFQUluRCxFQUFTLENBQ0wsS0FBTSxFQUFJLEtBQU0sR0FBSSxFQUFJLEdBQ3hCLE9BQVEsRUFBSyxNQUFNLElBQUksTUFBTSxFQUFJLEtBQU0sRUFBTyxJQUFJLEVBQUUsT0FBTyxFQUFPLE1BQU0sRUFBRSxPQUFPLEVBQUssTUFBTSxJQUFJLE1BQU0sRUFBTyxHQUFJLEVBQUksRUFBRSxDQUFDLENBQzVILFdBRU0sRUFBUSxLQUFPLEVBQVEsVUFBWSxHQUFVLEVBQU8sTUFBUSxFQUFPLElBQU0sRUFBTyxNQUFRLEVBQUksS0FBTyxHQUN6RyxTQUFTLEtBQUssRUFBTyxPQUFPLFNBQVMsQ0FBQyxHQUFLLEVBQUssV0FBVyxhQUFhLGFBQWEsR0FBSyxNQUFPLENBR2pHLEdBQUksR0FBVSxFQUFPLE9BQU8sUUFBVSxFQUNsQyxFQUFTLEVBQWdCLE9BQU8sRUFBTyxLQUFLLE9BQVMsRUFBRyxFQUFPLEtBQUssS0FBTyxDQUFDLEVBQ2hGLEVBQVMsQ0FBRSxLQUFNLEVBQUksS0FBTSxHQUFJLEVBQUksR0FBSSxPQUFRLEVBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLFVBRXpELEVBQVEsUUFBVSxHQUFVLEVBQU8sTUFBUSxFQUFPLElBQU0sRUFBTyxNQUFRLEVBQUksTUFDaEYsRUFBTyxPQUFPLFNBQVMsR0FBSyxPQUFTLEVBQUssYUFBYyxDQUl4RCxHQUFJLEVBQ0EsRUFBUyxFQUFnQixPQUFPLEVBQU8sS0FBSyxPQUFTLEVBQUcsRUFBTyxLQUFLLEtBQU8sQ0FBQyxFQUNoRixFQUFTLENBQUUsS0FBTSxFQUFJLEtBQU0sR0FBSSxFQUFJLEdBQUksT0FBUSxFQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxFQUVsRSxHQUFJLEVBQ0EsT0FBTyxHQUFvQixFQUFNLEVBQVEsRUFBUSxDQUFPLFVBRW5ELElBQVcsRUFBTyxLQUFLLEdBQUcsQ0FBRyxFQUFHLENBQ3JDLElBQUksRUFBaUIsR0FBTyxFQUFZLFNBQ3hDLEdBQUksRUFBSyxXQUFXLGtCQUFvQixLQUFLLElBQUksRUFBSSxHQUFJLENBQ3JELEdBQUksRUFBSyxXQUFXLHFCQUF1QixTQUN2QyxFQUFpQixHQUNyQixFQUFZLEVBQUssV0FBVyxvQkFHaEMsT0FEQSxFQUFLLFNBQVMsQ0FBRSxVQUFXLEVBQVEsaUJBQWdCLFdBQVUsQ0FBQyxFQUN2RCxPQUdQLE9BQU8sR0FHZixTQUFTLEVBQW1CLENBQUMsRUFBTSxFQUFRLEVBQVEsRUFBVSxHQUFJLENBQzdELEdBQUksRUFBUSxLQUFPLEVBQUssV0FBVyxZQUFZLENBQU0sRUFDakQsTUFBTyxHQUNYLElBQUksRUFBTSxFQUFLLE1BQU0sVUFBVSxLQU8vQixHQUFJLEVBQVEsVUFDTixFQUFPLElBQU0sRUFBSSxLQUdkLEVBQU8sTUFBUSxFQUFJLE1BQVEsRUFBTyxNQUFRLEVBQUksS0FBTyxHQUFLLEVBQUssTUFBTSxTQUFTLEVBQU8sS0FBTSxFQUFJLElBQUksR0FBSyxNQUN6RyxFQUFPLE9BQU8sUUFBVSxHQUFLLEVBQU8sT0FBTyxPQUFTLEdBQ3BELEdBQVksRUFBSyxXQUFZLFFBQVMsRUFBRSxJQUN0QyxFQUFPLE1BQVEsRUFBSSxLQUFPLEdBQUssRUFBTyxJQUFNLEVBQUksSUFBTSxFQUFPLE9BQU8sUUFBVSxHQUM1RSxHQUFXLEdBQUssRUFBTyxPQUFPLE9BQVMsRUFBTyxHQUFLLEVBQU8sTUFBUSxFQUFPLEdBQUssRUFBSSxPQUNsRixHQUFZLEVBQUssV0FBWSxZQUFhLENBQUMsR0FDOUMsRUFBTyxNQUFRLEVBQUksTUFBUSxFQUFPLElBQU0sRUFBSSxHQUFLLEdBQUssRUFBTyxPQUFPLFFBQVUsR0FDM0UsR0FBWSxFQUFLLFdBQVksU0FBVSxFQUFFLEdBQ2pELE1BQU8sR0FDWCxJQUFJLEVBQU8sRUFBTyxPQUFPLFNBQVMsRUFDbEMsR0FBSSxFQUFLLFdBQVcsV0FBYSxFQUM3QixFQUFLLFdBQVcsWUFDcEIsSUFBSSxFQUNBLEVBQWdCLElBQU0sSUFBYyxFQUFZLEdBQW1CLEVBQU0sRUFBUSxDQUFNLEdBQzNGLElBQUssRUFBSyxNQUFNLE1BQU0sRUFBWSxFQUFFLEtBQUssS0FBSyxFQUFFLEVBQU0sRUFBTyxLQUFNLEVBQU8sR0FBSSxFQUFNLENBQWEsQ0FBQyxFQUM5RixFQUFLLFNBQVMsRUFBYyxDQUFDLEVBQ2pDLE1BQU8sR0FFWCxTQUFTLEVBQWtCLENBQUMsRUFBTSxFQUFRLEVBQVEsQ0FDOUMsSUFBSSxFQUFJLEVBQWEsRUFBSyxNQUFPLEVBQU0sRUFBVyxVQUFVLEtBQzVELEdBQUksRUFBTyxNQUFRLEVBQUksTUFBUSxFQUFPLElBQU0sRUFBSSxJQUFNLEVBQU8sR0FBSyxFQUFPLE9BQVMsRUFBSSxHQUFLLEVBQUksTUFBUSxLQUNqRyxHQUFVLEVBQU8sS0FBSyxPQUFTLEVBQU8sS0FBSyxNQUFRLEVBQU8sS0FBTyxFQUFPLE9BQU8sU0FDakYsRUFBSyxXQUFXLFVBQVksRUFBRyxDQUMvQixJQUFJLEVBQVMsRUFBSSxLQUFPLEVBQU8sS0FBTyxFQUFXLFNBQVMsRUFBSSxLQUFNLEVBQU8sSUFBSSxFQUFJLEdBQy9FLEVBQVEsRUFBSSxHQUFLLEVBQU8sR0FBSyxFQUFXLFNBQVMsRUFBTyxHQUFJLEVBQUksRUFBRSxFQUFJLEdBQzFFLEVBQUssRUFBVyxpQkFBaUIsRUFBSyxNQUFNLE9BQU8sRUFBUyxFQUFPLE9BQU8sWUFBWSxFQUFHLE9BQVcsRUFBSyxNQUFNLFNBQVMsRUFBSSxDQUFLLENBQUMsTUFFakksQ0FDRCxJQUFJLEVBQVUsRUFBVyxRQUFRLENBQU0sRUFDbkMsRUFBVSxHQUFVLEVBQU8sS0FBSyxJQUFNLEVBQVEsVUFBWSxFQUFPLEtBQU8sT0FFNUUsR0FBSSxFQUFXLFVBQVUsT0FBTyxPQUFTLEdBQUssRUFBSyxXQUFXLFdBQWEsR0FDdkUsRUFBTyxJQUFNLEVBQUksSUFBTSxFQUFPLElBQU0sRUFBSSxHQUFLLEdBQUksQ0FDakQsSUFBSSxFQUFXLEVBQUssTUFBTSxTQUFTLEVBQU8sS0FBTSxFQUFPLEVBQUUsRUFDckQsRUFBa0IsRUFBYyxHQUFVLEdBQW9CLEVBQU0sRUFBTyxLQUFLLElBQUksRUFDeEYsR0FBSSxFQUFhLENBQ2IsSUFBSSxFQUFPLEVBQU8sT0FBTyxRQUFVLEVBQU8sR0FBSyxFQUFPLE1BQ3RELEVBQW1CLENBQUUsS0FBTSxFQUFZLEtBQU0sR0FBSSxFQUFZLEdBQUssQ0FBSyxNQUd2RSxHQUFtQixFQUFLLE1BQU0sSUFBSSxPQUFPLEVBQUksSUFBSSxFQUVyRCxJQUFJLEVBQVMsRUFBSSxHQUFLLEVBQU8sR0FBSSxFQUFPLEVBQUksR0FBSyxFQUFJLEtBQ3JELEVBQUssRUFBVyxjQUFjLEtBQVMsQ0FDbkMsR0FBSSxFQUFNLE1BQVEsRUFBSSxNQUFRLEVBQU0sSUFBTSxFQUFJLEdBQzFDLE1BQU8sQ0FBRSxVQUFTLE1BQU8sR0FBVyxFQUFNLElBQUksQ0FBTyxDQUFFLEVBQzNELElBQUksRUFBSyxFQUFNLEdBQUssRUFBUSxFQUFPLEVBQUssRUFBUyxPQUNqRCxHQUFJLEVBQU0sR0FBSyxFQUFNLE1BQVEsR0FBUSxFQUFLLE1BQU0sU0FBUyxFQUFNLENBQUUsR0FBSyxHQUtsRSxFQUFNLElBQU0sRUFBaUIsTUFBUSxFQUFNLE1BQVEsRUFBaUIsR0FDcEUsTUFBTyxDQUFFLE9BQU0sRUFDbkIsSUFBSSxFQUFlLEVBQVcsUUFBUSxDQUFFLE9BQU0sS0FBSSxPQUFRLEVBQU8sTUFBTyxDQUFDLEVBQUcsRUFBUyxFQUFNLEdBQUssRUFBSSxHQUNwRyxNQUFPLENBQ0gsUUFBUyxFQUNULE9BQVEsRUFBVSxFQUFNLElBQUksQ0FBWSxFQUNwQyxFQUFnQixNQUFNLEtBQUssSUFBSSxFQUFHLEVBQVEsT0FBUyxDQUFNLEVBQUcsS0FBSyxJQUFJLEVBQUcsRUFBUSxLQUFPLENBQU0sQ0FBQyxDQUN0RyxFQUNILE1BR0QsR0FBSyxDQUNELFVBQ0EsVUFBVyxHQUFXLEVBQVcsVUFBVSxhQUFhLENBQU8sQ0FDbkUsRUFHUixJQUFJLEVBQVksYUFDaEIsR0FBSSxFQUFLLFdBQ0wsRUFBSyxXQUFXLDBCQUE0QixFQUFLLFdBQVcsbUJBQXFCLEtBQUssSUFBSSxFQUFJLElBRzlGLEdBRkEsRUFBSyxXQUFXLHlCQUEyQixHQUMzQyxHQUFhLFdBQ1QsRUFBSyxXQUFXLHVCQUNoQixHQUFhLFNBQ2IsRUFBSyxXQUFXLHVCQUF5QixHQUdqRCxPQUFPLEVBQVcsT0FBTyxFQUFJLENBQUUsWUFBVyxlQUFnQixFQUFLLENBQUMsRUFFcEUsU0FBUyxFQUFRLENBQUMsRUFBRyxFQUFHLEVBQWMsRUFBZSxDQUNqRCxJQUFJLEVBQVMsS0FBSyxJQUFJLEVBQUUsT0FBUSxFQUFFLE1BQU0sRUFDcEMsRUFBTyxFQUNYLE1BQU8sRUFBTyxHQUFVLEVBQUUsV0FBVyxDQUFJLEdBQUssRUFBRSxXQUFXLENBQUksRUFDM0QsSUFDSixHQUFJLEdBQVEsR0FBVSxFQUFFLFFBQVUsRUFBRSxPQUNoQyxPQUFPLEtBQ1gsSUFBSSxFQUFNLEVBQUUsT0FBUSxFQUFNLEVBQUUsT0FDNUIsTUFBTyxFQUFNLEdBQUssRUFBTSxHQUFLLEVBQUUsV0FBVyxFQUFNLENBQUMsR0FBSyxFQUFFLFdBQVcsRUFBTSxDQUFDLEVBQ3RFLElBQ0EsSUFFSixHQUFJLEdBQWlCLE1BQU8sQ0FDeEIsSUFBSSxFQUFTLEtBQUssSUFBSSxFQUFHLEVBQU8sS0FBSyxJQUFJLEVBQUssQ0FBRyxDQUFDLEVBQ2xELEdBQWdCLEVBQU0sRUFBUyxFQUVuQyxHQUFJLEVBQU0sR0FBUSxFQUFFLE9BQVMsRUFBRSxPQUFRLENBQ25DLElBQUksRUFBTyxHQUFnQixHQUFRLEdBQWdCLEVBQU0sRUFBTyxFQUFlLEVBQy9FLEdBQVEsRUFDUixFQUFNLEdBQVEsRUFBTSxHQUNwQixFQUFNLFVBRUQsRUFBTSxFQUFNLENBQ2pCLElBQUksRUFBTyxHQUFnQixHQUFRLEdBQWdCLEVBQU0sRUFBTyxFQUFlLEVBQy9FLEdBQVEsRUFDUixFQUFNLEdBQVEsRUFBTSxHQUNwQixFQUFNLEVBRVYsTUFBTyxDQUFFLE9BQU0sTUFBSyxLQUFJLEVBRTVCLFNBQVMsRUFBZSxDQUFDLEVBQU0sQ0FDM0IsSUFBSSxFQUFTLENBQUMsRUFDZCxHQUFJLEVBQUssS0FBSyxlQUFpQixFQUFLLFdBQ2hDLE9BQU8sRUFDWCxJQUFNLGFBQVksZUFBYyxZQUFXLGVBQWdCLEVBQUssU0FBUyxlQUN6RSxHQUFJLEdBRUEsR0FEQSxFQUFPLEtBQUssSUFBSSxHQUFTLEVBQVksQ0FBWSxDQUFDLEVBQzlDLEdBQWEsR0FBYyxHQUFlLEVBQzFDLEVBQU8sS0FBSyxJQUFJLEdBQVMsRUFBVyxDQUFXLENBQUMsRUFFeEQsT0FBTyxFQUVYLFNBQVMsRUFBbUIsQ0FBQyxFQUFRLEVBQU0sQ0FDdkMsR0FBSSxFQUFPLFFBQVUsRUFDakIsT0FBTyxLQUNYLElBQUksRUFBUyxFQUFPLEdBQUcsSUFBSyxFQUFPLEVBQU8sUUFBVSxFQUFJLEVBQU8sR0FBRyxJQUFNLEVBQ3hFLE9BQU8sRUFBUyxJQUFNLEVBQU8sR0FBSyxFQUFnQixPQUFPLEVBQVMsRUFBTSxFQUFPLENBQUksRUFBSSxLQTJMM0YsU0FBUyxFQUFXLENBQUMsRUFBUSxFQUFTLENBQ2xDLE1BQU8sQ0FBQyxFQUFNLElBQVUsQ0FDcEIsR0FBSSxDQUNBLE9BQU8sRUFBUSxLQUFLLEVBQVEsRUFBTyxDQUFJLFFBRXBDLEVBQVAsQ0FDSSxHQUFhLEVBQUssTUFBTyxDQUFDLElBSXRDLFNBQVMsRUFBZSxDQUFDLEVBQVMsQ0FDOUIsSUFBSSxFQUFTLE9BQU8sT0FBTyxJQUFJLEVBQy9CLFNBQVMsQ0FBTSxDQUFDLEVBQU0sQ0FDbEIsT0FBTyxFQUFPLEtBQVUsRUFBTyxHQUFRLENBQUUsVUFBVyxDQUFDLEVBQUcsU0FBVSxDQUFDLENBQUUsR0FFekUsUUFBUyxLQUFVLEVBQVMsQ0FDeEIsSUFBSSxFQUFPLEVBQU8sS0FDbEIsR0FBSSxHQUFRLEVBQUssaUJBQ2IsUUFBUyxLQUFRLEVBQUssaUJBQWtCLENBQ3BDLElBQUksRUFBSSxFQUFLLGlCQUFpQixHQUM5QixHQUFJLEVBQ0EsRUFBTyxDQUFJLEVBQUUsU0FBUyxLQUFLLEdBQVksRUFBTyxNQUFPLENBQUMsQ0FBQyxFQUVuRSxHQUFJLEdBQVEsRUFBSyxrQkFDYixRQUFTLEtBQVEsRUFBSyxrQkFBbUIsQ0FDckMsSUFBSSxFQUFJLEVBQUssa0JBQWtCLEdBQy9CLEdBQUksRUFDQSxFQUFPLENBQUksRUFBRSxVQUFVLEtBQUssR0FBWSxFQUFPLE1BQU8sQ0FBQyxDQUFDLEdBR3hFLFFBQVMsS0FBUSxHQUNiLEVBQU8sQ0FBSSxFQUFFLFNBQVMsS0FBSyxHQUFTLEVBQUssRUFDN0MsUUFBUyxLQUFRLEdBQ2IsRUFBTyxDQUFJLEVBQUUsVUFBVSxLQUFLLEdBQVUsRUFBSyxFQUMvQyxPQUFPLEVBWVgsU0FBUyxFQUFlLENBQUMsRUFBTSxDQUMzQixPQUFPLEtBQUssSUFBSSxFQUFHLENBQUksRUFBSSxJQUFNLEVBRXJDLFNBQVMsRUFBSSxDQUFDLEVBQUcsRUFBRyxDQUNoQixPQUFPLEtBQUssSUFBSSxLQUFLLElBQUksRUFBRSxRQUFVLEVBQUUsT0FBTyxFQUFHLEtBQUssSUFBSSxFQUFFLFFBQVUsRUFBRSxPQUFPLENBQUMsRUFnSXBGLFNBQVMsRUFBa0IsQ0FBQyxFQUFNLEVBQU8sQ0FDckMsSUFBSSxFQUFRLEVBQUssTUFBTSxNQUFNLEVBQXVCLEVBQ3BELE9BQU8sRUFBTSxPQUFTLEVBQU0sR0FBRyxDQUFLLEVBQUksRUFBUSxJQUFNLEVBQU0sUUFBVSxFQUFNLFFBRWhGLFNBQVMsRUFBa0IsQ0FBQyxFQUFNLEVBQU8sQ0FDckMsSUFBSSxFQUFRLEVBQUssTUFBTSxNQUFNLEVBQW9CLEVBQ2pELE9BQU8sRUFBTSxPQUFTLEVBQU0sR0FBRyxDQUFLLEVBQUksRUFBUSxLQUFPLEVBQU0sUUFBVSxFQUFNLFFBRWpGLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLEVBQU8sQ0FDdkMsSUFBTSxRQUFTLEVBQUssTUFBTSxVQUMxQixHQUFJLEVBQUssTUFDTCxNQUFPLEdBR1gsSUFBSSxFQUFNLEdBQWEsRUFBSyxJQUFJLEVBQ2hDLElBQUssR0FBTyxFQUFJLFlBQWMsRUFDMUIsTUFBTyxHQUNYLElBQUksRUFBUSxFQUFJLFdBQVcsQ0FBQyxFQUFFLGVBQWUsRUFDN0MsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQU8sRUFBTSxHQUNqQixHQUFJLEVBQUssTUFBUSxFQUFNLFNBQVcsRUFBSyxPQUFTLEVBQU0sU0FDbEQsRUFBSyxLQUFPLEVBQU0sU0FBVyxFQUFLLFFBQVUsRUFBTSxRQUNsRCxNQUFPLEdBRWYsTUFBTyxHQUVYLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLEVBQU8sQ0FDdkMsSUFBSyxFQUFNLFFBQ1AsTUFBTyxHQUNYLEdBQUksRUFBTSxpQkFDTixNQUFPLEdBQ1gsUUFBUyxFQUFPLEVBQU0sT0FBUSxFQUFPLEdBQVEsRUFBSyxXQUFZLEVBQU8sRUFBSyxXQUN0RSxJQUFLLEdBQVEsRUFBSyxVQUFZLEtBQVEsRUFBUSxFQUFZLElBQUksQ0FBSSxJQUFNLEVBQU0sWUFBWSxDQUFLLEVBQzNGLE1BQU8sR0FDZixNQUFPLEdBU1gsU0FBUyxFQUFZLENBQUMsRUFBTSxDQUN4QixJQUFJLEVBQVMsRUFBSyxJQUFJLFdBQ3RCLElBQUssRUFDRCxPQUNKLElBQUksRUFBUyxFQUFPLFlBQVksU0FBUyxjQUFjLFVBQVUsQ0FBQyxFQUNsRSxFQUFPLE1BQU0sUUFBVSw2Q0FDdkIsRUFBTyxNQUFNLEVBQ2IsV0FBVyxJQUFNLENBQ2IsRUFBSyxNQUFNLEVBQ1gsRUFBTyxPQUFPLEVBQ2QsR0FBUSxFQUFNLEVBQU8sS0FBSyxHQUMzQixFQUFFLEVBRVQsU0FBUyxFQUFVLENBQUMsRUFBTyxFQUFPLEVBQU0sQ0FDcEMsUUFBUyxLQUFVLEVBQU0sTUFBTSxDQUFLLEVBQ2hDLEVBQU8sRUFBTyxFQUFNLENBQUssRUFDN0IsT0FBTyxFQUVYLFNBQVMsRUFBTyxDQUFDLEVBQU0sRUFBTyxDQUMxQixFQUFRLEdBQVcsRUFBSyxNQUFPLEdBQXNCLENBQUssRUFDMUQsSUFBTSxTQUFVLEVBQU0sRUFBUyxFQUFJLEVBQUcsRUFBTyxFQUFNLE9BQU8sQ0FBSyxFQUMzRCxFQUFTLEVBQUssT0FBUyxFQUFNLFVBQVUsT0FBTyxPQUVsRCxHQURlLElBQW9CLE1BQVEsRUFBTSxVQUFVLE9BQU8sTUFBTSxLQUFLLEVBQUUsS0FBSyxHQUFLLElBQW9CLEVBQUssU0FBUyxFQUM3RyxDQUNWLElBQUksRUFBVyxHQUNmLEVBQVUsRUFBTSxjQUFjLEtBQVMsQ0FDbkMsSUFBSSxFQUFPLEVBQU0sSUFBSSxPQUFPLEVBQU0sSUFBSSxFQUN0QyxHQUFJLEVBQUssTUFBUSxFQUNiLE1BQU8sQ0FBRSxPQUFNLEVBQ25CLEVBQVcsRUFBSyxLQUNoQixJQUFJLEVBQVMsRUFBTSxRQUFRLEVBQVMsRUFBSyxLQUFLLEdBQUcsRUFBRSxLQUFPLEdBQVMsRUFBTSxTQUFTLEVBQ2xGLE1BQU8sQ0FBRSxRQUFTLENBQUUsS0FBTSxFQUFLLEtBQU0sUUFBTyxFQUN4QyxNQUFPLEVBQWdCLE9BQU8sRUFBTSxLQUFPLEVBQU8sTUFBTSxDQUFFLEVBQ2pFLFVBRUksRUFDTCxFQUFVLEVBQU0sY0FBYyxLQUFTLENBQ25DLElBQUksRUFBTyxFQUFLLEtBQUssR0FBRyxFQUN4QixNQUFPLENBQUUsUUFBUyxDQUFFLEtBQU0sRUFBTSxLQUFNLEdBQUksRUFBTSxHQUFJLE9BQVEsRUFBSyxJQUFLLEVBQ2xFLE1BQU8sRUFBZ0IsT0FBTyxFQUFNLEtBQU8sRUFBSyxNQUFNLENBQUUsRUFDL0QsTUFHRCxHQUFVLEVBQU0saUJBQWlCLENBQUksRUFFekMsRUFBSyxTQUFTLEVBQVMsQ0FDbkIsVUFBVyxjQUNYLGVBQWdCLEVBQ3BCLENBQUMsRUFpREwsU0FBUyxFQUFhLENBQUMsRUFBTSxFQUFLLEVBQU0sRUFBTSxDQUMxQyxHQUFJLEdBQVEsRUFDUixPQUFPLEVBQWdCLE9BQU8sRUFBSyxDQUFJLFVBRWxDLEdBQVEsRUFDYixPQUFPLEdBQVEsRUFBSyxNQUFPLEVBQUssQ0FBSSxNQUVuQyxDQUNELElBQUksRUFBUyxHQUFTLEtBQUssRUFBSyxRQUFTLENBQUcsRUFBRyxFQUFPLEVBQUssTUFBTSxJQUFJLE9BQU8sRUFBUyxFQUFPLFNBQVcsQ0FBRyxFQUN0RyxFQUFPLEVBQVMsRUFBTyxXQUFhLEVBQUssS0FBTSxFQUFLLEVBQVMsRUFBTyxTQUFXLEVBQUssR0FDeEYsR0FBSSxFQUFLLEVBQUssTUFBTSxJQUFJLFFBQVUsR0FBTSxFQUFLLEdBQ3pDLElBQ0osT0FBTyxFQUFnQixNQUFNLEVBQU0sQ0FBRSxHQU83QyxTQUFTLEVBQWdCLENBQUMsRUFBTSxFQUFLLEVBQUcsRUFBRyxDQUN2QyxJQUFJLEVBQU8sR0FBUyxLQUFLLEVBQUssUUFBUyxDQUFHLEVBQzFDLElBQUssRUFDRCxNQUFPLEdBQ1gsSUFBSSxFQUFNLEVBQU0sRUFBSyxXQUVyQixHQUFJLEdBQU8sRUFDUCxNQUFPLEdBQ1gsR0FBSSxHQUFPLEVBQUssT0FDWixNQUFPLEdBRVgsSUFBSSxFQUFTLEVBQUssU0FBUyxFQUFLLEVBQUUsRUFDbEMsR0FBSSxHQUFVLEdBQU8sRUFBRyxFQUFHLENBQU0sRUFDN0IsTUFBTyxHQUNYLElBQUksRUFBUSxFQUFLLFNBQVMsRUFBSyxDQUFDLEVBQ2hDLEdBQUksR0FBUyxHQUFPLEVBQUcsRUFBRyxDQUFLLEVBQzNCLE1BQU8sR0FHWCxPQUFPLEdBQVUsRUFBTyxRQUFVLEVBQUksR0FBSyxFQUUvQyxTQUFTLEVBQVEsQ0FBQyxFQUFNLEVBQU8sQ0FDM0IsSUFBSSxFQUFNLEVBQUssWUFBWSxDQUFFLEVBQUcsRUFBTSxRQUFTLEVBQUcsRUFBTSxPQUFRLEVBQUcsRUFBSyxFQUN4RSxNQUFPLENBQUUsTUFBSyxLQUFNLEdBQWlCLEVBQU0sRUFBSyxFQUFNLFFBQVMsRUFBTSxPQUFPLENBQUUsRUFJbEYsU0FBUyxFQUFZLENBQUMsRUFBTyxDQUN6QixJQUFLLEdBQ0QsT0FBTyxFQUFNLE9BQ2pCLElBQUksRUFBTyxHQUFlLEVBQVcsR0FHckMsT0FGQSxHQUFnQixFQUNoQixHQUFvQixLQUFLLElBQUksRUFDdEIsSUFBc0IsR0FBUyxFQUFXLEtBQUssSUFBSSxFQUFJLEtBQU8sS0FBSyxJQUFJLEVBQUssUUFBVSxFQUFNLE9BQU8sRUFBSSxHQUMxRyxLQUFLLElBQUksRUFBSyxRQUFVLEVBQU0sT0FBTyxFQUFJLEdBQU0sR0FBcUIsR0FBSyxFQUFJLEVBRXJGLFNBQVMsRUFBbUIsQ0FBQyxFQUFNLEVBQU8sQ0FDdEMsSUFBSSxFQUFRLEdBQVMsRUFBTSxDQUFLLEVBQUcsRUFBTyxHQUFhLENBQUssRUFDeEQsRUFBVyxFQUFLLE1BQU0sVUFDMUIsTUFBTyxDQUNILE1BQU0sQ0FBQyxFQUFRLENBQ1gsR0FBSSxFQUFPLFdBQ1AsRUFBTSxJQUFNLEVBQU8sUUFBUSxPQUFPLEVBQU0sR0FBRyxFQUMzQyxFQUFXLEVBQVMsSUFBSSxFQUFPLE9BQU8sR0FHOUMsR0FBRyxDQUFDLEVBQU8sRUFBUSxFQUFVLENBQ3pCLElBQUksRUFBTSxHQUFTLEVBQU0sQ0FBSyxFQUFHLEVBQzdCLEVBQVEsR0FBYyxFQUFNLEVBQUksSUFBSyxFQUFJLEtBQU0sQ0FBSSxFQUN2RCxHQUFJLEVBQU0sS0FBTyxFQUFJLE1BQVEsRUFBUSxDQUNqQyxJQUFJLEVBQWEsR0FBYyxFQUFNLEVBQU0sSUFBSyxFQUFNLEtBQU0sQ0FBSSxFQUM1RCxFQUFPLEtBQUssSUFBSSxFQUFXLEtBQU0sRUFBTSxJQUFJLEVBQUcsRUFBSyxLQUFLLElBQUksRUFBVyxHQUFJLEVBQU0sRUFBRSxFQUN2RixFQUFRLEVBQU8sRUFBTSxLQUFPLEVBQWdCLE1BQU0sRUFBTSxDQUFFLEVBQUksRUFBZ0IsTUFBTSxFQUFJLENBQUksRUFFaEcsR0FBSSxFQUNBLE9BQU8sRUFBUyxhQUFhLEVBQVMsS0FBSyxPQUFPLEVBQU0sS0FBTSxFQUFNLEVBQUUsQ0FBQyxVQUNsRSxHQUFZLEdBQVEsR0FBSyxFQUFTLE9BQU8sT0FBUyxJQUFNLEVBQVUsR0FBa0IsRUFBVSxFQUFJLEdBQUcsR0FDMUcsT0FBTyxVQUNGLEVBQ0wsT0FBTyxFQUFTLFNBQVMsQ0FBSyxNQUU5QixRQUFPLEVBQWdCLE9BQU8sQ0FBQyxDQUFLLENBQUMsRUFFakQsRUFFSixTQUFTLEVBQWlCLENBQUMsRUFBSyxFQUFLLENBQ2pDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxPQUFPLE9BQVEsSUFBSyxDQUN4QyxJQUFNLE9BQU0sTUFBTyxFQUFJLE9BQU8sR0FDOUIsR0FBSSxHQUFRLEdBQU8sR0FBTSxFQUNyQixPQUFPLEVBQWdCLE9BQU8sRUFBSSxPQUFPLE1BQU0sRUFBRyxDQUFDLEVBQUUsT0FBTyxFQUFJLE9BQU8sTUFBTSxFQUFJLENBQUMsQ0FBQyxFQUFHLEVBQUksV0FBYSxFQUFJLEVBQUksRUFBSSxXQUFhLEVBQUksVUFBWSxFQUFJLEVBQUksRUFBRSxFQUVsSyxPQUFPLEtBMEJYLFNBQVMsRUFBUSxDQUFDLEVBQU0sRUFBTyxFQUFNLEVBQVEsQ0FFekMsR0FEQSxFQUFPLEdBQVcsRUFBSyxNQUFPLEdBQXNCLENBQUksR0FDbkQsRUFDRCxPQUNKLElBQUksRUFBVSxFQUFLLFlBQVksQ0FBRSxFQUFHLEVBQU0sUUFBUyxFQUFHLEVBQU0sT0FBUSxFQUFHLEVBQUssR0FDdEUsa0JBQW1CLEVBQUssV0FDMUIsRUFBTSxHQUFVLEdBQWtCLEdBQW1CLEVBQU0sQ0FBSyxFQUM5RCxDQUFFLEtBQU0sRUFBZSxLQUFNLEdBQUksRUFBZSxFQUFHLEVBQUksS0FDekQsRUFBTSxDQUFFLEtBQU0sRUFBUyxPQUFRLENBQUssRUFDcEMsRUFBVSxFQUFLLE1BQU0sUUFBUSxFQUFNLENBQUMsRUFBSyxDQUFHLEVBQUksQ0FBRyxFQUN2RCxFQUFLLE1BQU0sRUFDWCxFQUFLLFNBQVMsQ0FDVixVQUNBLFVBQVcsQ0FBRSxPQUFRLEVBQVEsT0FBTyxFQUFTLEVBQUUsRUFBRyxLQUFNLEVBQVEsT0FBTyxFQUFTLENBQUMsQ0FBRSxFQUNuRixVQUFXLEVBQU0sWUFBYyxZQUNuQyxDQUFDLEVBQ0QsRUFBSyxXQUFXLGVBQWlCLEtBaURyQyxTQUFTLEVBQVcsQ0FBQyxFQUFNLEVBQU0sQ0FHN0IsSUFBSSxFQUFTLEVBQUssSUFBSSxXQUN0QixJQUFLLEVBQ0QsT0FDSixJQUFJLEVBQVMsRUFBTyxZQUFZLFNBQVMsY0FBYyxVQUFVLENBQUMsRUFDbEUsRUFBTyxNQUFNLFFBQVUsNkNBQ3ZCLEVBQU8sTUFBUSxFQUNmLEVBQU8sTUFBTSxFQUNiLEVBQU8sYUFBZSxFQUFLLE9BQzNCLEVBQU8sZUFBaUIsRUFDeEIsV0FBVyxJQUFNLENBQ2IsRUFBTyxPQUFPLEVBQ2QsRUFBSyxNQUFNLEdBQ1osRUFBRSxFQUVULFNBQVMsRUFBVyxDQUFDLEVBQU8sQ0FDeEIsSUFBSSxFQUFVLENBQUMsRUFBRyxFQUFTLENBQUMsRUFBRyxFQUFXLEdBQzFDLFFBQVMsS0FBUyxFQUFNLFVBQVUsT0FDOUIsSUFBSyxFQUFNLE1BQ1AsRUFBUSxLQUFLLEVBQU0sU0FBUyxFQUFNLEtBQU0sRUFBTSxFQUFFLENBQUMsRUFDakQsRUFBTyxLQUFLLENBQUssRUFFekIsSUFBSyxFQUFRLE9BQVEsQ0FFakIsSUFBSSxFQUFPLEdBQ1gsUUFBVyxVQUFVLEVBQU0sVUFBVSxPQUFRLENBQ3pDLElBQUksRUFBTyxFQUFNLElBQUksT0FBTyxDQUFJLEVBQ2hDLEdBQUksRUFBSyxPQUFTLEVBQ2QsRUFBUSxLQUFLLEVBQUssSUFBSSxFQUN0QixFQUFPLEtBQUssQ0FBRSxLQUFNLEVBQUssS0FBTSxHQUFJLEtBQUssSUFBSSxFQUFNLElBQUksT0FBUSxFQUFLLEdBQUssQ0FBQyxDQUFFLENBQUMsRUFFaEYsRUFBTyxFQUFLLE9BRWhCLEVBQVcsR0FFZixNQUFPLENBQUUsS0FBTSxHQUFXLEVBQU8sR0FBdUIsRUFBUSxLQUFLLEVBQU0sU0FBUyxDQUFDLEVBQUcsU0FBUSxVQUFTLEVBMEI3RyxTQUFTLEVBQXNCLENBQUMsRUFBTyxFQUFPLENBQzFDLElBQUksRUFBVSxDQUFDLEVBQ2YsUUFBUyxLQUFhLEVBQU0sTUFBTSxFQUFpQixFQUFHLENBQ2xELElBQUksRUFBUyxFQUFVLEVBQU8sQ0FBSyxFQUNuQyxHQUFJLEVBQ0EsRUFBUSxLQUFLLENBQU0sRUFFM0IsT0FBTyxFQUFVLEVBQU0sT0FBTyxDQUFFLFVBQVMsWUFBYSxHQUFjLEdBQUcsRUFBSSxDQUFFLENBQUMsRUFBSSxLQUV0RixTQUFTLEVBQW9CLENBQUMsRUFBTSxDQUNoQyxXQUFXLElBQU0sQ0FDYixJQUFJLEVBQVEsRUFBSyxTQUNqQixHQUFJLEdBQVMsRUFBSyxXQUFXLGdCQUFpQixDQUMxQyxJQUFJLEVBQUssR0FBdUIsRUFBSyxNQUFPLENBQUssRUFDakQsR0FBSSxFQUNBLEVBQUssU0FBUyxDQUFFLE1BRWhCLEdBQUssT0FBTyxDQUFDLENBQUMsSUFFdkIsRUFBRSxFQTRHVCxTQUFTLEVBQWtCLENBQUMsRUFBSyxDQUM3QixJQUFLLEdBQW1CLElBQUksQ0FBRyxFQUMzQixHQUFtQixJQUFJLENBQUcsRUFDMUIsRUFBSSxpQkFBaUIsT0FBUSxJQUFNLEVBQUcsRUFDdEMsRUFBSSxpQkFBaUIsTUFBTyxJQUFNLEVBQUcsRUFPN0MsU0FBUyxFQUFxQixFQUFHLENBQUUsR0FBbUIsR0FxUXRELFNBQVMsRUFBTyxDQUFDLEVBQUssRUFBSyxDQUN2QixHQUFJLEdBQU8sRUFDUCxPQUFPLEVBQ1gsR0FBSSxFQUFJLGFBQWUsRUFBSSxZQUN2QixHQUFtQixHQUN2QixPQUFPLEVBbVRYLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBUSxDQUM5QixJQUFJLEVBQVEsRUFDWixHQUFJLEVBQU0sSUFBVyxPQUNoQixFQUFTLEVBQU0sRUFBUyxjQUFlLEtBQ3ZDLEVBQVEsRUFBTSxFQUFTLGNBQWUsR0FDdkMsRUFBTSxPQUFPLEVBQVMsRUFBRyxFQUFHLElBQUksR0FBYSxFQUFPLE9BQVMsRUFBSSxFQUFNLE1BQU0sQ0FBQyxFQTZIdEYsU0FBUyxFQUF5QixDQUFDLEVBQUcsRUFBRyxFQUFNLENBQzNDLElBQUksRUFBTyxJQUFJLEdBRWYsT0FEQSxFQUFTLFFBQVEsRUFBRyxFQUFHLEVBQU0sRUFBTSxDQUFDLEVBQzdCLEVBQUssUUFhaEIsU0FBUyxFQUFpQixDQUFDLEVBQUssRUFBWSxDQUN4QyxJQUFJLEVBQU8sRUFBSSxzQkFBc0IsRUFDakMsRUFBTSxFQUFJLGNBQWUsRUFBTSxFQUFJLGFBQWUsT0FDbEQsRUFBTyxLQUFLLElBQUksRUFBRyxFQUFLLElBQUksRUFBRyxFQUFRLEtBQUssSUFBSSxFQUFJLFdBQVksRUFBSyxLQUFLLEVBQzFFLEVBQU0sS0FBSyxJQUFJLEVBQUcsRUFBSyxHQUFHLEVBQUcsRUFBUyxLQUFLLElBQUksRUFBSSxZQUFhLEVBQUssTUFBTSxFQUMvRSxRQUFTLEVBQVMsRUFBSSxXQUFZLEdBQVUsR0FBVSxFQUFJLE1BQ3RELEdBQUksRUFBTyxVQUFZLEVBQUcsQ0FDdEIsSUFBSSxFQUFNLEVBQ04sRUFBUSxPQUFPLGlCQUFpQixDQUFHLEVBQ3ZDLElBQUssRUFBSSxhQUFlLEVBQUksY0FBZ0IsRUFBSSxZQUFjLEVBQUksY0FDOUQsRUFBTSxVQUFZLFVBQVcsQ0FDN0IsSUFBSSxFQUFhLEVBQUksc0JBQXNCLEVBQzNDLEVBQU8sS0FBSyxJQUFJLEVBQU0sRUFBVyxJQUFJLEVBQ3JDLEVBQVEsS0FBSyxJQUFJLEVBQU8sRUFBVyxLQUFLLEVBQ3hDLEVBQU0sS0FBSyxJQUFJLEVBQUssRUFBVyxHQUFHLEVBQ2xDLEVBQVMsS0FBSyxJQUFJLEdBQVUsRUFBSSxXQUFhLEVBQUksWUFBYyxFQUFRLEVBQVcsTUFBTSxFQUU1RixFQUFTLEVBQU0sVUFBWSxZQUFjLEVBQU0sVUFBWSxRQUFVLEVBQUksYUFBZSxFQUFJLG1CQUV2RixFQUFPLFVBQVksR0FDeEIsRUFBUyxFQUFPLFNBR2hCLE9BR1IsTUFBTyxDQUFFLEtBQU0sRUFBTyxFQUFLLEtBQU0sTUFBTyxLQUFLLElBQUksRUFBTSxDQUFLLEVBQUksRUFBSyxLQUNqRSxJQUFLLEdBQU8sRUFBSyxJQUFNLEdBQWEsT0FBUSxLQUFLLElBQUksRUFBSyxDQUFNLEdBQUssRUFBSyxJQUFNLEVBQVksRUFFcEcsU0FBUyxFQUFjLENBQUMsRUFBSyxFQUFZLENBQ3JDLElBQUksRUFBTyxFQUFJLHNCQUFzQixFQUNyQyxNQUFPLENBQUUsS0FBTSxFQUFHLE1BQU8sRUFBSyxNQUFRLEVBQUssS0FDdkMsSUFBSyxFQUFZLE9BQVEsRUFBSyxRQUFVLEVBQUssSUFBTSxFQUFZLEVBbWV2RSxTQUFTLEVBQWEsQ0FBQyxFQUFNLEVBQUksRUFBVyxDQUN4QyxJQUFJLEVBQVMsQ0FBQyxFQUFHLEVBQU0sRUFBTSxFQUFRLEVBV3JDLEdBVkEsRUFBUyxNQUFNLEVBQVcsRUFBTSxFQUFJLENBQ2hDLElBQUksRUFBRyxHQUNQLEtBQUssQ0FBQyxFQUFNLEVBQUksQ0FDWixHQUFJLEVBQU8sRUFDUCxFQUFPLEtBQUssQ0FBRSxLQUFNLEVBQUssR0FBSSxDQUFLLENBQUMsRUFDbkMsR0FBUyxFQUFPLEVBRXBCLEVBQU0sRUFFZCxFQUFHLEVBQUUsRUFDRCxFQUFNLEVBQ04sRUFBTyxLQUFLLENBQUUsS0FBTSxFQUFLLElBQUcsQ0FBQyxFQUM3QixHQUFTLEVBQUssRUFFbEIsTUFBTyxDQUFFLFFBQU8sUUFBTyxFQUUzQixTQUFTLEVBQVksRUFBRyxRQUFPLFVBQVUsRUFBTyxDQUM1QyxHQUFJLEdBQVMsRUFDVCxPQUFPLEVBQU8sR0FBRyxLQUNyQixHQUFJLEdBQVMsRUFDVCxPQUFPLEVBQU8sRUFBTyxPQUFTLEdBQUcsR0FDckMsSUFBSSxFQUFPLEtBQUssTUFBTSxFQUFRLENBQUssRUFDbkMsUUFBUyxFQUFJLEdBQUksSUFBSyxDQUNsQixJQUFNLE9BQU0sTUFBTyxFQUFPLEdBQUksRUFBTyxFQUFLLEVBQzFDLEdBQUksR0FBUSxFQUNSLE9BQU8sRUFBTyxFQUNsQixHQUFRLEdBR2hCLFNBQVMsRUFBWSxDQUFDLEVBQVcsRUFBSyxDQUNsQyxJQUFJLEVBQVUsRUFDZCxRQUFXLE9BQU0sUUFBUSxFQUFVLE9BQVEsQ0FDdkMsR0FBSSxHQUFPLEVBQUksQ0FDWCxHQUFXLEVBQU0sRUFDakIsTUFFSixHQUFXLEVBQUssRUFFcEIsT0FBTyxFQUFVLEVBQVUsTUFFL0IsU0FBUyxFQUFJLENBQUMsRUFBTyxFQUFHLENBQ3BCLFFBQVMsS0FBTyxFQUNaLEdBQUksRUFBRSxDQUFHLEVBQ0wsT0FBTyxFQUNmLE9BMERKLFNBQVMsRUFBVSxDQUFDLEVBQU8sRUFBUSxDQUMvQixHQUFJLEVBQU8sT0FBUyxFQUNoQixPQUFPLEVBQ1gsSUFBSSxFQUFPLEVBQU8sTUFBTSxFQUFNLEdBQUcsRUFBRyxFQUFVLEVBQU8sTUFBTSxFQUFNLE1BQU0sRUFDdkUsT0FBTyxJQUFJLEdBQVUsRUFBTSxLQUFNLEVBQU0sT0FBUSxFQUFNLEVBQVUsRUFBTSxNQUFNLFFBQVEsRUFBTSxRQUFRLEVBQUksRUFBTSxTQUFTLElBQUksS0FBSyxHQUFXLEVBQUcsQ0FBTSxDQUFDLEVBQUksRUFBTSxRQUFRLEVBT3hLLFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBTSxFQUFRLENBQ3BDLE9BQU8sSUFBSSxHQUFZLEVBQU0sQ0FDekIsTUFBTSxDQUFDLEVBQUssQ0FDUixNQUFPLElBQUksS0FBSyxDQUFHLEVBQUksRUFBSSxRQUFRLE9BQVEsS0FBSyxDQUM1QyxHQUFJLEdBQUssSUFDTCxPQUFPLEVBQ1gsSUFBSyxJQUFXLEVBQU8sR0FDbkIsTUFBTSxJQUFJLFdBQVcseUJBQXlCLEdBQUcsRUFDckQsT0FBTyxFQUFPLEdBQ2pCLEVBQUksRUFBTyxJQUFNLEVBRTFCLENBQUMsRUF3c0JMLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBSyxFQUFLLENBQ2hDLE1BQU8sRUFBSyxDQUNSLElBQUksRUFBVSxFQUFZLElBQUksQ0FBRyxFQUNqQyxHQUFJLEdBQVcsRUFBUSxRQUFVLEVBQzdCLE9BQU8sRUFDWCxJQUFJLEVBQVMsRUFBSSxXQUNqQixFQUFNLEdBQVUsRUFBTSxJQUFNLEVBQVMsRUFBTSxFQUFJLEVBQUksWUFBYyxFQUFJLGdCQUV6RSxPQUFPLEtBRVgsU0FBUyxFQUE0QixDQUFDLEVBQU0sRUFBTyxDQUMvQyxJQUF1QixlQUFuQixFQUF3RCxZQUFyQixFQUNqQixhQUFsQixFQUFvRCxVQUFwQixHQURrQixFQUVsRCxFQUFZLEVBQUssUUFBUSxTQUFTLEVBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxFQUl0RSxHQUFJLEdBQXFCLEVBQVUsS0FBTSxFQUFVLE9BQVEsRUFBVyxDQUFXLEVBQzdFLENBQUMsRUFBWSxFQUFjLEVBQVcsQ0FBVyxFQUFJLENBQUMsRUFBVyxFQUFhLEVBQVksQ0FBWSxFQUMxRyxNQUFPLENBQUUsYUFBWSxlQUFjLFlBQVcsYUFBWSxFQUc5RCxTQUFTLEVBQXdCLENBQUMsRUFBTSxFQUFXLENBQy9DLEdBQUksRUFBVSxrQkFBbUIsQ0FDN0IsSUFBSSxFQUFRLEVBQVUsa0JBQWtCLEVBQUssSUFBSSxFQUFFLEdBQ25ELEdBQUksRUFDQSxPQUFPLEdBQTZCLEVBQU0sQ0FBSyxFQUV2RCxJQUFJLEVBQVEsS0FNWixTQUFTLENBQUksQ0FBQyxFQUFPLENBQ2pCLEVBQU0sZUFBZSxFQUNyQixFQUFNLHlCQUF5QixFQUMvQixFQUFRLEVBQU0sZ0JBQWdCLEVBQUUsR0FLcEMsT0FIQSxFQUFLLFdBQVcsaUJBQWlCLGNBQWUsRUFBTSxFQUFJLEVBQzFELEVBQUssSUFBSSxjQUFjLFlBQVksUUFBUSxFQUMzQyxFQUFLLFdBQVcsb0JBQW9CLGNBQWUsRUFBTSxFQUFJLEVBQ3RELEVBQVEsR0FBNkIsRUFBTSxDQUFLLEVBQUksS0FvekMvRCxTQUFTLEVBQWMsQ0FBQyxFQUFNLEVBQU8sRUFBTSxDQUN2QyxRQUFTLEVBQVUsRUFBSyxNQUFNLE1BQU0sQ0FBSyxFQUFHLEVBQUksRUFBUSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssQ0FDN0UsSUFBSSxFQUFTLEVBQVEsR0FBSSxTQUFlLEdBQVUsV0FBYSxFQUFPLENBQUksRUFBSSxFQUM5RSxHQUFJLEVBQ0EsR0FBYSxFQUFPLENBQUksRUFFaEMsT0FBTyxFQUlYLFNBQVMsRUFBZ0IsQ0FBQyxFQUFNLEVBQVUsQ0FDdEMsTUFBTSxFQUFRLEVBQUssTUFBTSxRQUFRLEVBQ2pDLElBQUksRUFBUyxFQUFNLEVBQU0sT0FBUyxHQUNsQyxHQUFJLEdBQVUsUUFDVixFQUFTLElBQ2IsSUFBSSxFQUFLLEVBQU0sRUFBTyxFQUN0QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUyxJQUFLLEVBQUcsQ0FDdkMsTUFBTSxFQUFNLEVBQU0sR0FDbEIsR0FBSSxrQkFBa0IsS0FBSyxDQUFHLEVBQzFCLEVBQU8sV0FDRixZQUFZLEtBQUssQ0FBRyxFQUN6QixFQUFNLFdBQ0Qsc0JBQXNCLEtBQUssQ0FBRyxFQUNuQyxFQUFPLFdBQ0YsY0FBYyxLQUFLLENBQUcsRUFDM0IsRUFBUSxXQUNILFNBQVMsS0FBSyxDQUFHLEVBQ3RCLEdBQUksR0FBWSxNQUNaLEVBQU8sT0FFUCxHQUFPLE9BR1gsT0FBTSxJQUFJLE1BQU0sK0JBQWlDLENBQUcsRUFFNUQsR0FBSSxFQUNBLEVBQVMsT0FBUyxFQUN0QixHQUFJLEVBQ0EsRUFBUyxRQUFVLEVBQ3ZCLEdBQUksRUFDQSxFQUFTLFFBQVUsRUFDdkIsR0FBSSxFQUNBLEVBQVMsU0FBVyxFQUN4QixPQUFPLEVBRVgsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFPLEVBQU8sQ0FDbkMsR0FBSSxFQUFNLE9BQ04sRUFBTyxPQUFTLEVBQ3BCLEdBQUksRUFBTSxRQUNOLEVBQU8sUUFBVSxFQUNyQixHQUFJLEVBQU0sUUFDTixFQUFPLFFBQVUsRUFDckIsR0FBSSxJQUFVLElBQVMsRUFBTSxTQUN6QixFQUFPLFNBQVcsRUFDdEIsT0FBTyxFQW1CWCxTQUFTLEVBQVMsQ0FBQyxFQUFPLENBQ3RCLElBQUksRUFBVyxFQUFNLE1BQU0sRUFBTSxFQUM3QixFQUFNLEdBQVEsSUFBSSxDQUFRLEVBQzlCLElBQUssRUFDRCxHQUFRLElBQUksRUFBVSxFQUFNLEdBQVksRUFBUyxPQUFPLENBQUMsRUFBRyxJQUFNLEVBQUUsT0FBTyxDQUFDLEVBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUN2RixPQUFPLEVBWVgsU0FBUyxFQUFXLENBQUMsRUFBVSxFQUFXLEdBQWlCLENBQ3ZELElBQUksRUFBUSxPQUFPLE9BQU8sSUFBSSxFQUMxQixFQUFXLE9BQU8sT0FBTyxJQUFJLEVBQzdCLEVBQWMsQ0FBQyxFQUFNLElBQU8sQ0FDNUIsSUFBSSxFQUFVLEVBQVMsR0FDdkIsR0FBSSxHQUFXLEtBQ1gsRUFBUyxHQUFRLFVBQ1osR0FBVyxFQUNoQixNQUFNLElBQUksTUFBTSxlQUFpQixFQUFPLGlFQUFpRSxHQUU3RyxFQUFNLENBQUMsRUFBTyxFQUFLLEVBQVMsRUFBZ0IsSUFBb0IsQ0FDaEUsSUFBSSxFQUFJLEVBQ1IsSUFBSSxFQUFXLEVBQU0sS0FBVyxFQUFNLEdBQVMsT0FBTyxPQUFPLElBQUksR0FDN0QsRUFBUSxFQUFJLE1BQU0sUUFBUSxFQUFFLElBQUksS0FBSyxHQUFpQixFQUFHLENBQVEsQ0FBQyxFQUN0RSxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQ25DLElBQUksRUFBUyxFQUFNLE1BQU0sRUFBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLEVBRXZDLEdBREEsRUFBWSxFQUFRLEVBQUksR0FDbkIsRUFBUyxHQUNWLEVBQVMsR0FBVSxDQUNmLGVBQWdCLEdBQ2hCLGdCQUFpQixHQUNqQixJQUFLLENBQUMsQ0FBQyxJQUFTLENBQ1IsSUFBSSxFQUFTLEdBQWUsQ0FBRSxPQUFNLFNBQVEsT0FBTSxFQUdsRCxPQUZBLFdBQVcsSUFBTSxDQUFFLEdBQUksSUFBZ0IsRUFDbkMsR0FBZSxNQUFTLEVBQWEsRUFDbEMsR0FDVixDQUNULEVBRVIsSUFBSSxFQUFPLEVBQU0sS0FBSyxHQUFHLEVBQ3pCLEVBQVksRUFBTSxFQUFLLEVBQ3ZCLElBQUksRUFBVSxFQUFTLEtBQVUsRUFBUyxHQUFRLENBQzlDLGVBQWdCLEdBQ2hCLGdCQUFpQixHQUNqQixNQUFPLEdBQU0sRUFBSyxFQUFTLFFBQVUsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE9BQVMsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE1BQU0sSUFBTSxDQUFDLENBQ3ZJLEdBQ0EsR0FBSSxFQUNBLEVBQVEsSUFBSSxLQUFLLENBQU8sRUFDNUIsR0FBSSxFQUNBLEVBQVEsZUFBaUIsR0FDN0IsR0FBSSxFQUNBLEVBQVEsZ0JBQWtCLElBRWxDLFFBQVMsS0FBSyxFQUFVLENBQ3BCLElBQUksRUFBUyxFQUFFLE1BQVEsRUFBRSxNQUFNLE1BQU0sR0FBRyxFQUFJLENBQUMsUUFBUSxFQUNyRCxHQUFJLEVBQUUsSUFDRixRQUFTLEtBQVMsRUFBUSxDQUN0QixJQUFJLEVBQVcsRUFBTSxLQUFXLEVBQU0sR0FBUyxPQUFPLE9BQU8sSUFBSSxHQUNqRSxJQUFLLEVBQVMsS0FDVixFQUFTLEtBQU8sQ0FBRSxlQUFnQixHQUFPLGdCQUFpQixHQUFPLElBQUssQ0FBQyxDQUFFLEVBQzdFLElBQU0sT0FBUSxFQUNkLFFBQVMsS0FBTyxFQUNaLEVBQVMsR0FBSyxJQUFJLEtBQUssS0FBUSxFQUFJLEVBQU0sRUFBZSxDQUFDLEVBRXJFLElBQUksRUFBTyxFQUFFLElBQWEsRUFBRSxJQUM1QixJQUFLLEVBQ0QsU0FDSixRQUFTLEtBQVMsRUFFZCxHQURBLEVBQUksRUFBTyxFQUFNLEVBQUUsSUFBSyxFQUFFLGVBQWdCLEVBQUUsZUFBZSxFQUN2RCxFQUFFLE1BQ0YsRUFBSSxFQUFPLFNBQVcsRUFBTSxFQUFFLE1BQU8sRUFBRSxlQUFnQixFQUFFLGVBQWUsRUFHcEYsT0FBTyxFQUdYLFNBQVMsRUFBVyxDQUFDLEVBQUssRUFBTyxFQUFNLEVBQU8sQ0FDMUMsR0FBa0IsRUFDbEIsSUFBSSxFQUFPLEdBQVEsQ0FBSyxFQUNwQixFQUFXLEdBQVksRUFBTSxDQUFDLEVBQUcsRUFBUyxHQUFjLENBQVEsR0FBSyxFQUFLLFFBQVUsR0FBUSxJQUM1RixFQUFTLEdBQUksRUFBVSxHQUFPLEVBQVksR0FBTyxFQUFrQixHQUN2RSxHQUFJLElBQWdCLEdBQWEsTUFBUSxHQUFRLEdBQWEsT0FBUyxHQUVuRSxHQURBLEVBQVMsR0FBYSxPQUFTLElBQzNCLEdBQWMsUUFBUSxFQUFNLE9BQU8sRUFBSSxFQUN2QyxFQUFZLEdBQ1osR0FBZSxLQUd2QixJQUFJLEVBQU0sSUFBSSxJQUNWLEVBQVMsQ0FBQyxJQUFZLENBQ3RCLEdBQUksRUFBUyxDQUNULFFBQVMsS0FBTyxFQUFRLElBQ3BCLElBQUssRUFBSSxJQUFJLENBQUcsR0FFWixHQURBLEVBQUksSUFBSSxDQUFHLEVBQ1AsRUFBSSxDQUFJLEVBQUcsQ0FDWCxHQUFJLEVBQVEsZ0JBQ1IsRUFBa0IsR0FDdEIsTUFBTyxJQUduQixHQUFJLEVBQVEsZUFBZ0IsQ0FDeEIsR0FBSSxFQUFRLGdCQUNSLEVBQWtCLEdBQ3RCLEVBQVksSUFHcEIsTUFBTyxJQUVQLEVBQVcsRUFBSSxHQUFRLEVBQVUsRUFDckMsR0FBSSxFQUFVLENBQ1YsR0FBSSxFQUFPLEVBQVMsRUFBUyxHQUFVLEVBQU0sR0FBUSxDQUFNLEVBQUUsRUFDekQsRUFBVSxXQUVMLElBQVcsRUFBTSxRQUFVLEVBQU0sU0FBVyxFQUFNLFlBRXJELEVBQVEsU0FBVyxFQUFNLFNBQVcsRUFBTSxVQUMzQyxFQUFXLEdBQUssRUFBTSxXQUFhLEdBQVksR0FDaEQsR0FBSSxFQUFPLEVBQVMsRUFBUyxHQUFVLEVBQVUsRUFBTyxFQUFJLEVBQUUsRUFDMUQsRUFBVSxXQUVMLEVBQU0sV0FBYSxFQUFZLEdBQU0sRUFBTSxXQUFhLEdBQVEsR0FBYSxHQUNsRixFQUFPLEVBQVMsRUFBUyxHQUFVLEVBQVcsRUFBTyxFQUFLLEVBQUUsRUFDNUQsRUFBVSxXQUdULEdBQVUsRUFBTSxVQUNyQixFQUFPLEVBQVMsRUFBUyxHQUFVLEVBQU0sRUFBTyxFQUFJLEVBQUUsRUFDdEQsRUFBVSxHQUVkLElBQUssR0FBVyxFQUFPLEVBQVMsSUFBSSxFQUNoQyxFQUFVLEdBRWxCLEdBQUksRUFDQSxFQUFVLEdBQ2QsR0FBSSxHQUFXLEVBQ1gsRUFBTSxnQkFBZ0IsRUFFMUIsT0FEQSxHQUFrQixLQUNYLEVBc2hDWCxTQUFTLEVBQVcsQ0FBQyxFQUFNLENBQ3ZCLElBQU0sT0FBUSxFQUNkLE1BQU8sQ0FBRSxJQUFLLEVBQUcsS0FBTSxFQUFHLE9BQVEsRUFBSSxZQUFhLE1BQU8sRUFBSSxVQUFXLEVBaW1CN0UsU0FBUyxFQUFVLENBQUMsRUFBTSxFQUFTLENBQy9CLElBQUksRUFBUyxFQUFLLE9BQU8sRUFBYSxFQUN0QyxJQUFLLEVBQ0QsT0FBTyxLQUNYLElBQUksRUFBUSxFQUFPLFFBQVEsU0FBUyxRQUFRLENBQU8sRUFDbkQsT0FBTyxFQUFRLEVBQUksS0FBTyxFQUFPLFFBQVEsYUFBYSxHQWlSMUQsU0FBUyxFQUFPLENBQUMsRUFBUSxDQUNyQixJQUFJLEVBQVMsQ0FDVCxFQUNKLEVBQ0EsR0FBSSxHQUFVLEVBQU8sUUFBVSxHQUMzQixFQUFPLEtBQUssR0FBYSxHQUFHLEVBQUksQ0FBQyxFQUNyQyxPQUFPLEVBaUlYLFNBQVMsRUFBTyxDQUFDLEVBQUssQ0FBRSxPQUFRLE1BQU0sUUFBUSxDQUFHLEVBQUksRUFBTSxDQUFDLENBQUcsRUFDL0QsU0FBUyxFQUFhLENBQUMsRUFBUSxFQUFTLEVBQUssQ0FDekMsTUFBTyxFQUFPLE9BQVMsRUFBTyxNQUFRLEVBQUssQ0FDdkMsR0FBSSxFQUFPLE1BQVEsRUFDZixFQUFRLEtBQUssRUFBTyxLQUFLLEVBQzdCLEVBQU8sS0FBSyxHQXdLcEIsU0FBUyxFQUFXLENBQUMsRUFBRyxFQUFHLENBQ3ZCLEdBQUksRUFBRSxRQUFVLEVBQUUsT0FDZCxNQUFPLEdBQ1gsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsSUFDMUIsSUFBSyxFQUFFLEdBQUcsUUFBUSxFQUFFLEVBQUUsRUFDbEIsTUFBTyxHQUNmLE1BQU8sR0FnQ1gsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFRLENBQ2hDLE9BQU8sRUFBSyxNQUFNLE1BQU0sRUFBZ0IsRUFBRSxhQUFhLEVBQVEsRUFBSyxLQUFLLEVBZ0M3RSxTQUFTLEVBQVcsQ0FBQyxFQUFTLENBQUMsRUFBRyxDQUM5QixNQUFPLENBQ0gsR0FBaUIsR0FBRyxDQUFNLEVBQzFCLEdBQVEsRUFDUixFQUNKLEVBRUosU0FBUyxFQUFhLENBQUMsRUFBTyxDQUMxQixJQUFJLEVBQU8sRUFDWCxNQUFPLEVBQU8sRUFDVixFQUFPLEVBQU8sR0FBSyxFQUN2QixPQUFPLEVBaGhWWCxNQUFNLEVBQWtCLENBQ3BCLFdBQVcsRUFBRyxDQUNWLEtBQUssV0FBYSxLQUNsQixLQUFLLGFBQWUsRUFDcEIsS0FBSyxVQUFZLEtBQ2pCLEtBQUssWUFBYyxFQUV2QixFQUFFLENBQUMsRUFBUSxDQUNQLE9BQU8sS0FBSyxZQUFjLEVBQU8sWUFBYyxLQUFLLGNBQWdCLEVBQU8sY0FDdkUsS0FBSyxXQUFhLEVBQU8sV0FBYSxLQUFLLGFBQWUsRUFBTyxZQUV6RSxRQUFRLENBQUMsRUFBTyxDQUNaLElBQU0sYUFBWSxhQUFjLEVBRWhDLEtBQUssSUFBSSxFQUFZLEtBQUssSUFBSSxFQUFNLGFBQWMsRUFBYSxHQUFVLENBQVUsRUFBSSxDQUFDLEVBQUcsRUFBVyxLQUFLLElBQUksRUFBTSxZQUFhLEVBQVksR0FBVSxDQUFTLEVBQUksQ0FBQyxDQUFDLEVBRTNLLEdBQUcsQ0FBQyxFQUFZLEVBQWMsRUFBVyxFQUFhLENBQ2xELEtBQUssV0FBYSxFQUNsQixLQUFLLGFBQWUsRUFDcEIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssWUFBYyxFQUUzQixDQUNBLElBQUksR0FBeUIsS0ErQnpCLEdBc0dKLE1BQU0sRUFBTyxDQUNULFdBQVcsQ0FBQyxFQUFNLEVBQVEsRUFBVSxHQUFNLENBQ3RDLEtBQUssS0FBTyxFQUNaLEtBQUssT0FBUyxFQUNkLEtBQUssUUFBVSxRQUVaLE9BQU0sQ0FBQyxFQUFLLEVBQVMsQ0FBRSxPQUFPLElBQUksR0FBTyxFQUFJLFdBQVksR0FBUyxDQUFHLEVBQUcsQ0FBTyxRQUMvRSxNQUFLLENBQUMsRUFBSyxFQUFTLENBQUUsT0FBTyxJQUFJLEdBQU8sRUFBSSxXQUFZLEdBQVMsQ0FBRyxFQUFJLEVBQUcsQ0FBTyxFQUM3RixDQUNBLElBQU0sR0FBYSxDQUFDLEVBQ3BCLE1BQU0sQ0FBWSxDQUNkLFdBQVcsRUFBRyxDQUNWLEtBQUssT0FBUyxLQUNkLEtBQUssSUFBTSxLQUNYLEtBQUssTUFBUSxLQUViLGdCQUFlLEVBQUcsQ0FBRSxPQUFPLFFBQzNCLFdBQVUsRUFBRyxDQUNiLE9BQU8sS0FBSyxPQUFTLEtBQUssT0FBTyxVQUFVLElBQUksRUFBSSxLQUVuRCxTQUFRLEVBQUcsQ0FDWCxPQUFPLEtBQUssV0FBYSxLQUFLLE9BRWxDLFNBQVMsQ0FBQyxFQUFNLENBQ1osSUFBSSxFQUFNLEtBQUssV0FDZixRQUFTLEtBQVMsS0FBSyxTQUFVLENBQzdCLEdBQUksR0FBUyxFQUNULE9BQU8sRUFDWCxHQUFPLEVBQU0sT0FBUyxFQUFNLFdBRWhDLE1BQU0sSUFBSSxXQUFXLDRCQUE0QixFQUVyRCxRQUFRLENBQUMsRUFBTSxDQUNYLE9BQU8sS0FBSyxVQUFVLENBQUksRUFBSSxFQUFLLE9BRXZDLElBQUksQ0FBQyxFQUFNLEVBQU8sQ0FDZCxHQUFJLEtBQUssTUFBUSxFQUE0QixDQUN6QyxJQUFJLEVBQVMsS0FBSyxJQUNkLEVBQU8sS0FBTSxFQUNqQixRQUFTLEtBQVMsS0FBSyxTQUFVLENBQzdCLEdBQUksRUFBTSxNQUFRLEVBQXdCLENBQ3RDLElBQUssRUFBTSxNQUFRLEVBQU8sRUFBTyxFQUFLLFlBQWMsRUFBTyxZQUFhLENBQ3BFLElBQUksRUFBYyxFQUFZLElBQUksQ0FBSSxFQUN0QyxJQUFLLElBQWdCLEVBQVksUUFBVSxFQUFZLFlBQVksQ0FBSyxFQUNwRSxFQUFNLFNBQVMsQ0FBSSxFQUUzQixFQUFNLEtBQUssRUFBTSxDQUFLLEVBQ3RCLEVBQU0sT0FBUyxHQUduQixHQURBLEVBQU8sRUFBTyxFQUFLLFlBQWMsRUFBTyxXQUNwQyxJQUFVLEVBQU0sU0FBVyxFQUFNLE1BQVEsR0FBVSxHQUFRLEVBQU0sSUFDakUsRUFBTSxRQUFVLEdBQ3BCLEdBQUksRUFBTSxJQUFJLFlBQWMsRUFDeEIsTUFBTyxHQUFRLEdBQVEsRUFBTSxJQUN6QixFQUFPLEdBQUssQ0FBSSxNQUdwQixHQUFPLGFBQWEsRUFBTSxJQUFLLENBQUksRUFFdkMsRUFBTyxFQUFNLElBR2pCLEdBREEsRUFBTyxFQUFPLEVBQUssWUFBYyxFQUFPLFdBQ3BDLEdBQVEsR0FBUyxFQUFNLE1BQVEsRUFDL0IsRUFBTSxRQUFVLEdBQ3BCLE1BQU8sRUFDSCxFQUFPLEdBQUssQ0FBSSxVQUVmLEtBQUssTUFBUSxHQUNsQixRQUFTLEtBQVMsS0FBSyxTQUNuQixHQUFJLEVBQU0sTUFBUSxFQUNkLEVBQU0sS0FBSyxFQUFNLENBQUssRUFDdEIsRUFBTSxPQUFTLElBSS9CLFFBQVEsQ0FBQyxFQUFNLEVBQ2YsZUFBZSxDQUFDLEVBQU0sRUFBUSxDQUMxQixJQUFJLEVBQ0osR0FBSSxHQUFRLEtBQUssSUFDYixFQUFRLEtBQUssSUFBSSxXQUFXLE9BRTNCLENBQ0QsSUFBSSxFQUFPLEdBQVUsQ0FBSSxHQUFLLEVBQUksRUFBSSxHQUFVLEVBQUksR0FBSyxFQUN6RCxPQUFTLENBQ0wsSUFBSSxFQUFTLEVBQUssV0FDbEIsR0FBSSxHQUFVLEtBQUssSUFDZixNQUNKLEdBQUksR0FBUSxHQUFLLEVBQU8sWUFBYyxFQUFPLFVBQ3pDLEdBQUksR0FBUSxFQUFPLFdBQ2YsRUFBTyxPQUVQLEdBQU8sRUFFZixFQUFPLEVBRVgsR0FBSSxFQUFPLEVBQ1AsRUFBUSxNQUVSLEdBQVEsRUFBSyxZQUVyQixHQUFJLEdBQVMsS0FBSyxJQUFJLFdBQ2xCLE1BQU8sR0FDWCxNQUFPLElBQVUsRUFBWSxJQUFJLENBQUssRUFDbEMsRUFBUSxFQUFNLFlBQ2xCLElBQUssRUFDRCxPQUFPLEtBQUssT0FDaEIsUUFBUyxFQUFJLEVBQUcsRUFBTSxHQUFJLElBQUssQ0FDM0IsSUFBSSxFQUFRLEtBQUssU0FBUyxHQUMxQixHQUFJLEVBQU0sS0FBTyxFQUNiLE9BQU8sRUFDWCxHQUFPLEVBQU0sT0FBUyxFQUFNLFlBR3BDLGVBQWUsQ0FBQyxFQUFNLEVBQUksRUFBUyxFQUFHLENBQ2xDLElBQUksRUFBUSxHQUFJLEVBQVksR0FBSSxFQUFNLEdBQUksRUFBUSxHQUNsRCxRQUFTLEVBQUksRUFBRyxFQUFNLEVBQVEsRUFBVSxFQUFRLEVBQUksS0FBSyxTQUFTLE9BQVEsSUFBSyxDQUMzRSxJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQUksRUFBTSxFQUFNLEVBQU0sT0FDaEQsR0FBSSxFQUFNLEdBQVEsRUFBTSxFQUNwQixPQUFPLEVBQU0sZ0JBQWdCLEVBQU0sRUFBSSxDQUFHLEVBQzlDLEdBQUksR0FBTyxHQUFRLEdBQVMsR0FDeEIsRUFBUSxFQUNSLEVBQVksRUFFaEIsR0FBSSxFQUFNLEdBQU0sRUFBTSxJQUFJLFlBQWMsS0FBSyxJQUFLLENBQzlDLEVBQU0sRUFDTixFQUFRLEVBQ1IsTUFFSixFQUFVLEVBQ1YsRUFBTSxFQUFNLEVBQU0sV0FFdEIsTUFBTyxDQUFFLEtBQU0sRUFBVyxHQUFJLEVBQVEsRUFBSSxFQUFTLEtBQUssT0FBUyxFQUM3RCxVQUFXLEVBQVEsS0FBSyxTQUFTLEVBQVEsR0FBRyxJQUFJLFlBQWMsT0FBUyxLQUFLLElBQUksV0FDaEYsT0FBUSxFQUFNLEtBQUssU0FBUyxRQUFVLEdBQU8sRUFBSSxLQUFLLFNBQVMsR0FBSyxJQUFNLElBQUssRUFFdkYsU0FBUyxDQUFDLEVBQVksR0FBTyxDQUN6QixLQUFLLE9BQVMsRUFDZCxLQUFLLGlCQUFpQixDQUFTLEVBRW5DLGdCQUFnQixDQUFDLEVBQVcsQ0FDeEIsUUFBUyxFQUFTLEtBQUssT0FBUSxFQUFRLEVBQVMsRUFBTyxPQUFRLENBQzNELEdBQUksRUFDQSxFQUFPLE9BQVMsRUFDcEIsR0FBSSxFQUFPLE1BQVEsRUFDZixPQUNKLEVBQU8sT0FBUyxFQUNoQixFQUFZLElBR3BCLFNBQVMsQ0FBQyxFQUFRLENBQ2QsR0FBSSxLQUFLLFFBQVUsR0FFZixHQURBLEtBQUssT0FBUyxFQUNWLEtBQUssTUFBUSxFQUNiLEtBQUssaUJBQWlCLEVBQUksR0FHdEMsTUFBTSxDQUFDLEVBQUssQ0FDUixHQUFJLEtBQUssS0FBTyxFQUNaLE9BQ0osR0FBSSxLQUFLLElBQ0wsS0FBSyxJQUFJLE9BQVMsS0FDdEIsS0FBSyxJQUFNLEVBQ1gsRUFBSSxPQUFTLFFBRWIsU0FBUSxFQUFHLENBQ1gsUUFBUyxFQUFJLE9BQVEsQ0FDakIsSUFBSSxFQUFTLEVBQUUsT0FDZixJQUFLLEVBQ0QsT0FBTyxFQUNYLEVBQUksR0FHWixlQUFlLENBQUMsRUFBTSxFQUFJLEVBQVcsR0FBWSxDQUM3QyxLQUFLLFVBQVUsRUFDZixRQUFTLEVBQUksRUFBTSxFQUFJLEVBQUksSUFBSyxDQUM1QixJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQzFCLEdBQUksRUFBTSxRQUFVLE1BQVEsRUFBUyxRQUFRLENBQUssRUFBSSxFQUNsRCxFQUFNLFFBQVEsRUFFdEIsS0FBSyxTQUFTLE9BQU8sRUFBTSxFQUFLLEVBQU0sR0FBRyxDQUFRLEVBQ2pELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUyxPQUFRLElBQ2pDLEVBQVMsR0FBRyxVQUFVLElBQUksRUFFbEMsY0FBYyxDQUFDLEVBQU0sQ0FBRSxNQUFPLEdBQzlCLFdBQVcsQ0FBQyxFQUFRLENBQUUsTUFBTyxHQUM3QixXQUFXLENBQUMsRUFBTSxLQUFLLE9BQVEsQ0FDM0IsT0FBTyxJQUFJLEdBQVksS0FBSyxTQUFVLEVBQUssS0FBSyxTQUFTLE1BQU0sRUFFbkUsUUFBUSxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ3BCLE9BQU8sS0FBSyxZQUFZLEVBQUUsUUFBUSxFQUFLLENBQUksRUFFL0MsUUFBUSxFQUFHLENBQ1AsSUFBSSxFQUFPLEtBQUssWUFBWSxLQUFLLFFBQVEsT0FBUSxFQUFFLEVBQ25ELE9BQU8sR0FBUSxLQUFLLFNBQVMsT0FBUyxJQUFNLEtBQUssU0FBUyxLQUFLLEVBQUksSUFDL0QsS0FBSyxPQUFTLEtBQU8sR0FBUSxPQUFTLEtBQUssS0FBTyxLQUFLLFFBQVUsSUFBTSxLQUN0RSxLQUFLLFdBQWEsSUFBTSxVQUUxQixJQUFHLENBQUMsRUFBTSxDQUFFLE9BQU8sRUFBSyxVQUMzQixXQUFVLEVBQUcsQ0FBRSxNQUFPLE1BQ3RCLFNBQVEsRUFBRyxDQUFFLE1BQU8sTUFDcEIsU0FBUSxFQUFHLENBQUUsTUFBTyxHQUN4QixLQUFLLENBQUMsRUFBTSxFQUFJLEVBQVEsRUFBVSxFQUFXLEVBQVMsQ0FDbEQsTUFBTyxHQUVYLE1BQU0sQ0FBQyxFQUFPLENBQUUsTUFBTyxHQUN2QixXQUFXLENBQUMsRUFBTyxDQUNmLE9BQU8sRUFBTSxhQUFlLEtBQUssZ0JBQWtCLEtBQUssTUFBUSxFQUFNLE9BQVMsR0FLbkYsT0FBTyxFQUFHLENBQUUsTUFBTyxHQUNuQixPQUFPLEVBQUcsQ0FDTixRQUFTLEtBQVMsS0FBSyxTQUNuQixHQUFJLEVBQU0sUUFBVSxLQUNoQixFQUFNLFFBQVEsRUFDdEIsS0FBSyxPQUFTLEtBRXRCLENBQ0EsRUFBWSxVQUFVLFdBQWEsRUFPbkMsTUFBTSxFQUFZLENBQ2QsV0FBVyxDQUFDLEVBQVUsRUFBSyxFQUFHLENBQzFCLEtBQUssU0FBVyxFQUNoQixLQUFLLElBQU0sRUFDWCxLQUFLLEVBQUksRUFDVCxLQUFLLElBQU0sRUFFZixPQUFPLENBQUMsRUFBSyxFQUFPLEVBQUcsQ0FDbkIsT0FBUyxDQUNMLEdBQUksRUFBTSxLQUFLLEtBQU8sR0FBTyxLQUFLLE1BQzdCLEVBQU8sR0FBSyxLQUFLLEdBQUssR0FBSyxLQUFLLFNBQVMsS0FBSyxFQUFJLEdBQUcsWUFFdEQsT0FEQSxLQUFLLElBQU0sRUFBTSxLQUFLLElBQ2YsS0FFWCxJQUFJLEVBQU8sS0FBSyxTQUFTLEVBQUUsS0FBSyxHQUNoQyxLQUFLLEtBQU8sRUFBSyxPQUFTLEVBQUssWUFHM0MsQ0EwRkEsSUFBSSxVQUFhLFdBQWEsWUFBYyxVQUFZLENBQUUsVUFBVyxHQUFJLE9BQVEsR0FBSSxTQUFVLEVBQUcsRUFDOUYsVUFBYSxVQUFZLFlBQWMsU0FBVyxDQUFFLGdCQUFpQixDQUFFLE1BQU8sQ0FBQyxDQUFFLENBQUUsRUFDakYsR0FBdUIsY0FBYyxLQUFLLEdBQUksU0FBUyxFQUN2RCxHQUF5QixVQUFVLEtBQUssR0FBSSxTQUFTLEVBQ3JELEdBQXVCLHdDQUF3QyxLQUFLLEdBQUksU0FBUyxFQUNqRixNQUFRLElBQWEsSUFBVyxJQUNoQyxJQUFTLElBQW1CLGdCQUFnQixLQUFLLEdBQUksU0FBUyxFQUM5RCxJQUFVLElBQW1CLGdCQUFnQixLQUFLLEdBQUksU0FBUyxFQUMvRCxHQUFTLHdCQUF5QixHQUFJLGdCQUFnQixNQUN0RCxJQUFVLElBQW1CLGlCQUFpQixLQUFLLEdBQUksTUFBTSxFQUM3RCxHQUFNLEtBQXdCLGNBQWMsS0FBSyxHQUFJLFNBQVMsR0FBSyxHQUFJLGVBQWlCLEdBQzFGLEVBQVUsQ0FDVixJQUFLLElBQW9CLE1BQU0sS0FBSyxHQUFJLFFBQVEsRUFDaEQsUUFBc0IsTUFBTSxLQUFLLEdBQUksUUFBUSxFQUM3QyxNQUFvQixZQUFZLEtBQUssR0FBSSxRQUFRLEVBQ2pELE1BQ0EsV0FBWSxHQUFZLEdBQUksY0FBZ0IsRUFBSSxJQUFXLEdBQVEsR0FBSyxJQUFXLEdBQVEsR0FBSyxFQUNoRyxTQUNBLGNBQWUsS0FBdUIsaUJBQWlCLEtBQUssR0FBSSxTQUFTLEdBQUssQ0FBQyxFQUFHLENBQUMsR0FBRyxHQUFLLEVBQzNGLFNBQVUsR0FDVixlQUFnQixJQUFVLEdBQU8sR0FBSyxFQUN0QyxPQUNBLFFBQXNCLFlBQVksS0FBSyxHQUFJLFNBQVMsRUFDcEQsVUFDQSxVQUNBLGVBQWdCLEtBQXdCLHVCQUF1QixLQUFLLEdBQUksU0FBUyxHQUFLLENBQUMsRUFBRyxDQUFDLEdBQUcsR0FBSyxFQUNuRyxRQUFTLEdBQUksZ0JBQWdCLE1BQU0sU0FBVyxLQUFPLFdBQWEsZUFDdEUsRUFFTSxHQUFhLElBQ25CLE1BQU0sV0FBaUIsQ0FBWSxDQUMvQixXQUFXLENBQUMsRUFBTSxDQUNkLE1BQU0sRUFDTixLQUFLLEtBQU8sS0FFWixPQUFNLEVBQUcsQ0FBRSxPQUFPLEtBQUssS0FBSyxPQUNoQyxTQUFTLENBQUMsRUFBUyxDQUNmLEtBQUssT0FBTyxHQUFXLFNBQVMsZUFBZSxLQUFLLElBQUksQ0FBQyxFQUU3RCxJQUFJLENBQUMsRUFBTSxFQUFPLENBQ2QsSUFBSyxLQUFLLElBQ04sS0FBSyxVQUFVLEVBQ25CLEdBQUksS0FBSyxJQUFJLFdBQWEsS0FBSyxLQUFNLENBQ2pDLEdBQUksR0FBUyxFQUFNLE1BQVEsS0FBSyxJQUM1QixFQUFNLFFBQVUsR0FDcEIsS0FBSyxJQUFJLFVBQVksS0FBSyxNQUdsQyxRQUFRLENBQUMsRUFBSyxDQUNWLEdBQUksRUFBSSxVQUFZLEVBQ2hCLEtBQUssVUFBVSxDQUFHLEVBRTFCLEtBQUssQ0FBQyxFQUFNLEVBQUksRUFBUSxDQUNwQixHQUFLLEtBQUssTUFBUSxHQUNkLE1BQWEsYUFBa0IsS0FDM0IsS0FBSyxRQUFVLEVBQUssR0FBUSxFQUFPLE9BQVMsSUFDM0MsRUFBTyxNQUFRLEdBQ3BCLE1BQU8sR0FHWCxPQUZBLEtBQUssS0FBTyxLQUFLLEtBQUssTUFBTSxFQUFHLENBQUksR0FBSyxFQUFTLEVBQU8sS0FBTyxJQUFNLEtBQUssS0FBSyxNQUFNLENBQUUsRUFDdkYsS0FBSyxVQUFVLEVBQ1IsR0FFWCxLQUFLLENBQUMsRUFBTSxDQUNSLElBQUksRUFBUyxJQUFJLEdBQVMsS0FBSyxLQUFLLE1BQU0sQ0FBSSxDQUFDLEVBSS9DLE9BSEEsS0FBSyxLQUFPLEtBQUssS0FBSyxNQUFNLEVBQUcsQ0FBSSxFQUNuQyxLQUFLLFVBQVUsRUFDZixFQUFPLE9BQVMsS0FBSyxNQUFRLEVBQ3RCLEVBRVgsZUFBZSxDQUFDLEVBQU0sRUFBUSxDQUMxQixPQUFPLEdBQVEsS0FBSyxJQUFNLEVBQVMsRUFBUyxLQUFLLEtBQUssT0FBUyxFQUVuRSxRQUFRLENBQUMsRUFBSyxDQUFFLE9BQU8sSUFBSSxHQUFPLEtBQUssSUFBSyxDQUFHLEVBQy9DLGVBQWUsQ0FBQyxFQUFPLEVBQUssRUFBUSxDQUNoQyxNQUFPLENBQUUsS0FBTSxFQUFRLEdBQUksRUFBUyxLQUFLLE9BQVEsU0FBVSxLQUFLLElBQUssT0FBUSxLQUFLLElBQUksV0FBWSxFQUV0RyxRQUFRLENBQUMsRUFBSyxFQUFNLENBQ2hCLE9BQU8sR0FBVyxLQUFLLElBQUssRUFBSyxDQUFJLEVBRTdDLENBQ0EsTUFBTSxXQUFpQixDQUFZLENBQy9CLFdBQVcsQ0FBQyxFQUFNLEVBQVcsQ0FBQyxFQUFHLEVBQVMsRUFBRyxDQUN6QyxNQUFNLEVBQ04sS0FBSyxLQUFPLEVBQ1osS0FBSyxTQUFXLEVBQ2hCLEtBQUssT0FBUyxFQUNkLFFBQVMsS0FBTSxFQUNYLEVBQUcsVUFBVSxJQUFJLEVBRXpCLFFBQVEsQ0FBQyxFQUFLLENBRVYsR0FEQSxHQUFnQixDQUFHLEVBQ2YsS0FBSyxLQUFLLE1BQ1YsRUFBSSxVQUFZLEtBQUssS0FBSyxNQUM5QixHQUFJLEtBQUssS0FBSyxNQUNWLFFBQVMsS0FBUSxLQUFLLEtBQUssTUFDdkIsRUFBSSxhQUFhLEVBQU0sS0FBSyxLQUFLLE1BQU0sRUFBSyxFQUNwRCxPQUFPLEVBRVgsV0FBVyxDQUFDLEVBQU8sQ0FDZixPQUFPLE1BQU0sWUFBWSxDQUFLLE1BQVEsS0FBSyxNQUFRLEVBQU0sT0FBUyxHQUV0RSxRQUFRLENBQUMsRUFBTSxDQUNYLEdBQUksRUFBSyxVQUFZLEtBQUssS0FBSyxRQUFRLFlBQVksRUFDL0MsS0FBSyxPQUFPLENBQUksRUFDaEIsS0FBSyxPQUFTLEVBR3RCLElBQUksQ0FBQyxFQUFNLEVBQU8sQ0FDZCxJQUFLLEtBQUssSUFDTixLQUFLLE9BQU8sS0FBSyxTQUFTLFNBQVMsY0FBYyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsVUFDL0QsS0FBSyxNQUFRLEVBQ2xCLEtBQUssU0FBUyxLQUFLLEdBQUcsRUFDMUIsTUFBTSxLQUFLLEVBQU0sQ0FBSyxFQUUxQixLQUFLLENBQUMsRUFBTSxFQUFJLEVBQVEsRUFBVyxFQUFXLEVBQVMsQ0FDbkQsR0FBSSxNQUFhLGFBQWtCLElBQVksRUFBTyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQ2xFLEdBQVEsR0FBYSxHQUFPLEVBQUssS0FBSyxRQUFVLEdBQVcsR0FDNUQsTUFBTyxHQUdYLE9BRkEsR0FBa0IsS0FBTSxFQUFNLEVBQUksRUFBUyxFQUFPLFNBQVMsTUFBTSxFQUFJLENBQUMsRUFBRyxFQUFZLEVBQUcsRUFBVSxDQUFDLEVBQ25HLEtBQUssVUFBVSxFQUNSLEdBRVgsS0FBSyxDQUFDLEVBQU0sQ0FDUixJQUFJLEVBQVMsQ0FBQyxFQUFHLEVBQU0sRUFBRyxFQUFhLEdBQUksRUFBSSxFQUMvQyxRQUFTLEtBQU8sS0FBSyxTQUFVLENBQzNCLElBQUksRUFBTSxFQUFNLEVBQUksT0FDcEIsR0FBSSxFQUFNLEVBQ04sRUFBTyxLQUFLLEVBQU0sRUFBTyxFQUFJLE1BQU0sRUFBTyxDQUFHLEVBQUksQ0FBRyxFQUN4RCxHQUFJLEVBQWEsR0FBSyxHQUFPLEVBQ3pCLEVBQWEsRUFDakIsRUFBTSxFQUNOLElBRUosSUFBSSxFQUFTLEtBQUssT0FBUyxFQUUzQixHQURBLEtBQUssT0FBUyxFQUNWLEVBQWEsR0FDYixLQUFLLFNBQVMsT0FBUyxFQUN2QixLQUFLLFVBQVUsRUFFbkIsT0FBTyxJQUFJLEdBQVMsS0FBSyxLQUFNLEVBQVEsQ0FBTSxFQUVqRCxRQUFRLENBQUMsRUFBSyxDQUNWLE9BQU8sR0FBZSxLQUFNLENBQUcsRUFFbkMsUUFBUSxDQUFDLEVBQUssRUFBTSxDQUNoQixPQUFPLEdBQWlCLEtBQU0sRUFBSyxDQUFJLEVBRS9DLENBaUNBLE1BQU0sV0FBbUIsQ0FBWSxPQUMxQixPQUFNLENBQUMsRUFBUSxFQUFRLEVBQU0sQ0FDaEMsT0FBTyxJQUFJLEdBQVcsRUFBUSxFQUFRLENBQUksRUFFOUMsV0FBVyxDQUFDLEVBQVEsRUFBUSxFQUFNLENBQzlCLE1BQU0sRUFDTixLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsRUFDZCxLQUFLLEtBQU8sRUFDWixLQUFLLFdBQWEsS0FFdEIsS0FBSyxDQUFDLEVBQU0sQ0FDUixJQUFJLEVBQVMsR0FBVyxPQUFPLEtBQUssT0FBUSxLQUFLLE9BQVMsRUFBTSxLQUFLLElBQUksRUFFekUsT0FEQSxLQUFLLFFBQVUsRUFDUixFQUVYLElBQUksQ0FBQyxFQUFNLENBQ1AsSUFBSyxLQUFLLE1BQVEsS0FBSyxPQUFPLFVBQVUsS0FBSyxJQUFLLENBQUksRUFBRyxDQUNyRCxHQUFJLEtBQUssS0FBTyxLQUFLLFdBQ2pCLEtBQUssV0FBVyxRQUFRLEtBQUssR0FBRyxFQUdwQyxHQUZBLEtBQUssV0FBYSxLQUNsQixLQUFLLE9BQU8sS0FBSyxPQUFPLE1BQU0sQ0FBSSxDQUFDLEdBQzlCLEtBQUssT0FBTyxTQUNiLEtBQUssSUFBSSxnQkFBa0IsU0FHdkMsT0FBTyxFQUFHLENBQUUsT0FBTyxLQUFLLEtBQ3hCLEtBQUssQ0FBQyxFQUFNLEVBQUksRUFBUSxFQUFVLEVBQVcsRUFBUyxDQUNsRCxHQUFJLE1BQWEsYUFBa0IsTUFBZ0IsS0FBSyxPQUFPLFFBQVEsRUFBTyxNQUFNLEdBQ2hGLEVBQU8sR0FBSyxHQUFhLEdBQUssRUFBSyxLQUFLLFFBQVUsR0FBVyxHQUM3RCxNQUFPLEdBRVgsT0FEQSxLQUFLLE9BQVMsR0FBUSxFQUFTLEVBQU8sT0FBUyxJQUFNLEtBQUssT0FBUyxHQUM1RCxHQUVYLE1BQU0sQ0FBQyxFQUFPLENBQ1YsR0FBSSxhQUFpQixJQUFjLEVBQU0sTUFBUSxLQUFLLE1BQ2xELEtBQUssT0FBTyxhQUFlLEVBQU0sT0FBTyxZQUFhLENBQ3JELElBQUssS0FBSyxPQUFPLFFBQVEsRUFBTSxNQUFNLEVBQ2pDLEtBQUssVUFBVSxFQUFJLEVBQ3ZCLEdBQUksS0FBSyxNQUFRLEtBQUssV0FDbEIsS0FBSyxXQUFhLEtBQUssT0FHM0IsT0FGQSxLQUFLLE9BQVMsRUFBTSxPQUNwQixLQUFLLE9BQVMsRUFBTSxPQUNiLEdBRVgsTUFBTyxHQUVYLGNBQWMsRUFBRyxDQUFFLE1BQU8sR0FDMUIsV0FBVyxDQUFDLEVBQU8sQ0FBRSxPQUFPLEtBQUssT0FBTyxZQUFZLENBQUssS0FDckQsZ0JBQWUsRUFBRyxDQUNsQixHQUFJLEtBQUssUUFBVSxFQUNmLE9BQU8sRUFBSyxNQUNoQixJQUFJLEVBQU0sS0FDVixNQUFPLEVBQUksT0FDUCxFQUFNLEVBQUksT0FDZCxJQUFNLFFBQVMsRUFBSyxFQUFPLEdBQVEsRUFBSyxNQUFNLElBQUssRUFBUSxLQUFLLFdBQ2hFLE9BQU8sRUFBTyxFQUFLLE1BQU0sRUFBTyxFQUFRLEtBQUssTUFBTSxFQUFJLEVBQUssTUFFaEUsUUFBUSxDQUFDLEVBQUssQ0FDVixPQUFRLEtBQUssT0FBUyxHQUFPLEVBQUksS0FBSyxLQUFPLEdBQ3ZDLEdBQU8sT0FBTyxLQUFLLEdBQUcsRUFDdEIsR0FBTyxNQUFNLEtBQUssSUFBSyxHQUFPLEtBQUssTUFBTSxFQUVuRCxlQUFlLEVBQUcsQ0FBRSxPQUFPLEtBQzNCLFFBQVEsQ0FBQyxFQUFLLEVBQU0sQ0FDaEIsSUFBSSxFQUFTLEtBQUssT0FBTyxTQUFTLEtBQUssSUFBSyxFQUFLLENBQUksRUFDckQsR0FBSSxFQUNBLE9BQU8sRUFDWCxJQUFJLEVBQVEsS0FBSyxJQUFJLGVBQWUsRUFBRyxFQUFPLEtBQzlDLElBQUssRUFBTSxPQUNQLE9BQU8sS0FDWCxJQUFJLEVBQVcsS0FBSyxLQUFPLEtBQUssS0FBTyxFQUFJLEVBQU0sRUFDakQsUUFBUyxFQUFJLEVBQVcsRUFBTSxPQUFTLEVBQUksR0FBSSxHQUFNLEVBQVcsR0FBSyxFQUVqRSxHQURBLEVBQU8sRUFBTSxHQUNULEVBQU0sRUFBSSxHQUFLLEVBQUksR0FBSyxFQUFNLE9BQVMsR0FBSyxFQUFLLElBQU0sRUFBSyxPQUM1RCxNQUVSLE9BQU8sR0FBWSxHQUFPLENBQVEsS0FFbEMsV0FBVSxFQUFHLENBQUUsTUFBTyxNQUN0QixTQUFRLEVBQUcsQ0FBRSxNQUFPLE1BQ3BCLFNBQVEsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLFNBQ3BDLE9BQU8sRUFBRyxDQUVOLEdBREEsTUFBTSxRQUFRLEVBQ1YsS0FBSyxJQUNMLEtBQUssT0FBTyxRQUFRLEtBQUssR0FBRyxFQUV4QyxDQUlBLE1BQU0sV0FBeUIsQ0FBWSxDQUN2QyxXQUFXLENBQUMsRUFBTSxDQUNkLE1BQU0sRUFDTixLQUFLLEtBQU8sS0FFWixPQUFNLEVBQUcsQ0FBRSxNQUFPLEdBQ3RCLEtBQUssRUFBRyxDQUFFLE1BQU8sR0FDakIsTUFBTSxDQUFDLEVBQU8sQ0FDVixPQUFPLGFBQWlCLElBQW9CLEVBQU0sTUFBUSxLQUFLLEtBRW5FLEtBQUssRUFBRyxDQUFFLE9BQU8sSUFBSSxHQUFpQixLQUFLLElBQUksRUFDL0MsSUFBSSxFQUFHLENBQ0gsSUFBSyxLQUFLLElBQUssQ0FDWCxJQUFJLEVBQU0sU0FBUyxjQUFjLEtBQUssRUFDdEMsRUFBSSxVQUFZLGtCQUNoQixFQUFJLGFBQWEsY0FBZSxNQUFNLEVBQ3RDLEtBQUssT0FBTyxDQUFHLEdBR3ZCLE9BQU8sRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUN4QixRQUFRLENBQUMsRUFBSyxDQUFFLE9BQU8sS0FBSyxLQUFPLEVBQUksR0FBTyxPQUFPLEtBQUssR0FBRyxFQUFJLEdBQU8sTUFBTSxLQUFLLEdBQUcsRUFDdEYsZUFBZSxFQUFHLENBQUUsTUFBTyxHQUMzQixlQUFlLEVBQUcsQ0FBRSxPQUFPLEtBQzNCLFFBQVEsQ0FBQyxFQUFLLENBQ1YsT0FBTyxLQUFLLElBQUksc0JBQXNCLEtBRXRDLGdCQUFlLEVBQUcsQ0FDbEIsT0FBTyxFQUFLLFNBRVosU0FBUSxFQUFHLENBQUUsTUFBTyxHQUM1QixDQUNBLEdBQVMsVUFBVSxTQUFXLEdBQVcsVUFBVSxTQUFXLEdBQWlCLFVBQVUsU0FBVyxHQXFGcEcsSUFBTSxHQUF1QixPQUFPLE9BQU8sSUFBSSxFQXdEL0MsTUFBTSxFQUFXLENBVWIsRUFBRSxDQUFDLEVBQVEsQ0FBRSxNQUFPLEdBUXBCLFNBQVMsQ0FBQyxFQUFLLEVBQU0sQ0FBRSxNQUFPLEdBSTlCLE9BQU8sQ0FBQyxFQUFPLENBQ1gsT0FBTyxNQUFRLEdBQVMsS0FBSyxhQUFlLEVBQU0sYUFBZSxLQUFLLEdBQUcsQ0FBSyxLQVE5RSxnQkFBZSxFQUFHLENBQUUsTUFBTyxNQU8zQixXQUFVLEVBQUcsQ0FBRSxNQUFPLEdBTTFCLFdBQVcsQ0FBQyxFQUFPLENBQUUsTUFBTyxHQVE1QixRQUFRLENBQUMsRUFBSyxFQUFLLEVBQU0sQ0FBRSxPQUFPLFFBSTlCLFNBQVEsRUFBRyxDQUFFLE1BQU8sTUFJcEIsU0FBUSxFQUFHLENBQUUsTUFBTyxHQUt4QixPQUFPLENBQUMsRUFBSyxFQUNqQixDQUlBLElBQUksV0FBbUMsQ0FBQyxFQUFXLENBaUJuRCxPQWJJLEVBQVUsRUFBVSxLQUFVLEdBQUssT0FJbkMsRUFBVSxFQUFVLGFBQWtCLEdBQUssZUFJM0MsRUFBVSxFQUFVLFlBQWlCLEdBQUssY0FJMUMsRUFBVSxFQUFVLFlBQWlCLEdBQUssY0FDdkMsR0FBWSxLQUFjLEdBQVksQ0FBQyxFQUFFLEVBT2hELE1BQU0sVUFBbUIsRUFBVyxDQUNoQyxXQUFXLENBSVgsRUFJQSxFQUlBLEVBTUEsRUFBTSxDQUNGLE1BQU0sRUFDTixLQUFLLFVBQVksRUFDakIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxPQUFTLEVBQ2QsS0FBSyxLQUFPLEtBS1osZUFBYyxFQUFHLENBQUUsTUFBTyxTQVV2QixLQUFJLENBQUMsRUFBTSxDQUNkLE9BQU8sSUFBSSxHQUFlLENBQUksUUFNM0IsT0FBTSxDQUFDLEVBQU0sQ0FDaEIsSUFBSSxFQUFPLEtBQUssSUFBSSxLQUFRLEtBQUssSUFBSSxJQUFPLEVBQUssTUFBUSxDQUFDLENBQUMsRUFBRyxJQUFVLEVBQUssTUFJN0UsT0FIQSxHQUFTLElBQVUsRUFBSyxZQUNqQixFQUFPLEVBQUksVUFBa0MsV0FDN0MsRUFBTyxFQUFJLElBQW1DLEtBQzlDLElBQUksR0FBZ0IsRUFBTSxFQUFNLEVBQU0sRUFBTyxFQUFLLFFBQVUsS0FBTSxFQUFLLFFBTTNFLFFBQU8sQ0FBQyxFQUFNLENBQ2pCLElBQUksSUFBVSxFQUFLLE1BQU8sRUFBVyxFQUNyQyxHQUFJLEVBQUssV0FDTCxFQUFZLFdBQ1osRUFBVSxjQUVULENBQ0QsSUFBTSxRQUFPLE9BQVEsR0FBYSxFQUFNLENBQUssRUFDN0MsR0FBYSxFQUFTLEVBQVEsV0FBc0MsR0FBZ0MsV0FBb0MsRUFDeEksR0FBVyxFQUFPLEVBQVEsVUFBbUMsRUFBNkIsWUFBbUMsRUFFakksT0FBTyxJQUFJLEdBQWdCLEVBQU0sRUFBVyxFQUFTLEVBQU8sRUFBSyxRQUFVLEtBQU0sRUFBSSxRQU1sRixLQUFJLENBQUMsRUFBTSxDQUNkLE9BQU8sSUFBSSxHQUFlLENBQUksUUFPM0IsSUFBRyxDQUFDLEVBQUksRUFBTyxHQUFPLENBQ3pCLE9BQU8sRUFBUyxHQUFHLEVBQUksQ0FBSSxFQUsvQixTQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssT0FBUyxLQUFLLE9BQU8sZ0JBQWtCLEdBQUssR0FDMUUsQ0FJQSxFQUFXLEtBQU8sRUFBUyxNQUMzQixNQUFNLFdBQXVCLENBQVcsQ0FDcEMsV0FBVyxDQUFDLEVBQU0sQ0FDZCxJQUFNLFFBQU8sT0FBUSxHQUFhLENBQUksRUFDdEMsTUFBTSxFQUFRLEdBQStCLFVBQWtDLEVBQU0sRUFBNEIsV0FBaUMsS0FBTSxDQUFJLEVBQzVKLEtBQUssUUFBVSxFQUFLLFNBQVcsT0FDL0IsS0FBSyxNQUFRLEVBQUssT0FBUyxHQUMzQixLQUFLLE1BQVEsRUFBSyxZQUFjLEtBRXBDLEVBQUUsQ0FBQyxFQUFPLENBQ04sSUFBSSxFQUFJLEVBQ1IsT0FBTyxNQUFRLEdBQ1gsYUFBaUIsSUFDYixLQUFLLFNBQVcsRUFBTSxVQUNyQixLQUFLLFNBQVcsRUFBSyxLQUFLLFNBQVcsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLFVBQVksRUFBTSxTQUFXLEVBQUssRUFBTSxTQUFXLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxTQUNqSyxHQUFRLEtBQUssTUFBTyxFQUFNLE1BQU8sT0FBTyxFQUVwRCxLQUFLLENBQUMsRUFBTSxFQUFLLEVBQU0sQ0FDbkIsR0FBSSxHQUFRLEVBQ1IsTUFBTSxJQUFJLFdBQVcsbUNBQW1DLEVBQzVELE9BQU8sTUFBTSxNQUFNLEVBQU0sQ0FBRSxFQUVuQyxDQUNBLEdBQWUsVUFBVSxNQUFRLEdBQ2pDLE1BQU0sV0FBdUIsQ0FBVyxDQUNwQyxXQUFXLENBQUMsRUFBTSxDQUNkLE1BQU0sV0FBNEIsV0FBNEIsS0FBTSxDQUFJLEVBRTVFLEVBQUUsQ0FBQyxFQUFPLENBQ04sT0FBTyxhQUFpQixJQUNwQixLQUFLLEtBQUssT0FBUyxFQUFNLEtBQUssT0FDOUIsR0FBUSxLQUFLLEtBQUssV0FBWSxFQUFNLEtBQUssVUFBVSxFQUUzRCxLQUFLLENBQUMsRUFBTSxFQUFLLEVBQU0sQ0FDbkIsR0FBSSxHQUFNLEVBQ04sTUFBTSxJQUFJLFdBQVcsNENBQTRDLEVBQ3JFLE9BQU8sTUFBTSxNQUFNLEVBQU0sQ0FBRSxFQUVuQyxDQUNBLEdBQWUsVUFBVSxRQUFVLEdBQVEsWUFDM0MsR0FBZSxVQUFVLE1BQVEsR0FDakMsTUFBTSxXQUF3QixDQUFXLENBQ3JDLFdBQVcsQ0FBQyxFQUFNLEVBQVcsRUFBUyxFQUFPLEVBQVEsRUFBVyxDQUM1RCxNQUFNLEVBQVcsRUFBUyxFQUFRLENBQUksRUFDdEMsS0FBSyxNQUFRLEVBQ2IsS0FBSyxVQUFZLEVBQ2pCLEtBQUssU0FBVyxFQUFRLEdBQVEsU0FBVyxHQUFhLEVBQUksR0FBUSxZQUFjLEdBQVEsY0FHMUYsS0FBSSxFQUFHLENBQ1AsT0FBTyxLQUFLLFdBQWEsS0FBSyxRQUFVLEdBQVUsWUFDNUMsS0FBSyxXQUFhLEVBQUksR0FBVSxhQUFlLEdBQVUsZUFFL0QsZUFBYyxFQUFHLENBQ2pCLE9BQU8sS0FBSyxTQUFXLEtBQUssU0FBVyxLQUFLLE9BQU8saUJBQW1CLEdBQUssS0FBSyxPQUFPLFdBQWEsR0FFeEcsRUFBRSxDQUFDLEVBQU8sQ0FDTixPQUFPLGFBQWlCLElBQ3BCLEdBQVUsS0FBSyxPQUFRLEVBQU0sTUFBTSxHQUNuQyxLQUFLLE9BQVMsRUFBTSxPQUNwQixLQUFLLFdBQWEsRUFBTSxXQUFhLEtBQUssU0FBVyxFQUFNLFFBRW5FLEtBQUssQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUNuQixHQUFJLEtBQUssWUFBYyxFQUFPLEdBQU8sR0FBUSxHQUFNLEtBQUssVUFBWSxHQUFLLEtBQUssU0FBVyxHQUNyRixNQUFNLElBQUksV0FBVywwQ0FBMEMsRUFDbkUsSUFBSyxLQUFLLFdBQWEsR0FBTSxFQUN6QixNQUFNLElBQUksV0FBVyxxREFBcUQsRUFDOUUsT0FBTyxNQUFNLE1BQU0sRUFBTSxDQUFFLEVBRW5DLENBQ0EsR0FBZ0IsVUFBVSxNQUFRLEdBb0JsQyxNQUFNLFdBQWlCLENBQVksQ0FDL0IsV0FBVyxFQUFHLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsS0FBSyxTQUFXLENBQUMsRUFDakIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxVQUFZLE9BQ2pCLEtBQUssTUFBUSxLQUNiLEtBQUssV0FBYSxFQUd0QixLQUFLLENBQUMsRUFBTSxFQUFJLEVBQVEsRUFBVSxFQUFXLEVBQVMsQ0FDbEQsR0FBSSxFQUFRLENBQ1IsS0FBTSxhQUFrQixJQUNwQixNQUFPLEdBQ1gsSUFBSyxLQUFLLElBQ04sRUFBTyxZQUFZLElBQUksRUFFL0IsR0FBSSxFQUNBLEtBQUssUUFBUSxFQUFTLEVBQU8sTUFBUSxJQUFJLEVBRTdDLE9BREEsR0FBa0IsS0FBTSxFQUFNLEVBQUksRUFBUyxFQUFPLFNBQVMsTUFBTSxFQUFJLENBQUMsRUFBRyxFQUFXLENBQU8sRUFDcEYsR0FFWCxLQUFLLENBQUMsRUFBSSxDQUNOLElBQUksRUFBTSxJQUFJLEdBRWQsR0FEQSxFQUFJLFdBQWEsS0FBSyxXQUNsQixLQUFLLFFBQVUsRUFDZixPQUFPLEVBQ1gsSUFBTSxJQUFHLE9BQVEsS0FBSyxTQUFTLENBQUUsRUFDakMsR0FBSSxFQUNBLEVBQUksT0FBTyxLQUFLLFNBQVMsR0FBRyxNQUFNLENBQUcsRUFBRyxDQUFDLEVBQ3pDLEtBQUssU0FBUyxHQUFHLE1BQU0sRUFBSyxLQUFLLFNBQVMsR0FBRyxPQUFRLEtBQU0sR0FBTyxFQUFHLENBQUMsRUFDdEUsSUFFSixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssU0FBUyxPQUFRLElBQ3RDLEVBQUksT0FBTyxLQUFLLFNBQVMsR0FBSSxDQUFDLEVBQ2xDLE1BQU8sRUFBSSxHQUFLLEtBQUssU0FBUyxFQUFJLEdBQUcsUUFBVSxFQUMzQyxLQUFLLFNBQVMsRUFBRSxHQUFHLFFBQVEsRUFJL0IsT0FIQSxLQUFLLFNBQVMsT0FBUyxFQUN2QixLQUFLLFVBQVUsRUFDZixLQUFLLE9BQVMsRUFDUCxFQUVYLFdBQVcsQ0FBQyxFQUFPLENBQ2YsSUFBSyxLQUFLLElBQ04sT0FDSixLQUFLLFVBQVUsRUFDZixFQUFNLE9BQU8sS0FBSyxHQUFHLEVBQ3JCLEVBQU0sVUFBWSxLQUFLLFlBQWMsT0FBWSxLQUFLLE1BQVEsS0FBSyxVQUNuRSxLQUFLLFVBQVksT0FDakIsS0FBSyxJQUFNLEtBRWYsT0FBTyxDQUFDLEVBQU8sQ0FDWCxJQUFLLEdBQVEsS0FBSyxNQUFPLENBQUssRUFBRyxDQUM3QixHQUFJLEtBQUssSUFDTCxLQUFLLFVBQVksS0FBSyxNQUN0QixLQUFLLFVBQVUsRUFFbkIsS0FBSyxNQUFRLEdBR3JCLE1BQU0sQ0FBQyxFQUFPLEVBQVcsQ0FDckIsR0FBZSxLQUFNLEVBQU8sQ0FBUyxFQUd6QyxXQUFXLENBQUMsRUFBTSxDQUNkLElBQUksRUFBUSxFQUFLLEtBQUssV0FBWSxFQUFNLEVBQUssS0FBSyxNQUNsRCxHQUFJLEVBQ0EsS0FBSyxNQUFRLEdBQWEsRUFBTyxLQUFLLE9BQVMsQ0FBQyxDQUFDLEVBQ3JELEdBQUksRUFDQSxLQUFLLE1BQVEsR0FBYSxDQUFFLE1BQU8sQ0FBSSxFQUFHLEtBQUssT0FBUyxDQUFDLENBQUMsRUFFbEUsUUFBUSxDQUFDLEVBQUssQ0FDVixPQUFPLEdBQWUsS0FBTSxDQUFHLEVBRW5DLFFBQVEsQ0FBQyxFQUFNLENBQ1gsR0FBSSxFQUFLLFVBQVksTUFDakIsS0FBSyxPQUFPLENBQUksRUFDaEIsS0FBSyxPQUFTLEVBR3RCLElBQUksQ0FBQyxFQUFNLEVBQU8sQ0FDZCxJQUFJLEVBQ0osSUFBSyxLQUFLLElBQ04sS0FBSyxPQUFPLFNBQVMsY0FBYyxLQUFLLENBQUMsRUFDekMsS0FBSyxJQUFJLFVBQVksVUFDckIsS0FBSyxVQUFZLEtBQUssTUFBUSxLQUFPLGVBRWhDLEtBQUssTUFBUSxFQUNsQixHQUFnQixLQUFLLEdBQUcsRUFDeEIsS0FBSyxJQUFJLFVBQVksVUFDckIsS0FBSyxVQUFZLEtBQUssTUFBUSxLQUFPLE9BRXpDLEdBQUksS0FBSyxZQUFjLE9BQ25CLEdBQVksS0FBSyxJQUFLLEtBQUssVUFBVyxLQUFLLEtBQUssRUFDaEQsS0FBSyxJQUFJLFVBQVUsSUFBSSxTQUFTLEVBQ2hDLEtBQUssVUFBWSxPQUVyQixNQUFNLEtBQUssRUFBTSxDQUFLLEVBQ3RCLElBQUksRUFBTyxLQUFLLElBQUksVUFDcEIsTUFBTyxHQUFRLEVBQVksSUFBSSxDQUFJLFlBQWEsR0FDNUMsRUFBTyxFQUFLLFVBQ2hCLElBQUssSUFBUyxLQUFLLFFBQ2YsRUFBSyxVQUFZLFFBQVUsRUFBSyxFQUFZLElBQUksQ0FBSSxLQUFPLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxhQUFlLE1BQ3hHLEVBQVEsTUFBUSxLQUFLLFNBQVMsS0FBSyxLQUFNLGFBQWMsRUFBUSxHQUFJLENBQ3pFLElBQUksRUFBTyxTQUFTLGNBQWMsSUFBSSxFQUN0QyxFQUFLLFNBQVcsR0FDaEIsS0FBSyxJQUFJLFlBQVksQ0FBSSxHQUdqQyxlQUFlLEVBQUcsQ0FDZCxHQUFJLEtBQUssU0FBUyxRQUFVLEdBQUssS0FBSyxPQUFTLEdBQzNDLE9BQU8sS0FDWCxJQUFJLEVBQWEsRUFBRyxFQUNwQixRQUFTLEtBQVMsS0FBSyxTQUFVLENBQzdCLEtBQU0sYUFBaUIsS0FBYSxTQUFTLEtBQUssRUFBTSxJQUFJLEVBQ3hELE9BQU8sS0FDWCxJQUFJLEVBQVEsR0FBZSxFQUFNLEdBQUcsRUFDcEMsR0FBSSxFQUFNLFFBQVUsRUFDaEIsT0FBTyxLQUNYLEdBQWMsRUFBTSxHQUFHLE1BQ3ZCLEVBQWEsRUFBTSxHQUFHLE9BRTFCLE9BQVEsRUFBYSxLQUFPLENBQ3hCLFdBQVksS0FBSyxJQUFJLHNCQUFzQixFQUFFLE9BQzdDLFVBQVcsRUFBYSxLQUFLLE9BQzdCLFlBQ0osRUFFSixRQUFRLENBQUMsRUFBSyxFQUFNLENBQ2hCLElBQUksRUFBTyxHQUFpQixLQUFNLEVBQUssQ0FBSSxFQUczQyxJQUFLLEtBQUssU0FBUyxRQUFVLEdBQVEsS0FBSyxPQUFRLENBQzlDLElBQU0sZ0JBQWlCLEtBQUssT0FBTyxLQUFLLFVBQVcsRUFBUyxFQUFLLE9BQVMsRUFBSyxJQUMvRSxHQUFJLEtBQUssSUFBSSxFQUFTLEVBQWEsVUFBVSxFQUFJLEdBQUssRUFBYSxXQUFhLEVBQVEsQ0FDcEYsSUFBSSxHQUFRLEVBQVMsRUFBYSxZQUFjLEVBQ2hELE1BQU8sQ0FBRSxJQUFLLEVBQUssSUFBTSxFQUFNLE9BQVEsRUFBSyxPQUFTLEVBQU0sS0FBTSxFQUFLLEtBQU0sTUFBTyxFQUFLLElBQUssR0FHckcsT0FBTyxFQUVYLE1BQU0sQ0FBQyxFQUFPLENBQ1YsT0FBTyxhQUFpQixJQUFZLEtBQUssU0FBUyxRQUFVLEdBQUssRUFBTSxTQUFTLFFBQVUsR0FDdEYsR0FBUSxLQUFLLE1BQU8sRUFBTSxLQUFLLEdBQUssS0FBSyxZQUFjLEVBQU0sV0FFckUsTUFBTSxFQUFHLENBQUUsTUFBTyxTQUNYLEtBQUksQ0FBQyxFQUFTLEVBQUssQ0FDdEIsUUFBUyxFQUFJLEVBQUcsRUFBTSxFQUFHLEVBQUksRUFBUSxTQUFTLE9BQVEsSUFBSyxDQUN2RCxJQUFJLEVBQVEsRUFBUSxTQUFTLEdBQUksRUFBTSxFQUFNLEVBQU0sT0FDbkQsR0FBSSxHQUFPLEVBQUssQ0FDWixHQUFJLGFBQWlCLEdBQ2pCLE9BQU8sRUFDWCxHQUFJLEVBQU0sRUFDTixNQUVSLEVBQU0sRUFBTSxFQUFNLFdBRXRCLE9BQU8sS0FFZixDQUNBLE1BQU0sV0FBd0IsQ0FBWSxDQUN0QyxXQUFXLENBQUMsRUFBUSxFQUFRLEVBQU0sQ0FDOUIsTUFBTSxFQUNOLEtBQUssT0FBUyxFQUNkLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxFQUNaLEtBQUssV0FBYSxFQUNsQixLQUFLLFdBQWEsS0FFdEIsS0FBSyxDQUFDLEVBQU0sRUFBSSxFQUFRLEVBQVcsRUFBVyxFQUFTLENBQ25ELEdBQUksTUFBYSxhQUFrQixNQUFxQixLQUFLLE9BQU8sUUFBUSxFQUFPLE1BQU0sR0FDckYsRUFBTyxHQUFLLEdBQWEsR0FBSyxFQUFLLEtBQUssUUFBVSxHQUFXLEdBQzdELE1BQU8sR0FFWCxPQURBLEtBQUssT0FBUyxHQUFRLEVBQVMsRUFBTyxPQUFTLElBQU0sS0FBSyxPQUFTLEdBQzVELEdBRVgsUUFBUSxDQUFDLEVBQUssQ0FDVixPQUFPLEdBQU8sRUFBSSxHQUFPLE9BQU8sS0FBSyxHQUFHLEVBQUksR0FBTyxNQUFNLEtBQUssSUFBSyxHQUFPLEtBQUssTUFBTSxFQUV6RixLQUFLLENBQUMsRUFBSSxDQUNOLElBQUksRUFBTSxLQUFLLE9BQVMsRUFDeEIsS0FBSyxPQUFTLEVBQ2QsSUFBSSxFQUFNLElBQUksR0FBZ0IsS0FBSyxPQUFRLEVBQUssS0FBSyxJQUFJLEVBRXpELE9BREEsRUFBSSxXQUFhLEtBQUssV0FDZixLQUVQLFNBQVEsRUFBRyxDQUFFLE9BQU8sR0FDeEIsSUFBSSxDQUFDLEVBQU0sQ0FDUCxJQUFLLEtBQUssTUFBUSxLQUFLLE9BQU8sVUFBVSxLQUFLLElBQUssQ0FBSSxFQUFHLENBQ3JELEdBQUksS0FBSyxLQUFPLEtBQUssV0FDakIsS0FBSyxXQUFXLFFBQVEsS0FBSyxHQUFHLEVBR3BDLEdBRkEsS0FBSyxXQUFhLEtBQ2xCLEtBQUssT0FBTyxLQUFLLE9BQU8sTUFBTSxDQUFJLENBQUMsR0FDOUIsS0FBSyxPQUFPLFNBQ2IsS0FBSyxJQUFJLGdCQUFrQixZQUduQyxnQkFBZSxFQUFHLENBQ2xCLE9BQU8sS0FBSyxPQUFTLEtBQUssT0FBTyxLQUFLLE1BQU0sSUFBSSxNQUFNLEtBQUssV0FBWSxLQUFLLFFBQVEsRUFBSSxFQUFLLE1BRWpHLGVBQWUsRUFBRyxDQUFFLE9BQU8sS0FDM0IsTUFBTSxDQUFDLEVBQU8sQ0FDVixHQUFJLGFBQWlCLElBQ2pCLEVBQU0sT0FBTyxhQUFlLEtBQUssT0FBTyxZQUFhLENBQ3JELElBQUssRUFBTSxPQUFPLFFBQVEsS0FBSyxNQUFNLEVBQ2pDLEtBQUssVUFBVSxFQUFJLEVBQ3ZCLEdBQUksS0FBSyxNQUFRLEtBQUssV0FDbEIsS0FBSyxXQUFhLEtBQUssT0FLM0IsT0FKQSxLQUFLLE9BQVMsRUFBTSxPQUNwQixLQUFLLE9BQVMsRUFBTSxPQUNwQixLQUFLLEtBQU8sRUFBTSxLQUNsQixLQUFLLFdBQWEsRUFBTSxXQUNqQixHQUVYLE1BQU8sR0FFWCxjQUFjLEVBQUcsQ0FBRSxNQUFPLEdBQzFCLFdBQVcsQ0FBQyxFQUFPLENBQUUsT0FBTyxLQUFLLE9BQU8sWUFBWSxDQUFLLEtBQ3JELFdBQVUsRUFBRyxDQUFFLE1BQU8sTUFDdEIsU0FBUSxFQUFHLENBQUUsTUFBTyxHQUN4QixRQUFRLENBQUMsRUFBSyxFQUFNLENBQ2hCLElBQUksRUFBUyxLQUFLLE9BQU8sU0FBUyxLQUFLLElBQUssRUFBSyxDQUFJLEVBQ3JELEdBQUksRUFDQSxPQUFPLEVBQ1gsR0FBSSxLQUFLLGtCQUFrQixHQUN2QixPQUFPLEtBQ1gsT0FBTyxHQUFZLEtBQUssSUFBSSxzQkFBc0IsRUFBRyxLQUFLLE9BQVMsR0FBTyxFQUFJLEdBQVEsQ0FBQyxFQUUzRixPQUFPLEVBQUcsQ0FFTixHQURBLE1BQU0sUUFBUSxFQUNWLEtBQUssSUFDTCxLQUFLLE9BQU8sUUFBUSxLQUFLLEdBQUcsRUFFcEMsTUFBTSxDQUFDLEVBQU0sQ0FDVCxJQUFNLFlBQVcsV0FBWSxLQUFLLEtBQ2xDLE9BQU8sR0FBYSxFQUFVLEdBQVEsRUFBTyxFQUFJLEVBQVksRUFBSSxFQUFVLEVBRW5GLENBQ0EsTUFBTSxXQUF1QixFQUFXLENBQ3BDLFdBQVcsQ0FBQyxFQUFRLENBQ2hCLE1BQU0sRUFDTixLQUFLLE9BQVMsRUFFbEIsS0FBSyxFQUFHLENBQ0osSUFBSSxFQUFNLFNBQVMsY0FBYyxLQUFLLEVBR3RDLE9BRkEsRUFBSSxVQUFZLFNBQ2hCLEtBQUssVUFBVSxDQUFHLEVBQ1gsRUFFWCxFQUFFLENBQUMsRUFBTyxDQUFFLE9BQU8sRUFBTSxRQUFVLEtBQUssT0FDeEMsU0FBUyxDQUFDLEVBQUssQ0FFWCxPQURBLEVBQUksTUFBTSxPQUFTLEtBQUssT0FBUyxLQUMxQixNQUVQLFNBQVEsRUFBRyxDQUFFLE1BQU8sTUFDcEIsZ0JBQWUsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUNwQyxXQUFXLEVBQUcsQ0FBRSxNQUFPLEdBQzNCLENBRUEsTUFBTSxFQUFlLENBQ2pCLFdBQVcsQ0FBQyxFQUFLLEVBQUssRUFBSyxFQUF5QixDQUNoRCxLQUFLLElBQU0sRUFDWCxLQUFLLElBQU0sRUFDWCxLQUFLLElBQU0sRUFDWCxLQUFLLHdCQUEwQixFQUMvQixLQUFLLFFBQVUsQ0FBQyxFQUNoQixLQUFLLFFBQVUsS0FDZixLQUFLLGFBQWUsRUFDcEIsS0FBSyxjQUFnQixFQUNyQixLQUFLLFlBQWMsQ0FBQyxFQUVwQixLQUFLLFlBQWMsR0FDbkIsS0FBSyxVQUFZLEdBQ2pCLEtBQUssUUFBVSxHQUNmLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBVSxFQUNmLEtBQUssT0FBUyxFQUFJLEtBQUssRUFDdkIsS0FBSyxLQUFPLEVBRWhCLFVBQVUsRUFBRyxDQUNULEdBQUksS0FBSyxRQUFRLFFBQVUsRUFDdkIsT0FBUSxLQUFLLGNBQWdCLEtBQUssSUFBSSxPQUFPLEtBQUssR0FBRyxFQUFFLE1BQVEsS0FBSyxJQUN4RSxJQUFJLEVBQU8sS0FBSyxRQUFRLEtBQUssUUFBUSxPQUFTLEdBQzlDLFFBQVMsRUFBSyxZQUFjLGFBQWdCLElBQW1CLEVBQUssS0FBSyxRQUFVLEdBRXZGLE9BQU8sRUFBRyxDQUNOLElBQUssS0FBSyxRQUNOLEtBQUssUUFBUSxLQUFLLEtBQUssUUFBVSxJQUFJLEVBQVEsRUFDN0MsS0FBSyxZQUFjLEdBRXZCLE9BQU8sS0FBSyxRQUVoQixXQUFXLENBQUMsRUFBUyxLQUFLLFlBQWEsQ0FDbkMsR0FBSSxLQUFLLGNBQ0wsS0FBSyxRQUFRLE9BQU8sR0FBVSxJQUFJLEdBQWlCLEVBQUUsRUFBRyxDQUFNLEVBQUcsRUFBTyxNQUFNLEVBQzlFLEtBQUssY0FBZ0IsRUFHN0IsY0FBYyxDQUFDLEVBQU0sQ0FDakIsS0FBSyxZQUFZLEVBQ2pCLEtBQUssUUFBVSxLQUNmLEtBQUssUUFBUSxLQUFLLENBQUksRUFFMUIsTUFBTSxDQUFDLEVBQVMsQ0FDWixHQUFJLEtBQUssZUFBaUIsR0FBVyxLQUFLLFlBQVksT0FDbEQsS0FBSyxZQUFZLE1BRWpCLE1BQUssY0FBZ0IsRUFDekIsSUFBSyxLQUFLLFdBQVcsS0FDZixHQUFXLEtBQUssUUFBUSxRQUFVLEtBQUssUUFBUSxLQUFLLFFBQVEsT0FBUyxhQUFjLElBQ3JGLEtBQUssUUFBUSxFQUVyQixTQUFTLENBQUMsRUFBUSxFQUFRLEVBQVcsQ0FDakMsTUFBTyxFQUFTLEVBQUcsQ0FDZixHQUFJLEtBQUssU0FBVyxLQUFLLEtBQUssT0FBUSxDQUNsQyxJQUFNLFFBQU8sWUFBVyxRQUFTLEtBQUssT0FBTyxLQUFLLEtBQUssSUFBSSxFQUUzRCxHQURBLEtBQUssS0FBTyxFQUNSLEVBQ0EsTUFBTSxJQUFJLE1BQU0sbURBQW1ELEVBQ3ZFLEdBQUksRUFBVyxDQUNYLElBQUssS0FBSyxXQUFXLEVBQ2pCLEtBQUssUUFBUSxFQUNqQixHQUFJLEtBQUssUUFBUSxPQUNiLEtBQUssUUFBUSxLQUFLLFFBQVEsT0FBUyxHQUFHLFdBQWEsTUFFbkQsTUFBSyxhQUFlLEVBQ3hCLEtBQUssWUFBWSxFQUNqQixLQUFLLFFBQVUsS0FDZixLQUFLLFlBQWMsR0FDbkIsSUFDQSxhQUdBLE1BQUssS0FBTyxFQUNaLEtBQUssUUFBVSxFQUd2QixJQUFJLEVBQU8sS0FBSyxJQUFJLEtBQUssS0FBSyxPQUFTLEtBQUssUUFBUyxFQUFRLEdBQWlCLEVBQzlFLEtBQUssWUFBWSxFQUFPLE1BQU0sRUFBTyxPQUFTLENBQVMsQ0FBQyxFQUN4RCxLQUFLLFFBQVEsRUFBRSxPQUFPLEdBQVUsSUFBSSxHQUFTLEtBQUssS0FBSyxNQUFNLEtBQUssUUFBUyxLQUFLLFFBQVUsQ0FBSSxDQUFDLEVBQUcsQ0FBTSxFQUFHLENBQVMsRUFDcEgsS0FBSyxZQUFjLEdBQ25CLEtBQUssU0FBVyxFQUNoQixHQUFVLEVBQ1YsRUFBWSxHQUdwQixJQUFJLENBQUMsRUFBTSxFQUFJLEVBQVEsRUFBVyxDQUc5QixHQUZBLEtBQUssVUFBVSxFQUFLLEVBQU0sRUFBUSxDQUFTLEVBQzNDLEtBQUssSUFBTSxFQUNQLEtBQUssVUFBWSxFQUNqQixLQUFLLFVBQVksRUFFekIsS0FBSyxDQUFDLEVBQU0sRUFBSSxFQUFNLEVBQVEsRUFBVyxFQUFPLENBQzVDLEdBQUksS0FBSyx3QkFBd0IsSUFBVSxhQUFnQixHQUFpQixDQUN4RSxHQUFJLEVBQUssTUFDTCxNQUFNLElBQUksV0FBVyxvREFBb0QsRUFDN0UsR0FBSSxFQUFLLEtBQUssSUFBSSxPQUFPLEtBQUssR0FBRyxFQUFFLEdBQy9CLE1BQU0sSUFBSSxXQUFXLHVFQUF1RSxFQUVwRyxJQUFJLEVBQU0sRUFBSyxFQUNmLEdBQUksYUFBZ0IsR0FDaEIsR0FBSSxFQUFLLE1BQU8sQ0FDWixHQUFJLEVBQUssVUFBWSxJQUFNLEtBQUssV0FBVyxFQUN2QyxLQUFLLFFBQVEsRUFDakIsS0FBSyxlQUFlLElBQUksR0FBZ0IsRUFBSyxRQUFVLEdBQVcsTUFBTyxFQUFLLENBQUksQ0FBQyxNQUVsRixDQUNELElBQUksRUFBTyxHQUFXLE9BQU8sRUFBSyxRQUFVLEdBQVcsT0FBUSxFQUFLLEVBQU0sRUFBSSxFQUFLLFNBQVMsRUFDeEYsRUFBZSxLQUFLLGNBQWdCLEVBQUssWUFBYyxHQUFhLEVBQU8sU0FDMUUsRUFBTyxHQUFNLEVBQUssVUFBWSxHQUMvQixHQUFlLEVBQUssYUFBZSxFQUFPLEdBQU0sRUFBWSxFQUFPLFFBQVUsRUFBSyxXQUFhLEdBQy9GLEVBQU8sS0FBSyxRQUFRLEVBQ3hCLEdBQUksS0FBSyxlQUFpQixJQUF5QixJQUFpQixFQUFLLFdBQ3JFLEtBQUssY0FBZ0IsRUFFekIsR0FEQSxLQUFLLFlBQVksQ0FBTSxFQUNuQixFQUNBLEVBQUssT0FBTyxHQUFVLElBQUksR0FBaUIsQ0FBQyxFQUFHLENBQU0sRUFBRyxDQUFTLEVBQ2pFLEVBQVksRUFBTyxPQUFTLEtBQUssSUFBSSxFQUFHLEVBQVksRUFBTyxNQUFNLEVBS3JFLEdBSEEsRUFBSyxPQUFPLEdBQVUsRUFBTSxDQUFNLEVBQUcsQ0FBUyxFQUM5QyxLQUFLLFlBQWMsRUFDbkIsS0FBSyxlQUFpQixFQUFjLEVBQWlCLEVBQU8sR0FBTSxFQUFZLEVBQU8sT0FBUyxFQUFrQixFQUM1RyxLQUFLLGNBQ0wsS0FBSyxZQUFjLEVBQU8sTUFBTSxVQUduQyxLQUFLLElBQUksT0FBTyxLQUFLLEdBQUcsRUFBRSxNQUFRLEtBQUssSUFDNUMsS0FBSyxRQUFRLEVBQUUsWUFBWSxDQUFJLEVBRW5DLEdBQUksRUFBSyxDQUVMLEdBQUksS0FBSyxRQUFVLEdBQU8sS0FBSyxLQUFLLE9BQ2hDLEtBQUssU0FBVyxNQUdoQixNQUFLLE1BQVEsR0FBTyxLQUFLLEtBQUssT0FBUyxLQUFLLFNBQzVDLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBVSxFQUVuQixLQUFLLElBQU0sRUFFZixHQUFJLEtBQUssVUFBWSxFQUNqQixLQUFLLFVBQVksUUFFbEIsTUFBSyxDQUFDLEVBQU0sRUFBTSxFQUFJLEVBQWEsRUFBc0IsQ0FDNUQsSUFBSSxFQUFVLElBQUksR0FBZSxFQUFNLEVBQU0sRUFBSSxDQUFvQixFQUVyRSxHQURBLEVBQVEsUUFBVSxFQUFTLE1BQU0sRUFBYSxFQUFNLEVBQUksQ0FBTyxFQUMzRCxFQUFRLFVBQVksRUFDcEIsRUFBUSxVQUFZLEVBQVEsUUFFaEMsT0FEQSxFQUFRLE9BQU8sRUFBUSxPQUFPLEVBQ3ZCLEVBRWYsQ0FNQSxNQUFNLFdBQW1CLEVBQVcsQ0FDaEMsV0FBVyxDQUFDLEVBQUssQ0FDYixNQUFNLEVBQ04sS0FBSyxJQUFNLEVBRWYsRUFBRSxDQUFDLEVBQU8sQ0FBRSxPQUFPLEVBQU0sS0FBTyxLQUFLLElBQ3JDLEtBQUssRUFBRyxDQUFFLE9BQU8sU0FBUyxjQUFjLEtBQUssR0FBRyxFQUNoRCxTQUFTLENBQUMsRUFBSyxDQUFFLE9BQU8sRUFBSSxTQUFTLFlBQVksR0FBSyxLQUFLLE9BQ3ZELFNBQVEsRUFBRyxDQUFFLE1BQU8sR0FDNUIsQ0FDQSxHQUFXLE9BQXNCLElBQUksR0FBVyxNQUFNLEVBQ3RELEdBQVcsTUFBcUIsSUFBSSxHQUFXLEtBQUssRUFLcEQsSUFBSSxVQUFtQyxDQUFDLEVBQVcsQ0FXbkQsT0FMSSxFQUFVLEVBQVUsSUFBUyxHQUFLLE1BSWxDLEVBQVUsRUFBVSxJQUFTLEdBQUssTUFDL0IsR0FBWSxJQUFjLEVBQVksQ0FBQyxFQUFFLEVBQzFDLEdBQU0sRUFBVSxJQUFLLEdBQU0sRUFBVSxJQVNyQyxHQUF3QixHQUFJLDBQQUEwUCxFQUV0UixHQUEyQixHQUFJLDRQQUE0UCxFQUMzUixHQUF3QixPQUFPLE9BQU8sSUFBSSxFQUFHLEdBQWUsQ0FBQyxFQUluRSxRQUFTLElBQUssQ0FBQyxLQUFNLEtBQU0sSUFBSSxFQUFHLENBQzlCLElBQUksRUFBaUIsRUFBRSxXQUFXLENBQUMsRUFBRyxFQUFpQixFQUFFLFdBQVcsQ0FBQyxFQUNyRSxHQUFTLEdBQUssRUFDZCxHQUFTLElBQU0sRUFVbkIsSUFBTSxHQUFTLHlEQUtmLE1BQU0sRUFBUyxJQUlQLElBQUcsRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFRLEVBQUksR0FBTSxHQUkxQyxXQUFXLENBSVgsRUFJQSxFQVFBLEVBQU8sQ0FDSCxLQUFLLEtBQU8sRUFDWixLQUFLLEdBQUssRUFDVixLQUFLLE1BQVEsRUFLakIsSUFBSSxDQUFDLEVBQUssRUFBSyxDQUFFLE9BQVEsS0FBSyxLQUFPLEdBQVEsRUFBTSxLQUFLLEdBQUssS0FBSyxLQUlsRSxPQUFPLENBQUMsRUFBUyxFQUFLLENBQUUsT0FBTyxJQUFZLEtBQUssS0FBTyxTQUloRCxLQUFJLENBQUMsRUFBTyxFQUFPLEVBQU8sRUFBTyxDQUNwQyxJQUFJLEVBQVEsR0FDWixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQ25DLElBQUksRUFBTyxFQUFNLEdBQ2pCLEdBQUksRUFBSyxNQUFRLEdBQVMsRUFBSyxJQUFNLEVBQU8sQ0FDeEMsR0FBSSxFQUFLLE9BQVMsRUFDZCxPQUFPLEVBSVgsR0FBSSxFQUFRLElBQU0sR0FBUyxFQUFLLEVBQVEsRUFBSSxFQUFLLEtBQU8sRUFBUSxFQUFLLEdBQUssRUFBUyxFQUFNLEdBQU8sTUFBUSxFQUFLLE9BQ3pHLEVBQVEsR0FHcEIsR0FBSSxFQUFRLEVBQ1IsTUFBTSxJQUFJLFdBQVcsb0JBQW9CLEVBQzdDLE9BQU8sRUFFZixDQVlBLElBQU0sRUFBUSxDQUFDLEVBNFRYLEdBQVksR0FnRFYsR0FBdUMsRUFBTSxPQUFPLEVBQ3BELEdBQW9DLEVBQU0sT0FBTyxFQUNqRCxHQUFtQyxFQUFNLE9BQU8sRUFDaEQsR0FBNkIsRUFBTSxPQUFPLEVBQzFDLEdBQThCLEVBQU0sT0FBTyxFQUMzQyxHQUE0QixFQUFNLE9BQU8sRUFDekMsR0FBaUMsRUFBTSxPQUFPLEVBQzlDLEdBQW9DLEVBQU0sT0FBTyxFQUNqRCxHQUFxQyxFQUFNLE9BQU8sRUFDbEQsR0FBb0MsRUFBTSxPQUFPLENBQ25ELFFBQVMsS0FBVSxFQUFPLEtBQUssS0FBSyxDQUFDLENBQ3pDLENBQUMsRUFDSyxHQUFxQyxFQUFNLE9BQU8sQ0FDcEQsUUFBUyxLQUFVLEVBQU8sS0FBSyxLQUFLLENBQUMsQ0FDekMsQ0FBQyxFQUNLLEdBQTZCLEVBQU0sT0FBTyxFQUNoRCxNQUFNLEVBQWEsQ0FDZixXQUFXLENBQUMsRUFBTyxFQUFJLFVBQVcsRUFBSSxVQUFXLEVBQVUsRUFBRyxFQUFVLEVBT3hFLEVBQWEsR0FBTyxDQUNoQixLQUFLLE1BQVEsRUFDYixLQUFLLEVBQUksRUFDVCxLQUFLLEVBQUksRUFDVCxLQUFLLFFBQVUsRUFDZixLQUFLLFFBQVUsRUFDZixLQUFLLFdBQWEsRUFFdEIsR0FBRyxDQUFDLEVBQVMsQ0FDVCxPQUFPLEVBQVEsTUFBUSxLQUNuQixJQUFJLEdBQWEsS0FBSyxNQUFNLElBQUksQ0FBTyxFQUFHLEtBQUssRUFBRyxLQUFLLEVBQUcsS0FBSyxRQUFTLEtBQUssUUFBUyxLQUFLLFVBQVUsRUFFN0csSUFBSSxDQUFDLEVBQU8sQ0FDUixPQUFPLEtBQUssTUFBTSxJQUFNLEVBQU0sSUFBSSxPQUFTLEtBQ3ZDLElBQUksR0FBYSxFQUFnQixPQUFPLEVBQU0sSUFBSSxNQUFNLEVBQUcsS0FBSyxFQUFHLEtBQUssRUFBRyxLQUFLLFFBQVMsS0FBSyxRQUFTLEtBQUssVUFBVSxFQUVsSSxDQUNBLElBQU0sR0FBOEIsRUFBWSxPQUFPLENBQUUsSUFBSyxDQUFDLEVBQUcsSUFBTyxFQUFFLElBQUksQ0FBRSxDQUFFLENBQUMsRUFDOUUsR0FBd0MsRUFBWSxPQUFPLEVBd0IzRCxHQUF3QixFQUFNLE9BQU8sQ0FBRSxRQUFTLEtBQVUsRUFBTyxPQUFTLEVBQU8sR0FBSyxFQUFLLENBQUMsRUFDOUYsR0FBZSxFQUNiLEdBQTBCLEVBQU0sT0FBTyxFQU03QyxNQUFNLEVBQVcsQ0FDYixXQUFXLENBSVgsRUFJQSxFQUlBLEVBSUEsRUFBbUIsRUFBaUIsQ0FDaEMsS0FBSyxHQUFLLEVBQ1YsS0FBSyxPQUFTLEVBQ2QsS0FBSyxpQkFBbUIsRUFDeEIsS0FBSyxrQkFBb0IsRUFDekIsS0FBSyxVQUFZLEVBQWdCLElBQUksUUFNbEMsT0FBTSxDQUFDLEVBQVEsRUFBTSxDQUN4QixNQUFRLGdCQUFlLGlCQUFnQixVQUFTLFlBQWEsR0FBUyxHQUFRLENBQUMsRUFDL0UsT0FBTyxJQUFJLEdBQVcsS0FBZ0IsRUFBUSxFQUFlLEVBQWdCLEtBQVUsQ0FDbkYsSUFBSSxFQUFNLENBQUMsR0FBVyxHQUFHLENBQU0sQ0FBQyxFQUNoQyxHQUFJLEVBQ0EsRUFBSSxLQUFLLEdBQVksR0FBRyxLQUFRLENBQzVCLElBQUksRUFBYSxFQUFLLE9BQU8sQ0FBTSxFQUNuQyxPQUFPLEVBQWEsRUFBSyxDQUFVLEVBQUksRUFBVyxLQUNyRCxDQUFDLEVBQ04sR0FBSSxFQUNBLEVBQUksS0FBSyxFQUFRLENBQU0sQ0FBQyxFQUM1QixPQUFPLEVBQ1YsUUFNRSxVQUFTLENBQUMsRUFBSyxFQUFNLENBQ3hCLE9BQU8sR0FBVyxPQUFPLEtBQVEsSUFBSSxFQUFJLENBQUksRUFBRyxDQUFJLEVBRTVELENBQ0EsTUFBTSxFQUFlLENBQ2pCLFdBQVcsQ0FBQyxFQUFNLENBQ2QsS0FBSyxLQUFPLEVBS1osS0FBSyxXQUFhLEtBR2xCLEtBQUssTUFBUSxLQUVqQixNQUFNLENBQUMsRUFBTSxDQUNULElBQUssS0FBSyxPQUNOLEdBQUksS0FBSyxLQUNMLEdBQUksQ0FDQSxLQUFLLE1BQVEsS0FBSyxLQUFLLE9BQU8sQ0FBSSxRQUUvQixFQUFQLENBQ0ksR0FBYSxFQUFLLE1BQU8sRUFBRywyQkFBMkIsRUFDdkQsS0FBSyxXQUFXLFdBSW5CLEtBQUssV0FBWSxDQUN0QixJQUFJLEVBQVMsS0FBSyxXQUVsQixHQURBLEtBQUssV0FBYSxLQUNkLEtBQUssTUFBTSxPQUNYLEdBQUksQ0FDQSxLQUFLLE1BQU0sT0FBTyxDQUFNLFFBRXJCLEVBQVAsQ0FFSSxHQURBLEdBQWEsRUFBTyxNQUFPLEVBQUcsMkJBQTJCLEVBQ3JELEtBQUssTUFBTSxRQUNYLEdBQUksQ0FDQSxLQUFLLE1BQU0sUUFBUSxRQUVoQixFQUFQLEVBQ0osS0FBSyxXQUFXLEdBSTVCLE9BQU8sS0FFWCxPQUFPLENBQUMsRUFBTSxDQUNWLElBQUksRUFDSixJQUFLLEVBQUssS0FBSyxTQUFXLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxRQUMxRCxHQUFJLENBQ0EsS0FBSyxNQUFNLFFBQVEsUUFFaEIsRUFBUCxDQUNJLEdBQWEsRUFBSyxNQUFPLEVBQUcsMkJBQTJCLEdBSW5FLFVBQVUsRUFBRyxDQUNULEtBQUssS0FBTyxLQUFLLE1BQVEsS0FFakMsQ0FDQSxJQUFNLEdBQWdDLEVBQU0sT0FBTyxFQUM3QyxHQUFpQyxFQUFNLE9BQU8sRUFFOUMsR0FBMkIsRUFBTSxPQUFPLEVBQ3hDLEdBQWdDLEVBQU0sT0FBTyxFQUM3QyxHQUE0QixFQUFNLE9BQU8sRUFDekMsR0FBa0MsRUFBTSxPQUFPLEVBK0IvQyxHQUE2QixFQUFNLE9BQU8sRUFrQjFDLEdBQTJCLEVBQU0sT0FBTyxFQUM5QyxNQUFNLEVBQWEsQ0FDZixXQUFXLENBQUMsRUFBTyxFQUFLLEVBQU8sRUFBSyxDQUNoQyxLQUFLLE1BQVEsRUFDYixLQUFLLElBQU0sRUFDWCxLQUFLLE1BQVEsRUFDYixLQUFLLElBQU0sRUFFZixJQUFJLENBQUMsRUFBTyxDQUNSLE9BQU8sSUFBSSxHQUFhLEtBQUssSUFBSSxLQUFLLE1BQU8sRUFBTSxLQUFLLEVBQUcsS0FBSyxJQUFJLEtBQUssSUFBSyxFQUFNLEdBQUcsRUFBRyxLQUFLLElBQUksS0FBSyxNQUFPLEVBQU0sS0FBSyxFQUFHLEtBQUssSUFBSSxLQUFLLElBQUssRUFBTSxHQUFHLENBQUMsRUFFOUosUUFBUSxDQUFDLEVBQUssQ0FDVixJQUFJLEVBQUksRUFBSSxPQUFRLEVBQUssS0FDekIsS0FBTyxFQUFJLEVBQUcsSUFBSyxDQUNmLElBQUksRUFBUSxFQUFJLEVBQUksR0FDcEIsR0FBSSxFQUFNLE1BQVEsRUFBRyxJQUNqQixTQUNKLEdBQUksRUFBTSxJQUFNLEVBQUcsTUFDZixNQUNKLEVBQUssRUFBRyxLQUFLLENBQUssRUFDbEIsRUFBSSxPQUFPLEVBQUksRUFBRyxDQUFDLEVBR3ZCLE9BREEsRUFBSSxPQUFPLEVBQUcsRUFBRyxDQUFFLEVBQ1osUUFFSixpQkFBZ0IsQ0FBQyxFQUFNLEVBQVEsQ0FDbEMsR0FBSSxFQUFPLFFBQVUsRUFDakIsT0FBTyxFQUNYLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFHLEVBQU8sRUFBRyxFQUFPLEdBQUksSUFBTSxDQUNoRCxJQUFJLEVBQU8sR0FBTSxFQUFLLE9BQVMsS0FBTyxFQUFLLEdBQUssRUFBTSxFQUFPLEVBQ3pELEVBQU0sRUFBTyxFQUFLLE1BQVEsSUFDOUIsTUFBTyxFQUFLLEVBQU8sUUFBVSxFQUFPLEdBQU0sRUFBSyxDQUMzQyxJQUFJLEVBQU8sRUFBTyxHQUFLLEVBQUssRUFBTyxFQUFLLEdBQ3BDLEVBQVEsS0FBSyxJQUFJLEVBQU0sQ0FBSSxFQUFHLEVBQU0sS0FBSyxJQUFJLEVBQUssQ0FBRSxFQUN4RCxHQUFJLEdBQVMsRUFDVCxJQUFJLEdBQWEsRUFBUSxFQUFLLEVBQU0sRUFBSyxFQUFPLENBQUcsRUFBRSxTQUFTLENBQU0sRUFDeEUsR0FBSSxFQUFLLEVBQ0wsVUFFQSxJQUFNLEVBRWQsSUFBSyxFQUNELE9BQU8sRUFDWCxJQUFJLEdBQWEsRUFBSyxNQUFPLEVBQUssSUFBSyxFQUFLLE1BQU8sRUFBSyxHQUFHLEVBQUUsU0FBUyxDQUFNLEVBQzVFLEVBQU8sRUFBSyxJQUNaLEVBQU8sRUFBSyxLQUd4QixDQUtBLE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FJWCxFQUlBLEVBSUEsRUFBYyxDQUNWLEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxFQUNiLEtBQUssYUFBZSxFQUlwQixLQUFLLE1BQVEsRUFDYixLQUFLLFdBQWEsRUFBSyxNQUN2QixLQUFLLFFBQVUsRUFBVSxNQUFNLEtBQUssV0FBVyxJQUFJLE1BQU0sRUFDekQsUUFBUyxLQUFNLEVBQ1gsS0FBSyxRQUFVLEtBQUssUUFBUSxRQUFRLEVBQUcsT0FBTyxFQUNsRCxJQUFJLEVBQWdCLENBQUMsRUFDckIsS0FBSyxRQUFRLGtCQUFrQixDQUFDLEVBQU8sRUFBSyxFQUFPLElBQVEsRUFBYyxLQUFLLElBQUksR0FBYSxFQUFPLEVBQUssRUFBTyxDQUFHLENBQUMsQ0FBQyxFQUN2SCxLQUFLLGNBQWdCLFFBS2xCLE9BQU0sQ0FBQyxFQUFNLEVBQU8sRUFBYyxDQUNyQyxPQUFPLElBQUksR0FBVyxFQUFNLEVBQU8sQ0FBWSxLQU8vQyxnQkFBZSxFQUFHLENBQ2xCLE9BQVEsS0FBSyxNQUFRLEdBQStCLEtBTXBELGNBQWEsRUFBRyxDQUNoQixPQUFRLEtBQUssTUFBUSxHQUE2QixLQU1sRCxnQkFBZSxFQUFHLENBQ2xCLE9BQU8sS0FBSyxhQUFlLEtBQUssTUFBUyxJQUE0RCxLQUtyRyxhQUFZLEVBQUcsQ0FDZixPQUFRLEtBQUssTUFBUSxHQUE0QixLQUtqRCxXQUFVLEVBQUcsQ0FDYixPQUFRLEtBQUssUUFBUSxTQUtyQixhQUFZLEVBQUcsQ0FDZixPQUFPLEtBQUssYUFBYSxLQUFLLEtBQU0sRUFBRyxTQUFTLEtBS2hELE1BQUssRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFTLEdBQUssS0FBSyxhQUFhLFFBQVUsRUFDeEUsQ0FFQSxNQUFNLFdBQWdCLENBQVksSUFDMUIsT0FBTSxFQUFHLENBQUUsT0FBTyxLQUFLLEtBQUssTUFBTSxJQUFJLE9BQzFDLFdBQVcsQ0FBQyxFQUFNLENBQ2QsTUFBTSxFQUNOLEtBQUssS0FBTyxFQUNaLEtBQUssWUFBYyxDQUFDLEVBQ3BCLEtBQUsscUJBQXVCLENBQUMsRUFBSyxFQUNsQyxLQUFLLFdBQWEsS0FDbEIsS0FBSyxlQUFpQixLQUN0QixLQUFLLHFCQUF1QixJQUFJLElBQ2hDLEtBQUssc0JBQXdCLEVBQVcsS0FDeEMsS0FBSywyQkFBNkIsR0FRbEMsS0FBSyxTQUFXLEVBQ2hCLEtBQUssYUFBZSxFQUNwQixLQUFLLFdBQWEsRUFHbEIsS0FBSyxnQkFBa0IsS0FDdkIsS0FBSyxjQUFnQixLQUNyQixLQUFLLGVBQWlCLEdBR3RCLEtBQUssV0FBYSxLQUFLLElBQUksRUFDM0IsS0FBSyxPQUFPLEVBQUssVUFBVSxFQUMzQixLQUFLLFNBQVcsQ0FBQyxJQUFJLEVBQVEsRUFDN0IsS0FBSyxTQUFTLEdBQUcsVUFBVSxJQUFJLEVBQy9CLEtBQUssV0FBVyxFQUNoQixLQUFLLFlBQVksQ0FBQyxJQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsRUFBSyxNQUFNLElBQUksTUFBTSxDQUFDLEVBQUcsRUFBRyxJQUFJLEVBR2hGLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUNKLElBQUksRUFBZ0IsRUFBTyxjQUMzQixHQUFJLEtBQUssU0FBVyxHQUFLLEVBQWMsT0FDbkMsSUFBSyxFQUFjLE1BQU0sRUFBRyxRQUFPLFNBQVUsRUFBTSxLQUFLLGNBQWdCLEVBQVEsS0FBSyxVQUFVLEVBQzNGLEtBQUssU0FBVyxLQUFLLGFBQWUsS0FBSyxXQUFhLE1BR3RELE1BQUssYUFBZSxFQUFPLFFBQVEsT0FBTyxLQUFLLGFBQWMsQ0FBQyxFQUM5RCxLQUFLLFdBQWEsRUFBTyxRQUFRLE9BQU8sS0FBSyxXQUFZLENBQUMsRUFHbEUsS0FBSyw0QkFBNEIsQ0FBTSxFQUN2QyxJQUFJLEVBQW9CLEdBQ3hCLEdBQUksS0FBSyxLQUFLLFdBQVcsV0FBYSxJQUFNLEtBQUssS0FBSyxTQUFTLGFBQzNELElBQUssRUFBSyxLQUFLLGNBQWdCLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxPQUMvRCxFQUFvQixLQUFLLFdBQVcsT0FBTyxjQUNyQyxHQUFtQixFQUFPLFFBQVMsS0FBSyxjQUFjLElBQU0sRUFBTyxhQUN6RSxFQUFvQixFQUFPLE1BQU0sVUFBVSxLQUFLLEtBRXhELElBQUksRUFBYyxFQUFvQixHQUFLLEdBQXFCLEtBQUssS0FBTSxFQUFPLFFBQVMsQ0FBaUIsRUFBSSxLQUVoSCxHQURBLEtBQUssV0FBYSxLQUNkLEtBQUssZUFBZ0IsQ0FDckIsS0FBSyxxQkFBcUIsTUFBTSxFQUNoQyxJQUFNLE9BQU0sTUFBTyxLQUFLLGVBQ3hCLEVBQWdCLElBQUksR0FBYSxFQUFNLEVBQUksRUFBTyxRQUFRLE9BQU8sRUFBTSxFQUFFLEVBQUcsRUFBTyxRQUFRLE9BQU8sRUFBSSxDQUFDLENBQUMsRUFDbkcsU0FBUyxFQUFjLE1BQU0sQ0FBQyxFQVF2QyxHQU5BLEtBQUssZUFBaUIsRUFBYyxDQUFFLEtBQU0sRUFBWSxNQUFNLE1BQU8sR0FBSSxFQUFZLE1BQU0sR0FBSSxFQUFJLE1BTTlGLEVBQVEsSUFBTSxFQUFRLFVBQVksR0FBZSxHQUNsRCxFQUFPLE1BQU0sSUFBSSxPQUFTLEVBQU8sV0FBVyxJQUFJLE1BQ2hELEtBQUssZUFBaUIsR0FDMUIsSUFBSSxFQUFXLEtBQUssWUFBYSxFQUFPLEtBQUssV0FBVyxFQUNwRCxFQUFXLEdBQWdCLEVBQVUsRUFBTSxFQUFPLE9BQU8sRUFFN0QsR0FEQSxFQUFnQixHQUFhLGlCQUFpQixFQUFlLENBQVEsSUFDL0QsS0FBSyxNQUFRLElBQTJCLEVBQWMsUUFBVSxFQUNsRSxNQUFPLE9BRU4sQ0FFRCxHQURBLEtBQUssWUFBWSxFQUFlLEVBQU8sV0FBVyxJQUFJLE9BQVEsQ0FBVyxFQUNyRSxFQUFPLGFBQWEsT0FDcEIsS0FBSyxXQUFhLEtBQUssSUFBSSxFQUMvQixNQUFPLElBS2YsV0FBVyxDQUFDLEVBQVMsRUFBVyxFQUFhLENBQ3pDLEtBQUssS0FBSyxVQUFVLG1CQUFxQixHQUN6QyxLQUFLLGVBQWUsRUFBUyxFQUFXLENBQVcsRUFDbkQsSUFBTSxZQUFhLEtBQUssS0FDeEIsRUFBUyxPQUFPLElBQU0sQ0FLbEIsS0FBSyxJQUFJLE1BQU0sT0FBUyxLQUFLLEtBQUssVUFBVSxjQUFnQixLQUFLLEtBQUssT0FBUyxLQUMvRSxLQUFLLElBQUksTUFBTSxVQUFZLEtBQUssU0FBVyxLQUFLLFNBQVcsS0FBTyxHQUtsRSxJQUFJLEVBQVEsRUFBUSxRQUFVLEVBQVEsSUFBTSxDQUFFLEtBQU0sRUFBUyxlQUFlLFVBQVcsUUFBUyxFQUFNLEVBQUksT0FHMUcsR0FGQSxLQUFLLEtBQUssS0FBSyxLQUFNLENBQUssRUFDMUIsS0FBSyxPQUFTLEdBQ1YsSUFBVSxFQUFNLFNBQVcsRUFBUyxlQUFlLFdBQWEsRUFBTSxNQUN0RSxLQUFLLGVBQWlCLEdBQzFCLEtBQUssSUFBSSxNQUFNLE9BQVMsR0FDM0IsRUFDRCxLQUFLLHFCQUFxQixRQUFRLEtBQVMsRUFBTSxPQUFTLEVBQTZCLEVBQ3ZGLElBQUksRUFBTyxDQUFDLEVBQ1osR0FBSSxLQUFLLEtBQUssU0FBUyxNQUFRLEtBQUssS0FBSyxTQUFTLEdBQUssS0FBSyxLQUFLLE1BQU0sSUFBSSxRQUN2RSxRQUFTLEtBQVMsS0FBSyxTQUNuQixHQUFJLGFBQWlCLElBQW1CLEVBQU0sa0JBQWtCLEdBQzVELEVBQUssS0FBSyxFQUFNLEdBQUcsRUFDL0IsRUFBUyxXQUFXLENBQUksRUFFNUIsY0FBYyxDQUFDLEVBQVMsRUFBVyxFQUFhLENBQzVDLElBQUksRUFBUyxFQUFjLEVBQVksTUFBTSxTQUFTLEVBQVEsTUFBTSxDQUFDLEVBQUksRUFDckUsRUFBUyxLQUFLLFlBQVksQ0FBUyxFQUN2QyxRQUFTLEVBQUksRUFBTyxPQUFTLEdBQUksSUFBSyxDQUNsQyxJQUFJLEVBQU8sR0FBSyxFQUFJLEVBQU8sR0FBSyxLQUNoQyxJQUFLLEVBQ0QsTUFDSixJQUFNLFFBQU8sTUFBSyxRQUFPLE9BQVEsRUFBTSxFQUFTLEVBQWMsRUFBVyxFQUN6RSxHQUFJLEdBQWUsRUFBWSxNQUFNLE1BQVEsR0FBTyxFQUFZLE1BQU0sSUFBTSxFQUFPLENBQy9FLElBQUksRUFBUyxHQUFlLE1BQU0sS0FBSyxLQUFLLE1BQU0sSUFBSyxFQUFPLEVBQVksTUFBTSxNQUFPLEtBQUssWUFBYSxLQUFLLG9CQUFvQixFQUM5SCxFQUFRLEdBQWUsTUFBTSxLQUFLLEtBQUssTUFBTSxJQUFLLEVBQVksTUFBTSxJQUFLLEVBQUssS0FBSyxZQUFhLEtBQUssb0JBQW9CLEVBQzdILEVBQWUsRUFBTyxhQUN0QixFQUFZLEVBQU8sVUFDbkIsRUFBVSxFQUFNLFFBQ2hCLElBQUksRUFBVyxLQUFLLGdCQUFnQixDQUFXLEVBQy9DLEdBQUksRUFBTSxhQUNOLEVBQVMsV0FBYSxVQUVqQixFQUFNLFFBQVEsUUFDbkIsRUFBUyxNQUFNLEVBQVMsT0FBUSxFQUFTLE9BQVEsRUFBTSxRQUFRLEdBQUksR0FBTyxFQUFNLFVBQVcsQ0FBQyxFQUM1RixFQUFTLFdBQWEsRUFBTSxRQUFRLEdBQUcsV0FDdkMsRUFBTSxRQUFRLE1BQU0sRUFFeEIsR0FBSSxFQUFPLFFBQVEsUUFDZixFQUFTLE1BQU0sRUFBRyxFQUFHLEVBQU8sUUFBUSxFQUFPLFFBQVEsT0FBUyxHQUFJLEdBQU0sRUFBRyxFQUFPLE9BQU8sRUFDdkYsRUFBTyxRQUFRLElBQUksRUFFdkIsRUFBVSxFQUFPLFFBQVEsT0FBTyxDQUFRLEVBQUUsT0FBTyxFQUFNLE9BQU8sTUFHOUQsQ0FBQyxDQUFFLFVBQVMsZUFBYyxZQUFXLFNBQVEsRUFDekMsR0FBZSxNQUFNLEtBQUssS0FBSyxNQUFNLElBQUssRUFBTyxFQUFLLEtBQUssWUFBYSxLQUFLLG9CQUFvQixHQUV6RyxJQUFNLEVBQUcsRUFBSyxJQUFLLEdBQVUsRUFBTyxRQUFRLEVBQUssQ0FBQyxHQUM1QyxFQUFHLEVBQU8sSUFBSyxHQUFZLEVBQU8sUUFBUSxFQUFPLEVBQUUsRUFDekQsR0FBYSxLQUFNLEVBQU8sRUFBUyxFQUFLLEVBQU8sRUFBUyxFQUFjLEVBQVcsQ0FBTyxFQUU1RixHQUFJLEVBQ0EsS0FBSyxrQkFBa0IsQ0FBVyxFQUUxQywyQkFBMkIsQ0FBQyxFQUFRLENBQ2hDLEtBQUssc0JBQXdCLEtBQUssc0JBQXNCLElBQUksRUFBTyxPQUFPLEVBQzFFLFFBQVMsS0FBTSxFQUFPLGFBQ2xCLFFBQVMsS0FBVSxFQUFHLFFBQ2xCLEdBQUksRUFBTyxHQUFHLEVBQXdCLEVBQ2xDLEtBQUssc0JBQXdCLEVBQU8sTUFHcEQsZUFBZSxDQUFDLEVBQWEsQ0FDekIsSUFBSSxFQUFNLElBQUksR0FBUyxFQUFZLEtBQUssU0FBUyxFQUNqRCxFQUFJLE9BQVMsRUFDYixRQUFXLFVBQVUsRUFBWSxNQUM3QixFQUFNLElBQUksR0FBUyxFQUFNLENBQUMsQ0FBRyxFQUFHLEVBQUksTUFBTSxFQUM5QyxJQUFJLEVBQU8sSUFBSSxHQUVmLE9BREEsRUFBSyxPQUFPLEVBQUssQ0FBQyxFQUNYLEVBRVgsaUJBQWlCLENBQUMsRUFBYSxDQUMzQixJQUFJLEVBQU0sQ0FBQyxFQUFLLElBQVUsQ0FDdEIsRUFBTSxPQUFTLEdBQWdDLEVBQU0sU0FBUyxLQUFLLEtBQUssRUFBRSxNQUFRLENBQXNCLEVBQUksRUFBOEIsR0FDMUksS0FBSyxxQkFBcUIsSUFBSSxDQUFLLEVBQ25DLElBQUksRUFBTyxFQUFZLElBQUksQ0FBRyxFQUM5QixHQUFJLEdBQVEsR0FBUSxFQUNoQixFQUFLLElBQU0sS0FDZixFQUFNLE9BQU8sQ0FBRyxHQUVoQixFQUFNLEtBQUssU0FBUyxFQUFZLE1BQU0sTUFBTyxDQUFDLEVBQzlDLEVBQVEsS0FBSyxTQUFTLEVBQUksR0FDOUIsRUFBSSxFQUFZLEtBQU0sQ0FBSyxFQUMzQixRQUFTLEVBQUksRUFBWSxNQUFNLE9BQVMsRUFBRyxHQUFLLEdBQUksSUFDaEQsRUFBTSxFQUFNLFNBQVMsRUFBSSxJQUFLLENBQUMsRUFDL0IsRUFBUSxFQUFNLFNBQVMsRUFBSSxHQUMzQixFQUFJLEdBQUssRUFBSSxFQUFZLE1BQU0sR0FBRyxLQUFPLEVBQVksS0FBTSxDQUFLLEVBSXhFLGVBQWUsQ0FBQyxFQUFXLEdBQU8sRUFBYyxHQUFPLENBQ25ELEdBQUksSUFBYSxLQUFLLEtBQUssU0FBUyxlQUFlLFVBQy9DLEtBQUssS0FBSyxTQUFTLG1CQUFtQixFQUMxQyxJQUFJLEVBQVksS0FBSyxLQUFLLEtBQUssY0FBZSxFQUFVLEdBQWEsS0FBSyxJQUN0RSxHQUFxQixHQUNyQixHQUFhLEtBQUssSUFBSyxLQUFLLEtBQUssU0FBUyxjQUFjLEtBQU8sR0FBYSxLQUFLLElBQUksU0FBUyxDQUFTLEdBQzNHLEtBQU0sR0FBVyxHQUFlLEdBQzVCLE9BQ0osSUFBSSxFQUFRLEtBQUssZUFDakIsS0FBSyxlQUFpQixHQUN0QixJQUFJLEVBQU8sS0FBSyxLQUFLLE1BQU0sVUFBVSxLQUNqQyxFQUFTLEtBQUssV0FBVyxLQUFLLFNBQVMsRUFBSyxNQUFNLENBQUMsRUFDbkQsRUFBTyxFQUFLLE1BQVEsRUFBUyxLQUFLLFdBQVcsS0FBSyxTQUFTLEVBQUssSUFBSSxDQUFDLEVBR3pFLEdBQUksRUFBUSxPQUFTLEVBQUssUUFBVSxLQUFLLGdCQUFrQixHQUFrQixDQUFNLEVBQUcsQ0FDbEYsSUFBSSxFQUFRLFNBQVMsZUFBZSxFQUFFLEVBQ3RDLEtBQUssS0FBSyxTQUFTLE9BQU8sSUFBTSxFQUFPLEtBQUssYUFBYSxFQUFPLEVBQU8sS0FBSyxXQUFXLEVBQU8sU0FBVyxJQUFJLENBQUMsRUFDOUcsRUFBUyxFQUFPLElBQUksR0FBTyxFQUFPLENBQUMsRUFDbkMsRUFBUSxHQUVaLElBQUksRUFBUyxLQUFLLEtBQUssU0FBUyxlQUVoQyxHQUFJLElBQVUsRUFBTyxhQUFlLEdBQXFCLEVBQU8sS0FBTSxFQUFPLE9BQVEsRUFBTyxXQUFZLEVBQU8sWUFBWSxJQUN0SCxHQUFxQixFQUFLLEtBQU0sRUFBSyxPQUFRLEVBQU8sVUFBVyxFQUFPLFdBQVcsS0FBTyxLQUFLLDJCQUEyQixFQUFRLENBQUksRUFDckksS0FBSyxLQUFLLFNBQVMsT0FBTyxJQUFNLENBSzVCLEdBQUksRUFBUSxTQUFXLEVBQVEsUUFBVSxLQUFLLElBQUksU0FBUyxFQUFPLFNBQVMsR0FDdkUsR0FBYSxFQUFPLFVBQVcsS0FBSyxHQUFHLEVBQ3ZDLEtBQUssSUFBSSxLQUFLLEVBQ2QsS0FBSyxJQUFJLE1BQU0sQ0FBRSxjQUFlLEVBQUssQ0FBQyxFQUUxQyxJQUFJLEVBQVMsR0FBYSxLQUFLLEtBQUssSUFBSSxFQUN4QyxJQUFLLFdBQ0ksRUFBSyxNQUFPLENBRWpCLEdBQUksRUFBUSxNQUFPLENBQ2YsSUFBSSxFQUFTLEdBQWlCLEVBQU8sS0FBTSxFQUFPLE1BQU0sRUFDeEQsR0FBSSxHQUFVLEdBQVcsRUFBK0MsQ0FDcEUsSUFBSSxHQUFRLEdBQVUsRUFBd0IsR0FBaUIsSUFBZSxFQUFPLEtBQU0sRUFBTyxNQUFNLEVBQ3hHLEdBQUksRUFDQSxFQUFTLElBQUksR0FBTyxFQUFLLEtBQU0sRUFBSyxNQUFNLEdBSXRELEdBREEsRUFBTyxTQUFTLEVBQU8sS0FBTSxFQUFPLE1BQU0sRUFDdEMsRUFBSyxXQUFhLE1BQVEsRUFBTyxpQkFBbUIsT0FDcEQsRUFBTyxlQUFpQixFQUFLLGtCQUU1QixFQUFPLE9BQVEsQ0FJcEIsRUFBTyxTQUFTLEVBQU8sS0FBTSxFQUFPLE1BQU0sRUFJMUMsR0FBSSxDQUNBLEVBQU8sT0FBTyxFQUFLLEtBQU0sRUFBSyxNQUFNLFFBRWpDLEVBQVAsT0FFQyxDQUVELElBQUksRUFBUSxTQUFTLFlBQVksRUFDakMsR0FBSSxFQUFLLE9BQVMsRUFBSyxLQUNuQixDQUFDLEVBQVEsQ0FBSSxFQUFJLENBQUMsRUFBTSxDQUFNLEVBQ2xDLEVBQU0sT0FBTyxFQUFLLEtBQU0sRUFBSyxNQUFNLEVBQ25DLEVBQU0sU0FBUyxFQUFPLEtBQU0sRUFBTyxNQUFNLEVBQ3pDLEVBQU8sZ0JBQWdCLEVBQ3ZCLEVBQU8sU0FBUyxDQUFLLEVBRXpCLEdBQUksR0FBcUIsS0FBSyxLQUFLLEtBQUssZUFBaUIsS0FBSyxLQUUxRCxHQURBLEtBQUssSUFBSSxLQUFLLEVBQ1YsRUFDQSxFQUFVLE1BQU0sR0FFM0IsRUFDRCxLQUFLLEtBQUssU0FBUyxrQkFBa0IsRUFBUSxDQUFJLEVBRXJELEtBQUssZ0JBQWtCLEVBQU8sUUFBVSxLQUFPLElBQUksR0FBTyxFQUFPLFdBQVksRUFBTyxZQUFZLEVBQ2hHLEtBQUssY0FBZ0IsRUFBSyxRQUFVLEtBQU8sSUFBSSxHQUFPLEVBQU8sVUFBVyxFQUFPLFdBQVcsRUFLOUYsMEJBQTBCLENBQUMsRUFBSyxFQUFRLENBQ3BDLE9BQU8sS0FBSyxnQkFBa0IsRUFBTyxPQUNqQyxHQUFxQixFQUFJLFVBQVcsRUFBSSxZQUFhLEVBQUksV0FBWSxFQUFJLFlBQVksR0FDckYsS0FBSyxXQUFXLEVBQUksVUFBVyxFQUFJLFdBQVcsR0FBSyxFQUFPLEtBRWxFLGtCQUFrQixFQUFHLENBQ2pCLEdBQUksS0FBSyxlQUNMLE9BQ0osSUFBTSxRQUFTLEtBQU0sRUFBUyxFQUFLLE1BQU0sVUFBVSxLQUMvQyxFQUFNLEdBQWEsRUFBSyxJQUFJLEdBQzFCLGFBQVksZ0JBQWlCLEVBQUssU0FBUyxlQUNqRCxJQUFLLElBQVEsRUFBTyxRQUFVLEVBQU8sUUFBVSxFQUFJLE9BQy9DLE9BQ0osSUFBSSxFQUFPLEdBQVMsS0FBSyxLQUFNLEVBQU8sSUFBSSxFQUMxQyxJQUFLLEVBQ0QsT0FDSixJQUFJLEVBQVksRUFBSyxXQUNyQixHQUFJLEVBQU8sTUFBUSxHQUFhLEVBQU8sTUFBUSxFQUFZLEVBQUssT0FDNUQsT0FDSixJQUFJLEVBQVMsS0FBSyxTQUFTLEVBQU8sS0FBTSxFQUFFLEVBQUcsRUFBUSxLQUFLLFNBQVMsRUFBTyxLQUFNLENBQUMsRUFDakYsSUFBSyxJQUFXLEdBQVMsRUFBTyxPQUFTLEVBQU0sSUFDM0MsT0FDSixJQUFJLEVBQU0sS0FBSyxTQUFTLEVBQU8sS0FBTyxFQUFPLEtBQUssRUFDbEQsRUFBSSxTQUFTLEVBQUksS0FBTSxFQUFJLE1BQU0sRUFDakMsRUFBSSxPQUFPLE9BQVEsRUFBTyxNQUFRLEVBQUksVUFBWSxXQUFZLGNBQWMsRUFHNUUsRUFBSyxTQUFTLG1CQUFtQixFQUNqQyxJQUFJLEVBQVcsRUFBSyxTQUFTLGVBQzdCLEdBQUksRUFBSyxRQUFRLFdBQVcsRUFBUyxXQUFZLEVBQVMsWUFBWSxHQUFLLEVBQU8sS0FDOUUsRUFBSSxTQUFTLEVBQVksQ0FBWSxFQUk3QyxVQUFVLENBQUMsRUFBSyxDQUdaLElBQUksRUFBTSxLQUFLLElBQUssRUFDcEIsR0FBSSxFQUFJLE1BQVEsRUFDWixPQUFPLEVBQ1gsUUFBUyxFQUFJLEVBQUksUUFBUyxHQUFVLEVBQUksRUFBSSxXQUFXLE9BQVEsSUFBSyxDQUNoRSxJQUFJLEVBQU8sRUFBWSxJQUFJLEVBQUksV0FBVyxFQUFFLEVBQzVDLEdBQUksYUFBZ0IsR0FDaEIsRUFBUyxFQUFLLFNBQVMsQ0FBQyxFQUVoQyxRQUFTLEVBQUksRUFBSSxPQUFTLEdBQUksR0FBVSxHQUFLLEVBQUcsSUFBSyxDQUNqRCxJQUFJLEVBQU8sRUFBWSxJQUFJLEVBQUksV0FBVyxFQUFFLEVBQzVDLEdBQUksYUFBZ0IsR0FDaEIsRUFBUyxFQUFLLFNBQVMsRUFBSyxNQUFNLEVBRTFDLE9BQU8sRUFBUyxJQUFJLEdBQU8sRUFBTyxLQUFNLEVBQU8sT0FBUSxFQUFJLEVBQUksRUFFbkUsT0FBTyxDQUFDLEVBQUssQ0FDVCxRQUFTLEVBQU0sRUFBSyxHQUFNLENBQ3RCLElBQUksRUFBVSxFQUFZLElBQUksQ0FBRyxFQUNqQyxHQUFJLEdBQVcsRUFBUSxVQUFZLEtBQy9CLE9BQU8sRUFDWCxFQUFNLEVBQUksV0FFZCxPQUFPLEtBRVgsVUFBVSxDQUFDLEVBQU0sRUFBUSxDQUNyQixJQUFJLEVBQU8sS0FBSyxRQUFRLENBQUksRUFDNUIsSUFBSyxFQUNELE1BQU0sSUFBSSxXQUFXLG9FQUFvRSxFQUM3RixPQUFPLEVBQUssZ0JBQWdCLEVBQU0sQ0FBTSxFQUFJLEVBQUssV0FFckQsUUFBUSxDQUFDLEVBQUssQ0FDVixJQUFNLElBQUcsT0FBUSxLQUFLLFlBQVksRUFBRSxRQUFRLEVBQUssRUFBRSxFQUNuRCxLQUFPLEVBQUksS0FBSyxTQUFTLE9BQVMsR0FBSSxDQUNsQyxJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQzFCLEdBQUksRUFBTSxFQUFNLFFBQVUsYUFBaUIsR0FDdkMsTUFDSixJQUNBLEVBQU0sRUFFVixPQUFPLEtBQUssU0FBUyxHQUFHLFNBQVMsQ0FBRyxFQUV4QyxRQUFRLENBQUMsRUFBSyxFQUFNLENBQ2hCLElBQUksRUFBTyxLQUFNLEVBQVUsRUFDM0IsUUFBUyxFQUFNLEtBQUssT0FBUSxFQUFJLEtBQUssU0FBUyxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssQ0FDbkUsSUFBSSxFQUFRLEtBQUssU0FBUyxHQUFJLEVBQU0sRUFBTSxFQUFNLFdBQVksRUFBUSxFQUFNLEVBQU0sT0FDaEYsR0FBSSxFQUFNLEVBQ04sTUFDSixHQUFJLEdBQVMsSUFBUSxFQUFRLEdBQU8sRUFBTSxPQUFPLEVBQUUsS0FBTyxFQUFNLEdBQU8sRUFBTSxPQUFPLENBQUMsTUFDL0UsR0FBUSxhQUFpQixNQUFjLGFBQWdCLElBQVksR0FBUSxJQUM3RSxFQUFPLEVBQ1AsRUFBVSxVQUVMLEdBQVEsR0FBUyxHQUFPLEdBQU8sR0FBTyxhQUFpQixJQUFtQixLQUFLLElBQUksQ0FBSSxFQUFJLEdBQ2hHLEdBQUksRUFBTSxLQUFLLFVBQVksRUFDdkIsY0FDSyxFQUNMLEVBQU8sS0FFZixFQUFNLEVBRVYsT0FBTyxFQUFPLEVBQUssU0FBUyxFQUFNLEVBQVMsQ0FBSSxFQUFJLEtBRXZELGFBQWEsQ0FBQyxFQUFLLENBQ2YsSUFBTSxJQUFHLE9BQVEsS0FBSyxTQUFTLEVBQUssQ0FBQyxFQUFHLEVBQVEsS0FBSyxTQUFTLEdBQzlELEtBQU0sYUFBaUIsSUFDbkIsT0FBTyxLQUNYLE1BQU8sRUFBTSxTQUFTLE9BQVEsQ0FDMUIsSUFBTSxJQUFHLElBQUssR0FBYSxFQUFNLFNBQVMsRUFBSyxDQUFDLEVBQ2hELE1BQVEsSUFBSyxDQUNULEdBQUksR0FBSyxFQUFNLFNBQVMsT0FDcEIsT0FBTyxLQUNYLElBQUssRUFBUSxFQUFNLFNBQVMsSUFBSSxPQUM1QixNQUVSLEVBQU0sRUFFVixLQUFNLGFBQWlCLElBQ25CLE9BQU8sS0FDWCxJQUFJLEVBQU0sR0FBaUIsRUFBTSxLQUFNLENBQUcsRUFDMUMsR0FBSSxHQUFPLEVBQ1AsT0FBTyxLQUNYLElBQUksRUFBUSxHQUFVLEVBQU0sSUFBSyxFQUFLLENBQUcsRUFBRSxlQUFlLEVBQzFELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FDbkMsSUFBSSxFQUFPLEVBQU0sR0FDakIsR0FBSSxHQUFLLEVBQU0sT0FBUyxHQUFLLEVBQUssSUFBTSxFQUFLLFFBQVUsRUFBSyxLQUFPLEVBQUssTUFDcEUsT0FBTyxFQUVmLE9BQU8sS0FFWCx5QkFBeUIsQ0FBQyxFQUFVLENBQ2hDLElBQUksRUFBUyxDQUFDLEdBQUssT0FBTSxNQUFPLEVBQzVCLEVBQWUsS0FBSyxLQUFLLFdBQVcsWUFDcEMsRUFBVSxFQUFlLEtBQUssSUFBSSxLQUFLLEtBQUssVUFBVSxZQUFhLEtBQUssUUFBUSxFQUFJLEVBQ3BGLEVBQVMsR0FBSSxFQUFNLEtBQUssS0FBSyxlQUFpQixFQUFVLElBQzVELFFBQVMsRUFBTSxFQUFHLEVBQUksRUFBRyxFQUFJLEtBQUssU0FBUyxPQUFRLElBQUssQ0FDcEQsSUFBSSxFQUFRLEtBQUssU0FBUyxHQUFJLEVBQU0sRUFBTSxFQUFNLE9BQ2hELEdBQUksRUFBTSxFQUNOLE1BQ0osR0FBSSxHQUFPLEVBQU0sQ0FDYixJQUFJLEVBQVksRUFBTSxJQUFJLHNCQUFzQixFQUVoRCxHQURBLEVBQU8sS0FBSyxFQUFVLE1BQU0sRUFDeEIsRUFBUyxDQUNULElBQUksRUFBTyxFQUFNLElBQUksVUFDakIsRUFBUSxFQUFPLEdBQWUsQ0FBSSxFQUFJLENBQUMsRUFDM0MsR0FBSSxFQUFNLE9BQVEsQ0FDZCxJQUFJLEVBQU8sRUFBTSxFQUFNLE9BQVMsR0FDNUIsRUFBUSxFQUFNLEVBQUssTUFBUSxFQUFVLEtBQU8sRUFBVSxNQUFRLEVBQUssS0FDdkUsR0FBSSxFQUFRLEVBQ1IsRUFBUyxFQUNULEtBQUssU0FBVyxFQUNoQixLQUFLLGFBQWUsRUFDcEIsS0FBSyxXQUFhLElBS2xDLEVBQU0sRUFBTSxFQUFNLFdBRXRCLE9BQU8sRUFFWCxlQUFlLENBQUMsRUFBSyxDQUNqQixJQUFNLEtBQU0sS0FBSyxTQUFTLEVBQUssQ0FBQyxFQUNoQyxPQUFPLGlCQUFpQixLQUFLLFNBQVMsR0FBRyxHQUFHLEVBQUUsV0FBYSxNQUFRLEVBQVUsSUFBTSxFQUFVLElBRWpHLGVBQWUsRUFBRyxDQUNkLFFBQVMsS0FBUyxLQUFLLFNBQ25CLEdBQUksYUFBaUIsR0FBVSxDQUMzQixJQUFJLEVBQVUsRUFBTSxnQkFBZ0IsRUFDcEMsR0FBSSxFQUNBLE9BQU8sRUFJbkIsSUFBSSxFQUFRLFNBQVMsY0FBYyxLQUFLLEVBQUcsRUFBWSxFQUFXLEVBYWxFLE9BWkEsRUFBTSxVQUFZLFVBQ2xCLEVBQU0sTUFBTSxNQUFRLFVBQ3BCLEVBQU0sTUFBTSxTQUFXLFdBQ3ZCLEVBQU0sWUFBYyw4QkFDcEIsS0FBSyxLQUFLLFNBQVMsT0FBTyxJQUFNLENBQzVCLEtBQUssSUFBSSxZQUFZLENBQUssRUFDMUIsSUFBSSxFQUFPLEdBQWUsRUFBTSxVQUFVLEVBQUUsR0FDNUMsRUFBYSxFQUFNLHNCQUFzQixFQUFFLE9BQzNDLEVBQVksRUFBTyxFQUFLLE1BQVEsR0FBSyxFQUNyQyxFQUFhLEVBQU8sRUFBSyxPQUFTLEVBQ2xDLEVBQU0sT0FBTyxFQUNoQixFQUNNLENBQUUsYUFBWSxZQUFXLFlBQVcsRUFFL0MsV0FBVyxDQUFDLEVBQU0sS0FBSyxPQUFRLENBSTNCLElBQUksRUFBSSxLQUFLLFNBQVMsT0FDdEIsR0FBSSxFQUNBLEdBQU8sS0FBSyxTQUFTLEVBQUUsR0FBRyxPQUM5QixPQUFPLElBQUksR0FBWSxLQUFLLFNBQVUsRUFBSyxDQUFDLEVBRWhELG1CQUFtQixFQUFHLENBQ2xCLElBQUksRUFBTyxDQUFDLEVBQUcsRUFBSyxLQUFLLEtBQUssVUFDOUIsUUFBUyxFQUFNLEVBQUcsRUFBSSxHQUFJLElBQUssQ0FDM0IsSUFBSSxFQUFPLEdBQUssRUFBRyxVQUFVLE9BQVMsS0FBTyxFQUFHLFVBQVUsR0FDdEQsRUFBTSxFQUFPLEVBQUssS0FBTyxFQUFJLEtBQUssT0FDdEMsR0FBSSxFQUFNLEVBQUssQ0FDWCxJQUFJLEdBQVUsRUFBRyxZQUFZLENBQUcsRUFBRSxPQUFTLEVBQUcsWUFBWSxDQUFHLEVBQUUsS0FBTyxLQUFLLEtBQUssT0FDaEYsRUFBSyxLQUFLLEVBQVcsUUFBUSxDQUN6QixPQUFRLElBQUksR0FBZSxDQUFNLEVBQ2pDLE1BQU8sR0FDUCxVQUFXLEdBQ1gsV0FBWSxFQUNoQixDQUFDLEVBQUUsTUFBTSxFQUFLLENBQUcsQ0FBQyxFQUV0QixJQUFLLEVBQ0QsTUFDSixFQUFNLEVBQUssR0FBSyxFQUVwQixPQUFPLEVBQVcsSUFBSSxDQUFJLEVBRTlCLFVBQVUsRUFBRyxDQUNULElBQUksRUFBSSxFQUNKLEVBQVUsS0FBSyxLQUFLLE1BQU0sTUFBTSxFQUFXLEVBQUUsSUFBSSxLQUFLLENBRXRELE9BRGMsS0FBSyxxQkFBcUIsWUFBYyxHQUFLLFlBQzFDLEVBQUUsS0FBSyxJQUFJLEVBQUksRUFDbkMsRUFDRyxFQUFlLEdBQU8sRUFBWSxLQUFLLEtBQUssTUFBTSxNQUFNLEVBQWdCLEVBQUUsSUFBSSxDQUFDLEVBQUcsSUFBTSxDQUN4RixJQUFJLFNBQWlCLEdBQUssV0FDMUIsR0FBSSxFQUNBLEVBQWUsR0FDbkIsT0FBTyxFQUFVLEVBQUUsS0FBSyxJQUFJLEVBQUksRUFDbkMsRUFDRCxHQUFJLEVBQVUsT0FDVixLQUFLLHFCQUFxQixLQUFPLEVBQ2pDLEVBQVEsS0FBSyxFQUFTLEtBQUssQ0FBUyxDQUFDLEVBRXpDLEtBQUssWUFBYyxDQUNmLEtBQUssc0JBQ0wsR0FBRyxFQUNILEtBQUssb0JBQW9CLEVBQ3pCLEtBQUssS0FBSyxVQUFVLFdBQ3hCLEVBQ0EsTUFBTyxFQUFJLEtBQUssWUFBWSxPQUN4QixLQUFLLHFCQUFxQixLQUFPLEdBQ3JDLE9BQU8sS0FBSyxZQUVoQixjQUFjLENBQUMsRUFBUSxDQUNuQixHQUFJLEVBQU8sV0FBWSxDQUNuQixJQUFJLEVBQU0sS0FBSyxLQUFLLFVBQVUsWUFBWSxFQUFPLE1BQU0sSUFBSSxFQUMzRCxLQUFLLEtBQUssVUFBVSxVQUFZLEVBQUksSUFBTSxFQUFPLFFBQ2pELEtBQUssS0FBSyxVQUFVLFdBQWEsRUFBTyxRQUN4QyxPQUVKLFFBQVMsS0FBVyxLQUFLLEtBQUssTUFBTSxNQUFNLEVBQWEsRUFDbkQsR0FBSSxDQUNBLEdBQUksRUFBUSxLQUFLLEtBQU0sRUFBTyxNQUFPLENBQU0sRUFDdkMsTUFBTyxTQUVSLEVBQVAsQ0FDSSxHQUFhLEtBQUssS0FBSyxNQUFPLEVBQUcsZ0JBQWdCLEVBR3pELElBQU0sU0FBVSxFQUNaLEVBQU8sS0FBSyxTQUFTLEVBQU0sS0FBTSxFQUFNLE1BQVEsRUFBTSxNQUFRLEVBQU0sS0FBTyxFQUFNLE9BQVMsR0FBSyxDQUFDLEVBQUcsRUFDdEcsSUFBSyxFQUNELE9BQ0osSUFBSyxFQUFNLFFBQVUsRUFBUSxLQUFLLFNBQVMsRUFBTSxPQUFRLEVBQU0sT0FBUyxFQUFNLEtBQU8sR0FBSyxDQUFDLEdBQ3ZGLEVBQU8sQ0FBRSxLQUFNLEtBQUssSUFBSSxFQUFLLEtBQU0sRUFBTSxJQUFJLEVBQUcsSUFBSyxLQUFLLElBQUksRUFBSyxJQUFLLEVBQU0sR0FBRyxFQUM3RSxNQUFPLEtBQUssSUFBSSxFQUFLLE1BQU8sRUFBTSxLQUFLLEVBQUcsT0FBUSxLQUFLLElBQUksRUFBSyxPQUFRLEVBQU0sTUFBTSxDQUFFLEVBQzlGLElBQUksRUFBVSxHQUFpQixLQUFLLElBQUksRUFDcEMsRUFBYSxDQUNiLEtBQU0sRUFBSyxLQUFPLEVBQVEsS0FBTSxJQUFLLEVBQUssSUFBTSxFQUFRLElBQ3hELE1BQU8sRUFBSyxNQUFRLEVBQVEsTUFBTyxPQUFRLEVBQUssT0FBUyxFQUFRLE1BQ3JFLEdBQ00sY0FBYSxnQkFBaUIsS0FBSyxLQUFLLFVBQzlDLEdBQW1CLEtBQUssS0FBSyxVQUFXLEVBQVksRUFBTSxLQUFPLEVBQU0sT0FBUyxHQUFLLEVBQUcsRUFBTyxFQUFHLEVBQU8sRUFBRyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQU8sUUFBUyxDQUFXLEdBQUksQ0FBVyxFQUFHLEtBQUssSUFBSSxLQUFLLElBQUksRUFBTyxRQUFTLENBQVksR0FBSSxDQUFZLEVBQUcsS0FBSyxLQUFLLGVBQWlCLEVBQVUsR0FBRyxFQUU1UixDQWlFQSxJQUFJLEdBQXlCLE1BQU0sQ0FBcUIsQ0FDcEQsV0FBVyxFQUFHLENBQ1YsS0FBSyxRQUFVLENBQUMsRUFFcEIsWUFBWSxDQUFDLEVBQU0sRUFBSSxDQUFFLEdBQVMsRUFBTSxFQUFJLEtBQUssT0FBTyxFQUN4RCxZQUFZLENBQUMsRUFBTSxFQUFJLENBQUUsR0FBUyxFQUFNLEVBQUksS0FBSyxPQUFPLEVBQzVELEVBd1lNLEdBQXVCLFNBQzdCLE1BQU0sRUFBVSxDQUNaLFdBQVcsQ0FBQyxFQUFRLEVBQU8sQ0FDdkIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxLQUFPLEdBQ1osS0FBSyxjQUFnQixFQUFNLE1BQU0sRUFBWSxhQUFhLEVBRTlELE1BQU0sQ0FBQyxFQUFNLENBQ1QsS0FBSyxNQUFRLEVBRWpCLFNBQVMsRUFBRyxDQUNSLEtBQUssTUFBUSxHQUVqQixTQUFTLENBQUMsRUFBTyxFQUFLLENBQ2xCLElBQUssRUFDRCxPQUFPLEtBQ1gsSUFBSSxFQUFTLEVBQU0sV0FDbkIsUUFBUyxFQUFNLElBQVMsQ0FDcEIsS0FBSyxnQkFBZ0IsRUFBUSxDQUFHLEVBQ2hDLElBQUksRUFBUyxLQUFLLEtBQUssT0FDdkIsS0FBSyxTQUFTLENBQUcsRUFDakIsSUFBSSxFQUFPLEVBQUksWUFDZixHQUFJLEdBQVEsRUFDUixNQUNKLElBQUksRUFBTyxFQUFZLElBQUksQ0FBRyxFQUFHLEVBQVcsRUFBWSxJQUFJLENBQUksRUFDaEUsR0FBSSxHQUFRLEVBQVcsRUFBSyxZQUN2QixFQUFPLEVBQUssV0FBYSxHQUFlLENBQUcsSUFDdkMsR0FBZSxDQUFJLElBQU0sRUFBSSxVQUFZLE1BQVEsRUFBSSxXQUFhLEtBQUssS0FBSyxPQUFTLEVBQzFGLEtBQUssVUFBVSxFQUNuQixFQUFNLEVBR1YsT0FEQSxLQUFLLGdCQUFnQixFQUFRLENBQUcsRUFDekIsS0FFWCxZQUFZLENBQUMsRUFBTSxDQUNmLElBQUksRUFBTyxFQUFLLFVBQ2hCLFFBQVMsS0FBUyxLQUFLLE9BQ25CLEdBQUksRUFBTSxNQUFRLEVBQ2QsRUFBTSxJQUFNLEtBQUssS0FBSyxPQUFTLEtBQUssSUFBSSxFQUFNLE9BQVEsRUFBSyxNQUFNLEVBQ3pFLFFBQVMsRUFBTSxFQUFHLEVBQUssS0FBSyxjQUFnQixLQUFPLGNBQWUsQ0FDOUQsSUFBSSxFQUFZLEdBQUksRUFBWSxFQUFHLEVBQ25DLEdBQUksS0FBSyxjQUNMLEVBQVksRUFBSyxRQUFRLEtBQUssY0FBZSxDQUFHLEVBQ2hELEVBQVksS0FBSyxjQUFjLGVBRTFCLEVBQUksRUFBRyxLQUFLLENBQUksRUFDckIsRUFBWSxFQUFFLE1BQ2QsRUFBWSxFQUFFLEdBQUcsT0FHckIsR0FEQSxLQUFLLE9BQU8sRUFBSyxNQUFNLEVBQUssRUFBWSxFQUFJLEVBQUssT0FBUyxDQUFTLENBQUMsRUFDaEUsRUFBWSxFQUNaLE1BRUosR0FEQSxLQUFLLFVBQVUsRUFDWCxFQUFZLEdBQ1osUUFBUyxLQUFTLEtBQUssT0FDbkIsR0FBSSxFQUFNLE1BQVEsR0FBUSxFQUFNLElBQU0sS0FBSyxLQUFLLE9BQzVDLEVBQU0sS0FBTyxFQUFZLEVBQ3JDLEVBQU0sRUFBWSxHQUcxQixRQUFRLENBQUMsRUFBTSxDQUNYLEdBQUksRUFBSyxTQUNMLE9BQ0osSUFBSSxFQUFPLEVBQVksSUFBSSxDQUFJLEVBQzNCLEVBQVcsR0FBUSxFQUFLLGdCQUM1QixHQUFJLEdBQVksS0FBTSxDQUNsQixLQUFLLGdCQUFnQixFQUFNLEVBQVMsTUFBTSxFQUMxQyxRQUFTLEVBQUksRUFBUyxLQUFLLEdBQUksRUFBRSxLQUFLLEVBQUUsTUFDcEMsR0FBSSxFQUFFLFVBQ0YsS0FBSyxVQUFVLE1BRWYsTUFBSyxPQUFPLEVBQUUsS0FBSyxVQUd0QixFQUFLLFVBQVksRUFDdEIsS0FBSyxhQUFhLENBQUksVUFFakIsRUFBSyxVQUFZLE1BQ3RCLEdBQUksRUFBSyxZQUNMLEtBQUssVUFBVSxVQUVkLEVBQUssVUFBWSxFQUN0QixLQUFLLFVBQVUsRUFBSyxXQUFZLElBQUksRUFHNUMsZUFBZSxDQUFDLEVBQU0sRUFBTSxDQUN4QixRQUFTLEtBQVMsS0FBSyxPQUNuQixHQUFJLEVBQU0sTUFBUSxHQUFRLEVBQUssV0FBVyxFQUFNLFNBQVcsRUFDdkQsRUFBTSxJQUFNLEtBQUssS0FBSyxPQUVsQyxlQUFlLENBQUMsRUFBTSxFQUFRLENBQzFCLFFBQVMsS0FBUyxLQUFLLE9BQ25CLEdBQUksRUFBSyxVQUFZLEVBQUksRUFBTSxNQUFRLEVBQU8sRUFBSyxTQUFTLEVBQU0sSUFBSSxFQUNsRSxFQUFNLElBQU0sS0FBSyxLQUFLLFFBQVUsR0FBUSxFQUFNLEVBQU0sS0FBTSxFQUFNLE1BQU0sRUFBSSxFQUFTLEdBRW5HLENBV0EsTUFBTSxFQUFTLENBQ1gsV0FBVyxDQUFDLEVBQU0sRUFBUSxDQUN0QixLQUFLLEtBQU8sRUFDWixLQUFLLE9BQVMsRUFDZCxLQUFLLElBQU0sR0FFbkIsQ0FFQSxNQUFNLEVBQVUsQ0FDWixXQUFXLENBQUMsRUFBTSxFQUFPLEVBQUssRUFBVSxDQUNwQyxLQUFLLFNBQVcsRUFDaEIsS0FBSyxPQUFTLEtBQ2QsS0FBSyxLQUFPLEdBQ1osS0FBSyxXQUFhLEVBQVEsR0FDMUIsSUFBTSxjQUFlLEVBQU8sZ0JBQWlCLEdBQVksRUFBSyxRQUM5RCxHQUFJLEVBQUssTUFBTSxVQUFZLEVBQVEsR0FFL0IsS0FBSyxPQUFTLGFBRVQsRUFBUSxLQUFPLEtBQUssT0FBUyxFQUFLLFFBQVEsZ0JBQWdCLEVBQU8sRUFBSyxDQUFDLEdBQUksQ0FDaEYsSUFBSSxFQUFZLEdBQVMsRUFBVSxDQUFDLEVBQUksR0FBZ0IsQ0FBSSxFQUN4RCxFQUFTLElBQUksR0FBVSxFQUFXLEVBQUssS0FBSyxFQUNoRCxFQUFPLFVBQVUsS0FBSyxPQUFPLFNBQVUsS0FBSyxPQUFPLE1BQU0sRUFDekQsS0FBSyxLQUFPLEVBQU8sS0FDbkIsS0FBSyxPQUFTLEdBQW9CLEVBQVcsS0FBSyxPQUFPLElBQUksTUFFNUQsQ0FDRCxJQUFJLEVBQVMsRUFBSyxTQUFTLGVBQ3ZCLEVBQU8sR0FBUyxFQUFNLE1BQVEsRUFBTyxXQUFhLEVBQU0sUUFBVSxFQUFPLGNBQ3hFLEdBQVMsRUFBSyxXQUFZLEVBQU8sU0FBUyxFQUN6QyxFQUFLLE1BQU0sVUFBVSxLQUFLLEtBQzFCLEVBQUssUUFBUSxXQUFXLEVBQU8sVUFBVyxFQUFPLFdBQVcsRUFDOUQsRUFBUyxHQUFXLEVBQVEsTUFBUSxFQUFPLFlBQWMsRUFBUSxRQUFVLEVBQU8sZUFDakYsR0FBUyxFQUFLLFdBQVksRUFBTyxVQUFVLEVBQzFDLEVBQUssTUFBTSxVQUFVLEtBQUssT0FDMUIsRUFBSyxRQUFRLFdBQVcsRUFBTyxXQUFZLEVBQU8sWUFBWSxFQUtoRSxFQUFLLEVBQUssU0FDZCxJQUFLLEVBQVEsS0FBTyxFQUFRLFNBQVcsRUFBSyxNQUFNLFVBQVUsS0FBSyxPQUFTLEdBQVEsSUFDN0UsRUFBRyxLQUFPLEdBQUssRUFBRyxHQUFLLEVBQUssTUFBTSxJQUFJLFFBQVMsQ0FDaEQsSUFBSSxFQUFPLEtBQUssSUFBSSxFQUFNLENBQU0sRUFBRyxFQUFLLEtBQUssSUFBSSxFQUFNLENBQU0sRUFDekQsRUFBVSxFQUFHLEtBQU8sRUFBTSxFQUFRLEVBQUcsR0FBSyxFQUM5QyxJQUFLLEdBQVcsR0FBSyxHQUFXLEdBQUssR0FBUSxLQUFPLEdBQVMsR0FBSyxHQUFTLElBQU0sR0FBTSxFQUFLLE1BQU0sSUFBSSxRQUNsRyxFQUFPLEVBQ1AsRUFBUyxFQUFLLE1BQU0sSUFBSSxPQUdoQyxLQUFLLE9BQVMsRUFBZ0IsT0FBTyxFQUFRLENBQUksR0FHN0QsQ0FnT0EsTUFBTSxFQUFXLENBQ2Isa0JBQWtCLENBQUMsRUFBUSxDQUN2QixLQUFLLG9CQUFzQixFQUMzQixLQUFLLGtCQUFvQixLQUFLLElBQUksRUFFdEMsV0FBVyxDQUFDLEVBQU0sQ0FvRGQsR0FuREEsS0FBSyxLQUFPLEVBQ1osS0FBSyxZQUFjLEVBQ25CLEtBQUssWUFBYyxFQUNuQixLQUFLLGNBQWdCLEVBQ3JCLEtBQUssY0FBZ0IsRUFDckIsS0FBSyxjQUFnQixFQUNyQixLQUFLLGVBQWlCLEVBSXRCLEtBQUssY0FBZ0IsT0FRckIsS0FBSyxhQUFlLEdBQ3BCLEtBQUssb0JBQXNCLEtBQzNCLEtBQUssa0JBQW9CLEVBQ3pCLEtBQUssZ0JBQWtCLEVBQ3ZCLEtBQUssZUFBaUIsQ0FBQyxFQUN2QixLQUFLLFNBQVcsT0FBTyxPQUFPLElBQUksRUFLbEMsS0FBSyxVQUFZLEdBS2pCLEtBQUssdUJBQXlCLEtBRTlCLEtBQUssbUJBQXFCLEVBSTFCLEtBQUssc0JBQXdCLEdBRzdCLEtBQUsseUJBQTJCLEdBQ2hDLEtBQUssZUFBaUIsS0FHdEIsS0FBSyxlQUFpQixLQUN0QixLQUFLLFlBQWMsS0FBSyxZQUFZLEtBQUssSUFBSSxFQUM3QyxLQUFLLGdCQUFrQixFQUFLLFNBR3hCLEVBQVEsT0FDUixFQUFLLFdBQVcsaUJBQWlCLFFBQVMsSUFBTSxJQUFJLEVBQ3hELEdBQUksRUFBUSxNQUNSLEdBQW1CLEVBQUssV0FBVyxhQUFhLEVBRXhELFdBQVcsQ0FBQyxFQUFPLENBQ2YsSUFBSyxHQUFxQixLQUFLLEtBQU0sQ0FBSyxHQUFLLEtBQUssd0JBQXdCLENBQUssRUFDN0UsT0FDSixHQUFJLEVBQU0sTUFBUSxXQUFhLEtBQUssUUFBUSxDQUFLLEVBQzdDLE9BQ0osS0FBSyxZQUFZLEVBQU0sS0FBTSxDQUFLLEVBRXRDLFdBQVcsQ0FBQyxFQUFNLEVBQU8sQ0FDckIsSUFBSSxFQUFXLEtBQUssU0FBUyxHQUM3QixHQUFJLEVBQVUsQ0FDVixRQUFTLEtBQVksRUFBUyxVQUMxQixFQUFTLEtBQUssS0FBTSxDQUFLLEVBQzdCLFFBQVMsS0FBVyxFQUFTLFNBQVUsQ0FDbkMsR0FBSSxFQUFNLGlCQUNOLE1BQ0osR0FBSSxFQUFRLEtBQUssS0FBTSxDQUFLLEVBQUcsQ0FDM0IsRUFBTSxlQUFlLEVBQ3JCLFNBS2hCLGNBQWMsQ0FBQyxFQUFTLENBQ3BCLElBQUksRUFBVyxHQUFnQixDQUFPLEVBQUcsRUFBTyxLQUFLLFNBQVUsRUFBTSxLQUFLLEtBQUssV0FDL0UsUUFBUyxLQUFRLEVBQ2IsR0FBSSxHQUFRLFNBQVUsQ0FDbEIsSUFBSSxHQUFXLEVBQVMsR0FBTSxTQUFTLE9BQ25DLEVBQVMsRUFBSyxHQUNsQixHQUFJLEdBQVUsSUFBWSxFQUFPLFNBQVMsT0FDdEMsRUFBSSxvQkFBb0IsRUFBTSxLQUFLLFdBQVcsRUFDOUMsRUFBUyxLQUViLElBQUssRUFDRCxFQUFJLGlCQUFpQixFQUFNLEtBQUssWUFBYSxDQUFFLFNBQVEsQ0FBQyxFQUVwRSxRQUFTLEtBQVEsRUFDYixHQUFJLEdBQVEsV0FBYSxFQUFTLEdBQzlCLEVBQUksb0JBQW9CLEVBQU0sS0FBSyxXQUFXLEVBQ3RELEtBQUssU0FBVyxFQUVwQixPQUFPLENBQUMsRUFBTyxDQUlYLEdBRkEsS0FBSyxZQUFjLEVBQU0sUUFDekIsS0FBSyxZQUFjLEtBQUssSUFBSSxFQUN4QixFQUFNLFNBQVcsR0FBSyxLQUFLLGFBQWUsTUFBUSxLQUFLLGNBQWdCLEtBQUssSUFBSSxHQUFLLEtBQUssY0FDMUYsTUFBTyxHQUNYLEdBQUksS0FBSyxhQUFlLEdBQUssRUFBTSxTQUFXLElBQU0sR0FBYyxRQUFRLEVBQU0sT0FBTyxFQUFJLEVBQ3ZGLEtBQUssYUFBZSxHQU14QixHQUFJLEVBQVEsU0FBVyxFQUFRLFNBQVcsRUFBTSxZQUMzQyxFQUFNLFNBQVcsSUFBTSxFQUFNLFNBQVcsR0FFekMsT0FEQSxLQUFLLEtBQUssU0FBUyxnQkFBZ0IsRUFBTSxJQUFLLEVBQU0sT0FBTyxFQUNwRCxHQU9YLElBQUksRUFDSixHQUFJLEVBQVEsTUFBUSxFQUFNLFlBQWMsRUFBTSxTQUFXLEVBQU0sV0FDekQsRUFBVSxHQUFZLEtBQUssS0FBTyxFQUFJLFNBQVcsRUFBTSxPQUFPLEtBQU8sRUFBTSxTQUN6RSxHQUFrQixRQUFRLEVBQU0sR0FBRyxFQUFJLElBQU0sRUFBTSxVQUFZLEVBQU0sVUFHekUsT0FGQSxLQUFLLGNBQWdCLEdBQVcsRUFDaEMsV0FBVyxJQUFNLEtBQUssWUFBWSxFQUFHLEdBQUcsRUFDakMsR0FFWCxHQUFJLEVBQU0sU0FBVyxJQUNqQixLQUFLLEtBQUssU0FBUyxXQUFXLEVBQ2xDLE1BQU8sR0FFWCxXQUFXLENBQUMsRUFBUSxDQUNoQixJQUFJLEVBQU0sS0FBSyxjQUNmLElBQUssRUFDRCxNQUFPLEdBRVgsR0FBSSxFQUFJLEtBQU8sU0FBVyxHQUFVLEVBQU8sS0FBTyxFQUFPLElBQU0sUUFBUSxLQUFLLEVBQU8sT0FBTyxTQUFTLENBQUMsRUFDaEcsTUFBTyxHQUVYLE9BREEsS0FBSyxjQUFnQixPQUNkLEdBQVksS0FBSyxLQUFLLFdBQVksRUFBSSxJQUFLLEVBQUksUUFBUyxhQUFlLGNBQWdCLEVBQU0sTUFBUyxFQUVqSCx1QkFBdUIsQ0FBQyxFQUFPLENBQzNCLElBQUssT0FBTyxLQUFLLEVBQU0sSUFBSSxFQUN2QixNQUFPLEdBQ1gsR0FBSSxLQUFLLFVBQVksRUFDakIsTUFBTyxHQU9YLEdBQUksRUFBUSxTQUFXLEVBQVEsS0FBTyxLQUFLLHVCQUF5QixLQUFLLElBQUksRUFBSSxLQUFLLG1CQUFxQixJQUV2RyxPQURBLEtBQUssc0JBQXdCLEdBQ3RCLEdBRVgsTUFBTyxHQUVYLG1CQUFtQixDQUFDLEVBQWdCLENBQ2hDLEdBQUksS0FBSyxlQUNMLEtBQUssZUFBZSxRQUFRLEVBQ2hDLEtBQUssZUFBaUIsRUFFMUIsTUFBTSxDQUFDLEVBQVEsQ0FFWCxHQURBLEtBQUssS0FBSyxTQUFTLE9BQU8sQ0FBTSxFQUM1QixLQUFLLGVBQ0wsS0FBSyxlQUFlLE9BQU8sQ0FBTSxFQUNyQyxHQUFJLEtBQUssZ0JBQWtCLEVBQU8sV0FDOUIsS0FBSyxlQUFpQixLQUFLLGVBQWUsSUFBSSxFQUFPLE9BQU8sRUFDaEUsR0FBSSxFQUFPLGFBQWEsT0FDcEIsS0FBSyxZQUFjLEtBQUssa0JBQW9CLEVBRXBELE9BQU8sRUFBRyxDQUNOLEdBQUksS0FBSyxlQUNMLEtBQUssZUFBZSxRQUFRLEVBRXhDLENBcUNBLElBQU0sR0FBYyxDQUNoQixDQUFFLElBQUssWUFBYSxRQUFTLEVBQUcsVUFBVyx1QkFBd0IsRUFDbkUsQ0FBRSxJQUFLLFFBQVMsUUFBUyxHQUFJLFVBQVcsaUJBQWtCLEVBQzFELENBQUUsSUFBSyxRQUFTLFFBQVMsR0FBSSxVQUFXLGlCQUFrQixFQUMxRCxDQUFFLElBQUssU0FBVSxRQUFTLEdBQUksVUFBVyxzQkFBdUIsQ0FDcEUsRUFDTSxHQUFvQixRQUVwQixHQUFnQixDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBRyxFQUNqRCxHQUFtQixFQU96QixNQUFNLEVBQWUsQ0FDakIsV0FBVyxDQUFDLEVBQU0sRUFBWSxFQUFPLEVBQVksQ0FDN0MsS0FBSyxLQUFPLEVBQ1osS0FBSyxXQUFhLEVBQ2xCLEtBQUssTUFBUSxFQUNiLEtBQUssV0FBYSxFQUNsQixLQUFLLFlBQWMsQ0FBRSxFQUFHLEVBQUcsRUFBRyxDQUFFLEVBQ2hDLEtBQUssVUFBWSxHQUNqQixLQUFLLFVBQVksRUFDakIsS0FBSyxjQUFnQixHQUFrQixFQUFLLFVBQVUsRUFDdEQsS0FBSyxNQUFRLEVBQUssTUFBTSxNQUFNLEVBQVksRUFBRSxJQUFJLEtBQUssRUFBRSxDQUFJLENBQUMsRUFDNUQsSUFBSSxFQUFNLEVBQUssV0FBVyxjQUMxQixFQUFJLGlCQUFpQixZQUFhLEtBQUssS0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJLENBQUMsRUFDbEUsRUFBSSxpQkFBaUIsVUFBVyxLQUFLLEdBQUssS0FBSyxHQUFHLEtBQUssSUFBSSxDQUFDLEVBQzVELEtBQUssT0FBUyxFQUFXLFNBQ3pCLEtBQUssU0FBVyxFQUFLLE1BQU0sTUFBTSxFQUFZLHVCQUF1QixHQUFLLEdBQW1CLEVBQU0sQ0FBVSxFQUM1RyxLQUFLLFNBQVcsR0FBcUIsRUFBTSxDQUFVLEdBQUssR0FBYSxDQUFVLEdBQUssRUFBSSxLQUFPLEdBRXJHLEtBQUssQ0FBQyxFQUFPLENBR1QsR0FBSSxLQUFLLFdBQWEsR0FDbEIsS0FBSyxPQUFPLENBQUssRUFFekIsSUFBSSxDQUFDLEVBQU8sQ0FDUixHQUFJLEVBQU0sU0FBVyxFQUNqQixPQUFPLEtBQUssUUFBUSxFQUN4QixHQUFJLEtBQUssVUFBWSxLQUFLLFVBQVksTUFBUSxHQUFLLEtBQUssV0FBWSxDQUFLLEVBQUksR0FDekUsT0FDSixLQUFLLE9BQU8sS0FBSyxVQUFZLENBQUssRUFDbEMsSUFBSSxFQUFLLEVBQUcsRUFBSyxFQUNiLEVBQU8sRUFBRyxFQUFNLEVBQUcsRUFBUSxLQUFLLEtBQUssSUFBSSxXQUFZLEVBQVMsS0FBSyxLQUFLLElBQUksWUFDaEYsR0FBSSxLQUFLLGNBQWMsRUFDbkIsQ0FBQyxDQUFFLE9BQU0sT0FBTSxFQUFJLEtBQUssY0FBYyxFQUFFLHNCQUFzQixHQUNsRSxHQUFJLEtBQUssY0FBYyxFQUNuQixDQUFDLENBQUUsTUFBSyxRQUFPLEVBQUksS0FBSyxjQUFjLEVBQUUsc0JBQXNCLEdBQ2xFLElBQUksRUFBVSxHQUFpQixLQUFLLElBQUksRUFDeEMsR0FBSSxFQUFNLFFBQVUsRUFBUSxNQUFRLEVBQU8sR0FDdkMsR0FBTSxHQUFnQixFQUFPLEVBQU0sT0FBTyxVQUNyQyxFQUFNLFFBQVUsRUFBUSxPQUFTLEVBQVEsR0FDOUMsRUFBSyxHQUFnQixFQUFNLFFBQVUsQ0FBSyxFQUM5QyxHQUFJLEVBQU0sUUFBVSxFQUFRLEtBQU8sRUFBTSxHQUNyQyxHQUFNLEdBQWdCLEVBQU0sRUFBTSxPQUFPLFVBQ3BDLEVBQU0sUUFBVSxFQUFRLFFBQVUsRUFBUyxHQUNoRCxFQUFLLEdBQWdCLEVBQU0sUUFBVSxDQUFNLEVBQy9DLEtBQUssZUFBZSxFQUFJLENBQUUsRUFFOUIsRUFBRSxDQUFDLEVBQU8sQ0FDTixHQUFJLEtBQUssVUFBWSxLQUNqQixLQUFLLE9BQU8sS0FBSyxTQUFTLEVBQzlCLElBQUssS0FBSyxTQUNOLEVBQU0sZUFBZSxFQUN6QixLQUFLLFFBQVEsRUFFakIsT0FBTyxFQUFHLENBQ04sS0FBSyxlQUFlLEVBQUcsQ0FBQyxFQUN4QixJQUFJLEVBQU0sS0FBSyxLQUFLLFdBQVcsY0FDL0IsRUFBSSxvQkFBb0IsWUFBYSxLQUFLLElBQUksRUFDOUMsRUFBSSxvQkFBb0IsVUFBVyxLQUFLLEVBQUUsRUFDMUMsS0FBSyxLQUFLLFdBQVcsZUFBaUIsS0FBSyxLQUFLLFdBQVcsZUFBaUIsS0FFaEYsY0FBYyxDQUFDLEVBQUksRUFBSSxDQUVuQixHQURBLEtBQUssWUFBYyxDQUFFLEVBQUcsRUFBSSxFQUFHLENBQUcsRUFDOUIsR0FBTSxHQUNOLEdBQUksS0FBSyxVQUFZLEVBQ2pCLEtBQUssVUFBWSxZQUFZLElBQU0sS0FBSyxPQUFPLEVBQUcsRUFBRSxVQUVuRCxLQUFLLFVBQVksR0FDdEIsY0FBYyxLQUFLLFNBQVMsRUFDNUIsS0FBSyxVQUFZLEdBR3pCLE1BQU0sRUFBRyxDQUNMLElBQU0sSUFBRyxLQUFNLEtBQUssWUFDcEIsR0FBSSxHQUFLLEtBQUssY0FBYyxFQUN4QixLQUFLLGNBQWMsRUFBRSxZQUFjLEVBQ25DLEVBQUksRUFFUixHQUFJLEdBQUssS0FBSyxjQUFjLEVBQ3hCLEtBQUssY0FBYyxFQUFFLFdBQWEsRUFDbEMsRUFBSSxFQUVSLEdBQUksR0FBSyxFQUNMLEtBQUssS0FBSyxJQUFJLFNBQVMsRUFBRyxDQUFDLEVBQy9CLEdBQUksS0FBSyxXQUFhLEdBQ2xCLEtBQUssT0FBTyxLQUFLLFNBQVMsRUFFbEMsU0FBUyxDQUFDLEVBQUssQ0FDWCxJQUFJLEVBQVMsS0FDYixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBTyxPQUFRLElBQUssQ0FDeEMsSUFBSSxFQUFRLEVBQUksT0FBTyxHQUFJLEVBQVUsS0FDckMsR0FBSSxFQUFNLE1BQU8sQ0FDYixJQUFJLEVBQU0sR0FBaUIsS0FBSyxNQUFPLEVBQU0sS0FBTSxDQUFDLEVBQ3BELEdBQUksR0FBTyxFQUFNLEtBQ2IsRUFBVSxFQUFnQixPQUFPLEVBQUssRUFBRSxNQUUzQyxDQUNELElBQUksRUFBTyxHQUFpQixLQUFLLE1BQU8sRUFBTSxLQUFNLEVBQUUsRUFDbEQsRUFBSyxHQUFpQixLQUFLLE1BQU8sRUFBTSxHQUFJLENBQUMsRUFDakQsR0FBSSxHQUFRLEVBQU0sTUFBUSxHQUFNLEVBQU0sR0FDbEMsRUFBVSxFQUFnQixNQUFNLEVBQU0sTUFBUSxFQUFNLE9BQVMsRUFBTyxFQUFJLEVBQU0sTUFBUSxFQUFNLEtBQU8sRUFBTyxDQUFFLEVBRXBILEdBQUksRUFBUyxDQUNULElBQUssRUFDRCxFQUFTLEVBQUksT0FBTyxNQUFNLEVBQzlCLEVBQU8sR0FBSyxHQUdwQixPQUFPLEVBQVMsRUFBZ0IsT0FBTyxFQUFRLEVBQUksU0FBUyxFQUFJLEVBRXBFLE1BQU0sQ0FBQyxFQUFPLENBQ1YsSUFBTSxRQUFTLEtBQU0sRUFBWSxLQUFLLFVBQVUsS0FBSyxNQUFNLElBQUksRUFBTyxLQUFLLE9BQVEsS0FBSyxRQUFRLENBQUMsRUFDakcsR0FBSSxLQUFLLGFBQWUsRUFBVSxHQUFHLEVBQUssTUFBTSxVQUFXLEtBQUssV0FBYSxFQUFLLEVBQzlFLEtBQUssS0FBSyxTQUFTLENBQ2YsWUFDQSxVQUFXLGdCQUNmLENBQUMsRUFDTCxLQUFLLFdBQWEsR0FFdEIsTUFBTSxDQUFDLEVBQVEsQ0FDWCxHQUFJLEVBQU8sYUFBYSxLQUFLLEtBQU0sRUFBRyxZQUFZLFlBQVksQ0FBQyxFQUMzRCxLQUFLLFFBQVEsVUFDUixLQUFLLE1BQU0sT0FBTyxDQUFNLEVBQzdCLFdBQVcsSUFBTSxLQUFLLE9BQU8sS0FBSyxTQUFTLEVBQUcsRUFBRSxFQUU1RCxDQXFDQSxJQUFNLEdBQXdCLE9BQU8sT0FBTyxJQUFJLEVBQzFDLEdBQXlCLE9BQU8sT0FBTyxJQUFJLEVBSTNDLEdBQXNCLEVBQVEsSUFBTSxFQUFRLFdBQWEsSUFDMUQsRUFBUSxLQUFPLEVBQVEsZUFBaUIsSUFtRDdDLEdBQVUsT0FBUyxLQUFRLENBQ3ZCLEVBQUssV0FBVyxjQUFnQixFQUFLLFVBQVUsVUFDL0MsRUFBSyxXQUFXLGVBQWlCLEVBQUssVUFBVSxZQUVwRCxHQUFTLFFBQVUsQ0FBQyxFQUFNLElBQVUsQ0FFaEMsR0FEQSxFQUFLLFdBQVcsbUJBQW1CLFFBQVEsRUFDdkMsRUFBTSxTQUFXLElBQU0sRUFBSyxXQUFXLGNBQWdCLEVBQ3ZELEVBQUssV0FBVyxhQUFlLEtBQUssSUFBSSxFQUFJLEtBQ2hELE1BQU8sSUFFWCxHQUFVLFdBQWEsQ0FBQyxFQUFNLElBQU0sQ0FDaEMsRUFBSyxXQUFXLGNBQWdCLEtBQUssSUFBSSxFQUN6QyxFQUFLLFdBQVcsbUJBQW1CLGdCQUFnQixHQUV2RCxHQUFVLFVBQVksS0FBUSxDQUMxQixFQUFLLFdBQVcsbUJBQW1CLGdCQUFnQixHQUV2RCxHQUFTLFVBQVksQ0FBQyxFQUFNLElBQVUsQ0FFbEMsR0FEQSxFQUFLLFNBQVMsTUFBTSxFQUNoQixFQUFLLFdBQVcsY0FBZ0IsS0FBSyxJQUFJLEVBQUksS0FDN0MsTUFBTyxHQUNYLElBQUksRUFBUSxLQUNaLFFBQVMsS0FBYSxFQUFLLE1BQU0sTUFBTSxFQUFtQixFQUV0RCxHQURBLEVBQVEsRUFBVSxFQUFNLENBQUssRUFDekIsRUFDQSxNQUVSLElBQUssR0FBUyxFQUFNLFFBQVUsRUFDMUIsRUFBUSxHQUFvQixFQUFNLENBQUssRUFDM0MsR0FBSSxFQUFPLENBQ1AsSUFBSSxHQUFhLEVBQUssU0FFdEIsR0FEQSxFQUFLLFdBQVcsb0JBQW9CLElBQUksR0FBZSxFQUFNLEVBQU8sRUFBTyxDQUFTLENBQUMsRUFDakYsRUFDQSxFQUFLLFNBQVMsT0FBTyxJQUFNLENBQ3ZCLEdBQW1CLEVBQUssVUFBVSxFQUNsQyxJQUFJLEVBQVMsRUFBSyxLQUFLLGNBQ3ZCLEdBQUksSUFBVyxFQUFPLFNBQVMsRUFBSyxVQUFVLEVBQzFDLEVBQU8sS0FBSyxFQUNuQixFQUNMLElBQUksRUFBVyxFQUFLLFdBQVcsZUFDL0IsR0FBSSxFQUVBLE9BREEsRUFBUyxNQUFNLENBQUssRUFDYixFQUFTLFdBQWEsR0FHckMsTUFBTyxJQWlCWCxJQUFJLEdBQVMsQ0FBQyxFQUFHLEVBQUcsSUFBUyxHQUFLLEVBQUssS0FBTyxHQUFLLEVBQUssUUFBVSxHQUFLLEVBQUssTUFBUSxHQUFLLEVBQUssTUE2QnhGLEdBQWlCLEVBQVEsSUFBTSxFQUFRLFlBQWMsR0FDdkQsR0FBZ0IsS0FBTSxHQUFxQixFQUFHLEdBQW9CLEVBK0N0RSxHQUFTLFVBQVksQ0FBQyxFQUFNLElBQVUsQ0FDbEMsSUFBTSxXQUFhLEtBQU0sSUFBWSxFQUFLLE1BQzFDLEdBQUksRUFBTSxPQUFPLFVBQVcsQ0FDeEIsSUFBSSxFQUFRLEVBQUssUUFBUSxRQUFRLEVBQU0sTUFBTSxFQUM3QyxHQUFJLEdBQVMsRUFBTSxTQUFVLENBQ3pCLElBQUksRUFBTyxFQUFNLFdBQVksRUFBSyxFQUFPLEVBQU0sT0FDL0MsR0FBSSxHQUFRLEVBQU0sSUFBTSxHQUFNLEVBQU0sS0FDaEMsRUFBUSxFQUFnQixNQUFNLEVBQU0sQ0FBRSxHQUdsRCxJQUFNLGNBQWUsRUFDckIsR0FBSSxFQUFXLGVBQ1gsRUFBVyxlQUFlLFNBQVcsR0FFekMsR0FEQSxFQUFXLGVBQWlCLEVBQ3hCLEVBQU0sYUFDTixFQUFNLGFBQWEsUUFBUSxPQUFRLEdBQVcsRUFBSyxNQUFPLEdBQXVCLEVBQUssTUFBTSxTQUFTLEVBQU0sS0FBTSxFQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQzNILEVBQU0sYUFBYSxjQUFnQixXQUV2QyxNQUFPLElBRVgsR0FBUyxRQUFVLEtBQVEsQ0FFdkIsT0FEQSxFQUFLLFdBQVcsZUFBaUIsS0FDMUIsSUFvQlgsR0FBUyxLQUFPLENBQUMsRUFBTSxJQUFVLENBQzdCLElBQUssRUFBTSxhQUNQLE1BQU8sR0FDWCxHQUFJLEVBQUssTUFBTSxTQUNYLE1BQU8sR0FDWCxJQUFJLEVBQVEsRUFBTSxhQUFhLE1BQy9CLEdBQUksR0FBUyxFQUFNLE9BQVEsQ0FDdkIsSUFBSSxFQUFPLE1BQU0sRUFBTSxNQUFNLEVBQUcsRUFBTyxFQUNuQyxFQUFhLElBQU0sQ0FDbkIsS0FBTSxHQUFRLEVBQU0sT0FDaEIsR0FBUyxFQUFNLEVBQU8sRUFBSyxPQUFPLEtBQUssR0FBSyxJQUFJLEVBQUUsS0FBSyxFQUFLLE1BQU0sU0FBUyxFQUFHLEVBQUssR0FFM0YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQVMsSUFBSSxXQUNqQixFQUFPLFFBQVUsRUFDakIsRUFBTyxPQUFTLElBQU0sQ0FDbEIsSUFBSywwQkFBMEIsS0FBSyxFQUFPLE1BQU0sRUFDN0MsRUFBSyxHQUFLLEVBQU8sT0FDckIsRUFBVyxHQUVmLEVBQU8sV0FBVyxFQUFNLEVBQUUsRUFFOUIsTUFBTyxPQUVOLENBQ0QsSUFBSSxFQUFPLEVBQU0sYUFBYSxRQUFRLE1BQU0sRUFDNUMsR0FBSSxFQUVBLE9BREEsR0FBUyxFQUFNLEVBQU8sRUFBTSxFQUFJLEVBQ3pCLEdBR2YsTUFBTyxJQUVYLEdBQVMsTUFBUSxDQUFDLEVBQU0sSUFBVSxDQUM5QixHQUFJLEVBQUssTUFBTSxTQUNYLE1BQU8sR0FDWCxFQUFLLFNBQVMsTUFBTSxFQUNwQixJQUFJLEVBQU8sR0FBcUIsS0FBTyxFQUFNLGNBQzdDLEdBQUksRUFFQSxPQURBLEdBQVEsRUFBTSxFQUFLLFFBQVEsWUFBWSxHQUFLLEVBQUssUUFBUSxlQUFlLENBQUMsRUFDbEUsT0FJUCxRQURBLEdBQWEsQ0FBSSxFQUNWLElBMENmLElBQUksR0FBbUIsS0FDdkIsR0FBUyxLQUFPLEdBQVMsSUFBTSxDQUFDLEVBQU0sSUFBVSxDQUM1QyxJQUFNLE9BQU0sU0FBUSxZQUFhLEdBQVksRUFBSyxLQUFLLEVBQ3ZELElBQUssSUFBUyxFQUNWLE1BQU8sR0FFWCxHQURBLEdBQW1CLEVBQVcsRUFBTyxLQUNqQyxFQUFNLE1BQVEsUUFBVSxFQUFLLE1BQU0sU0FDbkMsRUFBSyxTQUFTLENBQ1YsUUFBUyxFQUNULGVBQWdCLEdBQ2hCLFVBQVcsWUFDZixDQUFDLEVBQ0wsSUFBSSxFQUFPLEdBQXFCLEtBQU8sRUFBTSxjQUM3QyxHQUFJLEVBR0EsT0FGQSxFQUFLLFVBQVUsRUFDZixFQUFLLFFBQVEsYUFBYyxDQUFJLEVBQ3hCLE9BSVAsUUFEQSxHQUFZLEVBQU0sQ0FBSSxFQUNmLElBR2YsSUFBTSxHQUE2QixHQUFXLE9BQU8sRUFzQnJELEdBQVUsTUFBUSxLQUFRLENBR3RCLEdBRkEsRUFBSyxXQUFXLGNBQWdCLEtBQUssSUFBSSxHQUVwQyxFQUFLLFVBQVUsWUFBYyxFQUFLLFdBQVcsZUFBaUIsRUFBSyxXQUFXLGdCQUMvRSxFQUFLLFVBQVUsVUFBWSxFQUFLLFdBQVcsY0FDM0MsRUFBSyxVQUFVLFdBQWEsRUFBSyxXQUFXLGVBRWhELEdBQXFCLENBQUksR0FFN0IsR0FBVSxLQUFPLEtBQVEsQ0FDckIsRUFBSyxTQUFTLG9CQUFvQixFQUNsQyxHQUFxQixDQUFJLEdBRTdCLEdBQVUsaUJBQW1CLEdBQVUsa0JBQW9CLEtBQVEsQ0FDL0QsR0FBSSxFQUFLLFNBQVMsWUFDZCxPQUNKLEdBQUksRUFBSyxXQUFXLHdCQUEwQixLQUMxQyxFQUFLLFdBQVcsdUJBQXlCLEdBQzdDLEdBQUksRUFBSyxXQUFXLFVBQVksRUFFNUIsRUFBSyxXQUFXLFVBQVksR0FHcEMsR0FBVSxlQUFpQixLQUFRLENBQy9CLEdBQUksRUFBSyxTQUFTLFlBQ2QsT0FNSixHQUxBLEVBQUssV0FBVyxVQUFZLEdBQzVCLEVBQUssV0FBVyxtQkFBcUIsS0FBSyxJQUFJLEVBQzlDLEVBQUssV0FBVyxzQkFBd0IsR0FDeEMsRUFBSyxXQUFXLHlCQUEyQixFQUFLLFNBQVMsZUFBZSxFQUFFLE9BQVMsRUFDbkYsRUFBSyxXQUFXLHVCQUF5QixLQUNyQyxFQUFRLFFBQVUsRUFBUSxRQUcxQixFQUFLLFNBQVMsVUFBVSxVQUVuQixFQUFLLFdBQVcseUJBRXJCLFFBQVEsUUFBUSxFQUFFLEtBQUssSUFBTSxFQUFLLFNBQVMsTUFBTSxDQUFDLE1BS2xELFlBQVcsSUFBTSxDQUNiLEdBQUksRUFBSyxXQUFXLFVBQVksR0FBSyxFQUFLLFFBQVEsZUFDOUMsRUFBSyxPQUFPLENBQUMsQ0FBQyxHQUNuQixFQUFFLEdBR2IsR0FBVSxZQUFjLEtBQVEsQ0FDNUIsRUFBSyxXQUFXLGdCQUFrQixLQUFLLElBQUksR0FFL0MsR0FBUyxZQUFjLENBQUMsRUFBTSxJQUFVLENBQ3BDLElBQUksRUFBSSxFQUdSLEdBQUksRUFBTSxXQUFhLHlCQUEyQixFQUFLLFNBQVMsWUFBYSxDQUN6RSxJQUFJLEdBQVEsRUFBSyxFQUFNLGdCQUFrQixNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsUUFBUSxZQUFZLEVBQUcsRUFBUyxFQUFNLGdCQUFnQixFQUNuSSxHQUFJLEdBQVEsRUFBTyxPQUFRLENBQ3ZCLElBQUksRUFBSSxFQUFPLEdBQ1gsRUFBTyxFQUFLLFNBQVMsRUFBRSxlQUFnQixFQUFFLFdBQVcsRUFBRyxFQUFLLEVBQUssU0FBUyxFQUFFLGFBQWMsRUFBRSxTQUFTLEVBRXpHLE9BREEsR0FBb0IsRUFBTSxDQUFFLE9BQU0sS0FBSSxPQUFRLEVBQUssTUFBTSxPQUFPLENBQUksQ0FBRSxFQUFHLElBQUksRUFDdEUsSUFVZixJQUFJLEVBQ0osR0FBSSxFQUFRLFFBQVUsRUFBUSxVQUFZLEVBQVUsR0FBWSxLQUFLLEtBQU8sRUFBSSxXQUFhLEVBQU0sU0FBUyxJQUV4RyxHQURBLEVBQUssU0FBUyxnQkFBZ0IsRUFBUSxJQUFLLEVBQVEsT0FBTyxFQUN0RCxFQUFRLEtBQU8sYUFBZSxFQUFRLEtBQU8sU0FBVSxDQUN2RCxJQUFJLElBQW9CLEVBQUssT0FBTyxrQkFBb0IsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLFNBQVcsRUFDdkcsV0FBVyxJQUFNLENBQ2IsSUFBSSxFQUlKLE1BQU8sRUFBSyxPQUFPLGtCQUFvQixNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsU0FBVyxHQUFLLEVBQWtCLElBQU0sRUFBSyxTQUNwSCxFQUFLLFdBQVcsS0FBSyxFQUNyQixFQUFLLE1BQU0sR0FFaEIsR0FBRyxHQUdkLEdBQUksRUFBUSxLQUFPLEVBQU0sV0FBYSx1QkFJbEMsRUFBSyxTQUFTLFVBQVUsRUFHNUIsR0FBSSxFQUFRLFFBQVUsRUFBTSxXQUFhLGNBQWdCLEVBQUssV0FBVyxXQUFhLEVBQ2xGLFdBQVcsSUFBTSxHQUFVLGVBQWUsRUFBTSxDQUFLLEVBQUcsRUFBRSxFQUU5RCxNQUFPLElBRVgsSUFBTSxHQUFrQyxJQUFJLElBYXRDLEdBQXFCLENBQUMsV0FBWSxTQUFVLFdBQVksY0FBYyxFQUV4RSxHQUFtQixHQUV2QixNQUFNLEVBQWEsQ0FDZixXQUFXLENBQUMsRUFBYyxDQUN0QixLQUFLLGFBQWUsRUFDcEIsS0FBSyxJQUFNLEVBQUssTUFDaEIsS0FBSyxjQUFnQixDQUFDLEVBQ3RCLEtBQUssV0FBYSxHQUNsQixLQUFLLFVBQVksRUFDakIsS0FBSyxXQUFhLEdBQ2xCLEtBQUssV0FBYSxHQUV0QixZQUFZLENBQUMsRUFBTSxFQUFJLENBQ25CLElBQUksRUFBUSxLQUFLLElBQUksT0FBTyxDQUFFLEVBQUUsT0FBUyxLQUFLLElBQUksT0FBTyxDQUFJLEVBQUUsT0FBUyxFQUN4RSxHQUFJLEtBQUssYUFDTCxHQUFTLEtBQUssSUFBSSxFQUFHLEtBQUssTUFBTyxFQUFLLEVBQVMsRUFBUSxLQUFLLFdBQWEsS0FBUSxLQUFLLFVBQVUsQ0FBQyxFQUNyRyxPQUFPLEtBQUssV0FBYSxFQUU3QixhQUFhLENBQUMsRUFBUSxDQUNsQixJQUFLLEtBQUssYUFDTixPQUFPLEtBQUssV0FFaEIsT0FEWSxFQUFJLEtBQUssSUFBSSxFQUFHLEtBQUssTUFBTSxFQUFTLEtBQUssYUFBZSxLQUFLLFdBQWEsRUFBRSxDQUFDLEdBQzFFLEtBQUssV0FFeEIsTUFBTSxDQUFDLEVBQUssQ0FBa0IsT0FBaEIsS0FBSyxJQUFNLEVBQVksS0FDckMsc0JBQXNCLENBQUMsRUFBWSxDQUMvQixPQUFRLEdBQW1CLFFBQVEsQ0FBVSxFQUFJLElBQU8sS0FBSyxhQUVqRSxxQkFBcUIsQ0FBQyxFQUFhLENBQy9CLElBQUksRUFBWSxHQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVksT0FBUSxJQUFLLENBQ3pDLElBQUksRUFBSSxFQUFZLEdBQ3BCLEdBQUksRUFBSSxFQUNKLGFBRU0sS0FBSyxjQUFjLEtBQUssTUFBTSxFQUFJLEVBQUUsR0FDMUMsRUFBWSxHQUNaLEtBQUssY0FBYyxLQUFLLE1BQU0sRUFBSSxFQUFFLEdBQUssR0FHakQsT0FBTyxFQUVYLE9BQU8sQ0FBQyxFQUFZLEVBQVksRUFBVyxFQUFZLEVBQVksRUFBYyxDQUM3RSxJQUFJLEVBQWUsR0FBbUIsUUFBUSxDQUFVLEVBQUksR0FDeEQsRUFBVSxLQUFLLE1BQU0sQ0FBVSxHQUFLLEtBQUssTUFBTSxLQUFLLFVBQVUsR0FBSyxLQUFLLGNBQWdCLEVBTTVGLEdBTEEsS0FBSyxhQUFlLEVBQ3BCLEtBQUssV0FBYSxFQUNsQixLQUFLLFVBQVksRUFDakIsS0FBSyxXQUFhLEVBQ2xCLEtBQUssV0FBYSxFQUNkLEVBQVMsQ0FDVCxLQUFLLGNBQWdCLENBQUMsRUFDdEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFhLE9BQVEsSUFBSyxDQUMxQyxJQUFJLEVBQUksRUFBYSxHQUNyQixHQUFJLEVBQUksRUFDSixRQUVBLE1BQUssY0FBYyxLQUFLLE1BQU0sRUFBSSxFQUFFLEdBQUssSUFHckQsT0FBTyxFQUVmLENBSUEsTUFBTSxFQUFnQixDQUNsQixXQUFXLENBQUMsRUFBTSxFQUFTLENBQ3ZCLEtBQUssS0FBTyxFQUNaLEtBQUssUUFBVSxFQUNmLEtBQUssTUFBUSxLQUViLEtBQUksRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFRLEtBQUssUUFBUSxPQUNsRCxDQUtBLE1BQU0sRUFBVSxDQUlaLFdBQVcsQ0FJWCxFQUlBLEVBS0EsRUFJQSxFQU9BLEVBQVUsQ0FDTixLQUFLLEtBQU8sRUFDWixLQUFLLE9BQVMsRUFDZCxLQUFLLElBQU0sRUFDWCxLQUFLLE9BQVMsRUFDZCxLQUFLLFNBQVcsS0FNaEIsS0FBSSxFQUFHLENBQ1AsY0FBYyxLQUFLLFVBQVksU0FBVyxHQUFVLEtBQ2hELE1BQU0sUUFBUSxLQUFLLFFBQVEsRUFBSSxLQUFLLFNBQVcsS0FBSyxTQUFTLFFBS2pFLEdBQUUsRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFPLEtBQUssVUFJL0IsT0FBTSxFQUFHLENBQUUsT0FBTyxLQUFLLElBQU0sS0FBSyxVQUtsQyxPQUFNLEVBQUcsQ0FDVCxPQUFPLEtBQUssb0JBQW9CLEdBQWtCLEtBQUssU0FBUyxPQUFTLFFBTXpFLGlCQUFnQixFQUFHLENBQ25CLGNBQWMsS0FBSyxVQUFZLFNBQVcsS0FBSyxTQUFXLEVBSzlELElBQUksQ0FBQyxFQUFPLENBQ1IsSUFBSSxHQUFXLE1BQU0sUUFBUSxLQUFLLFFBQVEsRUFBSSxLQUFLLFNBQVcsQ0FBQyxJQUFJLEdBQzlELE9BQU8sTUFBTSxRQUFRLEVBQU0sUUFBUSxFQUFJLEVBQU0sU0FBVyxDQUFDLENBQUssQ0FBQyxFQUNwRSxPQUFPLElBQUksR0FBVSxLQUFLLEtBQU0sS0FBSyxPQUFTLEVBQU0sT0FBUSxLQUFLLElBQUssS0FBSyxPQUFTLEVBQU0sT0FBUSxDQUFPLEVBRWpILENBQ0EsSUFBSSxVQUFtQyxDQUFDLEVBQVcsQ0FJbkQsT0FISSxFQUFVLEVBQVUsTUFBVyxHQUFLLFFBQ3BDLEVBQVUsRUFBVSxTQUFjLEdBQUssV0FDdkMsRUFBVSxFQUFVLGNBQW1CLEdBQUssZ0JBQ3pDLEdBQVksSUFBYyxFQUFZLENBQUMsRUFBRSxFQUMxQyxHQUFVLE1BQ2hCLE1BQU0sRUFBVSxDQUNaLFdBQVcsQ0FBQyxFQUNaLEVBQ0EsRUFBUSxFQUF1QixDQUMzQixLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsS0FFYixTQUFRLEVBQUcsQ0FBRSxPQUFRLEtBQUssTUFBUSxHQUF5QixLQUMzRCxTQUFRLENBQUMsRUFBTyxDQUFFLEtBQUssT0FBUyxFQUFRLEVBQXdCLEdBQU0sS0FBSyxNQUFRLEdBQ3ZGLFNBQVMsQ0FBQyxFQUFRLENBQ2QsR0FBSSxLQUFLLFFBQVUsRUFBUSxDQUN2QixHQUFJLEtBQUssSUFBSSxLQUFLLE9BQVMsQ0FBTSxFQUFJLEdBQ2pDLEdBQW1CLEdBQ3ZCLEtBQUssT0FBUyxHQU10QixPQUFPLENBQUMsRUFBTyxFQUFLLEVBQU8sQ0FDdkIsT0FBTyxHQUFVLEdBQUcsQ0FBSyxFQUc3QixhQUFhLENBQUMsRUFBSyxFQUFRLENBQUUsRUFBTyxLQUFLLElBQUksRUFDN0MsY0FBYyxDQUFDLEVBQU8sRUFBUSxDQUFFLEVBQU8sS0FBSyxJQUFJLEVBQ2hELFlBQVksQ0FBQyxFQUFhLEVBQVEsRUFBUSxFQUFTLENBQy9DLElBQUksRUFBSyxLQUFNLEVBQU0sRUFBTyxJQUM1QixRQUFTLEVBQUksRUFBUSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQUssQ0FDMUMsSUFBTSxRQUFPLE1BQUssUUFBTyxPQUFRLEVBQVEsR0FDckMsRUFBUSxFQUFHLE9BQU8sRUFBTyxFQUFVLGNBQWUsRUFBTyxPQUFPLENBQU0sRUFBRyxFQUFHLENBQUMsRUFDN0UsRUFBTSxFQUFNLElBQU0sRUFBTSxFQUFRLEVBQUcsT0FBTyxFQUFLLEVBQVUsY0FBZSxFQUFRLEVBQUcsQ0FBQyxFQUN4RixHQUFPLEVBQUksR0FBSyxFQUNoQixFQUFNLEVBQUksR0FDVixNQUFPLEVBQUksR0FBSyxFQUFNLE1BQVEsRUFBUSxFQUFJLEdBQUcsSUFJekMsR0FIQSxFQUFRLEVBQVEsRUFBSSxHQUFHLE1BQ3ZCLEVBQVEsRUFBUSxFQUFJLEdBQUcsTUFDdkIsSUFDSSxFQUFRLEVBQU0sS0FDZCxFQUFRLEVBQUcsT0FBTyxFQUFPLEVBQVUsY0FBZSxFQUFRLEVBQUcsQ0FBQyxFQUV0RSxHQUFTLEVBQU0sS0FBTyxFQUN0QixFQUFRLEVBQU0sS0FDZCxJQUFJLEVBQVEsR0FBWSxNQUFNLEVBQU8sT0FBTyxDQUFHLEVBQUcsRUFBYSxFQUFPLENBQUcsRUFDekUsRUFBSyxHQUFRLEVBQUksRUFBRyxRQUFRLEVBQU8sRUFBSyxDQUFLLENBQUMsRUFFbEQsT0FBTyxFQUFHLGFBQWEsRUFBUSxDQUFDLFFBRTdCLE1BQUssRUFBRyxDQUFFLE9BQU8sSUFBSSxHQUFjLEVBQUcsQ0FBQyxRQUt2QyxHQUFFLENBQUMsRUFBTyxDQUNiLEdBQUksRUFBTSxRQUFVLEVBQ2hCLE9BQU8sRUFBTSxHQUNqQixJQUFJLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxFQUFTLEVBQUcsRUFBUSxFQUNqRCxPQUNJLEdBQUksR0FBSyxFQUNMLEdBQUksRUFBUyxFQUFRLEVBQUcsQ0FDcEIsSUFBSSxFQUFRLEVBQU0sRUFBSSxHQUN0QixHQUFJLEVBQU0sTUFDTixFQUFNLFNBQVMsRUFBRyxFQUFHLEVBQU0sS0FBTSxLQUFNLEVBQU0sS0FBSyxNQUVsRCxHQUFNLFNBQVMsRUFBRyxFQUFHLEVBQU0sS0FBTSxFQUFNLEtBQUssRUFDaEQsR0FBSyxFQUFJLEVBQU0sTUFDZixHQUFVLEVBQU0sYUFFWCxFQUFRLEVBQVMsRUFBRyxDQUN6QixJQUFJLEVBQVEsRUFBTSxHQUNsQixHQUFJLEVBQU0sTUFDTixFQUFNLE9BQU8sRUFBRyxFQUFHLEVBQU0sS0FBTSxLQUFNLEVBQU0sS0FBSyxNQUVoRCxHQUFNLE9BQU8sRUFBRyxFQUFHLEVBQU0sS0FBTSxFQUFNLEtBQUssRUFDOUMsR0FBSyxFQUFJLEVBQU0sTUFDZixHQUFTLEVBQU0sU0FHZixlQUdDLEVBQVMsRUFBTyxDQUNyQixJQUFJLEVBQU8sRUFBTSxLQUNqQixHQUFJLEVBQ0EsR0FBVSxFQUFLLFNBRWxCLENBQ0QsSUFBSSxFQUFPLEVBQU0sRUFBRSxHQUNuQixHQUFJLEVBQ0EsR0FBUyxFQUFLLEtBRzFCLElBQUksRUFBTSxFQUNWLEdBQUksRUFBTSxFQUFJLElBQU0sS0FDaEIsRUFBTSxFQUNOLFlBRUssRUFBTSxJQUFNLEtBQ2pCLEVBQU0sRUFDTixJQUVKLE9BQU8sSUFBSSxHQUFnQixHQUFVLEdBQUcsRUFBTSxNQUFNLEVBQUcsQ0FBQyxDQUFDLEVBQUcsRUFBSyxHQUFVLEdBQUcsRUFBTSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBRXJHLENBUUEsR0FBVSxVQUFVLEtBQU8sRUFDM0IsTUFBTSxXQUF1QixFQUFVLENBQ25DLFdBQVcsQ0FBQyxFQUFRLEVBQVEsRUFBTSxDQUM5QixNQUFNLEVBQVEsQ0FBTSxFQUNwQixLQUFLLEtBQU8sRUFFaEIsT0FBTyxDQUFDLEVBQVMsRUFBUyxFQUFLLEVBQVEsQ0FDbkMsT0FBTyxJQUFJLEdBQVUsRUFBUSxLQUFLLE9BQVEsRUFBSyxLQUFLLE9BQVEsS0FBSyxNQUFRLENBQUMsRUFFOUUsTUFBTSxDQUFDLEVBQVEsRUFBTyxFQUFRLEVBQUssRUFBUSxDQUN2QyxPQUFPLEtBQUssUUFBUSxFQUFHLEVBQVEsRUFBSyxDQUFNLEVBRTlDLFdBQVcsQ0FBQyxFQUFNLEVBQUksRUFBUSxFQUFLLEVBQVEsRUFBRyxDQUMxQyxHQUFJLEdBQVEsRUFBUyxLQUFLLFFBQVUsR0FBTSxFQUN0QyxFQUFFLEtBQUssUUFBUSxFQUFHLEVBQVEsRUFBSyxDQUFNLENBQUMsRUFFOUMsWUFBWSxDQUFDLEVBQVEsRUFBUyxFQUFHLEVBQVMsR0FBTyxFQUFVLENBQ3ZELEdBQUksR0FBWSxFQUFTLE1BQVEsR0FBVSxFQUFTLEtBQ2hELEtBQUssVUFBVSxFQUFTLFFBQVEsRUFBUyxRQUFRLEVBRXJELE9BREEsS0FBSyxTQUFXLEdBQ1QsS0FFWCxRQUFRLEVBQUcsQ0FBRSxNQUFPLFNBQVMsS0FBSyxVQUN0QyxDQUNBLE1BQU0sV0FBc0IsRUFBZSxDQUN2QyxXQUFXLENBQUMsRUFBUSxFQUFRLENBQ3hCLE1BQU0sRUFBUSxFQUFRLElBQUksRUFDMUIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssYUFBZSxFQUNwQixLQUFLLE9BQVMsRUFFbEIsT0FBTyxDQUFDLEVBQVMsRUFBUyxFQUFLLEVBQVEsQ0FDbkMsT0FBTyxJQUFJLEdBQVUsRUFBUSxLQUFLLE9BQVEsRUFBSyxLQUFLLE9BQVEsS0FBSyxNQUFNLEVBRTNFLE9BQU8sQ0FBQyxFQUFPLEVBQUssRUFBTyxDQUN2QixJQUFJLEVBQU8sRUFBTSxHQUNqQixHQUFJLEVBQU0sUUFBVSxJQUFNLGFBQWdCLElBQWlCLGFBQWdCLElBQWlCLEVBQUssTUFBUSxJQUNyRyxLQUFLLElBQUksS0FBSyxPQUFTLEVBQUssTUFBTSxFQUFJLEdBQUksQ0FDMUMsR0FBSSxhQUFnQixHQUNoQixFQUFPLElBQUksR0FBYyxFQUFLLE9BQVEsS0FBSyxNQUFNLE1BRWpELEdBQUssT0FBUyxLQUFLLE9BQ3ZCLElBQUssS0FBSyxTQUNOLEVBQUssU0FBVyxHQUNwQixPQUFPLE1BR1AsUUFBTyxHQUFVLEdBQUcsQ0FBSyxFQUdqQyxZQUFZLENBQUMsRUFBUSxFQUFTLEVBQUcsRUFBUSxHQUFPLEVBQVUsQ0FDdEQsR0FBSSxHQUFZLEVBQVMsTUFBUSxHQUFVLEVBQVMsS0FDaEQsS0FBSyxVQUFVLEVBQVMsUUFBUSxFQUFTLFFBQVEsVUFDNUMsR0FBUyxLQUFLLFNBQ25CLEtBQUssVUFBVSxLQUFLLElBQUksS0FBSyxhQUFjLEVBQU8sY0FBYyxLQUFLLE9BQVMsS0FBSyxTQUFTLENBQUMsRUFDekYsS0FBSyxPQUFTLEVBQU8sVUFBVSxFQUV2QyxPQURBLEtBQUssU0FBVyxHQUNULEtBRVgsUUFBUSxFQUFHLENBQ1AsTUFBTyxRQUFRLEtBQUssU0FBUyxLQUFLLFdBQWEsS0FBSyxVQUFZLEtBQUssS0FBSyxhQUFlLElBQU0sS0FBSyxhQUFlLE1BRTNILENBQ0EsTUFBTSxXQUFxQixFQUFVLENBQ2pDLFdBQVcsQ0FBQyxFQUFRLENBQUUsTUFBTSxFQUFRLENBQUMsRUFDckMsYUFBYSxDQUFDLEVBQVEsRUFBUSxDQUMxQixJQUFJLEVBQVksRUFBTyxJQUFJLE9BQU8sQ0FBTSxFQUFFLE9BQVEsRUFBVyxFQUFPLElBQUksT0FBTyxFQUFTLEtBQUssTUFBTSxFQUFFLE9BQ2pHLEVBQVEsRUFBVyxFQUFZLEVBQy9CLEVBQVMsRUFBVSxFQUN2QixHQUFJLEVBQU8sYUFBYyxDQUNyQixJQUFJLEVBQWUsS0FBSyxJQUFJLEtBQUssT0FBUSxFQUFPLFdBQWEsQ0FBSyxFQUVsRSxHQURBLEVBQVUsRUFBZSxFQUNyQixLQUFLLE9BQVMsRUFBUSxFQUN0QixHQUFXLEtBQUssT0FBUyxJQUFpQixLQUFLLE9BQVMsRUFBUSxPQUdwRSxHQUFVLEtBQUssT0FBUyxFQUU1QixNQUFPLENBQUUsWUFBVyxXQUFVLFVBQVMsU0FBUSxFQUVuRCxPQUFPLENBQUMsRUFBUSxFQUFRLEVBQUssRUFBUSxDQUNqQyxJQUFNLFlBQVcsV0FBVSxVQUFTLFdBQVksS0FBSyxjQUFjLEVBQVEsQ0FBTSxFQUNqRixHQUFJLEVBQU8sYUFBYyxDQUNyQixJQUFJLEVBQVEsR0FBVSxFQUFTLEVBQU8sV0FBYSxFQUM3QyxLQUFLLE1BQU0sS0FBSyxJQUFJLEVBQUcsS0FBSyxJQUFJLEdBQUksRUFBUyxHQUFPLEtBQUssTUFBTSxDQUFDLEVBQUksS0FBSyxNQUFNLEdBQ2pGLEVBQU8sRUFBTyxJQUFJLE9BQU8sQ0FBSyxFQUFHLEVBQWEsRUFBVSxFQUFLLE9BQVMsRUFDdEUsRUFBVSxLQUFLLElBQUksRUFBSyxFQUFTLEVBQWEsQ0FBQyxFQUNuRCxPQUFPLElBQUksR0FBVSxFQUFLLEtBQU0sRUFBSyxPQUFRLEVBQVMsRUFBWSxDQUFDLE1BRWxFLENBQ0QsSUFBSSxFQUFPLEtBQUssSUFBSSxFQUFHLEtBQUssSUFBSSxFQUFXLEVBQVcsS0FBSyxPQUFPLEVBQVMsR0FBTyxDQUFPLENBQUMsQ0FBQyxHQUNyRixPQUFNLFVBQVcsRUFBTyxJQUFJLEtBQUssRUFBWSxDQUFJLEVBQ3ZELE9BQU8sSUFBSSxHQUFVLEVBQU0sRUFBUSxFQUFNLEVBQVUsRUFBTSxFQUFTLENBQUMsR0FHM0UsTUFBTSxDQUFDLEVBQU8sRUFBTSxFQUFRLEVBQUssRUFBUSxDQUNyQyxHQUFJLEdBQVEsRUFBVSxTQUNsQixPQUFPLEtBQUssUUFBUSxFQUFPLEVBQVEsRUFBSyxDQUFNLEVBQ2xELEdBQUksR0FBUSxFQUFVLGNBQWUsQ0FDakMsSUFBTSxPQUFNLE1BQU8sRUFBTyxJQUFJLE9BQU8sQ0FBSyxFQUMxQyxPQUFPLElBQUksR0FBVSxFQUFNLEVBQUssRUFBTSxFQUFHLEVBQUcsQ0FBQyxFQUVqRCxJQUFNLFlBQVcsVUFBUyxXQUFZLEtBQUssY0FBYyxFQUFRLENBQU0sRUFDbkUsRUFBTyxFQUFPLElBQUksT0FBTyxDQUFLLEVBQUcsRUFBYSxFQUFVLEVBQUssT0FBUyxFQUN0RSxFQUFhLEVBQUssT0FBUyxFQUMzQixFQUFVLEVBQU0sRUFBVSxFQUFhLEdBQVcsRUFBSyxLQUFPLEVBQVMsR0FDM0UsT0FBTyxJQUFJLEdBQVUsRUFBSyxLQUFNLEVBQUssT0FBUSxLQUFLLElBQUksRUFBSyxLQUFLLElBQUksRUFBUyxFQUFNLEtBQUssT0FBUyxDQUFVLENBQUMsRUFBRyxFQUFZLENBQUMsRUFFaEksV0FBVyxDQUFDLEVBQU0sRUFBSSxFQUFRLEVBQUssRUFBUSxFQUFHLENBQzFDLEVBQU8sS0FBSyxJQUFJLEVBQU0sQ0FBTSxFQUM1QixFQUFLLEtBQUssSUFBSSxFQUFJLEVBQVMsS0FBSyxNQUFNLEVBQ3RDLElBQU0sWUFBVyxVQUFTLFdBQVksS0FBSyxjQUFjLEVBQVEsQ0FBTSxFQUN2RSxRQUFTLEVBQU0sRUFBTSxFQUFVLEVBQUssR0FBTyxHQUFLLENBQzVDLElBQUksRUFBTyxFQUFPLElBQUksT0FBTyxDQUFHLEVBQ2hDLEdBQUksR0FBTyxFQUFNLENBQ2IsSUFBSSxFQUFhLEVBQUssT0FBUyxFQUMvQixHQUFXLEVBQVUsRUFBYSxHQUFXLEVBQU8sRUFBUyxHQUVqRSxJQUFJLEVBQWEsRUFBVSxFQUFVLEVBQUssT0FDMUMsRUFBRSxJQUFJLEdBQVUsRUFBSyxLQUFNLEVBQUssT0FBUSxFQUFTLEVBQVksQ0FBQyxDQUFDLEVBQy9ELEdBQVcsRUFDWCxFQUFNLEVBQUssR0FBSyxHQUd4QixPQUFPLENBQUMsRUFBTSxFQUFJLEVBQU8sQ0FDckIsSUFBSSxFQUFRLEtBQUssT0FBUyxFQUMxQixHQUFJLEVBQVEsRUFBRyxDQUNYLElBQUksRUFBTyxFQUFNLEVBQU0sT0FBUyxHQUNoQyxHQUFJLGFBQWdCLEdBQ2hCLEVBQU0sRUFBTSxPQUFTLEdBQUssSUFBSSxHQUFhLEVBQUssT0FBUyxDQUFLLE1BRTlELEdBQU0sS0FBSyxLQUFNLElBQUksR0FBYSxFQUFRLENBQUMsQ0FBQyxFQUVwRCxHQUFJLEVBQU8sRUFBRyxDQUNWLElBQUksRUFBUSxFQUFNLEdBQ2xCLEdBQUksYUFBaUIsR0FDakIsRUFBTSxHQUFLLElBQUksR0FBYSxFQUFPLEVBQU0sTUFBTSxNQUUvQyxHQUFNLFFBQVEsSUFBSSxHQUFhLEVBQU8sQ0FBQyxFQUFHLElBQUksRUFFdEQsT0FBTyxHQUFVLEdBQUcsQ0FBSyxFQUU3QixhQUFhLENBQUMsRUFBSSxFQUFRLENBQ3RCLEVBQU8sS0FBSyxJQUFJLEdBQWEsRUFBSyxDQUFDLEVBQUcsSUFBSSxFQUU5QyxjQUFjLENBQUMsRUFBTSxFQUFRLENBQ3pCLEVBQU8sS0FBSyxLQUFNLElBQUksR0FBYSxLQUFLLE9BQVMsRUFBTyxDQUFDLENBQUMsRUFFOUQsWUFBWSxDQUFDLEVBQVEsRUFBUyxFQUFHLEVBQVEsR0FBTyxFQUFVLENBQ3RELElBQUksRUFBTSxFQUFTLEtBQUssT0FDeEIsR0FBSSxHQUFZLEVBQVMsTUFBUSxFQUFTLEtBQUssUUFBVSxFQUFTLEtBQU0sQ0FLcEUsSUFBSSxFQUFRLENBQUMsRUFBRyxFQUFNLEtBQUssSUFBSSxFQUFRLEVBQVMsSUFBSSxFQUFHLEVBQWUsR0FDdEUsR0FBSSxFQUFTLEtBQU8sRUFDaEIsRUFBTSxLQUFLLElBQUksR0FBYSxFQUFTLEtBQU8sRUFBUyxDQUFDLEVBQUUsYUFBYSxFQUFRLENBQU0sQ0FBQyxFQUN4RixNQUFPLEdBQU8sR0FBTyxFQUFTLEtBQU0sQ0FDaEMsSUFBSSxFQUFNLEVBQU8sSUFBSSxPQUFPLENBQUcsRUFBRSxPQUNqQyxHQUFJLEVBQU0sT0FDTixFQUFNLEtBQUssSUFBSSxFQUNuQixJQUFJLEVBQVMsRUFBUyxRQUFRLEVBQVMsU0FDdkMsR0FBSSxHQUFnQixHQUNoQixFQUFlLFVBQ1YsS0FBSyxJQUFJLEVBQVMsQ0FBWSxHQUFLLEdBQ3hDLEVBQWUsR0FDbkIsSUFBSSxFQUFPLElBQUksR0FBYyxFQUFLLENBQU0sRUFDeEMsRUFBSyxTQUFXLEdBQ2hCLEVBQU0sS0FBSyxDQUFJLEVBQ2YsR0FBTyxFQUFNLEVBRWpCLEdBQUksR0FBTyxFQUNQLEVBQU0sS0FBSyxLQUFNLElBQUksR0FBYSxFQUFNLENBQUcsRUFBRSxhQUFhLEVBQVEsQ0FBRyxDQUFDLEVBQzFFLElBQUksRUFBUyxHQUFVLEdBQUcsQ0FBSyxFQUMvQixHQUFJLEVBQWUsR0FBSyxLQUFLLElBQUksRUFBTyxPQUFTLEtBQUssTUFBTSxHQUFLLElBQzdELEtBQUssSUFBSSxFQUFlLEtBQUssY0FBYyxFQUFRLENBQU0sRUFBRSxPQUFPLEdBQUssR0FDdkUsR0FBbUIsR0FDdkIsT0FBTyxHQUFRLEtBQU0sQ0FBTSxVQUV0QixHQUFTLEtBQUssU0FDbkIsS0FBSyxVQUFVLEVBQU8sYUFBYSxFQUFRLEVBQVMsS0FBSyxNQUFNLENBQUMsRUFDaEUsS0FBSyxTQUFXLEdBRXBCLE9BQU8sS0FFWCxRQUFRLEVBQUcsQ0FBRSxNQUFPLE9BQU8sS0FBSyxVQUNwQyxDQUNBLE1BQU0sV0FBd0IsRUFBVSxDQUNwQyxXQUFXLENBQUMsRUFBTSxFQUFLLEVBQU8sQ0FDMUIsTUFBTSxFQUFLLE9BQVMsRUFBTSxFQUFNLE9BQVEsRUFBSyxPQUFTLEVBQU0sT0FBUSxHQUFPLEVBQUssVUFBWSxFQUFNLFNBQVcsRUFBd0IsRUFBRSxFQUN2SSxLQUFLLEtBQU8sRUFDWixLQUFLLE1BQVEsRUFDYixLQUFLLEtBQU8sRUFBSyxLQUFPLEVBQU0sUUFFOUIsTUFBSyxFQUFHLENBQUUsT0FBTyxLQUFLLE1BQVEsRUFDbEMsT0FBTyxDQUFDLEVBQVEsRUFBUSxFQUFLLEVBQVEsQ0FDakMsSUFBSSxFQUFNLEVBQU0sS0FBSyxLQUFLLE9BQzFCLE9BQU8sRUFBUyxFQUFNLEtBQUssS0FBSyxRQUFRLEVBQVEsRUFBUSxFQUFLLENBQU0sRUFDN0QsS0FBSyxNQUFNLFFBQVEsRUFBUSxFQUFRLEVBQUssRUFBUyxLQUFLLEtBQUssT0FBUyxLQUFLLEtBQUssRUFFeEYsTUFBTSxDQUFDLEVBQU8sRUFBTSxFQUFRLEVBQUssRUFBUSxDQUNyQyxJQUFJLEVBQVcsRUFBTSxLQUFLLEtBQUssT0FBUSxFQUFjLEVBQVMsS0FBSyxLQUFLLE9BQVMsS0FBSyxNQUNsRixFQUFPLEdBQVEsRUFBVSxTQUFXLEVBQVEsRUFBVyxFQUFRLEVBQy9ELEVBQU8sRUFBTyxLQUFLLEtBQUssT0FBTyxFQUFPLEVBQU0sRUFBUSxFQUFLLENBQU0sRUFDN0QsS0FBSyxNQUFNLE9BQU8sRUFBTyxFQUFNLEVBQVEsRUFBVSxDQUFXLEVBQ2xFLEdBQUksS0FBSyxRQUFVLEVBQU8sRUFBSyxHQUFLLEVBQWMsRUFBSyxLQUFPLEdBQzFELE9BQU8sRUFDWCxJQUFJLEVBQVcsR0FBUSxFQUFVLGNBQWdCLEVBQVUsY0FBZ0IsRUFBVSxNQUNyRixHQUFJLEVBQ0EsT0FBTyxFQUFLLEtBQUssS0FBSyxNQUFNLE9BQU8sRUFBYSxFQUFVLEVBQVEsRUFBVSxDQUFXLENBQUMsTUFFeEYsUUFBTyxLQUFLLEtBQUssT0FBTyxFQUFhLEVBQVUsRUFBUSxFQUFLLENBQU0sRUFBRSxLQUFLLENBQUksRUFFckYsV0FBVyxDQUFDLEVBQU0sRUFBSSxFQUFRLEVBQUssRUFBUSxFQUFHLENBQzFDLElBQUksRUFBVyxFQUFNLEtBQUssS0FBSyxPQUFRLEVBQWMsRUFBUyxLQUFLLEtBQUssT0FBUyxLQUFLLE1BQ3RGLEdBQUksS0FBSyxNQUFPLENBQ1osR0FBSSxFQUFPLEVBQ1AsS0FBSyxLQUFLLFlBQVksRUFBTSxFQUFJLEVBQVEsRUFBSyxFQUFRLENBQUMsRUFDMUQsR0FBSSxHQUFNLEVBQ04sS0FBSyxNQUFNLFlBQVksRUFBTSxFQUFJLEVBQVEsRUFBVSxFQUFhLENBQUMsTUFFcEUsQ0FDRCxJQUFJLEVBQU0sS0FBSyxPQUFPLEVBQWEsRUFBVSxNQUFPLEVBQVEsRUFBSyxDQUFNLEVBQ3ZFLEdBQUksRUFBTyxFQUFJLEtBQ1gsS0FBSyxLQUFLLFlBQVksRUFBTSxFQUFJLEtBQU8sRUFBRyxFQUFRLEVBQUssRUFBUSxDQUFDLEVBQ3BFLEdBQUksRUFBSSxJQUFNLEdBQVEsRUFBSSxNQUFRLEVBQzlCLEVBQUUsQ0FBRyxFQUNULEdBQUksRUFBSyxFQUFJLEdBQ1QsS0FBSyxNQUFNLFlBQVksRUFBSSxHQUFLLEVBQUcsRUFBSSxFQUFRLEVBQVUsRUFBYSxDQUFDLEdBR25GLE9BQU8sQ0FBQyxFQUFNLEVBQUksRUFBTyxDQUNyQixJQUFJLEVBQWEsS0FBSyxLQUFLLE9BQVMsS0FBSyxNQUN6QyxHQUFJLEVBQUssRUFDTCxPQUFPLEtBQUssU0FBUyxLQUFLLEtBQUssUUFBUSxFQUFNLEVBQUksQ0FBSyxFQUFHLEtBQUssS0FBSyxFQUN2RSxHQUFJLEVBQU8sS0FBSyxLQUFLLE9BQ2pCLE9BQU8sS0FBSyxTQUFTLEtBQUssS0FBTSxLQUFLLE1BQU0sUUFBUSxFQUFPLEVBQVksRUFBSyxFQUFZLENBQUssQ0FBQyxFQUNqRyxJQUFJLEVBQVMsQ0FBQyxFQUNkLEdBQUksRUFBTyxFQUNQLEtBQUssY0FBYyxFQUFNLENBQU0sRUFDbkMsSUFBSSxFQUFPLEVBQU8sT0FDbEIsUUFBUyxLQUFRLEVBQ2IsRUFBTyxLQUFLLENBQUksRUFDcEIsR0FBSSxFQUFPLEVBQ1AsR0FBVSxFQUFRLEVBQU8sQ0FBQyxFQUM5QixHQUFJLEVBQUssS0FBSyxPQUFRLENBQ2xCLElBQUksRUFBUSxFQUFPLE9BQ25CLEtBQUssZUFBZSxFQUFJLENBQU0sRUFDOUIsR0FBVSxFQUFRLENBQUssRUFFM0IsT0FBTyxHQUFVLEdBQUcsQ0FBTSxFQUU5QixhQUFhLENBQUMsRUFBSSxFQUFRLENBQ3RCLElBQUksRUFBTyxLQUFLLEtBQUssT0FDckIsR0FBSSxHQUFNLEVBQ04sT0FBTyxLQUFLLEtBQUssY0FBYyxFQUFJLENBQU0sRUFFN0MsR0FEQSxFQUFPLEtBQUssS0FBSyxJQUFJLEVBQ2pCLEtBQUssT0FFTCxHQURBLElBQ0ksR0FBTSxFQUNOLEVBQU8sS0FBSyxJQUFJLEVBRXhCLEdBQUksRUFBSyxFQUNMLEtBQUssTUFBTSxjQUFjLEVBQUssRUFBTSxDQUFNLEVBRWxELGNBQWMsQ0FBQyxFQUFNLEVBQVEsQ0FDekIsSUFBSSxFQUFPLEtBQUssS0FBSyxPQUFRLEVBQVEsRUFBTyxLQUFLLE1BQ2pELEdBQUksR0FBUSxFQUNSLE9BQU8sS0FBSyxNQUFNLGVBQWUsRUFBTyxFQUFPLENBQU0sRUFDekQsR0FBSSxFQUFPLEVBQ1AsS0FBSyxLQUFLLGVBQWUsRUFBTSxDQUFNLEVBQ3pDLEdBQUksS0FBSyxPQUFTLEVBQU8sRUFDckIsRUFBTyxLQUFLLElBQUksRUFDcEIsRUFBTyxLQUFLLEtBQUssS0FBSyxFQUUxQixRQUFRLENBQUMsRUFBTSxFQUFPLENBQ2xCLEdBQUksRUFBSyxLQUFPLEVBQUksRUFBTSxNQUFRLEVBQU0sS0FBTyxFQUFJLEVBQUssS0FDcEQsT0FBTyxHQUFVLEdBQUcsS0FBSyxNQUFRLENBQUMsRUFBTSxLQUFNLENBQUssRUFBSSxDQUFDLEVBQU0sQ0FBSyxDQUFDLEVBT3hFLE9BTkEsS0FBSyxLQUFPLEdBQVEsS0FBSyxLQUFNLENBQUksRUFDbkMsS0FBSyxNQUFRLEdBQVEsS0FBSyxNQUFPLENBQUssRUFDdEMsS0FBSyxVQUFVLEVBQUssT0FBUyxFQUFNLE1BQU0sRUFDekMsS0FBSyxTQUFXLEVBQUssVUFBWSxFQUFNLFNBQ3ZDLEtBQUssS0FBTyxFQUFLLEtBQU8sRUFBTSxLQUM5QixLQUFLLE9BQVMsRUFBSyxPQUFTLEtBQUssTUFBUSxFQUFNLE9BQ3hDLEtBRVgsWUFBWSxDQUFDLEVBQVEsRUFBUyxFQUFHLEVBQVEsR0FBTyxFQUFVLENBQ3RELElBQU0sT0FBTSxTQUFVLEtBQU0sRUFBYSxFQUFTLEVBQUssT0FBUyxLQUFLLE1BQU8sRUFBWSxLQUN4RixHQUFJLEdBQVksRUFBUyxNQUFRLEVBQVMsRUFBSyxRQUFVLEVBQVMsS0FDOUQsRUFBWSxFQUFPLEVBQUssYUFBYSxFQUFRLEVBQVEsRUFBTyxDQUFRLE1BRXBFLEdBQUssYUFBYSxFQUFRLEVBQVEsQ0FBSyxFQUMzQyxHQUFJLEdBQVksRUFBUyxNQUFRLEVBQWEsRUFBTSxRQUFVLEVBQVMsS0FDbkUsRUFBWSxFQUFRLEVBQU0sYUFBYSxFQUFRLEVBQVksRUFBTyxDQUFRLE1BRTFFLEdBQU0sYUFBYSxFQUFRLEVBQVksQ0FBSyxFQUNoRCxHQUFJLEVBQ0EsT0FBTyxLQUFLLFNBQVMsRUFBTSxDQUFLLEVBR3BDLE9BRkEsS0FBSyxPQUFTLEtBQUssS0FBSyxPQUFTLEtBQUssTUFBTSxPQUM1QyxLQUFLLFNBQVcsR0FDVCxLQUVYLFFBQVEsRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFRLEtBQUssTUFBUSxJQUFNLEtBQU8sS0FBSyxNQUNwRSxDQVFBLElBQU0sR0FBdUIsRUFDN0IsTUFBTSxFQUFZLENBQ2QsV0FBVyxDQUFDLEVBQUssRUFBUSxDQUNyQixLQUFLLElBQU0sRUFDWCxLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsQ0FBQyxFQUNkLEtBQUssVUFBWSxHQUNqQixLQUFLLFFBQVUsR0FDZixLQUFLLFNBQVcsS0FDaEIsS0FBSyxVQUFZLEtBRWpCLFVBQVMsRUFBRyxDQUNaLE9BQU8sS0FBSyxVQUFZLEtBQUssTUFBTSxLQUFLLE1BQU0sT0FBUyxJQUFNLEtBQUssU0FFdEUsSUFBSSxDQUFDLEVBQU8sRUFBSSxDQUNaLEdBQUksS0FBSyxVQUFZLEdBQUksQ0FDckIsSUFBSSxFQUFNLEtBQUssSUFBSSxFQUFJLEtBQUssT0FBTyxFQUFHLEVBQU8sS0FBSyxNQUFNLEtBQUssTUFBTSxPQUFTLEdBQzVFLEdBQUksYUFBZ0IsR0FDaEIsRUFBSyxRQUFVLEVBQU0sS0FBSyxZQUNyQixFQUFNLEtBQUssTUFBUSxLQUFLLFVBQzdCLEtBQUssTUFBTSxLQUFLLElBQUksR0FBYyxFQUFNLEtBQUssSUFBSyxFQUFFLENBQUMsRUFFekQsR0FEQSxLQUFLLFVBQVksRUFDYixFQUFLLEVBQ0wsS0FBSyxNQUFNLEtBQUssSUFBSSxFQUNwQixLQUFLLFlBQ0wsS0FBSyxVQUFZLEdBR3pCLEtBQUssSUFBTSxFQUVmLEtBQUssQ0FBQyxFQUFNLEVBQUksRUFBTSxDQUNsQixHQUFJLEVBQU8sR0FBTSxFQUFLLGVBQWdCLENBQ2xDLElBQUksRUFBUyxFQUFLLE9BQVMsRUFBSyxPQUFPLGdCQUFrQixFQUNyRCxFQUFTLEVBQUssT0FBUyxFQUFLLE9BQU8sV0FBYSxFQUNwRCxHQUFJLEVBQVMsRUFDVCxFQUFTLEtBQUssT0FBTyxXQUN6QixJQUFJLEVBQU0sRUFBSyxFQUNmLEdBQUksRUFBSyxNQUNMLEtBQUssU0FBUyxJQUFJLEdBQWUsRUFBSyxFQUFRLENBQUksQ0FBQyxVQUU5QyxHQUFPLEdBQVUsR0FBVSxHQUNoQyxLQUFLLFlBQVksRUFBUSxFQUFRLENBQUcsVUFHbkMsRUFBSyxFQUNWLEtBQUssS0FBSyxFQUFNLENBQUUsRUFFdEIsR0FBSSxLQUFLLFFBQVUsSUFBTSxLQUFLLFFBQVUsS0FBSyxJQUN6QyxLQUFLLFFBQVUsS0FBSyxPQUFPLElBQUksT0FBTyxLQUFLLEdBQUcsRUFBRSxHQUV4RCxTQUFTLEVBQUcsQ0FDUixHQUFJLEtBQUssVUFBWSxHQUNqQixPQUNKLElBQU0sT0FBTSxNQUFPLEtBQUssT0FBTyxJQUFJLE9BQU8sS0FBSyxHQUFHLEVBR2xELEdBRkEsS0FBSyxVQUFZLEVBQ2pCLEtBQUssUUFBVSxFQUNYLEtBQUssVUFBWSxFQUFNLENBQ3ZCLEdBQUksS0FBSyxVQUFZLEVBQU8sR0FBSyxLQUFLLE1BQU0sS0FBSyxNQUFNLE9BQVMsSUFBTSxLQUNsRSxLQUFLLE1BQU0sS0FBSyxLQUFLLGFBQWEsS0FBSyxVQUFXLEVBQU8sQ0FBQyxDQUFDLEVBQy9ELEtBQUssTUFBTSxLQUFLLElBQUksRUFFeEIsR0FBSSxLQUFLLElBQU0sRUFDWCxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQWMsS0FBSyxJQUFNLEVBQU0sRUFBRSxDQUFDLEVBQzFELEtBQUssVUFBWSxLQUFLLElBRTFCLFlBQVksQ0FBQyxFQUFNLEVBQUksQ0FDbkIsSUFBSSxFQUFNLElBQUksR0FBYSxFQUFLLENBQUksRUFDcEMsR0FBSSxLQUFLLE9BQU8sSUFBSSxPQUFPLENBQUksRUFBRSxJQUFNLEVBQ25DLEVBQUksT0FBUyxFQUNqQixPQUFPLEVBRVgsVUFBVSxFQUFHLENBQ1QsS0FBSyxVQUFVLEVBQ2YsSUFBSSxFQUFPLEtBQUssTUFBTSxPQUFTLEtBQUssTUFBTSxLQUFLLE1BQU0sT0FBUyxHQUFLLEtBQ25FLEdBQUksYUFBZ0IsR0FDaEIsT0FBTyxFQUNYLElBQUksRUFBTyxJQUFJLEdBQWMsRUFBRyxFQUFFLEVBRWxDLE9BREEsS0FBSyxNQUFNLEtBQUssQ0FBSSxFQUNiLEVBRVgsUUFBUSxDQUFDLEVBQU8sQ0FDWixLQUFLLFVBQVUsRUFDZixJQUFJLEVBQU8sRUFBTSxLQUNqQixHQUFJLEdBQVEsRUFBSyxVQUFZLElBQU0sS0FBSyxVQUNwQyxLQUFLLFdBQVcsRUFHcEIsR0FGQSxLQUFLLE1BQU0sS0FBSyxDQUFLLEVBQ3JCLEtBQUssVUFBWSxLQUFLLElBQU0sS0FBSyxJQUFNLEVBQU0sT0FDekMsR0FBUSxFQUFLLFFBQVUsRUFDdkIsS0FBSyxTQUFXLEVBRXhCLFdBQVcsQ0FBQyxFQUFRLEVBQVEsRUFBUSxDQUNoQyxJQUFJLEVBQU8sS0FBSyxXQUFXLEVBQzNCLEVBQUssUUFBVSxFQUNmLEVBQUssV0FBYSxFQUNsQixFQUFLLGFBQWUsS0FBSyxJQUFJLEVBQUssYUFBYyxDQUFNLEVBQ3RELEVBQUssUUFBVSxFQUNmLEtBQUssVUFBWSxLQUFLLElBQU0sS0FBSyxJQUFNLEVBRTNDLE1BQU0sQ0FBQyxFQUFNLENBQ1QsSUFBSSxFQUFPLEtBQUssTUFBTSxRQUFVLEVBQUksS0FBTyxLQUFLLE1BQU0sS0FBSyxNQUFNLE9BQVMsR0FDMUUsR0FBSSxLQUFLLFVBQVksTUFBUSxhQUFnQixNQUFtQixLQUFLLFVBQ2pFLEtBQUssTUFBTSxLQUFLLElBQUksR0FBYyxFQUFHLEVBQUUsQ0FBQyxVQUNuQyxLQUFLLFVBQVksS0FBSyxLQUFPLEdBQVEsS0FDMUMsS0FBSyxNQUFNLEtBQUssS0FBSyxhQUFhLEtBQUssVUFBVyxLQUFLLEdBQUcsQ0FBQyxFQUMvRCxJQUFJLEVBQU0sRUFDVixRQUFTLEtBQVEsS0FBSyxNQUFPLENBQ3pCLEdBQUksYUFBZ0IsR0FDaEIsRUFBSyxhQUFhLEtBQUssT0FBUSxDQUFHLEVBQ3RDLEdBQU8sRUFBTyxFQUFLLE9BQVMsRUFFaEMsT0FBTyxLQUFLLFlBT1QsTUFBSyxDQUFDLEVBQVEsRUFBYSxFQUFNLEVBQUksQ0FDeEMsSUFBSSxFQUFVLElBQUksR0FBWSxFQUFNLENBQU0sRUFFMUMsT0FEQSxFQUFTLE1BQU0sRUFBYSxFQUFNLEVBQUksRUFBUyxDQUFDLEVBQ3pDLEVBQVEsT0FBTyxDQUFJLEVBRWxDLENBTUEsTUFBTSxFQUFxQixDQUN2QixXQUFXLEVBQUcsQ0FDVixLQUFLLFFBQVUsQ0FBQyxFQUVwQixZQUFZLEVBQUcsRUFDZixZQUFZLENBQUMsRUFBTSxFQUFJLEVBQUcsRUFBRyxDQUN6QixHQUFJLEVBQU8sR0FBTSxHQUFLLEVBQUUsZ0JBQWtCLEdBQUssRUFBRSxlQUM3QyxHQUFTLEVBQU0sRUFBSSxLQUFLLFFBQVMsQ0FBQyxFQUU5QyxDQXVDQSxNQUFNLEVBQVEsQ0FDVixXQUFXLENBQUMsRUFBTSxFQUFJLEVBQU0sQ0FDeEIsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBQ1YsS0FBSyxLQUFPLFFBRVQsS0FBSSxDQUFDLEVBQUcsRUFBRyxDQUNkLEdBQUksRUFBRSxRQUFVLEVBQUUsT0FDZCxNQUFPLEdBQ1gsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsSUFBSyxDQUMvQixJQUFJLEVBQUssRUFBRSxHQUFJLEVBQUssRUFBRSxHQUN0QixHQUFJLEVBQUcsTUFBUSxFQUFHLE1BQVEsRUFBRyxJQUFNLEVBQUcsSUFBTSxFQUFHLE1BQVEsRUFBRyxLQUN0RCxNQUFPLEdBRWYsTUFBTyxHQUVYLElBQUksQ0FBQyxFQUFXLEVBQVUsQ0FDdEIsT0FBTyxFQUFXLFFBQVEsQ0FDdEIsT0FBUSxJQUFJLEdBQWMsS0FBSyxNQUFRLEVBQVcsRUFBVSxPQUFTLEVBQVUsUUFBUyxDQUFRLENBQ3BHLENBQUMsRUFBRSxNQUFNLEtBQUssS0FBTSxLQUFLLEVBQUUsRUFFbkMsQ0FDQSxNQUFNLFdBQXNCLEVBQVcsQ0FDbkMsV0FBVyxDQUFDLEVBQU0sRUFBVSxDQUN4QixNQUFNLEVBQ04sS0FBSyxLQUFPLEVBQ1osS0FBSyxTQUFXLEVBRXBCLEVBQUUsQ0FBQyxFQUFPLENBQUUsT0FBTyxFQUFNLE1BQVEsS0FBSyxNQUFRLEVBQU0sVUFBWSxLQUFLLFNBQ3JFLEtBQUssRUFBRyxDQUNKLElBQUksRUFBTSxTQUFTLGNBQWMsS0FBSyxFQUN0QyxHQUFJLEtBQUssU0FDTCxFQUFJLE1BQU0sT0FBUyxLQUFLLEtBQU8sU0FHL0IsR0FBSSxNQUFNLE1BQVEsS0FBSyxLQUFPLEtBQzlCLEVBQUksTUFBTSxPQUFTLE1BQ25CLEVBQUksTUFBTSxRQUFVLGVBRXhCLE9BQU8sS0FFUCxnQkFBZSxFQUFHLENBQUUsT0FBTyxLQUFLLFNBQVcsS0FBSyxLQUFPLEdBQy9ELENBQ0EsTUFBTSxFQUFVLENBQ1osV0FBVyxDQUFDLEVBQU8sQ0FDZixLQUFLLE1BQVEsRUFFYixLQUFLLGNBQWdCLENBQUUsS0FBTSxFQUFHLE1BQU8sT0FBTyxXQUFZLElBQUssRUFBRyxPQUFRLENBQUUsRUFDNUUsS0FBSyxPQUFTLEdBQ2QsS0FBSyxXQUFhLEVBQ2xCLEtBQUssY0FBZ0IsRUFDckIsS0FBSyxnQkFBa0IsRUFDdkIsS0FBSyxpQkFBbUIsRUFDeEIsS0FBSyxhQUFlLEVBQ3BCLEtBQUssWUFBYyxFQUNuQixLQUFLLFVBQVksRUFDakIsS0FBSyxpQkFBbUIsR0FHeEIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxPQUFTLEVBR2QsS0FBSyxnQkFBa0IsRUFHdkIsS0FBSyxtQkFBcUIsR0FFMUIsS0FBSyxPQUFTLEdBQ2QsS0FBSyxhQUFlLEtBRXBCLEtBQUssU0FBVyxHQUdoQixLQUFLLG1CQUFxQixHQUMxQixLQUFLLHFCQUF1QixFQUFVLElBQ3RDLEtBQUssY0FBZ0IsQ0FBQyxFQVN0QixLQUFLLHVCQUF5QixHQUM5QixJQUFJLEVBQWdCLEVBQU0sTUFBTSxFQUFpQixFQUFFLEtBQUssWUFBWSxHQUFLLFlBQWMsRUFBRSxPQUFTLGlCQUFpQixFQUNuSCxLQUFLLGFBQWUsSUFBSSxHQUFhLENBQWEsRUFDbEQsS0FBSyxVQUFZLEVBQU0sTUFBTSxFQUFXLEVBQUUsT0FBTyxZQUFZLEdBQUssVUFBVSxFQUM1RSxLQUFLLFVBQVksR0FBVSxNQUFNLEVBQUUsYUFBYSxLQUFLLFVBQVcsRUFBSyxNQUFPLEtBQUssYUFBYSxPQUFPLEVBQU0sR0FBRyxFQUFHLENBQUMsSUFBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEVBQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUM5SixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUcsSUFFbkIsR0FEQSxLQUFLLFNBQVcsS0FBSyxZQUFZLEVBQUcsSUFBSSxHQUNuQyxLQUFLLGtCQUFrQixFQUN4QixNQUVSLEtBQUssb0JBQW9CLEVBQ3pCLEtBQUssU0FBVyxLQUFLLGVBQWUsQ0FBQyxDQUFDLEVBQ3RDLEtBQUssWUFBYyxFQUFXLElBQUksS0FBSyxTQUFTLElBQUksS0FBTyxFQUFJLEtBQUssS0FBTSxFQUFLLENBQUMsQ0FBQyxFQUNqRixLQUFLLHFCQUFxQixFQUU5QixpQkFBaUIsRUFBRyxDQUNoQixJQUFJLEVBQVksQ0FBQyxLQUFLLFFBQVEsR0FBSyxRQUFTLEtBQUssTUFBTSxVQUN2RCxRQUFTLEVBQUksRUFBRyxHQUFLLEVBQUcsSUFBSyxDQUN6QixJQUFJLEVBQU0sRUFBSSxFQUFLLEtBQU8sRUFBSyxPQUMvQixJQUFLLEVBQVUsS0FBSyxFQUFHLE9BQU0sUUFBUyxHQUFPLEdBQVEsR0FBTyxDQUFFLEVBQUcsQ0FDN0QsSUFBTSxPQUFNLE1BQU8sS0FBSyxZQUFZLENBQUcsRUFDdkMsRUFBVSxLQUFLLElBQUksR0FBUyxFQUFNLENBQUUsQ0FBQyxHQUk3QyxPQURBLEtBQUssVUFBWSxFQUFVLEtBQUssQ0FBQyxFQUFHLElBQU0sRUFBRSxLQUFPLEVBQUUsSUFBSSxFQUNsRCxLQUFLLGFBQWEsRUFFN0IsWUFBWSxFQUFHLENBQ1gsSUFBSSxFQUFTLEtBQUssT0FHbEIsT0FGQSxLQUFLLE9BQVMsS0FBSyxVQUFVLFFBQVUsUUFBZ0MsR0FDbkUsSUFBSSxHQUFVLEtBQUssYUFBYyxLQUFLLFVBQVcsS0FBSyxTQUFTLEVBQzVELEVBQU8sR0FBRyxLQUFLLE1BQU0sRUFBSSxFQUFJLEVBRXhDLG1CQUFtQixFQUFHLENBQ2xCLEtBQUssY0FBZ0IsQ0FBQyxFQUN0QixLQUFLLFVBQVUsWUFBWSxLQUFLLFNBQVMsS0FBTSxLQUFLLFNBQVMsR0FBSSxLQUFLLGFBQWEsT0FBTyxLQUFLLE1BQU0sR0FBRyxFQUFHLEVBQUcsRUFBRyxLQUFTLENBQ3RILEtBQUssY0FBYyxLQUFLLEdBQVcsRUFBTyxLQUFLLE1BQU0sQ0FBQyxFQUN6RCxFQUVMLE1BQU0sQ0FBQyxFQUFRLEVBQWUsS0FBTSxDQUNoQyxLQUFLLE1BQVEsRUFBTyxNQUNwQixJQUFJLEVBQVcsS0FBSyxVQUNwQixLQUFLLFVBQVksS0FBSyxNQUFNLE1BQU0sRUFBVyxFQUFFLE9BQU8sWUFBWSxHQUFLLFVBQVUsRUFDakYsSUFBSSxFQUFpQixFQUFPLGNBQ3hCLEVBQWdCLEdBQWEsaUJBQWlCLEVBQWdCLEdBQTBCLEVBQVUsS0FBSyxVQUFXLEVBQVMsRUFBTyxRQUFVLEVBQVUsTUFBTSxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUNuTCxFQUFhLEtBQUssVUFBVSxPQUM1QixFQUFlLEtBQUssaUJBQW1CLEtBQU8sS0FBSyxlQUFlLEtBQUssU0FBUyxFQUdwRixHQUZBLEdBQXNCLEVBQ3RCLEtBQUssVUFBWSxLQUFLLFVBQVUsYUFBYSxLQUFLLFVBQVcsRUFBTyxXQUFXLElBQUssS0FBSyxhQUFhLE9BQU8sS0FBSyxNQUFNLEdBQUcsRUFBRyxDQUFhLEVBQ3ZJLEtBQUssVUFBVSxRQUFVLEdBQWMsR0FDdkMsRUFBTyxPQUFTLEVBQ3BCLEdBQUksRUFDQSxLQUFLLGdCQUFrQixFQUFPLFFBQVEsT0FBTyxFQUFhLEtBQU0sRUFBRSxFQUNsRSxLQUFLLG1CQUFxQixFQUFhLFFBR3ZDLE1BQUssZ0JBQWtCLEdBQ3ZCLEtBQUssbUJBQXFCLEtBQUssVUFBVSxPQUU3QyxJQUFJLEVBQVcsRUFBYyxPQUFTLEtBQUssWUFBWSxLQUFLLFNBQVUsRUFBTyxPQUFPLEVBQUksS0FBSyxTQUM3RixHQUFJLElBQWlCLEVBQWEsTUFBTSxLQUFPLEVBQVMsTUFBUSxFQUFhLE1BQU0sS0FBTyxFQUFTLE1BQzlGLEtBQUssc0JBQXNCLENBQVEsRUFDcEMsRUFBVyxLQUFLLFlBQVksRUFBRyxDQUFZLEVBQy9DLElBQUksRUFBaUIsRUFBUyxNQUFRLEtBQUssU0FBUyxNQUFRLEVBQVMsSUFBTSxLQUFLLFNBQVMsR0FHekYsR0FGQSxLQUFLLFNBQVcsRUFDaEIsRUFBTyxPQUFTLEtBQUssa0JBQWtCLEVBQ25DLElBQW1CLEVBQU8sUUFBUSxPQUFVLEVBQU8sTUFBUSxFQUMzRCxLQUFLLG9CQUFvQixFQUM3QixHQUFJLEtBQUssU0FBUyxRQUFVLEtBQUssU0FBUyxHQUFLLEtBQUssU0FBUyxLQUFRLEtBQ2pFLEtBQUssZUFBZSxLQUFLLGVBQWUsS0FBSyxZQUFZLEtBQUssU0FBVSxFQUFPLE9BQU8sQ0FBQyxDQUFDLEVBRTVGLEdBREEsRUFBTyxPQUFTLEtBQUsscUJBQXFCLEVBQ3RDLEVBQ0EsS0FBSyxhQUFlLEVBQ3hCLElBQUssS0FBSyx3QkFBMEIsRUFBTyxjQUFnQixFQUFPLEtBQUssY0FDbkUsRUFBTyxNQUFNLFVBQVUsS0FBSyxPQUFTLEVBQU8sTUFBTSxVQUFVLEtBQUssUUFDaEUsRUFBTyxNQUFNLE1BQU0sRUFBcUIsRUFDekMsS0FBSyx1QkFBeUIsR0FFdEMsT0FBTyxDQUFDLEVBQU0sQ0FDVixJQUFJLEVBQU0sRUFBSyxXQUFZLEVBQVEsT0FBTyxpQkFBaUIsQ0FBRyxFQUMxRCxFQUFTLEtBQUssYUFDZCxFQUFhLEVBQU0sV0FDdkIsS0FBSyxxQkFBdUIsRUFBTSxXQUFhLE1BQVEsRUFBVSxJQUFNLEVBQVUsSUFDakYsSUFBSSxFQUFVLEtBQUssYUFBYSx1QkFBdUIsQ0FBVSxFQUM3RCxFQUFVLEVBQUksc0JBQXNCLEVBQ3BDLEVBQWlCLEdBQVcsS0FBSyxvQkFBc0IsS0FBSyxrQkFBb0IsRUFBUSxPQUM1RixLQUFLLGlCQUFtQixFQUFRLE9BQ2hDLEtBQUssbUJBQXFCLEdBQzFCLElBQUksRUFBUyxFQUFHLEVBQU8sRUFDdkIsR0FBSSxFQUFRLE9BQVMsRUFBUSxPQUFRLENBQ2pDLElBQU0sU0FBUSxVQUFXLEdBQVMsRUFBSyxDQUFPLEVBQzlDLEdBQUksRUFBUyxPQUFRLEtBQUssSUFBSSxLQUFLLE9BQVMsQ0FBTSxFQUFJLE9BQ2xELEVBQVMsT0FBUSxLQUFLLElBQUksS0FBSyxPQUFTLENBQU0sRUFBSSxNQUNsRCxLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsRUFDZCxHQUFVLEVBQ1YsRUFBVSxFQUFpQixHQUluQyxJQUFJLEdBQWMsU0FBUyxFQUFNLFVBQVUsR0FBSyxHQUFLLEtBQUssT0FDdEQsR0FBaUIsU0FBUyxFQUFNLGFBQWEsR0FBSyxHQUFLLEtBQUssT0FDaEUsR0FBSSxLQUFLLFlBQWMsR0FBYyxLQUFLLGVBQWlCLEVBQ3ZELEtBQUssV0FBYSxFQUNsQixLQUFLLGNBQWdCLEVBQ3JCLEdBQVUsR0FFZCxHQUFJLEtBQUssYUFBZSxFQUFLLFVBQVUsWUFBYSxDQUNoRCxHQUFJLEVBQU8sYUFDUCxFQUFpQixHQUNyQixLQUFLLFlBQWMsRUFBSyxVQUFVLFlBQ2xDLEdBQVUsRUFFZCxJQUFJLEVBQVksRUFBSyxVQUFVLFVBQVksS0FBSyxPQUNoRCxHQUFJLEtBQUssV0FBYSxFQUNsQixLQUFLLG1CQUFxQixHQUMxQixLQUFLLFVBQVksRUFFckIsS0FBSyxpQkFBbUIsR0FBbUIsRUFBSyxTQUFTLEVBRXpELElBQUksR0FBaUIsS0FBSyxTQUFXLEdBQWlCLElBQW1CLEVBQUssS0FBSyxVQUFVLEVBQ3pGLEVBQU8sRUFBYyxJQUFNLEtBQUssY0FBYyxJQUFLLEVBQVUsRUFBYyxPQUFTLEtBQUssY0FBYyxPQUMzRyxLQUFLLGNBQWdCLEVBQ3JCLElBQUksRUFBUyxLQUFLLGNBQWMsT0FBUyxLQUFLLGNBQWMsS0FBTyxLQUFLLGNBQWMsTUFBUSxLQUFLLGNBQWMsS0FDakgsR0FBSSxHQUFVLEtBQUssUUFFZixHQURBLEtBQUssT0FBUyxFQUNWLEVBQ0EsRUFBaUIsR0FFekIsSUFBSyxLQUFLLFNBQVcsS0FBSyxhQUN0QixNQUFPLEdBQ1gsSUFBSSxFQUFlLEVBQVEsTUFDM0IsR0FBSSxLQUFLLGlCQUFtQixHQUFnQixLQUFLLGNBQWdCLEVBQUssVUFBVSxhQUM1RSxLQUFLLGdCQUFrQixFQUFRLE1BQy9CLEtBQUssYUFBZSxFQUFLLFVBQVUsYUFDbkMsR0FBVSxFQUVkLEdBQUksRUFBZ0IsQ0FDaEIsSUFBSSxFQUFjLEVBQUssUUFBUSwwQkFBMEIsS0FBSyxRQUFRLEVBQ3RFLEdBQUksRUFBTyxzQkFBc0IsQ0FBVyxFQUN4QyxFQUFVLEdBQ2QsR0FBSSxHQUFXLEVBQU8sY0FBZ0IsS0FBSyxJQUFJLEVBQWUsS0FBSyxlQUFlLEVBQUksRUFBTyxVQUFXLENBQ3BHLElBQU0sYUFBWSxZQUFXLGNBQWUsRUFBSyxRQUFRLGdCQUFnQixFQUV6RSxHQURBLEVBQVUsRUFBYSxHQUFLLEVBQU8sUUFBUSxFQUFZLEVBQVksRUFBVyxFQUFZLEVBQWUsRUFBVyxDQUFXLEVBQzNILEVBQ0EsRUFBSyxRQUFRLFNBQVcsRUFDeEIsR0FBVSxFQUdsQixHQUFJLEVBQU8sR0FBSyxFQUFVLEVBQ3RCLEVBQU8sS0FBSyxJQUFJLEVBQU0sQ0FBTyxVQUN4QixFQUFPLEdBQUssRUFBVSxFQUMzQixFQUFPLEtBQUssSUFBSSxFQUFNLENBQU8sRUFDakMsR0FBc0IsRUFDdEIsUUFBUyxLQUFNLEtBQUssVUFBVyxDQUMzQixJQUFJLEVBQVUsRUFBRyxNQUFRLEtBQUssU0FBUyxLQUFPLEVBQWMsRUFBSyxRQUFRLDBCQUEwQixDQUFFLEVBQ3JHLEtBQUssV0FBYSxFQUFVLEdBQVUsTUFBTSxFQUFFLGFBQWEsS0FBSyxVQUFXLEVBQUssTUFBTyxLQUFLLGFBQWMsQ0FBQyxJQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsRUFBSyxNQUFNLElBQUksTUFBTSxDQUFDLENBQUMsRUFBSSxLQUFLLFdBQVcsYUFBYSxFQUFRLEVBQUcsRUFBUyxJQUFJLEdBQWdCLEVBQUcsS0FBTSxDQUFPLENBQUMsRUFFMVAsR0FBSSxHQUNBLEdBQVUsRUFFbEIsSUFBSSxHQUFrQixLQUFLLHNCQUFzQixLQUFLLFNBQVUsQ0FBSSxHQUNoRSxLQUFLLGVBQWlCLEtBQUssYUFBYSxNQUFNLEtBQU8sS0FBSyxTQUFTLE1BQy9ELEtBQUssYUFBYSxNQUFNLEtBQU8sS0FBSyxTQUFTLElBQ3JELEdBQUksRUFBZ0IsQ0FDaEIsR0FBSSxFQUFTLEVBQ1QsR0FBVSxLQUFLLGFBQWEsRUFDaEMsS0FBSyxTQUFXLEtBQUssWUFBWSxFQUFNLEtBQUssWUFBWSxFQUN4RCxHQUFVLEtBQUssa0JBQWtCLEVBRXJDLEdBQUssRUFBUyxHQUE4QixFQUN4QyxLQUFLLG9CQUFvQixFQUM3QixHQUFJLEtBQUssU0FBUyxRQUFVLEtBQUssU0FBUyxHQUFLLEtBQUssU0FBUyxLQUFRLEtBQ2pFLEtBQUssZUFBZSxLQUFLLGVBQWUsRUFBVSxDQUFDLEVBQUksS0FBSyxTQUFVLENBQUksQ0FBQyxFQUUvRSxHQURBLEdBQVUsS0FBSyxxQkFBcUIsRUFDaEMsS0FBSyx1QkFDTCxLQUFLLHVCQUF5QixHQUs5QixFQUFLLFFBQVEsbUJBQW1CLEVBRXBDLE9BQU8sS0FFUCxXQUFVLEVBQUcsQ0FBRSxPQUFPLEtBQUssT0FBTyxRQUFRLEtBQUssY0FBYyxHQUFHLEtBQ2hFLGNBQWEsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLFFBQVEsS0FBSyxjQUFjLE1BQU0sRUFDMUUsV0FBVyxDQUFDLEVBQU0sRUFBYyxDQUk1QixJQUFJLEVBQVksSUFBTSxLQUFLLElBQUksS0FBTSxLQUFLLElBQUksSUFBSyxFQUFPLEtBQXVCLENBQUMsQ0FBQyxFQUMvRSxFQUFNLEtBQUssVUFBVyxFQUFTLEtBQUssY0FDbEMsYUFBWSxpQkFBa0IsS0FDaEMsRUFBVyxJQUFJLEdBQVMsRUFBSSxPQUFPLEVBQWEsRUFBWSxLQUFzQixFQUFVLFNBQVUsRUFBUSxFQUFHLENBQUMsRUFBRSxLQUFNLEVBQUksT0FBTyxHQUFpQixFQUFJLEdBQWEsS0FBc0IsRUFBVSxTQUFVLEVBQVEsRUFBRyxDQUFDLEVBQUUsRUFBRSxFQUVyTyxHQUFJLEVBQWMsQ0FDZCxJQUFNLFFBQVMsRUFBYSxNQUM1QixHQUFJLEVBQU8sRUFBUyxNQUFRLEVBQU8sRUFBUyxHQUFJLENBQzVDLElBQUksRUFBYSxLQUFLLElBQUksS0FBSyxhQUFjLEtBQUssY0FBYyxPQUFTLEtBQUssY0FBYyxHQUFHLEVBQzNGLEVBQVEsRUFBSSxPQUFPLEVBQU0sRUFBVSxNQUFPLEVBQVEsRUFBRyxDQUFDLEVBQUcsRUFDN0QsR0FBSSxFQUFhLEdBQUssU0FDbEIsR0FBVSxFQUFNLElBQU0sRUFBTSxRQUFVLEVBQUksRUFBYSxVQUNsRCxFQUFhLEdBQUssU0FBVyxFQUFhLEdBQUssV0FBYSxFQUFPLEVBQVMsS0FDakYsRUFBUyxFQUFNLFFBRWYsR0FBUyxFQUFNLE9BQVMsRUFDNUIsRUFBVyxJQUFJLEdBQVMsRUFBSSxPQUFPLEVBQVMsSUFBMEIsRUFBVSxTQUFVLEVBQVEsRUFBRyxDQUFDLEVBQUUsS0FBTSxFQUFJLE9BQU8sRUFBUyxFQUFhLElBQTBCLEVBQVUsU0FBVSxFQUFRLEVBQUcsQ0FBQyxFQUFFLEVBQUUsR0FHck4sT0FBTyxFQUVYLFdBQVcsQ0FBQyxFQUFVLEVBQVMsQ0FDM0IsSUFBSSxFQUFPLEVBQVEsT0FBTyxFQUFTLEtBQU0sRUFBRSxFQUFHLEVBQUssRUFBUSxPQUFPLEVBQVMsR0FBSSxDQUFDLEVBQ2hGLE9BQU8sSUFBSSxHQUFTLEtBQUssVUFBVSxPQUFPLEVBQU0sRUFBVSxNQUFPLEtBQUssYUFBYyxFQUFHLENBQUMsRUFBRSxLQUFNLEtBQUssVUFBVSxPQUFPLEVBQUksRUFBVSxNQUFPLEtBQUssYUFBYyxFQUFHLENBQUMsRUFBRSxFQUFFLEVBSTFLLHFCQUFxQixFQUFHLE9BQU0sTUFBTSxFQUFPLEVBQUcsQ0FDMUMsSUFBSyxLQUFLLE9BQ04sTUFBTyxHQUNYLElBQU0sT0FBUSxLQUFLLFVBQVUsT0FBTyxFQUFNLEVBQVUsTUFBTyxLQUFLLGFBQWMsRUFBRyxDQUFDLEdBQzVFLFVBQVcsS0FBSyxVQUFVLE9BQU8sRUFBSSxFQUFVLE1BQU8sS0FBSyxhQUFjLEVBQUcsQ0FBQyxHQUM3RSxhQUFZLGlCQUFrQixLQUNwQyxPQUFRLEdBQVEsR0FBSyxHQUFPLEVBQWEsS0FBSyxJQUFJLEdBQTRCLEtBQUssS0FBSyxFQUFNLEdBQTJCLENBQUMsS0FDckgsR0FBTSxLQUFLLE1BQU0sSUFBSSxRQUNsQixHQUFVLEVBQWdCLEtBQUssSUFBSSxHQUE0QixLQUFLLElBQUksRUFBTSxHQUEyQixDQUFDLEtBQzdHLEVBQU0sRUFBYSxNQUE0QixFQUFTLEVBQWdCLE1BRWpGLFdBQVcsQ0FBQyxFQUFNLEVBQVMsQ0FDdkIsSUFBSyxFQUFLLFFBQVUsRUFBUSxNQUN4QixPQUFPLEVBQ1gsSUFBSSxFQUFTLENBQUMsRUFDZCxRQUFTLEtBQU8sRUFDWixJQUFLLEVBQVEsYUFBYSxFQUFJLEtBQU0sRUFBSSxFQUFFLEVBQ3RDLEVBQU8sS0FBSyxJQUFJLEdBQVEsRUFBUSxPQUFPLEVBQUksSUFBSSxFQUFHLEVBQVEsT0FBTyxFQUFJLEVBQUUsRUFBRyxFQUFJLElBQUksQ0FBQyxFQUMzRixPQUFPLEVBU1gsY0FBYyxDQUFDLEVBQVMsRUFBWSxDQUNoQyxJQUFJLEVBQVcsS0FBSyxhQUFhLGFBQzdCLEVBQVMsRUFBVyxJQUE0QixLQUFzQixFQUFhLEdBQVUsRUFBRyxFQUFlLEdBQVUsRUFFN0gsR0FBSSxLQUFLLHNCQUF3QixFQUFVLE1BQVEsRUFDL0MsTUFBTyxDQUFDLEVBQ1osSUFBSSxFQUFPLENBQUMsRUFDUixFQUFTLENBQUMsRUFBTSxFQUFJLEVBQU0sSUFBYyxDQUN4QyxHQUFJLEVBQUssRUFBTyxFQUNaLE9BQ0osSUFBSSxFQUFNLEtBQUssTUFBTSxVQUFVLEtBQU0sRUFBUSxDQUFDLEVBQUksSUFBSSxFQUN0RCxJQUFLLEVBQUksTUFDTCxFQUFNLEtBQUssRUFBSSxFQUFFLEVBQ3JCLFFBQVMsS0FBTyxFQUNaLEdBQUksRUFBTSxHQUFRLEVBQU0sRUFBSSxDQUN4QixFQUFPLEVBQU0sRUFBTSxHQUE2QixFQUFNLENBQVMsRUFDL0QsRUFBTyxFQUFNLEdBQTZCLEVBQUksRUFBTSxDQUFTLEVBQzdELE9BR1IsSUFBSSxFQUFNLEdBQUssRUFBUyxLQUFPLEVBQUksTUFBUSxFQUFLLE1BQVEsRUFBSSxJQUFNLEVBQUssSUFDbkUsS0FBSyxJQUFJLEVBQUksS0FBTyxDQUFJLEVBQUksR0FBYyxLQUFLLElBQUksRUFBSSxHQUFLLENBQUUsRUFBSSxJQUNqRSxFQUFNLEtBQUssS0FBTyxFQUFJLEtBQU8sR0FBTyxFQUFJLEdBQUssQ0FBRyxDQUFDLEVBQ3RELElBQUssRUFBSyxDQUVOLEdBQUksRUFBSyxFQUFLLElBQU0sR0FBYyxHQUM5QixFQUFXLGNBQWMsS0FBSyxLQUFLLEVBQUUsTUFBUSxHQUFNLEVBQUUsSUFBTSxDQUFFLEVBQUcsQ0FDaEUsSUFBSSxFQUFZLEVBQVcsbUJBQW1CLEVBQWdCLE9BQU8sQ0FBRSxFQUFHLEdBQU8sRUFBSSxFQUFFLEtBQ3ZGLEdBQUksRUFBWSxFQUNaLEVBQUssRUFFYixFQUFNLElBQUksR0FBUSxFQUFNLEVBQUksS0FBSyxRQUFRLEVBQU0sRUFBTSxFQUFJLENBQVMsQ0FBQyxFQUV2RSxFQUFLLEtBQUssQ0FBRyxHQUViLEVBQVksQ0FBQyxJQUFTLENBQ3RCLEdBQUksRUFBSyxPQUFTLEdBQWdCLEVBQUssTUFBUSxHQUFVLEtBQ3JELE9BQ0osSUFBSSxFQUFZLEdBQWMsRUFBSyxLQUFNLEVBQUssR0FBSSxLQUFLLFNBQVMsRUFDaEUsR0FBSSxFQUFVLE1BQVEsRUFDbEIsT0FDSixJQUFJLEVBQVMsS0FBSyxhQUFlLEtBQUssYUFBYSxNQUFNLEtBQU8sS0FDNUQsRUFBVSxFQUNkLEdBQUksRUFBVSxDQUNWLElBQUksRUFBZ0IsRUFBUyxLQUFLLGFBQWEsV0FBYyxLQUFLLGFBQWEsV0FDM0UsRUFBSyxFQUNULEdBQUksR0FBVSxLQUFNLENBQ2hCLElBQUksRUFBYSxHQUFhLEVBQVcsQ0FBTSxFQUMzQyxJQUFjLEtBQUssY0FBZ0IsS0FBSyxZQUFjLEVBQUksR0FBZ0IsRUFBSyxPQUNuRixFQUFNLEVBQWEsRUFDbkIsRUFBTSxFQUFhLE1BR25CLElBQU8sS0FBSyxXQUFhLEVBQUssSUFBTSxHQUFnQixFQUFLLE9BQ3pELEdBQU8sS0FBSyxjQUFnQixFQUFLLElBQU0sR0FBZ0IsRUFBSyxPQUVoRSxFQUFXLEdBQWEsRUFBVyxDQUFHLEVBQ3RDLEVBQVMsR0FBYSxFQUFXLENBQUcsTUFFbkMsQ0FDRCxJQUFJLEVBQWEsRUFBVSxNQUFRLEtBQUssYUFBYSxVQUNqRCxFQUFjLEVBQVMsS0FBSyxhQUFhLFVBQ3pDLEVBQU0sRUFDVixHQUFJLEdBQVUsS0FBTSxDQUNoQixJQUFJLEVBQWEsR0FBYSxFQUFXLENBQU0sRUFDM0MsSUFBYyxLQUFLLGNBQWMsTUFBUSxLQUFLLGNBQWMsTUFBUSxFQUFJLEdBQWUsRUFDM0YsRUFBTyxFQUFhLEVBQ3BCLEVBQVEsRUFBYSxNQUdyQixJQUFRLEtBQUssY0FBYyxLQUFPLEdBQWUsRUFDakQsR0FBUyxLQUFLLGNBQWMsTUFBUSxHQUFlLEVBRXZELEVBQVcsR0FBYSxFQUFXLENBQUksRUFDdkMsRUFBUyxHQUFhLEVBQVcsQ0FBSyxFQUUxQyxHQUFJLEVBQVcsRUFBSyxLQUNoQixFQUFPLEVBQUssS0FBTSxFQUFVLEVBQU0sQ0FBUyxFQUMvQyxHQUFJLEVBQVMsRUFBSyxHQUNkLEVBQU8sRUFBUSxFQUFLLEdBQUksRUFBTSxDQUFTLEdBRS9DLFFBQVMsS0FBUSxLQUFLLGNBQ2xCLEdBQUksTUFBTSxRQUFRLEVBQUssSUFBSSxFQUN2QixFQUFLLEtBQUssUUFBUSxDQUFTLE1BRTNCLEdBQVUsQ0FBSSxFQUV0QixPQUFPLEVBRVgsT0FBTyxDQUFDLEVBQU0sRUFBTSxFQUFJLEVBQVcsQ0FDL0IsSUFBSSxFQUFXLEdBQWEsRUFBVyxDQUFFLEVBQUksR0FBYSxFQUFXLENBQUksRUFDekUsR0FBSSxLQUFLLGFBQWEsYUFDbEIsT0FBTyxFQUFLLE9BQVMsTUFHckIsUUFBTyxFQUFVLE1BQVEsS0FBSyxhQUFhLFVBQVksRUFHL0QsY0FBYyxDQUFDLEVBQU0sQ0FDakIsSUFBSyxHQUFRLEtBQUssRUFBTSxLQUFLLFFBQVEsRUFDakMsS0FBSyxTQUFXLEVBQ2hCLEtBQUssWUFBYyxFQUFXLElBQUksRUFBSyxJQUFJLEtBQU8sRUFBSSxLQUFLLEtBQU0sS0FBSyxhQUFhLFlBQVksQ0FBQyxDQUFDLEVBR3pHLG9CQUFvQixFQUFHLENBQ25CLElBQUksRUFBTyxLQUFLLFVBQ2hCLEdBQUksS0FBSyxTQUFTLE9BQ2QsRUFBTyxFQUFLLE9BQU8sS0FBSyxXQUFXLEVBQ3ZDLElBQUksRUFBUyxDQUFDLEVBQ2QsRUFBUyxNQUFNLEVBQU0sS0FBSyxTQUFTLEtBQU0sS0FBSyxTQUFTLEdBQUksQ0FDdkQsSUFBSSxDQUFDLEVBQU0sRUFBSSxDQUFFLEVBQU8sS0FBSyxDQUFFLE9BQU0sSUFBRyxDQUFDLEdBQ3pDLEtBQUssRUFBRyxFQUNaLEVBQUcsRUFBRSxFQUNMLElBQUksRUFBVSxFQUFPLFFBQVUsS0FBSyxjQUFjLFFBQzlDLEtBQUssY0FBYyxLQUFLLENBQUMsRUFBRyxJQUFNLEVBQUUsTUFBUSxFQUFPLEdBQUcsTUFBUSxFQUFFLElBQU0sRUFBTyxHQUFHLEVBQUUsRUFFdEYsT0FEQSxLQUFLLGNBQWdCLEVBQ2QsRUFBVSxFQUE4QixFQUVuRCxXQUFXLENBQUMsRUFBSyxDQUNiLE9BQVEsR0FBTyxLQUFLLFNBQVMsTUFBUSxHQUFPLEtBQUssU0FBUyxJQUN0RCxLQUFLLGNBQWMsS0FBSyxLQUFLLEVBQUUsTUFBUSxHQUFPLEVBQUUsSUFBTSxDQUFHLEdBQ3pELEdBQVcsS0FBSyxVQUFVLE9BQU8sRUFBSyxFQUFVLE1BQU8sS0FBSyxhQUFjLEVBQUcsQ0FBQyxFQUFHLEtBQUssTUFBTSxFQUVwRyxpQkFBaUIsQ0FBQyxFQUFRLENBQ3RCLE9BQVEsR0FBVSxLQUFLLGNBQWMsR0FBRyxLQUFPLEdBQVUsS0FBSyxjQUFjLEtBQUssY0FBYyxPQUFTLEdBQUcsUUFDdkcsS0FBSyxjQUFjLEtBQUssS0FBSyxFQUFFLEtBQU8sR0FBVSxFQUFFLFFBQVUsQ0FBTSxHQUNsRSxHQUFXLEtBQUssVUFBVSxPQUFPLEtBQUssT0FBTyxRQUFRLENBQU0sRUFBRyxFQUFVLFNBQVUsS0FBSyxhQUFjLEVBQUcsQ0FBQyxFQUFHLEtBQUssTUFBTSxFQUUvSCxjQUFjLENBQUMsRUFBVyxDQUN0QixJQUFJLEVBQVEsS0FBSyxrQkFBa0IsRUFBWSxDQUFDLEVBQ2hELE9BQU8sRUFBTSxNQUFRLEtBQUssU0FBUyxNQUFRLEtBQUssY0FBYyxHQUFHLElBQU0sRUFBWSxJQUFNLEVBQVEsS0FBSyxjQUFjLEdBRXhILGVBQWUsQ0FBQyxFQUFRLENBQ3BCLE9BQU8sR0FBVyxLQUFLLFVBQVUsUUFBUSxLQUFLLE9BQU8sUUFBUSxDQUFNLEVBQUcsS0FBSyxhQUFjLEVBQUcsQ0FBQyxFQUFHLEtBQUssTUFBTSxLQUUzRyxVQUFTLEVBQUcsQ0FDWixPQUFPLEtBQUssT0FBTyxNQUFNLEtBQUssVUFBVSxNQUFNLEtBRTlDLGNBQWEsRUFBRyxDQUNoQixPQUFPLEtBQUssVUFBWSxLQUFLLFdBQWEsS0FBSyxjQUV2RCxDQUNBLE1BQU0sRUFBUyxDQUNYLFdBQVcsQ0FBQyxFQUFNLEVBQUksQ0FDbEIsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBRWxCLENBbURBLElBQU0sR0FBVyxDQUNiLEtBQUssQ0FBQyxFQUFHLENBQUUsT0FBTyxHQUNsQixPQUFPLENBQUMsRUFBRyxDQUFFLE9BQU8sR0FDcEIsTUFBTyxFQUNQLEVBQUUsQ0FBQyxFQUFPLENBQUUsT0FBTyxHQUFTLEtBQ2hDLEVBSUEsTUFBTSxFQUFVLENBQ1osV0FBVyxDQUFDLEVBQVEsRUFBVyxFQUFXLENBQ3RDLElBQUksRUFBVyxFQUFHLEVBQU8sRUFBRyxFQUFVLEVBQ3RDLEtBQUssVUFBWSxFQUFVLElBQUksRUFBRyxPQUFNLFFBQVMsQ0FDN0MsSUFBSSxFQUFNLEVBQVUsT0FBTyxFQUFNLEVBQVUsTUFBTyxFQUFRLEVBQUcsQ0FBQyxFQUFFLElBQzVELEVBQVMsRUFBVSxPQUFPLEVBQUksRUFBVSxNQUFPLEVBQVEsRUFBRyxDQUFDLEVBQUUsT0FFakUsT0FEQSxHQUFZLEVBQVMsRUFDZCxDQUFFLE9BQU0sS0FBSSxNQUFLLFNBQVEsT0FBUSxFQUFHLFVBQVcsQ0FBRSxFQUMzRCxFQUNELEtBQUssT0FBUyxRQUFnQyxJQUFhLEVBQVUsT0FBUyxHQUM5RSxRQUFTLEtBQU8sS0FBSyxVQUNqQixFQUFJLE9BQVMsR0FBVyxFQUFJLElBQU0sR0FBUSxLQUFLLE1BQy9DLEVBQVUsRUFBSSxVQUFZLEVBQUksUUFBVSxFQUFJLE9BQVMsRUFBSSxLQUN6RCxFQUFPLEVBQUksT0FHbkIsS0FBSyxDQUFDLEVBQUcsQ0FDTCxRQUFTLEVBQUksRUFBRyxFQUFPLEVBQUcsRUFBVSxHQUFJLElBQUssQ0FDekMsSUFBSSxFQUFLLEVBQUksS0FBSyxVQUFVLE9BQVMsS0FBSyxVQUFVLEdBQUssS0FDekQsSUFBSyxHQUFNLEVBQUksRUFBRyxJQUNkLE9BQU8sR0FBVyxFQUFJLEdBQVEsS0FBSyxNQUN2QyxHQUFJLEdBQUssRUFBRyxPQUNSLE9BQU8sRUFBRyxRQUFVLEVBQUksRUFBRyxLQUMvQixFQUFPLEVBQUcsT0FDVixFQUFVLEVBQUcsV0FHckIsT0FBTyxDQUFDLEVBQUcsQ0FDUCxRQUFTLEVBQUksRUFBRyxFQUFPLEVBQUcsRUFBVSxHQUFJLElBQUssQ0FDekMsSUFBSSxFQUFLLEVBQUksS0FBSyxVQUFVLE9BQVMsS0FBSyxVQUFVLEdBQUssS0FDekQsSUFBSyxHQUFNLEVBQUksRUFBRyxPQUNkLE9BQU8sR0FBUSxFQUFJLEdBQVcsS0FBSyxNQUN2QyxHQUFJLEdBQUssRUFBRyxVQUNSLE9BQU8sRUFBRyxLQUFPLEVBQUksRUFBRyxRQUM1QixFQUFPLEVBQUcsT0FDVixFQUFVLEVBQUcsV0FHckIsRUFBRSxDQUFDLEVBQU8sQ0FDTixLQUFNLGFBQWlCLElBQ25CLE1BQU8sR0FDWCxPQUFPLEtBQUssT0FBUyxFQUFNLE9BQVMsS0FBSyxVQUFVLFFBQVUsRUFBTSxVQUFVLFFBQ3pFLEtBQUssVUFBVSxNQUFNLENBQUMsRUFBSSxJQUFNLEVBQUcsTUFBUSxFQUFNLFVBQVUsR0FBRyxNQUFRLEVBQUcsSUFBTSxFQUFNLFVBQVUsR0FBRyxFQUFFLEVBRWhILENBUUEsSUFBTSxHQUFxQixFQUFNLE9BQU8sQ0FBRSxRQUFTLEtBQVEsRUFBSyxLQUFLLEdBQUcsQ0FBRSxDQUFDLEVBQ3JFLEdBQXlCLEVBQU0sT0FBTyxDQUFFLFFBQVMsS0FBVSxFQUFPLFFBQVEsRUFBSSxFQUFJLEVBQUcsQ0FBQyxFQUN0RixHQUEyQixHQUFZLFFBQVEsRUFBRyxHQUEyQixHQUFZLFFBQVEsRUFBRyxHQUEwQixHQUFZLFFBQVEsRUFDbEosR0FBZSxDQUFFLFNBQVUsSUFBTSxHQUFhLFFBQVMsSUFBTSxFQUFXLEVBY3hFLEdBQTJCLEdBQVcsSUFBTSxHQUFhLENBQzNELElBQUssQ0FDRCxTQUFVLHNCQUNWLFVBQVcsYUFDWCxlQUFnQixDQVNaLFFBQVMsb0JBQ2IsRUFDQSxRQUFTLGtCQUNULGNBQWUsUUFDbkIsRUFDQSxlQUFnQixDQUNaLFFBQVMsa0JBQ1QsV0FBWSx3QkFDWixXQUFZLFlBQ1osV0FBWSxJQUNaLE9BQVEsT0FDUixVQUFXLE9BQ1gsU0FBVSxXQUNWLE9BQVEsRUFDUixlQUFnQixNQUNwQixFQUNBLGNBQWUsQ0FDWCxPQUFRLEVBQ1IsU0FBVSxFQUNWLFdBQVksRUFDWixRQUFTLFFBQ1QsV0FBWSxNQUNaLFNBQVUsU0FDVixVQUFXLGFBQ1gsVUFBVyxPQUNYLFFBQVMsUUFDVCxRQUFTLE9BQ1QsMEJBQTJCLENBQ3ZCLGlCQUFrQiwyQkFDdEIsQ0FDSixFQUNBLG1CQUFvQixDQUNoQixvQkFBcUIsV0FDckIsV0FBWSxlQUNaLFVBQVcsYUFDWCxhQUFjLFdBQ2QsV0FBWSxDQUNoQixFQUNBLHFCQUFzQixDQUFFLFdBQVksT0FBUSxFQUM1QyxvQkFBcUIsQ0FBRSxXQUFZLE9BQVEsRUFDM0MsV0FBWSxDQUNSLFFBQVMsUUFDVCxRQUFTLGFBQ2IsRUFDQSxZQUFhLENBQ1QsU0FBVSxXQUNWLEtBQU0sRUFDTixJQUFLLEVBQ0wsUUFBUyxhQUNULFFBQVMsQ0FDTCxTQUFVLFVBQ2QsQ0FDSixFQUNBLGlDQUFrQyxDQUM5QixXQUFZLFNBQ2hCLEVBQ0EsZ0NBQWlDLENBQzdCLFdBQVksTUFDaEIsRUFDQSxnRkFBaUYsQ0FDN0UsV0FBWSxTQUNoQixFQUNBLCtFQUFnRixDQUM1RSxXQUFZLE1BQ2hCLEVBQ0Esa0JBQW1CLENBQ2YsY0FBZSxNQUNuQixFQUNBLGdEQUFpRCxDQUM3QyxVQUFXLGlDQUNmLEVBSUEsc0JBQXVCLENBQUUsS0FBTSxDQUFDLEVBQUcsTUFBTyxDQUFFLFFBQVMsQ0FBRSxFQUFHLE9BQVEsQ0FBQyxDQUFFLEVBQ3JFLHVCQUF3QixDQUFFLEtBQU0sQ0FBQyxFQUFHLE1BQU8sQ0FBRSxRQUFTLENBQUUsRUFBRyxPQUFRLENBQUMsQ0FBRSxFQUN0RSw2QkFBOEIsQ0FDMUIsV0FBWSxvQkFDWixXQUFZLFNBQ1osY0FBZSxNQUNuQixFQUNBLGFBQWMsQ0FDVixRQUFTLE1BQ2IsRUFDQSxtQkFBb0IsQ0FDaEIsZ0JBQWlCLE1BQ3JCLEVBQ0EsaUJBQWtCLENBQ2QsU0FBVSxVQUNkLEVBQ0EsMkRBQTRELENBQ3hELFFBQVMsT0FDYixFQUNBLFVBQVcsQ0FDUCxZQUFhLFNBQ2pCLEVBQ0EsZ0JBQWlCLENBQ2IsU0FBVSxRQUNWLElBQUssVUFDVCxFQUNBLGVBQWdCLENBQ1osZ0JBQWlCLENBQUUsUUFBUyxNQUFPLENBQ3ZDLEVBQ0Esd0JBQXlCLENBQUUsZ0JBQWlCLFdBQVksRUFDeEQsdUJBQXdCLENBQUUsZ0JBQWlCLFdBQVksRUFDdkQseUJBQTBCLENBQUUsTUFBTyxLQUFNLEVBQ3pDLHdCQUF5QixDQUFFLE1BQU8sTUFBTyxFQUN6QyxjQUFlLENBQ1gsV0FBWSxFQUNaLFFBQVMsT0FDVCxPQUFRLE9BQ1IsVUFBVyxhQUNYLGlCQUFrQixFQUNsQixPQUFRLEdBQ1osRUFDQSxxQkFBc0IsQ0FDbEIsZ0JBQWlCLFVBQ2pCLE1BQU8sVUFDUCxZQUFhLGdCQUNqQixFQUNBLG9CQUFxQixDQUNqQixnQkFBaUIsVUFDakIsTUFBTyxNQUNYLEVBQ0EsYUFBYyxDQUNWLFFBQVMsa0JBQ1QsY0FBZSxTQUNmLFdBQVksRUFDWixVQUFXLGFBQ1gsVUFBVyxPQUNYLFNBQVUsUUFDZCxFQUNBLG9CQUFxQixDQUNqQixVQUFXLFlBQ2YsRUFDQSxvQ0FBcUMsQ0FDakMsUUFBUyxjQUNULFNBQVUsT0FDVixVQUFXLFFBQ1gsV0FBWSxRQUNoQixFQUNBLDhCQUErQixDQUMzQixnQkFBaUIsU0FDckIsRUFDQSw2QkFBOEIsQ0FDMUIsZ0JBQWlCLFNBQ3JCLEVBQ0EsYUFBYyxDQUNWLFVBQVcsYUFDWCxTQUFVLFNBQ1YsS0FBTSxFQUNOLE1BQU8sRUFDUCxPQUFRLEdBQ1osRUFDQSxvQkFBcUIsQ0FDakIsZ0JBQWlCLFVBQ2pCLE1BQU8sT0FDWCxFQUNBLHdCQUF5QixDQUNyQixhQUFjLGdCQUNsQixFQUNBLDJCQUE0QixDQUN4QixVQUFXLGdCQUNmLEVBQ0EsbUJBQW9CLENBQ2hCLGdCQUFpQixVQUNqQixNQUFPLE9BQ1gsRUFDQSxVQUFXLENBQ1AsUUFBUyxlQUNULFNBQVUsU0FDVixjQUFlLFFBQ25CLEVBQ0EsbUJBQW9CLENBQ2hCLGNBQWUsV0FDZixPQUFRLE1BQ1IsTUFBTyxFQUNQLFFBQVMsUUFDYixFQUNBLGtCQUFtQixDQUNmLE1BQU8sT0FDUCxRQUFTLGVBQ1QsY0FBZSxLQUNuQixFQUNBLDRCQUE2QixDQUN6QixRQUFTLHFCQUNULFNBQVUsV0FDVixjQUFlLE9BQ2YsTUFBTyxNQUNYLEVBQ0EsbUJBQW9CLENBQ2hCLGdCQUFpQixzTUFDakIsZUFBZ0IsWUFDaEIsbUJBQW9CLFlBQ3BCLGlCQUFrQixXQUN0QixFQUNBLG9CQUFxQixDQUNqQixnQkFBaUIsV0FDckIsRUFDQSxhQUFjLENBQ1YsY0FBZSxTQUNmLE1BQU8sVUFDUCxTQUFVLE1BQ1YsUUFBUyxXQUNULGFBQWMsS0FDbEIsRUFDQSxvQkFBcUIsQ0FDakIsZ0JBQWlCLG9DQUNqQixPQUFRLGlCQUNSLFdBQVksQ0FDUixnQkFBaUIsbUNBQ3JCLENBQ0osRUFDQSxtQkFBb0IsQ0FDaEIsZ0JBQWlCLGlDQUNqQixPQUFRLGlCQUNSLFdBQVksQ0FDUixnQkFBaUIsNkJBQ3JCLENBQ0osRUFDQSxnQkFBaUIsQ0FDYixjQUFlLFNBQ2YsTUFBTyxVQUNQLFNBQVUsTUFDVixPQUFRLG1CQUNSLFFBQVMsV0FDYixFQUNBLHVCQUF3QixDQUNwQixnQkFBaUIsT0FDckIsRUFDQSxzQkFBdUIsQ0FDbkIsT0FBUSxpQkFDUixnQkFBaUIsU0FDckIsQ0FDSixFQUFHLEVBQVksRUFFVCxHQUFpQixDQUNuQixVQUFXLEdBQ1gsY0FBZSxHQUNmLFFBQVMsR0FDVCxXQUFZLEdBQ1osc0JBQXVCLEVBQzNCLEVBR00sR0FBYyxFQUFRLElBQU0sRUFBUSxZQUFjLEdBQ3hELE1BQU0sRUFBWSxDQUNkLFdBQVcsQ0FBQyxFQUFNLENBZ0RkLEdBL0NBLEtBQUssS0FBTyxFQUNaLEtBQUssT0FBUyxHQUNkLEtBQUssWUFBYyxLQU9uQixLQUFLLGVBQWlCLElBQUksR0FFMUIsS0FBSyxpQkFBbUIsR0FDeEIsS0FBSyxhQUFlLEdBQ3BCLEtBQUssY0FBZ0IsR0FDckIsS0FBSyxNQUFRLENBQUMsRUFDZCxLQUFLLGtCQUFvQixLQUN6QixLQUFLLG1CQUFxQixHQUMxQixLQUFLLFdBQWEsRUFDbEIsS0FBSyxjQUFnQixDQUFDLEVBQ3RCLEtBQUssYUFBZSxLQUNwQixLQUFLLGFBQWUsS0FDcEIsS0FBSyxhQUFlLEdBQ3BCLEtBQUssZ0JBQWtCLEtBQ3ZCLEtBQUssS0FBTyxDQUFDLEVBQ2IsS0FBSyxXQUFhLEtBRWxCLEtBQUssWUFBYyxHQUNuQixLQUFLLElBQU0sRUFBSyxXQUNoQixLQUFLLFNBQVcsSUFBSSxpQkFBaUIsS0FBYSxDQUM5QyxRQUFTLEtBQU8sRUFDWixLQUFLLE1BQU0sS0FBSyxDQUFHLEVBVXZCLElBQUssRUFBUSxJQUFNLEVBQVEsWUFBYyxJQUFNLEVBQVEsS0FBTyxFQUFLLFlBQy9ELEVBQVUsS0FBSyxLQUFLLEVBQUUsTUFBUSxhQUFlLEVBQUUsYUFBYSxRQUN4RCxFQUFFLE1BQVEsaUJBQW1CLEVBQUUsU0FBUyxPQUFTLEVBQUUsT0FBTyxVQUFVLE1BQU0sRUFDOUUsS0FBSyxVQUFVLE1BRWYsTUFBSyxNQUFNLEVBQ2xCLEVBQ0csT0FBTyxhQUFlLEVBQUssWUFBWSxlQUFpQixNQUV0RCxFQUFRLFFBQVUsRUFBUSxlQUFpQixNQUU3QyxHQURBLEtBQUssWUFBYyxJQUFJLEdBQW1CLENBQUksRUFDMUMsRUFBSyxNQUFNLE1BQU0sRUFBUSxFQUN6QixFQUFLLFdBQVcsWUFBYyxLQUFLLFlBQVksWUFFdkQsR0FBSSxHQUNBLEtBQUssV0FBYSxDQUFDLElBQVUsQ0FDekIsS0FBSyxNQUFNLEtBQUssQ0FBRSxPQUFRLEVBQU0sT0FDNUIsS0FBTSxnQkFDTixTQUFVLEVBQU0sU0FBVSxDQUFDLEVBQy9CLEtBQUssVUFBVSxHQU12QixHQUpBLEtBQUssa0JBQW9CLEtBQUssa0JBQWtCLEtBQUssSUFBSSxFQUN6RCxLQUFLLFNBQVcsS0FBSyxTQUFTLEtBQUssSUFBSSxFQUN2QyxLQUFLLFFBQVUsS0FBSyxRQUFRLEtBQUssSUFBSSxFQUNyQyxLQUFLLFNBQVcsS0FBSyxTQUFTLEtBQUssSUFBSSxFQUNuQyxPQUFPLFdBQ1AsS0FBSyxXQUFhLE9BQU8sV0FBVyxPQUFPLEVBQy9DLFVBQVcsZ0JBQWtCLFdBQ3pCLEtBQUssYUFBZSxJQUFJLGVBQWUsSUFBTSxDQUN6QyxJQUFJLEVBQ0osS0FBTSxFQUFLLEtBQUssS0FBSyxXQUFhLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxZQUFjLEtBQUssSUFBSSxFQUFJLEdBQzdGLEtBQUssU0FBUyxFQUNyQixFQUNELEtBQUssYUFBYSxRQUFRLEVBQUssU0FBUyxFQUk1QyxHQUZBLEtBQUssbUJBQW1CLEtBQUssSUFBTSxFQUFLLEdBQUcsRUFDM0MsS0FBSyxNQUFNLFNBQ0Esc0JBQXdCLFdBQy9CLEtBQUssYUFBZSxJQUFJLHFCQUFxQixLQUFXLENBQ3BELEdBQUksS0FBSyxZQUFjLEVBQ25CLEtBQUssWUFBYyxXQUFXLEtBQUssZ0JBQWdCLEtBQUssSUFBSSxFQUFHLElBQUksRUFDdkUsR0FBSSxFQUFRLE9BQVMsR0FBTSxFQUFRLEVBQVEsT0FBUyxHQUFHLGtCQUFvQixHQUFNLEtBQUssY0FFbEYsR0FEQSxLQUFLLGNBQWdCLEtBQUssYUFDdEIsS0FBSyxjQUFnQixLQUFLLEtBQUssT0FDL0IsS0FBSyxnQkFBZ0IsU0FBUyxZQUFZLE9BQU8sQ0FBQyxJQUUzRCxDQUFFLFVBQVcsQ0FBQyxFQUFHLEtBQUksQ0FBRSxDQUFDLEVBQzNCLEtBQUssYUFBYSxRQUFRLEtBQUssR0FBRyxFQUNsQyxLQUFLLGdCQUFrQixJQUFJLHFCQUFxQixLQUFXLENBQ3ZELEdBQUksRUFBUSxPQUFTLEdBQUssRUFBUSxFQUFRLE9BQVMsR0FBRyxrQkFBb0IsRUFDdEUsS0FBSyxnQkFBZ0IsU0FBUyxZQUFZLE9BQU8sQ0FBQyxHQUN2RCxDQUFDLENBQUMsRUFFVCxLQUFLLGdCQUFnQixFQUNyQixLQUFLLG1CQUFtQixFQUU1QixlQUFlLENBQUMsRUFBRyxDQUVmLEdBREEsS0FBSyxLQUFLLFdBQVcsWUFBWSxTQUFVLENBQUMsRUFDeEMsS0FBSyxhQUNMLEtBQUssS0FBSyxRQUFRLEVBRTFCLFFBQVEsQ0FBQyxFQUFHLENBQ1IsR0FBSSxLQUFLLGFBQ0wsS0FBSyxNQUFNLEVBQUssRUFDcEIsR0FBSSxLQUFLLFlBQ0wsS0FBSyxLQUFLLGVBQWUsS0FBSyxZQUFZLFVBQVUsRUFDeEQsS0FBSyxnQkFBZ0IsQ0FBQyxFQUUxQixRQUFRLEVBQUcsQ0FDUCxHQUFJLEtBQUssY0FBZ0IsRUFDckIsS0FBSyxjQUFnQixXQUFXLElBQU0sQ0FDbEMsS0FBSyxjQUFnQixHQUNyQixLQUFLLEtBQUssZUFBZSxHQUMxQixFQUFFLEVBRWIsT0FBTyxDQUFDLEVBQU8sQ0FDWCxJQUFLLEVBQU0sTUFBUSxXQUFhLEVBQU0sUUFBVSxFQUFNLFFBQ2xELE9BQ0osS0FBSyxLQUFLLFVBQVUsU0FBVyxHQUMvQixLQUFLLEtBQUssUUFBUSxFQUNsQixXQUFXLElBQU0sQ0FDYixLQUFLLEtBQUssVUFBVSxTQUFXLEdBQy9CLEtBQUssS0FBSyxlQUFlLEdBQzFCLEdBQUcsRUFFVixVQUFVLENBQUMsRUFBTSxDQUNiLEdBQUksS0FBSyxrQkFBb0IsRUFBSyxRQUFVLEtBQUssS0FBSyxRQUFVLEtBQUssS0FBSyxLQUFLLENBQUMsRUFBRyxJQUFNLEdBQUssRUFBSyxFQUFFLEdBQUksQ0FDckcsS0FBSyxnQkFBZ0IsV0FBVyxFQUNoQyxRQUFTLEtBQU8sRUFDWixLQUFLLGdCQUFnQixRQUFRLENBQUcsRUFDcEMsS0FBSyxLQUFPLEdBR3BCLGlCQUFpQixDQUFDLEVBQU8sQ0FDckIsSUFBSSxFQUFhLEtBQUssaUJBQ3RCLElBQUssS0FBSyxtQkFBbUIsR0FBSyxLQUFLLGtCQUNuQyxPQUNKLElBQU0sUUFBUyxLQUFNLEVBQU0sS0FBSyxlQUNoQyxHQUFJLEVBQUssTUFBTSxNQUFNLEVBQVEsRUFBSSxFQUFLLEtBQUssZUFBaUIsS0FBSyxLQUFPLEdBQWEsRUFBSyxJQUFLLENBQUcsRUFDOUYsT0FDSixJQUFJLEVBQVUsRUFBSSxZQUFjLEVBQUssUUFBUSxRQUFRLEVBQUksVUFBVSxFQUNuRSxHQUFJLEdBQVcsRUFBUSxZQUFZLENBQUssRUFBRyxDQUN2QyxJQUFLLEVBQ0QsS0FBSyxpQkFBbUIsR0FDNUIsT0FPSixJQUFLLEVBQVEsSUFBTSxFQUFRLFlBQWMsSUFBTSxFQUFRLFNBQVcsRUFBUSxVQUFZLEVBQUssTUFBTSxVQUFVLEtBQUssT0FFNUcsRUFBSSxXQUFhLEdBQXFCLEVBQUksVUFBVyxFQUFJLFlBQWEsRUFBSSxXQUFZLEVBQUksWUFBWSxFQUN0RyxLQUFLLFVBQVUsTUFFZixNQUFLLE1BQU0sRUFBSyxFQUV4QixrQkFBa0IsRUFBRyxDQUNqQixJQUFNLFFBQVMsS0FHWCxFQUFZLEdBQWEsRUFBSyxJQUFJLEVBQ3RDLElBQUssRUFDRCxNQUFPLEdBQ1gsSUFBSSxFQUFRLEVBQVEsUUFBVSxFQUFLLEtBQUssVUFBWSxJQUNoRCxHQUFrQixLQUFLLElBQUksYUFBYSxHQUFLLEtBQUssS0FDbEQsR0FBeUIsS0FBSyxLQUFNLENBQVMsR0FBSyxFQUN0RCxJQUFLLEdBQVMsS0FBSyxlQUFlLEdBQUcsQ0FBSyxFQUN0QyxNQUFPLEdBQ1gsSUFBSSxFQUFRLEdBQWEsS0FBSyxJQUFLLENBQUssRUFJeEMsR0FBSSxJQUFVLEtBQUssa0JBQ2YsRUFBSyxXQUFXLGNBQWdCLEtBQUssSUFBSSxFQUFJLEtBQzdDLEVBQUssV0FBVyxjQUFnQixLQUFLLElBQUksRUFBSSxLQUM3QyxHQUFlLEtBQUssSUFBSyxDQUFLLEVBRzlCLE9BRkEsS0FBSyxLQUFLLFdBQVcsY0FBZ0IsRUFDckMsRUFBSyxRQUFRLGdCQUFnQixFQUN0QixHQUdYLEdBREEsS0FBSyxlQUFlLFNBQVMsQ0FBSyxFQUM5QixFQUNBLEtBQUssaUJBQW1CLEdBQzVCLE1BQU8sR0FFWCxpQkFBaUIsQ0FBQyxFQUFRLEVBQU0sQ0FDNUIsS0FBSyxlQUFlLElBQUksRUFBTyxLQUFNLEVBQU8sT0FBUSxFQUFLLEtBQU0sRUFBSyxNQUFNLEVBQzFFLEtBQUssaUJBQW1CLEdBRTVCLG1CQUFtQixFQUFHLENBQ2xCLEtBQUssZUFBZSxJQUFJLEtBQU0sRUFBRyxLQUFNLENBQUMsRUFFNUMsZUFBZSxFQUFHLENBQ2QsS0FBSyxZQUFjLEdBQ25CLElBQUksRUFBSSxFQUFHLEVBQVUsS0FDckIsUUFBUyxFQUFNLEtBQUssSUFBSyxHQUNyQixHQUFJLEVBQUksVUFBWSxFQUFHLENBQ25CLElBQUssR0FBVyxFQUFJLEtBQUssY0FBYyxRQUFVLEtBQUssY0FBYyxJQUFNLEVBQ3RFLGFBQ00sRUFDTixFQUFVLEtBQUssY0FBYyxNQUFNLEVBQUcsQ0FBQyxFQUMzQyxHQUFJLEVBQ0EsRUFBUSxLQUFLLENBQUcsRUFDcEIsRUFBTSxFQUFJLGNBQWdCLEVBQUksbUJBRXpCLEVBQUksVUFBWSxHQUNyQixFQUFNLEVBQUksU0FHVixPQUdSLEdBQUksRUFBSSxLQUFLLGNBQWMsU0FBVyxFQUNsQyxFQUFVLEtBQUssY0FBYyxNQUFNLEVBQUcsQ0FBQyxFQUMzQyxHQUFJLEVBQVMsQ0FDVCxRQUFTLEtBQU8sS0FBSyxjQUNqQixFQUFJLG9CQUFvQixTQUFVLEtBQUssUUFBUSxFQUNuRCxRQUFTLEtBQU8sS0FBSyxjQUFnQixFQUNqQyxFQUFJLGlCQUFpQixTQUFVLEtBQUssUUFBUSxHQUd4RCxNQUFNLENBQUMsRUFBRyxDQUNOLElBQUssS0FBSyxPQUNOLE9BQU8sRUFBRSxFQUNiLEdBQUksQ0FFQSxPQURBLEtBQUssS0FBSyxFQUNILEVBQUUsU0FFYixDQUNJLEtBQUssTUFBTSxFQUNYLEtBQUssTUFBTSxHQUduQixLQUFLLEVBQUcsQ0FDSixHQUFJLEtBQUssT0FDTCxPQUVKLEdBREEsS0FBSyxTQUFTLFFBQVEsS0FBSyxJQUFLLEVBQWMsRUFDMUMsR0FDQSxLQUFLLElBQUksaUJBQWlCLDJCQUE0QixLQUFLLFVBQVUsRUFDekUsS0FBSyxPQUFTLEdBRWxCLElBQUksRUFBRyxDQUNILElBQUssS0FBSyxPQUNOLE9BR0osR0FGQSxLQUFLLE9BQVMsR0FDZCxLQUFLLFNBQVMsV0FBVyxFQUNyQixHQUNBLEtBQUssSUFBSSxvQkFBb0IsMkJBQTRCLEtBQUssVUFBVSxFQUdoRixLQUFLLEVBQUcsQ0FDSixLQUFLLGVBQWUsRUFDcEIsS0FBSyxNQUFNLE9BQVMsRUFDcEIsS0FBSyxpQkFBbUIsR0FVNUIsZUFBZSxDQUFDLEVBQUssRUFBUyxDQUMxQixJQUFJLEVBQ0osSUFBSyxLQUFLLGtCQUFtQixDQUN6QixJQUFJLEVBQVEsSUFBTSxDQUNkLElBQUksRUFBTSxLQUFLLGtCQUNmLEdBQUksR0FLQSxHQUpBLEtBQUssdUJBQXVCLEVBQzVCLEtBQUssS0FBSyxXQUFXLFlBQWMsRUFBSSxRQUN2QyxLQUFLLEtBQUssV0FBVyxZQUFjLEtBQUssSUFBSSxHQUM5QixLQUFLLE1BQU0sR0FDVCxFQUFJLE1BQ2hCLEdBQVksS0FBSyxJQUFLLEVBQUksSUFBSyxFQUFJLE9BQU8sSUFHdEQsS0FBSyxtQkFBcUIsS0FBSyxLQUFLLElBQUksc0JBQXNCLENBQUssRUFJdkUsSUFBSyxLQUFLLG1CQUFxQixHQUFPLFFBQ2xDLEtBQUssa0JBQW9CLENBQ3JCLE1BQUssVUFLTCxNQUFPLEtBQUssV0FBYSxLQUFLLElBQUksRUFBSSxRQUFVLEVBQUssS0FBSyxxQkFBdUIsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE1BQ3pILEVBRVIsc0JBQXNCLEVBQUcsQ0FDckIsS0FBSyxJQUFJLHFCQUFxQixLQUFLLGtCQUFrQixFQUNyRCxLQUFLLGtCQUFvQixLQUN6QixLQUFLLG1CQUFxQixHQUU5QixTQUFTLEVBQUcsQ0FDUixHQUFJLEtBQUssYUFBZSxFQUNwQixLQUFLLGFBQWUsS0FBSyxLQUFLLElBQUksc0JBQXNCLElBQU0sQ0FBRSxLQUFLLGFBQWUsR0FBSSxLQUFLLE1BQU0sRUFBSSxFQUUvRyxVQUFVLEVBQUcsQ0FDVCxHQUFJLEtBQUssY0FBZ0IsRUFDckIsS0FBSyxLQUFLLElBQUkscUJBQXFCLEtBQUssWUFBWSxFQUNwRCxLQUFLLGFBQWUsR0FFeEIsS0FBSyxNQUFNLEVBRWYsY0FBYyxFQUFHLENBQ2IsUUFBUyxLQUFPLEtBQUssU0FBUyxZQUFZLEVBQ3RDLEtBQUssTUFBTSxLQUFLLENBQUcsRUFDdkIsT0FBTyxLQUFLLE1BRWhCLGNBQWMsRUFBRyxDQUNiLElBQUksRUFBVSxLQUFLLGVBQWUsRUFDbEMsR0FBSSxFQUFRLE9BQ1IsS0FBSyxNQUFRLENBQUMsRUFDbEIsSUFBSSxFQUFPLEdBQUksRUFBSyxHQUFJLEVBQVcsR0FDbkMsUUFBUyxLQUFVLEVBQVMsQ0FDeEIsSUFBSSxFQUFRLEtBQUssYUFBYSxDQUFNLEVBQ3BDLElBQUssRUFDRCxTQUNKLEdBQUksRUFBTSxTQUNOLEVBQVcsR0FDZixHQUFJLEdBQVEsR0FDUixDQUFDLENBQUUsT0FBTSxJQUFHLEVBQUksT0FHaEIsR0FBTyxLQUFLLElBQUksRUFBTSxLQUFNLENBQUksRUFDaEMsRUFBSyxLQUFLLElBQUksRUFBTSxHQUFJLENBQUUsRUFHbEMsTUFBTyxDQUFFLE9BQU0sS0FBSSxVQUFTLEVBRWhDLFVBQVUsRUFBRyxDQUNULElBQU0sT0FBTSxLQUFJLFlBQWEsS0FBSyxlQUFlLEVBQzdDLEVBQVMsS0FBSyxrQkFBb0IsR0FBYSxLQUFLLElBQUssS0FBSyxjQUFjLEVBQ2hGLEdBQUksRUFBTyxJQUFNLEVBQ2IsT0FBTyxLQUNYLEdBQUksRUFBTyxHQUNQLEtBQUssV0FBYSxLQUFLLElBQUksRUFDL0IsS0FBSyxLQUFLLFdBQVcsY0FBZ0IsRUFDckMsS0FBSyxpQkFBbUIsR0FDeEIsSUFBSSxFQUFTLElBQUksR0FBVSxLQUFLLEtBQU0sRUFBTSxFQUFJLENBQVEsRUFFeEQsT0FEQSxLQUFLLEtBQUssUUFBUSxXQUFhLENBQUUsT0FBUSxFQUFPLE9BQVMsRUFBTyxPQUFPLEtBQU8sSUFBSyxFQUM1RSxFQUdYLEtBQUssQ0FBQyxFQUFnQixHQUFNLENBSXhCLEdBQUksS0FBSyxjQUFnQixHQUFLLEtBQUssa0JBQy9CLE1BQU8sR0FDWCxHQUFJLEVBQ0EsS0FBSyxtQkFBbUIsRUFDNUIsSUFBSSxFQUFZLEtBQUssV0FBVyxFQUNoQyxJQUFLLEVBRUQsT0FEQSxLQUFLLEtBQUssZUFBZSxFQUNsQixHQUVYLElBQUksRUFBYSxLQUFLLEtBQUssTUFDdkIsRUFBVSxHQUFlLEtBQUssS0FBTSxDQUFTLEVBRWpELEdBQUksS0FBSyxLQUFLLE9BQVMsSUFDbEIsRUFBVSxZQUFjLEVBQVUsU0FBVyxFQUFVLE9BQU8sS0FBSyxHQUFHLEtBQUssS0FBSyxNQUFNLFVBQVUsSUFBSSxHQUNyRyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsRUFDdkIsT0FBTyxFQUVYLFlBQVksQ0FBQyxFQUFLLENBQ2QsSUFBSSxFQUFRLEtBQUssS0FBSyxRQUFRLFFBQVEsRUFBSSxNQUFNLEVBQ2hELElBQUssR0FBUyxFQUFNLGVBQWUsQ0FBRyxFQUNsQyxPQUFPLEtBRVgsR0FEQSxFQUFNLFVBQVUsRUFBSSxNQUFRLFlBQVksRUFDcEMsRUFBSSxNQUFRLGFBQ1osRUFBTSxPQUFTLEVBQ25CLEdBQUksRUFBSSxNQUFRLFlBQWEsQ0FDekIsSUFBSSxFQUFjLEdBQVUsRUFBTyxFQUFJLGlCQUFtQixFQUFJLE9BQU8sZ0JBQWlCLEVBQUUsRUFDcEYsRUFBYSxHQUFVLEVBQU8sRUFBSSxhQUFlLEVBQUksT0FBTyxZQUFhLENBQUMsRUFDOUUsTUFBTyxDQUFFLEtBQU0sRUFBYyxFQUFNLFNBQVMsQ0FBVyxFQUFJLEVBQU0sV0FDN0QsR0FBSSxFQUFhLEVBQU0sVUFBVSxDQUFVLEVBQUksRUFBTSxTQUFVLFNBQVUsRUFBTSxVQUU5RSxFQUFJLE1BQVEsZ0JBQ2pCLE1BQU8sQ0FBRSxLQUFNLEVBQU0sV0FBWSxHQUFJLEVBQU0sU0FBVSxTQUFVLEVBQUksT0FBTyxXQUFhLEVBQUksUUFBUyxNQUdwRyxRQUFPLEtBR2YsU0FBUyxDQUFDLEVBQUssQ0FDWCxHQUFJLEdBQU8sS0FBSyxJQUNaLEtBQUssc0JBQXNCLEtBQUssR0FBRyxFQUNuQyxLQUFLLElBQU0sRUFDWCxLQUFLLG1CQUFtQixLQUFLLEdBQUcsRUFHeEMsa0JBQWtCLENBQUMsRUFBSyxDQUVwQixHQURBLEVBQUksaUJBQWlCLFNBQVUsS0FBSyxRQUFRLEVBQ3hDLEtBQUssV0FDTCxHQUFJLEtBQUssV0FBVyxpQkFDaEIsS0FBSyxXQUFXLGlCQUFpQixTQUFVLEtBQUssT0FBTyxNQUV2RCxNQUFLLFdBQVcsWUFBWSxLQUFLLE9BQU8sTUFHNUMsR0FBSSxpQkFBaUIsY0FBZSxLQUFLLE9BQU8sRUFDcEQsRUFBSSxpQkFBaUIsU0FBVSxLQUFLLFFBQVEsRUFDNUMsRUFBSSxTQUFTLGlCQUFpQixrQkFBbUIsS0FBSyxpQkFBaUIsRUFFM0UscUJBQXFCLENBQUMsRUFBSyxDQUd2QixHQUZBLEVBQUksb0JBQW9CLFNBQVUsS0FBSyxRQUFRLEVBQy9DLEVBQUksb0JBQW9CLFNBQVUsS0FBSyxRQUFRLEVBQzNDLEtBQUssV0FDTCxHQUFJLEtBQUssV0FBVyxvQkFDaEIsS0FBSyxXQUFXLG9CQUFvQixTQUFVLEtBQUssT0FBTyxNQUUxRCxNQUFLLFdBQVcsZUFBZSxLQUFLLE9BQU8sTUFHL0MsR0FBSSxvQkFBb0IsY0FBZSxLQUFLLE9BQU8sRUFDdkQsRUFBSSxTQUFTLG9CQUFvQixrQkFBbUIsS0FBSyxpQkFBaUIsRUFFOUUsTUFBTSxDQUFDLEVBQVEsQ0FDWCxHQUFJLEtBQUssYUFFTCxHQURBLEtBQUssWUFBWSxPQUFPLENBQU0sRUFDMUIsRUFBTyxXQUFXLE1BQU0sRUFBUSxHQUFLLEVBQU8sTUFBTSxNQUFNLEVBQVEsRUFDaEUsRUFBTyxLQUFLLFdBQVcsWUFBYyxFQUFPLE1BQU0sTUFBTSxFQUFRLEVBQUksS0FBSyxZQUFZLFlBQWMsTUFHL0csT0FBTyxFQUFHLENBQ04sSUFBSSxFQUFJLEVBQUksRUFDWixLQUFLLEtBQUssR0FDVCxFQUFLLEtBQUssZ0JBQWtCLE1BQVEsSUFBWSxRQUFhLEVBQUcsV0FBVyxHQUMzRSxFQUFLLEtBQUssbUJBQXFCLE1BQVEsSUFBWSxRQUFhLEVBQUcsV0FBVyxHQUM5RSxFQUFLLEtBQUssZ0JBQWtCLE1BQVEsSUFBWSxRQUFhLEVBQUcsV0FBVyxFQUM1RSxRQUFTLEtBQU8sS0FBSyxjQUNqQixFQUFJLG9CQUFvQixTQUFVLEtBQUssUUFBUSxFQU1uRCxHQUxBLEtBQUssc0JBQXNCLEtBQUssR0FBRyxFQUNuQyxhQUFhLEtBQUssV0FBVyxFQUM3QixhQUFhLEtBQUssYUFBYSxFQUMvQixLQUFLLElBQUkscUJBQXFCLEtBQUssWUFBWSxFQUMvQyxLQUFLLElBQUkscUJBQXFCLEtBQUssa0JBQWtCLEVBQ2pELEtBQUssWUFDTCxLQUFLLEtBQUssV0FBVyxZQUFjLEtBQ25DLEtBQUssWUFBWSxRQUFRLEVBR3JDLENBNkNBLE1BQU0sRUFBbUIsQ0FDckIsV0FBVyxDQUFDLEVBQU0sQ0FJZCxLQUFLLEtBQU8sRUFDWixLQUFLLEdBQUssRUFNVixLQUFLLHFCQUF1QixLQUM1QixLQUFLLFNBQVcsT0FBTyxPQUFPLElBQUksRUFDbEMsS0FBSyxXQUFXLEVBQUssS0FBSyxFQUMxQixJQUFJLEVBQVUsS0FBSyxZQUFjLElBQUksT0FBTyxZQUFZLENBQ3BELEtBQU0sRUFBSyxNQUFNLElBQUksWUFBWSxLQUFLLEtBQU0sS0FBSyxFQUFFLEVBQ25ELGVBQWdCLEtBQUssYUFBYSxLQUFLLElBQUksS0FBSyxLQUFNLEtBQUssSUFBSSxLQUFLLEdBQUksRUFBSyxNQUFNLFVBQVUsS0FBSyxNQUFNLENBQUMsQ0FBQyxFQUMxRyxhQUFjLEtBQUssYUFBYSxFQUFLLE1BQU0sVUFBVSxLQUFLLElBQUksQ0FDbEUsQ0FBQyxFQUNELEtBQUssU0FBUyxXQUFhLEtBQUssQ0FDNUIsSUFBTSxVQUFXLEVBQUssTUFBTSxVQUFVLEtBQ2xDLEVBQVMsQ0FBRSxLQUFNLEtBQUssWUFBWSxFQUFFLGdCQUFnQixFQUNwRCxHQUFJLEtBQUssWUFBWSxFQUFFLGNBQWMsRUFDckMsT0FBUSxFQUFLLEdBQUcsRUFBRSxLQUFLLE1BQU0sSUFBSSxDQUFDLENBQUUsRUFHeEMsR0FBSSxFQUFPLE1BQVEsS0FBSyxNQUFRLEVBQVMsS0FBSyxLQUMxQyxFQUFPLEtBQU8sVUFDVCxFQUFPLElBQU0sS0FBSyxJQUFNLEVBQVMsS0FBSyxHQUMzQyxFQUFPLEdBQUssRUFFaEIsR0FBSSxFQUFPLE1BQVEsRUFBTyxLQUFPLEVBQU8sT0FBTyxPQUMzQyxPQUVKLEdBREEsS0FBSyxxQkFBdUIsR0FDdkIsRUFBSyxNQUFNLFNBQ1osR0FBb0IsRUFBTSxFQUFRLEVBQWdCLE9BQU8sS0FBSyxZQUFZLEVBQUUsY0FBYyxFQUFHLEtBQUssWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDLEVBR2xJLEdBQUksS0FBSyxxQkFDTCxLQUFLLGNBQWMsRUFBSyxLQUFLLEVBQzdCLEtBQUssYUFBYSxFQUFLLEtBQUssR0FHcEMsS0FBSyxTQUFTLHNCQUF3QixLQUFLLENBQ3ZDLElBQUksRUFBUSxDQUFDLEVBQUcsRUFBTyxLQUN2QixRQUFTLEVBQUksS0FBSyxZQUFZLEVBQUUsVUFBVSxFQUFHLEVBQU0sS0FBSyxZQUFZLEVBQUUsUUFBUSxFQUFHLEVBQUksRUFBSyxJQUFLLENBQzNGLElBQUksRUFBTyxFQUFLLGNBQWMsQ0FBQyxFQUMvQixFQUFRLEdBQVEsSUFBSSxRQUFRLEVBQUssS0FBTSxFQUFLLElBQUssRUFBSyxNQUFRLEVBQUssS0FBTSxFQUFLLE9BQVMsRUFBSyxHQUFHLEdBQ3hGLEdBQVEsSUFBSSxRQUNuQixFQUFNLEtBQUssQ0FBSSxFQUVuQixFQUFRLHNCQUFzQixFQUFFLFdBQVksQ0FBSyxHQUVyRCxLQUFLLFNBQVMsaUJBQW1CLEtBQUssQ0FDbEMsSUFBSSxFQUFPLENBQUMsRUFDWixRQUFTLEtBQVUsRUFBRSxlQUFlLEVBQUcsQ0FDbkMsSUFBdUIsZUFBbkIsRUFBc0QsbUJBQW5CLEdBQVksRUFDbkQsR0FBSSxHQUFhLFFBQVUsR0FBYSxPQUFRLENBQzVDLElBQUksRUFBUSw4QkFBOEIsR0FBYSxTQUFXLFVBQVksR0FBYSxXQUFhLFFBQVUsS0FBSyxHQUFhLE9BQVMsRUFBSSxNQUNqSixFQUFLLEtBQUssRUFBVyxLQUFLLENBQUUsV0FBWSxDQUFFLE9BQU0sQ0FBRSxDQUFDLEVBQzlDLE1BQU0sS0FBSyxZQUFZLEVBQU8sVUFBVSxFQUFHLEtBQUssWUFBWSxFQUFPLFFBQVEsQ0FBQyxDQUFDLEdBRzFGLEVBQUssU0FBUyxDQUFFLFFBQVMsR0FBeUIsR0FBRyxFQUFXLElBQUksQ0FBSSxDQUFDLENBQUUsQ0FBQyxHQUVoRixLQUFLLFNBQVMsaUJBQW1CLElBQU0sQ0FDbkMsR0FBSSxFQUFLLFdBQVcsVUFBWSxFQUM1QixFQUFLLFdBQVcsVUFBWSxFQUM1QixFQUFLLFdBQVcsdUJBQXlCLElBR2pELEtBQUssU0FBUyxlQUFpQixJQUFNLENBQ2pDLEVBQUssV0FBVyxVQUFZLEdBQzVCLEVBQUssV0FBVyx1QkFBeUIsTUFFN0MsUUFBUyxLQUFTLEtBQUssU0FDbkIsRUFBUSxpQkFBaUIsRUFBTyxLQUFLLFNBQVMsRUFBTSxFQUN4RCxLQUFLLFdBQWEsQ0FBRSxLQUFNLEtBQVEsQ0FDMUIsS0FBSyxZQUFZLG9CQUFvQixFQUFLLFdBQVcsc0JBQXNCLENBQUMsRUFDNUUsSUFBSSxFQUFNLEdBQWEsRUFBSyxJQUFJLEVBQ2hDLEdBQUksR0FBTyxFQUFJLFdBQ1gsS0FBSyxZQUFZLHNCQUFzQixFQUFJLFdBQVcsQ0FBQyxFQUFFLHNCQUFzQixDQUFDLEVBQ3RGLEVBRVYsVUFBVSxDQUFDLEVBQVEsQ0FDZixJQUFJLEVBQU0sRUFBRyxFQUFRLEdBQU8sRUFBVSxLQUFLLHFCQWlDM0MsR0FoQ0EsRUFBTyxRQUFRLFlBQVksQ0FBQyxFQUFPLEVBQUssRUFBUSxFQUFNLElBQVcsQ0FDN0QsR0FBSSxFQUNBLE9BQ0osSUFBSSxFQUFPLEVBQU8sUUFBVSxFQUFNLEdBQ2xDLEdBQUksR0FBVyxHQUFPLEVBQVEsR0FDMUIsR0FBSSxFQUFRLE1BQVEsR0FBUyxFQUFRLElBQU0sR0FBTyxFQUFRLE9BQU8sR0FBRyxDQUFNLEVBQUcsQ0FDekUsRUFBVSxLQUFLLHFCQUF1QixLQUN0QyxHQUFPLEVBQ1AsS0FBSyxJQUFNLEVBQ1gsV0FHQSxHQUFVLEtBQ1YsS0FBSyxjQUFjLEVBQU8sS0FBSyxFQUt2QyxHQUZBLEdBQVMsRUFDVCxHQUFPLEVBQ0gsR0FBTyxLQUFLLEtBQ1osS0FBSyxNQUFRLEVBQ2IsS0FBSyxJQUFNLFVBRU4sRUFBUSxLQUFLLEdBQUksQ0FDdEIsR0FBSSxFQUFRLEtBQUssTUFBUSxFQUFNLEtBQUssSUFBTyxLQUFLLEdBQUssS0FBSyxLQUFRLEVBQU8sT0FBUyxNQUEwQixDQUN4RyxFQUFRLEdBQ1IsT0FFSixLQUFLLFlBQVksV0FBVyxLQUFLLGFBQWEsQ0FBSyxFQUFHLEtBQUssYUFBYSxDQUFHLEVBQUcsRUFBTyxTQUFTLENBQUMsRUFDL0YsS0FBSyxJQUFNLEVBRWYsR0FBTyxFQUNWLEVBQ0csSUFBWSxFQUNaLEtBQUssY0FBYyxFQUFPLEtBQUssRUFDbkMsT0FBUSxFQUVaLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFXLEtBQUsscUJBQ3BCLElBQUssS0FBSyxXQUFXLENBQU0sSUFBTSxLQUFLLGFBQWEsRUFBTyxLQUFLLEVBQzNELEtBQUsscUJBQXVCLEtBQzVCLEtBQUssV0FBVyxFQUFPLEtBQUssRUFDNUIsS0FBSyxZQUFZLFdBQVcsRUFBRyxLQUFLLFlBQVksS0FBSyxPQUFRLEVBQU8sTUFBTSxJQUFJLFlBQVksS0FBSyxLQUFNLEtBQUssRUFBRSxDQUFDLEVBQzdHLEtBQUssYUFBYSxFQUFPLEtBQUssVUFFekIsRUFBTyxZQUFjLEVBQU8sY0FBZ0IsRUFDakQsS0FBSyxhQUFhLEVBQU8sS0FBSyxFQUVsQyxHQUFJLEVBQU8saUJBQW1CLEVBQU8sWUFBYyxFQUFPLGFBQ3RELEVBQU8sS0FBSyxlQUFlLEtBQUssVUFBVSxFQUVsRCxVQUFVLENBQUMsRUFBTyxDQUNkLElBQU0sUUFBUyxFQUFNLFVBQVUsS0FDL0IsS0FBSyxLQUFPLEtBQUssSUFBSSxFQUFHLEVBQU8sR0FBdUIsRUFDdEQsS0FBSyxHQUFLLEtBQUssSUFBSSxFQUFNLElBQUksT0FBUSxFQUFPLEdBQXVCLEVBRXZFLGFBQWEsQ0FBQyxFQUFPLENBQ2pCLElBQUksRUFBVSxLQUFLLHFCQUNuQixLQUFLLHFCQUF1QixLQUM1QixLQUFLLFlBQVksV0FBVyxLQUFLLGFBQWEsRUFBUSxJQUFJLEVBQUcsS0FBSyxhQUFhLEVBQVEsS0FBTyxFQUFRLE9BQU8sTUFBTSxFQUFHLEVBQU0sSUFBSSxZQUFZLEVBQVEsS0FBTSxFQUFRLEVBQUUsQ0FBQyxFQUV6SyxZQUFZLENBQUMsRUFBTyxDQUNoQixJQUFNLFFBQVMsRUFBTSxVQUNqQixFQUFRLEtBQUssYUFBYSxLQUFLLElBQUksS0FBSyxLQUFNLEtBQUssSUFBSSxLQUFLLEdBQUksRUFBSyxNQUFNLENBQUMsQ0FBQyxFQUM3RSxFQUFNLEtBQUssYUFBYSxFQUFLLElBQUksRUFDckMsR0FBSSxLQUFLLFlBQVksZ0JBQWtCLEdBQVMsS0FBSyxZQUFZLGNBQWdCLEVBQzdFLEtBQUssWUFBWSxnQkFBZ0IsRUFBTyxDQUFHLEVBRW5ELFlBQVksQ0FBQyxFQUFPLENBQ2hCLElBQU0sUUFBUyxFQUFNLFVBQVUsS0FDL0IsUUFBUyxLQUFLLEtBQU8sR0FBSyxFQUFPLEtBQUssS0FBTyxLQUN6QyxLQUFLLEdBQUssRUFBTSxJQUFJLFFBQVUsS0FBSyxHQUFLLEVBQU8sS0FDL0MsS0FBSyxHQUFLLEtBQUssS0FBTyxPQUU5QixXQUFXLENBQUMsRUFBWSxDQUFFLE9BQU8sRUFBYSxLQUFLLEtBQ25ELFlBQVksQ0FBQyxFQUFXLENBQUUsT0FBTyxFQUFZLEtBQUssS0FDbEQsT0FBTyxFQUFHLENBQ04sUUFBUyxLQUFTLEtBQUssU0FDbkIsS0FBSyxZQUFZLG9CQUFvQixFQUFPLEtBQUssU0FBUyxFQUFNLEVBRTVFLENBcUJBLE1BQU0sQ0FBVyxJQUlULE1BQUssRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLFNBUWhDLFNBQVEsRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLFlBU25DLGNBQWEsRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLGlCQUt4QyxPQUFNLEVBQUcsQ0FBRSxPQUFPLEtBQUssVUFBVSxVQU1qQyxVQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssV0FBVyxVQUFZLEtBT2pELG1CQUFrQixFQUFHLENBQUUsT0FBTyxLQUFLLFdBQVcsV0FBYSxLQUkzRCxLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQUssU0FJckIsSUFBRyxFQUFHLENBQUUsT0FBTyxLQUFLLElBQUksY0FBYyxhQUFlLE9BTXpELFdBQVcsQ0FBQyxFQUFTLENBQUMsRUFBRyxDQUNyQixJQUFJLEVBOEJKLEdBN0JBLEtBQUssUUFBVSxDQUFDLEVBQ2hCLEtBQUssVUFBWSxJQUFJLElBQ3JCLEtBQUssWUFBYyxDQUFDLEVBQ3BCLEtBQUssYUFBZSxDQUFDLEVBQ3JCLEtBQUssVUFBWSxDQUFDLEVBQ2xCLEtBQUssVUFBWSxHQUlqQixLQUFLLFlBQWMsRUFJbkIsS0FBSyxpQkFBbUIsR0FJeEIsS0FBSyxnQkFBa0IsQ0FBQyxFQUN4QixLQUFLLFdBQWEsU0FBUyxjQUFjLEtBQUssRUFDOUMsS0FBSyxVQUFZLFNBQVMsY0FBYyxLQUFLLEVBQzdDLEtBQUssVUFBVSxTQUFXLEdBQzFCLEtBQUssVUFBVSxVQUFZLGNBQzNCLEtBQUssVUFBVSxZQUFZLEtBQUssVUFBVSxFQUMxQyxLQUFLLFlBQWMsU0FBUyxjQUFjLEtBQUssRUFDL0MsS0FBSyxZQUFZLFVBQVksZUFDN0IsS0FBSyxZQUFZLGFBQWEsWUFBYSxRQUFRLEVBQ25ELEtBQUssSUFBTSxTQUFTLGNBQWMsS0FBSyxFQUN2QyxLQUFLLElBQUksWUFBWSxLQUFLLFdBQVcsRUFDckMsS0FBSyxJQUFJLFlBQVksS0FBSyxTQUFTLEVBQy9CLEVBQU8sT0FDUCxFQUFPLE9BQU8sWUFBWSxLQUFLLEdBQUcsRUFDdEMsSUFBTSxZQUFhLEVBT25CLEdBTkEsS0FBSyxxQkFBdUIsRUFBTyxzQkFDOUIsSUFBYSxDQUFDLElBQVEsRUFBSSxRQUFRLEtBQU0sRUFBUyxFQUFJLElBQUksQ0FBQyxLQUMxRCxDQUFDLElBQVEsS0FBSyxPQUFPLENBQUcsR0FDN0IsS0FBSyxTQUFXLEtBQUssU0FBUyxLQUFLLElBQUksRUFDdkMsS0FBSyxNQUFTLEVBQU8sTUFBUSxHQUFRLEVBQU8sTUFBTSxHQUFLLFNBQ3ZELEtBQUssVUFBWSxJQUFJLEdBQVUsRUFBTyxPQUFTLEVBQVksT0FBTyxDQUFNLENBQUMsRUFDckUsRUFBTyxVQUFZLEVBQU8sU0FBUyxHQUFHLEVBQWMsRUFDcEQsS0FBSyxVQUFVLGFBQWUsRUFBTyxTQUFTLE1BQU0sS0FBSyxLQUFLLFVBQVUsS0FBSyxFQUNqRixLQUFLLFFBQVUsS0FBSyxNQUFNLE1BQU0sRUFBVSxFQUFFLElBQUksS0FBUSxJQUFJLEdBQWUsQ0FBSSxDQUFDLEVBQ2hGLFFBQVMsS0FBVSxLQUFLLFFBQ3BCLEVBQU8sT0FBTyxJQUFJLEVBU3RCLEdBUkEsS0FBSyxTQUFXLElBQUksR0FBWSxJQUFJLEVBQ3BDLEtBQUssV0FBYSxJQUFJLEdBQVcsSUFBSSxFQUNyQyxLQUFLLFdBQVcsZUFBZSxLQUFLLE9BQU8sRUFDM0MsS0FBSyxRQUFVLElBQUksR0FBUSxJQUFJLEVBQy9CLEtBQUssWUFBWSxFQUNqQixLQUFLLFlBQVksRUFDakIsS0FBSyxZQUFjLEVBQ25CLEtBQUssZUFBZSxHQUNmLEVBQUssU0FBUyxTQUFXLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxNQUM5RCxTQUFTLE1BQU0sTUFBTSxLQUFLLElBQU0sS0FBSyxlQUFlLENBQUMsRUFFN0QsUUFBUSxJQUFJLEVBQU8sQ0FDZixJQUFJLEVBQU0sRUFBTSxRQUFVLEdBQUssRUFBTSxhQUFjLEVBQWMsRUFDM0QsRUFBTSxRQUFVLEdBQUssTUFBTSxRQUFRLEVBQU0sRUFBRSxFQUFJLEVBQU0sR0FDakQsQ0FBQyxLQUFLLE1BQU0sT0FBTyxHQUFHLENBQUssQ0FBQyxFQUN0QyxLQUFLLHFCQUFxQixFQUFLLElBQUksRUFVdkMsTUFBTSxDQUFDLEVBQWMsQ0FDakIsR0FBSSxLQUFLLGFBQWUsRUFDcEIsTUFBTSxJQUFJLE1BQU0sMkVBQTJFLEVBQy9GLElBQUksRUFBVSxHQUFPLEVBQWUsR0FBTyxFQUN2QyxFQUFRLEtBQUssTUFDakIsUUFBUyxLQUFNLEVBQWMsQ0FDekIsR0FBSSxFQUFHLFlBQWMsRUFDakIsTUFBTSxJQUFJLFdBQVcsdUZBQXVGLEVBQ2hILEVBQVEsRUFBRyxNQUVmLEdBQUksS0FBSyxVQUFXLENBQ2hCLEtBQUssVUFBVSxNQUFRLEVBQ3ZCLE9BRUosSUFBSSxFQUFRLEtBQUssU0FBVSxFQUFZLEVBQUcsRUFBZ0IsS0FDMUQsR0FBSSxFQUFhLEtBQUssS0FBTSxFQUFHLFdBQVcsRUFBYSxDQUFDLEVBQ3BELEtBQUssV0FBVyxnQkFBa0IsRUFFbEMsRUFBWSxVQUVQLEdBQVMsS0FBSyxXQUFXLGlCQUs5QixHQUpBLEtBQUssV0FBVyxnQkFBa0IsRUFHbEMsRUFBZ0IsR0FBdUIsRUFBTyxDQUFLLEdBQzlDLEVBQ0QsRUFBWSxFQUlwQixJQUFJLEVBQWEsS0FBSyxTQUFTLGtCQUFtQixFQUFZLEtBQzlELEdBQUksR0FLQSxHQUpBLEtBQUssU0FBUyx1QkFBdUIsRUFDckMsRUFBWSxLQUFLLFNBQVMsV0FBVyxFQUdqQyxJQUFjLEtBQUssTUFBTSxJQUFJLEdBQUcsRUFBTSxHQUFHLElBQU0sS0FBSyxNQUFNLFVBQVUsR0FBRyxFQUFNLFNBQVMsRUFDdEYsRUFBWSxTQUdoQixNQUFLLFNBQVMsTUFBTSxFQUd4QixHQUFJLEVBQU0sTUFBTSxFQUFZLE9BQU8sR0FBSyxLQUFLLE1BQU0sTUFBTSxFQUFZLE9BQU8sRUFDeEUsT0FBTyxLQUFLLFNBQVMsQ0FBSyxFQUM5QixFQUFTLEdBQVcsT0FBTyxLQUFNLEVBQU8sQ0FBWSxFQUNwRCxFQUFPLE9BQVMsRUFDaEIsSUFBSSxFQUFlLEtBQUssVUFBVSxhQUNsQyxHQUFJLENBQ0EsS0FBSyxZQUFjLEVBQ25CLFFBQVMsS0FBTSxFQUFjLENBQ3pCLEdBQUksRUFDQSxFQUFlLEVBQWEsSUFBSSxFQUFHLE9BQU8sRUFDOUMsR0FBSSxFQUFHLGVBQWdCLENBQ25CLElBQU0sUUFBUyxFQUFHLE1BQU0sVUFDeEIsRUFBZSxJQUFJLEdBQWEsRUFBSyxNQUFRLEVBQU8sRUFBZ0IsT0FBTyxFQUFLLEtBQU0sRUFBSyxLQUFPLEVBQUssT0FBUyxHQUFLLENBQUMsQ0FBQyxFQUUzSCxRQUFTLEtBQUssRUFBRyxRQUNiLEdBQUksRUFBRSxHQUFHLEVBQWMsRUFDbkIsRUFBZSxFQUFFLE1BQU0sS0FBSyxLQUFLLEtBQUssRUFJbEQsR0FGQSxLQUFLLFVBQVUsT0FBTyxFQUFRLENBQVksRUFDMUMsS0FBSyxVQUFZLEdBQVksT0FBTyxLQUFLLFVBQVcsRUFBTyxPQUFPLEdBQzdELEVBQU8sTUFDUixLQUFLLGNBQWMsQ0FBTSxFQUN6QixLQUFLLFdBQVcsT0FBTyxDQUFNLEVBR2pDLEdBREEsRUFBVSxLQUFLLFFBQVEsT0FBTyxDQUFNLEVBQ2hDLEtBQUssTUFBTSxNQUFNLEVBQVcsR0FBSyxLQUFLLGFBQ3RDLEtBQUssWUFBWSxFQUNyQixFQUFlLEtBQUssWUFBWSxFQUNoQyxLQUFLLGtCQUFrQixDQUFZLEVBQ25DLEtBQUssUUFBUSxnQkFBZ0IsRUFBUyxFQUFhLEtBQUssS0FBTSxFQUFHLFlBQVksZ0JBQWdCLENBQUMsQ0FBQyxTQUVuRyxDQUNJLEtBQUssWUFBYyxFQUV2QixHQUFJLEVBQU8sV0FBVyxNQUFNLEVBQUssR0FBSyxFQUFPLE1BQU0sTUFBTSxFQUFLLEVBQzFELEtBQUssVUFBVSxtQkFBcUIsR0FDeEMsR0FBSSxHQUFXLEdBQWdCLEdBQWdCLEtBQUssVUFBVSx3QkFBMEIsS0FBSyxVQUFVLG1CQUNuRyxLQUFLLGVBQWUsRUFDeEIsR0FBSSxFQUNBLEtBQUssY0FBYyxFQUN2QixJQUFLLEVBQU8sTUFDUixRQUFTLEtBQVksS0FBSyxNQUFNLE1BQU0sRUFBYyxFQUNoRCxHQUFJLENBQ0EsRUFBUyxDQUFNLFFBRVosRUFBUCxDQUNJLEdBQWEsS0FBSyxNQUFPLEVBQUcsaUJBQWlCLEVBR3pELEdBQUksR0FBaUIsRUFDakIsUUFBUSxRQUFRLEVBQUUsS0FBSyxJQUFNLENBQ3pCLEdBQUksR0FBaUIsS0FBSyxPQUFTLEVBQWMsV0FDN0MsS0FBSyxTQUFTLENBQWEsRUFDL0IsR0FBSSxHQUNBLElBQUssR0FBZSxLQUFNLENBQVMsR0FBSyxFQUFXLE1BQy9DLEdBQVksS0FBSyxXQUFZLEVBQVcsSUFBSyxFQUFXLE9BQU8sR0FFMUUsRUFTVCxRQUFRLENBQUMsRUFBVSxDQUNmLEdBQUksS0FBSyxhQUFlLEVBQ3BCLE1BQU0sSUFBSSxNQUFNLDZFQUE2RSxFQUNqRyxHQUFJLEtBQUssVUFBVyxDQUNoQixLQUFLLFVBQVUsTUFBUSxFQUN2QixPQUVKLEtBQUssWUFBYyxFQUNuQixJQUFJLEVBQVcsS0FBSyxTQUNwQixHQUFJLENBQ0EsUUFBUyxLQUFVLEtBQUssUUFDcEIsRUFBTyxRQUFRLElBQUksRUFDdkIsS0FBSyxVQUFZLElBQUksR0FBVSxDQUFRLEVBQ3ZDLEtBQUssUUFBVSxFQUFTLE1BQU0sRUFBVSxFQUFFLElBQUksS0FBUSxJQUFJLEdBQWUsQ0FBSSxDQUFDLEVBQzlFLEtBQUssVUFBVSxNQUFNLEVBQ3JCLFFBQVMsS0FBVSxLQUFLLFFBQ3BCLEVBQU8sT0FBTyxJQUFJLEVBQ3RCLEtBQUssUUFBUSxRQUFRLEVBQ3JCLEtBQUssUUFBVSxJQUFJLEdBQVEsSUFBSSxFQUMvQixLQUFLLFdBQVcsZUFBZSxLQUFLLE9BQU8sRUFDM0MsS0FBSyxZQUFZLEVBQ2pCLEtBQUssWUFBWSxFQUNqQixLQUFLLFVBQVksQ0FBQyxTQUV0QixDQUNJLEtBQUssWUFBYyxFQUV2QixHQUFJLEVBQ0EsS0FBSyxNQUFNLEVBQ2YsS0FBSyxlQUFlLEVBRXhCLGFBQWEsQ0FBQyxFQUFRLENBQ2xCLElBQUksRUFBWSxFQUFPLFdBQVcsTUFBTSxFQUFVLEVBQUcsRUFBUSxFQUFPLE1BQU0sTUFBTSxFQUFVLEVBQzFGLEdBQUksR0FBYSxFQUFPLENBQ3BCLElBQUksRUFBYSxDQUFDLEVBQ2xCLFFBQVMsS0FBUSxFQUFPLENBQ3BCLElBQUksRUFBUSxFQUFVLFFBQVEsQ0FBSSxFQUNsQyxHQUFJLEVBQVEsRUFDUixFQUFXLEtBQUssSUFBSSxHQUFlLENBQUksQ0FBQyxNQUV2QyxDQUNELElBQUksRUFBUyxLQUFLLFFBQVEsR0FDMUIsRUFBTyxXQUFhLEVBQ3BCLEVBQVcsS0FBSyxDQUFNLEdBRzlCLFFBQVMsS0FBVSxLQUFLLFFBQ3BCLEdBQUksRUFBTyxZQUFjLEVBQ3JCLEVBQU8sUUFBUSxJQUFJLEVBQzNCLEtBQUssUUFBVSxFQUNmLEtBQUssVUFBVSxNQUFNLE1BR3JCLFNBQVMsS0FBSyxLQUFLLFFBQ2YsRUFBRSxXQUFhLEVBRXZCLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxRQUFRLE9BQVEsSUFDckMsS0FBSyxRQUFRLEdBQUcsT0FBTyxJQUFJLEVBQy9CLEdBQUksR0FBYSxFQUNiLEtBQUssV0FBVyxlQUFlLEtBQUssT0FBTyxFQUVuRCxhQUFhLEVBQUcsQ0FDWixRQUFTLEtBQVUsS0FBSyxRQUFTLENBQzdCLElBQUksRUFBTSxFQUFPLE1BQ2pCLEdBQUksR0FBTyxFQUFJLGNBQ1gsR0FBSSxDQUNBLEVBQUksY0FBYyxJQUFJLFFBRW5CLEVBQVAsQ0FDSSxHQUFhLEtBQUssTUFBTyxFQUFHLDBCQUEwQixJQVF0RSxPQUFPLENBQUMsRUFBUSxHQUFNLENBQ2xCLEdBQUksS0FBSyxVQUNMLE9BQ0osR0FBSSxLQUFLLGlCQUFtQixHQUN4QixLQUFLLElBQUkscUJBQXFCLEtBQUssZ0JBQWdCLEVBQ3ZELEdBQUksS0FBSyxTQUFTLGtCQUFtQixDQUNqQyxLQUFLLGlCQUFtQixHQUN4QixLQUFLLGVBQWUsRUFDcEIsT0FHSixHQURBLEtBQUssaUJBQW1CLEVBQ3BCLEVBQ0EsS0FBSyxTQUFTLFdBQVcsRUFDN0IsSUFBSSxFQUFVLEtBQ1YsRUFBTyxLQUFLLFVBQVcsRUFBWSxFQUFLLFVBQVksS0FBSyxRQUN2RCxrQkFBaUIsc0JBQXVCLEtBQUssVUFDbkQsR0FBSSxLQUFLLElBQUksRUFBWSxLQUFLLFVBQVUsU0FBUyxFQUFJLEVBQ2pELEVBQXFCLEdBQ3pCLEtBQUssVUFBVSxtQkFBcUIsR0FDcEMsR0FBSSxDQUNBLFFBQVMsRUFBSSxHQUFJLElBQUssQ0FDbEIsR0FBSSxFQUFxQixFQUNyQixHQUFJLEdBQW1CLENBQUksRUFDdkIsRUFBa0IsR0FDbEIsRUFBcUIsS0FBSyxVQUFVLFVBQVUsV0FFN0MsQ0FDRCxJQUFJLEVBQVEsS0FBSyxVQUFVLGVBQWUsQ0FBUyxFQUNuRCxFQUFrQixFQUFNLEtBQ3hCLEVBQXFCLEVBQU0sSUFHbkMsS0FBSyxZQUFjLEVBQ25CLElBQUksRUFBVSxLQUFLLFVBQVUsUUFBUSxJQUFJLEVBQ3pDLElBQUssSUFBWSxLQUFLLGdCQUFnQixRQUFVLEtBQUssVUFBVSxjQUFnQixLQUMzRSxNQUNKLEdBQUksRUFBSSxFQUFHLENBQ1AsUUFBUSxLQUFLLEtBQUssZ0JBQWdCLE9BQzVCLDJDQUNBLDhCQUE4QixFQUNwQyxNQUVKLElBQUksRUFBWSxDQUFDLEVBRWpCLEtBQU0sRUFBVSxHQUNaLENBQUMsS0FBSyxnQkFBaUIsQ0FBUyxFQUFJLENBQUMsRUFBVyxLQUFLLGVBQWUsRUFDeEUsSUFBSSxFQUFXLEVBQVUsSUFBSSxLQUFLLENBQzlCLEdBQUksQ0FDQSxPQUFPLEVBQUUsS0FBSyxJQUFJLFFBRWYsRUFBUCxDQUVJLE9BREEsR0FBYSxLQUFLLE1BQU8sQ0FBQyxFQUNuQixJQUVkLEVBQ0csRUFBUyxHQUFXLE9BQU8sS0FBTSxLQUFLLE1BQU8sQ0FBQyxDQUFDLEVBQUcsRUFBVSxHQUVoRSxHQURBLEVBQU8sT0FBUyxHQUNYLEVBQ0QsRUFBVSxNQUVWLEdBQVEsT0FBUyxFQUVyQixHQURBLEtBQUssWUFBYyxHQUNkLEVBQU8sT0FLUixHQUpBLEtBQUssY0FBYyxDQUFNLEVBQ3pCLEtBQUssV0FBVyxPQUFPLENBQU0sRUFDN0IsS0FBSyxZQUFZLEVBQ2pCLEVBQVUsS0FBSyxRQUFRLE9BQU8sQ0FBTSxFQUNoQyxFQUNBLEtBQUssY0FBYyxFQUUzQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUNsQyxHQUFJLEVBQVMsSUFBTSxHQUNmLEdBQUksQ0FDQSxJQUFJLEVBQUksRUFBVSxHQUNsQixHQUFJLEVBQUUsTUFDRixFQUFFLE1BQU0sRUFBUyxHQUFJLElBQUksUUFFMUIsRUFBUCxDQUNJLEdBQWEsS0FBSyxNQUFPLENBQUMsRUFHdEMsR0FBSSxFQUNBLEtBQUssUUFBUSxnQkFBZ0IsRUFBSSxFQUNyQyxJQUFLLEVBQU8saUJBQW1CLEtBQUssZ0JBQWdCLFFBQVUsRUFBRyxDQUM3RCxHQUFJLEtBQUssVUFBVSxhQUNmLEdBQUksS0FBSyxVQUFVLGFBQWMsQ0FDN0IsS0FBSyxRQUFRLGVBQWUsS0FBSyxVQUFVLFlBQVksRUFDdkQsS0FBSyxVQUFVLGFBQWUsS0FDOUIsRUFBcUIsR0FDckIsYUFFQyxDQUdELElBQUksR0FGa0IsRUFBa0IsRUFBSSxLQUFLLFVBQVUsVUFBVSxPQUNqRSxLQUFLLFVBQVUsWUFBWSxDQUFlLEVBQUUsS0FDbkIsRUFDN0IsR0FBSSxFQUFPLEdBQUssRUFBTyxHQUFJLENBQ3ZCLEVBQVksRUFBWSxFQUN4QixFQUFLLFVBQVksRUFBWSxLQUFLLE9BQ2xDLEVBQXFCLEdBQ3JCLFVBSVosZUFJWixDQUNJLEtBQUssWUFBYyxFQUNuQixLQUFLLGlCQUFtQixHQUU1QixHQUFJLElBQVksRUFBUSxNQUNwQixRQUFTLEtBQVksS0FBSyxNQUFNLE1BQU0sRUFBYyxFQUNoRCxFQUFTLENBQU8sS0FLeEIsYUFBWSxFQUFHLENBQ2YsT0FBTyxHQUFjLEtBQ2hCLEtBQUssTUFBTSxNQUFNLEVBQVMsRUFBSSxHQUFhLElBQWUsSUFDM0QsS0FBSyxNQUFNLE1BQU0sRUFBSyxFQUU5QixXQUFXLEVBQUcsQ0FDVixJQUFJLEVBQWMsR0FBZSxLQUFNLEdBQWtCLENBQ3JELE1BQU8sYUFBZSxLQUFLLFNBQVcsZUFBaUIsS0FBTyxLQUFLLFlBQ3ZFLENBQUMsRUFDRyxFQUFlLENBQ2YsV0FBWSxRQUNaLFlBQWEsTUFDYixlQUFnQixNQUNoQixVQUFXLEtBQ1gsaUJBQWtCLEtBQUssTUFBTSxNQUFNLEVBQVEsRUFBSSxRQUFVLE9BQ3pELE1BQU8sYUFDUCxNQUFPLEdBQUcsRUFBUSxZQUFZLEtBQUssTUFBTSxVQUN6QyxLQUFNLFVBQ04saUJBQWtCLE1BQ3RCLEVBQ0EsR0FBSSxLQUFLLE1BQU0sU0FDWCxFQUFhLGlCQUFtQixPQUNwQyxHQUFlLEtBQU0sR0FBbUIsQ0FBWSxFQUNwRCxJQUFJLEVBQVUsS0FBSyxTQUFTLE9BQU8sSUFBTSxDQUNyQyxJQUFJLEVBQWlCLEdBQVksS0FBSyxXQUFZLEtBQUssYUFBYyxDQUFZLEVBQzdFLEVBQWdCLEdBQVksS0FBSyxJQUFLLEtBQUssWUFBYSxDQUFXLEVBQ3ZFLE9BQU8sR0FBa0IsRUFDNUIsRUFHRCxPQUZBLEtBQUssWUFBYyxFQUNuQixLQUFLLGFBQWUsRUFDYixFQUVYLGlCQUFpQixDQUFDLEVBQUssQ0FDbkIsSUFBSSxFQUFRLEdBQ1osUUFBUyxLQUFNLEVBQ1gsUUFBUyxLQUFVLEVBQUcsUUFDbEIsR0FBSSxFQUFPLEdBQUcsRUFBVyxRQUFRLEVBQUcsQ0FDaEMsR0FBSSxFQUNBLEtBQUssWUFBWSxZQUFjLEdBQ25DLEVBQVEsR0FDUixJQUFJLEVBQU0sS0FBSyxZQUFZLFlBQVksU0FBUyxjQUFjLEtBQUssQ0FBQyxFQUNwRSxFQUFJLFlBQWMsRUFBTyxPQUd6QyxXQUFXLEVBQUcsQ0FDVixLQUFLLGFBQWUsS0FBSyxNQUFNLE1BQU0sRUFBVyxFQUNoRCxJQUFJLEVBQVEsS0FBSyxNQUFNLE1BQU0sRUFBVyxRQUFRLEVBQ2hELEdBQVksTUFBTSxLQUFLLEtBQU0sS0FBSyxhQUFhLE9BQU8sRUFBVyxFQUFFLFFBQVEsRUFBRyxFQUFRLENBQUUsT0FBTSxFQUFJLE1BQVMsRUFFL0csWUFBWSxFQUFHLENBQ1gsR0FBSSxLQUFLLGFBQWUsRUFDcEIsTUFBTSxJQUFJLE1BQU0sMERBQTBELEVBQzlFLEdBQUksS0FBSyxhQUFlLEdBQTRCLEtBQUssaUJBQW1CLEdBQ3hFLEtBQUssUUFBUSxFQUFLLEVBVTFCLGNBQWMsQ0FBQyxFQUFTLENBQ3BCLEdBQUksS0FBSyxpQkFBbUIsRUFDeEIsS0FBSyxpQkFBbUIsS0FBSyxJQUFJLHNCQUFzQixJQUFNLEtBQUssUUFBUSxDQUFDLEVBQy9FLEdBQUksRUFBUyxDQUNULEdBQUksS0FBSyxnQkFBZ0IsUUFBUSxDQUFPLEVBQUksR0FDeEMsT0FDSixHQUFJLEVBQVEsS0FBTyxNQUNmLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxnQkFBZ0IsT0FBUSxJQUM3QyxHQUFJLEtBQUssZ0JBQWdCLEdBQUcsTUFBUSxFQUFRLElBQUssQ0FDN0MsS0FBSyxnQkFBZ0IsR0FBSyxFQUMxQixRQUdaLEtBQUssZ0JBQWdCLEtBQUssQ0FBTyxHQVN6QyxNQUFNLENBQUMsRUFBUSxDQUNYLElBQUksRUFBUSxLQUFLLFVBQVUsSUFBSSxDQUFNLEVBQ3JDLEdBQUksSUFBVSxRQUFhLEdBQVMsRUFBTSxNQUFRLEVBQzlDLEtBQUssVUFBVSxJQUFJLEVBQVEsRUFBUSxLQUFLLFFBQVEsS0FBSyxLQUFLLEVBQUUsTUFBUSxDQUFNLEdBQUssSUFBSSxFQUN2RixPQUFPLEdBQVMsRUFBTSxPQUFPLElBQUksRUFBRSxTQU9uQyxZQUFXLEVBQUcsQ0FDZCxPQUFPLEtBQUssV0FBVyxzQkFBc0IsRUFBRSxJQUFNLEtBQUssVUFBVSxjQUtwRSxnQkFBZSxFQUFHLENBQ2xCLE1BQU8sQ0FBRSxJQUFLLEtBQUssVUFBVSxXQUFZLE9BQVEsS0FBSyxVQUFVLGFBQWMsS0FPOUUsT0FBTSxFQUFHLENBQUUsT0FBTyxLQUFLLFVBQVUsVUFJakMsT0FBTSxFQUFHLENBQUUsT0FBTyxLQUFLLFVBQVUsT0FNckMsZUFBZSxDQUFDLEVBQVEsQ0FFcEIsT0FEQSxLQUFLLGFBQWEsRUFDWCxLQUFLLFVBQVUsZ0JBQWdCLENBQU0sRUFRaEQsaUJBQWlCLENBQUMsRUFBUSxDQUV0QixPQURBLEtBQUssYUFBYSxFQUNYLEtBQUssVUFBVSxrQkFBa0IsQ0FBTSxLQVE5QyxtQkFBa0IsRUFBRyxDQUNyQixPQUFPLEtBQUssVUFBVSxjQVUxQixXQUFXLENBQUMsRUFBSyxDQUNiLE9BQU8sS0FBSyxVQUFVLFlBQVksQ0FBRyxLQUtyQyxjQUFhLEVBQUcsQ0FDaEIsT0FBTyxLQUFLLFVBQVUsY0FrQjFCLFVBQVUsQ0FBQyxFQUFPLEVBQVMsRUFBSSxDQUMzQixPQUFPLEdBQVUsS0FBTSxFQUFPLEdBQVcsS0FBTSxFQUFPLEVBQVMsQ0FBRSxDQUFDLEVBT3RFLFdBQVcsQ0FBQyxFQUFPLEVBQVMsQ0FDeEIsT0FBTyxHQUFVLEtBQU0sRUFBTyxHQUFXLEtBQU0sRUFBTyxFQUFTLEtBQVcsR0FBUSxLQUFNLEVBQU0sS0FBTSxDQUFPLENBQUMsQ0FBQyxFQVFqSCxjQUFjLENBQUMsRUFBTSxFQUFLLENBQ3RCLElBQUksRUFBUSxLQUFLLFVBQVUsQ0FBSSxFQUFHLEVBQU0sS0FBSyxnQkFBZ0IsRUFBSyxJQUFJLEVBQ2xFLEVBQU8sRUFBTSxFQUFNLEVBQU0sT0FBUyxFQUFJLEdBQzFDLE9BQU8sRUFBZ0IsT0FBTyxFQUFLLEtBQUssRUFBSyxDQUFHLEVBQUksRUFBSyxLQUFNLEVBQUssU0FBUyxFQUFLLENBQUcsRUFBSSxFQUFJLEVBQUUsRUFTbkcsa0JBQWtCLENBQUMsRUFBTyxFQUFTLEVBQWMsR0FBTSxDQUNuRCxPQUFPLEdBQW1CLEtBQU0sRUFBTyxFQUFTLENBQVcsRUFlL0QsY0FBYyxDQUFDLEVBQU8sRUFBUyxFQUFVLENBQ3JDLE9BQU8sR0FBVSxLQUFNLEVBQU8sR0FBZSxLQUFNLEVBQU8sRUFBUyxDQUFRLENBQUMsRUFZaEYsUUFBUSxDQUFDLEVBQUssQ0FDVixPQUFPLEtBQUssUUFBUSxTQUFTLENBQUcsRUFPcEMsUUFBUSxDQUFDLEVBQU0sRUFBUyxFQUFHLENBQ3ZCLE9BQU8sS0FBSyxRQUFRLFdBQVcsRUFBTSxDQUFNLEVBRS9DLFdBQVcsQ0FBQyxFQUFRLEVBQVUsR0FBTSxDQUVoQyxPQURBLEtBQUssYUFBYSxFQUNYLEdBQVksS0FBTSxFQUFRLENBQU8sRUFTNUMsV0FBVyxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ3ZCLEtBQUssYUFBYSxFQUNsQixJQUFJLEVBQU8sS0FBSyxRQUFRLFNBQVMsRUFBSyxDQUFJLEVBQzFDLElBQUssR0FBUSxFQUFLLE1BQVEsRUFBSyxNQUMzQixPQUFPLEVBQ1gsSUFBSSxFQUFPLEtBQUssTUFBTSxJQUFJLE9BQU8sQ0FBRyxFQUFHLEVBQVEsS0FBSyxVQUFVLENBQUksRUFDOUQsRUFBTyxFQUFNLEdBQVMsS0FBSyxFQUFPLEVBQU0sRUFBSyxLQUFNLEdBQUksQ0FBSSxHQUMvRCxPQUFPLEdBQVksRUFBTyxFQUFLLEtBQU8sRUFBVSxLQUFTLEVBQU8sQ0FBRSxFQVN0RSxhQUFhLENBQUMsRUFBSyxDQUVmLE9BREEsS0FBSyxhQUFhLEVBQ1gsS0FBSyxRQUFRLGNBQWMsQ0FBRyxLQU9yQyxzQkFBcUIsRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLGFBQWEsYUFLN0Qsa0JBQWlCLEVBQUcsQ0FBRSxPQUFPLEtBQUssVUFBVSxhQUFhLGNBTXpELGNBQWEsRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLHFCQVU1QyxlQUFlLENBQUMsRUFBSyxDQUVqQixJQURjLEtBQUssTUFBTSxNQUFNLEVBQW9CLEdBQ25DLEVBQU0sS0FBSyxTQUFTLE1BQVEsRUFBTSxLQUFLLFNBQVMsR0FDNUQsT0FBTyxLQUFLLGNBRWhCLE9BREEsS0FBSyxhQUFhLEVBQ1gsS0FBSyxRQUFRLGdCQUFnQixDQUFHLEtBUXZDLGFBQVksRUFBRyxDQUFFLE9BQU8sS0FBSyxVQUFVLGFBQWEsYUFTeEQsU0FBUyxDQUFDLEVBQU0sQ0FDWixHQUFJLEVBQUssT0FBUyxHQUNkLE9BQU8sR0FBYSxFQUFLLE1BQU0sRUFDbkMsSUFBSSxFQUFNLEtBQUssZ0JBQWdCLEVBQUssSUFBSSxFQUFHLEVBQzNDLFFBQVMsS0FBUyxLQUFLLFVBQ25CLEdBQUksRUFBTSxNQUFRLEVBQUssTUFBUSxFQUFNLEtBQU8sSUFDdkMsRUFBTSxPQUFTLEdBQVcsRUFBTSxTQUFVLEVBQVcsR0FBa0IsS0FBTSxDQUFJLENBQUMsR0FDbkYsT0FBTyxFQUFNLE1BRXJCLElBQUssRUFDRCxFQUFXLEdBQWtCLEtBQU0sQ0FBSSxFQUMzQyxJQUFJLEVBQVEsR0FBYSxFQUFLLEtBQU0sRUFBSyxDQUFRLEVBRWpELE9BREEsS0FBSyxVQUFVLEtBQUssSUFBSSxHQUFZLEVBQUssS0FBTSxFQUFLLEdBQUksRUFBSyxFQUFVLEdBQU0sQ0FBSyxDQUFDLEVBQzVFLEtBS1AsU0FBUSxFQUFHLENBQ1gsSUFBSSxFQUtKLE9BQVEsS0FBSyxJQUFJLGNBQWMsU0FBUyxHQUFLLEVBQVEsVUFBWSxFQUFLLEtBQUssY0FBZ0IsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLGlCQUFtQixLQUFLLElBQUksRUFBSSxRQUMzSixLQUFLLEtBQUssZUFBaUIsS0FBSyxXQUt4QyxLQUFLLEVBQUcsQ0FDSixLQUFLLFNBQVMsT0FBTyxJQUFNLENBQ3ZCLEdBQW1CLEtBQUssVUFBVSxFQUNsQyxLQUFLLFFBQVEsZ0JBQWdCLEVBQ2hDLEVBTUwsT0FBTyxDQUFDLEVBQU0sQ0FDVixHQUFJLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxFQUNiLEtBQUssU0FBUyxXQUFXLEVBQUssVUFBWSxFQUFJLEVBQU8sRUFBSyxlQUFlLGFBQWUsTUFBTSxFQUM5RixLQUFLLFlBQVksRUFTekIsT0FBTyxFQUFHLENBQ04sR0FBSSxLQUFLLEtBQUssZUFBaUIsS0FBSyxXQUNoQyxLQUFLLFdBQVcsS0FBSyxFQUN6QixRQUFTLEtBQVUsS0FBSyxRQUNwQixFQUFPLFFBQVEsSUFBSSxFQU12QixHQUxBLEtBQUssUUFBVSxDQUFDLEVBQ2hCLEtBQUssV0FBVyxRQUFRLEVBQ3hCLEtBQUssUUFBUSxRQUFRLEVBQ3JCLEtBQUssSUFBSSxPQUFPLEVBQ2hCLEtBQUssU0FBUyxRQUFRLEVBQ2xCLEtBQUssaUJBQW1CLEdBQ3hCLEtBQUssSUFBSSxxQkFBcUIsS0FBSyxnQkFBZ0IsRUFDdkQsS0FBSyxVQUFZLFNBT2QsZUFBYyxDQUFDLEVBQUssRUFBVSxDQUFDLEVBQUcsQ0FDckMsT0FBTyxHQUFlLEdBQUcsSUFBSSxVQUFvQixHQUFPLFNBQVcsRUFBZ0IsT0FBTyxDQUFHLEVBQUksRUFBSyxFQUFRLEVBQUcsRUFBUSxFQUFHLEVBQVEsUUFBUyxFQUFRLE9BQU8sQ0FBQyxFQWNqSyxjQUFjLEVBQUcsQ0FDYixJQUFNLFlBQVcsY0FBZSxLQUFLLFVBQ2pDLEVBQU0sS0FBSyxVQUFVLGVBQWUsQ0FBUyxFQUNqRCxPQUFPLEdBQWUsR0FBRyxJQUFJLEdBQWEsRUFBZ0IsT0FBTyxFQUFJLElBQUksRUFBRyxRQUFTLFFBQVMsRUFBSSxJQUFNLEVBQVcsRUFBWSxFQUFJLENBQUMsRUFheEksZUFBZSxDQUFDLEVBQUksQ0FDaEIsR0FBSSxHQUFNLEtBQ04sS0FBSyxXQUFXLGFBQWUsS0FBSyxXQUFXLGFBQWUsRUFBSSxFQUFJLGtCQUMxRCxHQUFNLFVBQ2xCLEtBQUssV0FBVyxhQUFlLEVBQUssRUFBSSxXQUNuQyxLQUFLLFdBQVcsY0FBZ0IsRUFDckMsS0FBSyxXQUFXLGFBQWUsS0FBSyxJQUFJLEVBQUksUUFjN0MsaUJBQWdCLENBQUMsRUFBVSxDQUM5QixPQUFPLEdBQVcsT0FBTyxLQUFPLENBQUMsR0FBSSxDQUFFLGNBQWUsQ0FBUyxDQUFDLFFBVTdELGtCQUFpQixDQUFDLEVBQVcsQ0FDaEMsT0FBTyxHQUFXLE9BQU8sS0FBTyxDQUFDLEdBQUksQ0FBRSxlQUFnQixDQUFVLENBQUMsUUFvQi9ELE1BQUssQ0FBQyxFQUFNLEVBQVMsQ0FDeEIsSUFBSSxFQUFTLEdBQVksUUFBUSxFQUM3QixFQUFTLENBQUMsR0FBTSxHQUFHLENBQU0sRUFBRyxHQUFZLEdBQUcsR0FBVyxJQUFJLElBQVUsQ0FBSSxDQUFDLENBQUMsRUFDOUUsR0FBSSxHQUFXLEVBQVEsS0FDbkIsRUFBTyxLQUFLLEdBQVUsR0FBRyxFQUFJLENBQUMsRUFDbEMsT0FBTyxRQVNKLFVBQVMsQ0FBQyxFQUFNLENBQ25CLE9BQU8sR0FBSyxPQUFPLEdBQVksR0FBRyxHQUFXLElBQU0sR0FBYSxFQUFNLEVBQVksQ0FBQyxDQUFDLFFBTWpGLFlBQVcsQ0FBQyxFQUFLLENBQ3BCLElBQUksRUFDSixJQUFJLEVBQVUsRUFBSSxjQUFjLGFBQWEsRUFDekMsRUFBUSxHQUFXLEVBQVksSUFBSSxDQUFPLEdBQUssRUFBWSxJQUFJLENBQUcsRUFDdEUsUUFBUyxFQUFLLElBQVUsTUFBUSxJQUFlLE9BQVMsT0FBSSxFQUFNLFlBQWMsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE9BQVMsS0FFckksQ0FRQSxFQUFXLFlBQWMsR0FZekIsRUFBVyxhQUFlLEdBSzFCLEVBQVcscUJBQXVCLEdBSWxDLEVBQVcsc0JBQXdCLEdBT25DLEVBQVcsY0FBZ0IsR0FLM0IsRUFBVyxrQkFBb0IsR0FPL0IsRUFBVyxxQkFBdUIsR0FRbEMsRUFBVyxjQUFnQixHQUszQixFQUFXLGVBQWlCLEdBUzVCLEVBQVcsU0FBVyxHQU90QixFQUFXLG9CQUFzQixHQU9qQyxFQUFXLG1CQUFxQixHQU9oQyxFQUFXLHdCQUEwQixHQWlCckMsRUFBVyxZQUFjLEdBVXpCLEVBQVcsaUJBQW1CLEdBWTlCLEVBQVcsYUFBZSxHQVUxQixFQUFXLG1CQUFxQixHQVFoQyxFQUFXLGNBQWdCLEdBTzNCLEVBQVcsVUFBWSxHQU12QixFQUFXLFNBQXdCLEVBQU0sT0FBTyxDQUFFLFFBQVMsS0FBVSxFQUFPLE9BQVMsRUFBTyxHQUFLLEVBQUcsQ0FBQyxFQUtyRyxFQUFXLGtCQUFvQixHQUsvQixFQUFXLGlCQUFtQixHQUs5QixFQUFXLGFBQTRCLEVBQVcsa0JBQWtCLEdBQUcsQ0FBRSxNQUFTLGlCQUFrQixDQUFDLEVBU3JHLEVBQVcsU0FBd0IsRUFBWSxPQUFPLEVBRXRELElBQU0sR0FBYyxLQUNkLEdBQWEsQ0FBQyxFQUNwQixNQUFNLEVBQVksQ0FDZCxXQUFXLENBQUMsRUFBTSxFQUFJLEVBQUssRUFBVSxFQUFPLEVBQU8sQ0FDL0MsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBQ1YsS0FBSyxJQUFNLEVBQ1gsS0FBSyxTQUFXLEVBQ2hCLEtBQUssTUFBUSxFQUNiLEtBQUssTUFBUSxRQUVWLE9BQU0sQ0FBQyxFQUFPLEVBQVMsQ0FDMUIsR0FBSSxFQUFRLFFBQVUsRUFBTSxLQUFLLEtBQUssRUFBRSxLQUFLLEVBQ3pDLE9BQU8sRUFDWCxJQUFJLEVBQVMsQ0FBQyxFQUFHLEVBQVUsRUFBTSxPQUFTLEVBQU0sRUFBTSxPQUFTLEdBQUcsSUFBTSxFQUFVLElBQ2xGLFFBQVMsRUFBSSxLQUFLLElBQUksRUFBRyxFQUFNLE9BQVMsRUFBRSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FDaEUsSUFBSSxFQUFRLEVBQU0sR0FDbEIsR0FBSSxFQUFNLEtBQU8sSUFBWSxFQUFRLGFBQWEsRUFBTSxLQUFNLEVBQU0sRUFBRSxFQUNsRSxFQUFPLEtBQUssSUFBSSxHQUFZLEVBQVEsT0FBTyxFQUFNLEtBQU0sQ0FBQyxFQUFHLEVBQVEsT0FBTyxFQUFNLEdBQUksRUFBRSxFQUFHLEVBQU0sSUFBSyxFQUFNLFNBQVUsR0FBTyxFQUFNLEtBQUssQ0FBQyxFQUUvSSxPQUFPLEVBRWYsQ0FVQSxJQUFNLEdBQWtCLEVBQVEsSUFBTSxNQUFRLEVBQVEsUUFBVSxNQUFRLEVBQVEsTUFBUSxRQUFVLE1BK0M1RixHQUErQixHQUFLLFFBQXFCLEVBQVcsaUJBQWlCLENBQ3ZGLE9BQU8sQ0FBQyxFQUFPLEVBQU0sQ0FDakIsT0FBTyxHQUFZLEdBQVUsRUFBSyxLQUFLLEVBQUcsRUFBTyxFQUFNLFFBQVEsRUFFdkUsQ0FBQyxDQUFDLEVBU0ksR0FBc0IsRUFBTSxPQUFPLENBQUUsUUFBUyxFQUFnQixDQUFDLEVBQy9ELEdBQXVCLElBQUksUUFrQjdCLEdBQWUsS0FDYixHQUFnQixLQWtFbEIsR0FBa0IsS0E4VXRCLElBQU0sSUFBa0IsRUFBUSxJQTZGaEMsSUFBTSxHQUFZLENBQ2QsV0FBWSxDQUNSLDhCQUErQixDQUFFLGdCQUFpQix3QkFBeUIsQ0FDL0UsRUFDQSxjQUFlLENBQ1gsV0FBWSxDQUNSLFdBQVkscUJBQ1osOEJBQStCLENBQzNCLGdCQUFpQixzQkFDckIsQ0FDSixDQUNKLENBQ0osRUFDQSxHQUFJLEdBQ0EsR0FBVSxZQUFZLFdBQWEsR0FBVSxlQUFlLFdBQWEseUJBNk43RSxJQUFNLEdBQXVCLElBQUksU0FBVyxLQUFPLEtBQU8sSUE2WDFELElBQU0sR0FBVSxXQUNoQixNQUFNLEVBQW1CLENBQ3JCLFdBQVcsQ0FBQyxFQUFNLEVBQU8sRUFBbUIsRUFBbUIsQ0FDM0QsS0FBSyxNQUFRLEVBQ2IsS0FBSyxrQkFBb0IsRUFDekIsS0FBSyxrQkFBb0IsRUFDekIsS0FBSyxNQUFRLEVBQUssTUFBTSxNQUFNLENBQUssRUFDbkMsS0FBSyxTQUFXLEtBQUssTUFBTSxPQUFPLEtBQUssQ0FBQyxFQUN4QyxJQUFJLEVBQU8sS0FDWCxLQUFLLGFBQWUsS0FBSyxTQUFTLElBQUksS0FBSyxFQUFPLEVBQWtCLEVBQUcsQ0FBSSxDQUFDLEVBRWhGLE1BQU0sQ0FBQyxFQUFRLEVBQU8sQ0FDbEIsSUFBSSxFQUNKLElBQUksRUFBUSxFQUFPLE1BQU0sTUFBTSxLQUFLLEtBQUssRUFDckMsRUFBVyxFQUFNLE9BQU8sS0FBSyxDQUFDLEVBQ2xDLEdBQUksSUFBVSxLQUFLLE1BQU8sQ0FDdEIsUUFBUyxLQUFLLEtBQUssYUFDZixHQUFJLEVBQUUsT0FDRixFQUFFLE9BQU8sQ0FBTSxFQUN2QixNQUFPLEdBRVgsSUFBSSxFQUFlLENBQUMsRUFBRyxFQUFXLEVBQVEsQ0FBQyxFQUFJLEtBQy9DLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUyxPQUFRLElBQUssQ0FDdEMsSUFBSSxFQUFNLEVBQVMsR0FBSSxFQUFRLEdBQy9CLElBQUssRUFDRCxTQUNKLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxTQUFTLE9BQVEsSUFBSyxDQUMzQyxJQUFJLEVBQVEsS0FBSyxTQUFTLEdBQzFCLEdBQUksR0FBUyxFQUFNLFFBQVUsRUFBSSxPQUM3QixFQUFRLEVBRWhCLEdBQUksRUFBUSxHQUVSLEdBREEsRUFBYSxHQUFLLEtBQUssa0JBQWtCLEVBQUssRUFBSSxFQUFhLEVBQUksR0FBSyxJQUFJLEVBQ3hFLEVBQ0EsRUFBUyxLQUFPLEVBQUksVUFFdkIsQ0FDRCxJQUFJLEVBQWMsRUFBYSxHQUFLLEtBQUssYUFBYSxHQUN0RCxHQUFJLEVBQ0EsRUFBUyxHQUFLLEVBQU0sR0FDeEIsR0FBSSxFQUFZLE9BQ1osRUFBWSxPQUFPLENBQU0sR0FHckMsUUFBUyxLQUFLLEtBQUssYUFDZixHQUFJLEVBQWEsUUFBUSxDQUFDLEVBQUksRUFDMUIsS0FBSyxrQkFBa0IsQ0FBQyxHQUN2QixFQUFLLEVBQUUsV0FBYSxNQUFRLElBQVksUUFBYSxFQUFHLEtBQUssQ0FBQyxFQUV2RSxHQUFJLEVBQ0EsRUFBUyxRQUFRLENBQUMsRUFBSyxJQUFNLEVBQU0sR0FBSyxDQUFHLEVBQzNDLEVBQU0sT0FBUyxFQUFTLE9BSzVCLE9BSEEsS0FBSyxNQUFRLEVBQ2IsS0FBSyxTQUFXLEVBQ2hCLEtBQUssYUFBZSxFQUNiLEdBRWYsQ0FXQSxJQUFNLEdBQTZCLEVBQU0sT0FBTyxDQUM1QyxRQUFTLEtBQVUsQ0FDZixJQUFJLEVBQUksRUFBSSxFQUNaLE1BQVEsQ0FDSixTQUFVLEVBQVEsSUFBTSxhQUFlLEVBQUssRUFBTyxLQUFLLEtBQVEsRUFBSyxRQUFRLEtBQU8sTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLFdBQWEsUUFDckksU0FBVSxFQUFLLEVBQU8sS0FBSyxLQUFRLEVBQUssTUFBTSxLQUFPLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxTQUFXLEtBQ3BHLGVBQWdCLEVBQUssRUFBTyxLQUFLLEtBQVEsRUFBSyxZQUFZLEtBQU8sTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLGVBQWlCLEVBQzFILEVBRVIsQ0FBQyxFQUNLLEdBQTJCLElBQUksUUFDL0IsR0FBNkIsR0FBVyxVQUFVLEtBQU0sQ0FDMUQsV0FBVyxDQUFDLEVBQU0sQ0FDZCxLQUFLLEtBQU8sRUFDWixLQUFLLE1BQVEsQ0FBQyxFQUNkLEtBQUssT0FBUyxHQUNkLEtBQUssYUFBZSxHQUNwQixLQUFLLGdCQUFrQixFQUN2QixLQUFLLGVBQWlCLEdBQ3RCLElBQUksRUFBUyxFQUFLLE1BQU0sTUFBTSxFQUFhLEVBQzNDLEtBQUssU0FBVyxFQUFPLFNBQ3ZCLEtBQUssT0FBUyxFQUFPLE9BQ3JCLEtBQUssUUFBVSxFQUFLLGFBQ3BCLEtBQUssZ0JBQWdCLEVBQ3JCLEtBQUssV0FBYSxDQUFFLEtBQU0sS0FBSyxZQUFZLEtBQUssSUFBSSxFQUFHLE1BQU8sS0FBSyxhQUFhLEtBQUssSUFBSSxFQUFHLElBQUssSUFBSyxFQUN0RyxLQUFLLHNCQUF3QixnQkFBa0IsV0FBYSxJQUFJLGVBQWUsSUFBTSxLQUFLLFlBQVksQ0FBQyxFQUFJLEtBQzNHLEtBQUssUUFBVSxJQUFJLEdBQW1CLEVBQU0sR0FBYSxDQUFDLEVBQUcsSUFBTSxLQUFLLGNBQWMsRUFBRyxDQUFDLEVBQUcsS0FBSyxDQUM5RixHQUFJLEtBQUssZUFDTCxLQUFLLGVBQWUsVUFBVSxFQUFFLEdBQUcsRUFDdkMsRUFBRSxJQUFJLE9BQU8sRUFDaEIsRUFDRCxLQUFLLE1BQVEsS0FBSyxRQUFRLFNBQVMsSUFBSSxPQUFPLEVBQUUsS0FBSyxFQUNyRCxLQUFLLDRCQUE4QixzQkFBd0IsV0FBYSxJQUFJLHFCQUFxQixLQUFXLENBQ3hHLEdBQUksS0FBSyxJQUFJLEVBQUksS0FBSyxnQkFBa0IsSUFDcEMsRUFBUSxPQUFTLEdBQUssRUFBUSxFQUFRLE9BQVMsR0FBRyxrQkFBb0IsRUFDdEUsS0FBSyxZQUFZLEdBQ3RCLENBQUUsVUFBVyxDQUFDLENBQUMsQ0FBRSxDQUFDLEVBQUksS0FDekIsS0FBSyxvQkFBb0IsRUFDekIsRUFBSyxJQUFJLGlCQUFpQixTQUFVLEtBQUssWUFBYyxLQUFLLFlBQVksS0FBSyxJQUFJLENBQUMsRUFDbEYsS0FBSyxhQUFhLEVBRXRCLGVBQWUsRUFBRyxDQUNkLEdBQUksS0FBSyxPQUNMLEtBQUssVUFBWSxTQUFTLGNBQWMsS0FBSyxFQUM3QyxLQUFLLFVBQVUsTUFBTSxTQUFXLFdBQ2hDLEtBQUssVUFBVSxVQUFZLEtBQUssS0FBSyxhQUNyQyxLQUFLLE9BQU8sWUFBWSxLQUFLLFNBQVMsTUFHdEMsTUFBSyxVQUFZLEtBQUssS0FBSyxJQUduQyxtQkFBbUIsRUFBRyxDQUNsQixHQUFJLEtBQUsscUJBQXNCLENBQzNCLEtBQUsscUJBQXFCLFdBQVcsRUFDckMsUUFBUyxLQUFXLEtBQUssUUFBUSxhQUM3QixLQUFLLHFCQUFxQixRQUFRLEVBQVEsR0FBRyxHQUd6RCxXQUFXLEVBQUcsQ0FDVixHQUFJLEtBQUssZUFBaUIsRUFDdEIsS0FBSyxlQUFpQixXQUFXLElBQU0sQ0FDbkMsS0FBSyxlQUFpQixHQUN0QixLQUFLLGFBQWEsR0FDbkIsRUFBRSxFQUViLE1BQU0sQ0FBQyxFQUFRLENBQ1gsR0FBSSxFQUFPLGFBQWEsT0FDcEIsS0FBSyxnQkFBa0IsS0FBSyxJQUFJLEVBQ3BDLElBQUksRUFBVSxLQUFLLFFBQVEsT0FBTyxFQUFRLEtBQUssS0FBSyxFQUNwRCxHQUFJLEVBQ0EsS0FBSyxvQkFBb0IsRUFDN0IsSUFBSSxFQUFnQixHQUFXLEVBQU8sZ0JBQ2xDLEVBQVksRUFBTyxNQUFNLE1BQU0sRUFBYSxFQUNoRCxHQUFJLEVBQVUsVUFBWSxLQUFLLFdBQWEsS0FBSyxhQUFjLENBQzNELEtBQUssU0FBVyxFQUFVLFNBQzFCLFFBQVMsS0FBSyxLQUFLLFFBQVEsYUFDdkIsRUFBRSxJQUFJLE1BQU0sU0FBVyxLQUFLLFNBQ2hDLEVBQWdCLEdBRXBCLEdBQUksRUFBVSxRQUFVLEtBQUssT0FBUSxDQUNqQyxHQUFJLEtBQUssT0FDTCxLQUFLLFVBQVUsT0FBTyxFQUMxQixLQUFLLE9BQVMsRUFBVSxPQUN4QixLQUFLLGdCQUFnQixFQUNyQixRQUFTLEtBQUssS0FBSyxRQUFRLGFBQ3ZCLEtBQUssVUFBVSxZQUFZLEVBQUUsR0FBRyxFQUNwQyxFQUFnQixXQUVYLEtBQUssUUFBVSxLQUFLLEtBQUssY0FBZ0IsS0FBSyxRQUNuRCxLQUFLLFFBQVUsS0FBSyxVQUFVLFVBQVksS0FBSyxLQUFLLGFBRXhELEdBQUksRUFDQSxLQUFLLGFBQWEsRUFFMUIsYUFBYSxDQUFDLEVBQVMsRUFBTSxDQUN6QixJQUFJLEVBQWMsRUFBUSxPQUFPLEtBQUssSUFBSSxFQUN0QyxFQUFTLEVBQU8sRUFBSyxJQUFNLEtBRS9CLEdBREEsRUFBWSxJQUFJLFVBQVUsSUFBSSxZQUFZLEVBQ3RDLEVBQVEsUUFBVSxFQUFZLElBQUksY0FBYyxpQ0FBaUMsRUFBRyxDQUNwRixJQUFJLEVBQVEsU0FBUyxjQUFjLEtBQUssRUFDeEMsRUFBTSxVQUFZLG1CQUNsQixFQUFZLElBQUksWUFBWSxDQUFLLEVBTXJDLEdBSkEsRUFBWSxJQUFJLE1BQU0sU0FBVyxLQUFLLFNBQ3RDLEVBQVksSUFBSSxNQUFNLElBQU0sR0FDNUIsRUFBWSxJQUFJLE1BQU0sS0FBTyxNQUM3QixLQUFLLFVBQVUsYUFBYSxFQUFZLElBQUssQ0FBTSxFQUMvQyxFQUFZLE1BQ1osRUFBWSxNQUFNLEtBQUssSUFBSSxFQUMvQixHQUFJLEtBQUssZUFDTCxLQUFLLGVBQWUsUUFBUSxFQUFZLEdBQUcsRUFDL0MsT0FBTyxFQUVYLE9BQU8sRUFBRyxDQUNOLElBQUksRUFBSSxFQUFJLEVBQ1osS0FBSyxLQUFLLElBQUksb0JBQW9CLFNBQVUsS0FBSyxXQUFXLEVBQzVELFFBQVMsS0FBZSxLQUFLLFFBQVEsYUFDakMsRUFBWSxJQUFJLE9BQU8sR0FDdEIsRUFBSyxFQUFZLFdBQWEsTUFBUSxJQUFZLFFBQWEsRUFBRyxLQUFLLENBQVcsRUFFdkYsR0FBSSxLQUFLLE9BQ0wsS0FBSyxVQUFVLE9BQU8sRUFDMUIsQ0FBQyxFQUFLLEtBQUssa0JBQW9CLE1BQVEsSUFBWSxRQUFhLEVBQUcsV0FBVyxHQUM3RSxFQUFLLEtBQUssd0JBQTBCLE1BQVEsSUFBWSxRQUFhLEVBQUcsV0FBVyxFQUNwRixhQUFhLEtBQUssY0FBYyxFQUVwQyxXQUFXLEVBQUcsQ0FDVixJQUFJLEVBQVMsS0FBSyxLQUFLLElBQUksc0JBQXNCLEVBQzdDLEVBQVMsRUFBRyxFQUFTLEVBQUcsRUFBZSxHQUMzQyxHQUFJLEtBQUssVUFBWSxTQUFXLEtBQUssUUFBUSxhQUFhLE9BQVEsQ0FDOUQsSUFBTSxPQUFRLEtBQUssUUFBUSxhQUFhLEdBQ3hDLEdBQUksRUFBUSxNQUlSLEVBQWUsRUFBSSxjQUFnQixLQUFLLFVBQVUsY0FBYyxhQUUzRCxFQUFJLE1BQU0sS0FBTyxJQUFXLEVBQUksTUFBTSxNQUFRLE1BQU8sQ0FHMUQsSUFBSSxFQUFPLEVBQUksc0JBQXNCLEVBQ3JDLEVBQWUsS0FBSyxJQUFJLEVBQUssSUFBTSxHQUFLLEVBQUksR0FBSyxLQUFLLElBQUksRUFBSyxJQUFJLEVBQUksR0FHL0UsR0FBSSxHQUFnQixLQUFLLFVBQVksV0FDakMsR0FBSSxLQUFLLE9BQVEsQ0FDYixJQUFJLEVBQU8sS0FBSyxPQUFPLHNCQUFzQixFQUM3QyxHQUFJLEVBQUssT0FBUyxFQUFLLE9BQ25CLEVBQVMsRUFBSyxNQUFRLEtBQUssT0FBTyxZQUNsQyxFQUFTLEVBQUssT0FBUyxLQUFLLE9BQU8saUJBSXZDLENBQUMsQ0FBRSxTQUFRLFFBQU8sRUFBSSxLQUFLLEtBQUssV0FHeEMsTUFBTyxDQUNILFNBQ0EsT0FBUSxLQUFLLE9BQVMsS0FBSyxVQUFVLHNCQUFzQixFQUFJLEVBQy9ELElBQUssS0FBSyxRQUFRLFNBQVMsSUFBSSxDQUFDLEVBQUcsSUFBTSxDQUNyQyxJQUFJLEVBQUssS0FBSyxRQUFRLGFBQWEsR0FDbkMsT0FBTyxFQUFHLFVBQVksRUFBRyxVQUFVLEVBQUUsR0FBRyxFQUFJLEtBQUssS0FBSyxZQUFZLEVBQUUsR0FBRyxFQUMxRSxFQUNELEtBQU0sS0FBSyxRQUFRLGFBQWEsSUFBSSxFQUFHLFNBQVUsRUFBSSxzQkFBc0IsQ0FBQyxFQUM1RSxNQUFPLEtBQUssS0FBSyxNQUFNLE1BQU0sRUFBYSxFQUFFLGFBQWEsS0FBSyxJQUFJLEVBQ2xFLFNBQVEsU0FBUSxjQUNwQixFQUVKLFlBQVksQ0FBQyxFQUFVLENBQ25CLElBQUksRUFDSixHQUFJLEVBQVMsYUFBYyxDQUN2QixLQUFLLGFBQWUsR0FDcEIsS0FBSyxTQUFXLFdBQ2hCLFFBQVMsS0FBSyxLQUFLLFFBQVEsYUFDdkIsRUFBRSxJQUFJLE1BQU0sU0FBVyxXQUUvQixJQUFNLFNBQVEsUUFBTyxTQUFRLFVBQVcsRUFDcEMsRUFBUyxDQUFDLEVBQ2QsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLFFBQVEsU0FBUyxPQUFRLElBQUssQ0FDbkQsSUFBSSxFQUFVLEtBQUssUUFBUSxTQUFTLEdBQUksRUFBUSxLQUFLLFFBQVEsYUFBYSxJQUFNLE9BQVEsRUFDcEYsRUFBTSxFQUFTLElBQUksR0FBSSxFQUFPLEVBQVMsS0FBSyxHQUVoRCxJQUFLLEdBQU8sRUFBSSxRQUFVLEtBQUssSUFBSSxFQUFPLElBQUssRUFBTSxHQUFHLEdBQ3BELEVBQUksS0FBTyxLQUFLLElBQUksRUFBTyxPQUFRLEVBQU0sTUFBTSxHQUMvQyxFQUFJLE1BQVEsS0FBSyxJQUFJLEVBQU8sS0FBTSxFQUFNLElBQUksRUFBSSxLQUNoRCxFQUFJLEtBQU8sS0FBSyxJQUFJLEVBQU8sTUFBTyxFQUFNLEtBQUssRUFBSSxJQUFJLENBQ3JELEVBQUksTUFBTSxJQUFNLEdBQ2hCLFNBRUosSUFBSSxFQUFRLEVBQVEsTUFBUSxFQUFNLElBQUksY0FBYyxtQkFBbUIsRUFBSSxLQUN2RSxFQUFjLEVBQVEsRUFBcUIsRUFDM0MsRUFBUSxFQUFLLE1BQVEsRUFBSyxLQUFNLEdBQVUsRUFBSyxHQUFZLElBQUksQ0FBSyxLQUFPLE1BQVEsSUFBWSxPQUFJLEVBQUssRUFBSyxPQUFTLEVBQUssSUFDM0gsRUFBUyxFQUFNLFFBQVUsR0FBVSxFQUFNLEtBQUssS0FBSyxlQUFpQixFQUFVLElBQzlFLEVBQU8sRUFBSyxNQUFRLEVBQU0sTUFBUSxFQUFNLEtBQ3JDLEVBQU0sRUFBTSxLQUFPLEVBQU0sTUFBUSxFQUFLLE1BQ3ZDLEVBQU0sS0FBSyxJQUFJLEVBQU0sS0FBTSxLQUFLLElBQUksRUFBSSxNQUFRLEVBQVEsR0FBd0IsR0FBSyxFQUFPLEVBQUcsRUFBTSxNQUFRLENBQUssQ0FBQyxFQUMvRyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQU0sS0FBTSxFQUFJLEtBQU8sR0FBUyxFQUFRLEdBQXdCLEdBQUssRUFBTyxDQUFDLEVBQUcsRUFBTSxNQUFRLENBQUssRUFDM0gsRUFBUSxLQUFLLE1BQU0sR0FDdkIsSUFBSyxFQUFRLGFBQWUsRUFDdEIsRUFBSSxLQUFPLEVBQUssT0FBUyxFQUFLLEtBQU8sRUFBTyxFQUFJLEVBQU0sSUFDdEQsRUFBSSxRQUFVLEVBQUssT0FBUyxFQUFLLEtBQU8sRUFBTyxFQUFJLEVBQU0sU0FDM0QsR0FBVSxFQUFNLE9BQVMsRUFBSSxPQUFTLEVBQUksSUFBTSxFQUFNLElBQ3RELEVBQVEsS0FBSyxNQUFNLElBQU0sRUFDN0IsSUFBSSxHQUFhLEVBQVEsRUFBSSxJQUFNLEVBQU0sSUFBTSxFQUFNLE9BQVMsRUFBSSxRQUFVLEVBQzVFLEdBQUksRUFBWSxHQUFVLEVBQU0sU0FBVyxHQUFPLENBQzlDLEdBQUksRUFBWSxLQUFLLEtBQUssa0JBQW1CLENBQ3pDLEVBQUksTUFBTSxJQUFNLEdBQ2hCLFNBRUosR0FBWSxJQUFJLEVBQU8sQ0FBTSxFQUM3QixFQUFJLE1BQU0sUUFBVSxFQUFTLEdBQWEsRUFBUyxhQUU5QyxFQUFJLE1BQU0sT0FDZixFQUFJLE1BQU0sT0FBUyxHQUV2QixJQUFJLEVBQU0sRUFBUSxFQUFJLElBQU0sRUFBUyxFQUFjLEVBQU8sRUFBSSxFQUFJLE9BQVMsRUFBYyxFQUFPLEVBQzVGLEVBQVEsRUFBTyxFQUNuQixHQUFJLEVBQU0sVUFBWSxJQUNsQixRQUFTLEtBQUssRUFDVixHQUFJLEVBQUUsS0FBTyxHQUFTLEVBQUUsTUFBUSxHQUFRLEVBQUUsSUFBTSxFQUFNLEdBQVUsRUFBRSxPQUFTLEVBQ3ZFLEVBQU0sRUFBUSxFQUFFLElBQU0sRUFBUyxFQUFJLEVBQWMsRUFBRSxPQUFTLEVBQWMsRUFDdEYsR0FBSSxLQUFLLFVBQVksV0FDakIsRUFBSSxNQUFNLEtBQU8sRUFBTSxFQUFTLE9BQU8sS0FBTyxFQUFTLEtBQ3ZELEVBQUksTUFBTSxNQUFRLEVBQU8sRUFBUyxPQUFPLE1BQVEsRUFBUyxTQUcxRCxHQUFJLE1BQU0sSUFBTSxFQUFNLEVBQVMsS0FDL0IsRUFBSSxNQUFNLEtBQU8sRUFBTyxFQUFTLEtBRXJDLEdBQUksRUFBTyxDQUNQLElBQUksRUFBWSxFQUFJLE1BQVEsRUFBTSxFQUFPLEdBQUssRUFBTyxJQUFNLEVBQU8sR0FBd0IsR0FDMUYsRUFBTSxNQUFNLEtBQU8sRUFBWSxFQUFTLEtBRTVDLEdBQUksRUFBTSxVQUFZLEdBQ2xCLEVBQU8sS0FBSyxDQUFFLE9BQU0sTUFBSyxRQUFPLE9BQVEsRUFBTSxDQUFPLENBQUMsRUFHMUQsR0FGQSxFQUFJLFVBQVUsT0FBTyxtQkFBb0IsQ0FBSyxFQUM5QyxFQUFJLFVBQVUsT0FBTyxvQkFBcUIsQ0FBSyxFQUMzQyxFQUFNLFdBQ04sRUFBTSxXQUFXLEVBQVMsS0FBSyxHQUczQyxZQUFZLEVBQUcsQ0FDWCxHQUFJLEtBQUssUUFBUSxTQUFTLE9BQVEsQ0FDOUIsR0FBSSxLQUFLLEtBQUssT0FDVixLQUFLLEtBQUssZUFBZSxLQUFLLFVBQVUsRUFDNUMsR0FBSSxLQUFLLFFBQVUsS0FBSyxLQUFLLFFBRXpCLEdBREEsS0FBSyxPQUFTLEtBQUssS0FBSyxRQUNuQixLQUFLLE9BQ04sUUFBUyxLQUFNLEtBQUssUUFBUSxhQUN4QixFQUFHLElBQUksTUFBTSxJQUFNLEtBSTNDLEVBQUcsQ0FDQyxlQUFnQixDQUNaLE1BQU0sRUFBRyxDQUFFLEtBQUssYUFBYSxFQUNqQyxDQUNKLENBQUMsRUFDSyxHQUF5QixFQUFXLFVBQVUsQ0FDaEQsY0FBZSxDQUNYLE9BQVEsSUFDUixVQUFXLFlBQ2YsRUFDQSxxQkFBc0IsQ0FDbEIsT0FBUSxpQkFDUixnQkFBaUIsU0FDckIsRUFDQSwrQ0FBZ0QsQ0FDNUMsVUFBVyxnQkFDZixFQUNBLG9CQUFxQixDQUNqQixnQkFBaUIsVUFDakIsTUFBTyxPQUNYLEVBQ0Esb0JBQXFCLENBQ2pCLE9BQVEsTUFDUixNQUFPLE9BQ1AsU0FBVSxXQUNWLE9BQVEsR0FDUixTQUFVLFNBQ1Ysb0JBQXFCLENBQ2pCLFFBQVMsS0FDVCxTQUFVLFdBQ1YsTUFBTyxFQUNQLE9BQVEsRUFDUixXQUFZLHdCQUNaLFlBQWEsdUJBQ2pCLEVBQ0Esc0JBQXVCLENBQ25CLE9BQVEsT0FDUixXQUFZLENBQ1IsVUFBVyxnQkFDZixFQUNBLFVBQVcsQ0FDUCxVQUFXLG9CQUNYLE9BQVEsS0FDWixDQUNKLEVBQ0Esc0JBQXVCLENBQ25CLElBQUssT0FDTCxXQUFZLENBQ1IsYUFBYyxnQkFDbEIsRUFDQSxVQUFXLENBQ1AsYUFBYyxvQkFDZCxJQUFLLEtBQ1QsQ0FDSixDQUNKLEVBQ0Esc0NBQXVDLENBQ25DLFdBQVksQ0FDUixlQUFnQixVQUNoQixrQkFBbUIsU0FDdkIsRUFDQSxVQUFXLENBQ1AsZUFBZ0IsY0FDaEIsa0JBQW1CLGFBQ3ZCLENBQ0osQ0FDSixDQUFDLEVBQ0ssR0FBVyxDQUFFLEVBQUcsRUFBRyxFQUFHLENBQUUsRUFJeEIsR0FBMkIsRUFBTSxPQUFPLENBQzFDLFFBQVMsQ0FBQyxHQUFlLEVBQVMsQ0FDdEMsQ0FBQyxFQTBlRCxNQUFNLFdBQXFCLEVBQVcsQ0FJbEMsT0FBTyxDQUFDLEVBQU8sQ0FDWCxPQUFPLE1BQVEsR0FBUyxLQUFLLGFBQWUsRUFBTSxhQUFlLEtBQUssR0FBRyxDQUFLLEVBS2xGLEVBQUUsQ0FBQyxFQUFPLENBQUUsTUFBTyxHQUtuQixPQUFPLENBQUMsRUFBSyxFQUNqQixDQUNBLEdBQWEsVUFBVSxhQUFlLEdBQ3RDLEdBQWEsVUFBVSxNQUFRLE9BQy9CLEdBQWEsVUFBVSxRQUFVLEdBQVEsWUFDekMsR0FBYSxVQUFVLFVBQVksR0FBYSxVQUFVLFFBQVUsR0FDcEUsR0FBYSxVQUFVLE1BQVEsR0FRL0IsSUFBTSxHQUErQixFQUFNLE9BQU8sRUFLNUMsR0FBaUMsRUFBTSxPQUFPLEVBYXBELElBQU0sR0FBNkIsRUFBTSxPQUFPLEVBUTFDLEdBQTRCLEVBQU0sT0FBTyxDQUMzQyxRQUFTLEtBQVUsRUFBTyxLQUFLLEtBQUssQ0FBQyxDQUN6QyxDQUFDLEVBbUJLLEdBQTBCLEdBQVcsVUFBVSxLQUFNLENBQ3ZELFdBQVcsQ0FBQyxFQUFNLENBQ2QsS0FBSyxLQUFPLEVBQ1osS0FBSyxhQUFlLEVBQUssU0FDekIsS0FBSyxJQUFNLFNBQVMsY0FBYyxLQUFLLEVBQ3ZDLEtBQUssSUFBSSxVQUFZLGFBQ3JCLEtBQUssSUFBSSxhQUFhLGNBQWUsTUFBTSxFQUMzQyxLQUFLLElBQUksTUFBTSxVQUFhLEtBQUssS0FBSyxjQUFnQixLQUFLLEtBQUssT0FBVSxLQUMxRSxLQUFLLFFBQVUsRUFBSyxNQUFNLE1BQU0sRUFBYSxFQUFFLElBQUksS0FBUSxJQUFJLEdBQWlCLEVBQU0sQ0FBSSxDQUFDLEVBQzNGLFFBQVMsS0FBVSxLQUFLLFFBQ3BCLEtBQUssSUFBSSxZQUFZLEVBQU8sR0FBRyxFQUVuQyxHQURBLEtBQUssT0FBUyxFQUFLLE1BQU0sTUFBTSxFQUFZLEVBQ3ZDLEtBQUssTUFJTCxLQUFLLElBQUksTUFBTSxTQUFXLFNBRTlCLEtBQUssWUFBWSxFQUFLLEVBQ3RCLEVBQUssVUFBVSxhQUFhLEtBQUssSUFBSyxFQUFLLFVBQVUsRUFFekQsTUFBTSxDQUFDLEVBQVEsQ0FDWCxHQUFJLEtBQUssY0FBYyxDQUFNLEVBQUcsQ0FJNUIsSUFBSSxFQUFNLEtBQUssYUFBYyxFQUFNLEVBQU8sS0FBSyxTQUMzQyxFQUFZLEtBQUssSUFBSSxFQUFJLEdBQUksRUFBSSxFQUFFLEVBQUksS0FBSyxJQUFJLEVBQUksS0FBTSxFQUFJLElBQUksRUFDdEUsS0FBSyxZQUFZLEdBQWEsRUFBSSxHQUFLLEVBQUksTUFBUSxHQUFHLEVBRTFELEdBQUksRUFBTyxnQkFDUCxLQUFLLElBQUksTUFBTSxVQUFhLEtBQUssS0FBSyxjQUFnQixLQUFLLEtBQUssT0FBVSxLQUU5RSxHQUFJLEtBQUssS0FBSyxNQUFNLE1BQU0sRUFBWSxJQUFNLEtBQUssTUFDN0MsS0FBSyxPQUFTLEtBQUssTUFDbkIsS0FBSyxJQUFJLE1BQU0sU0FBVyxLQUFLLE1BQVEsU0FBVyxHQUV0RCxLQUFLLGFBQWUsRUFBTyxLQUFLLFNBRXBDLFdBQVcsQ0FBQyxFQUFRLENBQ2hCLElBQUksRUFBUSxLQUFLLElBQUksWUFDckIsR0FBSSxFQUNBLEtBQUssSUFBSSxPQUFPLEVBQ3BCLElBQUksRUFBYyxFQUFTLEtBQUssS0FBSyxLQUFLLE1BQU0sTUFBTSxFQUFlLEVBQUcsS0FBSyxLQUFLLFNBQVMsSUFBSSxFQUMzRixFQUFXLENBQUMsRUFDWixFQUFXLEtBQUssUUFBUSxJQUFJLEtBQVUsSUFBSSxHQUFjLEVBQVEsS0FBSyxLQUFLLFVBQVcsS0FBSyxLQUFLLGdCQUFnQixHQUFHLENBQUMsRUFDdkgsUUFBUyxLQUFRLEtBQUssS0FBSyxtQkFBb0IsQ0FDM0MsR0FBSSxFQUFTLE9BQ1QsRUFBVyxDQUFDLEVBQ2hCLEdBQUksTUFBTSxRQUFRLEVBQUssSUFBSSxFQUFHLENBQzFCLElBQUksRUFBUSxHQUNaLFFBQVMsS0FBSyxFQUFLLEtBQ2YsR0FBSSxFQUFFLE1BQVEsR0FBVSxNQUFRLEVBQU8sQ0FDbkMsR0FBYyxFQUFhLEVBQVUsRUFBRSxJQUFJLEVBQzNDLFFBQVMsS0FBTSxFQUNYLEVBQUcsS0FBSyxLQUFLLEtBQU0sRUFBRyxDQUFRLEVBQ2xDLEVBQVEsV0FFSCxFQUFFLE9BQ1AsUUFBUyxLQUFNLEVBQ1gsRUFBRyxPQUFPLEtBQUssS0FBTSxDQUFDLFVBSTdCLEVBQUssTUFBUSxHQUFVLEtBQU0sQ0FDbEMsR0FBYyxFQUFhLEVBQVUsRUFBSyxJQUFJLEVBQzlDLFFBQVMsS0FBTSxFQUNYLEVBQUcsS0FBSyxLQUFLLEtBQU0sRUFBTSxDQUFRLFVBRWhDLEVBQUssT0FDVixRQUFTLEtBQU0sRUFDWCxFQUFHLE9BQU8sS0FBSyxLQUFNLENBQUksRUFHckMsUUFBUyxLQUFNLEVBQ1gsRUFBRyxPQUFPLEVBQ2QsR0FBSSxFQUNBLEtBQUssS0FBSyxVQUFVLGFBQWEsS0FBSyxJQUFLLENBQUssRUFFeEQsYUFBYSxDQUFDLEVBQVEsQ0FDbEIsSUFBSSxFQUFPLEVBQU8sV0FBVyxNQUFNLEVBQWEsRUFBRyxFQUFNLEVBQU8sTUFBTSxNQUFNLEVBQWEsRUFDckYsRUFBUyxFQUFPLFlBQWMsRUFBTyxlQUFpQixFQUFPLGtCQUM1RCxFQUFTLEdBQUcsRUFBTyxXQUFXLE1BQU0sRUFBZSxFQUFHLEVBQU8sTUFBTSxNQUFNLEVBQWUsRUFBRyxFQUFPLEtBQUssU0FBUyxLQUFNLEVBQU8sS0FBSyxTQUFTLEVBQUUsRUFDbEosR0FBSSxHQUFRLEdBQ1IsUUFBUyxLQUFVLEtBQUssUUFDcEIsR0FBSSxFQUFPLE9BQU8sQ0FBTSxFQUNwQixFQUFTLE9BRWhCLENBQ0QsRUFBUyxHQUNULElBQUksRUFBVSxDQUFDLEVBQ2YsUUFBUyxLQUFRLEVBQUssQ0FDbEIsSUFBSSxFQUFRLEVBQUssUUFBUSxDQUFJLEVBQzdCLEdBQUksRUFBUSxFQUNSLEVBQVEsS0FBSyxJQUFJLEdBQWlCLEtBQUssS0FBTSxDQUFJLENBQUMsTUFHbEQsTUFBSyxRQUFRLEdBQU8sT0FBTyxDQUFNLEVBQ2pDLEVBQVEsS0FBSyxLQUFLLFFBQVEsRUFBTSxFQUd4QyxRQUFTLEtBQUssS0FBSyxRQUVmLEdBREEsRUFBRSxJQUFJLE9BQU8sRUFDVCxFQUFRLFFBQVEsQ0FBQyxFQUFJLEVBQ3JCLEVBQUUsUUFBUSxFQUVsQixRQUFTLEtBQUssRUFDVixLQUFLLElBQUksWUFBWSxFQUFFLEdBQUcsRUFDOUIsS0FBSyxRQUFVLEVBRW5CLE9BQU8sRUFFWCxPQUFPLEVBQUcsQ0FDTixRQUFTLEtBQVEsS0FBSyxRQUNsQixFQUFLLFFBQVEsRUFDakIsS0FBSyxJQUFJLE9BQU8sRUFFeEIsRUFBRyxDQUNDLFFBQVMsS0FBVSxFQUFXLGNBQWMsR0FBRyxLQUFRLENBQ25ELElBQUksRUFBUSxFQUFLLE9BQU8sQ0FBTSxFQUM5QixJQUFLLEdBQVMsRUFBTSxRQUFRLFFBQVUsSUFBTSxFQUFNLE1BQzlDLE9BQU8sS0FDWCxPQUFPLEVBQUssZUFBaUIsRUFBVSxJQUNqQyxDQUFFLEtBQU0sRUFBTSxJQUFJLFlBQWMsRUFBSyxNQUFPLEVBQzVDLENBQUUsTUFBTyxFQUFNLElBQUksWUFBYyxFQUFLLE1BQU8sRUFDdEQsQ0FDTCxDQUFDLEVBU0QsTUFBTSxFQUFjLENBQ2hCLFdBQVcsQ0FBQyxFQUFRLEVBQVUsRUFBUSxDQUNsQyxLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsRUFDZCxLQUFLLEVBQUksRUFDVCxLQUFLLE9BQVMsRUFBUyxLQUFLLEVBQU8sUUFBUyxFQUFTLElBQUksRUFFN0QsVUFBVSxDQUFDLEVBQU0sRUFBTyxFQUFTLENBQzdCLElBQU0sVUFBVyxLQUFNLEdBQVMsRUFBTSxJQUFNLEtBQUssUUFBVSxFQUFLLE9BQVEsRUFBUyxFQUFNLE9BQVMsRUFBSyxPQUNyRyxHQUFJLEtBQUssR0FBSyxFQUFPLFNBQVMsT0FBUSxDQUNsQyxJQUFJLEVBQVMsSUFBSSxHQUFjLEVBQU0sRUFBUSxFQUFPLENBQU8sRUFDM0QsRUFBTyxTQUFTLEtBQUssQ0FBTSxFQUMzQixFQUFPLElBQUksWUFBWSxFQUFPLEdBQUcsTUFHakMsR0FBTyxTQUFTLEtBQUssR0FBRyxPQUFPLEVBQU0sRUFBUSxFQUFPLENBQU8sRUFFL0QsS0FBSyxPQUFTLEVBQU0sT0FDcEIsS0FBSyxJQUVULElBQUksQ0FBQyxFQUFNLEVBQU0sRUFBYyxDQUMzQixJQUFJLEVBQWUsQ0FBQyxFQUVwQixHQURBLEdBQWMsS0FBSyxPQUFRLEVBQWMsRUFBSyxJQUFJLEVBQzlDLEVBQWEsT0FDYixFQUFlLEVBQWEsT0FBTyxDQUFZLEVBQ25ELElBQUksRUFBVSxLQUFLLE9BQU8sT0FBTyxXQUFXLEVBQU0sRUFBTSxDQUFZLEVBQ3BFLEdBQUksRUFDQSxFQUFhLFFBQVEsQ0FBTyxFQUNoQyxJQUFJLEVBQVMsS0FBSyxPQUNsQixHQUFJLEVBQWEsUUFBVSxJQUFNLEVBQU8sT0FBTyxvQkFDM0MsT0FDSixLQUFLLFdBQVcsRUFBTSxFQUFNLENBQVksRUFFNUMsTUFBTSxDQUFDLEVBQU0sRUFBTyxDQUNoQixJQUFJLEVBQVMsS0FBSyxPQUFPLE9BQU8sYUFBYSxFQUFNLEVBQU0sT0FBUSxDQUFLLEVBQUcsRUFBVSxFQUFTLENBQUMsQ0FBTSxFQUFJLEtBQ3ZHLFFBQVMsS0FBTyxFQUFLLE1BQU0sTUFBTSxFQUFpQixFQUFHLENBQ2pELElBQUksRUFBUyxFQUFJLEVBQU0sRUFBTSxPQUFRLENBQUssRUFDMUMsR0FBSSxFQUNBLENBQUMsSUFBWSxFQUFVLENBQUMsSUFBSSxLQUFLLENBQU0sRUFFL0MsR0FBSSxFQUNBLEtBQUssV0FBVyxFQUFNLEVBQU8sQ0FBTyxFQUU1QyxNQUFNLEVBQUcsQ0FDTCxJQUFJLEVBQVMsS0FBSyxPQUNsQixNQUFPLEVBQU8sU0FBUyxPQUFTLEtBQUssRUFBRyxDQUNwQyxJQUFJLEVBQU8sRUFBTyxTQUFTLElBQUksRUFDL0IsRUFBTyxJQUFJLFlBQVksRUFBSyxHQUFHLEVBQy9CLEVBQUssUUFBUSxHQUd6QixDQUNBLE1BQU0sRUFBaUIsQ0FDbkIsV0FBVyxDQUFDLEVBQU0sRUFBUSxDQUN0QixLQUFLLEtBQU8sRUFDWixLQUFLLE9BQVMsRUFDZCxLQUFLLFNBQVcsQ0FBQyxFQUNqQixLQUFLLE9BQVMsS0FDZCxLQUFLLElBQU0sU0FBUyxjQUFjLEtBQUssRUFDdkMsS0FBSyxJQUFJLFVBQVksYUFBZSxLQUFLLE9BQU8sTUFBUSxJQUFNLEtBQUssT0FBTyxNQUFRLElBQ2xGLFFBQVMsS0FBUSxFQUFPLGlCQUNwQixLQUFLLElBQUksaUJBQWlCLEVBQU0sQ0FBQyxJQUFVLENBQ3ZDLElBQUksRUFBUyxFQUFNLE9BQVEsRUFDM0IsR0FBSSxHQUFVLEtBQUssS0FBTyxLQUFLLElBQUksU0FBUyxDQUFNLEVBQUcsQ0FDakQsTUFBTyxFQUFPLFlBQWMsS0FBSyxJQUM3QixFQUFTLEVBQU8sV0FDcEIsSUFBSSxFQUFPLEVBQU8sc0JBQXNCLEVBQ3hDLEdBQUssRUFBSyxJQUFNLEVBQUssUUFBVSxNQUcvQixHQUFJLEVBQU0sUUFFZCxJQUFJLEVBQU8sRUFBSyxrQkFBa0IsRUFBSSxFQUFLLFdBQVcsRUFDdEQsR0FBSSxFQUFPLGlCQUFpQixHQUFNLEVBQU0sRUFBTSxDQUFLLEVBQy9DLEVBQU0sZUFBZSxFQUM1QixFQUdMLEdBREEsS0FBSyxRQUFVLEdBQVEsRUFBTyxRQUFRLENBQUksQ0FBQyxFQUN2QyxFQUFPLGNBQ1AsS0FBSyxPQUFTLElBQUksR0FBYyxFQUFNLEVBQUcsRUFBRyxDQUFDLEVBQU8sY0FBYyxDQUFJLENBQUMsQ0FBQyxFQUN4RSxLQUFLLElBQUksWUFBWSxLQUFLLE9BQU8sR0FBRyxFQUNwQyxLQUFLLE9BQU8sSUFBSSxNQUFNLFNBQVcsMkNBR3pDLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFjLEtBQUssUUFFdkIsR0FEQSxLQUFLLFFBQVUsR0FBUSxLQUFLLE9BQU8sUUFBUSxFQUFPLElBQUksQ0FBQyxFQUNuRCxLQUFLLFFBQVUsS0FBSyxPQUFPLGFBQWMsQ0FDekMsSUFBSSxFQUFVLEtBQUssT0FBTyxhQUFhLEtBQUssT0FBTyxRQUFRLEdBQUksQ0FBTSxFQUNyRSxHQUFJLEdBQVcsS0FBSyxPQUFPLFFBQVEsR0FDL0IsS0FBSyxPQUFPLE9BQU8sRUFBTyxLQUFNLEVBQUcsRUFBRyxDQUFDLENBQU8sQ0FBQyxFQUV2RCxJQUFJLEVBQUssRUFBTyxLQUFLLFNBQ3JCLE9BQVEsRUFBUyxHQUFHLEtBQUssUUFBUyxFQUFhLEVBQUcsS0FBTSxFQUFHLEVBQUUsSUFDeEQsS0FBSyxPQUFPLGlCQUFtQixLQUFLLE9BQU8saUJBQWlCLENBQU0sRUFBSSxJQUUvRSxPQUFPLEVBQUcsQ0FDTixRQUFTLEtBQU8sS0FBSyxTQUNqQixFQUFJLFFBQVEsRUFFeEIsQ0FDQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUFDLEVBQU0sRUFBUSxFQUFPLEVBQVMsQ0FDdEMsS0FBSyxPQUFTLEdBQ2QsS0FBSyxNQUFRLEVBQ2IsS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxJQUFNLFNBQVMsY0FBYyxLQUFLLEVBQ3ZDLEtBQUssSUFBSSxVQUFZLG1CQUNyQixLQUFLLE9BQU8sRUFBTSxFQUFRLEVBQU8sQ0FBTyxFQUU1QyxNQUFNLENBQUMsRUFBTSxFQUFRLEVBQU8sRUFBUyxDQUNqQyxHQUFJLEtBQUssUUFBVSxFQUNmLEtBQUssT0FBUyxFQUNkLEtBQUssSUFBSSxNQUFNLE9BQVMsRUFBUyxLQUVyQyxHQUFJLEtBQUssT0FBUyxFQUNkLEtBQUssSUFBSSxNQUFNLFdBQWEsS0FBSyxNQUFRLEdBQVMsRUFBUSxLQUFPLEdBQ3JFLElBQUssR0FBWSxLQUFLLFFBQVMsQ0FBTyxFQUNsQyxLQUFLLFdBQVcsRUFBTSxDQUFPLEVBRXJDLFVBQVUsQ0FBQyxFQUFNLEVBQVMsQ0FDdEIsSUFBSSxFQUFNLG1CQUFvQixFQUFTLEtBQUssSUFBSSxXQUNoRCxRQUFTLEVBQU8sRUFBRyxFQUFPLElBQUssQ0FDM0IsSUFBSSxFQUFTLEVBQU0sRUFBUyxFQUFPLEVBQVEsT0FBUyxFQUFRLEtBQVUsS0FBTSxFQUFVLEdBQ3RGLEdBQUksRUFBUSxDQUNSLElBQUksRUFBSSxFQUFPLGFBQ2YsR0FBSSxFQUNBLEdBQU8sSUFBTSxFQUNqQixRQUFTLEVBQUksRUFBTSxFQUFJLEtBQUssUUFBUSxPQUFRLElBQ3hDLEdBQUksS0FBSyxRQUFRLEdBQUcsUUFBUSxDQUFNLEVBQUcsQ0FDakMsRUFBUyxFQUNULEVBQVUsR0FDVixXQUlSLEdBQVMsS0FBSyxRQUFRLE9BRTFCLE1BQU8sRUFBTyxFQUFRLENBQ2xCLElBQUksRUFBTyxLQUFLLFFBQVEsS0FDeEIsR0FBSSxFQUFLLE1BQU8sQ0FDWixFQUFLLFFBQVEsQ0FBTSxFQUNuQixJQUFJLEVBQVEsRUFBTyxZQUNuQixFQUFPLE9BQU8sRUFDZCxFQUFTLEdBR2pCLElBQUssRUFDRCxNQUNKLEdBQUksRUFBTyxNQUNQLEdBQUksRUFDQSxFQUFTLEVBQU8sZ0JBRWhCLE1BQUssSUFBSSxhQUFhLEVBQU8sTUFBTSxDQUFJLEVBQUcsQ0FBTSxFQUV4RCxHQUFJLEVBQ0EsSUFFUixLQUFLLElBQUksVUFBWSxFQUNyQixLQUFLLFFBQVUsRUFFbkIsT0FBTyxFQUFHLENBQ04sS0FBSyxXQUFXLEtBQU0sQ0FBQyxDQUFDLEVBRWhDLENBWUEsSUFBTSxHQUFpQyxFQUFNLE9BQU8sRUFJOUMsR0FBc0MsRUFBTSxPQUFPLEVBQ25ELEdBQWdDLEVBQU0sT0FBTyxDQUMvQyxPQUFPLENBQUMsRUFBUSxDQUNaLE9BQU8sR0FBYyxFQUFRLENBQUUsYUFBYyxPQUFRLGlCQUFrQixDQUFDLENBQUUsRUFBRyxDQUN6RSxnQkFBZ0IsQ0FBQyxFQUFHLEVBQUcsQ0FDbkIsSUFBSSxFQUFTLE9BQU8sT0FBTyxDQUFDLEVBQUcsQ0FBQyxFQUNoQyxRQUFTLEtBQVMsRUFBRyxDQUNqQixJQUFJLEVBQVMsRUFBTyxHQUFRLEVBQU0sRUFBRSxHQUNwQyxFQUFPLEdBQVMsRUFBUyxDQUFDLEVBQU0sRUFBTSxJQUFVLEVBQU8sRUFBTSxFQUFNLENBQUssR0FBSyxFQUFJLEVBQU0sRUFBTSxDQUFLLEVBQUksRUFFMUcsT0FBTyxFQUVmLENBQUMsRUFFVCxDQUFDLEVBQ0QsTUFBTSxXQUFxQixFQUFhLENBQ3BDLFdBQVcsQ0FBQyxFQUFRLENBQ2hCLE1BQU0sRUFDTixLQUFLLE9BQVMsRUFFbEIsRUFBRSxDQUFDLEVBQU8sQ0FBRSxPQUFPLEtBQUssUUFBVSxFQUFNLE9BQ3hDLEtBQUssRUFBRyxDQUFFLE9BQU8sU0FBUyxlQUFlLEtBQUssTUFBTSxFQUN4RCxDQUlBLElBQU0sR0FBZ0MsR0FBYyxRQUFRLENBQUMsRUFBZ0IsRUFBRyxNQUFVLENBQ3RGLE1BQU8saUJBQ1Asb0JBQXFCLEdBQ3JCLE9BQU8sQ0FBQyxFQUFNLENBQUUsT0FBTyxFQUFLLE1BQU0sTUFBTSxFQUFpQixHQUN6RCxVQUFVLENBQUMsRUFBTSxFQUFNLEVBQVEsQ0FDM0IsR0FBSSxFQUFPLEtBQUssS0FBSyxFQUFFLEtBQUssRUFDeEIsT0FBTyxLQUNYLE9BQU8sSUFBSSxHQUFhLEdBQWEsRUFBTSxFQUFLLE1BQU0sSUFBSSxPQUFPLEVBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUV2RixhQUFjLENBQUMsRUFBTSxFQUFRLElBQVUsQ0FDbkMsUUFBUyxLQUFLLEVBQUssTUFBTSxNQUFNLEVBQXNCLEVBQUcsQ0FDcEQsSUFBSSxFQUFTLEVBQUUsRUFBTSxFQUFRLENBQUssRUFDbEMsR0FBSSxFQUNBLE9BQU8sRUFFZixPQUFPLE1BRVgsaUJBQWtCLEtBQVUsRUFBTyxXQUFXLE1BQU0sRUFBZ0IsR0FBSyxFQUFPLE1BQU0sTUFBTSxFQUFnQixFQUM1RyxhQUFhLENBQUMsRUFBTSxDQUNoQixPQUFPLElBQUksR0FBYSxHQUFhLEVBQU0sR0FBYyxFQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxHQUVuRixZQUFZLENBQUMsRUFBUSxFQUFRLENBQ3pCLElBQUksRUFBTSxHQUFhLEVBQU8sS0FBTSxHQUFjLEVBQU8sS0FBSyxNQUFNLElBQUksS0FBSyxDQUFDLEVBQzlFLE9BQU8sR0FBTyxFQUFPLE9BQVMsRUFBUyxJQUFJLEdBQWEsQ0FBRyxHQUUvRCxpQkFBa0IsRUFBTSxNQUFNLEVBQWdCLEVBQUUsZ0JBQ3BELEVBQUUsRUN4bVVGLFNBQVMsRUFBUyxDQUFDLEVBQU0sRUFBSyxFQUFNLEVBQUksQ0FDcEMsT0FBUSxPQUNDLEdBQXNCLE9BQU8sRUFBTyxNQUNwQyxHQUEwQixPQUFPLEdBQU0sR0FBTyxFQUFPLE1BQ3JELEdBQXFCLE9BQU8sRUFBTyxHQUFPLEVBQUssTUFDL0MsR0FBd0IsT0FBTyxHQUFRLEdBQU8sRUFBSyxNQUNuRCxHQUFvQixPQUFPLEVBQUssTUFDaEMsR0FBdUIsTUFBTyxJQUczQyxTQUFTLEVBQVcsQ0FBQyxFQUFNLEVBQUssRUFBTSxFQUFVLENBQzVDLElBQUksRUFFSixNQUFPLEVBQUssTUFBUSxFQUFLLEtBQ3BCLEVBQU8sRUFBSSxFQUFLLE1BQVEsRUFBTSxFQUFLLEtBQU8sS0FDMUMsRUFBTyxHQUFLLEVBQUssSUFBTSxFQUFNLEVBQUssR0FBSyxHQUFNLENBQzlDLElBQUksR0FBVSxHQUFZLGFBQWdCLElBQVksRUFBSyxNQUFRLEVBQUksS0FBTyxFQUFLLE9BQ25GLElBQUssRUFDRCxPQUFPLEVBQ1gsRUFBTyxFQUVYLElBQUksRUFBTyxFQUFXLEVBQUksRUFBUyxlQUVuQyxHQUFJLEdBQ0EsUUFBUyxFQUFPLEVBQU0sRUFBUyxFQUFLLE9BQVEsRUFBUSxFQUFPLEVBQVEsRUFBUyxFQUFLLE9BQzdFLEdBQUksYUFBZ0IsSUFBWSxFQUFLLE1BQVEsS0FBTyxFQUFLLEVBQU8sTUFBTSxFQUFLLEVBQU0sQ0FBSSxLQUFPLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxPQUFTLEVBQUssS0FDMUksRUFBTyxFQUVuQixPQUFTLENBQ0wsSUFBSSxFQUFRLEVBQUssTUFBTSxFQUFLLEVBQU0sQ0FBSSxFQUN0QyxJQUFLLEVBQ0QsT0FBTyxFQUNYLEVBQU8sR0E0SGYsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFNLEVBQVEsRUFBTyxDQUM1QyxJQUFJLEVBQU0sRUFBSyxPQUFPLEVBQUcsRUFBUyxDQUFDLEVBQ25DLElBQUssRUFBSSxXQUFXLEVBQ2hCLE9BQU8sRUFDWCxHQUFJLEdBQVUsTUFDVixRQUFTLEVBQVEsSUFBUSxHQUVyQixHQURBLEVBQVEsRUFBSSxLQUFLLEdBQUcsQ0FBTSxHQUNyQixFQUFJLFlBQVksRUFDakIsT0FBTyxFQUVuQixPQUFTLENBQ0wsR0FBSSxHQUFTLE1BQVEsRUFBSSxLQUFLLEdBQUcsQ0FBSyxFQUNsQyxPQUFPLEVBQ1gsR0FBSSxFQUFJLEtBQUssR0FBRyxDQUFJLEVBQ2hCLEVBQU8sS0FBSyxFQUFJLElBQUksRUFDeEIsSUFBSyxFQUFJLFlBQVksRUFDakIsT0FBTyxHQUFTLEtBQU8sRUFBUyxDQUFDLEdBRzdDLFNBQVMsRUFBZ0IsQ0FBQyxFQUFNLEVBQVMsRUFBSSxFQUFRLE9BQVMsRUFBRyxDQUM3RCxRQUFTLEVBQUksRUFBSyxPQUFRLEdBQUssRUFBRyxFQUFJLEVBQUUsT0FBUSxDQUM1QyxJQUFLLEVBQ0QsTUFBTyxHQUNYLElBQUssRUFBRSxLQUFLLFlBQWEsQ0FDckIsR0FBSSxFQUFRLElBQU0sRUFBUSxJQUFNLEVBQUUsS0FDOUIsTUFBTyxHQUNYLEtBR1IsTUFBTyxHQTBFWCxTQUFTLEVBQVMsQ0FBQyxFQUFPLENBQ3RCLElBQUssRUFBTSxPQUNQLE9BQU8sS0FDWCxJQUFJLEVBQU8sRUFBRyxFQUFTLEVBQU0sR0FDN0IsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQU8sRUFBTSxHQUNqQixHQUFJLEVBQUssS0FBTyxFQUFPLE1BQVEsRUFBSyxHQUFLLEVBQU8sR0FDNUMsRUFBUyxFQUNULEVBQU8sRUFHZixJQUFJLEVBQU8sYUFBa0IsSUFBWSxFQUFPLE1BQVEsRUFBSSxLQUFPLEVBQU8sT0FDdEUsRUFBVyxFQUFNLE1BQU0sRUFDM0IsR0FBSSxFQUNBLEVBQVMsR0FBUSxNQUVqQixHQUFTLE9BQU8sRUFBTSxDQUFDLEVBQzNCLE9BQU8sSUFBSSxHQUFjLEVBQVUsQ0FBTSxFQVM3QyxTQUFTLEVBQWEsQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUNwQyxJQUFJLEVBQVEsRUFBSyxhQUFhLEVBQUssQ0FBSSxFQUFHLEVBQVMsS0FDbkQsUUFBUyxFQUFPLGFBQWlCLEdBQVcsRUFBUSxFQUFNLFFBQVEsT0FBUSxFQUFNLEVBQU8sRUFBSyxPQUN4RixHQUFJLEVBQUssTUFBUSxFQUFHLENBQ2hCLElBQUksRUFBUyxFQUFLLE9BQ2xCLENBQUMsSUFBVyxFQUFTLENBQUMsQ0FBSyxJQUFJLEtBQUssRUFBTyxRQUFRLEVBQUssQ0FBSSxDQUFDLEVBQzdELEVBQU8sTUFFTixDQUNELElBQUksRUFBUSxHQUFZLElBQUksRUFBSyxJQUFJLEVBRXJDLEdBQUksR0FBUyxFQUFNLFNBQVcsRUFBTSxRQUFRLEdBQUcsTUFBUSxHQUFPLEVBQU0sUUFBUSxFQUFNLFFBQVEsT0FBUyxHQUFHLElBQU0sRUFBSyxDQUM3RyxJQUFJLEVBQU8sSUFBSSxHQUFTLEVBQU0sS0FBTSxFQUFNLFFBQVEsR0FBRyxLQUFPLEVBQUssS0FBTSxHQUFJLENBQUksRUFDL0UsQ0FBQyxJQUFXLEVBQVMsQ0FBQyxDQUFLLElBQUksS0FBSyxHQUFZLEVBQU0sRUFBSyxFQUFNLEVBQUssQ0FBQyxHQUluRixPQUFPLEVBQVMsR0FBVSxDQUFNLEVBQUksRUE4VHhDLFNBQVMsRUFBUSxDQUFDLEVBQU0sQ0FDcEIsT0FBTyxFQUFLLFNBQVMsS0FBSyxLQUFNLGFBQWMsS0FBZSxFQUFHLEtBQUssYUFBZSxHQUFTLENBQUUsQ0FBQyxFQUVwRyxTQUFTLEVBQVMsQ0FBQyxFQUFNLENBQ3JCLElBQUksRUFDSixJQUFNLFNBQVEsVUFBUyxrQkEvdUNDLEtBK3VDc0MsU0FBUyxDQUFDLEVBQUcsZ0JBQWdCLEVBQVEsTUFBTSxRQUFXLEVBQ2hILEVBQVMsTUFBTSxRQUFRLENBQU0sRUFBSSxJQUFJLEdBQWlCLEVBQVEsRUFBTyxNQUFNLEVBQUksRUFDL0UsRUFBUSxFQUFRLE1BQ2hCLEVBQWMsRUFBRyxFQUFZLEVBQ2pDLFNBQVMsQ0FBUSxDQUFDLEVBQWEsRUFBUSxFQUFVLEVBQVcsRUFBVSxFQUFPLENBQ3pFLElBQU0sS0FBSSxRQUFPLE1BQUssUUFBUyxFQUMzQixHQUFtQixFQUN2QixNQUFPLEVBQU8sRUFFVixHQURBLEVBQU8sS0FBSyxFQUNSLEdBQVEsR0FBOEIsQ0FDdEMsSUFBSSxHQUFPLEVBQU8sR0FDbEIsRUFBUyxLQUFLLEVBQUksRUFDbEIsRUFBVSxLQUFLLEVBQVEsQ0FBVyxFQUNsQyxlQUVLLEdBQVEsR0FBc0MsQ0FDbkQsRUFBYyxFQUNkLGVBRUssR0FBUSxHQUFrQyxDQUMvQyxFQUFZLEVBQ1osV0FHQSxPQUFNLElBQUksV0FBVyw2QkFBNkIsR0FBTSxFQUdoRSxJQUFJLEdBQU8sRUFBTSxHQUFLLEdBQU0sR0FDeEIsR0FBVyxFQUFRLEVBQ3ZCLEdBQUksRUFBTSxHQUFTLElBQW9CLEdBQVMsRUFBZSxFQUFPLElBQU0sRUFBUSxDQUFRLEdBQUksQ0FFNUYsSUFBSSxHQUFPLElBQUksWUFBWSxHQUFPLEtBQU8sR0FBTyxJQUFJLEVBQ2hELEdBQVMsRUFBTyxJQUFNLEdBQU8sS0FBTSxHQUFRLEdBQUssT0FDcEQsTUFBTyxFQUFPLElBQU0sR0FDaEIsR0FBUSxFQUFhLEdBQU8sTUFBTyxHQUFNLEVBQUssRUFDbEQsR0FBTyxJQUFJLEdBQVcsR0FBTSxFQUFNLEdBQU8sTUFBTyxDQUFPLEVBQ3ZELEdBQVcsR0FBTyxNQUFRLE1BRXpCLENBQ0QsSUFBSSxHQUFTLEVBQU8sSUFBTSxFQUMxQixFQUFPLEtBQUssRUFDWixJQUFJLEdBQWdCLENBQUMsRUFBRyxHQUFpQixDQUFDLEVBQ3RDLEdBQWdCLEdBQU0sRUFBZ0IsRUFBSyxHQUMzQyxHQUFZLEVBQUcsR0FBVSxFQUM3QixNQUFPLEVBQU8sSUFBTSxHQUNoQixHQUFJLElBQWlCLEdBQUssRUFBTyxJQUFNLElBQWlCLEVBQU8sTUFBUSxFQUFHLENBQ3RFLEdBQUksRUFBTyxLQUFPLEdBQVUsRUFDeEIsRUFBZSxHQUFlLEdBQWdCLEVBQU8sR0FBVyxFQUFPLElBQUssR0FBUyxHQUFlLEVBQWdCLEVBQ3BILEdBQVksR0FBYyxPQUMxQixHQUFVLEVBQU8sSUFFckIsRUFBTyxLQUFLLFVBRVAsRUFBUSxLQUNiLEVBQWEsRUFBTyxHQUFRLEdBQWUsRUFBYyxNQUd6RCxHQUFTLEVBQU8sR0FBUSxHQUFlLEdBQWdCLEdBQWUsRUFBUSxDQUFDLEVBR3ZGLEdBQUksSUFBaUIsR0FBSyxHQUFZLEdBQUssR0FBWSxHQUFjLE9BQ2pFLEVBQWUsR0FBZSxHQUFnQixFQUFPLEdBQVcsRUFBTyxHQUFTLEdBQWUsRUFBZ0IsRUFHbkgsR0FGQSxHQUFjLFFBQVEsRUFDdEIsR0FBZSxRQUFRLEVBQ25CLEdBQWdCLElBQU0sR0FBWSxFQUFHLENBQ3JDLElBQUksR0FBTyxFQUFhLEVBQUksRUFDNUIsR0FBTyxHQUFhLEdBQU0sR0FBZSxHQUFnQixFQUFHLEdBQWMsT0FBUSxFQUFHLEVBQU0sRUFBTyxHQUFNLEVBQUksTUFHNUcsSUFBTyxFQUFTLEdBQU0sR0FBZSxHQUFnQixFQUFNLEVBQU8sR0FBbUIsQ0FBRyxFQUdoRyxFQUFTLEtBQUssRUFBSSxFQUNsQixFQUFVLEtBQUssRUFBUSxFQUUzQixTQUFTLENBQVksQ0FBQyxFQUFhLEVBQVEsRUFBVSxFQUFXLENBQzVELElBQUksRUFBUSxDQUFDLEVBQ1QsRUFBWSxFQUFHLEVBQVMsR0FDNUIsTUFBTyxFQUFPLElBQU0sRUFBUSxDQUN4QixJQUFNLEtBQUksUUFBTyxNQUFLLFNBQVMsRUFDL0IsR0FBSSxHQUFPLEVBQ1AsRUFBTyxLQUFLLFVBRVAsRUFBUyxJQUFNLEVBQVEsRUFDNUIsVUFFQyxDQUNELEdBQUksRUFBUyxFQUNULEVBQVMsRUFBTSxFQUNuQixFQUFNLEtBQUssRUFBSSxFQUFPLENBQUcsRUFDekIsSUFDQSxFQUFPLEtBQUssR0FHcEIsR0FBSSxFQUFXLENBQ1gsSUFBSSxFQUFTLElBQUksWUFBWSxFQUFZLENBQUMsRUFDdEMsRUFBUSxFQUFNLEVBQU0sT0FBUyxHQUNqQyxRQUFTLEVBQUksRUFBTSxPQUFTLEVBQUcsR0FBSSxFQUFHLEdBQUssRUFBRyxHQUFLLEVBQy9DLEVBQU8sTUFBTyxFQUFNLEdBQ3BCLEVBQU8sTUFBTyxFQUFNLEVBQUksR0FBSyxFQUM3QixFQUFPLE1BQU8sRUFBTSxFQUFJLEdBQUssRUFDN0IsRUFBTyxNQUFPLEdBRWxCLEVBQVMsS0FBSyxJQUFJLEdBQVcsRUFBUSxFQUFNLEdBQUssRUFBTyxDQUFPLENBQUMsRUFDL0QsRUFBVSxLQUFLLEVBQVEsQ0FBVyxHQUcxQyxTQUFTLENBQVksQ0FBQyxFQUFNLENBQ3hCLE1BQU8sQ0FBQyxFQUFVLEVBQVcsSUFBVyxDQUNwQyxJQUFJLEVBQVksRUFBRyxFQUFRLEVBQVMsT0FBUyxFQUFHLEVBQU0sRUFDdEQsR0FBSSxHQUFTLElBQU0sRUFBTyxFQUFTLGNBQW1CLEVBQU0sQ0FDeEQsSUFBSyxHQUFTLEVBQUssTUFBUSxHQUFRLEVBQUssUUFBVSxFQUM5QyxPQUFPLEVBQ1gsR0FBSSxFQUFnQixFQUFLLEtBQUssRUFBUyxTQUFTLEVBQzVDLEVBQVksRUFBVSxHQUFTLEVBQUssT0FBUyxFQUVyRCxPQUFPLEVBQVMsRUFBTSxFQUFVLEVBQVcsRUFBUSxDQUFTLEdBR3BFLFNBQVMsQ0FBYyxDQUFDLEVBQVUsRUFBVyxFQUFNLEVBQUcsRUFBTSxFQUFJLEVBQU0sRUFBVyxDQUM3RSxJQUFJLEVBQWdCLENBQUMsRUFBRyxFQUFpQixDQUFDLEVBQzFDLE1BQU8sRUFBUyxPQUFTLEVBQ3JCLEVBQWMsS0FBSyxFQUFTLElBQUksQ0FBQyxFQUNqQyxFQUFlLEtBQUssRUFBVSxJQUFJLEVBQUksRUFBTyxDQUFJLEVBRXJELEVBQVMsS0FBSyxFQUFTLEVBQVEsTUFBTSxHQUFPLEVBQWUsRUFBZ0IsRUFBSyxFQUFNLEVBQVksQ0FBRSxDQUFDLEVBQ3JHLEVBQVUsS0FBSyxFQUFPLENBQUksRUFFOUIsU0FBUyxDQUFRLENBQUMsRUFBTSxFQUFVLEVBQVcsRUFBUSxFQUFZLEVBQUcsRUFBTyxDQUN2RSxHQUFJLEVBQWEsQ0FDYixJQUFJLEVBQU8sQ0FBQyxFQUFTLFlBQWEsQ0FBVyxFQUM3QyxFQUFRLEVBQVEsQ0FBQyxDQUFJLEVBQUUsT0FBTyxDQUFLLEVBQUksQ0FBQyxDQUFJLEVBRWhELEdBQUksRUFBWSxHQUFJLENBQ2hCLElBQUksRUFBTyxDQUFDLEVBQVMsVUFBVyxDQUFTLEVBQ3pDLEVBQVEsRUFBUSxDQUFDLENBQUksRUFBRSxPQUFPLENBQUssRUFBSSxDQUFDLENBQUksRUFFaEQsT0FBTyxJQUFJLEVBQUssRUFBTSxFQUFVLEVBQVcsRUFBUSxDQUFLLEVBRTVELFNBQVMsQ0FBYyxDQUFDLEVBQVMsRUFBVSxDQU92QyxJQUFJLEVBQU8sRUFBTyxLQUFLLEVBQ25CLEVBQU8sRUFBRyxFQUFRLEVBQUcsRUFBTyxFQUFHLEVBQVcsRUFBSyxJQUFNLEVBQ3JELEVBQVMsQ0FBRSxLQUFNLEVBQUcsTUFBTyxFQUFHLEtBQU0sQ0FBRSxFQUMxQyxFQUFNLFFBQVMsRUFBUyxFQUFLLElBQU0sRUFBUyxFQUFLLElBQU0sR0FBUyxDQUM1RCxJQUFJLEVBQVcsRUFBSyxLQUVwQixHQUFJLEVBQUssSUFBTSxHQUFZLEdBQVksRUFBRyxDQUd0QyxFQUFPLEtBQU8sRUFDZCxFQUFPLE1BQVEsRUFDZixFQUFPLEtBQU8sRUFDZCxHQUFRLEVBQ1IsR0FBUSxFQUNSLEVBQUssS0FBSyxFQUNWLFNBRUosSUFBSSxHQUFXLEVBQUssSUFBTSxFQUMxQixHQUFJLEVBQVcsR0FBSyxHQUFXLEdBQVUsRUFBSyxNQUFRLEVBQ2xELE1BQ0osSUFBSSxHQUFlLEVBQUssSUFBTSxFQUFnQixFQUFJLEVBQzlDLEdBQVksRUFBSyxNQUNyQixFQUFLLEtBQUssRUFDVixNQUFPLEVBQUssSUFBTSxHQUFVLENBQ3hCLEdBQUksRUFBSyxLQUFPLEVBQ1osR0FBSSxFQUFLLE1BQVEsR0FDYixJQUFnQixNQUVoQixpQkFFQyxFQUFLLElBQU0sRUFDaEIsSUFBZ0IsRUFFcEIsRUFBSyxLQUFLLEVBRWQsRUFBUSxHQUNSLEdBQVEsRUFDUixHQUFRLEdBRVosR0FBSSxFQUFXLEdBQUssR0FBUSxFQUN4QixFQUFPLEtBQU8sRUFDZCxFQUFPLE1BQVEsRUFDZixFQUFPLEtBQU8sRUFFbEIsT0FBTyxFQUFPLEtBQU8sRUFBSSxFQUFTLE9BRXRDLFNBQVMsQ0FBWSxDQUFDLEVBQWEsRUFBUSxFQUFPLENBQzlDLElBQU0sS0FBSSxRQUFPLE1BQUssUUFBUyxFQUUvQixHQURBLEVBQU8sS0FBSyxFQUNSLEdBQVEsR0FBSyxFQUFLLEVBQWUsQ0FDakMsSUFBSSxFQUFhLEVBQ2pCLEdBQUksRUFBTyxFQUFHLENBQ1YsSUFBSSxFQUFTLEVBQU8sS0FBTyxFQUFPLEdBQ2xDLE1BQU8sRUFBTyxJQUFNLEVBQ2hCLEVBQVEsRUFBYSxFQUFhLEVBQVEsQ0FBSyxFQUV2RCxFQUFPLEVBQUUsR0FBUyxFQUNsQixFQUFPLEVBQUUsR0FBUyxFQUFNLEVBQ3hCLEVBQU8sRUFBRSxHQUFTLEVBQVEsRUFDMUIsRUFBTyxFQUFFLEdBQVMsVUFFYixHQUFRLEdBQ2IsRUFBYyxVQUVULEdBQVEsR0FDYixFQUFZLEVBRWhCLE9BQU8sRUFFWCxJQUFJLEVBQVcsQ0FBQyxFQUFHLEVBQVksQ0FBQyxFQUNoQyxNQUFPLEVBQU8sSUFBTSxFQUNoQixFQUFTLEVBQUssT0FBUyxFQUFHLEVBQUssYUFBZSxFQUFHLEVBQVUsRUFBVyxHQUFJLENBQUMsRUFDL0UsSUFBSSxHQUFVLEVBQUssRUFBSyxVQUFZLE1BQVEsSUFBWSxPQUFJLEVBQU0sRUFBUyxPQUFTLEVBQVUsR0FBSyxFQUFTLEdBQUcsT0FBUyxFQUN4SCxPQUFPLElBQUksRUFBSyxFQUFNLEVBQUssT0FBUSxFQUFTLFFBQVEsRUFBRyxFQUFVLFFBQVEsRUFBRyxDQUFNLEVBR3RGLFNBQVMsRUFBUSxDQUFDLEVBQWEsRUFBTSxDQUNqQyxJQUFLLEVBQVksYUFBZSxhQUFnQixJQUFjLEVBQUssTUFBUSxFQUN2RSxNQUFPLEdBQ1gsSUFBSSxFQUFPLEdBQWMsSUFBSSxDQUFJLEVBQ2pDLEdBQUksR0FBUSxLQUFNLENBQ2QsRUFBTyxFQUNQLFFBQVMsS0FBUyxFQUFLLFNBQVUsQ0FDN0IsR0FBSSxFQUFNLE1BQVEsS0FBaUIsYUFBaUIsR0FBTyxDQUN2RCxFQUFPLEVBQ1AsTUFFSixHQUFRLEdBQVMsRUFBYSxDQUFLLEVBRXZDLEdBQWMsSUFBSSxFQUFNLENBQUksRUFFaEMsT0FBTyxFQUVYLFNBQVMsRUFBWSxDQUVyQixFQUVBLEVBQVUsRUFFVixFQUFNLEVBRU4sRUFFQSxFQUVBLEVBRUEsRUFBUSxDQUNKLElBQUksRUFBUSxFQUNaLFFBQVMsRUFBSSxFQUFNLEVBQUksRUFBSSxJQUN2QixHQUFTLEdBQVMsRUFBYSxFQUFTLEVBQUUsRUFDOUMsSUFBSSxFQUFXLEtBQUssS0FBTSxFQUFRLElBQU8sQ0FBNEIsRUFDakUsRUFBZ0IsQ0FBQyxFQUFHLEVBQWlCLENBQUMsRUFDMUMsU0FBUyxDQUFNLENBQUMsRUFBVSxFQUFXLEVBQU0sRUFBSSxFQUFRLENBQ25ELFFBQVMsRUFBSSxFQUFNLEVBQUksR0FBSyxDQUN4QixJQUFJLEVBQVksRUFBRyxFQUFhLEVBQVUsR0FBSSxFQUFZLEdBQVMsRUFBYSxFQUFTLEVBQUUsRUFDM0YsSUFDQSxLQUFPLEVBQUksRUFBSSxJQUFLLENBQ2hCLElBQUksRUFBVyxHQUFTLEVBQWEsRUFBUyxFQUFFLEVBQ2hELEdBQUksRUFBWSxHQUFZLEVBQ3hCLE1BQ0osR0FBYSxFQUVqQixHQUFJLEdBQUssRUFBWSxFQUFHLENBQ3BCLEdBQUksRUFBWSxFQUFVLENBQ3RCLElBQUksRUFBTyxFQUFTLEdBQ3BCLEVBQU8sRUFBSyxTQUFVLEVBQUssVUFBVyxFQUFHLEVBQUssU0FBUyxPQUFRLEVBQVUsR0FBYSxDQUFNLEVBQzVGLFNBRUosRUFBYyxLQUFLLEVBQVMsRUFBVSxNQUVyQyxDQUNELElBQUksRUFBUyxFQUFVLEVBQUksR0FBSyxFQUFTLEVBQUksR0FBRyxPQUFTLEVBQ3pELEVBQWMsS0FBSyxHQUFhLEVBQWEsRUFBVSxFQUFXLEVBQVcsRUFBRyxFQUFZLEVBQVEsS0FBTSxDQUFNLENBQUMsRUFFckgsRUFBZSxLQUFLLEVBQWEsRUFBUyxDQUFLLEdBSXZELE9BREEsRUFBTyxFQUFVLEVBQVcsRUFBTSxFQUFJLENBQUMsR0FDL0IsR0FBUyxHQUFRLEVBQWUsRUFBZ0IsQ0FBTSxFQWlObEUsU0FBUyxFQUFVLENBQUMsRUFBTSxDQUN0QixNQUFPLENBQUMsRUFBTyxFQUFPLEVBQVcsSUFBVyxJQUFJLEdBQVcsRUFBTyxFQUFNLEVBQU8sRUFBVyxDQUFNLEVBV3BHLFNBQVMsRUFBVyxDQUFDLEVBQVEsQ0FDekIsSUFBSyxFQUFPLFFBQVUsRUFBTyxLQUFLLEtBQUssRUFBRSxNQUFRLEVBQUUsRUFBRSxFQUNqRCxNQUFNLElBQUksV0FBVyxxQ0FBdUMsS0FBSyxVQUFVLENBQU0sQ0FBQyxFQTZKMUYsU0FBUyxFQUFVLENBQUMsRUFBUyxFQUFNLEVBQUksQ0FDbkMsUUFBUyxLQUFTLEVBQVMsQ0FDdkIsR0FBSSxFQUFNLE1BQVEsRUFDZCxNQUNKLEdBQUksRUFBTSxHQUFLLEVBQ1gsT0FBTyxFQUFNLE1BQVEsR0FBUSxFQUFNLElBQU0sRUFBSyxFQUFxQixFQUUzRSxNQUFPLEdBSVgsU0FBUyxFQUFRLENBQUMsRUFBSyxFQUFRLEVBQU0sRUFBTyxFQUFXLEVBQUssQ0FDeEQsR0FBSSxFQUFTLEVBQU0sQ0FDZixJQUFJLEVBQU8sRUFBSSxPQUFPLEVBQVMsR0FDL0IsRUFBTSxLQUFLLEVBQUksTUFBTSxFQUFRLEVBQU0sQ0FBSSxDQUFDLEVBQ3hDLEVBQVUsS0FBSyxFQUFPLENBQUcsR0FRakMsU0FBUyxFQUFXLENBQUMsRUFBUSxDQUN6QixJQUFNLFFBQVMsRUFBUSxFQUFRLENBQUMsRUFDNUIsRUFBUyxFQUFLLFFBQVEsT0FFMUIsRUFDSSxHQUFNLEtBQUssRUFBTyxLQUFLLEVBQ3ZCLEVBQU8sT0FBTyxTQUNSLEVBQU8sTUFFakIsSUFBSSxFQUFPLEVBQU8sS0FBTSxFQUFJLEVBQUssU0FBUyxRQUFRLENBQU0sRUFDcEQsRUFBTSxFQUFLLFNBQVMsR0FBSSxFQUFJLEVBQUksT0FBUSxFQUFXLENBQUMsQ0FBQyxFQUd6RCxTQUFTLENBQUssQ0FBQyxFQUFRLEVBQU0sRUFBTSxFQUFhLEVBQVEsRUFBVSxDQUM5RCxJQUFJLEVBQVUsRUFBTSxHQUNoQixFQUFXLENBQUMsRUFBRyxFQUFZLENBQUMsRUFDaEMsR0FBUyxFQUFLLEVBQVEsRUFBUyxFQUFVLEVBQVcsQ0FBVyxFQUMvRCxJQUFJLEVBQU8sRUFBRSxFQUFVLEdBQUksRUFBSyxFQUFFLEVBQVUsR0FDNUMsRUFBUyxLQUFLLEVBQVMsTUFBTSxFQUM3QixJQUFJLEVBQVEsRUFDTixFQUFNLEVBQVUsRUFBRyxFQUFFLEVBQVUsR0FBSSxFQUFJLElBQUksTUFBTSxFQUFFLElBQVcsRUFBTSxFQUFLLEVBQU0sRUFBVyxDQUFDLEVBQzNGLEVBQUssT0FBTyxFQUlsQixPQUhBLEVBQVMsS0FBSyxDQUFLLEVBQ25CLEVBQVUsS0FBSyxFQUFPLENBQVcsRUFDakMsR0FBUyxFQUFLLEVBQUUsRUFBVSxHQUFJLEVBQU0sRUFBVSxFQUFXLENBQVcsRUFDN0QsSUFBSSxFQUFLLEVBQU0sRUFBVSxFQUFXLENBQU0sRUFFckQsRUFBSyxTQUFTLEdBQUssRUFBTSxFQUFHLEVBQUUsT0FBUSxHQUFTLEtBQU0sRUFBRyxFQUFJLE9BQVEsRUFBTSxPQUFTLENBQUMsRUFFcEYsUUFBUyxLQUFTLEVBQVUsQ0FDeEIsSUFBSSxFQUFPLEVBQU8sS0FBSyxTQUFTLEdBQVEsRUFBTSxFQUFPLEtBQUssVUFBVSxHQUNwRSxFQUFPLE1BQU0sSUFBSSxHQUFTLEVBQU0sRUFBTSxFQUFPLEtBQU0sRUFBTyxFQUFPLEtBQUssQ0FBQyxHQTBGL0UsU0FBUyxFQUFXLENBQUMsRUFBTyxFQUFRLENBQ2hDLElBQUksRUFBTyxLQUFNLEVBQVUsRUFDM0IsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FDMUMsSUFBSSxFQUFVLEVBQU0sRUFBSSxHQUFHLEdBQUksRUFBUSxFQUFNLEdBQUcsS0FDaEQsS0FBTyxFQUFJLEVBQVEsT0FBUSxJQUFLLENBQzVCLElBQUksRUFBSSxFQUFRLEdBQ2hCLEdBQUksRUFBRSxNQUFRLEVBQ1YsTUFDSixHQUFJLEVBQUUsSUFBTSxFQUNSLFNBQ0osSUFBSyxFQUNELEVBQVUsRUFBTyxFQUFPLE1BQU0sRUFDbEMsR0FBSSxFQUFFLEtBQU8sR0FFVCxHQURBLEVBQUssR0FBSyxJQUFJLEdBQU0sRUFBRSxLQUFNLENBQU8sRUFDL0IsRUFBRSxHQUFLLEVBQ1AsRUFBSyxPQUFPLEVBQUksRUFBRyxFQUFHLElBQUksR0FBTSxFQUFPLEVBQUUsRUFBRSxDQUFDLFVBRTNDLEVBQUUsR0FBSyxFQUNaLEVBQUssS0FBTyxJQUFJLEdBQU0sRUFBTyxFQUFFLEVBQUUsTUFHakMsR0FBSyxPQUFPLElBQUssQ0FBQyxHQUk5QixPQUFPLEVBRVgsU0FBUyxFQUFnQixDQUFDLEVBQUcsRUFBRyxFQUFNLEVBQUksQ0FDdEMsSUFBSSxFQUFLLEVBQUcsRUFBSyxFQUFHLEVBQU0sR0FBTyxFQUFNLEdBQU8sRUFBTSxLQUNoRCxFQUFTLENBQUMsRUFDZCxPQUFTLENBQ0wsSUFBSSxFQUFRLEdBQU0sRUFBRSxPQUFTLElBQU0sRUFBTSxFQUFFLEdBQUksR0FBSyxFQUFFLEdBQUksS0FDdEQsRUFBUSxHQUFNLEVBQUUsT0FBUyxJQUFNLEVBQU0sRUFBRSxHQUFJLEdBQUssRUFBRSxHQUFJLEtBQzFELEdBQUksR0FBTyxFQUFLLENBQ1osSUFBSSxFQUFRLEtBQUssSUFBSSxFQUFLLENBQUksRUFBRyxFQUFNLEtBQUssSUFBSSxFQUFPLEVBQU8sQ0FBRSxFQUNoRSxHQUFJLEVBQVEsRUFDUixFQUFPLEtBQUssSUFBSSxHQUFNLEVBQU8sQ0FBRyxDQUFDLEVBR3pDLEdBREEsRUFBTSxLQUFLLElBQUksRUFBTyxDQUFLLEVBQ3ZCLEdBQU8sSUFDUCxNQUNKLEdBQUksR0FBUyxFQUNULElBQUssRUFDRCxFQUFNLE9BRU4sR0FBTSxHQUNOLElBR1IsR0FBSSxHQUFTLEVBQ1QsSUFBSyxFQUNELEVBQU0sT0FFTixHQUFNLEdBQ04sSUFJWixPQUFPLEVBS1gsU0FBUyxFQUFjLENBQUMsRUFBUSxFQUFRLENBQ3BDLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBVyxNQUFLLFFBQU8sVUFBVSxFQUFRLENBQ3JDLElBQUksRUFBVyxHQUFPLEVBQU0sUUFBVSxFQUFNLFFBQVEsR0FBRyxLQUFPLEdBQUksRUFBUyxFQUFXLEVBQU0sS0FBSyxPQUM3RixFQUFPLEtBQUssSUFBSSxFQUFLLEtBQU0sQ0FBUSxFQUFHLEVBQUssS0FBSyxJQUFJLEVBQUssR0FBSSxDQUFNLEVBQ3ZFLEdBQUksRUFBTSxRQUFTLENBQ2YsSUFBSSxFQUFVLEVBQU0sUUFBUSxJQUFJLEtBQUssSUFBSSxHQUFNLEVBQUUsS0FBTyxFQUFLLEVBQUUsR0FBSyxDQUFHLENBQUMsRUFDcEUsRUFBVSxHQUFpQixFQUFRLEVBQVMsRUFBTSxDQUFFLEVBQ3hELFFBQVMsRUFBSSxFQUFHLEVBQU0sR0FBTyxJQUFLLENBQzlCLElBQUksRUFBTyxHQUFLLEVBQVEsT0FBUSxFQUFNLEVBQU8sRUFBSyxFQUFRLEdBQUcsS0FDN0QsR0FBSSxFQUFNLEVBQ04sRUFBTyxLQUFLLElBQUksR0FBYSxFQUFLLEVBQUssRUFBTSxNQUFPLEVBQVUsRUFBSyxNQUFRLEdBQU8sRUFBSyxVQUFXLEVBQUssSUFBTSxHQUFPLEVBQUssT0FBTyxDQUFDLEVBQ3JJLEdBQUksRUFDQSxNQUNKLEVBQU0sRUFBUSxHQUFHLFFBSXJCLEdBQU8sS0FBSyxJQUFJLEdBQWEsRUFBTSxFQUFJLEVBQU0sTUFBTyxFQUFVLEVBQUssTUFBUSxHQUFZLEVBQUssVUFBVyxFQUFLLElBQU0sR0FBVSxFQUFLLE9BQU8sQ0FBQyxFQUdqSixPQUFPLEVBNW1FWCxJQUFNLEdBQXNCLEtBQ3hCLEdBQWEsRUFDakIsTUFBTSxFQUFNLENBQ1IsV0FBVyxDQUFDLEVBQU0sRUFBSSxDQUNsQixLQUFLLEtBQU8sRUFDWixLQUFLLEdBQUssRUFFbEIsQ0FNQSxNQUFNLENBQVMsQ0FJWCxXQUFXLENBQUMsRUFBUyxDQUFDLEVBQUcsQ0FDckIsS0FBSyxHQUFLLEtBQ1YsS0FBSyxVQUFZLEVBQU8sUUFDeEIsS0FBSyxZQUFjLEVBQU8sY0FBZ0IsSUFBTSxDQUM1QyxNQUFNLElBQUksTUFBTSxzREFBc0QsSUFZOUUsR0FBRyxDQUFDLEVBQU8sQ0FDUCxHQUFJLEtBQUssUUFDTCxNQUFNLElBQUksV0FBVyx3Q0FBd0MsRUFDakUsVUFBVyxHQUFTLFdBQ2hCLEVBQVEsR0FBUyxNQUFNLENBQUssRUFDaEMsTUFBTyxDQUFDLElBQVMsQ0FDYixJQUFJLEVBQVMsRUFBTSxDQUFJLEVBQ3ZCLE9BQU8sSUFBVyxPQUFZLEtBQU8sQ0FBQyxLQUFNLENBQU0sR0FHOUQsQ0FPQSxFQUFTLFNBQVcsSUFBSSxFQUFTLENBQUUsWUFBYSxLQUFPLEVBQUksTUFBTSxHQUFHLENBQUUsQ0FBQyxFQU12RSxFQUFTLFNBQVcsSUFBSSxFQUFTLENBQUUsWUFBYSxLQUFPLEVBQUksTUFBTSxHQUFHLENBQUUsQ0FBQyxFQU12RSxFQUFTLE1BQVEsSUFBSSxFQUFTLENBQUUsWUFBYSxLQUFPLEVBQUksTUFBTSxHQUFHLENBQUUsQ0FBQyxFQVlwRSxFQUFTLFFBQVUsSUFBSSxFQUFTLENBQUUsWUFBYSxLQUFTLENBQ2hELEdBQUksR0FBUyxHQUFTLE9BQVMsR0FBUyxPQUFTLEdBQVMsT0FDdEQsTUFBTSxJQUFJLFdBQVcsOEJBQWdDLENBQUssRUFDOUQsT0FBTyxHQUFTLE9BQ2xCLENBQUMsRUFNUCxFQUFTLFlBQWMsSUFBSSxFQUFTLENBQUUsUUFBUyxFQUFLLENBQUMsRUFPckQsRUFBUyxVQUFZLElBQUksRUFBUyxDQUFFLFFBQVMsRUFBSyxDQUFDLEVBTW5ELEVBQVMsUUFBVSxJQUFJLEVBQVMsQ0FBRSxRQUFTLEVBQUssQ0FBQyxFQU1qRCxNQUFNLEVBQVksQ0FDZCxXQUFXLENBSVgsRUFVQSxFQUlBLEVBQVEsQ0FDSixLQUFLLEtBQU8sRUFDWixLQUFLLFFBQVUsRUFDZixLQUFLLE9BQVMsUUFLWCxJQUFHLENBQUMsRUFBTSxDQUNiLE9BQU8sR0FBUSxFQUFLLE9BQVMsRUFBSyxNQUFNLEVBQVMsUUFBUSxJQUVqRSxDQUNBLElBQU0sR0FBVSxPQUFPLE9BQU8sSUFBSSxFQUlsQyxNQUFNLEVBQVMsQ0FJWCxXQUFXLENBT1gsRUFJQSxFQUtBLEVBSUEsRUFBUSxFQUFHLENBQ1AsS0FBSyxLQUFPLEVBQ1osS0FBSyxNQUFRLEVBQ2IsS0FBSyxHQUFLLEVBQ1YsS0FBSyxNQUFRLFFBS1YsT0FBTSxDQUFDLEVBQU0sQ0FDaEIsSUFBSSxFQUFRLEVBQUssT0FBUyxFQUFLLE1BQU0sT0FBUyxPQUFPLE9BQU8sSUFBSSxFQUFJLEdBQ2hFLEdBQVMsRUFBSyxJQUFNLEVBQXVCLElBQU0sRUFBSyxRQUFVLEVBQTJCLElBQzFGLEVBQUssTUFBUSxFQUF5QixJQUFNLEVBQUssTUFBUSxLQUFPLEVBQTZCLEdBQzlGLEVBQU8sSUFBSSxHQUFTLEVBQUssTUFBUSxHQUFJLEVBQU8sRUFBSyxHQUFJLENBQUssRUFDOUQsR0FBSSxFQUFLLE1BQ0wsUUFBUyxLQUFPLEVBQUssTUFBTyxDQUN4QixJQUFLLE1BQU0sUUFBUSxDQUFHLEVBQ2xCLEVBQU0sRUFBSSxDQUFJLEVBQ2xCLEdBQUksRUFBSyxDQUNMLEdBQUksRUFBSSxHQUFHLFFBQ1AsTUFBTSxJQUFJLFdBQVcsNENBQTRDLEVBQ3JFLEVBQU0sRUFBSSxHQUFHLElBQU0sRUFBSSxJQUduQyxPQUFPLEVBTVgsSUFBSSxDQUFDLEVBQU0sQ0FBRSxPQUFPLEtBQUssTUFBTSxFQUFLLE9BSWhDLE1BQUssRUFBRyxDQUFFLE9BQVEsS0FBSyxNQUFRLEdBQXdCLEtBSXZELFVBQVMsRUFBRyxDQUFFLE9BQVEsS0FBSyxNQUFRLEdBQTRCLEtBSS9ELFFBQU8sRUFBRyxDQUFFLE9BQVEsS0FBSyxNQUFRLEdBQTBCLEtBSzNELFlBQVcsRUFBRyxDQUFFLE9BQVEsS0FBSyxNQUFRLEdBQThCLEVBS3ZFLEVBQUUsQ0FBQyxFQUFNLENBQ0wsVUFBVyxHQUFRLFNBQVUsQ0FDekIsR0FBSSxLQUFLLE1BQVEsRUFDYixNQUFPLEdBQ1gsSUFBSSxFQUFRLEtBQUssS0FBSyxFQUFTLEtBQUssRUFDcEMsT0FBTyxFQUFRLEVBQU0sUUFBUSxDQUFJLEVBQUksR0FBSyxHQUU5QyxPQUFPLEtBQUssSUFBTSxRQVVmLE1BQUssQ0FBQyxFQUFLLENBQ2QsSUFBSSxFQUFTLE9BQU8sT0FBTyxJQUFJLEVBQy9CLFFBQVMsS0FBUSxFQUNiLFFBQVMsS0FBUSxFQUFLLE1BQU0sR0FBRyxFQUMzQixFQUFPLEdBQVEsRUFBSSxHQUMzQixNQUFPLENBQUMsSUFBUyxDQUNiLFFBQVMsRUFBUyxFQUFLLEtBQUssRUFBUyxLQUFLLEVBQUcsRUFBSSxHQUFJLEdBQUssRUFBUyxFQUFPLE9BQVMsR0FBSSxJQUFLLENBQ3hGLElBQUksRUFBUSxFQUFPLEVBQUksRUFBSSxFQUFLLEtBQU8sRUFBTyxJQUM5QyxHQUFJLEVBQ0EsT0FBTyxJQUkzQixDQUlBLEdBQVMsS0FBTyxJQUFJLEdBQVMsR0FBSSxPQUFPLE9BQU8sSUFBSSxFQUFHLEVBQUcsQ0FBMEIsRUFVbkYsTUFBTSxFQUFRLENBS1YsV0FBVyxDQUlYLEVBQU8sQ0FDSCxLQUFLLE1BQVEsRUFDYixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUM5QixHQUFJLEVBQU0sR0FBRyxJQUFNLEVBQ2YsTUFBTSxJQUFJLFdBQVcsNkVBQTZFLEVBTzlHLE1BQU0sSUFBSSxFQUFPLENBQ2IsSUFBSSxFQUFXLENBQUMsRUFDaEIsUUFBUyxLQUFRLEtBQUssTUFBTyxDQUN6QixJQUFJLEVBQVcsS0FDZixRQUFTLEtBQVUsRUFBTyxDQUN0QixJQUFJLEVBQU0sRUFBTyxDQUFJLEVBQ3JCLEdBQUksRUFBSyxDQUNMLElBQUssRUFDRCxFQUFXLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBSyxLQUFLLEVBQzNDLEVBQVMsRUFBSSxHQUFHLElBQU0sRUFBSSxJQUdsQyxFQUFTLEtBQUssRUFBVyxJQUFJLEdBQVMsRUFBSyxLQUFNLEVBQVUsRUFBSyxHQUFJLEVBQUssS0FBSyxFQUFJLENBQUksRUFFMUYsT0FBTyxJQUFJLEdBQVEsQ0FBUSxFQUVuQyxDQUNBLElBQU0sR0FBYSxJQUFJLFFBQVcsR0FBa0IsSUFBSSxRQUtwRCxFQUNKLFNBQVUsQ0FBQyxFQUFVLENBTWpCLEVBQVMsRUFBUyxlQUFvQixHQUFLLGlCQU0zQyxFQUFTLEVBQVMsaUJBQXNCLEdBQUssbUJBTTdDLEVBQVMsRUFBUyxhQUFrQixHQUFLLGVBT3pDLEVBQVMsRUFBUyxlQUFvQixHQUFLLG1CQUM1QyxJQUFhLEVBQVcsQ0FBQyxFQUFFLEVBaUI5QixNQUFNLENBQUssQ0FJUCxXQUFXLENBSVgsRUFJQSxFQUtBLEVBSUEsRUFJQSxFQUFPLENBU0gsR0FSQSxLQUFLLEtBQU8sRUFDWixLQUFLLFNBQVcsRUFDaEIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssT0FBUyxFQUlkLEtBQUssTUFBUSxLQUNULEdBQVMsRUFBTSxPQUFRLENBQ3ZCLEtBQUssTUFBUSxPQUFPLE9BQU8sSUFBSSxFQUMvQixRQUFVLEVBQU0sS0FBVSxFQUN0QixLQUFLLE1BQU0sT0FBTyxHQUFRLFNBQVcsRUFBTyxFQUFLLElBQU0sR0FNbkUsUUFBUSxFQUFHLENBQ1AsSUFBSSxFQUFVLEdBQVksSUFBSSxJQUFJLEVBQ2xDLEdBQUksSUFBWSxFQUFRLFFBQ3BCLE9BQU8sRUFBUSxLQUFLLFNBQVMsRUFDakMsSUFBSSxFQUFXLEdBQ2YsUUFBUyxLQUFNLEtBQUssU0FBVSxDQUMxQixJQUFJLEVBQU0sRUFBRyxTQUFTLEVBQ3RCLEdBQUksRUFBSyxDQUNMLEdBQUksRUFDQSxHQUFZLElBQ2hCLEdBQVksR0FHcEIsT0FBUSxLQUFLLEtBQUssS0FBTyxHQUNwQixLQUFLLEtBQUssS0FBSyxLQUFLLElBQUksSUFBTSxLQUFLLEtBQUssUUFBVSxLQUFLLFVBQVUsS0FBSyxLQUFLLElBQUksRUFBSSxLQUFLLEtBQUssT0FDekYsRUFBUyxPQUFTLElBQU0sRUFBVyxJQUFNLElBT3RELE1BQU0sQ0FBQyxFQUFPLEVBQUcsQ0FDYixPQUFPLElBQUksR0FBVyxLQUFLLFFBQVMsQ0FBSSxFQU81QyxRQUFRLENBQUMsRUFBSyxFQUFPLEVBQUcsRUFBTyxFQUFHLENBQzlCLElBQUksRUFBUSxHQUFXLElBQUksSUFBSSxHQUFLLEtBQUssUUFDckMsRUFBUyxJQUFJLEdBQVcsQ0FBSyxFQUdqQyxPQUZBLEVBQU8sT0FBTyxFQUFLLENBQUksRUFDdkIsR0FBVyxJQUFJLEtBQU0sRUFBTyxLQUFLLEVBQzFCLEtBTVAsUUFBTyxFQUFHLENBQ1YsT0FBTyxJQUFJLEdBQVMsS0FBTSxFQUFHLEVBQUcsSUFBSSxFQWF4QyxPQUFPLENBQUMsRUFBSyxFQUFPLEVBQUcsQ0FDbkIsSUFBSSxFQUFPLEdBQVksR0FBVyxJQUFJLElBQUksR0FBSyxLQUFLLFFBQVMsRUFBSyxFQUFNLEVBQUssRUFFN0UsT0FEQSxHQUFXLElBQUksS0FBTSxDQUFJLEVBQ2xCLEVBU1gsWUFBWSxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ3hCLElBQUksRUFBTyxHQUFZLEdBQWdCLElBQUksSUFBSSxHQUFLLEtBQUssUUFBUyxFQUFLLEVBQU0sRUFBSSxFQUVqRixPQURBLEdBQWdCLElBQUksS0FBTSxDQUFJLEVBQ3ZCLEVBU1gsWUFBWSxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ3hCLE9BQU8sR0FBYyxLQUFNLEVBQUssQ0FBSSxFQVN4QyxPQUFPLENBQUMsRUFBTSxDQUNWLElBQU0sUUFBTyxRQUFPLE9BQU8sRUFBRyxLQUFLLEtBQUssUUFBVyxFQUMvQyxFQUFPLEVBQUssTUFBUSxFQUFHLEdBQVEsRUFBTyxFQUFTLGtCQUFvQixFQUN2RSxRQUFTLEVBQUksS0FBSyxPQUFPLEVBQU8sRUFBUyxnQkFBZ0IsSUFBSyxDQUMxRCxJQUFJLEVBQVUsR0FDZCxHQUFJLEVBQUUsTUFBUSxHQUFNLEVBQUUsSUFBTSxLQUFVLEdBQVEsRUFBRSxLQUFLLGFBQWUsRUFBTSxDQUFDLElBQU0sSUFBUSxDQUNyRixHQUFJLEVBQUUsV0FBVyxFQUNiLFNBQ0osRUFBVSxHQUVkLE9BQVMsQ0FDTCxHQUFJLEdBQVcsSUFBVSxJQUFTLEVBQUUsS0FBSyxhQUNyQyxFQUFNLENBQUMsRUFDWCxHQUFJLEVBQUUsWUFBWSxFQUNkLE1BQ0osSUFBSyxFQUFFLE9BQU8sRUFDVixPQUNKLEVBQVUsS0FRdEIsSUFBSSxDQUFDLEVBQU0sQ0FDUCxPQUFRLEVBQUssUUFBVSxLQUFLLEtBQUssS0FBSyxDQUFJLEVBQUksS0FBSyxNQUFRLEtBQUssTUFBTSxFQUFLLElBQU0sVUFPakYsV0FBVSxFQUFHLENBQ2IsSUFBSSxFQUFTLENBQUMsRUFDZCxHQUFJLEtBQUssTUFDTCxRQUFTLEtBQU0sS0FBSyxNQUNoQixFQUFPLEtBQUssRUFBRSxFQUFJLEtBQUssTUFBTSxFQUFHLENBQUMsRUFDekMsT0FBTyxFQU9YLE9BQU8sQ0FBQyxFQUFTLENBQUMsRUFBRyxDQUNqQixPQUFPLEtBQUssU0FBUyxRQUFVLEVBQStCLEtBQzFELEdBQWEsR0FBUyxLQUFNLEtBQUssU0FBVSxLQUFLLFVBQVcsRUFBRyxLQUFLLFNBQVMsT0FBUSxFQUFHLEtBQUssT0FBUSxDQUFDLEVBQVUsRUFBVyxJQUFXLElBQUksRUFBSyxLQUFLLEtBQU0sRUFBVSxFQUFXLEVBQVEsS0FBSyxVQUFVLEVBQUcsRUFBTyxXQUFhLENBQUMsRUFBVSxFQUFXLElBQVcsSUFBSSxFQUFLLEdBQVMsS0FBTSxFQUFVLEVBQVcsQ0FBTSxFQUFFLFFBTW5ULE1BQUssQ0FBQyxFQUFNLENBQUUsT0FBTyxHQUFVLENBQUksRUFDOUMsQ0FJQSxFQUFLLE1BQVEsSUFBSSxFQUFLLEdBQVMsS0FBTSxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsRUFDOUMsTUFBTSxFQUFpQixDQUNuQixXQUFXLENBQUMsRUFBUSxFQUFPLENBQ3ZCLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxLQUViLEdBQUUsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLEtBQUssTUFBUSxNQUN2QyxNQUFLLEVBQUcsQ0FBRSxPQUFPLEtBQUssT0FBTyxLQUFLLE1BQVEsTUFDMUMsSUFBRyxFQUFHLENBQUUsT0FBTyxLQUFLLE9BQU8sS0FBSyxNQUFRLE1BQ3hDLEtBQUksRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLEtBQUssTUFBUSxNQUN6QyxJQUFHLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFDeEIsSUFBSSxFQUFHLENBQUUsS0FBSyxPQUFTLEVBQ3ZCLElBQUksRUFBRyxDQUFFLE9BQU8sSUFBSSxHQUFpQixLQUFLLE9BQVEsS0FBSyxLQUFLLEVBQ2hFLENBT0EsTUFBTSxFQUFXLENBSWIsV0FBVyxDQUlYLEVBSUEsRUFJQSxFQUFLLENBQ0QsS0FBSyxPQUFTLEVBQ2QsS0FBSyxPQUFTLEVBQ2QsS0FBSyxJQUFNLEtBS1gsS0FBSSxFQUFHLENBQUUsT0FBTyxHQUFTLEtBSTdCLFFBQVEsRUFBRyxDQUNQLElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxFQUFRLEVBQUcsRUFBUSxLQUFLLE9BQU8sUUFDcEMsRUFBTyxLQUFLLEtBQUssWUFBWSxDQUFLLENBQUMsRUFDbkMsRUFBUSxLQUFLLE9BQU8sRUFBUSxHQUVoQyxPQUFPLEVBQU8sS0FBSyxHQUFHLEVBSzFCLFdBQVcsQ0FBQyxFQUFPLENBQ2YsSUFBSSxFQUFLLEtBQUssT0FBTyxHQUFRLEVBQVcsS0FBSyxPQUFPLEVBQVEsR0FDeEQsRUFBTyxLQUFLLElBQUksTUFBTSxHQUFLLEVBQVMsRUFBSyxLQUM3QyxHQUFJLEtBQUssS0FBSyxDQUFNLElBQU0sRUFBSyxRQUMzQixFQUFTLEtBQUssVUFBVSxDQUFNLEVBRWxDLEdBREEsR0FBUyxFQUNMLEdBQVksRUFDWixPQUFPLEVBQ1gsSUFBSSxFQUFXLENBQUMsRUFDaEIsTUFBTyxFQUFRLEVBQ1gsRUFBUyxLQUFLLEtBQUssWUFBWSxDQUFLLENBQUMsRUFDckMsRUFBUSxLQUFLLE9BQU8sRUFBUSxHQUVoQyxPQUFPLEVBQVMsSUFBTSxFQUFTLEtBQUssR0FBRyxFQUFJLElBSy9DLFNBQVMsQ0FBQyxFQUFZLEVBQVUsRUFBSyxFQUFLLEVBQU0sQ0FDNUMsSUFBTSxVQUFXLEtBQU0sRUFBTyxHQUM5QixRQUFTLEVBQUksRUFBWSxHQUFLLEVBQVUsRUFBSSxFQUFPLEVBQUksR0FDbkQsR0FBSSxHQUFVLEVBQU0sRUFBSyxFQUFPLEVBQUksR0FBSSxFQUFPLEVBQUksRUFBRSxHQUVqRCxHQURBLEVBQU8sRUFDSCxFQUFNLEVBQ04sTUFHWixPQUFPLEVBS1gsS0FBSyxDQUFDLEVBQVEsRUFBTSxFQUFNLENBQ3RCLElBQUksRUFBSSxLQUFLLE9BQ1QsRUFBTyxJQUFJLFlBQVksRUFBTyxDQUFNLEVBQUcsRUFBTSxFQUNqRCxRQUFTLEVBQUksRUFBUSxFQUFJLEVBQUcsRUFBSSxHQUFPLENBQ25DLEVBQUssS0FBTyxFQUFFLEtBQ2QsRUFBSyxLQUFPLEVBQUUsS0FBTyxFQUNyQixJQUFJLEVBQUssRUFBSyxLQUFPLEVBQUUsS0FBTyxFQUM5QixFQUFLLEtBQU8sRUFBRSxLQUFPLEVBQ3JCLEVBQU0sS0FBSyxJQUFJLEVBQUssQ0FBRSxFQUUxQixPQUFPLElBQUksR0FBVyxFQUFNLEVBQUssS0FBSyxHQUFHLEVBRWpELENBb0NBLE1BQU0sRUFBUyxDQUNYLE1BQU0sQ0FBQyxFQUFPLEVBQUcsQ0FBRSxPQUFPLElBQUksR0FBVyxLQUFNLENBQUksRUFDbkQsUUFBUSxDQUFDLEVBQU0sRUFBUyxLQUFNLEVBQVEsS0FBTSxDQUN4QyxJQUFJLEVBQUksR0FBWSxLQUFNLEVBQU0sRUFBUSxDQUFLLEVBQzdDLE9BQU8sRUFBRSxPQUFTLEVBQUUsR0FBSyxLQUU3QixXQUFXLENBQUMsRUFBTSxFQUFTLEtBQU0sRUFBUSxLQUFNLENBQzNDLE9BQU8sR0FBWSxLQUFNLEVBQU0sRUFBUSxDQUFLLEVBRWhELE9BQU8sQ0FBQyxFQUFLLEVBQU8sRUFBRyxDQUNuQixPQUFPLEdBQVksS0FBTSxFQUFLLEVBQU0sRUFBSyxFQUU3QyxZQUFZLENBQUMsRUFBSyxFQUFPLEVBQUcsQ0FDeEIsT0FBTyxHQUFZLEtBQU0sRUFBSyxFQUFNLEVBQUksRUFFNUMsWUFBWSxDQUFDLEVBQVMsQ0FDbEIsT0FBTyxHQUFpQixLQUFNLENBQU8sRUFFekMsMEJBQTBCLENBQUMsRUFBSyxDQUM1QixJQUFJLEVBQU8sS0FBSyxZQUFZLENBQUcsRUFBRyxFQUFPLEtBQ3pDLE1BQU8sRUFBTSxDQUNULElBQUksRUFBTyxFQUFLLFVBQ2hCLElBQUssR0FBUSxFQUFLLElBQU0sRUFBSyxHQUN6QixNQUNKLEdBQUksRUFBSyxLQUFLLFNBQVcsRUFBSyxNQUFRLEVBQUssR0FDdkMsRUFBTyxFQUNQLEVBQU8sRUFBSyxnQkFHWixHQUFPLEVBR2YsT0FBTyxLQUVQLEtBQUksRUFBRyxDQUFFLE9BQU8sUUFDaEIsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLE9BQzdCLENBQ0EsTUFBTSxXQUFpQixFQUFTLENBQzVCLFdBQVcsQ0FBQyxFQUFPLEVBRW5CLEVBQU8sRUFBUyxDQUNaLE1BQU0sRUFDTixLQUFLLE1BQVEsRUFDYixLQUFLLEtBQU8sRUFDWixLQUFLLE1BQVEsRUFDYixLQUFLLFFBQVUsS0FFZixLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBTSxRQUMzQixLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBTSxLQUFLLFFBQ2hDLEdBQUUsRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFPLEtBQUssTUFBTSxPQUN6QyxTQUFTLENBQUMsRUFBRyxFQUFLLEVBQUssRUFBTSxFQUFPLEVBQUcsQ0FDbkMsUUFBUyxFQUFTLE9BQVEsQ0FDdEIsUUFBVyxXQUFVLGFBQWMsRUFBTyxNQUFPLEVBQUksRUFBTSxFQUFJLEVBQVMsT0FBUyxHQUFJLEdBQUssRUFBRyxHQUFLLEVBQUssQ0FDbkcsSUFBSSxFQUFPLEVBQVMsR0FBSSxFQUFRLEVBQVUsR0FBSyxFQUFPLEtBQ3RELElBQUssR0FBVSxFQUFNLEVBQUssRUFBTyxFQUFRLEVBQUssTUFBTSxFQUNoRCxTQUNKLEdBQUksYUFBZ0IsR0FBWSxDQUM1QixHQUFJLEVBQU8sRUFBUyxlQUNoQixTQUNKLElBQUksRUFBUSxFQUFLLFVBQVUsRUFBRyxFQUFLLE9BQU8sT0FBUSxFQUFLLEVBQU0sRUFBTyxDQUFJLEVBQ3hFLEdBQUksRUFBUSxHQUNSLE9BQU8sSUFBSSxHQUFXLElBQUksR0FBYyxFQUFRLEVBQU0sRUFBRyxDQUFLLEVBQUcsS0FBTSxDQUFLLFVBRTFFLEVBQU8sRUFBUyxvQkFBdUIsRUFBSyxLQUFLLGFBQWUsR0FBUyxDQUFJLEdBQUksQ0FDdkYsSUFBSSxFQUNKLEtBQU0sRUFBTyxFQUFTLGdCQUFrQixFQUFVLEdBQVksSUFBSSxDQUFJLEtBQU8sRUFBUSxRQUNqRixPQUFPLElBQUksR0FBUyxFQUFRLEtBQU0sRUFBTyxFQUFHLENBQU0sRUFDdEQsSUFBSSxFQUFRLElBQUksR0FBUyxFQUFNLEVBQU8sRUFBRyxDQUFNLEVBQy9DLE9BQVEsRUFBTyxFQUFTLG1CQUFzQixFQUFNLEtBQUssWUFBYyxFQUNqRSxFQUFNLFVBQVUsRUFBTSxFQUFJLEVBQUssU0FBUyxPQUFTLEVBQUksRUFBRyxFQUFLLEVBQUssQ0FBSSxHQUdwRixHQUFLLEVBQU8sRUFBUyxtQkFBc0IsRUFBTyxLQUFLLFlBQ25ELE9BQU8sS0FDWCxHQUFJLEVBQU8sT0FBUyxFQUNoQixFQUFJLEVBQU8sTUFBUSxNQUVuQixHQUFJLEVBQU0sRUFBSSxHQUFLLEVBQU8sUUFBUSxNQUFNLFNBQVMsT0FFckQsR0FEQSxFQUFTLEVBQU8sU0FDWCxFQUNELE9BQU8sU0FHZixXQUFVLEVBQUcsQ0FBRSxPQUFPLEtBQUssVUFBVSxFQUFHLEVBQUcsRUFBRyxDQUFxQixLQUNuRSxVQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssVUFBVSxLQUFLLE1BQU0sU0FBUyxPQUFTLEVBQUcsR0FBSSxFQUFHLENBQXFCLEVBQ3BHLFVBQVUsQ0FBQyxFQUFLLENBQUUsT0FBTyxLQUFLLFVBQVUsRUFBRyxFQUFHLEVBQUssQ0FBa0IsRUFDckUsV0FBVyxDQUFDLEVBQUssQ0FBRSxPQUFPLEtBQUssVUFBVSxLQUFLLE1BQU0sU0FBUyxPQUFTLEVBQUcsR0FBSSxFQUFLLEVBQW9CLEVBQ3RHLEtBQUssQ0FBQyxFQUFLLEVBQU0sRUFBTyxFQUFHLENBQ3ZCLElBQUksRUFDSixLQUFNLEVBQU8sRUFBUyxrQkFBb0IsRUFBVSxHQUFZLElBQUksS0FBSyxLQUFLLElBQU0sRUFBUSxRQUFTLENBQ2pHLElBQUksRUFBTyxFQUFNLEtBQUssS0FDdEIsUUFBVyxPQUFNLFFBQVEsRUFBUSxRQUM3QixJQUFLLEVBQU8sRUFBSSxHQUFRLEVBQU8sRUFBTyxLQUNqQyxFQUFPLEVBQUksR0FBTSxFQUFPLEVBQUssR0FDOUIsT0FBTyxJQUFJLEdBQVMsRUFBUSxLQUFNLEVBQVEsUUFBUSxHQUFHLEtBQU8sS0FBSyxLQUFNLEdBQUksSUFBSSxFQUczRixPQUFPLEtBQUssVUFBVSxFQUFHLEVBQUcsRUFBSyxFQUFNLENBQUksRUFFL0MscUJBQXFCLEVBQUcsQ0FDcEIsSUFBSSxFQUFNLEtBQ1YsTUFBTyxFQUFJLEtBQUssYUFBZSxFQUFJLFFBQy9CLEVBQU0sRUFBSSxRQUNkLE9BQU8sS0FFUCxPQUFNLEVBQUcsQ0FDVCxPQUFPLEtBQUssUUFBVSxLQUFLLFFBQVEsc0JBQXNCLEVBQUksUUFFN0QsWUFBVyxFQUFHLENBQ2QsT0FBTyxLQUFLLFNBQVcsS0FBSyxPQUFTLEVBQUksS0FBSyxRQUFRLFVBQVUsS0FBSyxNQUFRLEVBQUcsRUFBRyxFQUFHLENBQXFCLEVBQUksUUFFL0csWUFBVyxFQUFHLENBQ2QsT0FBTyxLQUFLLFNBQVcsS0FBSyxPQUFTLEVBQUksS0FBSyxRQUFRLFVBQVUsS0FBSyxNQUFRLEVBQUcsR0FBSSxFQUFHLENBQXFCLEVBQUksUUFFaEgsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLE1BQ3pCLE1BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUl2QixRQUFRLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBTSxTQUFTLEVBQzVDLENBZ0NBLE1BQU0sRUFBYyxDQUNoQixXQUFXLENBQUMsRUFBUSxFQUFRLEVBQU8sRUFBTyxDQUN0QyxLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsRUFDYixLQUFLLE1BQVEsRUFFckIsQ0FDQSxNQUFNLFdBQW1CLEVBQVMsSUFDMUIsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLEtBQUssUUFDMUIsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLFFBQVEsTUFBUSxLQUFLLFFBQVEsT0FBTyxPQUFPLEtBQUssTUFBUSxNQUM3RSxHQUFFLEVBQUcsQ0FBRSxPQUFPLEtBQUssUUFBUSxNQUFRLEtBQUssUUFBUSxPQUFPLE9BQU8sS0FBSyxNQUFRLEdBQy9FLFdBQVcsQ0FBQyxFQUFTLEVBQVMsRUFBTyxDQUNqQyxNQUFNLEVBQ04sS0FBSyxRQUFVLEVBQ2YsS0FBSyxRQUFVLEVBQ2YsS0FBSyxNQUFRLEVBQ2IsS0FBSyxLQUFPLEVBQVEsT0FBTyxJQUFJLE1BQU0sRUFBUSxPQUFPLE9BQU8sSUFFL0QsS0FBSyxDQUFDLEVBQUssRUFBSyxFQUFNLENBQ2xCLElBQU0sVUFBVyxLQUFLLFFBQ2xCLEVBQVEsRUFBTyxVQUFVLEtBQUssTUFBUSxFQUFHLEVBQU8sT0FBTyxLQUFLLE1BQVEsR0FBSSxFQUFLLEVBQU0sS0FBSyxRQUFRLE1BQU8sQ0FBSSxFQUMvRyxPQUFPLEVBQVEsRUFBSSxLQUFPLElBQUksR0FBVyxLQUFLLFFBQVMsS0FBTSxDQUFLLEtBRWxFLFdBQVUsRUFBRyxDQUFFLE9BQU8sS0FBSyxNQUFNLEVBQUcsRUFBRyxDQUFxQixLQUM1RCxVQUFTLEVBQUcsQ0FBRSxPQUFPLEtBQUssTUFBTSxHQUFJLEVBQUcsQ0FBcUIsRUFDaEUsVUFBVSxDQUFDLEVBQUssQ0FBRSxPQUFPLEtBQUssTUFBTSxFQUFHLEVBQUssQ0FBa0IsRUFDOUQsV0FBVyxDQUFDLEVBQUssQ0FBRSxPQUFPLEtBQUssTUFBTSxHQUFJLEVBQUssRUFBb0IsRUFDbEUsS0FBSyxDQUFDLEVBQUssRUFBTSxFQUFPLEVBQUcsQ0FDdkIsR0FBSSxFQUFPLEVBQVMsZUFDaEIsT0FBTyxLQUNYLElBQU0sVUFBVyxLQUFLLFFBQ2xCLEVBQVEsRUFBTyxVQUFVLEtBQUssTUFBUSxFQUFHLEVBQU8sT0FBTyxLQUFLLE1BQVEsR0FBSSxFQUFPLEVBQUksRUFBSSxHQUFJLEVBQU0sS0FBSyxRQUFRLE1BQU8sQ0FBSSxFQUM3SCxPQUFPLEVBQVEsRUFBSSxLQUFPLElBQUksR0FBVyxLQUFLLFFBQVMsS0FBTSxDQUFLLEtBRWxFLE9BQU0sRUFBRyxDQUNULE9BQU8sS0FBSyxTQUFXLEtBQUssUUFBUSxPQUFPLHNCQUFzQixFQUVyRSxlQUFlLENBQUMsRUFBSyxDQUNqQixPQUFPLEtBQUssUUFBVSxLQUFPLEtBQUssUUFBUSxPQUFPLFVBQVUsS0FBSyxRQUFRLE1BQVEsRUFBSyxFQUFLLEVBQUcsQ0FBcUIsS0FFbEgsWUFBVyxFQUFHLENBQ2QsSUFBTSxVQUFXLEtBQUssUUFDbEIsRUFBUSxFQUFPLE9BQU8sS0FBSyxNQUFRLEdBQ3ZDLEdBQUksR0FBUyxLQUFLLFFBQVUsRUFBTyxPQUFPLEtBQUssUUFBUSxNQUFRLEdBQUssRUFBTyxPQUFPLFFBQzlFLE9BQU8sSUFBSSxHQUFXLEtBQUssUUFBUyxLQUFLLFFBQVMsQ0FBSyxFQUMzRCxPQUFPLEtBQUssZ0JBQWdCLENBQUMsS0FFN0IsWUFBVyxFQUFHLENBQ2QsSUFBTSxVQUFXLEtBQUssUUFDbEIsRUFBYyxLQUFLLFFBQVUsS0FBSyxRQUFRLE1BQVEsRUFBSSxFQUMxRCxHQUFJLEtBQUssT0FBUyxFQUNkLE9BQU8sS0FBSyxnQkFBZ0IsRUFBRSxFQUNsQyxPQUFPLElBQUksR0FBVyxLQUFLLFFBQVMsS0FBSyxRQUFTLEVBQU8sVUFBVSxFQUFhLEtBQUssTUFBTyxHQUFJLEVBQUcsQ0FBcUIsQ0FBQyxLQUV6SCxLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQ3BCLE1BQU0sRUFBRyxDQUNMLElBQUksRUFBVyxDQUFDLEVBQUcsRUFBWSxDQUFDLEdBQzFCLFVBQVcsS0FBSyxRQUNsQixFQUFTLEtBQUssTUFBUSxFQUFHLEVBQU8sRUFBTyxPQUFPLEtBQUssTUFBUSxHQUMvRCxHQUFJLEVBQU8sRUFBUSxDQUNmLElBQUksRUFBTyxFQUFPLE9BQU8sS0FBSyxNQUFRLEdBQ3RDLEVBQVMsS0FBSyxFQUFPLE1BQU0sRUFBUSxFQUFNLENBQUksQ0FBQyxFQUM5QyxFQUFVLEtBQUssQ0FBQyxFQUVwQixPQUFPLElBQUksRUFBSyxLQUFLLEtBQU0sRUFBVSxFQUFXLEtBQUssR0FBSyxLQUFLLElBQUksRUFLdkUsUUFBUSxFQUFHLENBQUUsT0FBTyxLQUFLLFFBQVEsT0FBTyxZQUFZLEtBQUssS0FBSyxFQUNsRSxDQW9CQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUFDLEVBQU8sRUFBTSxDQUNyQixLQUFLLE1BQVEsRUFDYixLQUFLLEtBQU8sS0FFWixLQUFJLEVBQUcsQ0FBRSxPQUFPLEdBQVUsS0FBSyxLQUFLLEVBQzVDLENBd0JBLE1BQU0sRUFBVyxJQUlULEtBQUksRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFLLEtBSTlCLFdBQVcsQ0FBQyxFQUlaLEVBQU8sRUFBRyxDQVlOLEdBWEEsS0FBSyxLQUFPLEVBSVosS0FBSyxPQUFTLEtBQ2QsS0FBSyxNQUFRLENBQUMsRUFJZCxLQUFLLE1BQVEsRUFDYixLQUFLLFdBQWEsS0FDZCxhQUFnQixHQUNoQixLQUFLLFVBQVUsQ0FBSSxNQUVsQixDQUNELEtBQUssTUFBUSxFQUFLLFFBQVEsT0FDMUIsS0FBSyxPQUFTLEVBQUssUUFDbkIsUUFBUyxFQUFJLEVBQUssUUFBUyxFQUFHLEVBQUksRUFBRSxRQUNoQyxLQUFLLE1BQU0sUUFBUSxFQUFFLEtBQUssRUFDOUIsS0FBSyxXQUFhLEVBQ2xCLEtBQUssU0FBUyxFQUFLLEtBQUssR0FHaEMsU0FBUyxDQUFDLEVBQU0sQ0FDWixJQUFLLEVBQ0QsTUFBTyxHQUtYLE9BSkEsS0FBSyxNQUFRLEVBQ2IsS0FBSyxLQUFPLEVBQUssS0FDakIsS0FBSyxLQUFPLEVBQUssS0FDakIsS0FBSyxHQUFLLEVBQUssR0FDUixHQUVYLFFBQVEsQ0FBQyxFQUFPLEVBQU0sQ0FDbEIsS0FBSyxNQUFRLEVBQ2IsSUFBTSxRQUFPLFVBQVcsS0FBSyxPQUk3QixPQUhBLEtBQUssS0FBTyxHQUFRLEVBQU8sSUFBSSxNQUFNLEVBQU8sT0FBTyxJQUNuRCxLQUFLLEtBQU8sRUFBUSxFQUFPLE9BQU8sRUFBUSxHQUMxQyxLQUFLLEdBQUssRUFBUSxFQUFPLE9BQU8sRUFBUSxHQUNqQyxHQUtYLEtBQUssQ0FBQyxFQUFNLENBQ1IsSUFBSyxFQUNELE1BQU8sR0FDWCxHQUFJLGFBQWdCLEdBRWhCLE9BREEsS0FBSyxPQUFTLEtBQ1AsS0FBSyxVQUFVLENBQUksRUFHOUIsT0FEQSxLQUFLLE9BQVMsRUFBSyxRQUNaLEtBQUssU0FBUyxFQUFLLE1BQU8sRUFBSyxJQUFJLEVBSzlDLFFBQVEsRUFBRyxDQUNQLE9BQU8sS0FBSyxPQUFTLEtBQUssT0FBTyxPQUFPLFlBQVksS0FBSyxLQUFLLEVBQUksS0FBSyxNQUFNLFNBQVMsRUFLMUYsVUFBVSxDQUFDLEVBQUssRUFBSyxFQUFNLENBQ3ZCLElBQUssS0FBSyxPQUNOLE9BQU8sS0FBSyxNQUFNLEtBQUssTUFBTSxVQUFVLEVBQU0sRUFBSSxLQUFLLE1BQU0sTUFBTSxTQUFTLE9BQVMsRUFBSSxFQUFHLEVBQUssRUFBSyxFQUFNLEtBQUssSUFBSSxDQUFDLEVBQ3pILElBQU0sVUFBVyxLQUFLLE9BQ2xCLEVBQVEsRUFBTyxVQUFVLEtBQUssTUFBUSxFQUFHLEVBQU8sT0FBTyxLQUFLLE1BQVEsR0FBSSxFQUFLLEVBQU0sS0FBSyxPQUFPLE1BQU8sQ0FBSSxFQUM5RyxHQUFJLEVBQVEsRUFDUixNQUFPLEdBRVgsT0FEQSxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssRUFDbkIsS0FBSyxTQUFTLENBQUssRUFNOUIsVUFBVSxFQUFHLENBQUUsT0FBTyxLQUFLLFdBQVcsRUFBRyxFQUFHLENBQXFCLEVBSWpFLFNBQVMsRUFBRyxDQUFFLE9BQU8sS0FBSyxXQUFXLEdBQUksRUFBRyxDQUFxQixFQUlqRSxVQUFVLENBQUMsRUFBSyxDQUFFLE9BQU8sS0FBSyxXQUFXLEVBQUcsRUFBSyxDQUFrQixFQUluRSxXQUFXLENBQUMsRUFBSyxDQUFFLE9BQU8sS0FBSyxXQUFXLEdBQUksRUFBSyxFQUFvQixFQVF2RSxLQUFLLENBQUMsRUFBSyxFQUFNLEVBQU8sS0FBSyxLQUFNLENBQy9CLElBQUssS0FBSyxPQUNOLE9BQU8sS0FBSyxNQUFNLEtBQUssTUFBTSxNQUFNLEVBQUssRUFBTSxDQUFJLENBQUMsRUFDdkQsT0FBTyxFQUFPLEVBQVMsZUFBaUIsR0FBUSxLQUFLLFdBQVcsRUFBRyxFQUFLLENBQUksRUFLaEYsTUFBTSxFQUFHLENBQ0wsSUFBSyxLQUFLLE9BQ04sT0FBTyxLQUFLLFVBQVcsS0FBSyxLQUFPLEVBQVMsaUJBQW9CLEtBQUssTUFBTSxRQUFVLEtBQUssTUFBTSxNQUFNLEVBQzFHLEdBQUksS0FBSyxNQUFNLE9BQ1gsT0FBTyxLQUFLLFNBQVMsS0FBSyxNQUFNLElBQUksQ0FBQyxFQUN6QyxJQUFJLEVBQVUsS0FBSyxLQUFPLEVBQVMsaUJBQW9CLEtBQUssT0FBTyxPQUFTLEtBQUssT0FBTyxPQUFPLHNCQUFzQixFQUVySCxPQURBLEtBQUssT0FBUyxLQUNQLEtBQUssVUFBVSxDQUFNLEVBS2hDLE9BQU8sQ0FBQyxFQUFLLENBQ1QsSUFBSyxLQUFLLE9BQ04sT0FBUSxLQUFLLE1BQU0sUUFBVSxHQUN2QixLQUFLLE1BQU0sS0FBSyxNQUFNLE1BQVEsRUFBSSxLQUM5QixLQUFLLE1BQU0sUUFBUSxVQUFVLEtBQUssTUFBTSxNQUFRLEVBQUssRUFBSyxFQUFHLEVBQXVCLEtBQUssSUFBSSxDQUFDLEVBQzVHLElBQU0sVUFBVyxLQUFLLE9BQVEsRUFBSSxLQUFLLE1BQU0sT0FBUyxFQUN0RCxHQUFJLEVBQU0sRUFBRyxDQUNULElBQUksRUFBYyxFQUFJLEVBQUksRUFBSSxLQUFLLE1BQU0sR0FBSyxFQUM5QyxHQUFJLEtBQUssT0FBUyxFQUNkLE9BQU8sS0FBSyxTQUFTLEVBQU8sVUFBVSxFQUFhLEtBQUssTUFBTyxHQUFJLEVBQUcsQ0FBcUIsQ0FBQyxNQUUvRixDQUNELElBQUksRUFBUSxFQUFPLE9BQU8sS0FBSyxNQUFRLEdBQ3ZDLEdBQUksR0FBUyxFQUFJLEVBQUksRUFBTyxPQUFPLE9BQVMsRUFBTyxPQUFPLEtBQUssTUFBTSxHQUFLLElBQ3RFLE9BQU8sS0FBSyxTQUFTLENBQUssRUFFbEMsT0FBTyxFQUFJLEVBQUksS0FBSyxNQUFNLEtBQUssT0FBTyxPQUFPLFVBQVUsS0FBSyxPQUFPLE1BQVEsRUFBSyxFQUFLLEVBQUcsRUFBdUIsS0FBSyxJQUFJLENBQUMsRUFBSSxHQUtqSSxXQUFXLEVBQUcsQ0FBRSxPQUFPLEtBQUssUUFBUSxDQUFDLEVBSXJDLFdBQVcsRUFBRyxDQUFFLE9BQU8sS0FBSyxRQUFRLEVBQUUsRUFDdEMsVUFBVSxDQUFDLEVBQUssQ0FDWixJQUFJLEVBQU8sR0FBVSxVQUFXLEtBQ2hDLEdBQUksRUFBUSxDQUNSLEdBQUksRUFBTSxHQUNOLEdBQUksS0FBSyxNQUFRLEVBQU8sT0FBTyxPQUFPLE9BQ2xDLE1BQU8sT0FHWCxTQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssTUFBTyxJQUM1QixHQUFJLEVBQU8sT0FBTyxPQUFPLEVBQUksR0FBSyxLQUFLLE1BQ25DLE1BQU8sR0FFbkIsQ0FBQyxDQUFFLFFBQU8sUUFBTyxFQUFJLE9BR3JCLENBQUMsQ0FBRSxRQUFPLFFBQVMsQ0FBTyxFQUFJLEtBQUssT0FFdkMsS0FBTyxFQUFRLENBQUUsUUFBTyxRQUFTLENBQU8sRUFBSSxFQUN4QyxHQUFJLEVBQVEsR0FDUixRQUFTLEVBQUksRUFBUSxFQUFLLEVBQUksRUFBTSxFQUFJLEdBQUssRUFBTyxNQUFNLFNBQVMsT0FBUSxHQUFLLEVBQUcsR0FBSyxFQUFLLENBQ3pGLElBQUksRUFBUSxFQUFPLE1BQU0sU0FBUyxHQUNsQyxHQUFLLEtBQUssS0FBTyxFQUFTLGtCQUN0QixhQUFpQixLQUNoQixFQUFNLEtBQUssYUFDWixHQUFTLENBQUssRUFDZCxNQUFPLEdBR3ZCLE1BQU8sR0FFWCxJQUFJLENBQUMsRUFBSyxFQUFPLENBQ2IsR0FBSSxHQUFTLEtBQUssV0FBVyxFQUFLLEVBQUcsQ0FBcUIsRUFDdEQsTUFBTyxHQUNYLE9BQVMsQ0FDTCxHQUFJLEtBQUssUUFBUSxDQUFHLEVBQ2hCLE1BQU8sR0FDWCxHQUFJLEtBQUssV0FBVyxDQUFHLElBQU0sS0FBSyxPQUFPLEVBQ3JDLE1BQU8sSUFVbkIsSUFBSSxDQUFDLEVBQVEsR0FBTSxDQUFFLE9BQU8sS0FBSyxLQUFLLEVBQUcsQ0FBSyxFQU85QyxJQUFJLENBQUMsRUFBUSxHQUFNLENBQUUsT0FBTyxLQUFLLEtBQUssR0FBSSxDQUFLLEVBTS9DLE1BQU0sQ0FBQyxFQUFLLEVBQU8sRUFBRyxDQUVsQixNQUFPLEtBQUssTUFBUSxLQUFLLEtBQ3BCLEVBQU8sRUFBSSxLQUFLLE1BQVEsRUFBTSxLQUFLLEtBQU8sS0FDMUMsRUFBTyxHQUFLLEtBQUssSUFBTSxFQUFNLEtBQUssR0FBSyxHQUN4QyxJQUFLLEtBQUssT0FBTyxFQUNiLE1BRVIsTUFBTyxLQUFLLFdBQVcsRUFBRyxFQUFLLENBQUksRUFBRyxDQUN0QyxPQUFPLFFBTVAsS0FBSSxFQUFHLENBQ1AsSUFBSyxLQUFLLE9BQ04sT0FBTyxLQUFLLE1BQ2hCLElBQUksRUFBUSxLQUFLLFdBQVksRUFBUyxLQUFNLEVBQVEsRUFDcEQsR0FBSSxHQUFTLEVBQU0sU0FBVyxLQUFLLE9BQy9CLEVBQU0sUUFBUyxFQUFRLEtBQUssTUFBTyxFQUFJLEtBQUssTUFBTSxPQUFRLEdBQUssR0FBSSxDQUMvRCxRQUFTLEVBQUksRUFBTyxFQUFHLEVBQUksRUFBRSxRQUN6QixHQUFJLEVBQUUsT0FBUyxFQUFPLENBQ2xCLEdBQUksR0FBUyxLQUFLLE1BQ2QsT0FBTyxFQUNYLEVBQVMsRUFDVCxFQUFRLEVBQUksRUFDWixRQUVSLEVBQVEsS0FBSyxNQUFNLEVBQUUsR0FHN0IsUUFBUyxFQUFJLEVBQU8sRUFBSSxLQUFLLE1BQU0sT0FBUSxJQUN2QyxFQUFTLElBQUksR0FBVyxLQUFLLE9BQVEsRUFBUSxLQUFLLE1BQU0sRUFBRSxFQUM5RCxPQUFPLEtBQUssV0FBYSxJQUFJLEdBQVcsS0FBSyxPQUFRLEVBQVEsS0FBSyxLQUFLLEtBT3ZFLEtBQUksRUFBRyxDQUNQLE9BQU8sS0FBSyxPQUFTLEtBQU8sS0FBSyxNQUFNLE1BUTNDLE9BQU8sQ0FBQyxFQUFPLEVBQU8sQ0FDbEIsUUFBUyxFQUFRLElBQUssQ0FDbEIsSUFBSSxFQUFZLEdBQ2hCLEdBQUksS0FBSyxLQUFLLGFBQWUsRUFBTSxJQUFJLElBQU0sR0FBTyxDQUNoRCxHQUFJLEtBQUssV0FBVyxFQUFHLENBQ25CLElBQ0EsU0FFSixJQUFLLEtBQUssS0FBSyxZQUNYLEVBQVksR0FFcEIsT0FBUyxDQUNMLEdBQUksR0FBYSxFQUNiLEVBQU0sSUFBSSxFQUVkLEdBREEsRUFBWSxLQUFLLEtBQUssWUFDbEIsS0FBSyxZQUFZLEVBQ2pCLE1BQ0osSUFBSyxFQUNELE9BQ0osS0FBSyxPQUFPLEVBQ1osSUFDQSxFQUFZLEtBU3hCLFlBQVksQ0FBQyxFQUFTLENBQ2xCLElBQUssS0FBSyxPQUNOLE9BQU8sR0FBaUIsS0FBSyxLQUFNLENBQU8sRUFDOUMsSUFBTSxVQUFXLEtBQUssUUFBVSxTQUFVLEVBQU8sSUFDakQsUUFBUyxFQUFJLEVBQVEsT0FBUyxFQUFHLEVBQUksS0FBSyxNQUFNLE9BQVMsRUFBRyxHQUFLLEVBQUcsSUFBSyxDQUNyRSxHQUFJLEVBQUksRUFDSixPQUFPLEdBQWlCLEtBQUssS0FBTSxFQUFTLENBQUMsRUFDakQsSUFBSSxFQUFPLEVBQU0sRUFBTyxPQUFPLEtBQUssTUFBTSxLQUMxQyxJQUFLLEVBQUssWUFBYSxDQUNuQixHQUFJLEVBQVEsSUFBTSxFQUFRLElBQU0sRUFBSyxLQUNqQyxNQUFPLEdBQ1gsS0FHUixNQUFPLEdBRWYsQ0FtT0EsSUFBTSxHQUFnQixJQUFJLFFBdUUxQixNQUFNLEVBQVksQ0FDZCxXQUFXLEVBQUcsQ0FDVixLQUFLLElBQU0sSUFBSSxRQUVuQixTQUFTLENBQUMsRUFBUSxFQUFPLEVBQU8sQ0FDNUIsSUFBSSxFQUFRLEtBQUssSUFBSSxJQUFJLENBQU0sRUFDL0IsSUFBSyxFQUNELEtBQUssSUFBSSxJQUFJLEVBQVEsRUFBUSxJQUFJLEdBQUcsRUFDeEMsRUFBTSxJQUFJLEVBQU8sQ0FBSyxFQUUxQixTQUFTLENBQUMsRUFBUSxFQUFPLENBQ3JCLElBQUksRUFBUSxLQUFLLElBQUksSUFBSSxDQUFNLEVBQy9CLE9BQU8sR0FBUyxFQUFNLElBQUksQ0FBSyxFQUtuQyxHQUFHLENBQUMsRUFBTSxFQUFPLENBQ2IsR0FBSSxhQUFnQixHQUNoQixLQUFLLFVBQVUsRUFBSyxRQUFRLE9BQVEsRUFBSyxNQUFPLENBQUssVUFDaEQsYUFBZ0IsR0FDckIsS0FBSyxJQUFJLElBQUksRUFBSyxLQUFNLENBQUssRUFLckMsR0FBRyxDQUFDLEVBQU0sQ0FDTixPQUFPLGFBQWdCLEdBQWEsS0FBSyxVQUFVLEVBQUssUUFBUSxPQUFRLEVBQUssS0FBSyxFQUM1RSxhQUFnQixHQUFXLEtBQUssSUFBSSxJQUFJLEVBQUssSUFBSSxFQUFJLE9BSy9ELFNBQVMsQ0FBQyxFQUFRLEVBQU8sQ0FDckIsR0FBSSxFQUFPLE9BQ1AsS0FBSyxVQUFVLEVBQU8sT0FBTyxPQUFRLEVBQU8sTUFBTyxDQUFLLE1BRXhELE1BQUssSUFBSSxJQUFJLEVBQU8sS0FBTSxDQUFLLEVBTXZDLFNBQVMsQ0FBQyxFQUFRLENBQ2QsT0FBTyxFQUFPLE9BQVMsS0FBSyxVQUFVLEVBQU8sT0FBTyxPQUFRLEVBQU8sS0FBSyxFQUFJLEtBQUssSUFBSSxJQUFJLEVBQU8sSUFBSSxFQUU1RyxDQVdBLE1BQU0sRUFBYSxDQU9mLFdBQVcsQ0FNWCxFQUlBLEVBSUEsRUFPQSxFQUFRLEVBQVksR0FBTyxFQUFVLEdBQU8sQ0FDeEMsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBQ1YsS0FBSyxLQUFPLEVBQ1osS0FBSyxPQUFTLEVBQ2QsS0FBSyxNQUFRLEVBQVksRUFBcUIsSUFBTSxFQUFVLEVBQW1CLE1BUWpGLFVBQVMsRUFBRyxDQUFFLE9BQVEsS0FBSyxLQUFPLEdBQXNCLEtBS3hELFFBQU8sRUFBRyxDQUFFLE9BQVEsS0FBSyxLQUFPLEdBQW9CLFFBU2pELFFBQU8sQ0FBQyxFQUFNLEVBQVksQ0FBQyxFQUFHLEVBQVUsR0FBTyxDQUNsRCxJQUFJLEVBQVMsQ0FBQyxJQUFJLEdBQWEsRUFBRyxFQUFLLE9BQVEsRUFBTSxFQUFHLEdBQU8sQ0FBTyxDQUFDLEVBQ3ZFLFFBQVMsS0FBSyxFQUNWLEdBQUksRUFBRSxHQUFLLEVBQUssT0FDWixFQUFPLEtBQUssQ0FBQyxFQUNyQixPQUFPLFFBT0osYUFBWSxDQUFDLEVBQVcsRUFBUyxFQUFTLElBQUssQ0FDbEQsSUFBSyxFQUFRLE9BQ1QsT0FBTyxFQUNYLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBSyxFQUFHLEVBQVEsRUFBVSxPQUFTLEVBQVUsR0FBSyxLQUN0RCxRQUFTLEVBQUssRUFBRyxFQUFNLEVBQUcsRUFBTSxHQUFJLElBQU0sQ0FDdEMsSUFBSSxFQUFRLEVBQUssRUFBUSxPQUFTLEVBQVEsR0FBTSxLQUM1QyxFQUFVLEVBQVEsRUFBTSxNQUFRLElBQ3BDLEdBQUksRUFBVSxHQUFPLEVBQ2pCLE1BQU8sR0FBUyxFQUFNLEtBQU8sRUFBUyxDQUNsQyxJQUFJLEVBQU0sRUFDVixHQUFJLEdBQU8sRUFBSSxNQUFRLEdBQVcsRUFBSSxJQUFNLEVBQUssQ0FDN0MsSUFBSSxFQUFRLEtBQUssSUFBSSxFQUFJLEtBQU0sQ0FBRyxFQUFJLEVBQUssRUFBTSxLQUFLLElBQUksRUFBSSxHQUFJLENBQU8sRUFBSSxFQUM3RSxFQUFNLEdBQVMsRUFBTSxLQUFPLElBQUksR0FBYSxFQUFPLEVBQUssRUFBSSxLQUFNLEVBQUksT0FBUyxFQUFLLEVBQUssSUFBSyxDQUFLLEVBRXhHLEdBQUksRUFDQSxFQUFPLEtBQUssQ0FBRyxFQUNuQixHQUFJLEVBQU0sR0FBSyxFQUNYLE1BQ0osRUFBUSxFQUFLLEVBQVUsT0FBUyxFQUFVLEtBQVEsS0FFMUQsSUFBSyxFQUNELE1BQ0osRUFBTSxFQUFNLElBQ1osRUFBTSxFQUFNLElBQU0sRUFBTSxJQUU1QixPQUFPLEVBRWYsQ0FJQSxNQUFNLEVBQU8sQ0FXVCxVQUFVLENBQUMsRUFBTyxFQUFXLEVBQVEsQ0FDakMsVUFBVyxHQUFTLFNBQ2hCLEVBQVEsSUFBSSxHQUFZLENBQUssRUFFakMsT0FEQSxHQUFVLEVBQVMsQ0FBQyxJQUFJLEdBQU0sRUFBRyxFQUFNLE1BQU0sQ0FBQyxFQUFJLEVBQU8sT0FBUyxFQUFPLElBQUksS0FBSyxJQUFJLEdBQU0sRUFBRSxLQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUksQ0FBQyxJQUFJLEdBQU0sRUFBRyxDQUFDLENBQUMsRUFDdEgsS0FBSyxZQUFZLEVBQU8sR0FBYSxDQUFDLEVBQUcsQ0FBTSxFQUsxRCxLQUFLLENBQUMsRUFBTyxFQUFXLEVBQVEsQ0FDNUIsSUFBSSxFQUFRLEtBQUssV0FBVyxFQUFPLEVBQVcsQ0FBTSxFQUNwRCxPQUFTLENBQ0wsSUFBSSxFQUFPLEVBQU0sUUFBUSxFQUN6QixHQUFJLEVBQ0EsT0FBTyxHQUd2QixDQUNBLE1BQU0sRUFBWSxDQUNkLFdBQVcsQ0FBQyxFQUFRLENBQ2hCLEtBQUssT0FBUyxLQUVkLE9BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLE9BQ2xDLEtBQUssQ0FBQyxFQUFNLENBQUUsT0FBTyxLQUFLLE9BQU8sTUFBTSxDQUFJLEtBQ3ZDLFdBQVUsRUFBRyxDQUFFLE1BQU8sR0FDMUIsSUFBSSxDQUFDLEVBQU0sRUFBSSxDQUFFLE9BQU8sS0FBSyxPQUFPLE1BQU0sRUFBTSxDQUFFLEVBQ3RELENBWUEsTUFBTSxFQUFXLENBQ2IsV0FBVyxDQUFDLEVBQVEsRUFBTyxFQUFTLEVBQVEsRUFBTSxDQUM5QyxLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsRUFDYixLQUFLLFFBQVUsRUFDZixLQUFLLE9BQVMsRUFDZCxLQUFLLEtBQU8sRUFFcEIsQ0FLQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUFDLEVBQVEsRUFBVyxFQUFRLEVBQU8sRUFBTyxFQUFRLEVBQU0sQ0FDL0QsS0FBSyxPQUFTLEVBQ2QsS0FBSyxVQUFZLEVBQ2pCLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxFQUNiLEtBQUssTUFBUSxFQUNiLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxFQUNiLEtBQUssT0FBUyxDQUFDLEVBRXZCLENBQ0EsSUFBTSxHQUFlLElBQUksRUFBUyxDQUFFLFFBQVMsRUFBSyxDQUFDLEVBQ25ELE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FBQyxFQUFNLEVBQU0sRUFBTyxFQUFXLEVBQVEsQ0FDOUMsS0FBSyxLQUFPLEVBQ1osS0FBSyxNQUFRLEVBQ2IsS0FBSyxVQUFZLEVBQ2pCLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxDQUFDLEVBQ2QsS0FBSyxVQUFZLEVBQ2pCLEtBQUssU0FBVyxLQUNoQixLQUFLLFVBQVksS0FDakIsS0FBSyxVQUFZLEVBRXJCLE9BQU8sRUFBRyxDQUNOLEdBQUksS0FBSyxVQUFXLENBQ2hCLElBQUksRUFBTyxLQUFLLFVBQVUsUUFBUSxFQUNsQyxJQUFLLEVBQ0QsT0FBTyxLQUlYLEdBSEEsS0FBSyxVQUFZLEtBQ2pCLEtBQUssU0FBVyxFQUNoQixLQUFLLFdBQVcsRUFDWixLQUFLLFdBQWEsS0FDbEIsUUFBUyxLQUFTLEtBQUssTUFDbkIsRUFBTSxNQUFNLE9BQU8sS0FBSyxTQUFTLEVBRTdDLEdBQUksS0FBSyxXQUFhLEtBQUssTUFBTSxPQUFRLENBQ3JDLElBQUksRUFBUyxLQUFLLFNBQ2xCLEdBQUksS0FBSyxXQUFhLEtBQ2xCLEVBQVMsSUFBSSxFQUFLLEVBQU8sS0FBTSxFQUFPLFNBQVUsRUFBTyxVQUFXLEVBQU8sT0FBUSxFQUFPLFdBQVcsT0FBTyxDQUFDLENBQUMsR0FBYyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFDL0ksT0FBTyxFQUVYLElBQUksRUFBUSxLQUFLLE1BQU0sS0FBSyxXQUFZLEVBQU8sRUFBTSxNQUFNLFFBQVEsRUFDbkUsR0FBSSxFQUFNLENBQ04sS0FBSyxZQUtMLElBQUksRUFBUSxPQUFPLE9BQU8sT0FBTyxPQUFPLElBQUksRUFBRyxFQUFNLE9BQU8sS0FBSyxFQUNqRSxFQUFNLEVBQVMsUUFBUSxJQUFNLElBQUksR0FBWSxFQUFNLEVBQU0sUUFBUyxFQUFNLE1BQU0sRUFDOUUsRUFBTSxPQUFPLE1BQVEsRUFFekIsT0FBTyxRQUVQLFVBQVMsRUFBRyxDQUNaLEdBQUksS0FBSyxVQUNMLE1BQU8sR0FDWCxJQUFJLEVBQU0sS0FBSyxNQUFNLE9BQ3JCLFFBQVMsRUFBSSxLQUFLLFVBQVcsRUFBSSxLQUFLLE1BQU0sT0FBUSxJQUNoRCxHQUFJLEtBQUssTUFBTSxHQUFHLEtBQU8sRUFDckIsRUFBTSxLQUFLLElBQUksRUFBSyxLQUFLLE1BQU0sR0FBRyxNQUFNLFNBQVMsRUFFekQsT0FBTyxFQUVYLE1BQU0sQ0FBQyxFQUFLLENBRVIsR0FEQSxLQUFLLFVBQVksRUFDYixLQUFLLFVBQ0wsS0FBSyxVQUFVLE9BQU8sQ0FBRyxNQUV6QixTQUFTLEVBQUksS0FBSyxVQUFXLEVBQUksS0FBSyxNQUFNLE9BQVEsSUFDaEQsS0FBSyxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUcsRUFFMUMsVUFBVSxFQUFHLENBQ1QsSUFBSSxFQUFpQixJQUFJLEdBQWUsS0FBSyxTQUFTLEVBQ2xELEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBUyxJQUFJLEdBQVcsSUFBSSxHQUFTLEtBQUssU0FBVSxLQUFLLE9BQU8sR0FBRyxLQUFNLEVBQUcsSUFBSSxFQUFHLEVBQVMsaUJBQW1CLEVBQVMsWUFBWSxFQUN4SSxFQUFNLFFBQVMsRUFBTSxJQUFhLENBQzlCLElBQUksRUFBUSxHQUFNLEVBQ2xCLEdBQUksS0FBSyxXQUFhLE1BQVEsRUFBTyxNQUFRLEtBQUssVUFDOUMsRUFBUSxXQUVILEVBQWUsUUFBUSxDQUFNLEVBQUcsQ0FDckMsR0FBSSxFQUFTLENBQ1QsSUFBSSxFQUFRLEVBQVEsT0FBTyxLQUFLLEtBQUssRUFBRSxLQUFLLE1BQVEsRUFBTyxNQUFRLEVBQUUsS0FBSyxJQUFNLEVBQU8sSUFBTSxFQUFFLE1BQU0sT0FBTyxFQUM1RyxHQUFJLEVBQ0EsUUFBUyxLQUFLLEVBQU0sTUFBTSxRQUFTLENBQy9CLElBQUksRUFBTyxFQUFFLEtBQU8sRUFBTSxJQUFLLEVBQUssRUFBRSxHQUFLLEVBQU0sSUFDakQsR0FBSSxHQUFRLEVBQU8sTUFBUSxHQUFNLEVBQU8sS0FBTyxFQUFRLE9BQU8sS0FBSyxLQUFLLEVBQUUsS0FBTyxHQUFNLEVBQUUsR0FBSyxDQUFJLEVBQzlGLEVBQVEsT0FBTyxLQUFLLENBQUUsT0FBTSxJQUFHLENBQUMsR0FHaEQsRUFBUSxXQUVILElBQVksRUFBWSxHQUFXLEVBQVEsT0FBUSxFQUFPLEtBQU0sRUFBTyxFQUFFLEdBQzlFLEVBQVEsR0FBYSxXQUVmLEVBQU8sS0FBSyxjQUFnQixFQUFPLEtBQUssS0FBSyxFQUFRLEtBQUssS0FBSyxLQUNwRSxFQUFPLEtBQU8sRUFBTyxLQUFPLEVBQUssU0FBVSxDQUM1QyxJQUFLLEVBQU8sS0FDUixHQUFZLENBQU0sRUFDdEIsSUFBSSxFQUFZLEVBQWUsV0FBVyxFQUFPLEtBQU0sRUFBSyxNQUFNLEVBQ2xFLFVBQVcsRUFBSyxTQUFXLFdBQ3ZCLEVBQVUsSUFBSSxHQUFjLEVBQUssT0FBUSxFQUFLLFFBQVMsRUFBVyxLQUFLLE1BQU0sT0FBUSxFQUFPLEtBQU0sRUFBTyxLQUFNLENBQU8sTUFFckgsQ0FDRCxJQUFJLEVBQVMsR0FBWSxLQUFLLE9BQVEsRUFBSyxVQUN0QyxFQUFPLEtBQU8sRUFBTyxHQUFLLENBQUMsSUFBSSxHQUFNLEVBQU8sS0FBTSxFQUFPLEVBQUUsQ0FBQyxFQUFJLENBQUMsRUFBRSxFQUN4RSxHQUFJLEVBQU8sT0FDUCxHQUFZLENBQU0sRUFDdEIsR0FBSSxFQUFPLFNBQVcsRUFBSyxRQUN2QixLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQVcsRUFBSyxPQUFRLEVBQU8sT0FBUyxFQUFLLE9BQU8sV0FBVyxLQUFLLE1BQU8sR0FBZSxFQUFXLENBQU0sRUFBRyxDQUFNLEVBQ2xJLEVBQUssT0FBTyxXQUFXLEVBQUUsRUFBRyxFQUFLLFFBQVUsRUFBSyxRQUFRLElBQUksS0FBSyxJQUFJLEdBQU0sRUFBRSxLQUFPLEVBQU8sS0FBTSxFQUFFLEdBQUssRUFBTyxJQUFJLENBQUMsRUFBSSxLQUFNLEVBQU8sS0FBTSxFQUFPLE9BQVMsRUFBTyxHQUFHLEtBQU8sRUFBTyxJQUFJLENBQUMsRUFDbE0sSUFBSyxFQUFLLFFBQ04sRUFBUSxXQUNILEVBQU8sT0FDWixFQUFVLENBQUUsU0FBUSxNQUFPLEVBQUcsS0FBTSxDQUFRLFdBRy9DLElBQVksRUFBUSxFQUFRLFVBQVUsQ0FBTSxHQUFJLENBQ3JELEdBQUksSUFBVSxHQUNWLEVBQVEsSUFBSSxHQUFNLEVBQU8sS0FBTSxFQUFPLEVBQUUsRUFDNUMsR0FBSSxFQUFNLEtBQU8sRUFBTSxHQUNuQixFQUFRLE9BQU8sS0FBSyxDQUFLLEVBRWpDLEdBQUksR0FBUyxFQUFPLFdBQVcsRUFBRyxDQUM5QixHQUFJLEVBQ0EsRUFBUSxRQUNaLEdBQUksRUFDQSxFQUFRLFlBR1osUUFBUyxDQUNMLEdBQUksRUFBTyxZQUFZLEVBQ25CLE1BQ0osSUFBSyxFQUFPLE9BQU8sRUFDZixRQUNKLEdBQUksTUFBYyxFQUFRLE1BQU8sQ0FDN0IsSUFBSSxFQUFTLEdBQVksS0FBSyxPQUFRLEVBQVEsTUFBTSxFQUNwRCxHQUFJLEVBQU8sT0FDUCxHQUFZLENBQU0sRUFDbEIsS0FBSyxNQUFNLE9BQU8sRUFBUSxNQUFPLEVBQUcsSUFBSSxHQUFXLEVBQVEsT0FBUSxFQUFRLE9BQU8sV0FBVyxLQUFLLE1BQU8sR0FBZSxFQUFRLE9BQVEsQ0FBTSxFQUFHLENBQU0sRUFBRyxFQUFRLE9BQU8sSUFBSSxLQUFLLElBQUksR0FBTSxFQUFFLEtBQU8sRUFBUSxNQUFPLEVBQUUsR0FBSyxFQUFRLEtBQUssQ0FBQyxFQUFHLEVBQVEsT0FBUSxFQUFPLEdBQUcsSUFBSSxDQUFDLEVBRS9RLEVBQVUsRUFBUSxLQUV0QixHQUFJLE1BQWMsRUFBUSxNQUN0QixFQUFVLEVBQVEsT0FLMUMsQ0EwREEsTUFBTSxFQUFnQixDQUNsQixXQUFXLENBQUMsRUFBTSxFQUFRLENBQ3RCLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxHQUNaLEtBQUssT0FBUyxFQUFLLE9BQU8sRUFBUyxpQkFBbUIsRUFBUyxZQUFZLEVBRy9FLE1BQU0sQ0FBQyxFQUFLLENBQ1IsSUFBTSxVQUFXLEtBQU0sRUFBSSxFQUFNLEtBQUssT0FDdEMsT0FBUSxLQUFLLE1BQVEsRUFBTyxLQUFPLEVBQy9CLEdBQUksRUFBTyxJQUFNLEdBQU8sRUFBTyxNQUFNLEVBQUcsRUFBRyxFQUFTLGVBQWlCLEVBQVMsY0FBYyxZQUNsRixFQUFPLEtBQUssRUFBSyxFQUN2QixLQUFLLEtBQU8sR0FHeEIsT0FBTyxDQUFDLEVBQVEsQ0FFWixHQURBLEtBQUssT0FBTyxFQUFPLElBQUksR0FDbEIsS0FBSyxNQUFRLEtBQUssT0FBTyxLQUFPLEtBQUssUUFBVSxFQUFPLE1BQVEsS0FBSyxPQUFPLEtBQzNFLFFBQVMsRUFBTyxLQUFLLE9BQU8sT0FBUSxDQUNoQyxHQUFJLEdBQVEsRUFBTyxLQUNmLE1BQU8sR0FDWCxHQUFJLEVBQUssU0FBUyxRQUFVLEVBQUssVUFBVSxJQUFNLEdBQUssRUFBSyxTQUFTLGFBQWMsRUFDOUUsRUFBTyxFQUFLLFNBQVMsT0FFckIsT0FHWixNQUFPLEdBRWYsQ0FDQSxNQUFNLEVBQWUsQ0FDakIsV0FBVyxDQUFDLEVBQVcsQ0FDbkIsSUFBSSxFQUlKLEdBSEEsS0FBSyxVQUFZLEVBQ2pCLEtBQUssTUFBUSxFQUNiLEtBQUssTUFBUSxFQUNULEVBQVUsT0FBUSxDQUNsQixJQUFJLEVBQVEsS0FBSyxRQUFVLEVBQVUsR0FDckMsS0FBSyxPQUFTLEVBQUssRUFBTSxLQUFLLEtBQUssRUFBWSxLQUFPLE1BQVEsSUFBWSxPQUFJLEVBQUssRUFBTSxHQUN6RixLQUFLLE1BQVEsSUFBSSxHQUFnQixFQUFNLE1BQU8sRUFBTSxNQUFNLE1BRzFELE1BQUssUUFBVSxLQUFLLE1BQVEsS0FHcEMsT0FBTyxDQUFDLEVBQU0sQ0FDVixNQUFPLEtBQUssU0FBVyxFQUFLLE1BQVEsS0FBSyxNQUNyQyxLQUFLLFNBQVMsRUFDbEIsT0FBTyxLQUFLLFNBQVcsS0FBSyxRQUFRLE1BQVEsRUFBSyxNQUFRLEtBQUssT0FBUyxFQUFLLElBQU0sS0FBSyxNQUFNLFFBQVEsQ0FBSSxFQUU3RyxRQUFRLEVBQUcsQ0FDUCxJQUFJLEVBRUosR0FEQSxLQUFLLFFBQ0QsS0FBSyxPQUFTLEtBQUssVUFBVSxPQUM3QixLQUFLLFFBQVUsS0FBSyxNQUFRLFNBRTNCLENBQ0QsSUFBSSxFQUFPLEtBQUssUUFBVSxLQUFLLFVBQVUsS0FBSyxPQUM5QyxLQUFLLE9BQVMsRUFBSyxFQUFLLEtBQUssS0FBSyxFQUFZLEtBQU8sTUFBUSxJQUFZLE9BQUksRUFBSyxFQUFLLEdBQ3ZGLEtBQUssTUFBUSxJQUFJLEdBQWdCLEVBQUssTUFBTyxFQUFLLE1BQU0sR0FHaEUsVUFBVSxDQUFDLEVBQUssRUFBUSxDQUNwQixJQUFJLEVBQ0osSUFBSSxFQUFTLENBQUMsRUFDZCxHQUFJLEtBQUssTUFBTyxDQUNaLEtBQUssTUFBTSxPQUFPLE9BQU8sRUFBSyxDQUFDLEVBQy9CLFFBQVMsRUFBTSxLQUFLLE1BQU0sT0FBTyxLQUFNLEVBQUssRUFBTSxFQUFJLE9BQVEsQ0FDMUQsSUFBSSxHQUFTLEVBQUssRUFBSSxRQUFVLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxLQUFLLEVBQVMsT0FBTyxFQUN6RixHQUFJLEdBQVMsRUFBTSxRQUFVLEVBQ3pCLFFBQVMsRUFBSSxLQUFLLE1BQU8sRUFBSSxLQUFLLFVBQVUsT0FBUSxJQUFLLENBQ3JELElBQUksRUFBTyxLQUFLLFVBQVUsR0FDMUIsR0FBSSxFQUFLLE1BQVEsRUFBSSxHQUNqQixNQUNKLEdBQUksRUFBSyxNQUFRLEtBQUssUUFBUSxLQUMxQixFQUFPLEtBQUssQ0FDUixPQUNBLElBQUssRUFBSSxLQUFPLEVBQUssT0FDckIsT0FDSixDQUFDLElBS3JCLE9BQU8sRUFFZixDQ242REEsU0FBUyxFQUFTLENBQUMsRUFBRyxFQUFHLENBQ3JCLE9BQU8sRUFBRSxRQUFVLEVBQUUsUUFBVSxFQUFFLE1BQU0sQ0FBQyxFQUFHLElBQU0sR0FBSyxFQUFFLEVBQUUsRUFFOUQsU0FBUyxFQUFRLENBQUMsRUFBTyxDQUNyQixJQUFJLEVBQU8sQ0FBQyxDQUFDLENBQUMsRUFDZCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUM5QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxFQUFJLEVBQUcsSUFDcEMsRUFBSyxLQUFLLEVBQUssR0FBRyxPQUFPLEVBQU0sRUFBRSxDQUFDLEVBRzFDLE9BQU8sRUFBSyxLQUFLLENBQUMsRUFBRyxJQUFNLEVBQUUsT0FBUyxFQUFFLE1BQU0sRUFxRGxELFNBQVMsRUFBUyxDQUFDLEVBQU0sQ0FDckIsSUFBSSxFQUFTLE9BQU8sT0FBTyxJQUFJLEVBQy9CLFFBQVMsS0FBUSxFQUFNLENBQ25CLElBQUksRUFBTyxFQUFLLEdBQ2hCLElBQUssTUFBTSxRQUFRLENBQUksRUFDbkIsRUFBTyxDQUFDLENBQUksRUFDaEIsUUFBUyxLQUFRLEVBQUssTUFBTSxHQUFHLEVBQzNCLEdBQUksRUFBTSxDQUNOLElBQUksRUFBUyxDQUFDLEVBQUcsRUFBTyxFQUFxQixFQUFPLEVBQ3BELFFBQVMsRUFBTSxJQUFLLENBQ2hCLEdBQUksR0FBUSxPQUFTLEVBQU0sR0FBSyxFQUFNLEdBQUssRUFBSyxPQUFRLENBQ3BELEVBQU8sRUFDUCxNQUVKLElBQUksRUFBSSw4QkFBOEIsS0FBSyxDQUFJLEVBQy9DLElBQUssRUFDRCxNQUFNLElBQUksV0FBVyxpQkFBbUIsQ0FBSSxFQUdoRCxHQUZBLEVBQU8sS0FBSyxFQUFFLElBQU0sSUFBTSxHQUFLLEVBQUUsR0FBRyxJQUFNLElBQU0sS0FBSyxNQUFNLEVBQUUsRUFBRSxFQUFJLEVBQUUsRUFBRSxFQUN2RSxHQUFPLEVBQUUsR0FBRyxPQUNSLEdBQU8sRUFBSyxPQUNaLE1BQ0osSUFBSSxFQUFPLEVBQUssS0FDaEIsR0FBSSxHQUFPLEVBQUssUUFBVSxHQUFRLElBQUssQ0FDbkMsRUFBTyxFQUNQLE1BRUosR0FBSSxHQUFRLElBQ1IsTUFBTSxJQUFJLFdBQVcsaUJBQW1CLENBQUksRUFDaEQsRUFBTyxFQUFLLE1BQU0sQ0FBRyxFQUV6QixJQUFJLEVBQU8sRUFBTyxPQUFTLEVBQUcsRUFBUSxFQUFPLEdBQzdDLElBQUssRUFDRCxNQUFNLElBQUksV0FBVyxpQkFBbUIsQ0FBSSxFQUNoRCxJQUFJLEVBQU8sSUFBSSxHQUFLLEVBQU0sRUFBTSxFQUFPLEVBQUksRUFBTyxNQUFNLEVBQUcsQ0FBSSxFQUFJLElBQUksRUFDdkUsRUFBTyxHQUFTLEVBQUssS0FBSyxFQUFPLEVBQU0sR0FHbkQsT0FBTyxHQUFhLElBQUksQ0FBTSxFQTRCbEMsU0FBUyxFQUFjLENBQUMsRUFBTSxFQUFTLENBQ25DLElBQUksRUFBTSxPQUFPLE9BQU8sSUFBSSxFQUM1QixRQUFTLEtBQVMsRUFDZCxJQUFLLE1BQU0sUUFBUSxFQUFNLEdBQUcsRUFDeEIsRUFBSSxFQUFNLElBQUksSUFBTSxFQUFNLFVBRTFCLFNBQVMsS0FBTyxFQUFNLElBQ2xCLEVBQUksRUFBSSxJQUFNLEVBQU0sTUFFaEMsSUFBTSxRQUFPLE1BQU0sTUFBUyxHQUFXLENBQUMsRUFDeEMsTUFBTyxDQUNILE1BQU8sQ0FBQyxJQUFTLENBQ2IsSUFBSSxFQUFNLEVBQ1YsUUFBUyxLQUFPLEVBQ1osUUFBUyxLQUFPLEVBQUksSUFBSyxDQUNyQixJQUFJLEVBQVcsRUFBSSxFQUFJLElBQ3ZCLEdBQUksRUFBVSxDQUNWLEVBQU0sRUFBTSxFQUFNLElBQU0sRUFBVyxFQUNuQyxPQUlaLE9BQU8sR0FFWCxPQUNKLEVBRUosU0FBUyxFQUFhLENBQUMsRUFBYyxFQUFNLENBQ3ZDLElBQUksRUFBUyxLQUNiLFFBQVMsS0FBZSxFQUFjLENBQ2xDLElBQUksRUFBUSxFQUFZLE1BQU0sQ0FBSSxFQUNsQyxHQUFJLEVBQ0EsRUFBUyxFQUFTLEVBQVMsSUFBTSxFQUFRLEVBRWpELE9BQU8sRUFRWCxTQUFTLEVBQWEsQ0FBQyxFQUFNLEVBTTdCLEVBSUEsRUFBTyxFQUlQLEVBQUssRUFBSyxPQUFRLENBQ2QsSUFBSSxFQUFVLElBQUksR0FBaUIsRUFBTSxNQUFNLFFBQVEsQ0FBVyxFQUFJLEVBQWMsQ0FBQyxDQUFXLEVBQUcsQ0FBUSxFQUMzRyxFQUFRLGVBQWUsRUFBSyxPQUFPLEVBQUcsRUFBTSxFQUFJLEdBQUksRUFBUSxZQUFZLEVBQ3hFLEVBQVEsTUFBTSxDQUFFLEVBcUhwQixTQUFTLEVBQVksQ0FBQyxFQUFNLENBQ3hCLElBQUksRUFBTyxFQUFLLEtBQUssS0FBSyxFQUFZLEVBQ3RDLE1BQU8sR0FBUSxFQUFLLFVBQVksRUFBSyxhQUFhLEVBQUssT0FBTyxFQUMxRCxFQUFPLEVBQUssS0FDaEIsT0FBTyxHQUFRLEtBemFuQixJQUFJLEdBQVksRUFvQmhCLE1BQU0sRUFBSSxDQUlOLFdBQVcsQ0FJWCxFQUtBLEVBS0EsRUFJQSxFQUFVLENBQ04sS0FBSyxLQUFPLEVBQ1osS0FBSyxJQUFNLEVBQ1gsS0FBSyxLQUFPLEVBQ1osS0FBSyxTQUFXLEVBSWhCLEtBQUssR0FBSyxLQUVkLFFBQVEsRUFBRyxDQUNQLElBQU0sUUFBUyxLQUNmLFFBQVMsS0FBTyxLQUFLLFNBQ2pCLEdBQUksRUFBSSxLQUNKLEVBQU8sR0FBRyxFQUFJLFFBQVEsS0FDOUIsT0FBTyxRQUVKLE9BQU0sQ0FBQyxFQUFjLEVBQVEsQ0FDaEMsSUFBSSxTQUFjLEdBQWdCLFNBQVcsRUFBZSxJQUM1RCxHQUFJLGFBQXdCLEdBQ3hCLEVBQVMsRUFDYixHQUFJLElBQVcsTUFBUSxJQUFnQixPQUFTLE9BQUksRUFBTyxLQUN2RCxNQUFNLElBQUksTUFBTSxvQ0FBb0MsRUFDeEQsSUFBSSxFQUFNLElBQUksR0FBSSxFQUFNLENBQUMsRUFBRyxLQUFNLENBQUMsQ0FBQyxFQUVwQyxHQURBLEVBQUksSUFBSSxLQUFLLENBQUcsRUFDWixFQUNBLFFBQVMsS0FBSyxFQUFPLElBQ2pCLEVBQUksSUFBSSxLQUFLLENBQUMsRUFDdEIsT0FBTyxRQWNKLGVBQWMsQ0FBQyxFQUFNLENBQ3hCLElBQUksRUFBTSxJQUFJLEdBQVMsQ0FBSSxFQUMzQixNQUFPLENBQUMsSUFBUSxDQUNaLEdBQUksRUFBSSxTQUFTLFFBQVEsQ0FBRyxFQUFJLEdBQzVCLE9BQU8sRUFDWCxPQUFPLEdBQVMsSUFBSSxFQUFJLE1BQVEsRUFBSyxFQUFJLFNBQVMsT0FBTyxDQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUcsSUFBTSxFQUFFLEdBQUssRUFBRSxFQUFFLENBQUMsR0FHckcsQ0FDQSxJQUFJLEdBQWlCLEVBQ3JCLE1BQU0sRUFBUyxDQUNYLFdBQVcsQ0FBQyxFQUFNLENBQ2QsS0FBSyxLQUFPLEVBQ1osS0FBSyxVQUFZLENBQUMsRUFDbEIsS0FBSyxHQUFLLFdBRVAsSUFBRyxDQUFDLEVBQU0sRUFBTSxDQUNuQixJQUFLLEVBQUssT0FDTixPQUFPLEVBQ1gsSUFBSSxFQUFTLEVBQUssR0FBRyxVQUFVLEtBQUssS0FBSyxFQUFFLE1BQVEsR0FBUSxHQUFVLEVBQU0sRUFBRSxRQUFRLENBQUMsRUFDdEYsR0FBSSxFQUNBLE9BQU8sRUFDWCxJQUFJLEVBQU0sQ0FBQyxFQUFHLEVBQU0sSUFBSSxHQUFJLEVBQUssS0FBTSxFQUFLLEVBQU0sQ0FBSSxFQUN0RCxRQUFTLEtBQUssRUFDVixFQUFFLFVBQVUsS0FBSyxDQUFHLEVBQ3hCLElBQUksRUFBVSxHQUFTLENBQUksRUFDM0IsUUFBUyxLQUFVLEVBQUssSUFDcEIsSUFBSyxFQUFPLFNBQVMsT0FDakIsUUFBUyxLQUFVLEVBQ2YsRUFBSSxLQUFLLEdBQVMsSUFBSSxFQUFRLENBQU0sQ0FBQyxFQUNqRCxPQUFPLEVBRWYsQ0F1R0EsSUFBTSxHQUFlLElBQUksRUFDekIsTUFBTSxFQUFLLENBQ1AsV0FBVyxDQUFDLEVBQU0sRUFBTSxFQUFTLEVBQU0sQ0FDbkMsS0FBSyxLQUFPLEVBQ1osS0FBSyxLQUFPLEVBQ1osS0FBSyxRQUFVLEVBQ2YsS0FBSyxLQUFPLEtBRVosT0FBTSxFQUFHLENBQUUsT0FBTyxLQUFLLE1BQVEsS0FDL0IsUUFBTyxFQUFHLENBQUUsT0FBTyxLQUFLLE1BQVEsRUFDcEMsSUFBSSxDQUFDLEVBQU8sQ0FDUixJQUFLLEdBQVMsRUFBTSxNQUFRLEtBQUssTUFFN0IsT0FEQSxLQUFLLEtBQU8sRUFDTCxLQUdYLE9BREEsRUFBTSxLQUFPLEtBQUssS0FBSyxFQUFNLElBQUksRUFDMUIsS0FFUCxNQUFLLEVBQUcsQ0FBRSxPQUFPLEtBQUssUUFBVSxLQUFLLFFBQVEsT0FBUyxFQUM5RCxDQUNBLEdBQUssTUFBUSxJQUFJLEdBQUssQ0FBQyxFQUFHLEVBQXFCLElBQUksRUFnR25ELE1BQU0sRUFBaUIsQ0FDbkIsV0FBVyxDQUFDLEVBQUksRUFBYyxFQUFNLENBQ2hDLEtBQUssR0FBSyxFQUNWLEtBQUssYUFBZSxFQUNwQixLQUFLLEtBQU8sRUFDWixLQUFLLE1BQVEsR0FFakIsU0FBUyxDQUFDLEVBQUksRUFBSyxDQUNmLEdBQUksR0FBTyxLQUFLLE1BQU8sQ0FFbkIsR0FEQSxLQUFLLE1BQU0sQ0FBRSxFQUNULEVBQUssS0FBSyxHQUNWLEtBQUssR0FBSyxFQUNkLEtBQUssTUFBUSxHQUdyQixLQUFLLENBQUMsRUFBSSxDQUNOLEdBQUksRUFBSyxLQUFLLElBQU0sS0FBSyxNQUNyQixLQUFLLEtBQUssS0FBSyxHQUFJLEVBQUksS0FBSyxLQUFLLEVBRXpDLGNBQWMsQ0FBQyxFQUFRLEVBQU0sRUFBSSxFQUFnQixFQUFjLENBQzNELElBQU0sT0FBTSxLQUFNLEVBQU8sR0FBSSxHQUFRLEVBQ3JDLEdBQUksR0FBUyxHQUFNLEdBQU8sRUFDdEIsT0FDSixHQUFJLEVBQUssTUFDTCxFQUFlLEtBQUssYUFBYSxPQUFPLE1BQU0sRUFBRSxPQUFTLEVBQUUsTUFBTSxDQUFJLENBQUMsRUFDMUUsSUFBSSxFQUFNLEVBQ04sRUFBTyxHQUFhLENBQU0sR0FBSyxHQUFLLE1BQ3BDLEVBQVMsR0FBYyxFQUFjLEVBQUssSUFBSSxFQUNsRCxHQUFJLEVBQVEsQ0FDUixHQUFJLEVBQ0EsR0FBTyxJQUVYLEdBREEsR0FBTyxFQUNILEVBQUssTUFBUSxFQUNiLElBQW1CLEVBQWlCLElBQU0sSUFBTSxFQUd4RCxHQURBLEtBQUssVUFBVSxLQUFLLElBQUksRUFBTSxDQUFLLEVBQUcsQ0FBRyxFQUNyQyxFQUFLLE9BQ0wsT0FDSixJQUFJLEVBQVUsRUFBTyxNQUFRLEVBQU8sS0FBSyxLQUFLLEVBQVMsT0FBTyxFQUM5RCxHQUFJLEdBQVcsRUFBUSxRQUFTLENBQzVCLElBQUksRUFBUSxFQUFPLEtBQUssTUFBTSxFQUFRLFFBQVEsR0FBRyxLQUFPLEVBQU8sQ0FBQyxFQUM1RCxFQUFvQixLQUFLLGFBQWEsT0FBTyxNQUFNLEVBQUUsT0FBUyxFQUFFLE1BQU0sRUFBUSxLQUFLLElBQUksQ0FBQyxFQUN4RixFQUFXLEVBQU8sV0FBVyxFQUNqQyxRQUFTLEVBQUksRUFBRyxFQUFNLEdBQVEsSUFBSyxDQUMvQixJQUFJLEVBQU8sRUFBSSxFQUFRLFFBQVEsT0FBUyxFQUFRLFFBQVEsR0FBSyxLQUN6RCxFQUFVLEVBQU8sRUFBSyxLQUFPLEVBQVEsRUFDckMsRUFBWSxLQUFLLElBQUksRUFBTSxDQUFHLEVBQUcsRUFBVSxLQUFLLElBQUksRUFBSSxDQUFPLEVBQ25FLEdBQUksRUFBWSxHQUFXLEdBQ3ZCLE1BQU8sRUFBTyxLQUFPLEVBR2pCLEdBRkEsS0FBSyxlQUFlLEVBQVEsRUFBVyxFQUFTLEVBQWdCLENBQVksRUFDNUUsS0FBSyxVQUFVLEtBQUssSUFBSSxFQUFTLEVBQU8sRUFBRSxFQUFHLENBQUcsRUFDNUMsRUFBTyxJQUFNLElBQVksRUFBTyxZQUFZLEVBQzVDLE1BR1osSUFBSyxHQUFRLEVBQVUsRUFDbkIsTUFFSixHQURBLEVBQU0sRUFBSyxHQUFLLEVBQ1osRUFBTSxFQUNOLEtBQUssZUFBZSxFQUFNLE9BQU8sRUFBRyxLQUFLLElBQUksRUFBTSxFQUFLLEtBQU8sQ0FBSyxFQUFHLEtBQUssSUFBSSxFQUFJLENBQUcsRUFBRyxHQUFJLENBQWlCLEVBQy9HLEtBQUssVUFBVSxLQUFLLElBQUksRUFBSSxDQUFHLEVBQUcsQ0FBRyxFQUc3QyxHQUFJLEVBQ0EsRUFBTyxPQUFPLFVBRWIsRUFBTyxXQUFXLEVBQUcsQ0FDMUIsR0FBSSxFQUNBLEVBQWlCLEdBQ3JCLEVBQUcsQ0FDQyxHQUFJLEVBQU8sSUFBTSxFQUNiLFNBQ0osR0FBSSxFQUFPLE1BQVEsRUFDZixNQUNKLEtBQUssZUFBZSxFQUFRLEVBQU0sRUFBSSxFQUFnQixDQUFZLEVBQ2xFLEtBQUssVUFBVSxLQUFLLElBQUksRUFBSSxFQUFPLEVBQUUsRUFBRyxDQUFHLFFBQ3RDLEVBQU8sWUFBWSxHQUM1QixFQUFPLE9BQU8sR0FHMUIsQ0FZQSxJQUFNLEVBQUksR0FBSSxPQUNSLEdBQVUsRUFBRSxFQUFHLEdBQU8sRUFBRSxFQUFHLEdBQVcsRUFBRSxFQUFJLEVBQUcsR0FBZSxFQUFFLEVBQUksRUFBRyxHQUFVLEVBQUUsRUFBRyxHQUFTLEVBQUUsRUFBTyxFQUFHLEdBQVMsRUFBRSxFQUFPLEVBQUcsR0FBVSxFQUFFLEVBQUcsR0FBVSxFQUFFLEVBQU8sRUFBRyxHQUFVLEVBQUUsRUFBRyxHQUFXLEVBQUUsRUFBRyxHQUFjLEVBQUUsRUFBRyxHQUFVLEVBQUUsRUFBVyxFQUFHLEdBQU8sRUFBRSxFQXFCMVAsRUFBTyxDQUlULFdBSUEsWUFBYSxFQUFFLEVBQU8sRUFJdEIsYUFBYyxFQUFFLEVBQU8sRUFJdkIsV0FBWSxFQUFFLEVBQU8sRUFJckIsUUFJQSxhQUFjLEVBQUUsRUFBSSxFQUlwQixTQUFVLEdBSVYsUUFBUyxFQUFFLEVBQVEsRUFJbkIsYUFBYyxHQUlkLGNBQWUsRUFBRSxFQUFZLEVBSTdCLFVBQVcsRUFBRSxFQUFJLEVBSWpCLFVBQVcsRUFBRSxFQUFJLEVBSWpCLFVBQVcsRUFBRSxFQUFJLEVBSWpCLFVBQVcsRUFBRSxFQUFJLEVBSWpCLFdBSUEsVUFJQSxVQUFXLEVBQUUsRUFBTSxFQUluQixVQUFXLEVBQUUsRUFBTSxFQUluQixlQUFnQixFQUFFLEVBQU0sRUFJeEIsVUFJQSxRQUFTLEVBQUUsRUFBTSxFQUlqQixNQUFPLEVBQUUsRUFBTSxFQUlmLEtBQU0sRUFBRSxFQUFPLEVBSWYsT0FBUSxFQUFFLEVBQU8sRUFLakIsT0FBUSxFQUFFLEVBQU8sRUFJakIsTUFBTyxFQUFFLEVBQU8sRUFJaEIsSUFBSyxFQUFFLEVBQU8sRUFJZCxXQUtBLEtBQU0sRUFBRSxFQUFPLEVBSWYsS0FBTSxFQUFFLEVBQU8sRUFJZixLQUFNLEVBQUUsRUFBTyxFQUlmLEtBQU0sRUFBRSxFQUFPLEVBSWYsU0FBVSxFQUFFLEVBQU8sRUFJbkIsZ0JBQWlCLEVBQUUsRUFBTyxFQUkxQixlQUFnQixFQUFFLEVBQU8sRUFJekIsa0JBQW1CLEVBQUUsRUFBTyxFQUs1QixjQUFlLEVBQUUsRUFBTyxFQUl4QixZQUlBLGNBQWUsRUFBRSxFQUFRLEVBSXpCLG1CQUFvQixFQUFFLEVBQVEsRUFJOUIsY0FBZSxFQUFFLEVBQVEsRUFJekIsZ0JBQWlCLEVBQUUsRUFBUSxFQUkzQixnQkFBaUIsRUFBRSxFQUFRLEVBSTNCLGVBQWdCLEVBQUUsRUFBUSxFQUkxQixtQkFBb0IsRUFBRSxFQUFRLEVBSTlCLGFBQWMsRUFBRSxFQUFRLEVBSXhCLGdCQUFpQixFQUFFLEVBQVEsRUFJM0IsZUFLQSxVQUFXLEVBQUUsRUFBVyxFQUl4QixXQUtBLGFBQWMsRUFBRSxFQUFPLEVBS3ZCLGNBQWUsRUFBRSxFQUFPLEVBS3hCLE1BQU8sRUFBRSxFQUFPLEVBS2hCLE1BQU8sRUFBRSxFQUFPLEVBSWhCLFdBSUEsV0FJQSxTQUFVLEVBQUUsRUFBTyxFQUluQixTQUFVLEVBQUUsRUFBTyxFQUluQixTQUFVLEVBQUUsRUFBTyxFQUluQixTQUFVLEVBQUUsRUFBTyxFQUluQixTQUFVLEVBQUUsRUFBTyxFQUluQixTQUFVLEVBQUUsRUFBTyxFQUluQixpQkFBa0IsRUFBRSxFQUFPLEVBSTNCLEtBQU0sRUFBRSxFQUFPLEVBSWYsTUFBTyxFQUFFLEVBQU8sRUFJaEIsU0FBVSxFQUFFLEVBQU8sRUFJbkIsT0FBUSxFQUFFLEVBQU8sRUFJakIsS0FBTSxFQUFFLEVBQU8sRUFLZixVQUFXLEVBQUUsRUFBTyxFQUtwQixjQUFlLEVBQUUsRUFBTyxFQUl4QixTQUFVLEVBQUUsRUFJWixRQUFTLEVBQUUsRUFJWCxRQUFTLEVBQUUsRUFJWCxRQUFTLEVBQUUsRUFJWCxRQUtBLGFBQWMsRUFBRSxFQUFJLEVBS3BCLFdBQVksRUFBRSxFQUFJLEVBS2xCLHNCQUF1QixFQUFFLEVBQUksRUFNN0IsV0FBWSxHQUFJLGVBQWUsWUFBWSxFQU0zQyxTQUFVLEdBQUksZUFBZSxVQUFVLEVBT3ZDLFNBQVUsR0FBSSxlQUFlLFVBQVUsRUFNdkMsU0FBVSxHQUFJLGVBQWUsVUFBVSxFQUt2QyxNQUFPLEdBQUksZUFBZSxPQUFPLEVBU2pDLFFBQVMsR0FBSSxlQUFlLFNBQVMsQ0FDekMsRUFDQSxRQUFTLEtBQVEsRUFBTSxDQUNuQixJQUFJLEVBQU0sRUFBSyxHQUNmLEdBQUksYUFBZSxHQUNmLEVBQUksS0FBTyxFQWtEbkIsSUFBTSxHQUFtQixHQUFlLENBQ3BDLENBQUUsSUFBSyxFQUFLLEtBQU0sTUFBTyxVQUFXLEVBQ3BDLENBQUUsSUFBSyxFQUFLLFFBQVMsTUFBTyxhQUFjLEVBQzFDLENBQUUsSUFBSyxFQUFLLFNBQVUsTUFBTyxjQUFlLEVBQzVDLENBQUUsSUFBSyxFQUFLLE9BQVEsTUFBTyxZQUFhLEVBQ3hDLENBQUUsSUFBSyxFQUFLLFFBQVMsTUFBTyxhQUFjLEVBQzFDLENBQUUsSUFBSyxFQUFLLEtBQU0sTUFBTyxVQUFXLEVBQ3BDLENBQUUsSUFBSyxFQUFLLEtBQU0sTUFBTyxVQUFXLEVBQ3BDLENBQUUsSUFBSyxFQUFLLElBQUssTUFBTyxTQUFVLEVBQ2xDLENBQUUsSUFBSyxFQUFLLFVBQVcsTUFBTyxlQUFnQixFQUM5QyxDQUFFLElBQUssRUFBSyxTQUFVLE1BQU8sY0FBZSxFQUM1QyxDQUFFLElBQUssRUFBSyxRQUFTLE1BQU8sYUFBYyxFQUMxQyxDQUFFLElBQUssRUFBSyxRQUFTLE1BQU8sYUFBYyxFQUMxQyxDQUFFLElBQUssRUFBSyxPQUFRLE1BQU8sWUFBYSxFQUN4QyxDQUFFLElBQUssRUFBSyxPQUFRLE1BQU8sWUFBYSxFQUN4QyxDQUFFLElBQUssQ0FBQyxFQUFLLE9BQVEsRUFBSyxPQUFRLEVBQUssUUFBUSxFQUFLLE1BQU0sQ0FBQyxFQUFHLE1BQU8sYUFBYyxFQUNuRixDQUFFLElBQUssRUFBSyxhQUFjLE1BQU8sa0JBQW1CLEVBQ3BELENBQUUsSUFBSyxFQUFLLE1BQU0sRUFBSyxZQUFZLEVBQUcsTUFBTyw0QkFBNkIsRUFDMUUsQ0FBRSxJQUFLLEVBQUssV0FBVyxFQUFLLFlBQVksRUFBRyxNQUFPLGlDQUFrQyxFQUNwRixDQUFFLElBQUssRUFBSyxRQUFRLEVBQUssWUFBWSxFQUFHLE1BQU8sbUJBQW9CLEVBQ25FLENBQUUsSUFBSyxFQUFLLFdBQVcsRUFBSyxZQUFZLEVBQUcsTUFBTyxpQ0FBa0MsRUFDcEYsQ0FBRSxJQUFLLEVBQUssU0FBVSxNQUFPLGNBQWUsRUFDNUMsQ0FBRSxJQUFLLEVBQUssVUFBVyxNQUFPLGVBQWdCLEVBQzlDLENBQUUsSUFBSyxFQUFLLFVBQVcsTUFBTyxlQUFnQixFQUM5QyxDQUFFLElBQUssRUFBSyxVQUFXLE1BQU8sZUFBZ0IsRUFDOUMsQ0FBRSxJQUFLLEVBQUssYUFBYyxNQUFPLGtCQUFtQixFQUNwRCxDQUFFLElBQUssRUFBSyxTQUFVLE1BQU8sY0FBZSxFQUM1QyxDQUFFLElBQUssRUFBSyxRQUFTLE1BQU8sYUFBYyxFQUMxQyxDQUFFLElBQUssRUFBSyxLQUFNLE1BQU8sVUFBVyxFQUNwQyxDQUFFLElBQUssRUFBSyxRQUFTLE1BQU8sYUFBYyxFQUMxQyxDQUFFLElBQUssRUFBSyxZQUFhLE1BQU8saUJBQWtCLENBQ3RELENBQUMsRUNqM0JELFNBQVMsRUFBbUIsQ0FBQyxFQUFVLENBQ25DLE9BQU8sRUFBTSxPQUFPLENBQ2hCLFFBQVMsRUFBVyxLQUFVLEVBQU8sT0FBTyxDQUFRLEVBQUksTUFDNUQsQ0FBQyxFQXdITCxTQUFTLEVBQVMsQ0FBQyxFQUFPLEVBQUssRUFBTSxDQUNqQyxJQUFJLEVBQVUsRUFBTSxNQUFNLEVBQVEsRUFBRyxFQUFPLEVBQVcsQ0FBSyxFQUFFLFFBQzlELElBQUssR0FBVyxFQUFRLGVBQ3BCLFFBQVMsRUFBTyxFQUFNLEVBQU0sRUFBTyxFQUFLLE1BQU0sRUFBSyxFQUFNLEVBQVMsY0FBYyxFQUM1RSxHQUFJLEVBQUssS0FBSyxNQUNWLEVBQU8sRUFFbkIsT0FBTyxFQW9DWCxTQUFTLENBQVUsQ0FBQyxFQUFPLENBQ3ZCLElBQUksRUFBUSxFQUFNLE1BQU0sR0FBUyxNQUFPLEVBQUssRUFDN0MsT0FBTyxFQUFRLEVBQU0sS0FBTyxFQUFLLE1Bd1VyQyxTQUFTLEVBQVksQ0FBQyxFQUFXLEVBQU0sRUFBSSxDQUN2QyxPQUFPLEdBQWEsYUFBYSxFQUFXLENBQUMsQ0FBRSxNQUFPLEVBQU0sSUFBSyxFQUFJLE1BQU8sRUFBTSxJQUFLLENBQUcsQ0FBQyxDQUFDLEVBaVRoRyxTQUFTLEVBQWEsQ0FBQyxFQUFPLENBQzFCLElBQUksRUFBTyxFQUFNLE1BQU0sRUFBVSxFQUNqQyxPQUFPLEVBQUssV0FBVyxDQUFDLEdBQUssRUFBSSxFQUFNLFFBQVUsRUFBSyxPQUFTLEVBQUssT0FReEUsU0FBUyxFQUFZLENBQUMsRUFBTyxFQUFNLENBQy9CLElBQUksRUFBUyxHQUFJLEVBQUssRUFBTSxRQUFTLEVBQUssRUFBTSxNQUFNLEVBQVUsRUFBRSxHQUNsRSxHQUFJLEdBQU0sS0FBTSxDQUNaLE1BQU8sR0FBUSxFQUNYLEdBQVUsS0FDVixHQUFRLEVBRVosRUFBSyxJQUVULFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxJQUN0QixHQUFVLEVBQ2QsT0FBTyxFQVdYLFNBQVMsRUFBYyxDQUFDLEVBQVMsRUFBSyxDQUNsQyxHQUFJLGFBQW1CLEVBQ25CLEVBQVUsSUFBSSxHQUFjLENBQU8sRUFDdkMsUUFBUyxLQUFXLEVBQVEsTUFBTSxNQUFNLEVBQWEsRUFBRyxDQUNwRCxJQUFJLEVBQVMsRUFBUSxFQUFTLENBQUcsRUFDakMsR0FBSSxJQUFXLE9BQ1gsT0FBTyxFQUVmLElBQUksRUFBTyxFQUFXLEVBQVEsS0FBSyxFQUNuQyxPQUFPLEVBQUssUUFBVSxFQUFNLEdBQWtCLEVBQVMsRUFBTSxDQUFHLEVBQUksS0FrSXhFLFNBQVMsRUFBaUIsQ0FBQyxFQUFJLEVBQUssRUFBSyxDQUNyQyxJQUFJLEVBQVEsRUFBSSxhQUFhLENBQUcsRUFDNUIsRUFBUSxFQUFNLEtBQUssMkJBQTJCLENBQUcsRUFDckQsR0FBSSxHQUFTLEVBQU0sS0FBTSxDQUNyQixJQUFJLEVBQU0sQ0FBQyxFQUNYLFFBQVMsRUFBTSxFQUFPLEdBQU8sRUFBTSxLQUFNLEVBQU0sRUFBSSxPQUMvQyxFQUFJLEtBQUssQ0FBRyxFQUNoQixRQUFTLEVBQUksRUFBSSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQ2pDLEVBQVEsQ0FBRSxLQUFNLEVBQUksR0FBSSxLQUFNLENBQU0sRUFFNUMsT0FBTyxHQUFVLEVBQU8sRUFBSSxDQUFHLEVBRW5DLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBSSxFQUFLLENBQy9CLFFBQVMsRUFBTSxFQUFPLEVBQUssRUFBTSxFQUFJLEtBQU0sQ0FDdkMsSUFBSSxFQUFXLEdBQWUsRUFBSSxJQUFJLEVBQ3RDLEdBQUksRUFDQSxPQUFPLEVBQVMsR0FBa0IsT0FBTyxFQUFJLEVBQUssQ0FBRyxDQUFDLEVBRTlELE1BQU8sR0FFWCxTQUFTLEVBQVksQ0FBQyxFQUFJLENBQ3RCLE9BQU8sRUFBRyxLQUFPLEVBQUcsUUFBUSxlQUFpQixFQUFHLFFBQVEsb0JBRTVELFNBQVMsRUFBYyxDQUFDLEVBQU0sQ0FDMUIsSUFBSSxFQUFXLEVBQUssS0FBSyxLQUFLLEVBQWMsRUFDNUMsR0FBSSxFQUNBLE9BQU8sRUFDWCxJQUFJLEVBQVEsRUFBSyxXQUFZLEVBQzdCLEdBQUksSUFBVSxFQUFRLEVBQU0sS0FBSyxLQUFLLEVBQVMsUUFBUSxHQUFJLENBQ3ZELElBQUksRUFBTyxFQUFLLFVBQVcsRUFBUyxHQUFRLEVBQU0sUUFBUSxFQUFLLElBQUksRUFBSSxHQUN2RSxNQUFPLEtBQU0sR0FBa0IsRUFBSSxHQUFNLEVBQUcsT0FBVyxJQUFXLEdBQWEsQ0FBRSxFQUFJLEVBQUssS0FBTyxNQUFTLEVBRTlHLE9BQU8sRUFBSyxRQUFVLEtBQU8sR0FBWSxLQUU3QyxTQUFTLEVBQVMsRUFBRyxDQUFFLE1BQU8sR0F5RTlCLFNBQVMsRUFBUSxDQUFDLEVBQVEsRUFBSSxDQUMxQixRQUFTLEVBQU0sRUFBSSxFQUFLLEVBQU0sRUFBSSxPQUM5QixHQUFJLEdBQVUsRUFDVixNQUFPLEdBQ2YsTUFBTyxHQUtYLFNBQVMsRUFBZ0IsQ0FBQyxFQUFTLENBQy9CLElBQUksRUFBTyxFQUFRLEtBQ2YsRUFBWSxFQUFLLFdBQVcsRUFBSyxJQUFJLEVBQUcsRUFBTyxFQUFLLFVBQ3hELElBQUssRUFDRCxPQUFPLEtBQ1gsSUFBSSxFQUFNLEVBQVEsUUFBUSxjQUN0QixFQUFXLEVBQVEsTUFBTSxJQUFJLE9BQU8sRUFBVSxJQUFJLEVBQ2xELEVBQVUsR0FBTyxNQUFRLEdBQU8sRUFBUyxLQUFPLEVBQVMsR0FBSyxLQUFLLElBQUksRUFBUyxHQUFJLENBQUcsRUFDM0YsUUFBUyxFQUFNLEVBQVUsS0FBTSxDQUMzQixJQUFJLEVBQU8sRUFBSyxXQUFXLENBQUcsRUFDOUIsSUFBSyxHQUFRLEdBQVEsRUFDakIsT0FBTyxLQUNYLElBQUssRUFBSyxLQUFLLFVBQ1gsT0FBTyxFQUFLLEtBQU8sRUFBVSxFQUFZLEtBQzdDLEVBQU0sRUFBSyxJQWNuQixTQUFTLEVBQWUsRUFBRyxVQUFTLFFBQVEsR0FBTSxRQUFRLEdBQUssQ0FDM0QsTUFBTyxDQUFDLElBQVksR0FBa0IsRUFBUyxFQUFPLEVBQU8sQ0FBTyxFQUV4RSxTQUFTLEVBQWlCLENBQUMsRUFBUyxFQUFPLEVBQU8sRUFBUyxFQUFVLENBQ2pFLElBQUksRUFBUSxFQUFRLFVBQVcsRUFBUSxFQUFNLE1BQU0sTUFBTSxFQUFFLEdBQUcsT0FDMUQsRUFBUyxHQUFXLEVBQU0sTUFBTSxFQUFPLEVBQVEsRUFBUSxNQUFNLEdBQUssR0FBVyxHQUFZLEVBQVEsSUFBTSxFQUN2RyxFQUFVLEVBQVEsR0FBaUIsQ0FBTyxFQUFJLEtBQ2xELEdBQUksRUFDQSxPQUFPLEVBQVMsRUFBUSxPQUFPLEVBQVEsSUFBSSxFQUFJLEVBQVEsT0FBTyxFQUFRLEVBQUUsRUFDNUUsT0FBTyxFQUFRLFlBQWMsRUFBUyxFQUFJLEVBQVEsS0FBTyxHQWU3RCxTQUFTLEVBQWUsRUFBRyxTQUFRLFFBQVEsR0FBTSxDQUFDLEVBQUcsQ0FDakQsTUFBTyxDQUFDLElBQVksQ0FDaEIsSUFBSSxFQUFjLEdBQVUsRUFBTyxLQUFLLEVBQVEsU0FBUyxFQUN6RCxPQUFPLEVBQVEsWUFBYyxFQUFjLEVBQUksRUFBUSxFQUFRLE9BbUV2RSxTQUFTLEVBQVUsQ0FBQyxFQUFNLENBQ3RCLElBQWlCLFdBQWIsRUFBcUMsVUFBWixHQUFPLEVBQ3BDLE9BQU8sR0FBUyxFQUFNLEdBQUssRUFBSyxLQUFPLENBQUUsS0FBTSxFQUFNLEdBQUksR0FBSSxFQUFLLEtBQUssUUFBVSxFQUFLLEdBQUssRUFBSyxJQUFLLEVBQUksS0FpZDdHLFNBQVMsRUFBZSxDQUFDLEVBQU8sQ0FDNUIsSUFBSSxFQUFPLEVBQU0sTUFBTSxFQUFnQixFQUN2QyxPQUFPLEVBQUssT0FBUyxFQUFPLEVBQU0sTUFBTSxFQUFtQixFQVMvRCxTQUFTLEVBQWtCLENBQUMsRUFBYSxFQUFTLENBQzlDLElBQUksRUFBTSxDQUFDLEVBQWUsRUFBRyxFQUM3QixHQUFJLGFBQXVCLEdBQWdCLENBQ3ZDLEdBQUksRUFBWSxPQUNaLEVBQUksS0FBSyxFQUFXLFlBQVksR0FBRyxFQUFZLE1BQU0sQ0FBQyxFQUMxRCxFQUFZLEVBQVksVUFFNUIsR0FBSSxJQUFZLE1BQVEsSUFBaUIsT0FBUyxPQUFJLEVBQVEsU0FDMUQsRUFBSSxLQUFLLEdBQW9CLEdBQUcsQ0FBVyxDQUFDLFVBQ3ZDLEVBQ0wsRUFBSSxLQUFLLEdBQWlCLFNBQVMsQ0FBQyxFQUFXLFNBQVMsRUFBRyxLQUFTLENBQ2hFLE9BQU8sRUFBTSxNQUFNLEVBQVcsU0FBUyxJQUFNLEdBQWEsUUFBVSxDQUFDLENBQVcsRUFBSSxDQUFDLEVBQ3hGLENBQUMsTUFFRixHQUFJLEtBQUssR0FBaUIsR0FBRyxDQUFXLENBQUMsRUFDN0MsT0FBTyxFQTJLWCxTQUFTLEVBQWEsQ0FBQyxFQUFNLEVBQUssRUFBVSxDQUN4QyxJQUFJLEVBQVMsRUFBSyxLQUFLLEVBQU0sRUFBSSxFQUFTLFNBQVcsRUFBUyxRQUFRLEVBQ3RFLEdBQUksRUFDQSxPQUFPLEVBQ1gsR0FBSSxFQUFLLEtBQUssUUFBVSxFQUFHLENBQ3ZCLElBQUksRUFBUSxFQUFTLFFBQVEsRUFBSyxJQUFJLEVBQ3RDLEdBQUksRUFBUSxJQUFNLEVBQVEsSUFBTSxFQUFNLEVBQUksRUFBSSxHQUMxQyxNQUFPLENBQUMsRUFBUyxFQUFRLEVBQUksRUFFckMsT0FBTyxLQUVYLFNBQVMsRUFBVSxDQUFDLEVBQU0sQ0FDdEIsSUFBSSxFQUFZLEVBQUssS0FBSyxLQUFLLEVBQXFCLEVBQ3BELE9BQU8sRUFBWSxFQUFVLEVBQUssSUFBSSxFQUFJLEVBUTlDLFNBQVMsRUFBYSxDQUFDLEVBQU8sRUFBSyxFQUFLLEVBQVMsQ0FBQyxFQUFHLENBQ2pELElBQUksRUFBa0IsRUFBTyxpQkFBbUIsR0FBaUIsRUFBVyxFQUFPLFVBQVksR0FDM0YsRUFBTyxFQUFXLENBQUssRUFBRyxFQUFPLEVBQUssYUFBYSxFQUFLLENBQUcsRUFDL0QsUUFBUyxFQUFNLEVBQU0sRUFBSyxFQUFNLEVBQUksT0FBUSxDQUN4QyxJQUFJLEVBQVUsR0FBYyxFQUFJLEtBQU0sRUFBSyxDQUFRLEVBQ25ELEdBQUksR0FBVyxFQUFJLEtBQU8sRUFBSSxHQUFJLENBQzlCLElBQUksRUFBUyxHQUFXLENBQUcsRUFDM0IsR0FBSSxJQUFXLEVBQU0sRUFBSSxHQUFPLEVBQU8sTUFBUSxFQUFNLEVBQU8sR0FBSyxFQUFNLEVBQU8sTUFBUSxHQUFPLEVBQU8sSUFDaEcsT0FBTyxHQUFvQixFQUFPLEVBQUssRUFBSyxFQUFLLEVBQVEsRUFBUyxDQUFRLEdBR3RGLE9BQU8sR0FBbUIsRUFBTyxFQUFLLEVBQUssRUFBTSxFQUFLLEtBQU0sRUFBaUIsQ0FBUSxFQUV6RixTQUFTLEVBQW1CLENBQUMsRUFBUSxFQUFNLEVBQUssRUFBTyxFQUFRLEVBQVUsRUFBVSxDQUMvRSxJQUFJLEVBQVMsRUFBTSxPQUFRLEVBQWEsQ0FBRSxLQUFNLEVBQU8sS0FBTSxHQUFJLEVBQU8sRUFBRyxFQUN2RSxFQUFRLEVBQUcsRUFBUyxJQUFXLE1BQVEsSUFBZ0IsT0FBUyxPQUFJLEVBQU8sT0FBTyxFQUN0RixHQUFJLElBQVcsRUFBTSxFQUFJLEVBQU8sWUFBWSxFQUFNLElBQUksRUFBSSxFQUFPLFdBQVcsRUFBTSxFQUFFLEdBQ2hGLEVBQ0ksSUFBSSxFQUFNLEVBQUksRUFBTyxJQUFNLEVBQU0sS0FBTyxFQUFPLE1BQVEsRUFBTSxJQUN6RCxHQUFJLEdBQVMsR0FBSyxFQUFTLFFBQVEsRUFBTyxLQUFLLElBQUksRUFBSSxJQUFNLEVBQU8sS0FBTyxFQUFPLEdBQUksQ0FDbEYsSUFBSSxFQUFZLEdBQVcsQ0FBTSxFQUNqQyxNQUFPLENBQUUsTUFBTyxFQUFZLElBQUssRUFBWSxDQUFFLEtBQU0sRUFBVSxLQUFNLEdBQUksRUFBVSxFQUFHLEVBQUksT0FBVyxRQUFTLEVBQUssVUFFOUcsR0FBYyxFQUFPLEtBQU0sRUFBSyxDQUFRLEVBQzdDLFlBRUssR0FBYyxFQUFPLE1BQU8sRUFBSyxDQUFRLEVBQUcsQ0FDakQsR0FBSSxHQUFTLEVBQUcsQ0FDWixJQUFJLEVBQVksR0FBVyxDQUFNLEVBQ2pDLE1BQU8sQ0FDSCxNQUFPLEVBQ1AsSUFBSyxHQUFhLEVBQVUsS0FBTyxFQUFVLEdBQUssQ0FBRSxLQUFNLEVBQVUsS0FBTSxHQUFJLEVBQVUsRUFBRyxFQUFJLE9BQy9GLFFBQVMsRUFDYixFQUVKLFdBR0gsRUFBTSxFQUFJLEVBQU8sWUFBWSxFQUFJLEVBQU8sWUFBWSxHQUNqRSxNQUFPLENBQUUsTUFBTyxFQUFZLFFBQVMsRUFBTSxFQUUvQyxTQUFTLEVBQWtCLENBQUMsRUFBTyxFQUFLLEVBQUssRUFBTSxFQUFXLEVBQWlCLEVBQVUsQ0FDckYsSUFBSSxFQUFVLEVBQU0sRUFBSSxFQUFNLFNBQVMsRUFBTSxFQUFHLENBQUcsRUFBSSxFQUFNLFNBQVMsRUFBSyxFQUFNLENBQUMsRUFDOUUsRUFBVSxFQUFTLFFBQVEsQ0FBTyxFQUN0QyxHQUFJLEVBQVUsR0FBTSxFQUFVLEdBQUssR0FBTyxFQUFNLEVBQzVDLE9BQU8sS0FDWCxJQUFJLEVBQWEsQ0FBRSxLQUFNLEVBQU0sRUFBSSxFQUFNLEVBQUksRUFBSyxHQUFJLEVBQU0sRUFBSSxFQUFNLEVBQUksQ0FBSSxFQUMxRSxFQUFPLEVBQU0sSUFBSSxVQUFVLEVBQUssRUFBTSxFQUFJLEVBQU0sSUFBSSxPQUFTLENBQUMsRUFBRyxFQUFRLEVBQzdFLFFBQVMsRUFBVyxHQUFLLEVBQUssS0FBSyxFQUFHLE1BQVEsR0FBWSxHQUFrQixDQUN4RSxJQUFJLEVBQU8sRUFBSyxNQUNoQixHQUFJLEVBQU0sRUFDTixHQUFZLEVBQUssT0FDckIsSUFBSSxFQUFVLEVBQU0sRUFBVyxFQUMvQixRQUFTLEVBQU0sRUFBTSxFQUFJLEVBQUksRUFBSyxPQUFTLEVBQUcsRUFBTSxFQUFNLEVBQUksRUFBSyxPQUFTLEdBQUksR0FBTyxFQUFLLEdBQU8sRUFBSyxDQUNwRyxJQUFJLEVBQVEsRUFBUyxRQUFRLEVBQUssRUFBSSxFQUN0QyxHQUFJLEVBQVEsR0FBSyxFQUFLLGFBQWEsRUFBVSxFQUFLLENBQUMsRUFBRSxNQUFRLEVBQ3pELFNBQ0osR0FBSyxFQUFRLEdBQUssR0FBTyxFQUFNLEVBQzNCLFlBRUssR0FBUyxFQUNkLE1BQU8sQ0FBRSxNQUFPLEVBQVksSUFBSyxDQUFFLEtBQU0sRUFBVSxFQUFLLEdBQUksRUFBVSxFQUFNLENBQUUsRUFBRyxRQUFVLEdBQVMsR0FBTyxHQUFXLENBQUcsTUFHekgsS0FHUixHQUFJLEVBQU0sRUFDTixHQUFZLEVBQUssT0FFekIsT0FBTyxFQUFLLEtBQU8sQ0FBRSxNQUFPLEVBQVksUUFBUyxFQUFNLEVBQUksS0FrZi9ELFNBQVMsRUFBVyxDQUFDLEVBQU0sRUFBSyxDQUM1QixHQUFJLEdBQU8sUUFBUSxDQUFJLEVBQUksR0FDdkIsT0FDSixHQUFPLEtBQUssQ0FBSSxFQUNoQixRQUFRLEtBQUssQ0FBRyxFQUVwQixTQUFTLEVBQWUsQ0FBQyxFQUFPLEVBQVEsQ0FDcEMsSUFBSSxFQUFTLENBQUMsRUFDZCxRQUFTLEtBQVEsRUFBTyxNQUFNLEdBQUcsRUFBRyxDQUNoQyxJQUFJLEVBQVEsQ0FBQyxFQUNiLFFBQVMsS0FBUSxFQUFLLE1BQU0sR0FBRyxFQUFHLENBQzlCLElBQUksRUFBUyxFQUFNLElBQVMsRUFBSyxHQUNqQyxJQUFLLEVBQ0QsR0FBWSxFQUFNLDRCQUE0QixHQUFNLGlCQUV4QyxHQUFTLFdBQ3JCLElBQUssRUFBTSxPQUNQLEdBQVksRUFBTSxZQUFZLHdCQUEyQixNQUV6RCxHQUFRLEVBQU0sSUFBSSxDQUFLLFVBR3ZCLEVBQU0sT0FDTixHQUFZLEVBQU0sT0FBTyxvQkFBdUIsTUFFaEQsR0FBUSxNQUFNLFFBQVEsQ0FBSyxFQUFJLEVBQVEsQ0FBQyxDQUFLLEVBR3pELFFBQVMsS0FBTyxFQUNaLEVBQU8sS0FBSyxDQUFHLEVBRXZCLElBQUssRUFBTyxPQUNSLE1BQU8sR0FDWCxJQUFJLEVBQU8sRUFBTyxRQUFRLEtBQU0sR0FBRyxFQUFHLEVBQU0sRUFBTyxJQUFNLEVBQU8sSUFBSSxLQUFLLEVBQUUsRUFBRSxFQUN6RSxFQUFRLEdBQU0sR0FDbEIsR0FBSSxFQUNBLE9BQU8sRUFBTSxHQUNqQixJQUFJLEVBQU8sR0FBTSxHQUFPLEdBQVMsT0FBTyxDQUNwQyxHQUFJLEdBQVUsT0FDZCxPQUNBLE1BQU8sQ0FBQyxHQUFVLEVBQUcsR0FBTyxDQUFPLENBQUMsQ0FBQyxDQUN6QyxDQUFDLEVBRUQsT0FEQSxHQUFVLEtBQUssQ0FBSSxFQUNaLEVBQUssR0F6OUVoQixJQUFJLEdBS0UsR0FBZ0MsSUFBSSxFQWtCcEMsR0FBK0IsSUFBSSxFQVV6QyxNQUFNLEVBQVMsQ0FRWCxXQUFXLENBS1gsRUFBTSxFQUFRLEVBQWtCLENBQUMsRUFJakMsRUFBTyxHQUFJLENBTVAsR0FMQSxLQUFLLEtBQU8sRUFDWixLQUFLLEtBQU8sR0FJUCxFQUFZLFVBQVUsZUFBZSxNQUFNLEVBQzVDLE9BQU8sZUFBZSxFQUFZLFVBQVcsT0FBUSxDQUFFLEdBQUcsRUFBRyxDQUFFLE9BQU8sRUFBVyxJQUFJLEVBQUssQ0FBQyxFQUMvRixLQUFLLE9BQVMsRUFDZCxLQUFLLFVBQVksQ0FDYixHQUFTLEdBQUcsSUFBSSxFQUNoQixFQUFZLGFBQWEsR0FBRyxDQUFDLEVBQU8sRUFBSyxJQUFTLENBQzlDLElBQUksRUFBTSxHQUFVLEVBQU8sRUFBSyxDQUFJLEVBQUcsRUFBTyxFQUFJLEtBQUssS0FBSyxFQUFnQixFQUM1RSxJQUFLLEVBQ0QsTUFBTyxDQUFDLEVBQ1osSUFBSSxFQUFPLEVBQU0sTUFBTSxDQUFJLEVBQUcsRUFBTSxFQUFJLEtBQUssS0FBSyxFQUFlLEVBQ2pFLEdBQUksRUFBSyxDQUNMLElBQUksRUFBWSxFQUFJLFFBQVEsRUFBTSxFQUFJLEtBQU0sQ0FBSSxFQUNoRCxRQUFTLEtBQVcsRUFDaEIsR0FBSSxFQUFRLEtBQUssRUFBVyxDQUFLLEVBQUcsQ0FDaEMsSUFBSSxFQUFPLEVBQU0sTUFBTSxFQUFRLEtBQUssRUFDcEMsT0FBTyxFQUFRLE1BQVEsVUFBWSxFQUFPLEVBQUssT0FBTyxDQUFJLEdBR3RFLE9BQU8sRUFDVixDQUNMLEVBQUUsT0FBTyxDQUFlLEVBSzVCLFVBQVUsQ0FBQyxFQUFPLEVBQUssRUFBTyxHQUFJLENBQzlCLE9BQU8sR0FBVSxFQUFPLEVBQUssQ0FBSSxFQUFFLEtBQUssS0FBSyxFQUFnQixHQUFLLEtBQUssS0FPM0UsV0FBVyxDQUFDLEVBQU8sQ0FDZixJQUFJLEVBQU8sRUFBTSxNQUFNLEVBQVEsRUFDL0IsSUFBSyxJQUFTLE1BQVEsSUFBYyxPQUFTLE9BQUksRUFBSyxPQUFTLEtBQUssS0FDaEUsTUFBTyxDQUFDLENBQUUsS0FBTSxFQUFHLEdBQUksRUFBTSxJQUFJLE1BQU8sQ0FBQyxFQUM3QyxJQUFLLElBQVMsRUFBSyxjQUNmLE1BQU8sQ0FBQyxFQUNaLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBVSxDQUFDLEVBQU0sSUFBUyxDQUMxQixHQUFJLEVBQUssS0FBSyxFQUFnQixHQUFLLEtBQUssS0FBTSxDQUMxQyxFQUFPLEtBQUssQ0FBRSxPQUFNLEdBQUksRUFBTyxFQUFLLE1BQU8sQ0FBQyxFQUM1QyxPQUVKLElBQUksRUFBUSxFQUFLLEtBQUssRUFBUyxPQUFPLEVBQ3RDLEdBQUksR0FDQSxHQUFJLEVBQU0sS0FBSyxLQUFLLEVBQWdCLEdBQUssS0FBSyxLQUFNLENBQ2hELEdBQUksRUFBTSxRQUNOLFFBQVMsS0FBSyxFQUFNLFFBQ2hCLEVBQU8sS0FBSyxDQUFFLEtBQU0sRUFBRSxLQUFPLEVBQU0sR0FBSSxFQUFFLEdBQUssQ0FBSyxDQUFDLE1BRXhELEdBQU8sS0FBSyxDQUFFLEtBQU0sRUFBTSxHQUFJLEVBQU8sRUFBSyxNQUFPLENBQUMsRUFDdEQsZUFFSyxFQUFNLFFBQVMsQ0FDcEIsSUFBSSxFQUFPLEVBQU8sT0FFbEIsR0FEQSxFQUFRLEVBQU0sS0FBTSxFQUFNLFFBQVEsR0FBRyxLQUFPLENBQUksRUFDNUMsRUFBTyxPQUFTLEVBQ2hCLFFBR1osUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFLLFNBQVMsT0FBUSxJQUFLLENBQzNDLElBQUksRUFBSyxFQUFLLFNBQVMsR0FDdkIsR0FBSSxhQUFjLEVBQ2QsRUFBUSxFQUFJLEVBQUssVUFBVSxHQUFLLENBQUksSUFJaEQsT0FEQSxFQUFRLEVBQVcsQ0FBSyxFQUFHLENBQUMsRUFDckIsS0FNUCxjQUFhLEVBQUcsQ0FBRSxNQUFPLEdBQ2pDLENBSUEsR0FBUyxTQUF3QixFQUFZLE9BQU8sRUFlcEQsTUFBTSxXQUFtQixFQUFTLENBQzlCLFdBQVcsQ0FBQyxFQUFNLEVBQVEsRUFBTSxDQUM1QixNQUFNLEVBQU0sRUFBUSxDQUFDLEVBQUcsQ0FBSSxFQUM1QixLQUFLLE9BQVMsUUFLWCxPQUFNLENBQUMsRUFBTSxDQUNoQixJQUFJLEVBQU8sR0FBb0IsRUFBSyxZQUFZLEVBQ2hELE9BQU8sSUFBSSxHQUFXLEVBQU0sRUFBSyxPQUFPLFVBQVUsQ0FDOUMsTUFBTyxDQUFDLEdBQWlCLElBQUksS0FBUSxFQUFLLE1BQVEsRUFBTyxNQUFTLENBQUMsQ0FDdkUsQ0FBQyxFQUFHLEVBQUssSUFBSSxFQU1qQixTQUFTLENBQUMsRUFBUyxFQUFNLENBQ3JCLE9BQU8sSUFBSSxHQUFXLEtBQUssS0FBTSxLQUFLLE9BQU8sVUFBVSxDQUFPLEVBQUcsR0FBUSxLQUFLLElBQUksS0FFbEYsY0FBYSxFQUFHLENBQUUsT0FBTyxLQUFLLE9BQU8sWUFBWSxFQUN6RCxDQW9FQSxNQUFNLEVBQVMsQ0FJWCxXQUFXLENBQUMsRUFBSyxDQUNiLEtBQUssSUFBTSxFQUNYLEtBQUssVUFBWSxFQUNqQixLQUFLLE9BQVMsR0FDZCxLQUFLLE9BQVMsRUFBSSxLQUFLLEtBRXZCLE9BQU0sRUFBRyxDQUFFLE9BQU8sS0FBSyxJQUFJLE9BQy9CLE1BQU0sQ0FBQyxFQUFLLENBR1IsT0FGQSxLQUFLLE9BQVMsS0FBSyxPQUFPLEtBQUssRUFBTSxLQUFLLFNBQVMsRUFBRSxNQUNyRCxLQUFLLFVBQVksRUFBTSxLQUFLLE9BQU8sT0FDNUIsS0FBSyxVQUFZLEtBQUssT0FBTyxPQUV4QyxLQUFLLENBQUMsRUFBSyxDQUVQLE9BREEsS0FBSyxPQUFPLENBQUcsRUFDUixLQUFLLFVBRVosV0FBVSxFQUFHLENBQUUsTUFBTyxHQUMxQixJQUFJLENBQUMsRUFBTSxFQUFJLENBQ1gsSUFBSSxFQUFjLEtBQUssVUFBWSxLQUFLLE9BQU8sT0FDL0MsR0FBSSxFQUFPLEdBQWUsR0FBTSxLQUFLLFVBQ2pDLE9BQU8sS0FBSyxJQUFJLFlBQVksRUFBTSxDQUFFLE1BRXBDLFFBQU8sS0FBSyxPQUFPLE1BQU0sRUFBTyxFQUFhLEVBQUssQ0FBVyxFQUV6RSxDQUNBLElBQUksR0FBaUIsS0FJckIsTUFBTSxFQUFhLENBQ2YsV0FBVyxDQUFDLEVBSVosRUFJQSxFQUFZLENBQUMsRUFJYixFQUlBLEVBU0EsRUFJQSxFQU1BLEVBQVksQ0FDUixLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsRUFDYixLQUFLLFVBQVksRUFDakIsS0FBSyxLQUFPLEVBQ1osS0FBSyxRQUFVLEVBQ2YsS0FBSyxTQUFXLEVBQ2hCLEtBQUssUUFBVSxFQUNmLEtBQUssV0FBYSxFQUNsQixLQUFLLE1BQVEsS0FJYixLQUFLLFlBQWMsQ0FBQyxRQUtqQixPQUFNLENBQUMsRUFBUSxFQUFPLEVBQVUsQ0FDbkMsT0FBTyxJQUFJLEdBQWEsRUFBUSxFQUFPLENBQUMsRUFBRyxFQUFLLE1BQU8sRUFBRyxFQUFVLENBQUMsRUFBRyxJQUFJLEVBRWhGLFVBQVUsRUFBRyxDQUNULE9BQU8sS0FBSyxPQUFPLFdBQVcsSUFBSSxHQUFTLEtBQUssTUFBTSxHQUFHLEVBQUcsS0FBSyxTQUFTLEVBSzlFLElBQUksQ0FBQyxFQUFPLEVBQU0sQ0FDZCxHQUFJLEdBQVEsTUFBUSxHQUFRLEtBQUssTUFBTSxJQUFJLE9BQ3ZDLEVBQU8sT0FDWCxHQUFJLEtBQUssTUFBUSxFQUFLLE9BQVMsS0FBSyxPQUFPLElBQVMsTUFBUSxJQUFjLE9BQUksRUFBTyxLQUFLLE1BQU0sSUFBSSxNQUFNLEVBRXRHLE9BREEsS0FBSyxTQUFTLEVBQ1AsR0FFWCxPQUFPLEtBQUssWUFBWSxJQUFNLENBQzFCLElBQUksRUFDSixVQUFXLEdBQVMsU0FBVSxDQUMxQixJQUFJLEVBQVUsS0FBSyxJQUFJLEVBQUksRUFDM0IsRUFBUSxJQUFNLEtBQUssSUFBSSxFQUFJLEVBRS9CLElBQUssS0FBSyxNQUNOLEtBQUssTUFBUSxLQUFLLFdBQVcsRUFDakMsR0FBSSxHQUFRLE9BQVMsS0FBSyxNQUFNLFdBQWEsTUFBUSxLQUFLLE1BQU0sVUFBWSxJQUN4RSxFQUFPLEtBQUssTUFBTSxJQUFJLE9BQ3RCLEtBQUssTUFBTSxPQUFPLENBQUksRUFDMUIsT0FBUyxDQUNMLElBQUksRUFBTyxLQUFLLE1BQU0sUUFBUSxFQUM5QixHQUFJLEVBS0EsR0FKQSxLQUFLLFVBQVksS0FBSyxtQkFBbUIsR0FBYSxRQUFRLEVBQU0sS0FBSyxVQUFXLEtBQUssTUFBTSxXQUFhLElBQUksQ0FBQyxFQUNqSCxLQUFLLFNBQVcsRUFBSyxLQUFLLE1BQU0sYUFBZSxNQUFRLElBQVksT0FBSSxFQUFLLEtBQUssTUFBTSxJQUFJLE9BQzNGLEtBQUssS0FBTyxFQUNaLEtBQUssTUFBUSxLQUNULEtBQUssU0FBVyxJQUFTLE1BQVEsSUFBYyxPQUFJLEVBQU8sS0FBSyxNQUFNLElBQUksUUFDekUsS0FBSyxNQUFRLEtBQUssV0FBVyxNQUU3QixPQUFPLEdBRWYsR0FBSSxFQUFNLEVBQ04sTUFBTyxJQUVsQixFQUtMLFFBQVEsRUFBRyxDQUNQLElBQUksRUFBSyxFQUNULEdBQUksS0FBSyxRQUFVLEVBQU0sS0FBSyxNQUFNLFlBQWMsS0FBSyxRQUFTLENBQzVELEdBQUksS0FBSyxNQUFNLFdBQWEsTUFBUSxLQUFLLE1BQU0sVUFBWSxFQUN2RCxLQUFLLE1BQU0sT0FBTyxDQUFHLEVBQ3pCLEtBQUssWUFBWSxJQUFNLENBQUUsUUFBUyxFQUFPLEtBQUssTUFBTSxRQUFRLEdBQUksRUFBSyxFQUNyRSxLQUFLLFFBQVUsRUFDZixLQUFLLEtBQU8sRUFDWixLQUFLLFVBQVksS0FBSyxtQkFBbUIsR0FBYSxRQUFRLEtBQUssS0FBTSxLQUFLLFVBQVcsRUFBSSxDQUFDLEVBQzlGLEtBQUssTUFBUSxNQUdyQixXQUFXLENBQUMsRUFBRyxDQUNYLElBQUksRUFBTyxHQUNYLEdBQWlCLEtBQ2pCLEdBQUksQ0FDQSxPQUFPLEVBQUUsU0FFYixDQUNJLEdBQWlCLEdBR3pCLGtCQUFrQixDQUFDLEVBQVcsQ0FDMUIsUUFBUyxFQUFHLEVBQUksS0FBSyxZQUFZLElBQUksR0FDakMsRUFBWSxHQUFhLEVBQVcsRUFBRSxLQUFNLEVBQUUsRUFBRSxFQUNwRCxPQUFPLEVBS1gsT0FBTyxDQUFDLEVBQVMsRUFBVSxDQUN2QixJQUFNLFlBQVcsT0FBTSxVQUFTLFdBQVUsV0FBWSxLQUV0RCxHQURBLEtBQUssU0FBUyxHQUNULEVBQVEsTUFBTyxDQUNoQixJQUFJLEVBQVMsQ0FBQyxFQU1kLEdBTEEsRUFBUSxrQkFBa0IsQ0FBQyxFQUFPLEVBQUssRUFBTyxJQUFRLEVBQU8sS0FBSyxDQUFFLFFBQU8sTUFBSyxRQUFPLEtBQUksQ0FBQyxDQUFDLEVBQzdGLEVBQVksR0FBYSxhQUFhLEVBQVcsQ0FBTSxFQUN2RCxFQUFPLEVBQUssTUFDWixFQUFVLEVBQ1YsRUFBVyxDQUFFLEtBQU0sRUFBUSxPQUFPLEVBQVMsS0FBTSxFQUFFLEVBQUcsR0FBSSxFQUFRLE9BQU8sRUFBUyxHQUFJLENBQUMsQ0FBRSxFQUNyRixLQUFLLFFBQVEsT0FBUSxDQUNyQixFQUFVLENBQUMsRUFDWCxRQUFTLEtBQUssS0FBSyxRQUFTLENBQ3hCLElBQUksRUFBTyxFQUFRLE9BQU8sRUFBRSxLQUFNLENBQUMsRUFBRyxFQUFLLEVBQVEsT0FBTyxFQUFFLEdBQUksRUFBRSxFQUNsRSxHQUFJLEVBQU8sRUFDUCxFQUFRLEtBQUssQ0FBRSxPQUFNLElBQUcsQ0FBQyxJQUl6QyxPQUFPLElBQUksR0FBYSxLQUFLLE9BQVEsRUFBVSxFQUFXLEVBQU0sRUFBUyxFQUFVLEVBQVMsS0FBSyxVQUFVLEVBSy9HLGNBQWMsQ0FBQyxFQUFVLENBQ3JCLEdBQUksS0FBSyxTQUFTLE1BQVEsRUFBUyxNQUFRLEtBQUssU0FBUyxJQUFNLEVBQVMsR0FDcEUsTUFBTyxHQUNYLEtBQUssU0FBVyxFQUNoQixJQUFJLEVBQVcsS0FBSyxRQUFRLE9BQzVCLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxRQUFRLE9BQVEsSUFBSyxDQUMxQyxJQUFNLE9BQU0sTUFBTyxLQUFLLFFBQVEsR0FDaEMsR0FBSSxFQUFPLEVBQVMsSUFBTSxFQUFLLEVBQVMsS0FDcEMsS0FBSyxVQUFZLEdBQWEsS0FBSyxVQUFXLEVBQU0sQ0FBRSxFQUN0RCxLQUFLLFFBQVEsT0FBTyxJQUFLLENBQUMsRUFHbEMsR0FBSSxLQUFLLFFBQVEsUUFBVSxFQUN2QixNQUFPLEdBRVgsT0FEQSxLQUFLLE1BQU0sRUFDSixHQUtYLEtBQUssRUFBRyxDQUNKLEdBQUksS0FBSyxNQUNMLEtBQUssU0FBUyxFQUNkLEtBQUssTUFBUSxLQVFyQixlQUFlLENBQUMsRUFBTSxFQUFJLENBQ3RCLEtBQUssUUFBUSxLQUFLLENBQUUsT0FBTSxJQUFHLENBQUMsUUFXM0Isa0JBQWlCLENBQUMsRUFBTyxDQUM1QixPQUFPLElBQUksY0FBYyxFQUFPLENBQzVCLFdBQVcsQ0FBQyxFQUFPLEVBQVcsRUFBUSxDQUNsQyxJQUFJLEVBQU8sRUFBTyxHQUFHLEtBQU0sRUFBSyxFQUFPLEVBQU8sT0FBUyxHQUFHLEdBaUIxRCxNQWhCYSxDQUNULFVBQVcsRUFDWCxPQUFPLEVBQUcsQ0FDTixJQUFJLEVBQUssR0FDVCxHQUFJLEVBQUksQ0FDSixRQUFTLEtBQUssRUFDVixFQUFHLFlBQVksS0FBSyxDQUFDLEVBQ3pCLEdBQUksRUFDQSxFQUFHLFdBQWEsRUFBRyxXQUFhLFFBQVEsSUFBSSxDQUFDLEVBQUcsV0FBWSxDQUFLLENBQUMsRUFBSSxFQUc5RSxPQURBLEtBQUssVUFBWSxFQUNWLElBQUksRUFBSyxHQUFTLEtBQU0sQ0FBQyxFQUFHLENBQUMsRUFBRyxFQUFLLENBQUksR0FFcEQsVUFBVyxLQUNYLE1BQU0sRUFBRyxFQUNiLEVBR1IsRUFLSixNQUFNLENBQUMsRUFBTSxDQUNULEVBQU8sS0FBSyxJQUFJLEVBQU0sS0FBSyxNQUFNLElBQUksTUFBTSxFQUMzQyxJQUFJLEVBQVEsS0FBSyxVQUNqQixPQUFPLEtBQUssU0FBVyxHQUFRLEVBQU0sUUFBVSxFQUFNLEdBQUcsTUFBUSxHQUFLLEVBQU0sR0FBRyxJQUFNLFFBTWpGLElBQUcsRUFBRyxDQUFFLE9BQU8sR0FDMUIsQ0FJQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUdYLEVBQVMsQ0FDTCxLQUFLLFFBQVUsRUFDZixLQUFLLEtBQU8sRUFBUSxLQUV4QixLQUFLLENBQUMsRUFBSSxDQUNOLElBQUssRUFBRyxZQUFjLEtBQUssTUFBUSxLQUFLLFFBQVEsS0FDNUMsT0FBTyxLQUNYLElBQUksRUFBUSxLQUFLLFFBQVEsUUFBUSxFQUFHLFFBQVMsRUFBRyxLQUFLLEVBSWpELEVBQU8sS0FBSyxRQUFRLFNBQVcsRUFBRyxXQUFXLElBQUksT0FBUyxPQUN4RCxLQUFLLElBQUksRUFBRyxRQUFRLE9BQU8sS0FBSyxRQUFRLE9BQU8sRUFBRyxFQUFNLFNBQVMsRUFBRSxFQUN6RSxJQUFLLEVBQU0sS0FBSyxHQUFxQixDQUFJLEVBQ3JDLEVBQU0sU0FBUyxFQUNuQixPQUFPLElBQUksR0FBYyxDQUFLLFFBRTNCLEtBQUksQ0FBQyxFQUFPLENBQ2YsSUFBSSxFQUFPLEtBQUssSUFBSSxLQUE4QixFQUFNLElBQUksTUFBTSxFQUM5RCxFQUFhLEdBQWEsT0FBTyxFQUFNLE1BQU0sRUFBUSxFQUFFLE9BQVEsRUFBTyxDQUFFLEtBQU0sRUFBRyxHQUFJLENBQUssQ0FBQyxFQUMvRixJQUFLLEVBQVcsS0FBSyxHQUFxQixDQUFJLEVBQzFDLEVBQVcsU0FBUyxFQUN4QixPQUFPLElBQUksR0FBYyxDQUFVLEVBRTNDLENBQ0EsR0FBUyxNQUFxQixHQUFXLE9BQU8sQ0FDNUMsT0FBUSxHQUFjLEtBQ3RCLE1BQU0sQ0FBQyxFQUFPLEVBQUksQ0FDZCxRQUFTLEtBQUssRUFBRyxRQUNiLEdBQUksRUFBRSxHQUFHLEdBQVMsUUFBUSxFQUN0QixPQUFPLEVBQUUsTUFDakIsR0FBSSxFQUFHLFdBQVcsTUFBTSxFQUFRLEdBQUssRUFBRyxNQUFNLE1BQU0sRUFBUSxFQUN4RCxPQUFPLEdBQWMsS0FBSyxFQUFHLEtBQUssRUFDdEMsT0FBTyxFQUFNLE1BQU0sQ0FBRSxFQUU3QixDQUFDLEVBQ0QsSUFBSSxHQUFjLENBQUMsSUFBYSxDQUM1QixJQUFJLEVBQVUsV0FBVyxJQUFNLEVBQVMsRUFBRyxHQUF1QixFQUNsRSxNQUFPLElBQU0sYUFBYSxDQUFPLEdBRXJDLFVBQVcscUJBQXVCLFlBQzlCLEdBQWMsQ0FBQyxJQUFhLENBQ3hCLElBQUksRUFBTyxHQUFJLEVBQVUsV0FBVyxJQUFNLENBQ3RDLEVBQU8sb0JBQW9CLEVBQVUsQ0FBRSxRQUFTLEdBQWtELENBQUMsR0FDcEcsR0FBdUIsRUFDMUIsTUFBTyxJQUFNLEVBQU8sRUFBSSxhQUFhLENBQU8sRUFBSSxtQkFBbUIsQ0FBSSxHQUUvRSxJQUFNLFVBQXdCLFdBQWEsZUFBaUIsR0FBSyxVQUFVLGNBQWdCLE1BQVEsS0FBWSxPQUFTLE9BQUksR0FBRyxnQkFDekgsSUFBTSxVQUFVLFdBQVcsZUFBZSxFQUFJLEtBQzlDLEdBQTJCLEdBQVcsVUFBVSxNQUFNLENBQVksQ0FDcEUsV0FBVyxDQUFDLEVBQU0sQ0FDZCxLQUFLLEtBQU8sRUFDWixLQUFLLFFBQVUsS0FDZixLQUFLLGNBQWdCLEVBRXJCLEtBQUssU0FBVyxHQUVoQixLQUFLLFlBQWMsR0FDbkIsS0FBSyxLQUFPLEtBQUssS0FBSyxLQUFLLElBQUksRUFDL0IsS0FBSyxhQUFhLEVBRXRCLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFLLEtBQUssS0FBSyxNQUFNLE1BQU0sR0FBUyxLQUFLLEVBQUUsUUFDL0MsR0FBSSxFQUFHLGVBQWUsRUFBTyxLQUFLLFFBQVEsR0FBSyxLQUFLLEtBQUssU0FBUyxHQUFLLEVBQUcsUUFDdEUsS0FBSyxhQUFhLEVBQ3RCLEdBQUksRUFBTyxZQUFjLEVBQU8sYUFBYyxDQUMxQyxHQUFJLEtBQUssS0FBSyxTQUNWLEtBQUssYUFBZSxHQUN4QixLQUFLLGFBQWEsRUFFdEIsS0FBSyxtQkFBbUIsQ0FBRSxFQUU5QixZQUFZLEVBQUcsQ0FDWCxHQUFJLEtBQUssUUFDTCxPQUNKLElBQU0sU0FBVSxLQUFLLEtBQU0sRUFBUSxFQUFNLE1BQU0sR0FBUyxLQUFLLEVBQzdELEdBQUksRUFBTSxNQUFRLEVBQU0sUUFBUSxPQUFTLEVBQU0sUUFBUSxPQUFPLEVBQU0sSUFBSSxNQUFNLEVBQzFFLEtBQUssUUFBVSxHQUFZLEtBQUssSUFBSSxFQUU1QyxJQUFJLENBQUMsRUFBVSxDQUNYLEtBQUssUUFBVSxLQUNmLElBQUksRUFBTSxLQUFLLElBQUksRUFDbkIsR0FBSSxLQUFLLFNBQVcsSUFBUSxLQUFLLFNBQVcsR0FBSyxLQUFLLEtBQUssVUFDdkQsS0FBSyxTQUFXLEVBQU0sTUFDdEIsS0FBSyxZQUFjLEtBRXZCLEdBQUksS0FBSyxhQUFlLEVBQ3BCLE9BQ0osSUFBTSxRQUFPLFVBQVksR0FBSSxJQUFXLEtBQUssS0FBTSxFQUFRLEVBQU0sTUFBTSxHQUFTLEtBQUssRUFDckYsR0FBSSxFQUFNLE1BQVEsRUFBTSxRQUFRLE1BQVEsRUFBTSxRQUFRLE9BQU8sRUFBTyxHQUErQixFQUMvRixPQUNKLElBQUksRUFBVSxLQUFLLElBQUksRUFBSSxLQUFLLElBQUksS0FBSyxZQUFhLElBQXNCLElBQWEsR0FBaUIsS0FBSyxJQUFJLEdBQXdCLEVBQVMsY0FBYyxFQUFJLENBQUMsRUFBSSxHQUFHLEVBQzFLLEVBQWdCLEVBQU0sUUFBUSxRQUFVLEdBQVEsRUFBTSxJQUFJLE9BQVMsRUFBTyxLQUMxRSxFQUFPLEVBQU0sUUFBUSxLQUFLLElBQU0sQ0FDaEMsT0FBTyxJQUFrQixHQUFlLEdBQUssS0FBSyxJQUFJLEVBQUksR0FDM0QsR0FBUSxFQUFnQixFQUFJLElBQWdDLEVBRS9ELEdBREEsS0FBSyxhQUFlLEtBQUssSUFBSSxFQUFJLEVBQzdCLEdBQVEsS0FBSyxhQUFlLEVBQzVCLEVBQU0sUUFBUSxTQUFTLEVBQ3ZCLEtBQUssS0FBSyxTQUFTLENBQUUsUUFBUyxHQUFTLFNBQVMsR0FBRyxJQUFJLEdBQWMsRUFBTSxPQUFPLENBQUMsQ0FBRSxDQUFDLEVBRTFGLEdBQUksS0FBSyxZQUFjLEtBQU8sSUFBUyxHQUNuQyxLQUFLLGFBQWEsRUFDdEIsS0FBSyxtQkFBbUIsRUFBTSxPQUFPLEVBRXpDLGtCQUFrQixDQUFDLEVBQUksQ0FDbkIsR0FBSSxFQUFHLFdBQ0gsS0FBSyxnQkFDTCxFQUFHLFdBQ0UsS0FBSyxJQUFNLEtBQUssYUFBYSxDQUFDLEVBQzlCLE1BQU0sS0FBTyxHQUFhLEtBQUssS0FBSyxNQUFPLENBQUcsQ0FBQyxFQUMvQyxLQUFLLElBQU0sS0FBSyxlQUFlLEVBQ3BDLEVBQUcsV0FBYSxLQUd4QixPQUFPLEVBQUcsQ0FDTixHQUFJLEtBQUssUUFDTCxLQUFLLFFBQVEsRUFFckIsU0FBUyxFQUFHLENBQ1IsU0FBVSxLQUFLLFNBQVcsS0FBSyxjQUFnQixHQUV2RCxFQUFHLENBQ0MsY0FBZSxDQUFFLEtBQUssRUFBRyxDQUFFLEtBQUssYUFBYSxFQUFLLENBQ3RELENBQUMsRUFPSyxHQUF3QixFQUFNLE9BQU8sQ0FDdkMsT0FBTyxDQUFDLEVBQVcsQ0FBRSxPQUFPLEVBQVUsT0FBUyxFQUFVLEdBQUssTUFDOUQsUUFBUyxLQUFZLENBQ2pCLEdBQVMsTUFDVCxHQUNBLEVBQVcsa0JBQWtCLFFBQVEsQ0FBQyxDQUFRLEVBQUcsS0FBUyxDQUN0RCxJQUFJLEVBQU8sRUFBTSxNQUFNLENBQVEsRUFDL0IsT0FBTyxHQUFRLEVBQUssS0FBTyxDQUFFLGdCQUFpQixFQUFLLElBQUssRUFBSSxDQUFDLEVBQ2hFLENBQ0wsQ0FDSixDQUFDLEVBUUQsTUFBTSxFQUFnQixDQUlsQixXQUFXLENBSVgsRUFPQSxFQUFVLENBQUMsRUFBRyxDQUNWLEtBQUssU0FBVyxFQUNoQixLQUFLLFFBQVUsRUFDZixLQUFLLFVBQVksQ0FBQyxFQUFVLENBQU8sRUFFM0MsQ0E0R0EsSUFBTSxHQUE2QixFQUFNLE9BQU8sRUFNMUMsR0FBMEIsRUFBTSxPQUFPLENBQ3pDLFFBQVMsS0FBVSxDQUNmLElBQUssRUFBTyxPQUNSLE1BQU8sS0FDWCxJQUFJLEVBQU8sRUFBTyxHQUNsQixJQUFLLEdBQVEsS0FBSyxLQUFLLENBQUksR0FBSyxNQUFNLEtBQUssQ0FBSSxFQUFFLEtBQUssS0FBSyxHQUFLLEVBQUssRUFBRSxFQUNuRSxNQUFNLElBQUksTUFBTSx3QkFBMEIsS0FBSyxVQUFVLEVBQU8sRUFBRSxDQUFDLEVBQ3ZFLE9BQU8sRUFFZixDQUFDLEVBaUZELE1BQU0sRUFBYyxDQUloQixXQUFXLENBSVgsRUFJQSxFQUFVLENBQUMsRUFBRyxDQUNWLEtBQUssTUFBUSxFQUNiLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxHQUFjLENBQUssRUFVbkMsTUFBTSxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ2xCLElBQUksRUFBTyxLQUFLLE1BQU0sSUFBSSxPQUFPLENBQUcsR0FDOUIsZ0JBQWUsdUJBQXdCLEtBQUssUUFDbEQsR0FBSSxHQUFpQixNQUFRLEdBQWlCLEVBQUssTUFBUSxHQUFpQixFQUFLLEdBQzdFLEdBQUksR0FBdUIsR0FBaUIsRUFDeEMsTUFBTyxDQUFFLEtBQU0sR0FBSSxLQUFNLENBQUksVUFDeEIsRUFBTyxFQUFJLEVBQWdCLEVBQU0sR0FBaUIsRUFDdkQsTUFBTyxDQUFFLEtBQU0sRUFBSyxLQUFLLE1BQU0sRUFBZ0IsRUFBSyxJQUFJLEVBQUcsS0FBTSxDQUFjLE1BRS9FLE9BQU8sQ0FBRSxLQUFNLEVBQUssS0FBSyxNQUFNLEVBQUcsRUFBZ0IsRUFBSyxJQUFJLEVBQUcsS0FBTSxFQUFLLElBQUssRUFFdEYsT0FBTyxFQU1YLFlBQVksQ0FBQyxFQUFLLEVBQU8sRUFBRyxDQUN4QixHQUFJLEtBQUssUUFBUSxxQkFBdUIsR0FBTyxLQUFLLFFBQVEsY0FDeEQsTUFBTyxHQUNYLElBQU0sT0FBTSxRQUFTLEtBQUssT0FBTyxFQUFLLENBQUksRUFDMUMsT0FBTyxFQUFLLE1BQU0sRUFBTSxFQUFNLEtBQUssSUFBSSxFQUFLLE9BQVEsRUFBTSxJQUFNLENBQUksQ0FBQyxFQUt6RSxNQUFNLENBQUMsRUFBSyxFQUFPLEVBQUcsQ0FDbEIsSUFBTSxPQUFNLFFBQVMsS0FBSyxPQUFPLEVBQUssQ0FBSSxFQUN0QyxFQUFTLEtBQUssWUFBWSxFQUFNLEVBQU0sQ0FBSSxFQUMxQyxFQUFXLEtBQUssUUFBUSxvQkFBc0IsS0FBSyxRQUFRLG9CQUFvQixDQUFJLEVBQUksR0FDM0YsR0FBSSxFQUFXLEdBQ1gsR0FBVSxFQUFXLEtBQUssWUFBWSxFQUFNLEVBQUssT0FBTyxNQUFNLENBQUMsRUFDbkUsT0FBTyxFQU1YLFdBQVcsQ0FBQyxFQUFNLEVBQU0sRUFBSyxPQUFRLENBQ2pDLE9BQU8sR0FBWSxFQUFNLEtBQUssTUFBTSxRQUFTLENBQUcsRUFLcEQsVUFBVSxDQUFDLEVBQUssRUFBTyxFQUFHLENBQ3RCLElBQU0sT0FBTSxRQUFTLEtBQUssT0FBTyxFQUFLLENBQUksRUFDdEMsRUFBVyxLQUFLLFFBQVEsb0JBQzVCLEdBQUksRUFBVSxDQUNWLElBQUksRUFBWSxFQUFTLENBQUksRUFDN0IsR0FBSSxFQUFZLEdBQ1osT0FBTyxFQUVmLE9BQU8sS0FBSyxZQUFZLEVBQU0sRUFBSyxPQUFPLE1BQU0sQ0FBQyxLQU9qRCxlQUFjLEVBQUcsQ0FDakIsT0FBTyxLQUFLLFFBQVEsZUFBaUIsS0FFN0MsQ0FRQSxJQUFNLEdBQThCLElBQUksRUF5Q3hDLE1BQU0sV0FBMEIsRUFBYyxDQUMxQyxXQUFXLENBQUMsRUFJWixFQUlBLEVBQVMsQ0FDTCxNQUFNLEVBQUssTUFBTyxFQUFLLE9BQU8sRUFDOUIsS0FBSyxLQUFPLEVBQ1osS0FBSyxJQUFNLEVBQ1gsS0FBSyxRQUFVLEtBTWYsS0FBSSxFQUFHLENBQUUsT0FBTyxLQUFLLFFBQVEsV0FJMUIsT0FBTSxDQUFDLEVBQU0sRUFBSyxFQUFTLENBQzlCLE9BQU8sSUFBSSxHQUFrQixFQUFNLEVBQUssQ0FBTyxLQU0vQyxVQUFTLEVBQUcsQ0FDWixPQUFPLEtBQUssYUFBYSxLQUFLLEdBQUcsS0FTakMsV0FBVSxFQUFHLENBQ2IsT0FBTyxLQUFLLGNBQWMsS0FBSyxJQUFJLEVBTXZDLGFBQWEsQ0FBQyxFQUFNLENBQ2hCLElBQUksRUFBTyxLQUFLLE1BQU0sSUFBSSxPQUFPLEVBQUssSUFBSSxFQUUxQyxPQUFTLENBQ0wsSUFBSSxFQUFVLEVBQUssUUFBUSxFQUFLLElBQUksRUFDcEMsTUFBTyxFQUFRLFFBQVUsRUFBUSxPQUFPLE1BQVEsRUFBUSxLQUNwRCxFQUFVLEVBQVEsT0FDdEIsR0FBSSxHQUFTLEVBQVMsQ0FBSSxFQUN0QixNQUNKLEVBQU8sS0FBSyxNQUFNLElBQUksT0FBTyxFQUFRLElBQUksRUFFN0MsT0FBTyxLQUFLLFdBQVcsRUFBSyxJQUFJLEVBTXBDLFFBQVEsRUFBRyxDQUNQLE9BQU8sR0FBVSxLQUFLLFFBQVEsS0FBTSxLQUFLLEtBQU0sS0FBSyxHQUFHLEVBRS9ELENBcURBLElBQU0sR0FBYSxDQUFDLElBQVksRUFBUSxXQXlFeEMsSUFBTSxHQUE0QixJQUFJLEVBd2F0QyxNQUFNLEVBQWUsQ0FDakIsV0FBVyxDQUlYLEVBQU8sRUFBUyxDQUNaLEtBQUssTUFBUSxFQUNiLElBQUksRUFDSixTQUFTLENBQUcsQ0FBQyxFQUFNLENBQ2YsSUFBSSxFQUFNLEdBQVksUUFBUSxFQUU5QixPQURDLElBQVksRUFBVSxPQUFPLE9BQU8sSUFBSSxJQUFJLElBQU0sR0FBTyxFQUNuRCxFQUVYLE1BQU0sU0FBYSxFQUFRLEtBQU8sU0FBVyxFQUFRLElBQU0sRUFBUSxJQUFNLEVBQUksRUFBUSxHQUFHLEVBQUksT0FDdEYsRUFBVyxFQUFRLE1BQ3pCLEtBQUssTUFBUSxhQUFvQixHQUFXLENBQUMsSUFBUyxFQUFLLEtBQUssRUFBZ0IsR0FBSyxFQUFTLEtBQ3hGLEVBQVcsQ0FBQyxJQUFTLEdBQVEsRUFBVyxPQUM5QyxLQUFLLE1BQVEsR0FBZSxFQUFNLElBQUksTUFBVSxDQUM1QyxJQUFLLEVBQU0sSUFDWCxNQUFPLEVBQU0sT0FBUyxFQUFJLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLElBQUssSUFBSyxDQUFDLENBQUMsQ0FDckUsRUFBRSxFQUFHLENBQ0QsS0FDSixDQUFDLEVBQUUsTUFDSCxLQUFLLE9BQVMsRUFBVSxJQUFJLEdBQVksQ0FBTyxFQUFJLEtBQ25ELEtBQUssVUFBWSxFQUFRLGdCQWlCdEIsT0FBTSxDQUFDLEVBQU8sRUFBUyxDQUMxQixPQUFPLElBQUksR0FBZSxFQUFPLEdBQVcsQ0FBQyxDQUFDLEVBRXRELENBQ0EsSUFBTSxHQUFnQyxFQUFNLE9BQU8sRUFDN0MsR0FBbUMsRUFBTSxPQUFPLENBQ2xELE9BQU8sQ0FBQyxFQUFRLENBQUUsT0FBTyxFQUFPLE9BQVMsQ0FBQyxFQUFPLEVBQUUsRUFBSSxLQUMzRCxDQUFDLEVBaURELE1BQU0sRUFBZ0IsQ0FDbEIsV0FBVyxDQUFDLEVBQU0sQ0FDZCxLQUFLLFVBQVksT0FBTyxPQUFPLElBQUksRUFDbkMsS0FBSyxLQUFPLEVBQVcsRUFBSyxLQUFLLEVBQ2pDLEtBQUssWUFBYyxLQUFLLFVBQVUsRUFBTSxHQUFnQixFQUFLLEtBQUssQ0FBQyxFQUNuRSxLQUFLLFlBQWMsRUFBSyxTQUFTLEdBRXJDLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFPLEVBQVcsRUFBTyxLQUFLLEVBQUcsRUFBZSxHQUFnQixFQUFPLEtBQUssRUFDNUUsRUFBYyxHQUFnQixHQUFnQixFQUFPLFVBQVUsR0FDN0QsWUFBYSxFQUFPLEtBQU0sRUFBb0IsRUFBTyxRQUFRLE9BQU8sS0FBSyxZQUFhLENBQUMsRUFDN0YsR0FBSSxFQUFLLE9BQVMsRUFBUyxLQUFPLEdBQWUsRUFBSyxNQUFRLEtBQUssS0FBSyxNQUFRLEdBQXFCLEVBQVMsR0FDMUcsS0FBSyxZQUFjLEtBQUssWUFBWSxJQUFJLEVBQU8sT0FBTyxFQUN0RCxLQUFLLFlBQWMsVUFFZCxHQUFRLEtBQUssTUFBUSxFQUFPLGlCQUFtQixFQUNwRCxLQUFLLEtBQU8sRUFDWixLQUFLLFlBQWMsS0FBSyxVQUFVLEVBQU8sS0FBTSxDQUFZLEVBQzNELEtBQUssWUFBYyxFQUFTLEdBR3BDLFNBQVMsQ0FBQyxFQUFNLEVBQWMsQ0FDMUIsSUFBSyxJQUFpQixLQUFLLEtBQUssT0FDNUIsT0FBTyxFQUFXLEtBQ3RCLElBQUksRUFBVSxJQUFJLEdBQ2xCLFFBQVcsT0FBTSxRQUFRLEVBQUssY0FDMUIsR0FBYyxLQUFLLEtBQU0sRUFBYyxDQUFDLEVBQU0sRUFBSSxJQUFVLENBQ3hELEVBQVEsSUFBSSxFQUFNLEVBQUksS0FBSyxVQUFVLEtBQVcsS0FBSyxVQUFVLEdBQVMsRUFBVyxLQUFLLENBQUUsTUFBTyxDQUFNLENBQUMsRUFBRSxHQUMzRyxFQUFNLENBQUUsRUFFZixPQUFPLEVBQVEsT0FBTyxFQUU5QixDQUNBLElBQU0sR0FBK0IsR0FBSyxLQUFrQixHQUFXLFVBQVUsR0FBaUIsQ0FDOUYsWUFBYSxLQUFLLEVBQUUsV0FDeEIsQ0FBQyxDQUFDLEVBSUksR0FBcUMsR0FBZSxPQUFPLENBQzdELENBQUUsSUFBSyxFQUFLLEtBQ1IsTUFBTyxTQUFVLEVBQ3JCLENBQUUsSUFBSyxFQUFLLEtBQ1IsZUFBZ0IsV0FBWSxFQUNoQyxDQUFFLElBQUssRUFBSyxRQUNSLGVBQWdCLFlBQ2hCLFdBQVksTUFBTyxFQUN2QixDQUFFLElBQUssRUFBSyxTQUNSLFVBQVcsUUFBUyxFQUN4QixDQUFFLElBQUssRUFBSyxPQUNSLFdBQVksTUFBTyxFQUN2QixDQUFFLElBQUssRUFBSyxjQUNSLGVBQWdCLGNBQWUsRUFDbkMsQ0FBRSxJQUFLLEVBQUssUUFDUixNQUFPLE1BQU8sRUFDbEIsQ0FBRSxJQUFLLENBQUMsRUFBSyxLQUFNLEVBQUssS0FBTSxFQUFLLElBQUssRUFBSyxpQkFBa0IsRUFBSyxTQUFTLEVBQ3pFLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLFFBQVMsRUFBSyxRQUFRLEVBQy9CLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLE9BQVEsRUFBSyxPQUFPLEVBQzdCLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLE9BQVEsRUFBSyxPQUFxQixFQUFLLFFBQVEsRUFBSyxNQUFNLENBQUMsRUFDcEUsTUFBTyxNQUFPLEVBQ2xCLENBQUUsSUFBa0IsRUFBSyxXQUFXLEVBQUssWUFBWSxFQUNqRCxNQUFPLE1BQU8sRUFDbEIsQ0FBRSxJQUFrQixFQUFLLE1BQU0sRUFBSyxZQUFZLEVBQzVDLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLFNBQVUsRUFBSyxTQUFTLEVBQ2pDLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssRUFBSyxVQUNSLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQUssQ0FBYyxFQUFLLFFBQVEsRUFBSyxZQUFZLEVBQUcsRUFBSyxTQUFTLEVBQ2hFLE1BQU8sTUFBTyxFQUNsQixDQUFFLElBQWtCLEVBQUssV0FBVyxFQUFLLFlBQVksRUFDakQsTUFBTyxNQUFPLEVBQ2xCLENBQUUsSUFBSyxFQUFLLFFBQ1IsTUFBTyxNQUFPLEVBQ2xCLENBQUUsSUFBSyxFQUFLLFFBQ1IsTUFBTyxNQUFPLENBQ3RCLENBQUMsRUFNRCxJQUFNLEdBQWtCLElBQU8sR0FBa0IsU0ErRGpELElBQU0sR0FBcUMsSUFBSSxFQThpQi9DLElBQU0sR0FBd0IsT0FBTyxPQUFPLElBQUksRUFDMUMsR0FBWSxDQUFDLEdBQVMsSUFBSSxFQUVoQyxJQUFNLEdBQVMsQ0FBQyxFQUVWLEdBQXFCLE9BQU8sT0FBTyxJQUFJLEVBQ3ZDLEdBQTRCLE9BQU8sT0FBTyxJQUFJLEVBQ3BELFFBQVUsRUFBWSxJQUFTLENBQzNCLENBQUMsV0FBWSxjQUFjLEVBQzNCLENBQUMsYUFBYyxzQkFBc0IsRUFDckMsQ0FBQyxXQUFZLGdCQUFnQixFQUM3QixDQUFDLE1BQU8seUJBQXlCLEVBQ2pDLENBQUMsTUFBTyxTQUFTLEVBQ2pCLENBQUMsWUFBYSxlQUFlLEVBQzdCLENBQUMsT0FBUSxVQUFVLEVBQ25CLENBQUMsVUFBVyx1QkFBdUIsRUFDbkMsQ0FBQyxZQUFhLFVBQVUsRUFDeEIsQ0FBQyxRQUFTLFNBQVMsRUFDbkIsQ0FBQyxTQUFVLFNBQVMsRUFDcEIsQ0FBQyxXQUFZLGNBQWMsQ0FDL0IsRUFDSSxHQUFhLEdBQTJCLEdBQWdCLEdBQVUsQ0FBSSxFQTJLMUUsSUFBTSxHQUFRLENBQ1YsSUFBa0IsRUFBVyxLQUFLLENBQUUsTUFBTyxTQUFVLFVBQVcsR0FBTSxXQUFZLENBQUUsSUFBSyxLQUFNLEVBQUcsWUFBYSxFQUFVLEdBQUksQ0FBQyxFQUM5SCxJQUFrQixFQUFXLEtBQUssQ0FBRSxNQUFPLFNBQVUsVUFBVyxHQUFNLFdBQVksQ0FBRSxJQUFLLEtBQU0sRUFBRyxZQUFhLEVBQVUsR0FBSSxDQUFDLEVBQzlILEtBQW1CLEVBQVcsS0FBSyxDQUFFLE1BQU8sU0FBVSxVQUFXLEdBQU0sV0FBWSxDQUFFLElBQUssTUFBTyxFQUFHLFlBQWEsSUFBSyxDQUFDLENBQzNILEVDM2tGQSxTQUFTLEVBQU8sQ0FBQyxFQUFHLEVBQVEsQ0FDeEIsTUFBTyxFQUFHLFFBQU8sY0FBZSxDQUM1QixHQUFJLEVBQU0sU0FDTixNQUFPLEdBQ1gsSUFBSSxFQUFLLEVBQUUsRUFBUSxDQUFLLEVBQ3hCLElBQUssRUFDRCxNQUFPLEdBRVgsT0FEQSxFQUFTLEVBQU0sT0FBTyxDQUFFLENBQUMsRUFDbEIsSUFzQ2YsU0FBUyxFQUFTLENBQUMsRUFBTyxFQUFLLENBQzNCLElBQUksRUFBTyxFQUFNLGVBQWUsZ0JBQWlCLENBQUcsRUFDcEQsT0FBTyxFQUFLLE9BQVMsRUFBSyxHQUFLLENBQUMsRUFPcEMsU0FBUyxFQUFnQixDQUFDLEdBQVMsT0FBTSxTQUFTLEVBQU0sRUFBSSxDQUN4RCxJQUFJLEVBQWEsRUFBTSxTQUFTLEVBQU8sR0FBYyxDQUFJLEVBQ3JELEVBQVksRUFBTSxTQUFTLEVBQUksRUFBSyxFQUFZLEVBQ2hELEVBQWMsT0FBTyxLQUFLLENBQVUsRUFBRSxHQUFHLE9BQVEsRUFBYSxPQUFPLEtBQUssQ0FBUyxFQUFFLEdBQUcsT0FDeEYsRUFBWSxFQUFXLE9BQVMsRUFDcEMsR0FBSSxFQUFXLE1BQU0sRUFBWSxFQUFLLE9BQVEsQ0FBUyxHQUFLLEdBQ3hELEVBQVUsTUFBTSxFQUFZLEVBQWEsRUFBTSxNQUFNLEdBQUssRUFDMUQsTUFBTyxDQUFFLEtBQU0sQ0FBRSxJQUFLLEVBQU8sRUFBYSxPQUFRLEdBQWUsQ0FBRSxFQUMvRCxNQUFPLENBQUUsSUFBSyxFQUFLLEVBQVksT0FBUSxHQUFjLENBQUUsQ0FBRSxFQUVqRSxJQUFJLEVBQVcsRUFDZixHQUFJLEVBQUssR0FBUSxFQUFJLEdBQ2pCLEVBQVksRUFBVSxFQUFNLFNBQVMsRUFBTSxDQUFFLE1BRzdDLEdBQVksRUFBTSxTQUFTLEVBQU0sRUFBTyxFQUFZLEVBQ3BELEVBQVUsRUFBTSxTQUFTLEVBQUssR0FBYyxDQUFFLEVBRWxELElBQUksRUFBYSxPQUFPLEtBQUssQ0FBUyxFQUFFLEdBQUcsT0FBUSxFQUFXLE9BQU8sS0FBSyxDQUFPLEVBQUUsR0FBRyxPQUNsRixFQUFTLEVBQVEsT0FBUyxFQUFXLEVBQU0sT0FDL0MsR0FBSSxFQUFVLE1BQU0sRUFBWSxFQUFhLEVBQUssTUFBTSxHQUFLLEdBQ3pELEVBQVEsTUFBTSxFQUFRLEVBQVMsRUFBTSxNQUFNLEdBQUssRUFDaEQsTUFBTyxDQUFFLEtBQU0sQ0FBRSxJQUFLLEVBQU8sRUFBYSxFQUFLLE9BQ3ZDLE9BQVEsS0FBSyxLQUFLLEVBQVUsT0FBTyxFQUFhLEVBQUssTUFBTSxDQUFDLEVBQUksRUFBSSxDQUFFLEVBQzFFLE1BQU8sQ0FBRSxJQUFLLEVBQUssRUFBVyxFQUFNLE9BQ2hDLE9BQVEsS0FBSyxLQUFLLEVBQVEsT0FBTyxFQUFTLENBQUMsQ0FBQyxFQUFJLEVBQUksQ0FBRSxDQUFFLEVBRXBFLE9BQU8sS0FFWCxTQUFTLEVBQWtCLENBQUMsRUFBTyxDQUMvQixJQUFJLEVBQVMsQ0FBQyxFQUNkLFFBQVMsS0FBSyxFQUFNLFVBQVUsT0FBUSxDQUNsQyxJQUFJLEVBQVcsRUFBTSxJQUFJLE9BQU8sRUFBRSxJQUFJLEVBQ2xDLEVBQVMsRUFBRSxJQUFNLEVBQVMsR0FBSyxFQUFXLEVBQU0sSUFBSSxPQUFPLEVBQUUsRUFBRSxFQUMvRCxFQUFPLEVBQU8sT0FBUyxFQUMzQixHQUFJLEdBQVEsR0FBSyxFQUFPLEdBQU0sR0FBSyxFQUFTLEtBQ3hDLEVBQU8sR0FBTSxHQUFLLEVBQU8sT0FFekIsR0FBTyxLQUFLLENBQUUsS0FBTSxFQUFTLEtBQU8sT0FBTyxLQUFLLEVBQVMsSUFBSSxFQUFFLEdBQUcsT0FBUSxHQUFJLEVBQU8sRUFBRyxDQUFDLEVBRWpHLE9BQU8sRUFJWCxTQUFTLEVBQWtCLENBQUMsRUFBUSxFQUFPLEVBQVMsRUFBTSxVQUFVLE9BQVEsQ0FDeEUsSUFBSSxFQUFTLEVBQU8sSUFBSSxLQUFLLEdBQVUsRUFBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQzNELElBQUssRUFBTyxNQUFNLEtBQUssQ0FBQyxFQUNwQixPQUFPLEtBQ1gsSUFBSSxFQUFXLEVBQU8sSUFBSSxDQUFDLEVBQUcsSUFBTSxHQUFpQixFQUFPLEVBQU8sR0FBSSxFQUFFLEtBQU0sRUFBRSxFQUFFLENBQUMsRUFDcEYsR0FBSSxHQUFVLElBQW9DLEVBQVMsTUFBTSxLQUFLLENBQUMsRUFDbkUsTUFBTyxDQUFFLFFBQVMsRUFBTSxRQUFRLEVBQU8sSUFBSSxDQUFDLEVBQU8sSUFBTSxDQUNqRCxHQUFJLEVBQVMsR0FDVCxNQUFPLENBQUMsRUFDWixNQUFPLENBQUMsQ0FBRSxLQUFNLEVBQU0sS0FBTSxPQUFRLEVBQU8sR0FBRyxLQUFPLEdBQUksRUFBRyxDQUFFLEtBQU0sRUFBTSxHQUFJLE9BQVEsSUFBTSxFQUFPLEdBQUcsS0FBTSxDQUFDLEVBQ2hILENBQUMsQ0FBRSxVQUVILEdBQVUsR0FBaUMsRUFBUyxLQUFLLEtBQUssQ0FBQyxFQUFHLENBQ3ZFLElBQUksRUFBVSxDQUFDLEVBQ2YsUUFBUyxFQUFJLEVBQUcsRUFBUyxFQUFJLEVBQVMsT0FBUSxJQUMxQyxHQUFJLEVBQVUsRUFBUyxHQUFJLENBQ3ZCLElBQUksRUFBUSxFQUFPLElBQU0sT0FBTSxTQUFVLEVBQ3pDLEVBQVEsS0FBSyxDQUFFLEtBQU0sRUFBSyxJQUFNLEVBQU0sS0FBSyxPQUFRLEdBQUksRUFBSyxJQUFNLEVBQUssTUFBTyxFQUFHLENBQUUsS0FBTSxFQUFNLElBQU0sRUFBTSxPQUFRLEdBQUksRUFBTSxJQUFNLEVBQU0sTUFBTSxNQUFPLENBQUMsRUFFL0osTUFBTyxDQUFFLFNBQVEsRUFFckIsT0FBTyxLQUdYLFNBQVMsRUFBaUIsQ0FBQyxFQUFRLEVBQU8sRUFBUyxFQUFNLFVBQVUsT0FBUSxDQUN2RSxJQUFJLEVBQVEsQ0FBQyxFQUNULEVBQVcsR0FDZixRQUFXLE9BQU0sUUFBUSxFQUFRLENBQzdCLElBQUksRUFBUyxFQUFNLE9BQVEsRUFBWSxJQUNuQyxFQUFRLEdBQVUsRUFBTyxDQUFJLEVBQUUsS0FDbkMsSUFBSyxFQUNELFNBQ0osUUFBUyxFQUFNLEVBQU0sR0FBTyxHQUFLLENBQzdCLElBQUksRUFBTyxFQUFNLElBQUksT0FBTyxDQUFHLEVBQy9CLEdBQUksRUFBSyxLQUFPLElBQWEsR0FBUSxHQUFNLEVBQUssRUFBSyxNQUFPLENBQ3hELEVBQVcsRUFBSyxLQUNoQixJQUFJLEVBQVMsT0FBTyxLQUFLLEVBQUssSUFBSSxFQUFFLEdBQUcsT0FDbkMsRUFBUSxHQUFVLEVBQUssT0FDdkIsRUFBVSxFQUFLLEtBQUssTUFBTSxFQUFRLEVBQVMsRUFBTSxNQUFNLEdBQUssRUFBUSxFQUFTLEdBQ2pGLEdBQUksRUFBUyxFQUFLLEtBQUssUUFBVSxFQUFTLEVBQ3RDLEVBQVksRUFDaEIsRUFBTSxLQUFLLENBQUUsT0FBTSxVQUFTLFFBQU8sU0FBUSxRQUFPLE9BQVEsRUFBTSxDQUFDLEVBRXJFLEVBQU0sRUFBSyxHQUFLLEVBRXBCLEdBQUksRUFBWSxLQUNaLFFBQVMsRUFBSSxFQUFRLEVBQUksRUFBTSxPQUFRLElBQ25DLEdBQUksRUFBTSxHQUFHLE9BQVMsRUFBTSxHQUFHLEtBQUssS0FBSyxPQUNyQyxFQUFNLEdBQUcsT0FBUyxFQUM5QixHQUFJLEVBQU0sUUFBVSxFQUFTLEVBQ3pCLEVBQU0sR0FBUSxPQUFTLEdBRS9CLEdBQUksR0FBVSxHQUFtQyxFQUFNLEtBQUssS0FBSyxFQUFFLFFBQVUsS0FBTyxFQUFFLE9BQVMsRUFBRSxPQUFPLEVBQUcsQ0FDdkcsSUFBSSxFQUFVLENBQUMsRUFDZixRQUFXLE9BQU0sUUFBTyxTQUFRLFFBQU8sWUFBWSxFQUMvQyxHQUFJLElBQVcsRUFDWCxFQUFRLEtBQUssQ0FBRSxLQUFNLEVBQUssS0FBTyxFQUFRLE9BQVEsRUFBUSxHQUFJLENBQUMsRUFDdEUsSUFBSSxFQUFZLEVBQU0sUUFBUSxDQUFPLEVBQ3JDLE1BQU8sQ0FBRSxRQUFTLEVBQVcsVUFBVyxFQUFNLFVBQVUsSUFBSSxFQUFXLENBQUMsQ0FBRSxVQUVyRSxHQUFVLEdBQWlDLEVBQU0sS0FBSyxLQUFLLEVBQUUsU0FBVyxDQUFDLEVBQUcsQ0FDakYsSUFBSSxFQUFVLENBQUMsRUFDZixRQUFXLE9BQU0sVUFBUyxXQUFXLEVBQ2pDLEdBQUksR0FBVyxFQUFHLENBQ2QsSUFBSSxFQUFPLEVBQUssS0FBTyxFQUFTLEVBQUssRUFBTyxFQUFNLE9BQ2xELEdBQUksRUFBSyxLQUFLLEVBQUssRUFBSyxPQUFTLElBQzdCLElBQ0osRUFBUSxLQUFLLENBQUUsT0FBTSxJQUFHLENBQUMsRUFFakMsTUFBTyxDQUFFLFNBQVEsRUFFckIsT0FBTyxLQTBFWCxTQUFTLEVBQU8sQ0FBQyxFQUFTLENBQUMsRUFBRyxDQUMxQixNQUFPLENBQ0gsR0FDQSxHQUFjLEdBQUcsQ0FBTSxFQUN2QixFQUFXLGlCQUFpQixDQUN4QixXQUFXLENBQUMsRUFBRyxFQUFNLENBQ2pCLElBQUksRUFBVSxFQUFFLFdBQWEsY0FBZ0IsR0FBTyxFQUFFLFdBQWEsY0FBZ0IsR0FBTyxLQUMxRixJQUFLLEVBQ0QsTUFBTyxHQUVYLE9BREEsRUFBRSxlQUFlLEVBQ1YsRUFBUSxDQUFJLEVBRTNCLENBQUMsQ0FDTCxFQVVKLFNBQVMsRUFBRyxDQUFDLEVBQU0sRUFBVyxDQUMxQixlQUFnQixFQUFHLFFBQU8sWUFBWSxDQUNsQyxJQUFLLEdBQWEsRUFBTSxTQUNwQixNQUFPLEdBQ1gsSUFBSSxFQUFlLEVBQU0sTUFBTSxHQUFlLEVBQUssRUFDbkQsSUFBSyxFQUNELE1BQU8sR0FDWCxJQUFJLEVBQUssRUFBYSxJQUFJLEVBQU0sRUFBTyxDQUFTLEVBQ2hELElBQUssRUFDRCxNQUFPLEdBRVgsT0FEQSxFQUFTLENBQUUsRUFDSixJQWlHZixTQUFTLEVBQVksQ0FBQyxFQUFRLEVBQUksRUFBUSxFQUFVLENBQ2hELElBQUksRUFBUSxFQUFLLEVBQUksRUFBUyxHQUFLLEVBQUssRUFBUyxFQUFJLEVBQ2pELEVBQVksRUFBTyxNQUFNLEVBQU8sQ0FBRSxFQUV0QyxPQURBLEVBQVUsS0FBSyxDQUFRLEVBQ2hCLEVBRVgsU0FBUyxFQUFVLENBQUMsRUFBRyxFQUFHLENBQ3RCLElBQUksRUFBUyxDQUFDLEVBQUcsRUFBYSxHQVM5QixPQVJBLEVBQUUsa0JBQWtCLENBQUMsRUFBRyxJQUFNLEVBQU8sS0FBSyxFQUFHLENBQUMsQ0FBQyxFQUMvQyxFQUFFLGtCQUFrQixDQUFDLEVBQUksRUFBSSxFQUFHLElBQU0sQ0FDbEMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLFFBQVMsQ0FDaEMsSUFBSSxFQUFPLEVBQU8sS0FBTSxFQUFLLEVBQU8sS0FDcEMsR0FBSSxHQUFLLEdBQVEsR0FBSyxFQUNsQixFQUFhLElBRXhCLEVBQ00sRUFFWCxTQUFTLEVBQWdCLENBQUMsRUFBRyxFQUFHLENBQzVCLE9BQU8sRUFBRSxPQUFPLFFBQVUsRUFBRSxPQUFPLFFBQy9CLEVBQUUsT0FBTyxPQUFPLENBQUMsRUFBRyxJQUFNLEVBQUUsT0FBUyxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUUsU0FBVyxFQUUzRSxTQUFTLEVBQUksQ0FBQyxFQUFHLEVBQUcsQ0FDaEIsT0FBUSxFQUFFLE9BQVMsR0FBSyxFQUFFLE9BQVMsRUFBSSxFQUFFLE9BQU8sQ0FBQyxFQUlyRCxTQUFTLEVBQVksQ0FBQyxFQUFRLEVBQVcsQ0FDckMsSUFBSyxFQUFPLE9BQ1IsTUFBTyxDQUFDLEdBQVUsVUFBVSxDQUFDLENBQVMsQ0FBQyxDQUFDLE1BRXZDLENBQ0QsSUFBSSxFQUFZLEVBQU8sRUFBTyxPQUFTLEdBQ25DLEVBQU8sRUFBVSxnQkFBZ0IsTUFBTSxLQUFLLElBQUksRUFBRyxFQUFVLGdCQUFnQixPQUFTLEVBQXFCLENBQUMsRUFDaEgsR0FBSSxFQUFLLFFBQVUsRUFBSyxFQUFLLE9BQVMsR0FBRyxHQUFHLENBQVMsRUFDakQsT0FBTyxFQUVYLE9BREEsRUFBSyxLQUFLLENBQVMsRUFDWixHQUFhLEVBQVEsRUFBTyxPQUFTLEVBQUcsSUFBSyxFQUFVLFlBQVksQ0FBSSxDQUFDLEdBSXZGLFNBQVMsRUFBWSxDQUFDLEVBQVEsQ0FDMUIsSUFBSSxFQUFPLEVBQU8sRUFBTyxPQUFTLEdBQzlCLEVBQVksRUFBTyxNQUFNLEVBRTdCLE9BREEsRUFBVSxFQUFPLE9BQVMsR0FBSyxFQUFLLFlBQVksRUFBSyxnQkFBZ0IsTUFBTSxFQUFHLEVBQUssZ0JBQWdCLE9BQVMsQ0FBQyxDQUFDLEVBQ3ZHLEVBS1gsU0FBUyxFQUFrQixDQUFDLEVBQVEsRUFBUyxDQUN6QyxJQUFLLEVBQU8sT0FDUixPQUFPLEVBQ1gsSUFBSSxFQUFTLEVBQU8sT0FBUSxFQUFhLEdBQ3pDLE1BQU8sRUFBUSxDQUNYLElBQUksRUFBUSxHQUFTLEVBQU8sRUFBUyxHQUFJLEVBQVMsQ0FBVSxFQUM1RCxHQUFJLEVBQU0sVUFBWSxFQUFNLFFBQVEsT0FBUyxFQUFNLFFBQVEsT0FBUSxDQUMvRCxJQUFJLEVBQVMsRUFBTyxNQUFNLEVBQUcsQ0FBTSxFQUVuQyxPQURBLEVBQU8sRUFBUyxHQUFLLEVBQ2QsTUFHUCxHQUFVLEVBQU0sT0FDaEIsSUFDQSxFQUFhLEVBQU0sZ0JBRzNCLE9BQU8sRUFBVyxPQUFTLENBQUMsR0FBVSxVQUFVLENBQVUsQ0FBQyxFQUFJLEdBRW5FLFNBQVMsRUFBUSxDQUFDLEVBQU8sRUFBUyxFQUFpQixDQUMvQyxJQUFJLEVBQWEsR0FBSyxFQUFNLGdCQUFnQixPQUFTLEVBQU0sZ0JBQWdCLElBQUksS0FBSyxFQUFFLElBQUksQ0FBTyxDQUFDLEVBQUksR0FBTSxDQUFlLEVBRTNILElBQUssRUFBTSxRQUNQLE9BQU8sR0FBVSxVQUFVLENBQVUsRUFDekMsSUFBSSxFQUFnQixFQUFNLFFBQVEsSUFBSSxDQUFPLEVBQUcsRUFBUyxFQUFRLFFBQVEsRUFBTSxRQUFTLEVBQUksRUFDeEYsRUFBYyxFQUFNLE9BQVMsRUFBTSxPQUFPLFlBQVksQ0FBTSxFQUFJLEVBQ3BFLE9BQU8sSUFBSSxHQUFVLEVBQWUsRUFBWSxXQUFXLEVBQU0sUUFBUyxDQUFPLEVBQUcsRUFBYSxFQUFNLGVBQWUsSUFBSSxDQUFNLEVBQUcsQ0FBVSxFQTBGakosU0FBUyxFQUFTLENBQUMsRUFBSyxFQUFJLENBQ3hCLE9BQU8sRUFBZ0IsT0FBTyxFQUFJLE9BQU8sSUFBSSxDQUFFLEVBQUcsRUFBSSxTQUFTLEVBRW5FLFNBQVMsRUFBTSxDQUFDLEVBQU8sRUFBVyxDQUM5QixPQUFPLEVBQU0sT0FBTyxDQUFFLFlBQVcsZUFBZ0IsR0FBTSxVQUFXLFFBQVMsQ0FBQyxFQUVoRixTQUFTLEVBQU8sRUFBRyxRQUFPLFlBQVksRUFBSyxDQUN2QyxJQUFJLEVBQVksR0FBVSxFQUFNLFVBQVcsQ0FBRyxFQUM5QyxHQUFJLEVBQVUsR0FBRyxFQUFNLFVBQVcsRUFBSSxFQUNsQyxNQUFPLEdBRVgsT0FEQSxFQUFTLEdBQU8sRUFBTyxDQUFTLENBQUMsRUFDMUIsR0FFWCxTQUFTLEVBQVEsQ0FBQyxFQUFPLEVBQVMsQ0FDOUIsT0FBTyxFQUFnQixPQUFPLEVBQVUsRUFBTSxHQUFLLEVBQU0sSUFBSSxFQUVqRSxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQVMsQ0FDakMsT0FBTyxHQUFRLEVBQU0sS0FBUyxFQUFNLE1BQVEsRUFBSyxXQUFXLEVBQU8sQ0FBTyxFQUFJLEdBQVMsRUFBTyxDQUFPLENBQUMsRUFFMUcsU0FBUyxFQUFXLENBQUMsRUFBTSxDQUN2QixPQUFPLEVBQUssZ0JBQWdCLEVBQUssTUFBTSxVQUFVLEtBQUssSUFBSSxHQUFLLEVBQVUsSUFtQjdFLFNBQVMsRUFBYSxDQUFDLEVBQU0sRUFBUyxDQUNsQyxPQUFPLEdBQVEsRUFBTSxLQUFTLEVBQU0sTUFBUSxFQUFLLFlBQVksRUFBTyxDQUFPLEVBQUksR0FBUyxFQUFPLENBQU8sQ0FBQyxFQXNGM0csU0FBUyxFQUFlLENBQUMsRUFBTyxFQUFNLEVBQWEsQ0FDL0MsR0FBSSxFQUFLLEtBQUssS0FBSyxDQUFXLEVBQzFCLE1BQU8sR0FDWCxJQUFJLEVBQU0sRUFBSyxHQUFLLEVBQUssS0FDekIsT0FBTyxJQUFRLEVBQU0sR0FBSyxZQUFZLEtBQUssRUFBTSxTQUFTLEVBQUssS0FBTSxFQUFLLEVBQUUsQ0FBQyxJQUFNLEVBQUssV0FFNUYsU0FBUyxFQUFZLENBQUMsRUFBTyxFQUFPLEVBQVMsQ0FDekMsSUFBSSxFQUFNLEVBQVcsQ0FBSyxFQUFFLGFBQWEsRUFBTSxJQUFJLEVBQy9DLEVBQWMsRUFBVSxFQUFTLFNBQVcsRUFBUyxTQUd6RCxRQUFTLEVBQUssRUFBTSxPQUFRLENBQ3hCLElBQUksRUFBTyxFQUFVLEVBQUksV0FBVyxDQUFFLEVBQUksRUFBSSxZQUFZLENBQUUsRUFDNUQsSUFBSyxFQUNELE1BQ0osR0FBSSxHQUFnQixFQUFPLEVBQU0sQ0FBVyxFQUN4QyxFQUFNLE1BRU4sR0FBSyxFQUFVLEVBQUssR0FBSyxFQUFLLEtBRXRDLElBQUksRUFBVSxFQUFJLEtBQUssS0FBSyxDQUFXLEVBQUcsRUFBTyxFQUNqRCxHQUFJLElBQVksRUFBUSxFQUFVLEdBQWMsRUFBTyxFQUFJLEtBQU0sQ0FBQyxFQUFJLEdBQWMsRUFBTyxFQUFJLEdBQUksRUFBRSxJQUFNLEVBQU0sUUFDN0csRUFBUyxFQUFVLEVBQU0sSUFBSSxHQUFLLEVBQU0sSUFBSSxTQUU1QyxHQUFTLEVBQVUsRUFBSSxHQUFLLEVBQUksS0FDcEMsT0FBTyxFQUFnQixPQUFPLEVBQVEsRUFBVSxHQUFLLENBQUMsRUFVMUQsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFTLENBQ2pDLE9BQU8sR0FBUSxFQUFNLEtBQVMsQ0FDMUIsSUFBSyxFQUFNLE1BQ1AsT0FBTyxHQUFTLEVBQU8sQ0FBTyxFQUNsQyxJQUFJLEVBQVEsRUFBSyxlQUFlLEVBQU8sQ0FBTyxFQUM5QyxPQUFPLEVBQU0sTUFBUSxFQUFNLEtBQU8sRUFBUSxFQUFLLG1CQUFtQixFQUFPLENBQU8sRUFDbkYsRUFVTCxTQUFTLEVBQVEsQ0FBQyxFQUFNLENBQ3BCLElBQUksRUFBYSxFQUFLLFVBQVUsYUFBZSxFQUFLLFVBQVUsYUFBZSxFQUN6RSxFQUFZLEVBQUcsRUFBZSxFQUFHLEVBQ3JDLEdBQUksRUFBWSxDQUNaLFFBQVMsS0FBVSxFQUFLLE1BQU0sTUFBTSxFQUFXLGFBQWEsRUFBRyxDQUMzRCxJQUFJLEVBQVUsRUFBTyxDQUFJLEVBQ3pCLEdBQUksSUFBWSxNQUFRLElBQWlCLE9BQVMsT0FBSSxFQUFRLElBQzFELEVBQVksS0FBSyxJQUFJLElBQVksTUFBUSxJQUFpQixPQUFTLE9BQUksRUFBUSxJQUFLLENBQVMsRUFDakcsR0FBSSxJQUFZLE1BQVEsSUFBaUIsT0FBUyxPQUFJLEVBQVEsT0FDMUQsRUFBZSxLQUFLLElBQUksSUFBWSxNQUFRLElBQWlCLE9BQVMsT0FBSSxFQUFRLE9BQVEsQ0FBWSxFQUU5RyxFQUFTLEVBQUssVUFBVSxhQUFlLEVBQVksTUFHbkQsSUFBVSxFQUFLLElBQUksY0FBYyxhQUFlLFFBQVEsWUFFNUQsTUFBTyxDQUFFLFlBQVcsZUFBYyxhQUM5QixPQUFRLEtBQUssSUFBSSxFQUFLLGtCQUFtQixFQUFTLENBQUMsQ0FBRSxFQUU3RCxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQVMsQ0FDakMsSUFBSSxFQUFPLEdBQVMsQ0FBSSxHQUNsQixTQUFVLEVBQU0sRUFBWSxHQUFVLEVBQU0sVUFBVyxLQUFTLENBQ2xFLE9BQU8sRUFBTSxNQUFRLEVBQUssZUFBZSxFQUFPLEVBQVMsRUFBSyxNQUFNLEVBQzlELEdBQVMsRUFBTyxDQUFPLEVBQ2hDLEVBQ0QsR0FBSSxFQUFVLEdBQUcsRUFBTSxTQUFTLEVBQzVCLE1BQU8sR0FDWCxJQUFJLEVBQ0osR0FBSSxFQUFLLFdBQVksQ0FDakIsSUFBSSxFQUFXLEVBQUssWUFBWSxFQUFNLFVBQVUsS0FBSyxJQUFJLEVBQ3JELEVBQWEsRUFBSyxVQUFVLHNCQUFzQixFQUNsRCxFQUFZLEVBQVcsSUFBTSxFQUFLLFVBQVcsRUFBZSxFQUFXLE9BQVMsRUFBSyxhQUN6RixHQUFJLEdBQVksRUFBUyxJQUFNLEdBQWEsRUFBUyxPQUFTLEVBQzFELEVBQVMsRUFBVyxlQUFlLEVBQVUsS0FBSyxLQUFNLENBQUUsRUFBRyxRQUFTLFFBQVMsRUFBUyxJQUFNLENBQVUsQ0FBQyxFQUdqSCxPQURBLEVBQUssU0FBUyxHQUFPLEVBQU8sQ0FBUyxFQUFHLENBQUUsUUFBUyxDQUFPLENBQUMsRUFDcEQsR0FVWCxTQUFTLEVBQWtCLENBQUMsRUFBTSxFQUFPLEVBQVMsQ0FDOUMsSUFBSSxFQUFPLEVBQUssWUFBWSxFQUFNLElBQUksRUFBRyxFQUFRLEVBQUssbUJBQW1CLEVBQU8sQ0FBTyxFQUN2RixHQUFJLEVBQU0sTUFBUSxFQUFNLE1BQVEsRUFBTSxPQUFTLEVBQVUsRUFBSyxHQUFLLEVBQUssTUFDcEUsRUFBUSxFQUFLLG1CQUFtQixFQUFPLEVBQVMsRUFBSyxFQUN6RCxJQUFLLEdBQVcsRUFBTSxNQUFRLEVBQUssTUFBUSxFQUFLLE9BQVEsQ0FDcEQsSUFBSSxFQUFRLE9BQU8sS0FBSyxFQUFLLE1BQU0sU0FBUyxFQUFLLEtBQU0sS0FBSyxJQUFJLEVBQUssS0FBTyxJQUFLLEVBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLE9BQy9GLEdBQUksR0FBUyxFQUFNLE1BQVEsRUFBSyxLQUFPLEVBQ25DLEVBQVEsRUFBZ0IsT0FBTyxFQUFLLEtBQU8sQ0FBSyxFQUV4RCxPQUFPLEVBOEJYLFNBQVMsRUFBaUIsQ0FBQyxFQUFPLEVBQVUsRUFBUSxDQUNoRCxJQUFJLEVBQVEsR0FBTyxFQUFZLEdBQVUsRUFBTSxVQUFXLEtBQVMsQ0FDL0QsSUFBSSxFQUFXLEdBQWMsRUFBTyxFQUFNLEtBQU0sRUFBRSxHQUMzQyxHQUFjLEVBQU8sRUFBTSxLQUFNLENBQUMsR0FDakMsRUFBTSxLQUFPLEdBQUssR0FBYyxFQUFPLEVBQU0sS0FBTyxFQUFHLENBQUMsR0FDeEQsRUFBTSxLQUFPLEVBQU0sSUFBSSxRQUFVLEdBQWMsRUFBTyxFQUFNLEtBQU8sRUFBRyxFQUFFLEVBQ2hGLElBQUssSUFBYSxFQUFTLElBQ3ZCLE9BQU8sRUFDWCxFQUFRLEdBQ1IsSUFBSSxFQUFPLEVBQVMsTUFBTSxNQUFRLEVBQU0sS0FBTyxFQUFTLElBQUksR0FBSyxFQUFTLElBQUksS0FDOUUsT0FBTyxFQUFTLEVBQWdCLE1BQU0sRUFBTSxPQUFRLENBQUksRUFBSSxFQUFnQixPQUFPLENBQUksRUFDMUYsRUFDRCxJQUFLLEVBQ0QsTUFBTyxHQUVYLE9BREEsRUFBUyxHQUFPLEVBQU8sQ0FBUyxDQUFDLEVBQzFCLEdBWVgsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFLLENBQzFCLElBQUksRUFBWSxHQUFVLEVBQUssTUFBTSxVQUFXLEtBQVMsQ0FDckQsSUFBSSxFQUFPLEVBQUksQ0FBSyxFQUNwQixPQUFPLEVBQWdCLE1BQU0sRUFBTSxPQUFRLEVBQUssS0FBTSxFQUFLLFdBQVksRUFBSyxXQUFhLE1BQVMsRUFDckcsRUFDRCxHQUFJLEVBQVUsR0FBRyxFQUFLLE1BQU0sU0FBUyxFQUNqQyxNQUFPLEdBRVgsT0FEQSxFQUFLLFNBQVMsR0FBTyxFQUFLLE1BQU8sQ0FBUyxDQUFDLEVBQ3BDLEdBRVgsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFTLENBQ2pDLE9BQU8sR0FBVSxFQUFNLEtBQVMsRUFBSyxXQUFXLEVBQU8sQ0FBTyxDQUFDLEVBbUJuRSxTQUFTLEVBQWEsQ0FBQyxFQUFNLEVBQVMsQ0FDbEMsT0FBTyxHQUFVLEVBQU0sS0FBUyxFQUFLLFlBQVksRUFBTyxDQUFPLENBQUMsRUFzQ3BFLFNBQVMsRUFBWSxDQUFDLEVBQU0sRUFBUyxDQUNqQyxPQUFPLEdBQVUsRUFBTSxLQUFTLEVBQUssZUFBZSxFQUFPLENBQU8sQ0FBQyxFQVV2RSxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQVMsQ0FDakMsT0FBTyxHQUFVLEVBQU0sS0FBUyxFQUFLLGVBQWUsRUFBTyxFQUFTLEdBQVMsQ0FBSSxFQUFFLE1BQU0sQ0FBQyxFQW1IOUYsU0FBUyxFQUFRLENBQUMsRUFBUSxFQUFJLENBQzFCLEdBQUksRUFBTyxNQUFNLFNBQ2IsTUFBTyxHQUNYLElBQUksRUFBUSxvQkFBc0IsU0FBVSxFQUN4QyxFQUFVLEVBQU0sY0FBYyxLQUFTLENBQ3ZDLElBQU0sT0FBTSxNQUFPLEVBQ25CLEdBQUksR0FBUSxFQUFJLENBQ1osSUFBSSxFQUFVLEVBQUcsQ0FBSyxFQUN0QixHQUFJLEVBQVUsRUFDVixFQUFRLGtCQUNSLEVBQVUsR0FBVyxFQUFRLEVBQVMsRUFBSyxVQUV0QyxFQUFVLEVBQ2YsRUFBUSxpQkFDUixFQUFVLEdBQVcsRUFBUSxFQUFTLEVBQUksRUFFOUMsRUFBTyxLQUFLLElBQUksRUFBTSxDQUFPLEVBQzdCLEVBQUssS0FBSyxJQUFJLEVBQUksQ0FBTyxNQUd6QixHQUFPLEdBQVcsRUFBUSxFQUFNLEVBQUssRUFDckMsRUFBSyxHQUFXLEVBQVEsRUFBSSxFQUFJLEVBRXBDLE9BQU8sR0FBUSxFQUFLLENBQUUsT0FBTSxFQUFJLENBQUUsUUFBUyxDQUFFLE9BQU0sSUFBRyxFQUFHLE1BQU8sRUFBZ0IsT0FBTyxFQUFNLEVBQU8sRUFBTSxLQUFPLEdBQUssQ0FBQyxDQUFFLEVBQzVILEVBQ0QsR0FBSSxFQUFRLFFBQVEsTUFDaEIsTUFBTyxHQU1YLE9BTEEsRUFBTyxTQUFTLEVBQU0sT0FBTyxFQUFTLENBQ2xDLGVBQWdCLEdBQ2hCLFVBQVcsRUFDWCxRQUFTLEdBQVMsbUJBQXFCLEVBQVcsU0FBUyxHQUFHLEVBQU0sT0FBTyxtQkFBbUIsQ0FBQyxFQUFJLE1BQ3ZHLENBQUMsQ0FBQyxFQUNLLEdBRVgsU0FBUyxFQUFVLENBQUMsRUFBUSxFQUFLLEVBQVMsQ0FDdEMsR0FBSSxhQUFrQixFQUNsQixRQUFTLEtBQVUsRUFBTyxNQUFNLE1BQU0sRUFBVyxZQUFZLEVBQUUsSUFBSSxLQUFLLEVBQUUsQ0FBTSxDQUFDLEVBQzdFLEVBQU8sUUFBUSxFQUFLLEVBQUssQ0FBQyxFQUFNLElBQU8sQ0FDbkMsR0FBSSxFQUFPLEdBQU8sRUFBSyxFQUNuQixFQUFNLEVBQVUsRUFBSyxFQUM1QixFQUNULE9BQU8sRUFtS1gsU0FBUyxFQUFrQixDQUFDLEVBQU8sQ0FDL0IsSUFBSSxFQUFTLENBQUMsRUFBRyxFQUFPLEdBQ3hCLFFBQVMsS0FBUyxFQUFNLFVBQVUsT0FBUSxDQUN0QyxJQUFJLEVBQVksRUFBTSxJQUFJLE9BQU8sRUFBTSxJQUFJLEVBQUcsRUFBVSxFQUFNLElBQUksT0FBTyxFQUFNLEVBQUUsRUFDakYsSUFBSyxFQUFNLE9BQVMsRUFBTSxJQUFNLEVBQVEsS0FDcEMsRUFBVSxFQUFNLElBQUksT0FBTyxFQUFNLEdBQUssQ0FBQyxFQUMzQyxHQUFJLEdBQVEsRUFBVSxPQUFRLENBQzFCLElBQUksRUFBTyxFQUFPLEVBQU8sT0FBUyxHQUNsQyxFQUFLLEdBQUssRUFBUSxHQUNsQixFQUFLLE9BQU8sS0FBSyxDQUFLLE1BR3RCLEdBQU8sS0FBSyxDQUFFLEtBQU0sRUFBVSxLQUFNLEdBQUksRUFBUSxHQUFJLE9BQVEsQ0FBQyxDQUFLLENBQUUsQ0FBQyxFQUV6RSxFQUFPLEVBQVEsT0FBUyxFQUU1QixPQUFPLEVBRVgsU0FBUyxFQUFRLENBQUMsRUFBTyxFQUFVLEVBQVMsQ0FDeEMsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUNYLElBQUksRUFBVSxDQUFDLEVBQUcsRUFBUyxDQUFDLEVBQzVCLFFBQVMsS0FBUyxHQUFtQixDQUFLLEVBQUcsQ0FDekMsR0FBSSxFQUFVLEVBQU0sSUFBTSxFQUFNLElBQUksT0FBUyxFQUFNLE1BQVEsRUFDdkQsU0FDSixJQUFJLEVBQVcsRUFBTSxJQUFJLE9BQU8sRUFBVSxFQUFNLEdBQUssRUFBSSxFQUFNLEtBQU8sQ0FBQyxFQUNuRSxFQUFPLEVBQVMsT0FBUyxFQUM3QixHQUFJLEVBQVMsQ0FDVCxFQUFRLEtBQUssQ0FBRSxLQUFNLEVBQU0sR0FBSSxHQUFJLEVBQVMsRUFBRyxFQUFHLENBQUUsS0FBTSxFQUFNLEtBQU0sT0FBUSxFQUFTLEtBQU8sRUFBTSxTQUFVLENBQUMsRUFDL0csUUFBUyxLQUFLLEVBQU0sT0FDaEIsRUFBTyxLQUFLLEVBQWdCLE1BQU0sS0FBSyxJQUFJLEVBQU0sSUFBSSxPQUFRLEVBQUUsT0FBUyxDQUFJLEVBQUcsS0FBSyxJQUFJLEVBQU0sSUFBSSxPQUFRLEVBQUUsS0FBTyxDQUFJLENBQUMsQ0FBQyxNQUU1SCxDQUNELEVBQVEsS0FBSyxDQUFFLEtBQU0sRUFBUyxLQUFNLEdBQUksRUFBTSxJQUFLLEVBQUcsQ0FBRSxLQUFNLEVBQU0sR0FBSSxPQUFRLEVBQU0sVUFBWSxFQUFTLElBQUssQ0FBQyxFQUNqSCxRQUFTLEtBQUssRUFBTSxPQUNoQixFQUFPLEtBQUssRUFBZ0IsTUFBTSxFQUFFLE9BQVMsRUFBTSxFQUFFLEtBQU8sQ0FBSSxDQUFDLEdBRzdFLElBQUssRUFBUSxPQUNULE1BQU8sR0FPWCxPQU5BLEVBQVMsRUFBTSxPQUFPLENBQ2xCLFVBQ0EsZUFBZ0IsR0FDaEIsVUFBVyxFQUFnQixPQUFPLEVBQVEsRUFBTSxVQUFVLFNBQVMsRUFDbkUsVUFBVyxXQUNmLENBQUMsQ0FBQyxFQUNLLEdBVVgsU0FBUyxFQUFRLENBQUMsRUFBTyxFQUFVLEVBQVMsQ0FDeEMsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUNYLElBQUksRUFBVSxDQUFDLEVBQ2YsUUFBUyxLQUFTLEdBQW1CLENBQUssRUFDdEMsR0FBSSxFQUNBLEVBQVEsS0FBSyxDQUFFLEtBQU0sRUFBTSxLQUFNLE9BQVEsRUFBTSxJQUFJLE1BQU0sRUFBTSxLQUFNLEVBQU0sRUFBRSxFQUFJLEVBQU0sU0FBVSxDQUFDLE1BRWxHLEdBQVEsS0FBSyxDQUFFLEtBQU0sRUFBTSxHQUFJLE9BQVEsRUFBTSxVQUFZLEVBQU0sSUFBSSxNQUFNLEVBQU0sS0FBTSxFQUFNLEVBQUUsQ0FBRSxDQUFDLEVBR3hHLE9BREEsRUFBUyxFQUFNLE9BQU8sQ0FBRSxVQUFTLGVBQWdCLEdBQU0sVUFBVyxnQkFBaUIsQ0FBQyxDQUFDLEVBQzlFLEdBd0RYLFNBQVMsRUFBaUIsQ0FBQyxFQUFPLEVBQUssQ0FDbkMsR0FBSSxpQkFBaUIsS0FBSyxFQUFNLFNBQVMsRUFBTSxFQUFHLEVBQU0sQ0FBQyxDQUFDLEVBQ3RELE1BQU8sQ0FBRSxLQUFNLEVBQUssR0FBSSxDQUFJLEVBQ2hDLElBQUksRUFBVSxFQUFXLENBQUssRUFBRSxhQUFhLENBQUcsRUFDNUMsRUFBUyxFQUFRLFlBQVksQ0FBRyxFQUFHLEVBQVEsRUFBUSxXQUFXLENBQUcsRUFBRyxFQUN4RSxHQUFJLEdBQVUsR0FBUyxFQUFPLElBQU0sR0FBTyxFQUFNLE1BQVEsSUFDcEQsRUFBVyxFQUFPLEtBQUssS0FBSyxFQUFTLFFBQVEsSUFBTSxFQUFTLFFBQVEsRUFBTSxJQUFJLEVBQUksSUFDbkYsRUFBTSxJQUFJLE9BQU8sRUFBTyxFQUFFLEVBQUUsTUFBUSxFQUFNLElBQUksT0FBTyxFQUFNLElBQUksRUFBRSxPQUNoRSxLQUFLLEtBQUssRUFBTSxTQUFTLEVBQU8sR0FBSSxFQUFNLElBQUksQ0FBQyxFQUNoRCxNQUFPLENBQUUsS0FBTSxFQUFPLEdBQUksR0FBSSxFQUFNLElBQUssRUFDN0MsT0FBTyxLQWNYLFNBQVMsRUFBZ0IsQ0FBQyxFQUFPLENBQzdCLE1BQU8sRUFBRyxRQUFPLGNBQWUsQ0FDNUIsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUNYLElBQUksRUFBVSxFQUFNLGNBQWMsS0FBUyxDQUN2QyxJQUFNLE9BQU0sTUFBTyxFQUFPLEVBQU8sRUFBTSxJQUFJLE9BQU8sQ0FBSSxFQUNsRCxHQUFXLEdBQVMsR0FBUSxHQUFNLEdBQWtCLEVBQU8sQ0FBSSxFQUNuRSxHQUFJLEVBQ0EsRUFBTyxHQUFNLEdBQU0sRUFBSyxHQUFLLEVBQU8sRUFBTSxJQUFJLE9BQU8sQ0FBRSxHQUFHLEdBQzlELElBQUksRUFBSyxJQUFJLEdBQWMsRUFBTyxDQUFFLGNBQWUsRUFBTSxzQkFBdUIsQ0FBUSxDQUFDLEVBQ3JGLEVBQVMsR0FBZSxFQUFJLENBQUksRUFDcEMsR0FBSSxHQUFVLEtBQ1YsRUFBUyxHQUFZLE9BQU8sS0FBSyxFQUFNLElBQUksT0FBTyxDQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUksRUFBTSxPQUFPLEVBQ25GLE1BQU8sRUFBSyxFQUFLLElBQU0sS0FBSyxLQUFLLEVBQUssS0FBSyxFQUFLLEVBQUssS0FBSyxFQUN0RCxJQUNKLEdBQUksRUFDQSxDQUFDLENBQUUsT0FBTSxJQUFHLEVBQUksV0FDWCxFQUFPLEVBQUssTUFBUSxFQUFPLEVBQUssS0FBTyxNQUFRLEtBQUssS0FBSyxFQUFLLEtBQUssTUFBTSxFQUFHLENBQUksQ0FBQyxFQUN0RixFQUFPLEVBQUssS0FDaEIsSUFBSSxFQUFTLENBQUMsR0FBSSxHQUFhLEVBQU8sQ0FBTSxDQUFDLEVBQzdDLEdBQUksRUFDQSxFQUFPLEtBQUssR0FBYSxFQUFPLEVBQUcsV0FBVyxFQUFLLEtBQU0sRUFBRSxDQUFDLENBQUMsRUFDakUsTUFBTyxDQUFFLFFBQVMsQ0FBRSxPQUFNLEtBQUksT0FBUSxFQUFLLEdBQUcsQ0FBTSxDQUFFLEVBQ2xELE1BQU8sRUFBZ0IsT0FBTyxFQUFPLEVBQUksRUFBTyxHQUFHLE1BQU0sQ0FBRSxFQUNsRSxFQUVELE9BREEsRUFBUyxFQUFNLE9BQU8sRUFBUyxDQUFFLGVBQWdCLEdBQU0sVUFBVyxPQUFRLENBQUMsQ0FBQyxFQUNyRSxJQUdmLFNBQVMsRUFBb0IsQ0FBQyxFQUFPLEVBQUcsQ0FDcEMsSUFBSSxFQUFTLEdBQ2IsT0FBTyxFQUFNLGNBQWMsS0FBUyxDQUNoQyxJQUFJLEVBQVUsQ0FBQyxFQUNmLFFBQVMsRUFBTSxFQUFNLEtBQU0sR0FBTyxFQUFNLElBQUssQ0FDekMsSUFBSSxFQUFPLEVBQU0sSUFBSSxPQUFPLENBQUcsRUFDL0IsR0FBSSxFQUFLLE9BQVMsSUFBVyxFQUFNLE9BQVMsRUFBTSxHQUFLLEVBQUssTUFDeEQsRUFBRSxFQUFNLEVBQVMsQ0FBSyxFQUN0QixFQUFTLEVBQUssT0FFbEIsRUFBTSxFQUFLLEdBQUssRUFFcEIsSUFBSSxFQUFZLEVBQU0sUUFBUSxDQUFPLEVBQ3JDLE1BQU8sQ0FBRSxVQUNMLE1BQU8sRUFBZ0IsTUFBTSxFQUFVLE9BQU8sRUFBTSxPQUFRLENBQUMsRUFBRyxFQUFVLE9BQU8sRUFBTSxLQUFNLENBQUMsQ0FBQyxDQUFFLEVBQ3hHLEVBajVDTCxJQUFNLEdBQWdCLEtBQVUsQ0FDNUIsSUFBTSxTQUFVLEVBQVEsRUFBTyxFQUFNLElBQUksT0FBTyxFQUFNLFVBQVUsS0FBSyxJQUFJLEVBQUcsRUFBUyxHQUFVLEVBQU8sTUFBTyxFQUFLLElBQUksRUFDdEgsT0FBTyxFQUFPLEtBQU8sR0FBa0IsQ0FBTSxFQUFJLEVBQU8sTUFBUSxHQUF5QixDQUFNLEVBQUksSUFtQmpHLEdBQWlDLEdBQVEsR0FBbUIsQ0FBNEIsRUFlOUYsSUFBTSxHQUFrQyxHQUFRLEdBQW9CLENBQTRCLEVBYWhHLElBQU0sR0FBd0MsR0FBUSxDQUFDLEVBQUcsSUFBTSxHQUFtQixFQUFHLEVBQUcsR0FBbUIsQ0FBQyxDQUFDLEVBQUcsQ0FBNEIsRUFLdkksR0FBZSxHQTJIZixHQUEyQixHQUFXLE9BQU8sRUFRN0MsR0FBOEIsR0FBVyxPQUFPLEVBUWhELEdBQStCLEVBQU0sT0FBTyxFQUM1QyxHQUE2QixFQUFNLE9BQU8sQ0FDNUMsT0FBTyxDQUFDLEVBQVMsQ0FDYixPQUFPLEdBQWMsRUFBUyxDQUMxQixTQUFVLElBQ1YsY0FBZSxJQUNmLFlBQWEsQ0FBQyxFQUFJLElBQWUsQ0FDckMsRUFBRyxDQUNDLFNBQVUsS0FBSyxJQUNmLGNBQWUsS0FBSyxJQUNwQixZQUFhLENBQUMsRUFBRyxJQUFNLENBQUMsRUFBSSxJQUFRLEVBQUUsRUFBSSxDQUFHLEdBQUssRUFBRSxFQUFJLENBQUcsQ0FDL0QsQ0FBQyxFQUVULENBQUMsRUFDSyxHQUE2QixHQUFXLE9BQU8sQ0FDakQsTUFBTSxFQUFHLENBQ0wsT0FBTyxHQUFhLE9BRXhCLE1BQU0sQ0FBQyxFQUFPLEVBQUksQ0FDZCxJQUFJLEVBQVMsRUFBRyxNQUFNLE1BQU0sRUFBYSxFQUNyQyxFQUFXLEVBQUcsV0FBVyxFQUFXLEVBQ3hDLEdBQUksRUFBVSxDQUNWLElBQUksRUFBTyxHQUFVLGdCQUFnQixFQUFJLEVBQVMsU0FBUyxFQUFHLEVBQU8sRUFBUyxLQUMxRSxFQUFRLEdBQVEsRUFBMEIsRUFBTSxPQUFTLEVBQU0sS0FDbkUsR0FBSSxFQUNBLEVBQVEsR0FBYSxFQUFPLEVBQU0sT0FBUSxFQUFPLFNBQVUsQ0FBSSxNQUUvRCxHQUFRLEdBQWEsRUFBTyxFQUFHLFdBQVcsU0FBUyxFQUN2RCxPQUFPLElBQUksR0FBYSxHQUFRLEVBQTBCLEVBQVMsS0FBTyxFQUFPLEdBQVEsRUFBMEIsRUFBUSxFQUFTLElBQUksRUFFNUksSUFBSSxFQUFVLEVBQUcsV0FBVyxFQUFjLEVBQzFDLEdBQUksR0FBVyxRQUFVLEdBQVcsU0FDaEMsRUFBUSxFQUFNLFFBQVEsRUFDMUIsR0FBSSxFQUFHLFdBQVcsRUFBWSxZQUFZLElBQU0sR0FDNUMsT0FBUSxFQUFHLFFBQVEsTUFBUSxFQUFNLFdBQVcsRUFBRyxRQUFRLElBQUksRUFBSSxFQUNuRSxJQUFJLEVBQVEsR0FBVSxnQkFBZ0IsQ0FBRSxFQUNwQyxFQUFPLEVBQUcsV0FBVyxFQUFZLElBQUksRUFBRyxFQUFZLEVBQUcsV0FBVyxFQUFZLFNBQVMsRUFDM0YsR0FBSSxFQUNBLEVBQVEsRUFBTSxXQUFXLEVBQU8sRUFBTSxFQUFXLEVBQVEsQ0FBRSxVQUN0RCxFQUFHLFVBQ1IsRUFBUSxFQUFNLGFBQWEsRUFBRyxXQUFXLFVBQVcsRUFBTSxFQUFXLEVBQU8sYUFBYSxFQUM3RixHQUFJLEdBQVcsUUFBVSxHQUFXLFFBQ2hDLEVBQVEsRUFBTSxRQUFRLEVBQzFCLE9BQU8sR0FFWCxNQUFNLENBQUMsRUFBTyxDQUNWLE1BQU8sQ0FBRSxLQUFNLEVBQU0sS0FBSyxJQUFJLEtBQUssRUFBRSxPQUFPLENBQUMsRUFBRyxPQUFRLEVBQU0sT0FBTyxJQUFJLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBRSxHQUU5RixRQUFRLENBQUMsRUFBTSxDQUNYLE9BQU8sSUFBSSxHQUFhLEVBQUssS0FBSyxJQUFJLEdBQVUsUUFBUSxFQUFHLEVBQUssT0FBTyxJQUFJLEdBQVUsUUFBUSxDQUFDLEVBRXRHLENBQUMsRUE2Q0QsSUFBTSxHQUFvQixHQUFJLEVBQXlCLEVBQUssRUFLdEQsR0FBb0IsR0FBSSxFQUEyQixFQUFLLEVBSXhELEdBQTZCLEdBQUksRUFBeUIsRUFBSSxFQUk5RCxHQUE2QixHQUFJLEVBQTJCLEVBQUksRUFvQnRFLE1BQU0sRUFBVSxDQUNaLFdBQVcsQ0FNWCxFQUVBLEVBR0EsRUFFQSxFQUdBLEVBQWlCLENBQ2IsS0FBSyxRQUFVLEVBQ2YsS0FBSyxRQUFVLEVBQ2YsS0FBSyxPQUFTLEVBQ2QsS0FBSyxlQUFpQixFQUN0QixLQUFLLGdCQUFrQixFQUUzQixXQUFXLENBQUMsRUFBTyxDQUNmLE9BQU8sSUFBSSxHQUFVLEtBQUssUUFBUyxLQUFLLFFBQVMsS0FBSyxPQUFRLEtBQUssZUFBZ0IsQ0FBSyxFQUU1RixNQUFNLEVBQUcsQ0FDTCxJQUFJLEVBQUksRUFBSSxFQUNaLE1BQU8sQ0FDSCxTQUFVLEVBQUssS0FBSyxXQUFhLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxPQUFPLEVBQzVFLFFBQVMsRUFBSyxLQUFLLFVBQVksTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE9BQU8sRUFDMUUsZ0JBQWlCLEVBQUssS0FBSyxrQkFBb0IsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE9BQU8sRUFDMUYsZ0JBQWlCLEtBQUssZ0JBQWdCLElBQUksS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUM3RCxRQUVHLFNBQVEsQ0FBQyxFQUFNLENBQ2xCLE9BQU8sSUFBSSxHQUFVLEVBQUssU0FBVyxFQUFVLFNBQVMsRUFBSyxPQUFPLEVBQUcsQ0FBQyxFQUFHLEVBQUssUUFBVSxHQUFXLFNBQVMsRUFBSyxNQUFNLEVBQUcsRUFBSyxnQkFBa0IsRUFBZ0IsU0FBUyxFQUFLLGNBQWMsRUFBRyxFQUFLLGdCQUFnQixJQUFJLEVBQWdCLFFBQVEsQ0FBQyxRQUtqUCxnQkFBZSxDQUFDLEVBQUksRUFBVyxDQUNsQyxJQUFJLEVBQVUsR0FDZCxRQUFTLEtBQVUsRUFBRyxXQUFXLE1BQU0sRUFBZSxFQUFHLENBQ3JELElBQUksRUFBUyxFQUFPLENBQUUsRUFDdEIsR0FBSSxFQUFPLE9BQ1AsRUFBVSxFQUFRLE9BQU8sQ0FBTSxFQUV2QyxJQUFLLEVBQVEsUUFBVSxFQUFHLFFBQVEsTUFDOUIsT0FBTyxLQUNYLE9BQU8sSUFBSSxHQUFVLEVBQUcsUUFBUSxPQUFPLEVBQUcsV0FBVyxHQUFHLEVBQUcsRUFBUyxPQUFXLEdBQWEsRUFBRyxXQUFXLFVBQVcsRUFBSSxRQUV0SCxVQUFTLENBQUMsRUFBWSxDQUN6QixPQUFPLElBQUksR0FBVSxPQUFXLEdBQU0sT0FBVyxPQUFXLENBQVUsRUFFOUUsQ0EwQkEsSUFBTSxHQUFPLENBQUMsRUFDUixHQUF3QixJQW9EeEIsR0FBb0IsOEJBQzFCLE1BQU0sRUFBYSxDQUNmLFdBQVcsQ0FBQyxFQUFNLEVBQVEsRUFBVyxFQUFHLEVBQWdCLE9BQVcsQ0FDL0QsS0FBSyxLQUFPLEVBQ1osS0FBSyxPQUFTLEVBQ2QsS0FBSyxTQUFXLEVBQ2hCLEtBQUssY0FBZ0IsRUFFekIsT0FBTyxFQUFHLENBQ04sT0FBTyxLQUFLLFNBQVcsSUFBSSxHQUFhLEtBQUssS0FBTSxLQUFLLE1BQU0sRUFBSSxLQUV0RSxVQUFVLENBQUMsRUFBTyxFQUFNLEVBQVcsRUFBUSxFQUFJLENBQzNDLElBQUksRUFBTyxLQUFLLEtBQU0sRUFBWSxFQUFLLEVBQUssT0FBUyxHQUNyRCxHQUFJLEdBQWEsRUFBVSxVQUFZLEVBQVUsUUFBUSxPQUFTLEVBQU0sV0FDbEUsR0FBYSxHQUFrQixLQUFLLENBQVMsTUFDNUMsRUFBVSxnQkFBZ0IsUUFDekIsRUFBTyxLQUFLLFNBQVcsRUFBTyxlQUM5QixFQUFPLFlBQVksRUFBSSxHQUFXLEVBQVUsUUFBUyxFQUFNLE9BQU8sQ0FBQyxHQUVuRSxHQUFhLHNCQUNqQixFQUFPLEdBQWEsRUFBTSxFQUFLLE9BQVMsRUFBRyxFQUFPLFNBQVUsSUFBSSxHQUFVLEVBQU0sUUFBUSxRQUFRLEVBQVUsT0FBTyxFQUFHLEdBQUssRUFBWSxXQUFXLEVBQU0sUUFBUyxFQUFVLE9BQU8sRUFBRyxFQUFVLE9BQU8sRUFBRyxFQUFVLE9BQVEsRUFBVSxlQUFnQixFQUFJLENBQUMsTUFHeFAsR0FBTyxHQUFhLEVBQU0sRUFBSyxPQUFRLEVBQU8sU0FBVSxDQUFLLEVBRWpFLE9BQU8sSUFBSSxHQUFhLEVBQU0sR0FBTSxFQUFNLENBQVMsRUFFdkQsWUFBWSxDQUFDLEVBQVcsRUFBTSxFQUFXLEVBQWUsQ0FDcEQsSUFBSSxFQUFPLEtBQUssS0FBSyxPQUFTLEtBQUssS0FBSyxLQUFLLEtBQUssT0FBUyxHQUFHLGdCQUFrQixHQUNoRixHQUFJLEVBQUssT0FBUyxHQUNkLEVBQU8sS0FBSyxTQUFXLEdBQ3ZCLEdBQWEsS0FBSyxlQUFpQixHQUFhLGdCQUFnQixLQUFLLENBQVMsR0FDOUUsR0FBaUIsRUFBSyxFQUFLLE9BQVMsR0FBSSxDQUFTLEVBQ2pELE9BQU8sS0FDWCxPQUFPLElBQUksR0FBYSxHQUFhLEtBQUssS0FBTSxDQUFTLEVBQUcsS0FBSyxPQUFRLEVBQU0sQ0FBUyxFQUU1RixVQUFVLENBQUMsRUFBUyxDQUNoQixPQUFPLElBQUksR0FBYSxHQUFtQixLQUFLLEtBQU0sQ0FBTyxFQUFHLEdBQW1CLEtBQUssT0FBUSxDQUFPLEVBQUcsS0FBSyxTQUFVLEtBQUssYUFBYSxFQUUvSSxHQUFHLENBQUMsRUFBTSxFQUFPLEVBQWUsQ0FDNUIsSUFBSSxFQUFTLEdBQVEsRUFBMEIsS0FBSyxLQUFPLEtBQUssT0FDaEUsR0FBSSxFQUFPLFFBQVUsRUFDakIsT0FBTyxLQUNYLElBQUksRUFBUSxFQUFPLEVBQU8sT0FBUyxHQUFJLEVBQVksRUFBTSxnQkFBZ0IsSUFBTSxFQUFNLFVBQ3JGLEdBQUksR0FBaUIsRUFBTSxnQkFBZ0IsT0FDdkMsT0FBTyxFQUFNLE9BQU8sQ0FDaEIsVUFBVyxFQUFNLGdCQUFnQixFQUFNLGdCQUFnQixPQUFTLEdBQ2hFLFlBQWEsR0FBWSxHQUFHLENBQUUsT0FBTSxLQUFNLEdBQWEsQ0FBTSxFQUFHLFdBQVUsQ0FBQyxFQUMzRSxVQUFXLEdBQVEsRUFBMEIsY0FBZ0IsY0FDN0QsZUFBZ0IsRUFDcEIsQ0FBQyxXQUVLLEVBQU0sUUFDWixPQUFPLFNBRU4sQ0FDRCxJQUFJLEVBQU8sRUFBTyxRQUFVLEVBQUksR0FBTyxFQUFPLE1BQU0sRUFBRyxFQUFPLE9BQVMsQ0FBQyxFQUN4RSxHQUFJLEVBQU0sT0FDTixFQUFPLEdBQW1CLEVBQU0sRUFBTSxNQUFNLEVBQ2hELE9BQU8sRUFBTSxPQUFPLENBQ2hCLFFBQVMsRUFBTSxRQUNmLFVBQVcsRUFBTSxlQUNqQixRQUFTLEVBQU0sUUFDZixZQUFhLEdBQVksR0FBRyxDQUFFLE9BQU0sT0FBTSxXQUFVLENBQUMsRUFDckQsT0FBUSxHQUNSLFVBQVcsR0FBUSxFQUEwQixPQUFTLE9BQ3RELGVBQWdCLEVBQ3BCLENBQUMsR0FHYixDQUNBLEdBQWEsTUFBcUIsSUFBSSxHQUFhLEdBQU0sRUFBSSxFQVM3RCxJQUFNLEdBQWdCLENBQ2xCLENBQUUsSUFBSyxRQUFTLElBQUssR0FBTSxlQUFnQixFQUFLLEVBQ2hELENBQUUsSUFBSyxRQUFTLElBQUssY0FBZSxJQUFLLEdBQU0sZUFBZ0IsRUFBSyxFQUNwRSxDQUFFLE1BQU8sZUFBZ0IsSUFBSyxHQUFNLGVBQWdCLEVBQUssRUFDekQsQ0FBRSxJQUFLLFFBQVMsSUFBSyxHQUFlLGVBQWdCLEVBQUssRUFDekQsQ0FBRSxJQUFLLFFBQVMsSUFBSyxjQUFlLElBQUssR0FBZSxlQUFnQixFQUFLLENBQ2pGLEVBNEJNLEdBQWlCLEtBQVEsR0FBYSxHQUFPLEdBQVksQ0FBSSxDQUFDLEVBSTlELEdBQWtCLEtBQVEsR0FBYSxFQUFNLEdBQVksQ0FBSSxDQUFDLEVBZ0JwRSxJQUFNLEdBQWtCLEtBQVEsR0FBYyxHQUFPLEdBQVksQ0FBSSxDQUFDLEVBSWhFLEdBQW1CLEtBQVEsR0FBYyxFQUFNLEdBQVksQ0FBSSxDQUFDLEVBU3RFLElBQU0sVUFBbUIsTUFBUSxhQUFlLEtBQUssVUFDcEMsSUFBSyxLQUFLLFVBQVcsT0FBVyxDQUFFLFlBQWEsTUFBTyxDQUFDLEVBQUksS0FnRzVFLElBQU0sR0FBbUIsS0FBUSxHQUFRLEVBQU0sS0FBUyxHQUFhLEVBQUssTUFBTyxHQUFRLEdBQVksQ0FBSSxDQUFDLENBQUMsRUFJckcsR0FBb0IsS0FBUSxHQUFRLEVBQU0sS0FBUyxHQUFhLEVBQUssTUFBTyxFQUFPLEdBQVksQ0FBSSxDQUFDLENBQUMsRUFZckcsR0FBZSxLQUFRLEdBQWEsRUFBTSxFQUFLLEVBSS9DLEdBQWlCLEtBQVEsR0FBYSxFQUFNLEVBQUksRUEwQ2hELEdBQWUsS0FBUSxHQUFhLEVBQU0sRUFBSyxFQUkvQyxHQUFpQixLQUFRLEdBQWEsRUFBTSxFQUFJLEVBZ0JoRCxHQUE0QixLQUFRLEdBQVEsRUFBTSxLQUFTLEdBQW1CLEVBQU0sRUFBTyxFQUFJLENBQUMsRUFPaEcsR0FBNkIsS0FBUSxHQUFRLEVBQU0sS0FBUyxHQUFtQixFQUFNLEVBQU8sRUFBSyxDQUFDLEVBSWxHLEdBQXlCLEtBQVEsR0FBUSxFQUFNLEtBQVMsR0FBbUIsRUFBTSxHQUFRLEdBQVksQ0FBSSxDQUFDLENBQUMsRUFJM0csR0FBMEIsS0FBUSxHQUFRLEVBQU0sS0FBUyxHQUFtQixFQUFNLEVBQU8sR0FBWSxDQUFJLENBQUMsQ0FBQyxFQUkzRyxHQUFrQixLQUFRLEdBQVEsRUFBTSxLQUFTLEVBQWdCLE9BQU8sRUFBSyxZQUFZLEVBQU0sSUFBSSxFQUFFLEtBQU0sQ0FBQyxDQUFDLEVBSTdHLEdBQWdCLEtBQVEsR0FBUSxFQUFNLEtBQVMsRUFBZ0IsT0FBTyxFQUFLLFlBQVksRUFBTSxJQUFJLEVBQUUsR0FBSSxFQUFFLENBQUMsRUFzQjFHLEdBQXdCLEVBQUcsUUFBTyxjQUFlLEdBQWtCLEVBQU8sRUFBVSxFQUFLLEVBdUIvRixJQUFNLEdBQWlCLEtBQVEsR0FBYSxHQUFPLEdBQVksQ0FBSSxDQUFDLEVBSTlELEdBQWtCLEtBQVEsR0FBYSxFQUFNLEdBQVksQ0FBSSxDQUFDLEVBZ0JwRSxJQUFNLEdBQWtCLEtBQVEsR0FBYyxHQUFPLEdBQVksQ0FBSSxDQUFDLEVBSWhFLEdBQW1CLEtBQVEsR0FBYyxFQUFNLEdBQVksQ0FBSSxDQUFDLEVBdUJ0RSxJQUFNLEdBQW1CLEtBQVEsR0FBVSxFQUFNLEtBQVMsR0FBYSxFQUFLLE1BQU8sR0FBUSxHQUFZLENBQUksQ0FBQyxDQUFDLEVBSXZHLEdBQW9CLEtBQVEsR0FBVSxFQUFNLEtBQVMsR0FBYSxFQUFLLE1BQU8sRUFBTyxHQUFZLENBQUksQ0FBQyxDQUFDLEVBT3ZHLEdBQWUsS0FBUSxHQUFhLEVBQU0sRUFBSyxFQUkvQyxHQUFpQixLQUFRLEdBQWEsRUFBTSxFQUFJLEVBT2hELEdBQWUsS0FBUSxHQUFhLEVBQU0sRUFBSyxFQUkvQyxHQUFpQixLQUFRLEdBQWEsRUFBTSxFQUFJLEVBSWhELEdBQTRCLEtBQVEsR0FBVSxFQUFNLEtBQVMsR0FBbUIsRUFBTSxFQUFPLEVBQUksQ0FBQyxFQUlsRyxHQUE2QixLQUFRLEdBQVUsRUFBTSxLQUFTLEdBQW1CLEVBQU0sRUFBTyxFQUFLLENBQUMsRUFJcEcsR0FBeUIsS0FBUSxHQUFVLEVBQU0sS0FBUyxHQUFtQixFQUFNLEdBQVEsR0FBWSxDQUFJLENBQUMsQ0FBQyxFQUk3RyxHQUEwQixLQUFRLEdBQVUsRUFBTSxLQUFTLEdBQW1CLEVBQU0sRUFBTyxHQUFZLENBQUksQ0FBQyxDQUFDLEVBSTdHLEdBQWtCLEtBQVEsR0FBVSxFQUFNLEtBQVMsRUFBZ0IsT0FBTyxFQUFLLFlBQVksRUFBTSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBSTVHLEdBQWdCLEtBQVEsR0FBVSxFQUFNLEtBQVMsRUFBZ0IsT0FBTyxFQUFLLFlBQVksRUFBTSxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBSXhHLEdBQWlCLEVBQUcsUUFBTyxjQUFlLENBRTVDLE9BREEsRUFBUyxHQUFPLEVBQU8sQ0FBRSxPQUFRLENBQUUsQ0FBQyxDQUFDLEVBQzlCLElBS0wsR0FBZSxFQUFHLFFBQU8sY0FBZSxDQUUxQyxPQURBLEVBQVMsR0FBTyxFQUFPLENBQUUsT0FBUSxFQUFNLElBQUksTUFBTyxDQUFDLENBQUMsRUFDN0MsSUFLTCxHQUFpQixFQUFHLFFBQU8sY0FBZSxDQUU1QyxPQURBLEVBQVMsR0FBTyxFQUFPLENBQUUsT0FBUSxFQUFNLFVBQVUsS0FBSyxPQUFRLEtBQU0sQ0FBRSxDQUFDLENBQUMsRUFDakUsSUFLTCxHQUFlLEVBQUcsUUFBTyxjQUFlLENBRTFDLE9BREEsRUFBUyxHQUFPLEVBQU8sQ0FBRSxPQUFRLEVBQU0sVUFBVSxLQUFLLE9BQVEsS0FBTSxFQUFNLElBQUksTUFBTyxDQUFDLENBQUMsRUFDaEYsSUFLTCxHQUFZLEVBQUcsUUFBTyxjQUFlLENBRXZDLE9BREEsRUFBUyxFQUFNLE9BQU8sQ0FBRSxVQUFXLENBQUUsT0FBUSxFQUFHLEtBQU0sRUFBTSxJQUFJLE1BQU8sRUFBRyxVQUFXLFFBQVMsQ0FBQyxDQUFDLEVBQ3pGLElBS0wsR0FBYSxFQUFHLFFBQU8sY0FBZSxDQUN4QyxJQUFJLEVBQVMsR0FBbUIsQ0FBSyxFQUFFLElBQUksRUFBRyxPQUFNLFFBQVMsRUFBZ0IsTUFBTSxFQUFNLEtBQUssSUFBSSxFQUFLLEVBQUcsRUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLEVBRTVILE9BREEsRUFBUyxFQUFNLE9BQU8sQ0FBRSxVQUFXLEVBQWdCLE9BQU8sQ0FBTSxFQUFHLFVBQVcsUUFBUyxDQUFDLENBQUMsRUFDbEYsSUFRTCxHQUFxQixFQUFHLFFBQU8sY0FBZSxDQUNoRCxJQUFJLEVBQVksR0FBVSxFQUFNLFVBQVcsS0FBUyxDQUNoRCxJQUFJLEVBQ0osSUFBSSxFQUFRLEVBQVcsQ0FBSyxFQUFFLGFBQWEsRUFBTSxLQUFNLENBQUMsRUFDeEQsUUFBUyxFQUFNLEVBQU8sRUFBSyxFQUFNLEVBQUksS0FBTSxDQUN2QyxJQUFNLFFBQVMsRUFDZixJQUFNLEVBQUssS0FBTyxFQUFNLE1BQVEsRUFBSyxJQUFNLEVBQU0sSUFDNUMsRUFBSyxHQUFLLEVBQU0sSUFBTSxFQUFLLE1BQVEsRUFBTSxTQUN4QyxFQUFLLEVBQUssVUFBWSxNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsUUFDNUQsT0FBTyxFQUFnQixNQUFNLEVBQUssR0FBSSxFQUFLLElBQUksRUFFdkQsT0FBTyxFQUNWLEVBRUQsT0FEQSxFQUFTLEdBQU8sRUFBTyxDQUFTLENBQUMsRUFDMUIsSUFPTCxHQUFvQixFQUFHLFFBQU8sY0FBZSxDQUMvQyxJQUFJLEVBQU0sRUFBTSxVQUFXLEVBQVksS0FDdkMsR0FBSSxFQUFJLE9BQU8sT0FBUyxFQUNwQixFQUFZLEVBQWdCLE9BQU8sQ0FBQyxFQUFJLElBQUksQ0FBQyxXQUN2QyxFQUFJLEtBQUssTUFDZixFQUFZLEVBQWdCLE9BQU8sQ0FBQyxFQUFnQixPQUFPLEVBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUM5RSxJQUFLLEVBQ0QsTUFBTyxHQUVYLE9BREEsRUFBUyxHQUFPLEVBQU8sQ0FBUyxDQUFDLEVBQzFCLElBNkNMLEdBQWUsQ0FBQyxFQUFRLEVBQVMsSUFBaUIsR0FBUyxFQUFRLEtBQVMsQ0FDOUUsSUFBSSxFQUFNLEVBQU0sTUFBUSxTQUFVLEVBQVEsRUFBTyxFQUFNLElBQUksT0FBTyxDQUFHLEVBQUcsRUFBUSxFQUNoRixHQUFJLElBQWlCLEdBQVcsRUFBTSxFQUFLLE1BQVEsRUFBTSxFQUFLLEtBQU8sTUFDaEUsU0FBUyxLQUFLLEVBQVMsRUFBSyxLQUFLLE1BQU0sRUFBRyxFQUFNLEVBQUssSUFBSSxDQUFDLEVBQUcsQ0FDOUQsR0FBSSxFQUFPLEVBQU8sT0FBUyxJQUFNLEtBQzdCLE9BQU8sRUFBTSxFQUNqQixJQUFJLEVBQU0sR0FBWSxFQUFRLEVBQU0sT0FBTyxFQUFHLEVBQU8sRUFBTSxHQUFjLENBQUssR0FBSyxHQUFjLENBQUssRUFDdEcsUUFBUyxFQUFJLEVBQUcsRUFBSSxHQUFRLEVBQU8sRUFBTyxPQUFTLEVBQUksSUFBTSxJQUFLLElBQzlELElBQ0osRUFBWSxVQUdaLEVBQVksR0FBaUIsRUFBSyxLQUFNLEVBQU0sRUFBSyxLQUFNLEVBQVMsQ0FBTyxFQUFJLEVBQUssS0FDOUUsR0FBYSxHQUFPLEVBQUssU0FBVyxFQUFVLEVBQU0sSUFBSSxNQUFRLEdBQ2hFLEdBQWEsRUFBVSxFQUFJLFlBQ3JCLEdBQVcsa0JBQWtCLEtBQUssRUFBSyxLQUFLLE1BQU0sRUFBWSxFQUFLLEtBQU0sRUFBTSxFQUFLLElBQUksQ0FBQyxFQUMvRixFQUFZLEdBQWlCLEVBQUssS0FBTSxFQUFZLEVBQUssS0FBTSxHQUFPLEVBQUssRUFBSSxFQUFLLEtBRTVGLE9BQU8sRUFDVixFQUtLLEdBQXFCLEtBQVEsR0FBYSxFQUFNLEdBQU8sRUFBSSxFQVVqRSxJQUFNLEdBQW9CLEtBQVEsR0FBYSxFQUFNLEdBQU0sRUFBSyxFQUMxRCxHQUFnQixDQUFDLEVBQVEsSUFBWSxHQUFTLEVBQVEsS0FBUyxDQUNqRSxJQUFJLEVBQU0sRUFBTSxNQUFRLFNBQVUsRUFBUSxFQUFPLEVBQU0sSUFBSSxPQUFPLENBQUcsRUFDakUsRUFBYSxFQUFNLGdCQUFnQixDQUFHLEVBQzFDLFFBQVMsRUFBTSxPQUFRLENBQ25CLEdBQUksSUFBUSxFQUFVLEVBQUssR0FBSyxFQUFLLE1BQU8sQ0FDeEMsR0FBSSxHQUFPLEVBQU0sTUFBUSxFQUFLLFNBQVcsRUFBVSxFQUFNLElBQUksTUFBUSxHQUNqRSxHQUFPLEVBQVUsRUFBSSxHQUN6QixNQUVKLElBQUksRUFBTyxHQUFpQixFQUFLLEtBQU0sRUFBTSxFQUFLLEtBQU0sQ0FBTyxFQUFJLEVBQUssS0FDcEUsRUFBVyxFQUFLLEtBQUssTUFBTSxLQUFLLElBQUksRUFBSyxDQUFJLEVBQUksRUFBSyxLQUFNLEtBQUssSUFBSSxFQUFLLENBQUksRUFBSSxFQUFLLElBQUksRUFDM0YsRUFBVSxFQUFXLENBQVEsRUFDakMsR0FBSSxHQUFPLE1BQVEsR0FBVyxFQUMxQixNQUNKLEdBQUksR0FBWSxLQUFPLEdBQU8sRUFBTSxLQUNoQyxFQUFNLEVBQ1YsRUFBTSxFQUVWLE9BQU8sRUFDVixFQU1LLEdBQXNCLEtBQVUsR0FBYyxFQUFRLEVBQUssRUFJM0QsR0FBcUIsS0FBVSxHQUFjLEVBQVEsRUFBSSxFQU16RCxHQUFrQixLQUFRLEdBQVMsRUFBTSxLQUFTLENBQ3BELElBQUksRUFBVSxFQUFLLFlBQVksRUFBTSxJQUFJLEVBQUUsR0FDM0MsT0FBTyxFQUFNLEtBQU8sRUFBVSxFQUFVLEtBQUssSUFBSSxFQUFLLE1BQU0sSUFBSSxPQUFRLEVBQU0sS0FBTyxDQUFDLEVBQ3pGLEVBY0QsSUFBTSxHQUE2QixLQUFRLEdBQVMsRUFBTSxLQUFTLENBQy9ELElBQUksRUFBWSxFQUFLLG1CQUFtQixFQUFPLEVBQUssRUFBRSxLQUN0RCxPQUFPLEVBQU0sS0FBTyxFQUFZLEVBQVksS0FBSyxJQUFJLEVBQUcsRUFBTSxLQUFPLENBQUMsRUFDekUsRUFLSyxHQUE0QixLQUFRLEdBQVMsRUFBTSxLQUFTLENBQzlELElBQUksRUFBWSxFQUFLLG1CQUFtQixFQUFPLEVBQUksRUFBRSxLQUNyRCxPQUFPLEVBQU0sS0FBTyxFQUFZLEVBQVksS0FBSyxJQUFJLEVBQUssTUFBTSxJQUFJLE9BQVEsRUFBTSxLQUFPLENBQUMsRUFDN0YsRUFpQ0QsSUFBTSxHQUFZLEVBQUcsUUFBTyxjQUFlLENBQ3ZDLEdBQUksRUFBTSxTQUNOLE1BQU8sR0FDWCxJQUFJLEVBQVUsRUFBTSxjQUFjLEtBQVMsQ0FDdkMsTUFBTyxDQUFFLFFBQVMsQ0FBRSxLQUFNLEVBQU0sS0FBTSxHQUFJLEVBQU0sR0FBSSxPQUFRLEVBQUssR0FBRyxDQUFDLEdBQUksRUFBRSxDQUFDLENBQUUsRUFDMUUsTUFBTyxFQUFnQixPQUFPLEVBQU0sSUFBSSxDQUFFLEVBQ2pELEVBRUQsT0FEQSxFQUFTLEVBQU0sT0FBTyxFQUFTLENBQUUsZUFBZ0IsR0FBTSxVQUFXLE9BQVEsQ0FBQyxDQUFDLEVBQ3JFLElBS0wsR0FBaUIsRUFBRyxRQUFPLGNBQWUsQ0FDNUMsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUNYLElBQUksRUFBVSxFQUFNLGNBQWMsS0FBUyxDQUN2QyxJQUFLLEVBQU0sT0FBUyxFQUFNLE1BQVEsR0FBSyxFQUFNLE1BQVEsRUFBTSxJQUFJLE9BQzNELE1BQU8sQ0FBRSxPQUFNLEVBQ25CLElBQUksRUFBTSxFQUFNLEtBQU0sRUFBTyxFQUFNLElBQUksT0FBTyxDQUFHLEVBQzdDLEVBQU8sR0FBTyxFQUFLLEtBQU8sRUFBTSxFQUFJLEdBQWlCLEVBQUssS0FBTSxFQUFNLEVBQUssS0FBTSxFQUFLLEVBQUksRUFBSyxLQUMvRixFQUFLLEdBQU8sRUFBSyxHQUFLLEVBQU0sRUFBSSxHQUFpQixFQUFLLEtBQU0sRUFBTSxFQUFLLEtBQU0sRUFBSSxFQUFJLEVBQUssS0FDOUYsTUFBTyxDQUFFLFFBQVMsQ0FBRSxPQUFNLEtBQUksT0FBUSxFQUFNLElBQUksTUFBTSxFQUFLLENBQUUsRUFBRSxPQUFPLEVBQU0sSUFBSSxNQUFNLEVBQU0sQ0FBRyxDQUFDLENBQUUsRUFDOUYsTUFBTyxFQUFnQixPQUFPLENBQUUsQ0FBRSxFQUN6QyxFQUNELEdBQUksRUFBUSxRQUFRLE1BQ2hCLE1BQU8sR0FFWCxPQURBLEVBQVMsRUFBTSxPQUFPLEVBQVMsQ0FBRSxlQUFnQixHQUFNLFVBQVcsZ0JBQWlCLENBQUMsQ0FBQyxFQUM5RSxJQXFETCxHQUFhLEVBQUcsUUFBTyxjQUFlLEdBQVMsRUFBTyxFQUFVLEVBQUssRUFJckUsR0FBZSxFQUFHLFFBQU8sY0FBZSxHQUFTLEVBQU8sRUFBVSxFQUFJLEVBaUJ0RSxHQUFhLEVBQUcsUUFBTyxjQUFlLEdBQVMsRUFBTyxFQUFVLEVBQUssRUFJckUsR0FBZSxFQUFHLFFBQU8sY0FBZSxHQUFTLEVBQU8sRUFBVSxFQUFJLEVBSXRFLEdBQWEsS0FBUSxDQUN2QixHQUFJLEVBQUssTUFBTSxTQUNYLE1BQU8sR0FDWCxJQUFNLFNBQVUsRUFBTSxFQUFVLEVBQU0sUUFBUSxHQUFtQixDQUFLLEVBQUUsSUFBSSxFQUFHLE9BQU0sUUFBUyxDQUMxRixHQUFJLEVBQU8sRUFDUCxZQUNLLEVBQUssRUFBTSxJQUFJLE9BQ3BCLElBQ0osTUFBTyxDQUFFLE9BQU0sSUFBRyxFQUNyQixDQUFDLEVBQ0UsRUFBWSxHQUFVLEVBQU0sVUFBVyxLQUFTLENBQ2hELElBQUksRUFBTyxPQUNYLEdBQUksRUFBSyxhQUFjLENBQ25CLElBQUksRUFBUSxFQUFLLFlBQVksRUFBTSxJQUFJLEVBQUcsRUFBTSxFQUFLLFlBQVksRUFBTSxLQUFNLEVBQU0sT0FBUyxDQUFDLEVBQzdGLEdBQUksRUFDQSxFQUFRLEVBQU0sT0FBUyxFQUFLLFlBQWUsRUFBSSxPQUFTLEVBQUssa0JBQW9CLEVBRXpGLE9BQU8sRUFBSyxlQUFlLEVBQU8sR0FBTSxDQUFJLEVBQy9DLEVBQUUsSUFBSSxDQUFPLEVBRWQsT0FEQSxFQUFLLFNBQVMsQ0FBRSxVQUFTLFlBQVcsZUFBZ0IsR0FBTSxVQUFXLGFBQWMsQ0FBQyxFQUM3RSxJQTBDWCxJQUFNLEdBQXNDLEdBQWlCLEVBQUssRUFJNUQsR0FBK0IsR0FBaUIsRUFBSSxFQW9EcEQsR0FBa0IsRUFBRyxRQUFPLGNBQWUsQ0FDN0MsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUNYLElBQUksRUFBVSxPQUFPLE9BQU8sSUFBSSxFQUM1QixFQUFVLElBQUksR0FBYyxFQUFPLENBQUUsb0JBQXFCLEtBQVMsQ0FDL0QsSUFBSSxFQUFRLEVBQVEsR0FDcEIsT0FBTyxHQUFTLEtBQU8sR0FBSyxFQUM5QixDQUFDLEVBQ0gsRUFBVSxHQUFxQixFQUFPLENBQUMsRUFBTSxFQUFTLElBQVUsQ0FDaEUsSUFBSSxFQUFTLEdBQWUsRUFBUyxFQUFLLElBQUksRUFDOUMsR0FBSSxHQUFVLEtBQ1YsT0FDSixJQUFLLEtBQUssS0FBSyxFQUFLLElBQUksRUFDcEIsRUFBUyxFQUNiLElBQUksRUFBTSxPQUFPLEtBQUssRUFBSyxJQUFJLEVBQUUsR0FDN0IsRUFBTyxHQUFhLEVBQU8sQ0FBTSxFQUNyQyxHQUFJLEdBQU8sR0FBUSxFQUFNLEtBQU8sRUFBSyxLQUFPLEVBQUksT0FDNUMsRUFBUSxFQUFLLE1BQVEsRUFDckIsRUFBUSxLQUFLLENBQUUsS0FBTSxFQUFLLEtBQU0sR0FBSSxFQUFLLEtBQU8sRUFBSSxPQUFRLE9BQVEsQ0FBSyxDQUFDLEVBRWpGLEVBQ0QsSUFBSyxFQUFRLFFBQVEsTUFDakIsRUFBUyxFQUFNLE9BQU8sRUFBUyxDQUFFLFVBQVcsUUFBUyxDQUFDLENBQUMsRUFDM0QsTUFBTyxJQU1MLEdBQWEsRUFBRyxRQUFPLGNBQWUsQ0FDeEMsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQUlYLE9BSEEsRUFBUyxFQUFNLE9BQU8sR0FBcUIsRUFBTyxDQUFDLEVBQU0sSUFBWSxDQUNqRSxFQUFRLEtBQUssQ0FBRSxLQUFNLEVBQUssS0FBTSxPQUFRLEVBQU0sTUFBTSxFQUFVLENBQUUsQ0FBQyxFQUNwRSxFQUFHLENBQUUsVUFBVyxjQUFlLENBQUMsQ0FBQyxFQUMzQixJQU1MLEdBQWEsRUFBRyxRQUFPLGNBQWUsQ0FDeEMsR0FBSSxFQUFNLFNBQ04sTUFBTyxHQVdYLE9BVkEsRUFBUyxFQUFNLE9BQU8sR0FBcUIsRUFBTyxDQUFDLEVBQU0sSUFBWSxDQUNqRSxJQUFJLEVBQVEsT0FBTyxLQUFLLEVBQUssSUFBSSxFQUFFLEdBQ25DLElBQUssRUFDRCxPQUNKLElBQUksRUFBTSxHQUFZLEVBQU8sRUFBTSxPQUFPLEVBQUcsRUFBTyxFQUNoRCxFQUFTLEdBQWEsRUFBTyxLQUFLLElBQUksRUFBRyxFQUFNLEdBQWMsQ0FBSyxDQUFDLENBQUMsRUFDeEUsTUFBTyxFQUFPLEVBQU0sUUFBVSxFQUFPLEVBQU8sUUFBVSxFQUFNLFdBQVcsQ0FBSSxHQUFLLEVBQU8sV0FBVyxDQUFJLEVBQ2xHLElBQ0osRUFBUSxLQUFLLENBQUUsS0FBTSxFQUFLLEtBQU8sRUFBTSxHQUFJLEVBQUssS0FBTyxFQUFNLE9BQVEsT0FBUSxFQUFPLE1BQU0sQ0FBSSxDQUFFLENBQUMsRUFDcEcsRUFBRyxDQUFFLFVBQVcsZUFBZ0IsQ0FBQyxDQUFDLEVBQzVCLElBU0wsR0FBcUIsS0FBUSxDQUUvQixPQURBLEVBQUssZ0JBQWdCLEVBQ2QsSUF5Q1gsSUFBTSxHQUFtQixDQUNyQixDQUFFLElBQUssU0FBVSxJQUFLLEdBQWdCLE1BQU8sR0FBZ0IsZUFBZ0IsRUFBSyxFQUNsRixDQUFFLElBQUssU0FBVSxJQUFLLEdBQWlCLE1BQU8sRUFBZ0IsRUFDOUQsQ0FBRSxJQUFLLFNBQVUsSUFBSyxHQUFjLE1BQU8sRUFBYSxFQUN4RCxDQUFFLElBQUssU0FBVSxJQUFLLEdBQWdCLE1BQU8sRUFBZSxFQUM1RCxDQUFFLElBQUssU0FBVSxJQUFLLEdBQWlCLE1BQU8sRUFBZ0IsRUFDOUQsQ0FBRSxJQUFLLFNBQVUsSUFBSyxHQUFlLE1BQU8sRUFBYyxFQUMxRCxDQUFFLElBQUssU0FBVSxJQUFLLEVBQWtCLEVBQ3hDLENBQUUsSUFBSyxTQUFVLElBQUssRUFBbUIsRUFDekMsQ0FBRSxJQUFLLFNBQVUsSUFBSyxFQUFnQixFQUN0QyxDQUFFLElBQUssYUFBYyxJQUFLLEVBQW9CLEVBQzlDLENBQUUsSUFBSyxTQUFVLElBQUssRUFBVSxFQUNoQyxDQUFFLElBQUssU0FBVSxJQUFLLEVBQWUsRUFDckMsQ0FBRSxJQUFLLFNBQVUsSUFBSyxFQUFlLENBQ3pDLEVBa0NNLEdBQThCLENBQ2hDLENBQUUsSUFBSyxZQUFhLElBQUssR0FBZ0IsTUFBTyxHQUFnQixlQUFnQixFQUFLLEVBQ3JGLENBQUUsSUFBSyxnQkFBaUIsSUFBSyxnQkFBaUIsSUFBSyxHQUFpQixNQUFPLEdBQWlCLGVBQWdCLEVBQUssRUFDakgsQ0FBRSxJQUFLLGdCQUFpQixJQUFLLEdBQXdCLE1BQU8sR0FBd0IsZUFBZ0IsRUFBSyxFQUN6RyxDQUFFLElBQUssYUFBYyxJQUFLLEdBQWlCLE1BQU8sR0FBaUIsZUFBZ0IsRUFBSyxFQUN4RixDQUFFLElBQUssaUJBQWtCLElBQUssaUJBQWtCLElBQUssR0FBa0IsTUFBTyxHQUFrQixlQUFnQixFQUFLLEVBQ3JILENBQUUsSUFBSyxpQkFBa0IsSUFBSyxHQUF5QixNQUFPLEdBQXlCLGVBQWdCLEVBQUssRUFDNUcsQ0FBRSxJQUFLLFVBQVcsSUFBSyxHQUFjLE1BQU8sR0FBYyxlQUFnQixFQUFLLEVBQy9FLENBQUUsSUFBSyxjQUFlLElBQUssR0FBZ0IsTUFBTyxFQUFlLEVBQ2pFLENBQUUsSUFBSyxlQUFnQixJQUFLLEdBQWMsTUFBTyxFQUFhLEVBQzlELENBQUUsSUFBSyxZQUFhLElBQUssR0FBZ0IsTUFBTyxHQUFnQixlQUFnQixFQUFLLEVBQ3JGLENBQUUsSUFBSyxnQkFBaUIsSUFBSyxHQUFjLE1BQU8sRUFBYSxFQUMvRCxDQUFFLElBQUssaUJBQWtCLElBQUssR0FBZ0IsTUFBTyxFQUFlLEVBQ3BFLENBQUUsSUFBSyxTQUFVLElBQUssR0FBYyxNQUFPLEVBQWEsRUFDeEQsQ0FBRSxJQUFLLFdBQVksSUFBSyxHQUFnQixNQUFPLEVBQWUsRUFDOUQsQ0FBRSxJQUFLLE9BQVEsSUFBSyxHQUE0QixNQUFPLEdBQTRCLGVBQWdCLEVBQUssRUFDeEcsQ0FBRSxJQUFLLFdBQVksSUFBSyxHQUFnQixNQUFPLEVBQWUsRUFDOUQsQ0FBRSxJQUFLLE1BQU8sSUFBSyxHQUEyQixNQUFPLEdBQTJCLGVBQWdCLEVBQUssRUFDckcsQ0FBRSxJQUFLLFVBQVcsSUFBSyxHQUFjLE1BQU8sRUFBYSxFQUN6RCxDQUFFLElBQUssUUFBUyxJQUFLLEVBQXVCLEVBQzVDLENBQUUsSUFBSyxRQUFTLElBQUssRUFBVSxFQUMvQixDQUFFLElBQUssWUFBYSxJQUFLLEdBQW9CLE1BQU8sRUFBbUIsRUFDdkUsQ0FBRSxJQUFLLFNBQVUsSUFBSyxFQUFrQixFQUN4QyxDQUFFLElBQUssZ0JBQWlCLElBQUssZ0JBQWlCLElBQUssRUFBb0IsRUFDdkUsQ0FBRSxJQUFLLGFBQWMsSUFBSyxhQUFjLElBQUssRUFBbUIsRUFDaEUsQ0FBRSxJQUFLLGdCQUFpQixJQUFLLEVBQTJCLEVBQ3hELENBQUUsSUFBSyxhQUFjLElBQUssRUFBMEIsQ0FDeEQsRUFBRSxPQUFvQixHQUFpQixJQUFJLE1BQU0sQ0FBRSxJQUFLLEVBQUUsSUFBSyxJQUFLLEVBQUUsSUFBSyxNQUFPLEVBQUUsS0FBTSxFQUFFLENBQUMsRUF3QnZGLEdBQTZCLENBQy9CLENBQUUsSUFBSyxnQkFBaUIsSUFBSyxpQkFBa0IsSUFBSyxHQUFrQixNQUFPLEVBQWlCLEVBQzlGLENBQUUsSUFBSyxpQkFBa0IsSUFBSyxrQkFBbUIsSUFBSyxHQUFtQixNQUFPLEVBQWtCLEVBQ2xHLENBQUUsSUFBSyxjQUFlLElBQUssRUFBVyxFQUN0QyxDQUFFLElBQUssb0JBQXFCLElBQUssRUFBVyxFQUM1QyxDQUFFLElBQUssZ0JBQWlCLElBQUssRUFBYSxFQUMxQyxDQUFFLElBQUssc0JBQXVCLElBQUssRUFBYSxFQUNoRCxDQUFFLElBQUssU0FBVSxJQUFLLEVBQWtCLEVBQ3hDLENBQUUsSUFBSyxZQUFhLElBQUssRUFBZ0IsRUFDekMsQ0FBRSxJQUFLLFFBQVMsSUFBSyxTQUFVLElBQUssRUFBVyxFQUMvQyxDQUFFLElBQUssUUFBUyxJQUFLLEdBQW9CLGVBQWdCLEVBQUssRUFDOUQsQ0FBRSxJQUFLLFFBQVMsSUFBSyxFQUFXLEVBQ2hDLENBQUUsSUFBSyxRQUFTLElBQUssRUFBVyxFQUNoQyxDQUFFLElBQUssYUFBYyxJQUFLLEVBQWdCLEVBQzFDLENBQUUsSUFBSyxjQUFlLElBQUssRUFBVyxFQUN0QyxDQUFFLElBQUssZUFBZ0IsSUFBSyxFQUFzQixFQUNsRCxDQUFFLElBQUssUUFBUyxJQUFLLEVBQWMsRUFDbkMsQ0FBRSxJQUFLLFFBQVMsSUFBSyxFQUFtQixFQUN4QyxDQUFFLElBQUssU0FBVSxJQUFLLGNBQWUsSUFBSyxFQUFtQixDQUNqRSxFQUFFLE9BQU8sRUFBYyxFQ3JpQ3ZCLFNBQVMsRUFBVyxDQUFDLEVBQU8sRUFBTyxZQUFhLENBQzVDLFVBQVcsR0FBUyxTQUNoQixPQUFPLEVBQ1gsSUFBSSxFQUFRLEtBQ1osUUFBUyxFQUFNLEVBQUcsRUFBTSxFQUFHLEVBQU0sRUFBTSxRQUFTLENBQzVDLElBQUksRUFBUSxFQUNaLE9BQVMsQ0FDTCxJQUFJLEVBQU8sRUFBTSxXQUFXLEdBQUssRUFBRyxFQUFPLEdBQzNDLEdBQUksR0FBUSxJQUE2QixDQUNyQyxFQUFRLE1BQ1IsTUFFSixHQUFJLEdBQVEsR0FDUixJQUNKLEdBQUksR0FBUSxHQUNSLElBQ0osSUFBSSxFQUFRLEVBQU8sR0FDbkIsR0FBSSxHQUFTLEdBQ1QsR0FBUyxHQUNULEVBQU8sR0FHWCxHQURBLEdBQVMsRUFDTCxFQUNBLE1BQ0osR0FBUyxHQUViLEdBQUksRUFDQSxFQUFNLEtBQVMsTUFFZixHQUFRLElBQUksRUFBSyxDQUFLLEVBRTlCLE9BQU8sRUE0VlgsU0FBUyxFQUFTLENBQUMsRUFBTSxFQUFPLEVBQU8sRUFBTyxFQUFXLEVBQVksQ0FDakUsSUFBSSxFQUFRLEVBQUcsRUFBWSxHQUFLLEdBQVMsV0FBWSxFQUFNLEVBQUUsT0FDN0QsRUFBTSxPQUFTLENBQ1gsSUFBSyxFQUFZLEVBQUssS0FBVyxFQUM3QixNQUNKLElBQUksRUFBUyxFQUFLLEVBQVEsR0FJMUIsUUFBUyxFQUFJLEVBQVEsRUFBRyxFQUFJLEVBQVEsR0FBSyxFQUNyQyxJQUFLLEVBQUssRUFBSSxHQUFLLEdBQWEsRUFBRyxDQUMvQixJQUFJLEVBQU8sRUFBSyxHQUNoQixHQUFJLEVBQVEsT0FBTyxDQUFJLElBQ2xCLEVBQU0sTUFBTSxPQUFTLElBQU0sRUFBTSxNQUFNLE9BQVMsR0FDN0MsR0FBVSxFQUFNLEVBQU0sTUFBTSxNQUFPLEVBQVcsQ0FBVSxHQUFJLENBQ2hFLEVBQU0sWUFBWSxDQUFJLEVBQ3RCLE9BR1osSUFBSSxFQUFPLEVBQU0sS0FBTSxFQUFNLEVBQUcsRUFBTyxFQUFLLEVBQVEsR0FFcEQsR0FBSSxFQUFNLEtBQU8sR0FBSyxFQUFPLEdBQU8sRUFBSyxFQUFTLEVBQU8sRUFBSSxJQUFNLE1BQXFCLENBQ3BGLEVBQVEsRUFBSyxFQUFTLEVBQU8sRUFBSSxHQUNqQyxXQUdKLEtBQU8sRUFBTSxHQUFPLENBQ2hCLElBQUksRUFBTyxFQUFNLEdBQVMsRUFDdEIsRUFBUSxFQUFTLEdBQU8sR0FBTyxHQUMvQixFQUFPLEVBQUssR0FBUSxFQUFLLEVBQUssRUFBUSxJQUFNLE1BQ2hELEdBQUksRUFBTyxFQUNQLEVBQU8sVUFDRixHQUFRLEVBQ2IsRUFBTSxFQUFNLE1BQ1gsQ0FDRCxFQUFRLEVBQUssRUFBUSxHQUNyQixFQUFNLFFBQVEsRUFDZCxZQUdSLE9BR1IsU0FBUyxFQUFVLENBQUMsRUFBTSxFQUFPLEVBQU0sQ0FDbkMsUUFBUyxFQUFJLEVBQU8sR0FBTyxFQUFPLEVBQUssS0FBTyxNQUFxQixJQUMvRCxHQUFJLEdBQVEsRUFDUixPQUFPLEVBQUksRUFDbkIsTUFBTyxHQUVYLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBTSxFQUFXLEVBQWEsQ0FDcEQsSUFBSSxFQUFRLEdBQVcsRUFBVyxFQUFhLENBQUksRUFDbkQsT0FBTyxFQUFRLEdBQUssR0FBVyxFQUFXLEVBQWEsQ0FBSyxFQUFJLEVBTXBFLFNBQVMsRUFBSyxDQUFDLEVBQU0sRUFBSyxFQUFNLENBQzVCLElBQUksRUFBUyxFQUFLLE9BQU8sRUFBUyxnQkFBZ0IsRUFDbEQsRUFBTyxPQUFPLENBQUcsRUFDakIsT0FDSSxLQUFNLEVBQU8sRUFBSSxFQUFPLFlBQVksQ0FBRyxFQUFJLEVBQU8sV0FBVyxDQUFHLEdBQzVELE9BQVMsQ0FDTCxJQUFLLEVBQU8sRUFBSSxFQUFPLEdBQUssRUFBTSxFQUFPLEtBQU8sS0FBUyxFQUFPLEtBQUssUUFDakUsT0FBTyxFQUFPLEVBQUksS0FBSyxJQUFJLEVBQUcsS0FBSyxJQUFJLEVBQU8sR0FBSyxFQUFHLEVBQU0sRUFBeUIsQ0FBQyxFQUNoRixLQUFLLElBQUksRUFBSyxPQUFRLEtBQUssSUFBSSxFQUFPLEtBQU8sRUFBRyxFQUFNLEVBQXlCLENBQUMsRUFDMUYsR0FBSSxFQUFPLEVBQUksRUFBTyxZQUFZLEVBQUksRUFBTyxZQUFZLEVBQ3JELE1BQ0osSUFBSyxFQUFPLE9BQU8sRUFDZixPQUFPLEVBQU8sRUFBSSxFQUFJLEVBQUssUUFnZS9DLFNBQVMsRUFBYyxDQUFDLEVBQU8sRUFBVyxDQUN0QyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUFLLENBQ3ZDLElBQUksRUFBUSxFQUFVLEdBQ3RCLEdBQUksRUFBTSxLQUFPLEVBQU0sS0FBTyxFQUFNLFVBQVUsQ0FBSyxFQUFHLENBQ2xELEdBQUksRUFBVSxHQUFHLE1BQVEsRUFBTSxNQUMzQixFQUFVLEdBQUssRUFDbkIsUUFHUixFQUFVLEtBQUssQ0FBSyxFQWlVeEIsU0FBUyxFQUFJLENBQUMsRUFBTSxFQUFLLENBQUUsT0FBTyxFQUFLLEdBQVEsRUFBSyxFQUFNLElBQU0sR0FDaEUsU0FBUyxFQUFZLENBQUMsRUFBUSxDQUMxQixJQUFJLEVBQU8sS0FDWCxRQUFTLEtBQVMsRUFBUSxDQUN0QixJQUFJLEVBQVUsRUFBTSxFQUFFLFVBQ3RCLElBQUssRUFBTSxLQUFPLEVBQU0sRUFBRSxPQUFPLEtBQU8sR0FBVyxNQUFRLEVBQU0sSUFBTSxJQUNuRSxFQUFNLEVBQUUsT0FBTyxVQUFVLEVBQU0sTUFBTyxDQUEyQixLQUMvRCxHQUFRLEVBQUssTUFBUSxFQUFNLE9BQzdCLEVBQU8sRUFFZixPQUFPLEVBRVgsU0FBUyxFQUFjLENBQUMsRUFBTSxDQUMxQixHQUFJLEVBQUssU0FBVSxDQUNmLElBQUksRUFBTyxFQUFLLE9BQVMsRUFBNEIsRUFDckQsTUFBTyxDQUFDLEVBQU8sSUFBVyxFQUFLLFNBQVMsRUFBTyxDQUFLLEdBQUssRUFBSyxFQUVsRSxPQUFPLEVBQUssSUEvMERoQixNQUFNLEVBQU0sQ0FJUixXQUFXLENBSVgsRUFLQSxFQUlBLEVBUUEsRUFJQSxFQU1BLEVBT0EsRUFTQSxFQUlBLEVBSUEsRUFBWSxFQVFaLEVBQVEsQ0FDSixLQUFLLEVBQUksRUFDVCxLQUFLLE1BQVEsRUFDYixLQUFLLE1BQVEsRUFDYixLQUFLLFVBQVksRUFDakIsS0FBSyxJQUFNLEVBQ1gsS0FBSyxNQUFRLEVBQ2IsS0FBSyxPQUFTLEVBQ2QsS0FBSyxXQUFhLEVBQ2xCLEtBQUssV0FBYSxFQUNsQixLQUFLLFVBQVksRUFDakIsS0FBSyxPQUFTLEVBS2xCLFFBQVEsRUFBRyxDQUNQLE1BQU8sSUFBSSxLQUFLLE1BQU0sT0FBTyxDQUFDLEVBQUcsSUFBTSxFQUFJLEdBQUssQ0FBQyxFQUFFLE9BQU8sS0FBSyxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBUSxJQUFNLEtBQUssTUFBUSxXQU1sSCxNQUFLLENBQUMsRUFBRyxFQUFPLEVBQU0sRUFBRyxDQUM1QixJQUFJLEVBQUssRUFBRSxPQUFPLFFBQ2xCLE9BQU8sSUFBSSxHQUFNLEVBQUcsQ0FBQyxFQUFHLEVBQU8sRUFBSyxFQUFLLEVBQUcsQ0FBQyxFQUFHLEVBQUcsRUFBSyxJQUFJLEdBQWEsRUFBSSxFQUFHLEtBQUssRUFBSSxLQUFNLEVBQUcsSUFBSSxLQVF0RyxRQUFPLEVBQUcsQ0FBRSxPQUFPLEtBQUssV0FBYSxLQUFLLFdBQVcsUUFBVSxLQU1uRSxTQUFTLENBQUMsRUFBTyxFQUFPLENBQ3BCLEtBQUssTUFBTSxLQUFLLEtBQUssTUFBTyxFQUFPLEtBQUssV0FBYSxLQUFLLE9BQU8sTUFBTSxFQUN2RSxLQUFLLE1BQVEsRUFNakIsTUFBTSxDQUFDLEVBQVEsQ0FDWCxJQUFJLEVBQ0osSUFBSSxFQUFRLEdBQVUsR0FBa0MsRUFBTyxFQUFTLE9BQ2xFLFVBQVcsS0FBSyxFQUNsQixFQUFrQixLQUFLLFVBQVksS0FBSyxJQUFNLEdBQ2xELEdBQUksRUFDQSxLQUFLLGFBQWEsS0FBSyxHQUFHLEVBQzlCLElBQUksRUFBUSxFQUFPLGtCQUFrQixDQUFJLEVBQ3pDLEdBQUksRUFDQSxLQUFLLE9BQVMsRUFDbEIsR0FBSSxHQUFTLEVBQUcsQ0FJWixHQUhBLEtBQUssVUFBVSxFQUFPLFFBQVEsS0FBSyxNQUFPLEVBQU0sRUFBSSxFQUFHLEtBQUssU0FBUyxFQUdqRSxFQUFPLEVBQU8sY0FDZCxLQUFLLFVBQVUsRUFBTSxLQUFLLFVBQVcsS0FBSyxVQUFXLEVBQWtCLEVBQUksRUFBRyxFQUFJLEVBQ3RGLEtBQUssY0FBYyxFQUFNLEtBQUssU0FBUyxFQUN2QyxPQU9KLElBQUksRUFBTyxLQUFLLE1BQU0sUUFBVyxFQUFRLEdBQUssR0FBTSxFQUFTLE9BQStCLEVBQUksR0FDNUYsRUFBUSxFQUFPLEtBQUssTUFBTSxFQUFPLEdBQUssS0FBSyxFQUFFLE9BQU8sR0FBRyxLQUFNLEVBQU8sS0FBSyxVQUFZLEVBSXpGLEdBQUksR0FBUSxTQUF5QyxFQUFLLEtBQUssRUFBRSxPQUFPLFFBQVEsTUFBTSxNQUFXLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxjQUNqSSxHQUFJLEdBQVMsS0FBSyxFQUFFLHNCQUNoQixLQUFLLEVBQUUsb0JBQ1AsS0FBSyxFQUFFLHFCQUF1QixVQUV6QixLQUFLLEVBQUUscUJBQXVCLEVBQ25DLEtBQUssRUFBRSxrQkFBb0IsRUFDM0IsS0FBSyxFQUFFLHNCQUF3QixFQUMvQixLQUFLLEVBQUUscUJBQXVCLEVBR3RDLElBQUksRUFBYSxFQUFPLEtBQUssTUFBTSxFQUFPLEdBQUssRUFBRyxFQUFRLEtBQUssV0FBYSxLQUFLLE9BQU8sT0FBUyxFQUVqRyxHQUFJLEVBQU8sRUFBTyxlQUFrQixFQUFTLE9BQWlDLENBQzFFLElBQUksRUFBTSxFQUFPLFVBQVUsS0FBSyxNQUFPLENBQXlCLEVBQUksS0FBSyxJQUFNLEtBQUssVUFDcEYsS0FBSyxVQUFVLEVBQU0sRUFBTyxFQUFLLEVBQVEsRUFBRyxFQUFJLEVBRXBELEdBQUksRUFBUyxPQUNULEtBQUssTUFBUSxLQUFLLE1BQU0sT0FFdkIsQ0FDRCxJQUFJLEVBQWMsS0FBSyxNQUFNLEVBQU8sR0FDcEMsS0FBSyxNQUFRLEVBQU8sUUFBUSxFQUFhLEVBQU0sRUFBSSxFQUV2RCxNQUFPLEtBQUssTUFBTSxPQUFTLEVBQ3ZCLEtBQUssTUFBTSxJQUFJLEVBQ25CLEtBQUssY0FBYyxFQUFNLENBQUssRUFNbEMsU0FBUyxDQUFDLEVBQU0sRUFBTyxFQUFLLEVBQU8sRUFBRyxFQUFXLEdBQU8sQ0FDcEQsR0FBSSxHQUFRLEtBQ04sS0FBSyxNQUFNLFFBQVUsS0FBSyxNQUFNLEtBQUssTUFBTSxPQUFTLEdBQUssS0FBSyxPQUFPLE9BQVMsS0FBSyxZQUFhLENBRWxHLElBQUksRUFBTSxLQUFNLEVBQU0sS0FBSyxPQUFPLE9BQ2xDLEdBQUksR0FBTyxHQUFLLEVBQUksT0FDaEIsRUFBTSxFQUFJLFdBQWEsRUFBSSxPQUFPLFdBQ2xDLEVBQU0sRUFBSSxPQUVkLEdBQUksRUFBTSxHQUFLLEVBQUksT0FBTyxFQUFNLElBQU0sR0FBb0IsRUFBSSxPQUFPLEVBQU0sR0FBSyxHQUFJLENBQ2hGLEdBQUksR0FBUyxFQUNULE9BQ0osR0FBSSxFQUFJLE9BQU8sRUFBTSxJQUFNLEVBQU8sQ0FDOUIsRUFBSSxPQUFPLEVBQU0sR0FBSyxFQUN0QixTQUlaLElBQUssR0FBWSxLQUFLLEtBQU8sRUFDekIsS0FBSyxPQUFPLEtBQUssRUFBTSxFQUFPLEVBQUssQ0FBSSxNQUV0QyxDQUNELElBQUksRUFBUSxLQUFLLE9BQU8sT0FDeEIsR0FBSSxFQUFRLEdBQUssS0FBSyxPQUFPLEVBQVEsSUFBTSxFQUFrQixDQUN6RCxJQUFJLEVBQVcsR0FDZixRQUFTLEVBQU8sRUFBTyxFQUFPLEdBQUssS0FBSyxPQUFPLEVBQU8sR0FBSyxFQUFLLEdBQVEsRUFDcEUsR0FBSSxLQUFLLE9BQU8sRUFBTyxJQUFNLEVBQUcsQ0FDNUIsRUFBVyxHQUNYLE1BR1IsR0FBSSxHQUNBLE1BQU8sRUFBUSxHQUFLLEtBQUssT0FBTyxFQUFRLEdBQUssRUFPekMsR0FMQSxLQUFLLE9BQU8sR0FBUyxLQUFLLE9BQU8sRUFBUSxHQUN6QyxLQUFLLE9BQU8sRUFBUSxHQUFLLEtBQUssT0FBTyxFQUFRLEdBQzdDLEtBQUssT0FBTyxFQUFRLEdBQUssS0FBSyxPQUFPLEVBQVEsR0FDN0MsS0FBSyxPQUFPLEVBQVEsR0FBSyxLQUFLLE9BQU8sRUFBUSxHQUM3QyxHQUFTLEVBQ0wsRUFBTyxFQUNQLEdBQVEsR0FHeEIsS0FBSyxPQUFPLEdBQVMsRUFDckIsS0FBSyxPQUFPLEVBQVEsR0FBSyxFQUN6QixLQUFLLE9BQU8sRUFBUSxHQUFLLEVBQ3pCLEtBQUssT0FBTyxFQUFRLEdBQUssR0FPakMsS0FBSyxDQUFDLEVBQVEsRUFBTSxFQUFPLEVBQUssQ0FDNUIsR0FBSSxFQUFTLE9BQ1QsS0FBSyxVQUFVLEVBQVMsTUFBOEIsS0FBSyxHQUFHLFdBRXhELEVBQVMsU0FBaUMsRUFBRyxDQUNuRCxJQUFJLEVBQVksR0FBVSxVQUFXLEtBQUssRUFDMUMsR0FBSSxFQUFNLEtBQUssS0FBTyxHQUFRLEVBQU8sU0FFakMsR0FEQSxLQUFLLElBQU0sR0FDTixFQUFPLFVBQVUsRUFBVyxDQUF5QixFQUN0RCxLQUFLLFVBQVksRUFJekIsR0FGQSxLQUFLLFVBQVUsRUFBVyxDQUFLLEVBQy9CLEtBQUssYUFBYSxFQUFNLENBQUssRUFDekIsR0FBUSxFQUFPLFFBQ2YsS0FBSyxPQUFPLEtBQUssRUFBTSxFQUFPLEVBQUssQ0FBQyxVQUd4QyxLQUFLLElBQU0sRUFDWCxLQUFLLGFBQWEsRUFBTSxDQUFLLEVBQ3pCLEdBQVEsS0FBSyxFQUFFLE9BQU8sUUFDdEIsS0FBSyxPQUFPLEtBQUssRUFBTSxFQUFPLEVBQUssQ0FBQyxFQU9oRCxLQUFLLENBQUMsRUFBUSxFQUFNLEVBQVcsRUFBUyxDQUNwQyxHQUFJLEVBQVMsTUFDVCxLQUFLLE9BQU8sQ0FBTSxNQUVsQixNQUFLLE1BQU0sRUFBUSxFQUFNLEVBQVcsQ0FBTyxFQU1uRCxPQUFPLENBQUMsRUFBTyxFQUFNLENBQ2pCLElBQUksRUFBUSxLQUFLLEVBQUUsT0FBTyxPQUFTLEVBQ25DLEdBQUksRUFBUSxHQUFLLEtBQUssRUFBRSxPQUFPLElBQVUsRUFDckMsS0FBSyxFQUFFLE9BQU8sS0FBSyxDQUFLLEVBQ3hCLElBRUosSUFBSSxFQUFRLEtBQUssSUFJakIsR0FIQSxLQUFLLFVBQVksS0FBSyxJQUFNLEVBQVEsRUFBTSxPQUMxQyxLQUFLLFVBQVUsRUFBTSxDQUFLLEVBQzFCLEtBQUssT0FBTyxLQUFLLEVBQU8sRUFBTyxLQUFLLFVBQVcsRUFBZ0QsRUFDM0YsS0FBSyxXQUNMLEtBQUssY0FBYyxLQUFLLFdBQVcsUUFBUSxNQUFNLEtBQUssV0FBVyxRQUFTLEVBQU8sS0FBTSxLQUFLLEVBQUUsT0FBTyxNQUFNLEtBQUssSUFBTSxFQUFNLE1BQU0sQ0FBQyxDQUFDLEVBUTVJLEtBQUssRUFBRyxDQUNKLElBQUksRUFBUyxLQUNULEVBQU0sRUFBTyxPQUFPLE9BS3hCLE1BQU8sRUFBTSxHQUFLLEVBQU8sT0FBTyxFQUFNLEdBQUssRUFBTyxVQUM5QyxHQUFPLEVBQ1gsSUFBSSxFQUFTLEVBQU8sT0FBTyxNQUFNLENBQUcsRUFBRyxFQUFPLEVBQU8sV0FBYSxFQUVsRSxNQUFPLEdBQVUsR0FBUSxFQUFPLFdBQzVCLEVBQVMsRUFBTyxPQUNwQixPQUFPLElBQUksR0FBTSxLQUFLLEVBQUcsS0FBSyxNQUFNLE1BQU0sRUFBRyxLQUFLLE1BQU8sS0FBSyxVQUFXLEtBQUssSUFBSyxLQUFLLE1BQU8sRUFBUSxFQUFNLEtBQUssV0FBWSxLQUFLLFVBQVcsQ0FBTSxFQU14SixlQUFlLENBQUMsRUFBTSxFQUFTLENBQzNCLElBQUksRUFBUyxHQUFRLEtBQUssRUFBRSxPQUFPLFFBQ25DLEdBQUksRUFDQSxLQUFLLFVBQVUsRUFBTSxLQUFLLElBQUssRUFBUyxDQUFDLEVBQzdDLEtBQUssVUFBVSxFQUFrQixLQUFLLElBQUssRUFBUyxFQUFTLEVBQUksQ0FBQyxFQUNsRSxLQUFLLElBQU0sS0FBSyxVQUFZLEVBQzVCLEtBQUssT0FBUyxJQVFsQixRQUFRLENBQUMsRUFBTSxDQUNYLFFBQVMsRUFBTSxJQUFJLEdBQWUsSUFBSSxJQUFLLENBQ3ZDLElBQUksRUFBUyxLQUFLLEVBQUUsT0FBTyxVQUFVLEVBQUksTUFBTyxDQUFnQyxHQUFLLEtBQUssRUFBRSxPQUFPLFVBQVUsRUFBSSxNQUFPLENBQUksRUFDNUgsR0FBSSxHQUFVLEVBQ1YsTUFBTyxHQUNYLElBQUssRUFBUyxRQUFrQyxFQUM1QyxNQUFPLEdBQ1gsRUFBSSxPQUFPLENBQU0sR0FRekIsZUFBZSxDQUFDLEVBQU0sQ0FDbEIsR0FBSSxLQUFLLE1BQU0sUUFBVSxJQUNyQixNQUFPLENBQUMsRUFDWixJQUFJLEVBQWEsS0FBSyxFQUFFLE9BQU8sV0FBVyxLQUFLLEtBQUssRUFDcEQsR0FBSSxFQUFXLE9BQVMsR0FBZ0MsS0FBSyxNQUFNLFFBQVUsSUFBMEMsQ0FDbkgsSUFBSSxFQUFPLENBQUMsRUFDWixRQUFTLEVBQUksRUFBRyxFQUFHLEVBQUksRUFBVyxPQUFRLEdBQUssRUFDM0MsSUFBSyxFQUFJLEVBQVcsRUFBSSxLQUFPLEtBQUssT0FBUyxLQUFLLEVBQUUsT0FBTyxVQUFVLEVBQUcsQ0FBSSxFQUN4RSxFQUFLLEtBQUssRUFBVyxHQUFJLENBQUMsRUFFbEMsR0FBSSxLQUFLLE1BQU0sT0FBUyxJQUNwQixRQUFTLEVBQUksRUFBRyxFQUFLLE9BQVMsR0FBZ0MsRUFBSSxFQUFXLE9BQVEsR0FBSyxFQUFHLENBQ3pGLElBQUksRUFBSSxFQUFXLEVBQUksR0FDdkIsSUFBSyxFQUFLLEtBQUssQ0FBQyxFQUFHLElBQU8sRUFBSSxHQUFNLEdBQUssQ0FBQyxFQUN0QyxFQUFLLEtBQUssRUFBVyxHQUFJLENBQUMsRUFFdEMsRUFBYSxFQUVqQixJQUFJLEVBQVMsQ0FBQyxFQUNkLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVyxRQUFVLEVBQU8sT0FBUyxFQUF5QixHQUFLLEVBQUcsQ0FDdEYsSUFBSSxFQUFJLEVBQVcsRUFBSSxHQUN2QixHQUFJLEdBQUssS0FBSyxNQUNWLFNBQ0osSUFBSSxFQUFRLEtBQUssTUFBTSxFQUN2QixFQUFNLFVBQVUsRUFBRyxLQUFLLEdBQUcsRUFDM0IsRUFBTSxVQUFVLEVBQWtCLEVBQU0sSUFBSyxFQUFNLElBQUssRUFBRyxFQUFJLEVBQy9ELEVBQU0sYUFBYSxFQUFXLEdBQUksS0FBSyxHQUFHLEVBQzFDLEVBQU0sVUFBWSxLQUFLLElBQ3ZCLEVBQU0sT0FBUyxJQUNmLEVBQU8sS0FBSyxDQUFLLEVBRXJCLE9BQU8sRUFPWCxXQUFXLEVBQUcsQ0FDVixJQUFNLFVBQVcsS0FBSyxFQUNsQixFQUFTLEVBQU8sVUFBVSxLQUFLLE1BQU8sQ0FBK0IsRUFDekUsSUFBSyxFQUFTLFFBQWtDLEVBQzVDLE1BQU8sR0FDWCxJQUFLLEVBQU8sWUFBWSxLQUFLLE1BQU8sQ0FBTSxFQUFHLENBQ3pDLElBQUksRUFBUSxHQUFVLEdBQWtDLEVBQU8sRUFBUyxNQUNwRSxFQUFTLEtBQUssTUFBTSxPQUFTLEVBQVEsRUFDekMsR0FBSSxFQUFTLEdBQUssRUFBTyxRQUFRLEtBQUssTUFBTSxHQUFTLEVBQU0sRUFBSyxFQUFJLEVBQUcsQ0FDbkUsSUFBSSxFQUFTLEtBQUssb0JBQW9CLEVBQ3RDLEdBQUksR0FBVSxLQUNWLE1BQU8sR0FDWCxFQUFTLEVBRWIsS0FBSyxVQUFVLEVBQWtCLEtBQUssSUFBSyxLQUFLLElBQUssRUFBRyxFQUFJLEVBQzVELEtBQUssT0FBUyxJQUlsQixPQUZBLEtBQUssVUFBWSxLQUFLLElBQ3RCLEtBQUssT0FBTyxDQUFNLEVBQ1gsR0FPWCxtQkFBbUIsRUFBRyxDQUNsQixJQUFNLFVBQVcsS0FBSyxFQUFHLEVBQU8sQ0FBQyxFQUM3QixFQUFVLENBQUMsRUFBTyxJQUFVLENBQzVCLEdBQUksRUFBSyxTQUFTLENBQUssRUFDbkIsT0FFSixPQURBLEVBQUssS0FBSyxDQUFLLEVBQ1IsRUFBTyxXQUFXLEVBQU8sQ0FBQyxJQUFXLENBQ3hDLEdBQUksRUFBVSxnQkFDTCxFQUFTLE1BQStCLENBQzdDLElBQUksR0FBVSxHQUFVLElBQW9DLEVBQzVELEdBQUksRUFBUyxFQUFHLENBQ1osSUFBSSxFQUFPLEVBQVMsTUFBOEIsRUFBUyxLQUFLLE1BQU0sT0FBUyxFQUFTLEVBQ3hGLEdBQUksR0FBVSxHQUFLLEVBQU8sUUFBUSxLQUFLLE1BQU0sR0FBUyxFQUFNLEVBQUssR0FBSyxFQUNsRSxPQUFRLEdBQVUsR0FBb0MsTUFBZ0MsT0FHN0YsQ0FDRCxJQUFJLEVBQVEsRUFBUSxFQUFRLEVBQVEsQ0FBQyxFQUNyQyxHQUFJLEdBQVMsS0FDVCxPQUFPLEdBRWxCLEdBRUwsT0FBTyxFQUFRLEtBQUssTUFBTyxDQUFDLEVBS2hDLFFBQVEsRUFBRyxDQUNQLE9BQVEsS0FBSyxFQUFFLE9BQU8sVUFBVSxLQUFLLE1BQU8sQ0FBMkIsRUFDbkUsSUFBSyxLQUFLLFlBQVksRUFBRyxDQUNyQixLQUFLLFVBQVUsRUFBa0IsS0FBSyxJQUFLLEtBQUssSUFBSyxFQUFHLEVBQUksRUFDNUQsTUFHUixPQUFPLFFBT1AsUUFBTyxFQUFHLENBQ1YsR0FBSSxLQUFLLE1BQU0sUUFBVSxFQUNyQixNQUFPLEdBQ1gsSUFBTSxVQUFXLEtBQUssRUFDdEIsT0FBTyxFQUFPLEtBQUssRUFBTyxVQUFVLEtBQUssTUFBTyxDQUEwQixJQUFNLFFBQzNFLEVBQU8sVUFBVSxLQUFLLE1BQU8sQ0FBZ0MsRUFPdEUsT0FBTyxFQUFHLENBQ04sS0FBSyxVQUFVLEVBQWtCLEtBQUssSUFBSyxLQUFLLElBQUssRUFBRyxFQUFJLEVBQzVELEtBQUssTUFBUSxLQUFLLE1BQU0sR0FDeEIsS0FBSyxNQUFNLE9BQVMsRUFLeEIsU0FBUyxDQUFDLEVBQU8sQ0FDYixHQUFJLEtBQUssT0FBUyxFQUFNLE9BQVMsS0FBSyxNQUFNLFFBQVUsRUFBTSxNQUFNLE9BQzlELE1BQU8sR0FDWCxRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssTUFBTSxPQUFRLEdBQUssRUFDeEMsR0FBSSxLQUFLLE1BQU0sSUFBTSxFQUFNLE1BQU0sR0FDN0IsTUFBTyxHQUNmLE1BQU8sTUFLUCxPQUFNLEVBQUcsQ0FBRSxPQUFPLEtBQUssRUFBRSxPQUs3QixjQUFjLENBQUMsRUFBVyxDQUFFLE9BQU8sS0FBSyxFQUFFLE9BQU8sUUFBUSxNQUFNLEdBQy9ELFlBQVksQ0FBQyxFQUFNLEVBQU8sQ0FDdEIsR0FBSSxLQUFLLFdBQ0wsS0FBSyxjQUFjLEtBQUssV0FBVyxRQUFRLE1BQU0sS0FBSyxXQUFXLFFBQVMsRUFBTSxLQUFNLEtBQUssRUFBRSxPQUFPLE1BQU0sQ0FBSyxDQUFDLENBQUMsRUFFekgsYUFBYSxDQUFDLEVBQU0sRUFBTyxDQUN2QixHQUFJLEtBQUssV0FDTCxLQUFLLGNBQWMsS0FBSyxXQUFXLFFBQVEsT0FBTyxLQUFLLFdBQVcsUUFBUyxFQUFNLEtBQU0sS0FBSyxFQUFFLE9BQU8sTUFBTSxDQUFLLENBQUMsQ0FBQyxFQUsxSCxXQUFXLEVBQUcsQ0FDVixJQUFJLEVBQU8sS0FBSyxPQUFPLE9BQVMsRUFDaEMsR0FBSSxFQUFPLEdBQUssS0FBSyxPQUFPLElBQVMsR0FDakMsS0FBSyxPQUFPLEtBQUssS0FBSyxXQUFXLEtBQU0sS0FBSyxJQUFLLEtBQUssSUFBSyxFQUFFLEVBS3JFLGFBQWEsRUFBRyxDQUNaLElBQUksRUFBTyxLQUFLLE9BQU8sT0FBUyxFQUNoQyxHQUFJLEVBQU8sR0FBSyxLQUFLLE9BQU8sSUFBUyxHQUNqQyxLQUFLLE9BQU8sS0FBSyxLQUFLLFVBQVcsS0FBSyxJQUFLLEtBQUssSUFBSyxFQUFFLEVBRS9ELGFBQWEsQ0FBQyxFQUFTLENBQ25CLEdBQUksR0FBVyxLQUFLLFdBQVcsUUFBUyxDQUNwQyxJQUFJLEVBQVEsSUFBSSxHQUFhLEtBQUssV0FBVyxRQUFTLENBQU8sRUFDN0QsR0FBSSxFQUFNLE1BQVEsS0FBSyxXQUFXLEtBQzlCLEtBQUssWUFBWSxFQUNyQixLQUFLLFdBQWEsR0FNMUIsWUFBWSxDQUFDLEVBQVcsQ0FDcEIsR0FBSSxFQUFZLEtBQUssVUFDakIsS0FBSyxjQUFjLEVBQ25CLEtBQUssVUFBWSxFQU16QixLQUFLLEVBQUcsQ0FDSixHQUFJLEtBQUssWUFBYyxLQUFLLFdBQVcsUUFBUSxPQUMzQyxLQUFLLFlBQVksRUFDckIsR0FBSSxLQUFLLFVBQVksRUFDakIsS0FBSyxjQUFjLEVBRS9CLENBQ0EsTUFBTSxFQUFhLENBQ2YsV0FBVyxDQUFDLEVBQVMsRUFBUyxDQUMxQixLQUFLLFFBQVUsRUFDZixLQUFLLFFBQVUsRUFDZixLQUFLLEtBQU8sRUFBUSxPQUFTLEVBQVEsS0FBSyxDQUFPLEVBQUksRUFFN0QsQ0FHQSxNQUFNLEVBQWUsQ0FDakIsV0FBVyxDQUFDLEVBQU8sQ0FDZixLQUFLLE1BQVEsRUFDYixLQUFLLE1BQVEsRUFBTSxNQUNuQixLQUFLLE1BQVEsRUFBTSxNQUNuQixLQUFLLEtBQU8sS0FBSyxNQUFNLE9BRTNCLE1BQU0sQ0FBQyxFQUFRLENBQ1gsSUFBSSxFQUFPLEVBQVMsTUFBOEIsRUFBUSxHQUFVLEdBQ3BFLEdBQUksR0FBUyxFQUFHLENBQ1osR0FBSSxLQUFLLE9BQVMsS0FBSyxNQUFNLE1BQ3pCLEtBQUssTUFBUSxLQUFLLE1BQU0sTUFBTSxFQUNsQyxLQUFLLE1BQU0sS0FBSyxLQUFLLE1BQU8sRUFBRyxDQUFDLEVBQ2hDLEtBQUssTUFBUSxNQUdiLE1BQUssT0FBUyxFQUFRLEdBQUssRUFFL0IsSUFBSSxFQUFPLEtBQUssTUFBTSxFQUFFLE9BQU8sUUFBUSxLQUFLLE1BQU0sS0FBSyxLQUFPLEdBQUksRUFBTSxFQUFJLEVBQzVFLEtBQUssTUFBUSxFQUVyQixDQUdBLE1BQU0sRUFBa0IsQ0FDcEIsV0FBVyxDQUFDLEVBQU8sRUFBSyxFQUFPLENBSzNCLEdBSkEsS0FBSyxNQUFRLEVBQ2IsS0FBSyxJQUFNLEVBQ1gsS0FBSyxNQUFRLEVBQ2IsS0FBSyxPQUFTLEVBQU0sT0FDaEIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxVQUFVLFFBRWhCLE9BQU0sQ0FBQyxFQUFPLEVBQU0sRUFBTSxXQUFhLEVBQU0sT0FBTyxPQUFRLENBQy9ELE9BQU8sSUFBSSxHQUFrQixFQUFPLEVBQUssRUFBTSxFQUFNLFVBQVUsRUFFbkUsU0FBUyxFQUFHLENBQ1IsSUFBSSxFQUFPLEtBQUssTUFBTSxPQUN0QixHQUFJLEdBQVEsS0FDUixLQUFLLE1BQVEsS0FBSyxNQUFNLFdBQWEsRUFBSyxXQUMxQyxLQUFLLE1BQVEsRUFDYixLQUFLLE9BQVMsRUFBSyxVQUd2QixHQUFFLEVBQUcsQ0FBRSxPQUFPLEtBQUssT0FBTyxLQUFLLE1BQVEsTUFDdkMsTUFBSyxFQUFHLENBQUUsT0FBTyxLQUFLLE9BQU8sS0FBSyxNQUFRLE1BQzFDLElBQUcsRUFBRyxDQUFFLE9BQU8sS0FBSyxPQUFPLEtBQUssTUFBUSxNQUN4QyxLQUFJLEVBQUcsQ0FBRSxPQUFPLEtBQUssT0FBTyxLQUFLLE1BQVEsR0FDN0MsSUFBSSxFQUFHLENBR0gsR0FGQSxLQUFLLE9BQVMsRUFDZCxLQUFLLEtBQU8sRUFDUixLQUFLLE9BQVMsRUFDZCxLQUFLLFVBQVUsRUFFdkIsSUFBSSxFQUFHLENBQ0gsT0FBTyxJQUFJLEdBQWtCLEtBQUssTUFBTyxLQUFLLElBQUssS0FBSyxLQUFLLEVBRXJFLENBc0NBLE1BQU0sRUFBWSxDQUNkLFdBQVcsRUFBRyxDQUNWLEtBQUssTUFBUSxHQUNiLEtBQUssTUFBUSxHQUNiLEtBQUssSUFBTSxHQUNYLEtBQUssU0FBVyxHQUNoQixLQUFLLFVBQVksRUFDakIsS0FBSyxLQUFPLEVBQ1osS0FBSyxRQUFVLEVBRXZCLENBQ0EsSUFBTSxHQUFZLElBQUksR0FPdEIsTUFBTSxFQUFZLENBSWQsV0FBVyxDQUlYLEVBSUEsRUFBUSxDQUNKLEtBQUssTUFBUSxFQUNiLEtBQUssT0FBUyxFQUlkLEtBQUssTUFBUSxHQUliLEtBQUssU0FBVyxFQUloQixLQUFLLE9BQVMsR0FDZCxLQUFLLFVBQVksRUFLakIsS0FBSyxLQUFPLEdBSVosS0FBSyxNQUFRLEdBQ2IsS0FBSyxXQUFhLEVBQ2xCLEtBQUssSUFBTSxLQUFLLFNBQVcsRUFBTyxHQUFHLEtBQ3JDLEtBQUssTUFBUSxFQUFPLEdBQ3BCLEtBQUssSUFBTSxFQUFPLEVBQU8sT0FBUyxHQUFHLEdBQ3JDLEtBQUssU0FBUyxFQUtsQixhQUFhLENBQUMsRUFBUSxFQUFPLENBQ3pCLElBQUksRUFBUSxLQUFLLE1BQU8sRUFBUSxLQUFLLFdBQ2pDLEVBQU0sS0FBSyxJQUFNLEVBQ3JCLE1BQU8sRUFBTSxFQUFNLEtBQU0sQ0FDckIsSUFBSyxFQUNELE9BQU8sS0FDWCxJQUFJLEVBQU8sS0FBSyxPQUFPLEVBQUUsR0FDekIsR0FBTyxFQUFNLEtBQU8sRUFBSyxHQUN6QixFQUFRLEVBRVosTUFBTyxFQUFRLEVBQUksRUFBTSxFQUFNLEdBQUssR0FBTyxFQUFNLEdBQUksQ0FDakQsR0FBSSxHQUFTLEtBQUssT0FBTyxPQUFTLEVBQzlCLE9BQU8sS0FDWCxJQUFJLEVBQU8sS0FBSyxPQUFPLEVBQUUsR0FDekIsR0FBTyxFQUFLLEtBQU8sRUFBTSxHQUN6QixFQUFRLEVBRVosT0FBTyxFQUtYLE9BQU8sQ0FBQyxFQUFLLENBQ1QsR0FBSSxHQUFPLEtBQUssTUFBTSxNQUFRLEVBQU0sS0FBSyxNQUFNLEdBQzNDLE9BQU8sRUFDWCxRQUFTLEtBQVMsS0FBSyxPQUNuQixHQUFJLEVBQU0sR0FBSyxFQUNYLE9BQU8sS0FBSyxJQUFJLEVBQUssRUFBTSxJQUFJLEVBQ3ZDLE9BQU8sS0FBSyxJQWFoQixJQUFJLENBQUMsRUFBUSxDQUNULElBQUksRUFBTSxLQUFLLFNBQVcsRUFBUSxFQUFLLEVBQ3ZDLEdBQUksR0FBTyxHQUFLLEVBQU0sS0FBSyxNQUFNLE9BQzdCLEVBQU0sS0FBSyxJQUFNLEVBQ2pCLEVBQVMsS0FBSyxNQUFNLFdBQVcsQ0FBRyxNQUVqQyxDQUNELElBQUksRUFBVyxLQUFLLGNBQWMsRUFBUSxDQUFDLEVBQzNDLEdBQUksR0FBWSxLQUNaLE1BQU8sR0FFWCxHQURBLEVBQU0sRUFDRixHQUFPLEtBQUssV0FBYSxFQUFNLEtBQUssVUFBWSxLQUFLLE9BQU8sT0FDNUQsRUFBUyxLQUFLLE9BQU8sV0FBVyxFQUFNLEtBQUssU0FBUyxNQUVuRCxDQUNELElBQUksRUFBSSxLQUFLLFdBQVksRUFBUSxLQUFLLE1BQ3RDLE1BQU8sRUFBTSxJQUFNLEVBQ2YsRUFBUSxLQUFLLE9BQU8sRUFBRSxHQUUxQixHQURBLEtBQUssT0FBUyxLQUFLLE1BQU0sTUFBTSxLQUFLLFVBQVksQ0FBRyxFQUMvQyxFQUFNLEtBQUssT0FBTyxPQUFTLEVBQU0sR0FDakMsS0FBSyxPQUFTLEtBQUssT0FBTyxNQUFNLEVBQUcsRUFBTSxHQUFLLENBQUcsRUFDckQsRUFBUyxLQUFLLE9BQU8sV0FBVyxDQUFDLEdBR3pDLEdBQUksR0FBTyxLQUFLLE1BQU0sVUFDbEIsS0FBSyxNQUFNLFVBQVksRUFBTSxFQUNqQyxPQUFPLEVBT1gsV0FBVyxDQUFDLEVBQU8sRUFBWSxFQUFHLENBQzlCLElBQUksRUFBTSxFQUFZLEtBQUssY0FBYyxFQUFXLEVBQUUsRUFBSSxLQUFLLElBQy9ELEdBQUksR0FBTyxNQUFRLEVBQU0sS0FBSyxNQUFNLE1BQ2hDLE1BQU0sSUFBSSxXQUFXLHlCQUF5QixFQUNsRCxLQUFLLE1BQU0sTUFBUSxFQUNuQixLQUFLLE1BQU0sSUFBTSxFQUtyQixhQUFhLENBQUMsRUFBTyxFQUFRLENBQ3pCLEtBQUssTUFBTSxNQUFRLEVBQ25CLEtBQUssTUFBTSxJQUFNLEVBRXJCLFFBQVEsRUFBRyxDQUNQLEdBQUksS0FBSyxLQUFPLEtBQUssV0FBYSxLQUFLLElBQU0sS0FBSyxVQUFZLEtBQUssT0FBTyxPQUFRLENBQzlFLElBQU0sUUFBTyxZQUFhLEtBQzFCLEtBQUssTUFBUSxLQUFLLE9BQ2xCLEtBQUssU0FBVyxLQUFLLFVBQ3JCLEtBQUssT0FBUyxFQUNkLEtBQUssVUFBWSxFQUNqQixLQUFLLFNBQVcsS0FBSyxJQUFNLEtBQUssYUFFL0IsQ0FDRCxLQUFLLE9BQVMsS0FBSyxNQUNuQixLQUFLLFVBQVksS0FBSyxTQUN0QixJQUFJLEVBQVksS0FBSyxNQUFNLE1BQU0sS0FBSyxHQUFHLEVBQ3JDLEVBQU0sS0FBSyxJQUFNLEVBQVUsT0FDL0IsS0FBSyxNQUFRLEVBQU0sS0FBSyxNQUFNLEdBQUssRUFBVSxNQUFNLEVBQUcsS0FBSyxNQUFNLEdBQUssS0FBSyxHQUFHLEVBQUksRUFDbEYsS0FBSyxTQUFXLEtBQUssSUFDckIsS0FBSyxTQUFXLEdBR3hCLFFBQVEsRUFBRyxDQUNQLEdBQUksS0FBSyxVQUFZLEtBQUssTUFBTSxRQUU1QixHQURBLEtBQUssU0FBUyxFQUNWLEtBQUssVUFBWSxLQUFLLE1BQU0sT0FDNUIsT0FBTyxLQUFLLEtBQU8sR0FFM0IsT0FBTyxLQUFLLEtBQU8sS0FBSyxNQUFNLFdBQVcsS0FBSyxRQUFRLEVBTTFELE9BQU8sQ0FBQyxFQUFJLEVBQUcsQ0FDWCxLQUFLLFVBQVksRUFDakIsTUFBTyxLQUFLLElBQU0sR0FBSyxLQUFLLE1BQU0sR0FBSSxDQUNsQyxHQUFJLEtBQUssWUFBYyxLQUFLLE9BQU8sT0FBUyxFQUN4QyxPQUFPLEtBQUssUUFBUSxFQUN4QixHQUFLLEtBQUssTUFBTSxHQUFLLEtBQUssSUFDMUIsS0FBSyxNQUFRLEtBQUssT0FBTyxFQUFFLEtBQUssWUFDaEMsS0FBSyxJQUFNLEtBQUssTUFBTSxLQUcxQixHQURBLEtBQUssS0FBTyxFQUNSLEtBQUssS0FBTyxLQUFLLE1BQU0sVUFDdkIsS0FBSyxNQUFNLFVBQVksS0FBSyxJQUFNLEVBQ3RDLE9BQU8sS0FBSyxTQUFTLEVBRXpCLE9BQU8sRUFBRyxDQUlOLE9BSEEsS0FBSyxJQUFNLEtBQUssU0FBVyxLQUFLLElBQ2hDLEtBQUssTUFBUSxLQUFLLE9BQU8sS0FBSyxXQUFhLEtBQUssT0FBTyxPQUFTLEdBQ2hFLEtBQUssTUFBUSxHQUNOLEtBQUssS0FBTyxHQUt2QixLQUFLLENBQUMsRUFBSyxFQUFPLENBQ2QsR0FBSSxFQUNBLEtBQUssTUFBUSxFQUNiLEVBQU0sTUFBUSxFQUNkLEVBQU0sVUFBWSxFQUFNLEVBQ3hCLEVBQU0sTUFBUSxFQUFNLFNBQVcsT0FHL0IsTUFBSyxNQUFRLEdBRWpCLEdBQUksS0FBSyxLQUFPLEVBQUssQ0FFakIsR0FEQSxLQUFLLElBQU0sRUFDUCxHQUFPLEtBQUssSUFFWixPQURBLEtBQUssUUFBUSxFQUNOLEtBRVgsTUFBTyxFQUFNLEtBQUssTUFBTSxLQUNwQixLQUFLLE1BQVEsS0FBSyxPQUFPLEVBQUUsS0FBSyxZQUNwQyxNQUFPLEdBQU8sS0FBSyxNQUFNLEdBQ3JCLEtBQUssTUFBUSxLQUFLLE9BQU8sRUFBRSxLQUFLLFlBQ3BDLEdBQUksR0FBTyxLQUFLLFVBQVksRUFBTSxLQUFLLFNBQVcsS0FBSyxNQUFNLE9BQ3pELEtBQUssU0FBVyxFQUFNLEtBQUssYUFHM0IsTUFBSyxNQUFRLEdBQ2IsS0FBSyxTQUFXLEVBRXBCLEtBQUssU0FBUyxFQUVsQixPQUFPLEtBS1gsSUFBSSxDQUFDLEVBQU0sRUFBSSxDQUNYLEdBQUksR0FBUSxLQUFLLFVBQVksR0FBTSxLQUFLLFNBQVcsS0FBSyxNQUFNLE9BQzFELE9BQU8sS0FBSyxNQUFNLE1BQU0sRUFBTyxLQUFLLFNBQVUsRUFBSyxLQUFLLFFBQVEsRUFDcEUsR0FBSSxHQUFRLEtBQUssV0FBYSxHQUFNLEtBQUssVUFBWSxLQUFLLE9BQU8sT0FDN0QsT0FBTyxLQUFLLE9BQU8sTUFBTSxFQUFPLEtBQUssVUFBVyxFQUFLLEtBQUssU0FBUyxFQUN2RSxHQUFJLEdBQVEsS0FBSyxNQUFNLE1BQVEsR0FBTSxLQUFLLE1BQU0sR0FDNUMsT0FBTyxLQUFLLE1BQU0sS0FBSyxFQUFNLENBQUUsRUFDbkMsSUFBSSxFQUFTLEdBQ2IsUUFBUyxLQUFLLEtBQUssT0FBUSxDQUN2QixHQUFJLEVBQUUsTUFBUSxFQUNWLE1BQ0osR0FBSSxFQUFFLEdBQUssRUFDUCxHQUFVLEtBQUssTUFBTSxLQUFLLEtBQUssSUFBSSxFQUFFLEtBQU0sQ0FBSSxFQUFHLEtBQUssSUFBSSxFQUFFLEdBQUksQ0FBRSxDQUFDLEVBRTVFLE9BQU8sRUFFZixDQUlBLE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FBQyxFQUFNLEVBQUksQ0FDbEIsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBRWQsS0FBSyxDQUFDLEVBQU8sRUFBTyxDQUNoQixJQUFNLFVBQVcsRUFBTSxFQUN2QixHQUFVLEtBQUssS0FBTSxFQUFPLEVBQU8sS0FBSyxHQUFJLEVBQU8sS0FBTSxFQUFPLGNBQWMsRUFFdEYsQ0FDQSxHQUFXLFVBQVUsV0FBYSxHQUFXLFVBQVUsU0FBVyxHQUFXLFVBQVUsT0FBUyxHQUloRyxNQUFNLEVBQWdCLENBQ2xCLFdBQVcsQ0FBQyxFQUFNLEVBQVcsRUFBVyxDQUNwQyxLQUFLLFVBQVksRUFDakIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssWUFBYyxHQUFRLFNBQVcsR0FBWSxDQUFJLEVBQUksRUFFOUQsS0FBSyxDQUFDLEVBQU8sRUFBTyxDQUNoQixJQUFJLEVBQVEsRUFBTSxJQUFLLEVBQVUsRUFDakMsT0FBUyxDQUNMLElBQUksRUFBUSxFQUFNLEtBQU8sRUFBRyxFQUFVLEVBQU0sY0FBYyxFQUFHLENBQUMsRUFFOUQsR0FEQSxHQUFVLEtBQUssS0FBTSxFQUFPLEVBQU8sRUFBRyxLQUFLLEtBQU0sS0FBSyxTQUFTLEVBQzNELEVBQU0sTUFBTSxNQUFRLEdBQ3BCLE1BQ0osR0FBSSxLQUFLLFdBQWEsS0FDbEIsT0FDSixJQUFLLEVBQ0QsSUFDSixHQUFJLEdBQVcsS0FDWCxNQUNKLEVBQU0sTUFBTSxFQUFTLEVBQU0sS0FBSyxFQUVwQyxHQUFJLEVBQ0EsRUFBTSxNQUFNLEVBQU8sRUFBTSxLQUFLLEVBQzlCLEVBQU0sWUFBWSxLQUFLLFVBQVcsQ0FBTyxFQUdyRCxDQUNBLEdBQWdCLFVBQVUsV0FBYSxHQUFXLFVBQVUsU0FBVyxHQUFXLFVBQVUsT0FBUyxHQUtyRyxNQUFNLEVBQWtCLENBUXBCLFdBQVcsQ0FJWCxFQUFPLEVBQVUsQ0FBQyxFQUFHLENBQ2pCLEtBQUssTUFBUSxFQUNiLEtBQUssYUFBZSxFQUFRLFdBQzVCLEtBQUssV0FBYSxFQUFRLFNBQzFCLEtBQUssU0FBVyxFQUFRLE9BRWhDLENBNEVBLElBQU0sVUFBaUIsU0FBVyxhQUFlLFFBQVEsS0FBTyxZQUFZLEtBQUssUUFBUSxJQUFJLEdBQUcsRUFDNUYsR0FBVyxLQWlCZixNQUFNLEVBQWUsQ0FDakIsV0FBVyxDQUFDLEVBQVcsRUFBUyxDQUM1QixLQUFLLFVBQVksRUFDakIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxFQUFJLEVBQ1QsS0FBSyxTQUFXLEtBQ2hCLEtBQUssU0FBVyxHQUNoQixLQUFLLE9BQVMsR0FDZCxLQUFLLE1BQVEsQ0FBQyxFQUNkLEtBQUssTUFBUSxDQUFDLEVBQ2QsS0FBSyxNQUFRLENBQUMsRUFDZCxLQUFLLGFBQWEsRUFFdEIsWUFBWSxFQUFHLENBQ1gsSUFBSSxFQUFLLEtBQUssU0FBVyxLQUFLLEdBQUssS0FBSyxVQUFVLE9BQVMsS0FBTyxLQUFLLFVBQVUsS0FBSyxLQUN0RixHQUFJLEVBQUksQ0FDSixLQUFLLFNBQVcsRUFBRyxVQUFZLEdBQU0sRUFBRyxLQUFNLEVBQUcsS0FBTyxFQUFHLE9BQVEsQ0FBQyxFQUFJLEVBQUcsT0FBUyxFQUFHLEtBQ3ZGLEtBQUssT0FBUyxFQUFHLFFBQVUsR0FBTSxFQUFHLEtBQU0sRUFBRyxHQUFLLEVBQUcsT0FBUSxFQUFFLEVBQUksRUFBRyxPQUFTLEVBQUcsR0FDbEYsTUFBTyxLQUFLLE1BQU0sT0FDZCxLQUFLLE1BQU0sSUFBSSxFQUNmLEtBQUssTUFBTSxJQUFJLEVBQ2YsS0FBSyxNQUFNLElBQUksRUFFbkIsS0FBSyxNQUFNLEtBQUssRUFBRyxJQUFJLEVBQ3ZCLEtBQUssTUFBTSxNQUFNLEVBQUcsTUFBTSxFQUMxQixLQUFLLE1BQU0sS0FBSyxDQUFDLEVBQ2pCLEtBQUssVUFBWSxLQUFLLGFBR3RCLE1BQUssVUFBWSxJQUl6QixNQUFNLENBQUMsRUFBSyxDQUNSLEdBQUksRUFBTSxLQUFLLFVBQ1gsT0FBTyxLQUNYLE1BQU8sS0FBSyxVQUFZLEtBQUssUUFBVSxFQUNuQyxLQUFLLGFBQWEsRUFDdEIsSUFBSyxLQUFLLFNBQ04sT0FBTyxLQUNYLE9BQVMsQ0FDTCxJQUFJLEVBQU8sS0FBSyxNQUFNLE9BQVMsRUFDL0IsR0FBSSxFQUFPLEVBRVAsT0FEQSxLQUFLLGFBQWEsRUFDWCxLQUVYLElBQUksRUFBTSxLQUFLLE1BQU0sR0FBTyxFQUFRLEtBQUssTUFBTSxHQUMvQyxHQUFJLEdBQVMsRUFBSSxTQUFTLE9BQVEsQ0FDOUIsS0FBSyxNQUFNLElBQUksRUFDZixLQUFLLE1BQU0sSUFBSSxFQUNmLEtBQUssTUFBTSxJQUFJLEVBQ2YsU0FFSixJQUFJLEVBQU8sRUFBSSxTQUFTLEdBQ3BCLEVBQVEsS0FBSyxNQUFNLEdBQVEsRUFBSSxVQUFVLEdBQzdDLEdBQUksRUFBUSxFQUVSLE9BREEsS0FBSyxVQUFZLEVBQ1YsS0FFWCxHQUFJLGFBQWdCLEVBQU0sQ0FDdEIsR0FBSSxHQUFTLEVBQUssQ0FDZCxHQUFJLEVBQVEsS0FBSyxTQUNiLE9BQU8sS0FDWCxJQUFJLEVBQU0sRUFBUSxFQUFLLE9BQ3ZCLEdBQUksR0FBTyxLQUFLLE9BQVEsQ0FDcEIsSUFBSSxFQUFZLEVBQUssS0FBSyxFQUFTLFNBQVMsRUFDNUMsSUFBSyxHQUFhLEVBQU0sRUFBWSxLQUFLLFNBQVMsR0FDOUMsT0FBTyxHQUluQixHQURBLEtBQUssTUFBTSxLQUNQLEVBQVEsRUFBSyxRQUFVLEtBQUssSUFBSSxLQUFLLFNBQVUsQ0FBRyxFQUNsRCxLQUFLLE1BQU0sS0FBSyxDQUFJLEVBQ3BCLEtBQUssTUFBTSxLQUFLLENBQUssRUFDckIsS0FBSyxNQUFNLEtBQUssQ0FBQyxNQUlyQixNQUFLLE1BQU0sS0FDWCxLQUFLLFVBQVksRUFBUSxFQUFLLFFBSTlDLENBQ0EsTUFBTSxFQUFXLENBQ2IsV0FBVyxDQUFDLEVBQVEsRUFBUSxDQUN4QixLQUFLLE9BQVMsRUFDZCxLQUFLLE9BQVMsQ0FBQyxFQUNmLEtBQUssVUFBWSxLQUNqQixLQUFLLFFBQVUsQ0FBQyxFQUNoQixLQUFLLE9BQVMsRUFBTyxXQUFXLElBQUksS0FBSyxJQUFJLEVBQVcsRUFFNUQsVUFBVSxDQUFDLEVBQU8sQ0FDZCxJQUFJLEVBQWMsRUFDZCxFQUFPLE1BQ0wsVUFBVyxFQUFNLEdBQUssY0FBZSxFQUN2QyxFQUFPLEVBQU8sVUFBVSxFQUFNLE1BQU8sQ0FBZ0MsRUFDckUsRUFBVSxFQUFNLFdBQWEsRUFBTSxXQUFXLEtBQU8sRUFDckQsRUFBWSxFQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVcsT0FBUSxJQUFLLENBQ3hDLElBQU0sR0FBSyxFQUFLLElBQVMsRUFDckIsU0FDSixJQUFJLEVBQVksRUFBVyxHQUFJLEVBQVEsS0FBSyxPQUFPLEdBQ25ELEdBQUksSUFBUyxFQUFVLFNBQ25CLFNBQ0osR0FBSSxFQUFVLFlBQWMsRUFBTSxPQUFTLEVBQU0sS0FBTyxFQUFNLE1BQVEsR0FBUSxFQUFNLFNBQVcsRUFDM0YsS0FBSyxrQkFBa0IsRUFBTyxFQUFXLENBQUssRUFDOUMsRUFBTSxLQUFPLEVBQ2IsRUFBTSxRQUFVLEVBRXBCLEdBQUksRUFBTSxVQUFZLEVBQU0sSUFBTSxHQUM5QixFQUFZLEtBQUssSUFBSSxFQUFNLFVBQVcsQ0FBUyxFQUNuRCxHQUFJLEVBQU0sT0FBUyxFQUFrQixDQUNqQyxJQUFJLEVBQWEsRUFDakIsR0FBSSxFQUFNLFNBQVcsR0FDakIsRUFBYyxLQUFLLFdBQVcsRUFBTyxFQUFNLFNBQVUsRUFBTSxJQUFLLENBQVcsRUFFL0UsR0FEQSxFQUFjLEtBQUssV0FBVyxFQUFPLEVBQU0sTUFBTyxFQUFNLElBQUssQ0FBVyxHQUNuRSxFQUFVLFFBRVgsR0FEQSxFQUFPLEVBQ0gsRUFBYyxFQUNkLFFBSWhCLE1BQU8sS0FBSyxRQUFRLE9BQVMsRUFDekIsS0FBSyxRQUFRLElBQUksRUFDckIsR0FBSSxFQUNBLEVBQU0sYUFBYSxDQUFTLEVBQ2hDLElBQUssR0FBUSxFQUFNLEtBQU8sS0FBSyxPQUFPLElBQ2xDLEVBQU8sSUFBSSxHQUNYLEVBQUssTUFBUSxFQUFNLEVBQUUsT0FBTyxRQUM1QixFQUFLLE1BQVEsRUFBSyxJQUFNLEVBQU0sSUFDOUIsRUFBYyxLQUFLLFdBQVcsRUFBTyxFQUFLLE1BQU8sRUFBSyxJQUFLLENBQVcsRUFHMUUsT0FEQSxLQUFLLFVBQVksRUFDVixLQUFLLFFBRWhCLFlBQVksQ0FBQyxFQUFPLENBQ2hCLEdBQUksS0FBSyxVQUNMLE9BQU8sS0FBSyxVQUNoQixJQUFJLEVBQU8sSUFBSSxJQUFlLE1BQUssS0FBTSxFQUl6QyxPQUhBLEVBQUssTUFBUSxFQUNiLEVBQUssSUFBTSxLQUFLLElBQUksRUFBTSxFQUFHLEVBQUUsT0FBTyxHQUFHLEVBQ3pDLEVBQUssTUFBUSxHQUFPLEVBQUUsT0FBTyxJQUFNLEVBQUUsT0FBTyxRQUFVLEVBQy9DLEVBRVgsaUJBQWlCLENBQUMsRUFBTyxFQUFXLEVBQU8sQ0FDdkMsSUFBSSxFQUFRLEtBQUssT0FBTyxRQUFRLEVBQU0sR0FBRyxFQUV6QyxHQURBLEVBQVUsTUFBTSxLQUFLLE9BQU8sTUFBTSxFQUFPLENBQUssRUFBRyxDQUFLLEVBQ2xELEVBQU0sTUFBUSxHQUFJLENBQ2xCLElBQU0sVUFBVyxFQUFNLEVBQ3ZCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxZQUFZLE9BQVEsSUFDM0MsR0FBSSxFQUFPLFlBQVksSUFBTSxFQUFNLE1BQU8sQ0FDdEMsSUFBSSxFQUFTLEVBQU8sYUFBYSxHQUFHLEtBQUssT0FBTyxLQUFLLEVBQU0sTUFBTyxFQUFNLEdBQUcsRUFBRyxDQUFLLEVBQ25GLEdBQUksR0FBVSxHQUFLLEVBQU0sRUFBRSxPQUFPLFFBQVEsT0FBTyxHQUFVLENBQUMsRUFBRyxDQUMzRCxJQUFLLEVBQVMsSUFBTSxFQUNoQixFQUFNLE1BQVEsR0FBVSxNQUV4QixHQUFNLFNBQVcsR0FBVSxFQUMvQixZQUtaLEdBQU0sTUFBUSxFQUNkLEVBQU0sSUFBTSxLQUFLLE9BQU8sUUFBUSxFQUFRLENBQUMsRUFHakQsU0FBUyxDQUFDLEVBQVEsRUFBTyxFQUFLLEVBQU8sQ0FFakMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLEdBQUssRUFDNUIsR0FBSSxLQUFLLFFBQVEsSUFBTSxFQUNuQixPQUFPLEVBSWYsT0FIQSxLQUFLLFFBQVEsS0FBVyxFQUN4QixLQUFLLFFBQVEsS0FBVyxFQUN4QixLQUFLLFFBQVEsS0FBVyxFQUNqQixFQUVYLFVBQVUsQ0FBQyxFQUFPLEVBQU8sRUFBSyxFQUFPLENBQ2pDLElBQU0sU0FBVSxHQUFTLFVBQVcsRUFBTSxHQUFLLFFBQVMsRUFDeEQsUUFBUyxFQUFNLEVBQUcsRUFBTSxFQUFHLElBQ3ZCLFFBQVMsRUFBSSxFQUFPLFVBQVUsRUFBTyxFQUFNLEVBQTBCLENBQTBCLEdBQUksR0FBSyxFQUFHLENBQ3ZHLEdBQUksRUFBSyxJQUFNLE1BQ1gsR0FBSSxFQUFLLEVBQUksSUFBTSxFQUNmLEVBQUksR0FBSyxFQUFNLEVBQUksQ0FBQyxNQUVuQixDQUNELEdBQUksR0FBUyxHQUFLLEVBQUssRUFBSSxJQUFNLEVBQzdCLEVBQVEsS0FBSyxVQUFVLEdBQUssRUFBTSxFQUFJLENBQUMsRUFBRyxFQUFPLEVBQUssQ0FBSyxFQUMvRCxNQUdSLEdBQUksRUFBSyxJQUFNLEVBQ1gsRUFBUSxLQUFLLFVBQVUsR0FBSyxFQUFNLEVBQUksQ0FBQyxFQUFHLEVBQU8sRUFBSyxDQUFLLEVBR3ZFLE9BQU8sRUFFZixDQUNBLE1BQU0sRUFBTSxDQUNSLFdBQVcsQ0FBQyxFQUFRLEVBQU8sRUFBVyxFQUFRLENBQzFDLEtBQUssT0FBUyxFQUNkLEtBQUssTUFBUSxFQUNiLEtBQUssT0FBUyxFQUNkLEtBQUssV0FBYSxFQUNsQixLQUFLLFlBQWMsS0FDbkIsS0FBSyxZQUFjLEVBQ25CLEtBQUssT0FBUyxDQUFDLEVBQ2YsS0FBSyxVQUFZLEtBQ2pCLEtBQUssc0JBQXdCLEdBQzdCLEtBQUsscUJBQXVCLEVBQzVCLEtBQUssa0JBQW9CLEVBQ3pCLEtBQUssT0FBUyxJQUFJLEdBQVksRUFBTyxDQUFNLEVBQzNDLEtBQUssT0FBUyxJQUFJLEdBQVcsRUFBUSxLQUFLLE1BQU0sRUFDaEQsS0FBSyxRQUFVLEVBQU8sSUFBSSxHQUMxQixJQUFNLFFBQVMsRUFBTyxHQUN0QixLQUFLLE9BQVMsQ0FBQyxHQUFNLE1BQU0sS0FBTSxFQUFPLElBQUksR0FBSSxDQUFJLENBQUMsRUFDckQsS0FBSyxVQUFZLEVBQVUsUUFBVSxLQUFLLE9BQU8sSUFBTSxFQUFPLEVBQU8sYUFBZSxFQUM5RSxJQUFJLEdBQWUsRUFBVyxFQUFPLE9BQU8sRUFBSSxRQUV0RCxVQUFTLEVBQUcsQ0FDWixPQUFPLEtBQUssWUFRaEIsT0FBTyxFQUFHLENBQ04sSUFBSSxFQUFTLEtBQUssT0FBUSxFQUFNLEtBQUssWUFFakMsRUFBWSxLQUFLLE9BQVMsQ0FBQyxFQUMzQixFQUFTLEVBUWIsR0FBSSxLQUFLLGtCQUFvQixLQUFrRCxFQUFPLFFBQVUsRUFBRyxDQUMvRixJQUFLLEdBQUssRUFDVixNQUFPLEVBQUUsWUFBWSxHQUFLLEVBQUUsTUFBTSxRQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sT0FBUyxJQUFNLEtBQUssc0JBQXVCLENBQ3ZHLEtBQUssa0JBQW9CLEtBQUsscUJBQXVCLEVBS3pELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDcEMsSUFBSSxFQUFRLEVBQU8sR0FDbkIsT0FBUyxDQUVMLEdBREEsS0FBSyxPQUFPLFVBQVksS0FDcEIsRUFBTSxJQUFNLEVBQ1osRUFBVSxLQUFLLENBQUssVUFFZixLQUFLLGFBQWEsRUFBTyxFQUFXLENBQU0sRUFDL0MsYUFFQyxDQUNELElBQUssRUFDRCxFQUFVLENBQUMsRUFDWCxFQUFnQixDQUFDLEVBRXJCLEVBQVEsS0FBSyxDQUFLLEVBQ2xCLElBQUksRUFBTSxLQUFLLE9BQU8sYUFBYSxDQUFLLEVBQ3hDLEVBQWMsS0FBSyxFQUFJLE1BQU8sRUFBSSxHQUFHLEVBRXpDLE9BR1IsSUFBSyxFQUFVLE9BQVEsQ0FDbkIsSUFBSSxFQUFXLEdBQVcsR0FBYSxDQUFPLEVBQzlDLEdBQUksRUFBVSxDQUNWLEdBQUksR0FDQSxRQUFRLElBQUksZUFBaUIsS0FBSyxRQUFRLENBQVEsQ0FBQyxFQUN2RCxPQUFPLEtBQUssWUFBWSxDQUFRLEVBRXBDLEdBQUksS0FBSyxPQUFPLE9BQVEsQ0FDcEIsR0FBSSxJQUFXLEVBQ1gsUUFBUSxJQUFJLHFCQUF1QixLQUFLLE9BQU8sVUFBWSxLQUFLLE9BQU8sUUFBUSxLQUFLLE9BQU8sVUFBVSxLQUFLLEVBQUksT0FBTyxFQUN6SCxNQUFNLElBQUksWUFBWSxlQUFpQixDQUFHLEVBRTlDLElBQUssS0FBSyxXQUNOLEtBQUssV0FBYSxFQUUxQixHQUFJLEtBQUssWUFBYyxFQUFTLENBQzVCLElBQUksRUFBVyxLQUFLLFdBQWEsTUFBUSxFQUFRLEdBQUcsSUFBTSxLQUFLLFVBQVksRUFBUSxHQUM3RSxLQUFLLFlBQVksRUFBUyxFQUFlLENBQVMsRUFDeEQsR0FBSSxFQUFVLENBQ1YsR0FBSSxHQUNBLFFBQVEsSUFBSSxnQkFBa0IsS0FBSyxRQUFRLENBQVEsQ0FBQyxFQUN4RCxPQUFPLEtBQUssWUFBWSxFQUFTLFNBQVMsQ0FBQyxHQUduRCxHQUFJLEtBQUssV0FBWSxDQUNqQixJQUFJLEVBQWUsS0FBSyxZQUFjLEVBQUksRUFBSSxLQUFLLFdBQWEsRUFDaEUsR0FBSSxFQUFVLE9BQVMsRUFBYyxDQUNqQyxFQUFVLEtBQUssQ0FBQyxFQUFHLElBQU0sRUFBRSxNQUFRLEVBQUUsS0FBSyxFQUMxQyxNQUFPLEVBQVUsT0FBUyxFQUN0QixFQUFVLElBQUksRUFFdEIsR0FBSSxFQUFVLEtBQUssS0FBSyxFQUFFLFVBQVksQ0FBRyxFQUNyQyxLQUFLLHFCQUVKLEVBQVUsT0FBUyxFQUFHLENBSTNCLEVBQU8sUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVMsRUFBRyxJQUFLLENBQ2xELElBQUksRUFBUSxFQUFVLEdBQ3RCLFFBQVMsRUFBSSxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFBSyxDQUMzQyxJQUFJLEVBQVEsRUFBVSxHQUN0QixHQUFJLEVBQU0sVUFBVSxDQUFLLEdBQ3JCLEVBQU0sT0FBTyxPQUFTLEtBQXNDLEVBQU0sT0FBTyxPQUFTLElBQ2xGLElBQU0sRUFBTSxNQUFRLEVBQU0sT0FBVyxFQUFNLE9BQU8sT0FBUyxFQUFNLE9BQU8sUUFBVyxFQUMvRSxFQUFVLE9BQU8sSUFBSyxDQUFDLE1BRXRCLENBQ0QsRUFBVSxPQUFPLElBQUssQ0FBQyxFQUN2QixhQUtoQixHQUFJLEVBQVUsT0FBUyxHQUNuQixFQUFVLE9BQU8sR0FBNEIsRUFBVSxPQUFTLEVBQTBCLEVBRWxHLEtBQUssWUFBYyxFQUFVLEdBQUcsSUFDaEMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFDbEMsR0FBSSxFQUFVLEdBQUcsSUFBTSxLQUFLLFlBQ3hCLEtBQUssWUFBYyxFQUFVLEdBQUcsSUFDeEMsT0FBTyxLQUVYLE1BQU0sQ0FBQyxFQUFLLENBQ1IsR0FBSSxLQUFLLFdBQWEsTUFBUSxLQUFLLFVBQVksRUFDM0MsTUFBTSxJQUFJLFdBQVcsOEJBQThCLEVBQ3ZELEtBQUssVUFBWSxFQU1yQixZQUFZLENBQUMsRUFBTyxFQUFRLEVBQU8sQ0FDL0IsSUFBSSxFQUFRLEVBQU0sS0FBTyxVQUFXLEtBQ2hDLEVBQU8sR0FBVSxLQUFLLFFBQVEsQ0FBSyxFQUFJLE9BQVMsR0FDcEQsR0FBSSxLQUFLLFdBQWEsTUFBUSxFQUFRLEtBQUssVUFDdkMsT0FBTyxFQUFNLFlBQVksRUFBSSxFQUFRLEtBQ3pDLEdBQUksS0FBSyxVQUFXLENBQ2hCLElBQUksRUFBVyxFQUFNLFlBQWMsRUFBTSxXQUFXLFFBQVEsT0FBUSxFQUFTLEVBQVcsRUFBTSxXQUFXLEtBQU8sRUFDaEgsUUFBUyxFQUFTLEtBQUssVUFBVSxPQUFPLENBQUssRUFBRyxHQUFTLENBQ3JELElBQUksRUFBUSxLQUFLLE9BQU8sUUFBUSxNQUFNLEVBQU8sS0FBSyxLQUFPLEVBQU8sS0FBTyxFQUFPLFFBQVEsRUFBTSxNQUFPLEVBQU8sS0FBSyxFQUFFLEVBQUksR0FDckgsR0FBSSxFQUFRLElBQU0sRUFBTyxVQUFZLElBQWEsRUFBTyxLQUFLLEVBQVMsV0FBVyxHQUFLLElBQU0sR0FBUyxDQUVsRyxHQURBLEVBQU0sUUFBUSxFQUFRLENBQUssRUFDdkIsR0FDQSxRQUFRLElBQUksRUFBTyxLQUFLLFFBQVEsQ0FBSyxFQUFJLGtCQUFrQixFQUFPLFFBQVEsRUFBTyxLQUFLLEVBQUUsSUFBSSxFQUNoRyxNQUFPLEdBRVgsS0FBTSxhQUFrQixJQUFTLEVBQU8sU0FBUyxRQUFVLEdBQUssRUFBTyxVQUFVLEdBQUssRUFDbEYsTUFDSixJQUFJLEVBQVEsRUFBTyxTQUFTLEdBQzVCLEdBQUksYUFBaUIsR0FBUSxFQUFPLFVBQVUsSUFBTSxFQUNoRCxFQUFTLE1BRVQsUUFHWixJQUFJLEVBQWdCLEVBQU8sVUFBVSxFQUFNLE1BQU8sQ0FBZ0MsRUFDbEYsR0FBSSxFQUFnQixFQUFHLENBRW5CLEdBREEsRUFBTSxPQUFPLENBQWEsRUFDdEIsR0FDQSxRQUFRLElBQUksRUFBTyxLQUFLLFFBQVEsQ0FBSyxFQUFJLHVCQUF1QixFQUFPLFFBQVEsRUFBZ0IsS0FBNEIsSUFBSSxFQUNuSSxNQUFPLEdBRVgsR0FBSSxFQUFNLE1BQU0sUUFBVSxLQUN0QixNQUFPLEVBQU0sTUFBTSxPQUFTLE1BQXdCLEVBQU0sWUFBWSxFQUFHLENBRTdFLElBQUksRUFBVSxLQUFLLE9BQU8sV0FBVyxDQUFLLEVBQzFDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUSxRQUFTLENBQ2pDLElBQUksRUFBUyxFQUFRLEtBQU0sRUFBTyxFQUFRLEtBQU0sRUFBTSxFQUFRLEtBQzFELEVBQU8sR0FBSyxFQUFRLFNBQVcsRUFDL0IsRUFBYSxFQUFPLEVBQVEsRUFBTSxNQUFNLEVBQ3hDLEVBQU8sS0FBSyxPQUFPLFVBRXZCLEdBREEsRUFBVyxNQUFNLEVBQVEsRUFBTSxFQUFPLEVBQUssTUFBUSxFQUFXLElBQUssQ0FBRyxFQUNsRSxHQUNBLFFBQVEsSUFBSSxFQUFPLEtBQUssUUFBUSxDQUFVLEVBQUksVUFBVSxFQUFTLFFBQWtDLEVBQUksUUFDakcsYUFBYSxFQUFPLFFBQVEsRUFBUyxLQUE0QixXQUFXLEVBQU8sUUFBUSxDQUFJLE9BQU8sSUFBUSxHQUFjLEVBQVEsR0FBSyxZQUFZLEVBQy9KLEdBQUksRUFDQSxNQUFPLFdBQ0YsRUFBVyxJQUFNLEVBQ3RCLEVBQU8sS0FBSyxDQUFVLE1BRXRCLEdBQU0sS0FBSyxDQUFVLEVBRTdCLE1BQU8sR0FLWCxZQUFZLENBQUMsRUFBTyxFQUFXLENBQzNCLElBQUksRUFBTSxFQUFNLElBQ2hCLE9BQVMsQ0FDTCxJQUFLLEtBQUssYUFBYSxFQUFPLEtBQU0sSUFBSSxFQUNwQyxNQUFPLEdBQ1gsR0FBSSxFQUFNLElBQU0sRUFFWixPQURBLEdBQWUsRUFBTyxDQUFTLEVBQ3hCLElBSW5CLFdBQVcsQ0FBQyxFQUFRLEVBQVEsRUFBVyxDQUNuQyxJQUFJLEVBQVcsS0FBTSxFQUFZLEdBQ2pDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDcEMsSUFBSSxFQUFRLEVBQU8sR0FBSSxFQUFRLEVBQU8sR0FBSyxHQUFJLEVBQVcsRUFBUSxJQUFLLEdBQUssR0FDeEUsRUFBTyxHQUFVLEtBQUssUUFBUSxDQUFLLEVBQUksT0FBUyxHQUNwRCxHQUFJLEVBQU0sUUFBUyxDQUNmLEdBQUksRUFDQSxTQUdKLEdBRkEsRUFBWSxHQUNaLEVBQU0sUUFBUSxFQUNWLEdBQ0EsUUFBUSxJQUFJLEVBQU8sS0FBSyxRQUFRLENBQUssRUFBSSxjQUFjLEVBRTNELEdBRFcsS0FBSyxhQUFhLEVBQU8sQ0FBUyxFQUV6QyxTQUVSLElBQUksRUFBUSxFQUFNLE1BQU0sRUFBRyxFQUFZLEVBQ3ZDLFFBQVMsRUFBSSxFQUFHLEVBQU0sWUFBWSxHQUFLLEVBQUksR0FBK0IsSUFBSyxDQUMzRSxHQUFJLEdBQ0EsUUFBUSxJQUFJLEVBQVksS0FBSyxRQUFRLENBQUssRUFBSSxxQkFBcUIsRUFFdkUsR0FEVyxLQUFLLGFBQWEsRUFBTyxDQUFTLEVBRXpDLE1BQ0osR0FBSSxHQUNBLEVBQVksS0FBSyxRQUFRLENBQUssRUFBSSxPQUUxQyxRQUFTLEtBQVUsRUFBTSxnQkFBZ0IsQ0FBSyxFQUFHLENBQzdDLEdBQUksR0FDQSxRQUFRLElBQUksRUFBTyxLQUFLLFFBQVEsQ0FBTSxFQUFJLHVCQUF1QixFQUNyRSxLQUFLLGFBQWEsRUFBUSxDQUFTLEVBRXZDLEdBQUksS0FBSyxPQUFPLElBQU0sRUFBTSxJQUFLLENBQzdCLEdBQUksR0FBWSxFQUFNLElBQ2xCLElBQ0EsRUFBUSxFQUdaLEdBREEsRUFBTSxnQkFBZ0IsRUFBTyxDQUFRLEVBQ2pDLEdBQ0EsUUFBUSxJQUFJLEVBQU8sS0FBSyxRQUFRLENBQUssRUFBSSx3QkFBd0IsS0FBSyxPQUFPLFFBQVEsQ0FBSyxJQUFJLEVBQ2xHLEdBQWUsRUFBTyxDQUFTLFdBRXpCLEdBQVksRUFBUyxNQUFRLEVBQU0sTUFDekMsRUFBVyxFQUduQixPQUFPLEVBR1gsV0FBVyxDQUFDLEVBQU8sQ0FFZixPQURBLEVBQU0sTUFBTSxFQUNMLEVBQUssTUFBTSxDQUFFLE9BQVEsR0FBa0IsT0FBTyxDQUFLLEVBQ3RELFFBQVMsS0FBSyxPQUFPLFFBQ3JCLE1BQU8sS0FBSyxRQUNaLGdCQUFpQixLQUFLLE9BQU8sYUFDN0IsT0FBUSxLQUFLLE9BQ2IsTUFBTyxLQUFLLE9BQU8sR0FBRyxLQUN0QixPQUFRLEVBQU0sSUFBTSxLQUFLLE9BQU8sR0FBRyxLQUNuQyxjQUFlLEtBQUssT0FBTyxhQUFjLENBQUMsRUFFbEQsT0FBTyxDQUFDLEVBQU8sQ0FDWCxJQUFJLEdBQU0sS0FBYSxHQUFXLElBQUksVUFBVSxJQUFJLENBQUssRUFDekQsSUFBSyxFQUNELEdBQVMsSUFBSSxFQUFPLEVBQUssT0FBTyxjQUFjLEtBQUssYUFBYSxDQUFDLEVBQ3JFLE9BQU8sRUFBSyxFQUVwQixDQVlBLE1BQU0sRUFBUSxDQUNWLFdBQVcsQ0FBQyxFQUFRLEVBQU8sRUFBVSxDQUNqQyxLQUFLLE9BQVMsRUFDZCxLQUFLLE1BQVEsRUFDYixLQUFLLFNBQVcsRUFFcEIsTUFBTSxDQUFDLEVBQU0sQ0FBRSxPQUFRLEtBQUssVUFBWSxLQUFLLFNBQVMsSUFBUyxFQUNuRSxDQUNBLElBQU0sR0FBSyxLQUFLLEVBYWhCLE1BQU0sRUFBZSxDQUlqQixXQUFXLENBQUMsRUFBTSxDQUNkLEtBQUssTUFBUSxFQUFLLE1BQ2xCLEtBQUssTUFBUSxFQUFLLE9BQVMsR0FDM0IsS0FBSyxPQUFTLEVBQUssUUFBVSxHQUM3QixLQUFLLE1BQVEsRUFBSyxPQUFTLEdBQzNCLEtBQUssS0FBTyxFQUFLLE9BQVMsSUFBTSxHQUNoQyxLQUFLLE9BQVMsRUFBSyxTQUFXLEdBRXRDLENBTUEsTUFBTSxXQUFpQixFQUFPLENBSTFCLFdBQVcsQ0FBQyxFQUFNLENBQ2QsTUFBTSxFQUtOLEdBREEsS0FBSyxTQUFXLENBQUMsRUFDYixFQUFLLFNBQVcsR0FDaEIsTUFBTSxJQUFJLFdBQVcsbUJBQW1CLEVBQUssNkNBQW1FLEVBQ3BILElBQUksRUFBWSxFQUFLLFVBQVUsTUFBTSxHQUFHLEVBQ3hDLEtBQUssY0FBZ0IsRUFBVSxPQUMvQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUssZ0JBQWlCLElBQ3RDLEVBQVUsS0FBSyxFQUFFLEVBQ3JCLElBQUksRUFBVyxPQUFPLEtBQUssRUFBSyxRQUFRLEVBQUUsSUFBSSxLQUFLLEVBQUssU0FBUyxHQUFHLEVBQUUsRUFDbEUsRUFBWSxDQUFDLEVBQ2pCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQ2xDLEVBQVUsS0FBSyxDQUFDLENBQUMsRUFDckIsU0FBUyxDQUFPLENBQUMsRUFBUSxFQUFNLEVBQU8sQ0FDbEMsRUFBVSxHQUFRLEtBQUssQ0FBQyxFQUFNLEVBQUssWUFBWSxPQUFPLENBQUssQ0FBQyxDQUFDLENBQUMsRUFFbEUsR0FBSSxFQUFLLFVBQ0wsUUFBUyxLQUFZLEVBQUssVUFBVyxDQUNqQyxJQUFJLEVBQU8sRUFBUyxHQUNwQixVQUFXLEdBQVEsU0FDZixFQUFPLEVBQVMsR0FDcEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLFFBQVMsQ0FDbEMsSUFBSSxFQUFPLEVBQVMsS0FDcEIsR0FBSSxHQUFRLEVBQ1IsRUFBUSxFQUFNLEVBQU0sRUFBUyxJQUFJLE1BRWhDLENBQ0QsSUFBSSxFQUFRLEVBQVMsR0FBSyxHQUMxQixRQUFTLEdBQUssRUFBTSxFQUFJLEVBQUcsSUFDdkIsRUFBUSxFQUFTLEtBQU0sRUFBTSxDQUFLLEVBQ3RDLE1BWWhCLEdBUkEsS0FBSyxRQUFVLElBQUksR0FBUSxFQUFVLElBQUksQ0FBQyxFQUFNLElBQU0sR0FBUyxPQUFPLENBQ2xFLEtBQU0sR0FBSyxLQUFLLGNBQWdCLE9BQVksRUFDNUMsR0FBSSxFQUNKLE1BQU8sRUFBVSxHQUNqQixJQUFLLEVBQVMsUUFBUSxDQUFDLEVBQUksR0FDM0IsTUFBTyxHQUFLLEVBQ1osUUFBUyxFQUFLLGNBQWdCLEVBQUssYUFBYSxRQUFRLENBQUMsRUFBSSxFQUNqRSxDQUFDLENBQUMsQ0FBQyxFQUNDLEVBQUssWUFDTCxLQUFLLFFBQVUsS0FBSyxRQUFRLE9BQU8sR0FBRyxFQUFLLFdBQVcsRUFDMUQsS0FBSyxPQUFTLEdBQ2QsS0FBSyxhQUFlLEdBQ3BCLElBQUksRUFBYSxHQUFZLEVBQUssU0FBUyxFQUMzQyxLQUFLLFFBQVUsRUFBSyxRQUNwQixLQUFLLGlCQUFtQixFQUFLLGFBQWUsQ0FBQyxFQUM3QyxLQUFLLFlBQWMsSUFBSSxZQUFZLEtBQUssaUJBQWlCLE1BQU0sRUFDL0QsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLGlCQUFpQixPQUFRLElBQzlDLEtBQUssWUFBWSxHQUFLLEtBQUssaUJBQWlCLEdBQUcsS0FDbkQsS0FBSyxhQUFlLEtBQUssaUJBQWlCLElBQUksRUFBYyxFQUM1RCxLQUFLLE9BQVMsR0FBWSxFQUFLLE9BQVEsV0FBVyxFQUNsRCxLQUFLLEtBQU8sR0FBWSxFQUFLLFNBQVMsRUFDdEMsS0FBSyxLQUFPLEdBQVksRUFBSyxJQUFJLEVBQ2pDLEtBQUssUUFBVSxFQUFLLFFBQ3BCLEtBQUssV0FBYSxFQUFLLFdBQVcsSUFBSSxZQUFnQixHQUFTLFNBQVcsSUFBSSxHQUFXLEVBQVksQ0FBSyxFQUFJLENBQUssRUFDbkgsS0FBSyxTQUFXLEVBQUssU0FDckIsS0FBSyxTQUFXLEVBQUssVUFBWSxDQUFDLEVBQ2xDLEtBQUssbUJBQXFCLEVBQUssb0JBQXNCLEtBQ3JELEtBQUssZUFBaUIsRUFBSyxVQUMzQixLQUFLLFVBQVksRUFBSyxXQUFhLEtBQ25DLEtBQUssUUFBVSxLQUFLLFFBQVEsTUFBTSxPQUFTLEVBQzNDLEtBQUssUUFBVSxLQUFLLGFBQWEsRUFDakMsS0FBSyxJQUFNLEtBQUssU0FBUyxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsSUFFeEQsV0FBVyxDQUFDLEVBQU8sRUFBVyxFQUFRLENBQ2xDLElBQUksRUFBUSxJQUFJLEdBQU0sS0FBTSxFQUFPLEVBQVcsQ0FBTSxFQUNwRCxRQUFTLEtBQUssS0FBSyxTQUNmLEVBQVEsRUFBRSxFQUFPLEVBQU8sRUFBVyxDQUFNLEVBQzdDLE9BQU8sRUFLWCxPQUFPLENBQUMsRUFBTyxFQUFNLEVBQVEsR0FBTyxDQUNoQyxJQUFJLEVBQVEsS0FBSyxLQUNqQixHQUFJLEdBQVEsRUFBTSxHQUNkLE1BQU8sR0FDWCxRQUFTLEVBQU0sRUFBTSxFQUFPLEtBQU0sQ0FDOUIsSUFBSSxFQUFXLEVBQU0sS0FBUSxFQUFPLEVBQVcsRUFDM0MsRUFBUyxFQUFNLEtBQ25CLEdBQUksR0FBUSxFQUNSLE9BQU8sRUFDWCxRQUFTLEVBQU0sR0FBTyxHQUFZLEdBQUksRUFBTSxFQUFLLElBQzdDLEdBQUksRUFBTSxJQUFRLEVBQ2QsT0FBTyxFQUNmLEdBQUksRUFDQSxNQUFPLElBTW5CLFNBQVMsQ0FBQyxFQUFPLEVBQVUsQ0FDdkIsSUFBSSxFQUFPLEtBQUssS0FDaEIsUUFBUyxFQUFNLEVBQUcsRUFBTSxFQUFHLElBQ3ZCLFFBQVMsRUFBSSxLQUFLLFVBQVUsRUFBTyxFQUFNLEVBQTBCLENBQTBCLEVBQUcsR0FBTyxHQUFLLEVBQUcsQ0FDM0csSUFBSyxFQUFPLEVBQUssS0FBTyxNQUNwQixHQUFJLEVBQUssRUFBSSxJQUFNLEVBQ2YsRUFBTyxFQUFLLEVBQUksR0FBSyxFQUFNLEVBQUksQ0FBQyxXQUMzQixFQUFLLEVBQUksSUFBTSxFQUNwQixPQUFPLEdBQUssRUFBTSxFQUFJLENBQUMsTUFFdkIsT0FFUixHQUFJLEdBQVEsR0FBWSxHQUFRLEVBQzVCLE9BQU8sR0FBSyxFQUFNLEVBQUksQ0FBQyxFQUduQyxNQUFPLEdBS1gsU0FBUyxDQUFDLEVBQU8sRUFBTSxDQUNuQixPQUFPLEtBQUssT0FBUSxFQUFRLEVBQTJCLEdBSzNELFNBQVMsQ0FBQyxFQUFPLEVBQU0sQ0FDbkIsT0FBUSxLQUFLLFVBQVUsRUFBTyxDQUF3QixFQUFJLEdBQVEsRUFLdEUsV0FBVyxDQUFDLEVBQU8sRUFBUSxDQUN2QixRQUFTLEtBQUssV0FBVyxFQUFPLEtBQUssR0FBSyxFQUFTLEdBQU8sSUFBSSxFQUtsRSxVQUFVLENBQUMsRUFBTyxFQUFRLENBQ3RCLElBQUksRUFBUSxLQUFLLFVBQVUsRUFBTyxDQUFnQyxFQUM5RCxFQUFTLEVBQVEsRUFBTyxDQUFLLEVBQUksT0FDckMsUUFBUyxFQUFJLEtBQUssVUFBVSxFQUFPLENBQTBCLEVBQUcsR0FBVSxLQUFNLEdBQUssRUFBRyxDQUNwRixHQUFJLEtBQUssS0FBSyxJQUFNLE1BQ2hCLEdBQUksS0FBSyxLQUFLLEVBQUksSUFBTSxFQUNwQixFQUFJLEdBQUssS0FBSyxLQUFNLEVBQUksQ0FBQyxNQUV6QixPQUVSLEVBQVMsRUFBTyxHQUFLLEtBQUssS0FBTSxFQUFJLENBQUMsQ0FBQyxFQUUxQyxPQUFPLEVBTVgsVUFBVSxDQUFDLEVBQU8sQ0FDZCxJQUFJLEVBQVMsQ0FBQyxFQUNkLFFBQVMsRUFBSSxLQUFLLFVBQVUsRUFBTyxDQUEwQixHQUFJLEdBQUssRUFBRyxDQUNyRSxHQUFJLEtBQUssS0FBSyxJQUFNLE1BQ2hCLEdBQUksS0FBSyxLQUFLLEVBQUksSUFBTSxFQUNwQixFQUFJLEdBQUssS0FBSyxLQUFNLEVBQUksQ0FBQyxNQUV6QixPQUVSLElBQUssS0FBSyxLQUFLLEVBQUksR0FBTSxJQUF5QyxFQUFHLENBQ2pFLElBQUksRUFBUSxLQUFLLEtBQUssRUFBSSxHQUMxQixJQUFLLEVBQU8sS0FBSyxDQUFDLEVBQUcsSUFBTyxFQUFJLEdBQU0sR0FBSyxDQUFLLEVBQzVDLEVBQU8sS0FBSyxLQUFLLEtBQUssR0FBSSxDQUFLLEdBRzNDLE9BQU8sRUFPWCxTQUFTLENBQUMsRUFBUSxDQUdkLElBQUksRUFBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQVMsU0FBUyxFQUFHLElBQUksRUFDaEUsR0FBSSxFQUFPLE1BQ1AsRUFBSyxRQUFVLEtBQUssUUFBUSxPQUFPLEdBQUcsRUFBTyxLQUFLLEVBQ3RELEdBQUksRUFBTyxJQUFLLENBQ1osSUFBSSxFQUFPLEtBQUssU0FBUyxFQUFPLEtBQ2hDLElBQUssRUFDRCxNQUFNLElBQUksV0FBVyx5QkFBeUIsRUFBTyxLQUFLLEVBQzlELEVBQUssSUFBTSxFQUVmLEdBQUksRUFBTyxXQUNQLEVBQUssV0FBYSxLQUFLLFdBQVcsSUFBSSxLQUFLLENBQ3ZDLElBQUksRUFBUSxFQUFPLFdBQVcsS0FBSyxLQUFLLEVBQUUsTUFBUSxDQUFDLEVBQ25ELE9BQU8sRUFBUSxFQUFNLEdBQUssRUFDN0IsRUFDTCxHQUFJLEVBQU8sYUFDUCxFQUFLLGFBQWUsS0FBSyxhQUFhLE1BQU0sRUFDNUMsRUFBSyxpQkFBbUIsS0FBSyxpQkFBaUIsSUFBSSxDQUFDLEVBQUcsSUFBTSxDQUN4RCxJQUFJLEVBQVEsRUFBTyxhQUFhLEtBQUssS0FBSyxFQUFFLE1BQVEsRUFBRSxRQUFRLEVBQzlELElBQUssRUFDRCxPQUFPLEVBQ1gsSUFBSSxFQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFFLFNBQVUsRUFBTSxFQUFHLENBQUMsRUFFckUsT0FEQSxFQUFLLGFBQWEsR0FBSyxHQUFlLENBQUksRUFDbkMsRUFDVixFQUVMLEdBQUksRUFBTyxlQUNQLEVBQUssUUFBVSxFQUFPLGVBQzFCLEdBQUksRUFBTyxRQUNQLEVBQUssUUFBVSxLQUFLLGFBQWEsRUFBTyxPQUFPLEVBQ25ELEdBQUksRUFBTyxRQUFVLEtBQ2pCLEVBQUssT0FBUyxFQUFPLE9BQ3pCLEdBQUksRUFBTyxLQUNQLEVBQUssU0FBVyxFQUFLLFNBQVMsT0FBTyxFQUFPLElBQUksRUFDcEQsR0FBSSxFQUFPLGNBQWdCLEtBQ3ZCLEVBQUssYUFBZSxFQUFPLGFBQy9CLE9BQU8sRUFNWCxXQUFXLEVBQUcsQ0FDVixPQUFPLEtBQUssU0FBUyxPQUFTLEVBUWxDLE9BQU8sQ0FBQyxFQUFNLENBQ1YsT0FBTyxLQUFLLFVBQVksS0FBSyxVQUFVLEdBQVEsT0FBTyxHQUFRLEtBQUssU0FBVyxLQUFLLFFBQVEsTUFBTSxHQUFNLE1BQVEsQ0FBSSxLQU1uSCxRQUFPLEVBQUcsQ0FBRSxPQUFPLEtBQUssUUFBVSxLQUlsQyxRQUFPLEVBQUcsQ0FBRSxPQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssSUFBSSxJQUluRCxpQkFBaUIsQ0FBQyxFQUFNLENBQ3BCLElBQUksRUFBTyxLQUFLLG1CQUNoQixPQUFPLEdBQVEsS0FBTyxFQUFJLEVBQUssSUFBUyxFQUs1QyxZQUFZLENBQUMsRUFBUyxDQUNsQixJQUFJLEVBQVMsT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFHLEVBQVEsRUFBTyxJQUFJLElBQU0sRUFBSyxFQUN2RSxHQUFJLEVBQ0EsUUFBUyxLQUFRLEVBQVEsTUFBTSxHQUFHLEVBQUcsQ0FDakMsSUFBSSxFQUFLLEVBQU8sUUFBUSxDQUFJLEVBQzVCLEdBQUksR0FBTSxFQUNOLEVBQU0sR0FBTSxHQUV4QixJQUFJLEVBQVcsS0FDZixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUMvQixJQUFLLEVBQU0sR0FDUCxRQUFTLEVBQUksS0FBSyxTQUFTLEVBQU8sSUFBSyxHQUFLLEVBQUssS0FBSyxLQUFLLE9BQVMsT0FDaEUsQ0FBQyxJQUFhLEVBQVcsSUFBSSxXQUFXLEtBQUssUUFBVSxDQUFDLElBQUksR0FBTSxFQUU5RSxPQUFPLElBQUksR0FBUSxFQUFTLEVBQU8sQ0FBUSxRQU14QyxZQUFXLENBQUMsRUFBTSxDQUNyQixPQUFPLElBQUksR0FBUyxDQUFJLEVBRWhDLENDenZEQSxTQUFTLEVBQVEsQ0FBQyxFQUFJLENBQ3BCLE9BQU8sR0FBTSxJQUFNLEdBQU0sSUFBTSxHQUFNLElBQU0sR0FBTSxJQUFNLEdBQU0sSUFBTSxHQUFNLElBQU0sR0FBTSxJQUFNLEdBQU0sS0FBTyxHQUFNLElBR2hILFNBQVMsRUFBTyxDQUFDLEVBQUksQ0FDbkIsT0FBTyxHQUFNLEdBQUssR0FBTSxJQUFNLEdBQU0sSUFBTSxHQUFNLEdBSWxELFNBQVMsRUFBWSxDQUFDLEVBQU8sRUFBUSxDQUNuQyxJQUFJLEVBQU0sRUFBTSxJQUFNLEVBQ3RCLEdBQUksSUFBYSxHQUFPLElBQWUsRUFBTyxPQUFPLEdBQ3JELElBQUksRUFBTyxFQUFNLEtBQUssQ0FBTSxFQUM1QixNQUFPLEdBQVEsQ0FBSSxFQUFHLEVBQU8sRUFBTSxPQUFPLENBQU0sRUFDaEQsSUFBSSxFQUFPLEdBQ1gsT0FBUyxDQUNQLElBQUssR0FBUyxDQUFJLEVBQUcsTUFDckIsR0FBUSxPQUFPLGFBQWEsQ0FBSSxFQUNoQyxFQUFPLEVBQU0sT0FBTyxDQUFNLEVBSTVCLE9BREEsR0FBYyxFQUFPLEdBQVksRUFDMUIsR0FBYSxFQUFPLEVBQUssWUFBWSxFQUFJLEdBQVEsSUFBWSxHQUFRLEdBQU8sT0FBWSxLQUtqRyxTQUFTLEVBQWMsQ0FBQyxFQUFNLEVBQVEsQ0FDcEMsS0FBSyxLQUFPLEVBQ1osS0FBSyxPQUFTLEVBcUVoQixTQUFTLEVBQWdCLENBQUMsRUFBUyxDQUNqQyxLQUFPLEVBQVMsRUFBVSxFQUFRLE9BQ2hDLEdBQUksRUFBUSxNQUFRLE9BQVMsRUFBUSxNQUFRLE9BQVEsTUFBTyxHQUM5RCxNQUFPLEdBWVQsU0FBUyxFQUFnQixDQUFDLEVBQUssRUFBVyxFQUFVLENBQ2xELElBQUksRUFBWSxFQUFJLEVBQUksT0FDeEIsT0FBTyxJQUFJLEdBQWtCLEtBQVMsQ0FPcEMsUUFBUyxFQUFRLEVBQUcsRUFBYSxFQUFHLEVBQUksR0FBSSxJQUFLLENBQy9DLEdBQUksRUFBTSxLQUFPLEVBQUcsQ0FDbEIsR0FBSSxFQUFHLEVBQU0sWUFBWSxDQUFTLEVBQ2xDLE1BRUYsR0FBSSxHQUFTLEdBQUssRUFBTSxNQUFRLElBQzVCLEdBQVMsR0FBSyxFQUFNLE1BQVEsSUFDNUIsR0FBUyxHQUFLLEVBQVEsR0FBYSxFQUFNLE1BQVEsRUFBSSxXQUFXLEVBQVEsQ0FBQyxFQUMzRSxJQUNBLGFBQ1UsR0FBUyxHQUFLLEdBQVMsSUFBYyxHQUFRLEVBQU0sSUFBSSxFQUNqRSxZQUNTLEdBQVMsR0FBYSxFQUFNLE1BQVEsR0FBYSxDQUMxRCxHQUFJLEVBQUksRUFDTixFQUFNLFlBQVksR0FBWSxDQUFVLE1BRXhDLEdBQU0sWUFBWSxJQUFZLEVBQWEsRUFBRSxFQUMvQyxlQUNVLEVBQU0sTUFBUSxJQUFpQixFQUFNLE1BQVEsS0FBa0IsRUFBRyxDQUM1RSxFQUFNLFlBQVksRUFBVyxDQUFDLEVBQzlCLFVBRUEsR0FBUSxFQUFhLEVBRXZCLEVBQU0sUUFBUSxHQUVqQixFQWdESCxTQUFTLEVBQVEsQ0FBQyxFQUFTLEVBQU8sQ0FDaEMsSUFBSSxFQUFRLE9BQU8sT0FBTyxJQUFJLEVBQzlCLFFBQVMsS0FBTyxFQUFRLFlBQVksRUFBUyxFQUFHLENBQzlDLElBQUksRUFBTyxFQUFJLFNBQVMsRUFBYSxFQUFHLEVBQVEsRUFBSSxTQUFTLEVBQWMsR0FBSyxFQUFJLFNBQVMsRUFBc0IsRUFDbkgsR0FBSSxFQUFNLEVBQU0sRUFBTSxLQUFLLEVBQUssS0FBTSxFQUFLLEVBQUUsSUFDMUMsRUFBUSxHQUFLLEVBQU0sS0FBSyxJQUFNLEdBQWlCLEVBQU0sS0FBSyxFQUFNLEtBQU8sRUFBRyxFQUFNLEdBQUssQ0FBQyxFQUFJLEVBQU0sS0FBSyxFQUFNLEtBQU0sRUFBTSxFQUFFLEVBRTlILE9BQU8sRUFHVCxTQUFTLEVBQVcsQ0FBQyxFQUFTLEVBQU8sQ0FDbkMsSUFBSSxFQUFjLEVBQVEsU0FBUyxFQUFPLEVBQzFDLE9BQU8sRUFBYyxFQUFNLEtBQUssRUFBWSxLQUFNLEVBQVksRUFBRSxFQUFJLElBR3RFLFNBQVMsRUFBUyxDQUFDLEVBQU0sRUFBTyxFQUFNLENBQ3BDLElBQUksRUFDSixRQUFTLEtBQU8sRUFDZCxJQUFLLEVBQUksT0FBUyxFQUFJLE1BQU0sSUFBVSxFQUFRLEdBQVMsRUFBSyxLQUFLLE9BQU8sV0FBWSxDQUFLLEVBQUUsRUFDekYsTUFBTyxDQUFDLE9BQVEsRUFBSSxNQUFNLEVBRTlCLE9BQU8sS0FjVCxTQUFTLEVBQWdCLENBQUMsRUFBTyxDQUFDLEVBQUcsRUFBYSxDQUFDLEVBQUcsQ0FDcEQsSUFBSSxFQUFTLENBQUMsRUFBRyxFQUFRLENBQUMsRUFBRyxFQUFXLENBQUMsRUFBRyxFQUFRLENBQUMsRUFDckQsUUFBUyxLQUFPLEVBRWQsQ0FEWSxFQUFJLEtBQU8sU0FBVyxFQUFTLEVBQUksS0FBTyxRQUFVLEVBQVEsRUFBSSxLQUFPLFdBQWEsRUFBVyxHQUNyRyxLQUFLLENBQUcsRUFFaEIsSUFBSSxFQUFRLEVBQVcsT0FBUyxPQUFPLE9BQU8sSUFBSSxFQUFJLEtBQ3RELFFBQVMsS0FBUSxFQUFZLENBQUMsRUFBTSxFQUFLLFFBQVUsRUFBTSxFQUFLLE1BQVEsQ0FBQyxJQUFJLEtBQUssQ0FBSSxFQUVwRixPQUFPLEdBQVcsQ0FBQyxFQUFNLElBQVUsQ0FDakMsSUFBSSxFQUFLLEVBQUssS0FBSyxHQUNuQixHQUFJLEdBQU0sR0FBWSxPQUFPLEdBQVUsRUFBTSxFQUFPLENBQU0sRUFDMUQsR0FBSSxHQUFNLEdBQVcsT0FBTyxHQUFVLEVBQU0sRUFBTyxDQUFLLEVBQ3hELEdBQUksR0FBTSxHQUFjLE9BQU8sR0FBVSxFQUFNLEVBQU8sQ0FBUSxFQUU5RCxHQUFJLEdBQU0sSUFBVyxFQUFNLE9BQVEsQ0FDakMsSUFBSSxFQUFJLEVBQUssS0FBTSxFQUFPLEVBQUUsV0FBWSxFQUFVLEdBQVEsR0FBWSxFQUFNLENBQUssRUFBRyxFQUNwRixHQUFJLEdBQVMsUUFBUyxLQUFPLEVBQzNCLEdBQUksRUFBSSxLQUFPLEtBQWEsRUFBSSxPQUFTLEVBQUksTUFBTSxJQUFVLEVBQVEsR0FBUyxFQUFNLENBQUssRUFBRSxHQUFJLENBQzdGLElBQUksRUFBUSxFQUFFLFVBQ1YsRUFBSyxFQUFNLEtBQUssSUFBTSxHQUFXLEVBQU0sS0FBTyxFQUFFLEdBQ3BELEdBQUksRUFBSyxFQUFLLEdBQ1osTUFBTyxDQUFDLE9BQVEsRUFBSSxPQUFRLFFBQVMsQ0FBQyxDQUFDLEtBQU0sRUFBSyxHQUFJLElBQUUsQ0FBQyxDQUFDLElBS2xFLEdBQUksR0FBUyxHQUFNLEdBQVcsQ0FDNUIsSUFBSSxFQUFJLEVBQUssS0FBTSxFQUNuQixHQUFJLEVBQVcsRUFBRSxXQUFZLENBQzNCLElBQUksRUFBVSxFQUFNLEVBQU0sS0FBSyxFQUFTLEtBQU0sRUFBUyxFQUFFLEdBQ3pELEdBQUksRUFBUyxRQUFTLEtBQVEsRUFBUyxDQUNyQyxHQUFJLEVBQUssU0FBVyxFQUFLLFNBQVcsR0FBWSxFQUFFLE9BQVEsQ0FBSyxFQUFHLFNBQ2xFLElBQUksRUFBUSxFQUFFLFVBQ2QsR0FBSSxFQUFNLEtBQUssSUFBTSxHQUFnQixDQUNuQyxJQUFJLEVBQU8sRUFBTSxLQUFPLEVBQ3BCLEVBQU8sRUFBTSxVQUFXLEVBQUssRUFBTSxJQUFNLEdBQVEsRUFBSyxRQUFVLEVBQUksR0FDeEUsR0FBSSxFQUFLLEVBQU0sTUFBTyxDQUFDLE9BQVEsRUFBSyxPQUFRLFFBQVMsQ0FBQyxDQUFDLE9BQU0sSUFBRSxDQUFDLENBQUMsVUFDeEQsRUFBTSxLQUFLLElBQU0sR0FDMUIsTUFBTyxDQUFDLE9BQVEsRUFBSyxPQUFRLFFBQVMsQ0FBQyxDQUFDLEtBQU0sRUFBTSxLQUFNLEdBQUksRUFBTSxFQUFFLENBQUMsQ0FBQyxJQUtoRixPQUFPLEtBQ1IsRUEzVkgsSUFBTSxHQUFhLEdBQ2pCLEdBQXNCLEVBQ3RCLEdBQVksR0FDWixHQUFxQixFQUNyQixHQUFlLEdBQ2YsR0FBd0IsRUFDeEIsR0FBUyxFQUNULEdBQW9CLEVBQ3BCLEdBQVcsRUFDWCxHQUFpQixFQUNqQixHQUFnQixFQUNoQixHQUFtQixFQUNuQixHQUFzQixHQUN0QixHQUFnQixHQUNoQixHQUF1QixHQUN2QixHQUEwQixHQUMxQixHQUFrQixHQUNsQixHQUFxQixHQUNyQixHQUFtQixHQUNuQixHQUFVLEdBQ1YsR0FBVSxHQUNWLEdBQVksR0FDWixHQUFnQixHQUNoQixHQUFpQixHQUNqQixHQUF5QixHQUN6QixHQUFhLEdBQ2IsR0FBWSxHQUNaLEdBQWUsR0FDZixHQUFVLEdBQ1YsR0FBVyxHQUNYLEdBQWtCLEVBQ2xCLEdBQXNCLEVBSWxCLEdBQWMsQ0FDbEIsS0FBTSxHQUFNLEtBQU0sR0FBTSxHQUFJLEdBQU0sSUFBSyxHQUFNLFFBQVMsR0FDdEQsTUFBTyxHQUFNLE1BQU8sR0FBTSxHQUFJLEdBQU0sSUFBSyxHQUFNLE1BQU8sR0FDdEQsT0FBUSxHQUFNLEtBQU0sR0FBTSxLQUFNLEdBQU0sTUFBTyxHQUFNLE9BQVEsR0FDM0QsTUFBTyxHQUFNLElBQUssR0FBTSxTQUFVLEVBQ3BDLEVBRU0sR0FBbUIsQ0FDdkIsR0FBSSxHQUFNLEdBQUksR0FBTSxTQUFVLEdBQU0sT0FBUSxHQUFNLEVBQUcsR0FDckQsR0FBSSxHQUFNLEdBQUksR0FBTSxNQUFPLEdBQU0sR0FBSSxHQUFNLE1BQU8sR0FDbEQsR0FBSSxHQUFNLEdBQUksRUFDaEIsRUFFTSxHQUFjLENBQ2xCLEdBQUksQ0FBQyxHQUFJLEdBQU0sR0FBSSxFQUFJLEVBQ3ZCLEdBQUksQ0FBQyxHQUFJLEdBQU0sR0FBSSxFQUFJLEVBQ3ZCLEdBQUksQ0FBQyxHQUFJLEVBQUksRUFDYixPQUFRLENBQUMsT0FBUSxHQUFNLFNBQVUsRUFBSSxFQUNyQyxTQUFVLENBQUMsU0FBVSxFQUFJLEVBQ3pCLEVBQUcsQ0FDRCxRQUFTLEdBQU0sUUFBUyxHQUFNLE1BQU8sR0FBTSxXQUFZLEdBQU0sSUFBSyxHQUNsRSxJQUFLLEdBQU0sR0FBSSxHQUFNLFNBQVUsR0FBTSxPQUFRLEdBQU0sS0FBTSxHQUN6RCxHQUFJLEdBQU0sR0FBSSxHQUFNLEdBQUksR0FBTSxHQUFJLEdBQU0sR0FBSSxHQUFNLEdBQUksR0FDdEQsT0FBUSxHQUFNLE9BQVEsR0FBTSxHQUFJLEdBQU0sS0FBTSxHQUFNLElBQUssR0FBTSxHQUFJLEdBQ2pFLEVBQUcsR0FBTSxJQUFLLEdBQU0sUUFBUyxHQUFNLE1BQU8sR0FBTSxHQUFJLEVBQ3RELEVBQ0EsR0FBSSxDQUFDLEdBQUksR0FBTSxHQUFJLEVBQUksRUFDdkIsR0FBSSxDQUFDLEdBQUksR0FBTSxHQUFJLEVBQUksRUFDdkIsTUFBTyxDQUFDLE1BQU8sR0FBTSxNQUFPLEVBQUksRUFDaEMsR0FBSSxDQUFDLEdBQUksR0FBTSxHQUFJLEVBQUksRUFDdkIsTUFBTyxDQUFDLE1BQU8sRUFBSSxFQUNuQixHQUFJLENBQUMsR0FBSSxHQUFNLEdBQUksRUFBSSxFQUN2QixNQUFPLENBQUMsTUFBTyxHQUFNLE1BQU8sRUFBSSxFQUNoQyxHQUFJLENBQUMsR0FBSSxFQUFJLENBQ2YsRUFVSSxHQUFhLEtBQU0sR0FBYyxLQUFNLEdBQVksRUFpQmpELEdBQVcsR0FBSSxHQUFjLEdBQUksR0FBUSxHQUFJLEdBQVcsR0FBSSxHQUFPLEdBQUksR0FBTyxHQU85RSxHQUFnQixDQUFDLEdBQVUsR0FBcUIsR0FBZ0IsR0FBZSxFQUFnQixFQUUvRixHQUFpQixJQUFJLEdBQWUsQ0FDeEMsTUFBTyxLQUNQLEtBQUssQ0FBQyxFQUFTLEVBQU0sRUFBTyxFQUFPLENBQ2pDLE9BQU8sR0FBYyxRQUFRLENBQUksRUFBSSxHQUFLLElBQUksR0FBZSxHQUFhLEVBQU8sQ0FBQyxHQUFLLEdBQUksQ0FBTyxFQUFJLEdBRXhHLE1BQU0sQ0FBQyxFQUFTLEVBQU0sQ0FDcEIsT0FBTyxHQUFRLElBQVcsRUFBVSxFQUFRLE9BQVMsR0FFdkQsS0FBSyxDQUFDLEVBQVMsRUFBTSxFQUFPLEVBQU8sQ0FDakMsSUFBSSxFQUFPLEVBQUssS0FBSyxHQUNyQixPQUFPLEdBQVEsSUFBWSxHQUFRLEdBQy9CLElBQUksR0FBZSxHQUFhLEVBQU8sQ0FBQyxHQUFLLEdBQUksQ0FBTyxFQUFJLEdBRWxFLE9BQVEsRUFDVixDQUFDLEVBRUssR0FBVyxJQUFJLEdBQWtCLENBQUMsRUFBTyxJQUFVLENBQ3ZELEdBQUksRUFBTSxNQUFRLEdBQVUsQ0FFMUIsR0FBSSxFQUFNLEtBQU8sR0FBSyxFQUFNLFFBQVMsRUFBTSxZQUFZLEVBQWUsRUFDdEUsT0FFRixFQUFNLFFBQVEsRUFDZCxJQUFJLEVBQVEsRUFBTSxNQUFRLEdBQzFCLEdBQUksRUFBTyxFQUFNLFFBQVEsRUFDekIsSUFBSSxFQUFPLEdBQWEsRUFBTyxDQUFDLEVBQ2hDLEdBQUksSUFBUyxPQUFXLE9BQ3hCLElBQUssRUFBTSxPQUFPLEVBQU0sWUFBWSxFQUFRLEdBQXFCLEVBQVEsRUFFekUsSUFBSSxFQUFTLEVBQU0sUUFBVSxFQUFNLFFBQVEsS0FBTyxLQUNsRCxHQUFJLEVBQU8sQ0FDVCxHQUFJLEdBQVEsRUFBUSxPQUFPLEVBQU0sWUFBWSxFQUFhLEVBQzFELEdBQUksR0FBVSxHQUFpQixHQUFTLE9BQU8sRUFBTSxZQUFZLEdBQWlCLEVBQUUsRUFDcEYsR0FBSSxFQUFNLGVBQWUsRUFBZSxFQUFHLE9BQU8sRUFBTSxZQUFZLEVBQW9CLEVBQ3hGLFFBQVMsRUFBSyxFQUFNLFFBQVMsRUFBSSxFQUFLLEVBQUcsT0FBUSxHQUFJLEVBQUcsTUFBUSxFQUFNLE9BQ3RFLEVBQU0sWUFBWSxFQUF1QixNQUNwQyxDQUNMLEdBQUksR0FBUSxTQUFVLE9BQU8sRUFBTSxZQUFZLEVBQWMsRUFDN0QsR0FBSSxHQUFRLFFBQVMsT0FBTyxFQUFNLFlBQVksRUFBYSxFQUMzRCxHQUFJLEdBQVEsV0FBWSxPQUFPLEVBQU0sWUFBWSxFQUFnQixFQUNqRSxHQUFJLEdBQVksZUFBZSxDQUFJLEVBQUcsT0FBTyxFQUFNLFlBQVksRUFBbUIsRUFDbEYsR0FBSSxHQUFVLEdBQVksSUFBVyxHQUFZLEdBQVEsR0FBTyxFQUFNLFlBQVksR0FBaUIsRUFBRSxNQUNoRyxHQUFNLFlBQVksRUFBUSxJQUVoQyxDQUFDLFdBQVksRUFBSSxDQUFDLEVBRWYsR0FBaUIsSUFBSSxHQUFrQixLQUFTLENBQ3BELFFBQVMsRUFBUyxFQUFHLEVBQUksR0FBSSxJQUFLLENBQ2hDLEdBQUksRUFBTSxLQUFPLEVBQUcsQ0FDbEIsR0FBSSxFQUFHLEVBQU0sWUFBWSxFQUFnQixFQUN6QyxNQUVGLEdBQUksRUFBTSxNQUFRLEdBQ2hCLFlBQ1MsRUFBTSxNQUFRLElBQWUsR0FBVSxFQUFHLENBQ25ELEdBQUksR0FBSyxFQUFHLEVBQU0sWUFBWSxHQUFrQixFQUFFLEVBQ2xELFVBRUEsR0FBUyxFQUVYLEVBQU0sUUFBUSxHQUVqQixFQVFLLEdBQVMsSUFBSSxHQUFrQixDQUFDLEVBQU8sSUFBVSxDQUNyRCxHQUFJLEVBQU0sTUFBUSxJQUFTLEVBQU0sS0FBSyxDQUFDLEdBQUssR0FBYSxDQUN2RCxJQUFJLEVBQWMsRUFBTSxlQUFlLEVBQW1CLEdBQUssR0FBaUIsRUFBTSxPQUFPLEVBQzdGLEVBQU0sWUFBWSxFQUFjLEdBQW9CLEdBQVEsQ0FBQyxVQUNwRCxFQUFNLE1BQVEsR0FDdkIsRUFBTSxZQUFZLEdBQVEsQ0FBQyxFQUU5QixFQXdDSyxHQUFlLEdBQWlCLFNBQVUsR0FBWSxFQUFtQixFQUV6RSxHQUFjLEdBQWlCLFFBQVMsR0FBVyxFQUFrQixFQUVyRSxHQUFpQixHQUFpQixXQUFZLEdBQWMsRUFBcUIsRUFFakYsR0FBbUIsR0FBVSxDQUNqQyxlQUFnQixFQUFLLFFBQ3JCLGtEQUFtRCxFQUFLLGFBQ3hELFFBQVMsRUFBSyxRQUNkLDZCQUE4QixDQUFDLEVBQUssUUFBVSxFQUFLLE9BQU8sRUFDMUQsY0FBZSxFQUFLLGNBQ3BCLHdDQUF5QyxFQUFLLGVBQzlDLEdBQUksRUFBSyxtQkFDVCxxQ0FBc0MsRUFBSyxVQUMzQyxRQUFTLEVBQUssYUFDZCxlQUFnQixFQUFLLHNCQUNyQixZQUFhLEVBQUssWUFDcEIsQ0FBQyxFQUdLLEdBQVMsR0FBUyxZQUFZLENBQ2xDLFFBQVMsR0FDVCxPQUFRLHdnQ0FDUixVQUFXLHltQkFDWCxLQUFNLDBSQUNOLFVBQVcsMGZBQ1gsUUFBUyxHQUNULFFBQVMsR0FDVCxVQUFXLENBQ1QsQ0FBQyxXQUFZLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxTQUFTLEVBQUUsMkJBQTJCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxVQUFVLEVBQ3hHLENBQUMsV0FBWSxFQUFFLHlCQUF5QixFQUFFLFdBQVcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLFNBQVMsRUFDN0UsQ0FBQyxRQUFTLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLHFCQUFxQixHQUFHLEdBQUcsR0FBRyxHQUFHLG9CQUFvQixFQUN6RyxDQUFDLFVBQVcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FDdkUsRUFDQSxZQUFhLENBQUMsRUFBZ0IsRUFDOUIsYUFBYyxDQUFDLENBQUMsRUFDaEIsZ0JBQWlCLEVBQ2pCLFVBQVcsaW9NQUNYLFdBQVksQ0FBQyxHQUFjLEdBQWEsR0FBZ0IsR0FBUSxHQUFVLEdBQWdCLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxDQUFDLEVBQzFHLFNBQVUsQ0FBQyxTQUFXLENBQUMsRUFBRSxFQUFFLENBQUMsRUFDNUIsU0FBVSxDQUFDLFFBQVMsRUFBRyxZQUFhLEdBQUcsRUFDdkMsVUFBVyxHQUNiLENBQUMsRUM1UEQsU0FBUyxFQUFPLENBQUMsRUFBSSxDQUFFLE9BQU8sR0FBTSxJQUFNLEdBQU0sSUFBTSxHQUFNLElBQU0sR0FBTSxLQUFPLEdBQU0sSUFFckYsU0FBUyxFQUFPLENBQUMsRUFBSSxDQUFFLE9BQU8sR0FBTSxJQUFNLEdBQU0sR0FoQmhELElBQU0sR0FBZSxHQUNuQixHQUFPLEVBQ1AsR0FBUyxJQUNULEdBQWEsSUFDYixHQUFlLEVBS1gsR0FBUSxDQUFDLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssSUFBSyxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUNyRSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFLLEVBQ3BFLEdBQVEsR0FBSSxHQUFTLEdBQUksR0FBYSxHQUFJLEdBQVcsR0FBSSxHQUFPLEdBQUksR0FBUyxHQUM3RSxHQUFPLEdBQUksR0FBVSxHQUFJLEdBQVksR0FBSSxHQUFZLEdBQUksR0FBVSxHQU1uRSxHQUFjLElBQUksR0FBa0IsQ0FBQyxFQUFPLElBQVUsQ0FDMUQsUUFBUyxFQUFTLEdBQU8sRUFBUyxFQUFHLEVBQUksR0FBSSxJQUFLLENBQ2hELElBQUssUUFBUSxFQUNiLEdBQUksR0FBUSxDQUFJLEdBQUssR0FBUSxJQUFRLEdBQVEsSUFBZSxHQUFVLEdBQVEsQ0FBSSxFQUFJLENBQ3BGLElBQUssSUFBVyxHQUFRLElBQVEsRUFBSSxHQUFJLEVBQVMsR0FDakQsR0FBSSxJQUFXLEdBQUssR0FBUSxHQUFNLElBQ2xDLEVBQU0sUUFBUSxVQUNMLEdBQVEsSUFBYSxFQUFNLEtBQUssQ0FBQyxHQUFLLEdBQVMsQ0FFeEQsR0FEQSxFQUFNLFFBQVEsRUFDVixFQUFNLEtBQU8sR0FBSSxFQUFNLFFBQVEsRUFDbkMsRUFBUyxPQUNKLENBQ0wsR0FBSSxFQUNGLEVBQU0sWUFBWSxHQUFRLEdBQVMsR0FBUyxHQUFVLEdBQUssRUFBTSxTQUFTLEVBQVksRUFBSSxHQUFlLEVBQVUsRUFDckgsUUFHTCxFQUVLLEdBQWEsSUFBSSxHQUFrQixLQUFTLENBQ2hELEdBQUksR0FBTSxTQUFTLEVBQU0sS0FBSyxFQUFFLENBQUMsRUFBRyxDQUNsQyxJQUFLLFFBQVEsRUFDYixHQUFJLEdBQVEsQ0FBSSxHQUFLLEdBQVEsSUFBYyxHQUFRLElBQVEsR0FBUSxJQUMvRCxHQUFRLElBQVksR0FBUSxJQUFTLEdBQVEsRUFBTSxLQUFLLENBQUMsQ0FBQyxHQUMxRCxHQUFRLElBQVEsR0FBUSxHQUMxQixFQUFNLFlBQVksRUFBWSxHQUVuQyxFQUVLLEdBQVksSUFBSSxHQUFrQixLQUFTLENBQy9DLElBQUssR0FBTSxTQUFTLEVBQU0sS0FBSyxFQUFFLENBQUMsRUFBRyxDQUNuQyxJQUFLLFFBQVEsRUFDYixHQUFJLEdBQVEsR0FBVyxFQUFNLFFBQVEsRUFBRyxFQUFNLFlBQVksRUFBSSxFQUM5RCxHQUFJLEdBQVEsQ0FBSSxFQUFHLENBQ2pCLEVBQUssR0FBTSxRQUFRLFFBQVksR0FBUSxFQUFNLElBQUksR0FBSyxHQUFRLEVBQU0sSUFBSSxHQUN4RSxFQUFNLFlBQVksRUFBSSxJQUczQixFQUVLLEdBQWtCLEdBQVUsQ0FDaEMsOERBQStELEVBQUssa0JBQ3BFLG1CQUFvQixFQUFLLFFBQ3pCLGNBQWUsRUFBSyxVQUNwQixhQUFjLEVBQUssVUFDbkIsa0JBQW1CLEVBQUssZ0JBQ3hCLFFBQVMsRUFBSyxRQUNkLFVBQVcsRUFBSyxVQUNoQixnQkFBaUIsRUFBSyxTQUFTLEVBQUssU0FBUyxFQUM3QyxPQUFRLEVBQUssVUFDYiwyQkFBNEIsRUFBSyxhQUNqQyxjQUFlLEVBQUssY0FDcEIsY0FBZSxFQUFLLE9BQ3BCLGFBQWMsRUFBSyxRQUNuQixhQUFjLEVBQUssZ0JBQ25CLG9CQUFxQixFQUFLLEtBQzFCLGFBQWMsRUFBSyxhQUNuQixPQUFRLEVBQUssZ0JBQ2IsS0FBTSxFQUFLLEtBQ1gsb0NBQXFDLEVBQUssbUJBQzFDLFFBQVMsRUFBSyxnQkFDZCw2QkFBOEIsRUFBSyxjQUNuQyxNQUFPLEVBQUssbUJBQ1osVUFBVyxFQUFLLFNBQ2hCLFFBQVMsRUFBSyxhQUNkLGFBQWMsRUFBSyxNQUNuQixxQ0FBc0MsRUFBSyxPQUMzQyxJQUFLLEVBQUssWUFDVixhQUFjLEVBQUssY0FDbkIsTUFBTyxFQUFLLFVBQ1osTUFBTyxFQUFLLE1BQ1osTUFBTyxFQUFLLGNBQ1osTUFBTyxFQUFLLEtBQ2QsQ0FBQyxFQUdLLEdBQWMsQ0FBQyxVQUFVLEtBQUssS0FBSyxHQUFJLFlBQVksR0FBSSxpQkFBaUIsR0FBSSxjQUFjLEdBQUksbUJBQW1CLEdBQUksSUFBSSxHQUFJLGVBQWUsR0FBSSxJQUFJLEdBQUksYUFBYSxHQUFJLE9BQU8sR0FBSSxPQUFPLEdBQUksU0FBUyxHQUFHLEVBQzNNLEdBQWlCLENBQUMsVUFBVSxLQUFLLFVBQVUsSUFBSyxTQUFTLElBQUssV0FBVyxJQUFLLGFBQWEsSUFBSyxhQUFhLElBQUssWUFBWSxHQUFHLEVBQ2pJLEdBQWtCLENBQUMsVUFBVSxLQUFLLElBQUksSUFBSyxLQUFLLEdBQUcsRUFDbkQsR0FBUyxHQUFTLFlBQVksQ0FDbEMsUUFBUyxHQUNULE9BQVEsNGlFQUNSLFVBQVcsdWxEQUNYLEtBQU0sNDNCQUNOLFVBQVcsNjdCQUNYLFFBQVMsSUFDVCxVQUFXLENBQ1QsQ0FBQyxVQUFXLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFDdEIsQ0FBQyxXQUFZLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxHQUFHLEVBQ2pDLENBQUMsV0FBWSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUNuQyxFQUNBLFlBQWEsQ0FBQyxFQUFlLEVBQzdCLGFBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUNyQixnQkFBaUIsR0FDakIsVUFBVyxtK0dBQ1gsV0FBWSxDQUFDLEdBQVksR0FBVyxHQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFBSSxHQUFnQixxQ0FBc0MsR0FBSSxHQUFHLENBQUMsRUFDL0gsU0FBVSxDQUFDLFdBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFTLENBQUMsRUFBRSxFQUFFLENBQUMsRUFDN0MsWUFBYSxDQUFDLENBQUMsS0FBTSxJQUFLLElBQUssQ0FBQyxJQUFVLEdBQVksSUFBVSxFQUFFLEVBQUUsQ0FBQyxLQUFNLEdBQUksSUFBSyxDQUFDLElBQVUsR0FBZSxJQUFVLEVBQUUsRUFBRSxDQUFDLEtBQU0sSUFBSyxJQUFLLENBQUMsSUFBVSxHQUFnQixJQUFVLEVBQUUsQ0FBQyxFQUNyTCxVQUFXLElBQ2IsQ0FBQyxFQ3BIRCxTQUFTLEVBQVUsRUFBRyxDQUNsQixJQUFLLFdBQXNCLFVBQVksVUFBWSxTQUFTLEtBQU0sQ0FDOUQsSUFBTSxTQUFVLFNBQVMsS0FBTSxFQUFRLENBQUMsRUFBRyxFQUFPLElBQUksSUFDdEQsUUFBUyxLQUFRLEVBQ2IsR0FBSSxHQUFRLFdBQWEsR0FBUSxZQUM3QixVQUFXLEVBQU0sSUFBUyxTQUFVLENBQ2hDLEdBQUksUUFBUSxLQUFLLENBQUksRUFDakIsRUFBTyxFQUFLLFFBQVEsU0FBVSxLQUFNLElBQU0sRUFBRyxZQUFZLENBQUMsRUFDOUQsSUFBSyxFQUFLLElBQUksQ0FBSSxFQUNkLEVBQU0sS0FBSyxDQUFJLEVBQ2YsRUFBSyxJQUFJLENBQUksR0FJN0IsR0FBYyxFQUFNLEtBQUssRUFBRSxJQUFJLE1BQVMsQ0FBRSxLQUFNLFdBQVksTUFBTyxDQUFLLEVBQUUsRUFFOUUsT0FBTyxJQUFlLENBQUMsRUE4RzNCLFNBQVMsRUFBUSxDQUFDLEVBQU0sRUFBSyxDQUN6QixJQUFJLEVBQ0osR0FBSSxFQUFLLE1BQVEsS0FBTyxFQUFLLEtBQUssUUFDOUIsRUFBTyxFQUFLLFFBQVUsRUFDMUIsR0FBSSxFQUFLLE1BQVEsVUFDYixNQUFPLEdBQ1gsSUFBSSxHQUFVLEVBQUssRUFBSyxVQUFZLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxXQUN4RSxJQUFLLElBQVcsTUFBUSxJQUFnQixPQUFTLE9BQUksRUFBTyxPQUFTLFNBQ2pFLE1BQU8sR0FDWCxPQUFPLEVBQUksWUFBWSxFQUFPLEtBQU0sRUFBTyxFQUFFLEdBQUssTUFJdEQsU0FBUyxFQUFNLENBQUMsRUFBTSxDQUNsQixRQUFTLEVBQU0sSUFBUSxDQUNuQixHQUFJLEVBQUksS0FBSyxNQUNULE9BQU8sRUFDWCxLQUFNLEVBQU0sRUFBSSxRQUNaLE9BQU8sR0FHbkIsU0FBUyxFQUFhLENBQUMsRUFBSyxFQUFNLEVBQVksQ0FDMUMsR0FBSSxFQUFLLEdBQUssRUFBSyxLQUFPLEtBQU0sQ0FDNUIsSUFBSSxFQUFRLEdBQWdCLElBQUksQ0FBSSxFQUNwQyxHQUFJLEVBQ0EsT0FBTyxFQUNYLElBQUksRUFBUyxDQUFDLEVBQUcsRUFBTyxJQUFJLElBQUssRUFBUyxFQUFLLE9BQU8sRUFBUyxnQkFBZ0IsRUFDL0UsR0FBSSxFQUFPLFdBQVcsRUFDbEIsRUFDSSxTQUFTLEtBQVUsR0FBYyxFQUFLLEVBQU8sS0FBTSxDQUFVLEVBQ3pELElBQUssRUFBSyxJQUFJLEVBQU8sS0FBSyxFQUN0QixFQUFLLElBQUksRUFBTyxLQUFLLEVBQ3JCLEVBQU8sS0FBSyxDQUFNLFFBRXJCLEVBQU8sWUFBWSxHQUVoQyxPQURBLEdBQWdCLElBQUksRUFBTSxDQUFNLEVBQ3pCLE1BRU4sQ0FDRCxJQUFJLEVBQVMsQ0FBQyxFQUFHLEVBQU8sSUFBSSxJQVc1QixPQVZBLEVBQUssT0FBTyxFQUFFLFFBQVEsS0FBUSxDQUMxQixJQUFJLEVBQ0osR0FBSSxFQUFXLENBQUksR0FBSyxFQUFLLGFBQWEsRUFBWSxLQUFPLEVBQUssRUFBSyxLQUFLLGVBQWlCLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxPQUFTLElBQUssQ0FDM0ksSUFBSSxFQUFPLEVBQUksWUFBWSxFQUFLLEtBQU0sRUFBSyxFQUFFLEVBQzdDLElBQUssRUFBSyxJQUFJLENBQUksRUFDZCxFQUFLLElBQUksQ0FBSSxFQUNiLEVBQU8sS0FBSyxDQUFFLE1BQU8sRUFBTSxLQUFNLFVBQVcsQ0FBQyxHQUd4RCxFQUNNLEdBdUVmLFNBQVMsRUFBRyxFQUFHLENBQ1gsT0FBTyxJQUFJLEdBQWdCLEdBQWEsR0FBWSxLQUFLLEdBQUcsQ0FBRSxhQUFjLEVBQW9CLENBQUMsQ0FBQyxFQXpQdEcsSUFBSSxHQUFjLEtBbUJaLEdBQTZCLENBQy9CLFNBQVUsUUFBUyxXQUFZLFdBQVksV0FBWSxTQUN2RCxVQUFXLE1BQU8sVUFBVyxVQUFXLFdBQVksUUFDcEQsVUFBVyx1QkFBd0IsUUFBUyxjQUM1QyxlQUFnQixhQUFjLGdCQUFpQixRQUMvQyxnQkFBaUIsZUFBZ0IsYUFBYyxNQUFPLE9BQ3RELGVBQWdCLFFBQVMsV0FBWSxnQkFBaUIsVUFDdEQsS0FBTSxPQUFRLGFBQWMsZUFBZ0IsT0FBUSxPQUFRLFNBQzVELFFBQVMsTUFBTyxZQUFhLGlCQUFrQixtQkFDL0MsY0FBZSxhQUFjLGVBQWdCLFdBQVksZUFDekQsT0FBUSxjQUFlLG9CQUFxQixZQUFhLGFBQ3pELFdBQVksUUFBUyxPQUFRLFFBQVMsWUFBYSxVQUFXLFNBQzlELGNBQWUsUUFBUyxVQUFXLE9BQ3ZDLEVBQUUsSUFBSSxNQUFTLENBQUUsS0FBTSxRQUFTLE1BQU8sQ0FBSyxFQUFFLEVBQ3hDLEdBQXNCLENBQ3hCLFFBQVMsV0FBWSxlQUFnQixXQUFZLGdCQUFpQixvQkFDbEUsUUFBUyxRQUFTLE1BQU8sYUFBYyxhQUFjLFlBQWEsU0FDbEUsY0FBZSxlQUFnQixZQUFhLE9BQVEsT0FBUSxZQUFhLFFBQVMsZUFDbEYsYUFBYyxlQUFnQixXQUFZLGFBQWMsWUFBYSxXQUFZLFFBQ2pGLGdCQUFpQixRQUFTLFFBQVMsYUFBYyxPQUFRLFNBQVUsU0FBVSxhQUM3RSxPQUFRLFNBQVUsUUFBUyxZQUFhLGFBQWMsVUFBVyxTQUFVLGVBQzNFLGFBQWMsa0JBQW1CLGVBQWdCLGFBQWMsT0FBUSxhQUN2RSxzQkFBdUIsVUFBVyxjQUFlLFFBQVMsT0FBUSxTQUFVLFdBQVksU0FDeEYsY0FBZSxRQUFTLE9BQVEsY0FBZSxhQUFjLFdBQVksUUFBUyxhQUNsRixjQUFlLFNBQVUsaUJBQWtCLFVBQVcsWUFBYSxVQUFXLFVBQzlFLFdBQVksY0FBZSxlQUFnQixhQUFjLE9BQVEsVUFBVyxXQUFZLFFBQ3hGLE9BQVEsUUFBUyxZQUFhLGVBQWdCLFVBQVcsU0FBVSxTQUFVLFNBQVUsVUFDdkYsdUJBQXdCLFVBQVcsaUJBQWtCLFFBQVMsbUJBQW9CLGlCQUNsRixrQkFBbUIsbUJBQW9CLGFBQWMsT0FBUSxVQUFXLG9CQUN4RSxrQkFBbUIsV0FBWSxXQUFZLGVBQWdCLFNBQVUsU0FBVSxPQUFRLFdBQ3ZGLE9BQVEsVUFBVyxjQUFlLFdBQVksVUFBVyxVQUFXLFdBQVksUUFBUyxNQUN6Rix1QkFBd0IsMEJBQTJCLHdCQUF5QixZQUFhLFlBQ3pGLFdBQVksVUFBVyxrQkFBbUIsaUJBQWtCLFVBQVcsT0FBUSxPQUFRLFdBQ3ZGLFFBQVMsT0FBUSxPQUFRLFdBQVksYUFBYyxZQUFhLFdBQVksT0FDNUUscUJBQXNCLFdBQVksT0FBUSxTQUFVLE9BQVEsYUFBYyxPQUFRLFNBQVUsT0FDNUYsU0FBVSxZQUFhLGdCQUFpQixhQUFjLE1BQU8sT0FBUSxNQUFPLE9BQVEsU0FDcEYsaUJBQWtCLGtCQUFtQixzQkFBdUIsV0FBWSxpQkFBa0IsV0FDMUYsVUFBVyxVQUFXLFNBQVUsY0FBZSxlQUFnQixjQUFlLGNBQzlFLGVBQWdCLFFBQVMsU0FBVSxZQUFhLFNBQVUsU0FBVSxVQUFXLFdBQy9FLFlBQWEsUUFBUyxTQUFVLE9BQVEsUUFBUyxVQUFXLFVBQVcsZUFBZ0IsU0FDdkYsa0JBQW1CLFFBQVMsWUFBYSxVQUFXLFdBQVksUUFBUyxVQUFXLE9BQVEsUUFDNUYsb0JBQXFCLGNBQWUsa0JBQW1CLFlBQWEsTUFBTyxhQUFjLGVBQ3pGLFFBQVMsU0FBVSxXQUFZLFNBQVUsT0FBUSxXQUFZLGNBQWUsU0FBVSxnQkFDdEYsTUFBTyxZQUFhLE9BQVEsV0FBWSx1QkFBd0IsV0FBWSxXQUFZLFdBQ3hGLFlBQWEsY0FBZSxpQkFBa0IsVUFBVyxnQkFBaUIsWUFBYSxPQUN2RixTQUFVLGNBQWUsU0FBVSxZQUFhLFVBQVcsVUFBVyxZQUFhLGNBQ25GLFVBQVcsVUFBVyxhQUFjLHFCQUFzQixnQkFBaUIsU0FBVSxVQUNyRixnQkFBaUIsVUFBVyxXQUFZLFVBQVcsY0FBZSxVQUFXLE9BQVEsU0FDckYsY0FBZSxhQUFjLGNBQWUsZUFBZ0IsVUFBVyxVQUFXLFdBQ2xGLE1BQU8sV0FBWSxXQUFZLGNBQWUsV0FBWSxjQUFlLGtCQUFtQixRQUM1RixZQUFhLGFBQWMsNEJBQTZCLFlBQWEsU0FBVSxXQUFZLFNBQzNGLDRCQUE2Qiw0QkFBNkIsV0FBWSxXQUFZLFFBQVMsVUFDM0YsTUFBTyxPQUFRLFFBQVMsUUFBUyxTQUFVLFdBQVksVUFBVyxVQUFXLFVBQVcsUUFDeEYsTUFBTyxhQUFjLGNBQWUsTUFBTyxTQUFVLFVBQVcsV0FBWSxhQUFjLGFBQzFGLFFBQVMsVUFBVyxTQUFVLFNBQVUsU0FBVSxTQUFVLFNBQVUsWUFBYSxrQkFDbkYsWUFBYSxhQUFjLFdBQVksaUJBQWtCLGdCQUFpQixXQUFZLFFBQVMsT0FDL0YsU0FBVSxPQUFRLFFBQVMsUUFBUyxtQkFBb0IsUUFBUyxvQkFDakUsa0JBQW1CLHlCQUEwQix1QkFBd0IsT0FBUSxRQUFTLGFBQ3RGLGdCQUFpQixVQUFXLGFBQWMsUUFBUyxjQUFlLFlBQWEsYUFDL0UsY0FBZSxRQUFTLGVBQWdCLGdCQUFpQixlQUFnQixZQUFhLFNBQVUsUUFDaEcsU0FBVSxhQUFjLFVBQVcsU0FBVSxhQUFjLE1BQU8sdUJBQXdCLFlBQzFGLFFBQVMsWUFBYSxXQUFZLFVBQVcsWUFBYSxRQUFTLGdCQUFpQixhQUNwRixlQUFnQixxQkFBc0IscUJBQXNCLHFCQUFzQixZQUNsRixrQkFBbUIsT0FBUSxjQUFlLFdBQVksV0FBWSxZQUFhLFFBQVMsT0FDeEYsbUJBQW9CLGFBQWMsa0JBQW1CLG9CQUFxQixlQUFnQixLQUFNLE1BQ2hHLFlBQWEsWUFBYSxjQUFlLGFBQWMsYUFBYyxhQUFjLGNBQ25GLGtCQUFtQixpQkFBa0IsWUFBYSxxQkFBc0IsUUFBUyxLQUFNLGNBQ3ZGLFlBQWEsTUFBTyxNQUFPLFdBQVksZ0JBQWlCLFdBQVksVUFBVyxjQUMvRSxpQkFBa0IsZ0JBQWlCLFNBQVUsV0FBWSxPQUFRLE9BQVEsUUFBUyxTQUFVLGNBQzVGLGFBQWMsUUFBUyxPQUFRLGVBQWdCLFVBQVcsVUFBVyxNQUFPLFdBQVksVUFDNUYsRUFBRSxJQUFJLE1BQVMsQ0FBRSxLQUFNLFVBQVcsTUFBTyxDQUFLLEVBQUUsRUFBRSxPQUFvQixDQUNsRSxZQUFhLGVBQWdCLE9BQVEsYUFBYyxRQUFTLFFBQzVELFNBQVUsUUFBUyxpQkFBa0IsT0FBUSxhQUFjLFFBQzNELFlBQWEsWUFBYSxhQUFjLFlBQWEsUUFBUyxpQkFDOUQsV0FBWSxVQUFXLE9BQVEsV0FBWSxXQUFZLGdCQUN2RCxXQUFZLFlBQWEsWUFBYSxjQUFlLGlCQUNyRCxhQUFjLGFBQWMsVUFBVyxhQUFjLGVBQ3JELGdCQUFpQixnQkFBaUIsZ0JBQWlCLGFBQ25ELFdBQVksY0FBZSxVQUFXLGFBQWMsWUFDcEQsY0FBZSxjQUFlLFVBQVcsWUFBYSxhQUN0RCxPQUFRLFlBQWEsT0FBUSxPQUFRLFFBQVMsY0FBZSxXQUM3RCxVQUFXLFlBQWEsU0FBVSxRQUFTLFFBQVMsV0FDcEQsZ0JBQWlCLFlBQWEsZUFBZ0IsWUFBYSxhQUMzRCxZQUFhLHVCQUF3QixZQUFhLGFBQWMsWUFDaEUsY0FBZSxnQkFBaUIsZUFBZ0IsaUJBQ2hELGlCQUFrQixjQUFlLE9BQVEsWUFBYSxRQUFTLFVBQy9ELFNBQVUsbUJBQW9CLGFBQWMsZUFBZ0IsZUFDNUQsaUJBQWtCLGtCQUFtQixvQkFBcUIsa0JBQzFELGtCQUFtQixlQUFnQixZQUFhLFlBQWEsV0FDN0QsY0FBZSxPQUFRLFVBQVcsUUFBUyxZQUFhLFNBQVUsWUFDbEUsU0FBVSxnQkFBaUIsWUFBYSxnQkFBaUIsZ0JBQ3pELGFBQWMsWUFBYSxPQUFRLE9BQVEsT0FBUSxhQUNuRCxTQUFVLGdCQUFpQixNQUFPLFlBQWEsWUFBYSxjQUM1RCxTQUFVLGFBQWMsV0FBWSxXQUFZLFNBQVUsU0FBVSxVQUNwRSxZQUFhLFlBQWEsT0FBUSxjQUFlLFlBQWEsTUFDOUQsT0FBUSxVQUFXLFNBQVUsWUFBYSxTQUFVLFFBQVMsUUFDN0QsYUFBYyxTQUFVLGFBQzVCLEVBQUUsSUFBSSxNQUFTLENBQUUsS0FBTSxXQUFZLE1BQU8sQ0FBSyxFQUFFLENBQUMsRUFDNUMsR0FBb0IsQ0FDdEIsSUFBSyxPQUFRLFVBQVcsVUFBVyxRQUFTLElBQUssTUFBTyxNQUFPLGFBQWMsT0FDN0UsS0FBTSxTQUFVLFNBQVUsVUFBVyxPQUFRLE9BQVEsTUFBTyxXQUFZLEtBQU0sTUFDOUUsVUFBVyxNQUFPLFNBQVUsTUFBTyxLQUFNLEtBQU0sS0FBTSxhQUFjLFNBQVUsU0FDN0UsT0FBUSxTQUFVLFNBQVUsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxPQUFRLElBQUssU0FDbkYsTUFBTyxRQUFTLE1BQU8sTUFBTyxRQUFTLFNBQVUsS0FBTSxPQUFRLFFBQVMsTUFBTyxLQUFNLFNBQ3JGLElBQUssTUFBTyxPQUFRLFVBQVcsU0FBVSxRQUFTLFNBQVUsT0FBUSxTQUFVLE1BQU8sVUFDckYsTUFBTyxRQUFTLFFBQVMsS0FBTSxXQUFZLFdBQVksUUFBUyxLQUFNLFFBQVMsS0FBTSxJQUFLLElBQzlGLEVBQUUsSUFBSSxNQUFTLENBQUUsS0FBTSxPQUFRLE1BQU8sQ0FBSyxFQUFFLEVBQ3ZDLEdBQWEsMEJBQTJCLEdBQVcsZ0JBWW5ELEdBQStCLElBQUksR0FDbkMsR0FBZSxDQUFDLGFBQWEsRUErQzdCLEdBQTRCLENBQUMsSUFBZSxLQUFXLENBQ3pELElBQU0sUUFBTyxPQUFRLEVBQVMsRUFBTyxFQUFXLENBQUssRUFBRSxhQUFhLEVBQUssRUFBRSxFQUN2RSxFQUFTLEVBQUssS0FBSyxTQUFXLEVBQUssTUFBUSxFQUFLLEdBQUssR0FBSyxFQUFNLElBQUksWUFBWSxFQUFLLEtBQU0sRUFBSyxFQUFFLEdBQUssSUFDM0csR0FBSSxFQUFLLE1BQVEsaUJBQ1osR0FBVSxFQUFLLE1BQVEsWUFBYyxtQkFBbUIsS0FBSyxFQUFLLFFBQVEsRUFBSyxFQUFFLEVBQUUsSUFBSSxFQUN4RixNQUFPLENBQUUsS0FBTSxFQUFLLEtBQU0sUUFBUyxHQUFXLEVBQUcsU0FBVSxFQUFXLEVBQzFFLEdBQUksRUFBSyxNQUFRLFlBQ2IsTUFBTyxDQUFFLEtBQU0sRUFBSyxLQUFNLFFBQVMsR0FBUSxTQUFVLEVBQVcsRUFDcEUsR0FBSSxFQUFLLE1BQVEsa0JBQ2IsTUFBTyxDQUFFLEtBQU0sRUFBSyxLQUFNLFFBQVMsR0FBZSxTQUFVLEVBQVcsRUFDM0UsR0FBSSxFQUFXLENBQUksSUFBTSxFQUFRLFVBQVksSUFBVyxHQUFTLEVBQU0sRUFBTSxHQUFHLEVBQzVFLE1BQU8sQ0FBRSxLQUFNLEVBQVcsQ0FBSSxHQUFLLEVBQVMsRUFBSyxLQUFPLEVBQ3BELFFBQVMsR0FBYyxFQUFNLElBQUssR0FBTyxDQUFJLEVBQUcsQ0FBVSxFQUMxRCxTQUFVLEVBQVMsRUFDM0IsR0FBSSxFQUFLLE1BQVEsVUFBVyxDQUN4QixRQUFXLFVBQVcsRUFBTSxFQUFRLEVBQVMsRUFBTyxPQUNoRCxHQUFJLEVBQU8sTUFBUSxRQUNmLE1BQU8sQ0FBRSxLQUFNLEVBQUssS0FBTSxRQUFTLEdBQVcsRUFBRyxTQUFVLEVBQVcsRUFDOUUsTUFBTyxDQUFFLEtBQU0sRUFBSyxLQUFNLFFBQVMsR0FBTSxTQUFVLEVBQVcsRUFFbEUsSUFBSyxFQUFRLFNBQ1QsT0FBTyxLQUNYLElBQUksRUFBUSxFQUFLLFFBQVEsQ0FBRyxFQUFHLEVBQVMsRUFBTSxZQUFZLENBQUcsRUFDN0QsR0FBSSxHQUFVLEVBQU8sTUFBUSxLQUFPLEVBQU0sTUFBUSxzQkFDOUMsTUFBTyxDQUFFLEtBQU0sRUFBSyxRQUFTLEdBQWUsU0FBVSxFQUFXLEVBQ3JFLEdBQUksR0FBVSxFQUFPLE1BQVEsS0FBTyxFQUFNLE1BQVEsZUFBaUIsRUFBTSxNQUFRLFVBQzdFLE1BQU8sQ0FBRSxLQUFNLEVBQUssUUFBUyxHQUFRLFNBQVUsRUFBVyxFQUM5RCxHQUFJLEVBQU0sTUFBUSxTQUFXLEVBQU0sTUFBUSxTQUN2QyxNQUFPLENBQUUsS0FBTSxFQUFLLFFBQVMsR0FBVyxFQUFHLFNBQVUsRUFBVyxFQUNwRSxPQUFPLE1BS0wsR0FBbUMsR0FBMEIsS0FBSyxFQUFFLE1BQVEsY0FBYyxFQU8xRixHQUEyQixHQUFXLE9BQU8sQ0FDL0MsS0FBTSxNQUNOLE9BQXFCLEdBQU8sVUFBVSxDQUNsQyxNQUFPLENBQ1UsR0FBZSxJQUFJLENBQzVCLFlBQTBCLEdBQWdCLENBQzlDLENBQUMsRUFDWSxHQUFhLElBQUksQ0FDMUIscUJBQXNCLEVBQzFCLENBQUMsQ0FDTCxDQUNKLENBQUMsRUFDRCxhQUFjLENBQ1YsY0FBZSxDQUFFLE1BQU8sQ0FBRSxLQUFNLEtBQU0sTUFBTyxJQUFLLENBQUUsRUFDcEQsY0FBZSxVQUNmLFVBQVcsR0FDZixDQUNKLENBQUMsRUN6TEQsU0FBUyxFQUFjLENBQUMsRUFBSSxFQUFPLENBQ2pDLE9BQU8sR0FBTSxJQUFNLEdBQU0sSUFBTSxHQUFNLElBQU0sR0FBTSxLQUFPLEdBQU0sSUFBTSxHQUFNLE1BQ3ZFLEdBQVMsR0FBTSxJQUFNLEdBQU0sR0E3RGhDLElBQU0sR0FBUyxJQUNiLEdBQVMsRUFDVCxHQUFlLEVBQ2YsR0FBYyxFQUNkLEdBQWMsRUFDZCxHQUFhLElBQ2IsR0FBUyxJQUNULEdBQVUsSUFDVixHQUFjLEVBQ2QsR0FBZSxFQUNmLEdBQWMsRUFLVixHQUFRLENBQUMsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFBSyxJQUFLLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQ3ZGLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQUssRUFFbEQsR0FBUyxJQUFLLEdBQVksR0FBSSxHQUFRLEdBQUksR0FBTyxHQUFJLEdBQU8sR0FBSSxHQUFRLEdBQUksR0FBSyxHQUFJLEdBQVEsR0FDN0YsR0FBVyxHQUFJLEdBQU0sR0FFckIsR0FBZSxJQUFJLEdBQWUsQ0FDdEMsTUFBTyxHQUNQLEtBQUssQ0FBQyxFQUFTLEVBQU0sQ0FDbkIsT0FBTyxHQUFRLElBQWUsR0FBUSxJQUFnQixHQUFRLEdBQVMsRUFBVSxHQUFRLElBRTNGLE9BQVEsRUFDVixDQUFDLEVBRUssR0FBa0IsSUFBSSxHQUFrQixDQUFDLEVBQU8sSUFBVSxDQUM5RCxJQUFLLFFBQVEsRUFDYixHQUFJLEdBQVEsSUFBVSxHQUFRLElBQU0sRUFBTSxRQUN4QyxFQUFNLFlBQVksRUFBVSxHQUM3QixDQUFDLFdBQVksR0FBTSxTQUFVLEVBQUksQ0FBQyxFQUUvQixHQUFjLElBQUksR0FBa0IsQ0FBQyxFQUFPLElBQVUsQ0FDMUQsSUFBSyxRQUFRLEVBQU8sRUFDcEIsR0FBSSxHQUFNLFFBQVEsQ0FBSSxFQUFJLEdBQUksT0FDOUIsR0FBSSxHQUFRLE1BQVcsRUFBUSxFQUFNLEtBQUssQ0FBQyxJQUFNLElBQVMsR0FBUyxJQUFPLE9BQzFFLEdBQUksR0FBUSxJQUFVLEdBQVEsSUFBYSxHQUFRLEtBQU8sRUFBTSxRQUM5RCxFQUFNLFlBQVksRUFBTSxHQUN6QixDQUFDLFdBQVksRUFBSSxDQUFDLEVBRWYsR0FBZ0IsSUFBSSxHQUFrQixDQUFDLEVBQU8sSUFBVSxDQUM1RCxJQUFLLFFBQVEsRUFDYixHQUFJLEdBQVEsSUFBUSxHQUFRLElBRTFCLEdBREEsRUFBTSxRQUFRLEVBQ1YsR0FBUSxFQUFNLEtBQU0sQ0FDdEIsRUFBTSxRQUFRLEVBQ2QsSUFBSSxHQUFjLEVBQU0sU0FBVyxFQUFNLFNBQVMsRUFBTSxFQUN4RCxFQUFNLFlBQVksRUFBYSxHQUFTLEVBQVksV0FFN0MsR0FBUSxJQUFZLEVBQU0sS0FBSyxDQUFDLEdBQUssSUFFOUMsR0FEQSxFQUFNLFFBQVEsRUFBRyxFQUFNLFFBQVEsRUFDM0IsRUFBTSxLQUFPLElBQU0sRUFBTSxLQUFPLEdBQ2xDLEVBQU0sWUFBWSxFQUFXLElBRWhDLENBQUMsV0FBWSxFQUFJLENBQUMsRUFPZixHQUFNLElBQUksR0FBa0IsQ0FBQyxFQUFPLElBQVUsQ0FDbEQsR0FBSSxFQUFNLE1BQVEsS0FBTyxFQUFNLGVBQWUsRUFBVyxFQUFHLE9BRTVELEdBREEsRUFBTSxRQUFRLEVBQ1YsRUFBTSxNQUFRLEdBQU8sT0FHekIsSUFBSSxFQUFPLEVBQ1gsTUFBTyxHQUFNLFFBQVEsRUFBTSxJQUFJLEVBQUksR0FBTSxFQUFNLFFBQVEsRUFBRyxJQUMxRCxHQUFJLEdBQWUsRUFBTSxLQUFNLEVBQUksRUFBRyxDQUNwQyxFQUFNLFFBQVEsRUFDZCxJQUNBLE1BQU8sR0FBZSxFQUFNLEtBQU0sRUFBSyxFQUFLLEVBQU0sUUFBUSxFQUFHLElBQzdELE1BQU8sR0FBTSxRQUFRLEVBQU0sSUFBSSxFQUFJLEdBQU0sRUFBTSxRQUFRLEVBQUcsSUFDMUQsR0FBSSxFQUFNLE1BQVEsR0FBTyxPQUN6QixRQUFTLEVBQUksR0FBSSxJQUFLLENBQ3BCLEdBQUksR0FBSyxFQUFHLENBQ1YsSUFBSyxHQUFlLEVBQU0sS0FBTSxFQUFJLEVBQUcsT0FDdkMsTUFFRixHQUFJLEVBQU0sTUFBUSxVQUFVLFdBQVcsQ0FBQyxFQUFHLE1BQzNDLEVBQU0sUUFBUSxFQUNkLEtBR0osRUFBTSxZQUFZLElBQWMsQ0FBSSxFQUNyQyxFQUVLLEdBQWMsR0FBVSxDQUM1Qix1QkFBd0IsRUFBSyxTQUM3Qix5RkFBMEYsRUFBSyxlQUMvRixrREFBbUQsRUFBSyxnQkFDeEQsNkNBQThDLEVBQUssa0JBQ25ELHFCQUFzQixFQUFLLGNBQzNCLHVCQUF3QixFQUFLLFFBQzdCLGVBQWdCLEVBQUssUUFBUSxFQUFLLE1BQU0sRUFDeEMsTUFBTyxFQUFLLEtBQ1osZUFBZ0IsRUFBSyxLQUNyQixLQUFNLEVBQUssS0FDWCxLQUFNLEVBQUssS0FDWCxLQUFNLEVBQUssU0FDWCxhQUFjLEVBQUssYUFDbkIsb0VBQXFFLEVBQUssU0FBUyxFQUFLLFlBQVksRUFDcEcsbUJBQW9CLEVBQUssV0FBVyxFQUFLLFlBQVksRUFDckQsTUFBTyxFQUFLLFVBQ1osYUFBYyxFQUFLLGFBQ25CLG9CQUFxQixFQUFLLFFBQVEsRUFBSyxZQUFZLEVBQ25ELCtDQUFnRCxFQUFLLFNBQVMsRUFBSyxZQUFZLEVBQy9FLHlDQUEwQyxFQUFLLFNBQVMsRUFBSyxXQUFXLEVBQUssWUFBWSxDQUFDLEVBQzFGLHNDQUF1QyxFQUFLLFdBQVcsRUFBSyxTQUFTLEVBQ3JFLG1CQUFvQixFQUFLLFdBQVcsRUFBSyxZQUFZLEVBQ3JELDBCQUEyQixFQUFLLFdBQVcsRUFBSyxRQUFRLEVBQUssWUFBWSxDQUFDLEVBQzFFLFNBQVUsRUFBSyxlQUNmLHVCQUF3QixFQUFLLFlBQzdCLGFBQWMsRUFBSyxhQUNuQixPQUFRLEVBQUssT0FDYixPQUFRLEVBQUssT0FDYixPQUFRLEVBQUssT0FDYixRQUFTLEVBQUssbUJBQ2QsUUFBUyxFQUFLLGNBQ2QsTUFBTyxFQUFLLGdCQUNaLFVBQVcsRUFBSyxnQkFDaEIsT0FBUSxFQUFLLE9BQ2IsT0FBUSxFQUFLLG1CQUNiLE1BQU8sRUFBSyxTQUFTLEVBQUssV0FBVyxFQUNyQyxXQUFZLEVBQUssWUFDakIsTUFBTyxFQUFLLE1BQ1osTUFBTyxFQUFLLGNBQ1osTUFBTyxFQUFLLE1BQ1osc0NBQXVDLEVBQUssUUFBUSxFQUFLLEtBQUssRUFDOUQsSUFBSyxFQUFLLGNBQ1YsTUFBTyxFQUFLLFVBQ1osSUFBSyxFQUFLLEtBRVYsU0FBVSxFQUFLLFNBQ2YsZUFBZ0IsRUFBSyxXQUFXLEVBQUssUUFBUSxFQUM3QywwREFBMkQsRUFBSyxrQkFDaEUsNENBQTZDLEVBQUssU0FDbEQsd0JBQXlCLEVBQUssZ0JBRTlCLGtCQUFtQixFQUFLLGVBQ3hCLFFBQVMsRUFBSyxRQUNkLDREQUE2RCxFQUFLLGFBQ2xFLGtDQUFtQyxFQUFLLFFBQ3hDLDREQUE2RCxFQUFLLGNBQ2xFLDJCQUE0QixFQUFLLFNBQVMsRUFBSyxPQUFPLENBQ3hELENBQUMsRUFHSyxHQUFrQixDQUFDLFVBQVUsS0FBSyxPQUFPLEdBQUksR0FBRyxHQUFJLEtBQUssR0FBSSxRQUFRLEdBQUksTUFBTSxHQUFJLFNBQVMsR0FBSSxRQUFRLEdBQUksS0FBSyxHQUFJLEtBQUssR0FBSSxNQUFNLEdBQUksS0FBSyxHQUFJLEtBQUssR0FBSSxPQUFPLEdBQUksTUFBTSxJQUFLLElBQUksSUFBSyxPQUFPLElBQUssTUFBTSxJQUFLLE1BQU0sSUFBSyxNQUFNLElBQUssT0FBTyxJQUFLLFFBQVEsSUFBSyxVQUFVLElBQUssU0FBUyxJQUFLLFdBQVcsSUFBSyxVQUFVLElBQUssR0FBRyxJQUFLLE1BQU0sSUFBSyxPQUFPLElBQUssTUFBTSxJQUFLLE9BQU8sSUFBSyxNQUFNLElBQUssR0FBRyxJQUFLLFNBQVMsSUFBSyxXQUFXLElBQUssS0FBSyxJQUFLLElBQUksSUFBSyxJQUFJLElBQUssTUFBTSxJQUFLLFVBQVUsSUFBSyxLQUFLLElBQUssVUFBVSxJQUFLLE9BQU8sSUFBSyxRQUFRLElBQUssT0FBTyxJQUFLLElBQUksSUFBSyxHQUFHLElBQUssTUFBTSxJQUFLLEtBQUssSUFBSyxHQUFHLElBQUssR0FBRyxJQUFLLEtBQUssSUFBSyxPQUFPLElBQUssS0FBSyxJQUFLLElBQUksSUFBSyxNQUFNLElBQUssUUFBUSxJQUFLLE9BQU8sSUFBSyxNQUFNLElBQUssTUFBTSxJQUFLLFNBQVMsSUFBSyxTQUFTLEdBQUcsRUFDenNCLEdBQVksQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFLLElBQUksSUFBSyxJQUFJLElBQUssUUFBUSxJQUFLLE9BQU8sSUFBSyxRQUFRLElBQUssVUFBVSxJQUFLLE9BQU8sSUFBSyxTQUFTLElBQUssU0FBUyxJQUFLLFNBQVMsSUFBSyxTQUFTLElBQUssSUFBSSxHQUFHLEVBQ3pMLEdBQWdCLENBQUMsVUFBVSxLQUFLLElBQUksR0FBRyxFQUN2QyxHQUFTLEdBQVMsWUFBWSxDQUNsQyxRQUFTLEdBQ1QsT0FBUSx3dmRBQ1IsVUFBVyxpL3JCQUNYLEtBQU0sNDlaQUNOLFVBQVcscThGQUNYLFFBQVMsSUFDVCxRQUFTLEdBQ1QsVUFBVyxDQUNULENBQUMsVUFBVyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQ3ZDLENBQUMsUUFBUyxJQUFJLEVBQUUsR0FBRyxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxZQUFZLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxhQUFhLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLE9BQU8sR0FBRyxHQUFHLElBQUksSUFBSSxXQUFXLEVBQzlYLENBQUMsV0FBWSxHQUFHLElBQUksR0FBRyxxQkFBcUIsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksSUFBSSxrQkFBa0IsRUFDdkYsQ0FBQyxXQUFZLEdBQUcsSUFBSSxHQUFHLG1CQUFtQixHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsQ0FDaEYsRUFDQSxZQUFhLENBQUMsRUFBVyxFQUN6QixhQUFjLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUN4QixnQkFBaUIsR0FDakIsVUFBVyxxaGZBQ1gsV0FBWSxDQUFDLEdBQWEsR0FBZSxHQUFLLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBaUIsSUFBSSxHQUFnQiw2UEFBOFAsSUFBSyxHQUFHLEVBQUcsSUFBSSxHQUFnQixrQ0FBbUMsR0FBSSxHQUFHLENBQUMsRUFDdmMsU0FBVSxDQUFDLE9BQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxpQkFBbUIsQ0FBQyxFQUFFLEdBQUcsRUFBRSxnQkFBa0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUM5RSxTQUFVLENBQUMsSUFBSyxFQUFHLEdBQUksS0FBSyxFQUM1QixtQkFBb0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQ3pELFlBQWEsQ0FBQyxDQUFDLEtBQU0sSUFBSyxJQUFLLENBQUMsSUFBVSxHQUFnQixJQUFVLEVBQUUsRUFBRSxDQUFDLEtBQU0sSUFBSyxJQUFLLENBQUMsSUFBVSxHQUFVLElBQVUsRUFBRSxFQUFFLENBQUMsS0FBTSxHQUFJLElBQUssQ0FBQyxJQUFVLEdBQWMsSUFBVSxFQUFFLENBQUMsRUFDbEwsVUFBVyxLQUNiLENBQUMsRUNwRkQsU0FBUyxFQUFLLENBQUMsRUFBTyxDQUNsQixJQUFJLEVBQU8sT0FBTyxLQUFLLENBQUssRUFBRSxLQUFLLEVBQUUsRUFDakMsRUFBUSxLQUFLLEtBQUssQ0FBSSxFQUMxQixHQUFJLEVBQ0EsRUFBTyxFQUFLLFFBQVEsTUFBTyxFQUFFLEVBQ2pDLE1BQU8sSUFBSSxFQUFRLE1BQVEsS0FBSyxFQUFLLFFBQVEsV0FBWSxNQUFNLEtBRW5FLFNBQVMsRUFBVyxDQUFDLEVBQVMsQ0FDMUIsSUFBSSxFQUFRLE9BQU8sT0FBTyxJQUFJLEVBQUcsRUFBTyxPQUFPLE9BQU8sSUFBSSxFQUMxRCxRQUFXLFdBQVcsRUFBUyxDQUMzQixFQUFNLEVBQU0sSUFBTSxHQUNsQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUM5QixFQUFLLEVBQU0sSUFBTSxHQUV6QixJQUFJLEVBQVMsR0FBTSxDQUFLLEVBQUksR0FBTSxDQUFJLEVBQUksS0FDMUMsTUFBTyxDQUFDLElBQUksT0FBTyxJQUFNLENBQU0sRUFBRyxJQUFJLE9BQU8sQ0FBTSxDQUFDLEVBTXhELFNBQVMsRUFBZ0IsQ0FBQyxFQUFNLENBQzVCLElBQUksRUFBVSxFQUFLLElBQUksWUFBWSxHQUFLLFNBQVcsQ0FBRSxNQUFPLENBQUUsRUFBSSxDQUFDLEdBQzlELEVBQVUsR0FBUyxFQUFRLE1BQU0sS0FBSyxRQUFRLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBSSxDQUFDLE9BQVEsTUFBTSxFQUFJLEdBQVksQ0FBTyxFQUMxRyxNQUFPLENBQUMsSUFBWSxDQUNoQixJQUFJLEVBQVEsRUFBUSxZQUFZLENBQUssRUFDckMsT0FBTyxHQUFTLEVBQVEsU0FBVyxDQUFFLEtBQU0sRUFBUSxFQUFNLEtBQU8sRUFBUSxJQUFLLFVBQVMsVUFBUyxFQUFJLE1Bc0IzRyxTQUFTLEVBQU8sQ0FBQyxFQUFPLEVBQVEsQ0FDNUIsTUFBTyxDQUFDLElBQVksQ0FDaEIsUUFBUyxFQUFNLEVBQVcsRUFBUSxLQUFLLEVBQUUsYUFBYSxFQUFRLElBQUssRUFBRSxFQUFHLEVBQUssRUFBTSxFQUFJLE9BQVEsQ0FDM0YsR0FBSSxFQUFNLFFBQVEsRUFBSSxJQUFJLEVBQUksR0FDMUIsT0FBTyxLQUNYLEdBQUksRUFBSSxLQUFLLE1BQ1QsTUFFUixPQUFPLEVBQU8sQ0FBTyxHQVc3QixTQUFTLEVBQUcsQ0FBQyxFQUFPLENBQUUsT0FBTyxFQUFNLFVBQVUsS0FBSyxLQUdsRCxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQU8sQ0FDL0IsSUFBSSxFQUNKLElBQU0sVUFBVyxFQUNiLEVBQVcsR0FBUyxFQUFPLElBQU0sSUFBSyxFQUFTLEVBQU8sRUFBTyxPQUFTLElBQU0sSUFDaEYsSUFBSyxJQUFhLEVBQ2QsT0FBTyxFQUNYLE9BQU8sSUFBSSxPQUFPLEdBQUcsRUFBVyxJQUFNLFFBQVEsS0FBVSxFQUFTLElBQU0sTUFBTyxFQUFLLEVBQUssU0FBVyxNQUFRLElBQVksT0FBSSxFQUFNLEVBQUssV0FBYSxJQUFNLEVBQUcsRUFZaEssU0FBUyxFQUFvQixDQUFDLEVBQU8sRUFBTSxFQUFNLEVBQUksQ0FDakQsSUFBTSxRQUFTLEVBQU0sVUFBVyxFQUFVLEVBQU8sRUFBSyxLQUFNLEVBQVEsRUFBSyxFQUFLLEtBQzlFLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBTSxjQUFjLEtBQVMsQ0FDaEUsR0FBSSxHQUFTLEdBQVEsR0FBUSxHQUN6QixFQUFNLFNBQVMsRUFBTSxLQUFPLEVBQVMsRUFBTSxLQUFPLENBQUssR0FBSyxFQUFNLFNBQVMsRUFBTSxDQUFFLEVBQ25GLE1BQU8sQ0FBRSxPQUFNLEVBQ25CLE1BQU8sQ0FDSCxRQUFTLENBQUUsS0FBTSxFQUFNLEtBQU8sRUFBUyxHQUFJLEdBQU0sRUFBSyxLQUFPLEVBQU0sR0FBSyxFQUFNLEtBQU8sRUFBTyxPQUFRLENBQUssRUFDekcsTUFBTyxFQUFnQixPQUFPLEVBQU0sS0FBTyxFQUFVLEVBQUssTUFBTSxDQUNwRSxFQUNILENBQUMsRUFBRyxDQUFFLGVBQWdCLEdBQU0sVUFBVyxnQkFBaUIsQ0FBQyxFQUc5RCxTQUFTLEVBQVEsQ0FBQyxFQUFRLENBQ3RCLElBQUssTUFBTSxRQUFRLENBQU0sRUFDckIsT0FBTyxFQUNYLElBQUksRUFBUSxHQUFZLElBQUksQ0FBTSxFQUNsQyxJQUFLLEVBQ0QsR0FBWSxJQUFJLEVBQVEsRUFBUSxHQUFpQixDQUFNLENBQUMsRUFDNUQsT0FBTyxFQWtNWCxTQUFTLEVBQVMsQ0FBQyxFQUFHLEVBQUcsQ0FDckIsT0FBTyxFQUFJLEVBQUksRUFBSSxJQUFNLEVBQUksRUFBSSxFQUVyQyxTQUFTLEVBQW1CLENBQUMsRUFBTSxFQUFNLEVBQVEsRUFBTSxFQUFPLEVBQVMsQ0FDbkUsSUFBSSxFQUFNLEVBQUssZUFBaUIsRUFBVSxJQUFLLEVBQU8sRUFBSyxFQUFTLEdBQ2hFLEVBQU8sTUFBTyxFQUFRLEVBQ3RCLEVBQVksRUFBSyxLQUFPLEVBQU0sS0FBTSxFQUFhLEVBQU0sTUFBUSxFQUFLLE1BQ3BFLEVBQVksRUFBSyxNQUFRLEVBQUssS0FBTSxFQUFhLEVBQUssT0FBUyxFQUFLLElBQ3hFLEdBQUksR0FBUSxFQUFZLEtBQUssSUFBSSxFQUFXLENBQVUsRUFDbEQsRUFBTyxZQUNELEdBQVEsRUFBYSxLQUFLLElBQUksRUFBVyxDQUFTLEVBQ3hELEVBQU8sR0FDWCxHQUFJLElBQWMsRUFBTyxFQUFZLEdBQ2pDLEVBQVMsS0FBSyxJQUFJLEVBQU0sSUFBSyxLQUFLLElBQUksRUFBTyxJQUFLLEVBQU0sT0FBUyxDQUFVLENBQUMsRUFBSSxFQUFLLElBQ3JGLEVBQVcsS0FBSyxJQUFJLElBQXNCLEVBQU8sRUFBWSxDQUFVLE1BRXRFLENBQ0QsRUFBUyxHQUNULEVBQVcsS0FBSyxJQUFJLEtBQXVCLEVBQU0sRUFBSyxNQUFRLEVBQU0sTUFBUSxFQUFLLE1BQVEsRUFBb0IsRUFDN0csSUFBSSxFQUFhLEVBQU0sT0FBUyxFQUFLLE9BQ3JDLEdBQUksR0FBYyxHQUFjLEVBQWEsRUFBSyxJQUM5QyxFQUFTLEVBQU8sT0FBUyxFQUFLLFFBRzlCLEdBQU8sU0FDUCxFQUFTLEVBQUssT0FBUyxFQUFPLElBR3RDLElBQUksR0FBVSxFQUFLLE9BQVMsRUFBSyxLQUFPLEVBQVEsYUFDNUMsR0FBVSxFQUFLLE1BQVEsRUFBSyxNQUFRLEVBQVEsWUFDaEQsTUFBTyxDQUNILE1BQU8sR0FBRyxNQUFTLEVBQVMsbUJBQXdCLEVBQVcsTUFDL0QsTUFBTyxzQkFBd0IsRUFBVSxFQUFNLGNBQWdCLGVBQWtCLEVBQU8sT0FBUyxRQUNyRyxFQUdKLFNBQVMsRUFBYSxDQUFDLEVBQVEsQ0FDM0IsSUFBSSxFQUFVLEVBQU8sYUFBYSxNQUFNLEVBQ3hDLEdBQUksRUFBTyxNQUNQLEVBQVEsS0FBSyxDQUNULE1BQU0sQ0FBQyxFQUFZLENBQ2YsSUFBSSxFQUFPLFNBQVMsY0FBYyxLQUFLLEVBRXZDLEdBREEsRUFBSyxVQUFVLElBQUksbUJBQW1CLEVBQ2xDLEVBQVcsS0FDWCxFQUFLLFVBQVUsSUFBSSxHQUFHLEVBQVcsS0FBSyxNQUFNLE1BQU0sRUFBRSxJQUFJLEtBQU8scUJBQXVCLENBQUcsQ0FBQyxFQUU5RixPQURBLEVBQUssYUFBYSxjQUFlLE1BQU0sRUFDaEMsR0FFWCxTQUFVLEVBQ2QsQ0FBQyxFQStCTCxPQTlCQSxFQUFRLEtBQUssQ0FDVCxNQUFNLENBQUMsRUFBWSxFQUFJLEVBQUksRUFBTyxDQUM5QixJQUFJLEVBQVcsU0FBUyxjQUFjLE1BQU0sRUFDNUMsRUFBUyxVQUFZLHFCQUNyQixJQUFJLEVBQVEsRUFBVyxjQUFnQixFQUFXLE1BQU8sRUFBTSxFQUMvRCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sUUFBUyxDQUMvQixJQUFJLEVBQU8sRUFBTSxLQUFNLEVBQUssRUFBTSxLQUNsQyxHQUFJLEVBQU8sRUFDUCxFQUFTLFlBQVksU0FBUyxlQUFlLEVBQU0sTUFBTSxFQUFLLENBQUksQ0FBQyxDQUFDLEVBQ3hFLElBQUksRUFBTyxFQUFTLFlBQVksU0FBUyxjQUFjLE1BQU0sQ0FBQyxFQUM5RCxFQUFLLFlBQVksU0FBUyxlQUFlLEVBQU0sTUFBTSxFQUFNLENBQUUsQ0FBQyxDQUFDLEVBQy9ELEVBQUssVUFBWSwyQkFDakIsRUFBTSxFQUVWLEdBQUksRUFBTSxFQUFNLE9BQ1osRUFBUyxZQUFZLFNBQVMsZUFBZSxFQUFNLE1BQU0sQ0FBRyxDQUFDLENBQUMsRUFDbEUsT0FBTyxHQUVYLFNBQVUsRUFDZCxFQUFHLENBQ0MsTUFBTSxDQUFDLEVBQVksQ0FDZixJQUFLLEVBQVcsT0FDWixPQUFPLEtBQ1gsSUFBSSxFQUFZLFNBQVMsY0FBYyxNQUFNLEVBRzdDLE9BRkEsRUFBVSxVQUFZLHNCQUN0QixFQUFVLFlBQWMsRUFBVyxPQUM1QixHQUVYLFNBQVUsRUFDZCxDQUFDLEVBQ00sRUFBUSxLQUFLLENBQUMsRUFBRyxJQUFNLEVBQUUsU0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEtBQUssRUFBRSxNQUFNLEVBRTVFLFNBQVMsRUFBbUIsQ0FBQyxFQUFPLEVBQVUsRUFBSyxDQUMvQyxHQUFJLEdBQVMsRUFDVCxNQUFPLENBQUUsS0FBTSxFQUFHLEdBQUksQ0FBTSxFQUNoQyxHQUFJLEVBQVcsRUFDWCxFQUFXLEVBQ2YsR0FBSSxHQUFhLEdBQVMsRUFBSSxDQUMxQixJQUFJLEVBQU0sS0FBSyxNQUFNLEVBQVcsQ0FBRyxFQUNuQyxNQUFPLENBQUUsS0FBTSxFQUFNLEVBQUssSUFBSyxFQUFNLEdBQUssQ0FBSSxFQUVsRCxJQUFJLEVBQU0sS0FBSyxPQUFPLEVBQVEsR0FBWSxDQUFHLEVBQzdDLE1BQU8sQ0FBRSxLQUFNLEdBQVMsRUFBTSxHQUFLLEVBQUssR0FBSSxFQUFRLEVBQU0sQ0FBSSxFQXVPbEUsU0FBUyxFQUFpQixDQUFDLEVBQVksRUFBaUIsQ0FDcEQsTUFBTyxDQUFDLElBQVMsSUFBSSxHQUFrQixFQUFNLEVBQVksQ0FBZSxFQUU1RSxTQUFTLEVBQWMsQ0FBQyxFQUFXLEVBQVMsQ0FDeEMsSUFBSSxFQUFTLEVBQVUsc0JBQXNCLEVBQ3pDLEVBQU8sRUFBUSxzQkFBc0IsRUFDckMsRUFBUyxFQUFPLE9BQVMsRUFBVSxhQUN2QyxHQUFJLEVBQUssSUFBTSxFQUFPLElBQ2xCLEVBQVUsWUFBYyxFQUFPLElBQU0sRUFBSyxLQUFPLFVBQzVDLEVBQUssT0FBUyxFQUFPLE9BQzFCLEVBQVUsWUFBYyxFQUFLLE9BQVMsRUFBTyxRQUFVLEVBSy9ELFNBQVMsRUFBSyxDQUFDLEVBQVEsQ0FDbkIsT0FBUSxFQUFPLE9BQVMsR0FBSyxLQUFPLEVBQU8sTUFBUSxHQUFLLElBQU0sRUFBTyxLQUFPLEVBQUksSUFDM0UsRUFBTyxLQUFPLEVBQUksR0FFM0IsU0FBUyxFQUFXLENBQUMsRUFBUSxFQUFPLENBQ2hDLElBQUksRUFBVSxDQUFDLEVBQ1gsRUFBVyxLQUNYLEVBQVksQ0FBQyxJQUFXLENBQ3hCLEVBQVEsS0FBSyxDQUFNLEVBQ25CLElBQU0sV0FBWSxFQUFPLFdBQ3pCLEdBQUksRUFBUyxDQUNULElBQUssRUFDRCxFQUFXLENBQUMsRUFDaEIsSUFBSSxTQUFjLEdBQVcsU0FBVyxFQUFVLEVBQVEsS0FDMUQsSUFBSyxFQUFTLEtBQUssS0FBSyxFQUFFLE1BQVEsQ0FBSSxFQUNsQyxFQUFTLFlBQVksR0FBVyxTQUFXLENBQUUsTUFBSyxFQUFJLENBQU8sSUFHckUsRUFBTyxFQUFNLE1BQU0sRUFBZ0IsRUFDdkMsUUFBUyxLQUFLLEVBQ1YsR0FBSSxFQUFFLFVBQVUsRUFBRyxDQUNmLElBQUksRUFBVyxFQUFFLE9BQU8sU0FDeEIsR0FBSSxFQUFFLE9BQU8sU0FBVyxHQUNwQixRQUFTLEtBQVUsRUFBRSxPQUFPLFFBQ3hCLEVBQVUsSUFBSSxHQUFPLEVBQVEsRUFBRSxPQUFRLEVBQVcsRUFBUyxDQUFNLEVBQUksQ0FBQyxFQUFHLElBQU0sRUFBUSxNQUFNLENBQUMsTUFHakcsQ0FDRCxJQUFJLEVBQVUsRUFBTSxTQUFTLEVBQUUsS0FBTSxFQUFFLEVBQUUsRUFBRyxFQUN4QyxFQUFVLEVBQUssYUFBZSxJQUFJLEdBQWMsQ0FBTyxFQUFJLElBQUksR0FBYSxDQUFPLEVBQ3ZGLFFBQVMsS0FBVSxFQUFFLE9BQU8sUUFDeEIsR0FBSSxFQUFRLEVBQVEsTUFBTSxFQUFPLEtBQUssRUFBRyxDQUNyQyxJQUFJLEdBQVcsRUFBTyxhQUFlLEVBQU0sUUFBVSxFQUFXLEVBQVMsRUFBUSxFQUFNLE9BQU8sRUFBSSxDQUFDLEVBQ25HLEVBQVUsSUFBSSxHQUFPLEVBQVEsRUFBRSxPQUFRLEVBQVMsRUFBTSxPQUFTLEVBQU8sT0FBUyxFQUFFLENBQUMsSUFJdEcsR0FBSSxFQUFVLENBQ1YsSUFBSSxFQUFlLE9BQU8sT0FBTyxJQUFJLEVBQUcsRUFBTSxFQUMxQyxFQUFNLENBQUMsRUFBRyxJQUFNLENBQUUsSUFBSSxFQUFJLEVBQUksUUFBUyxFQUFLLEVBQUUsUUFBVSxNQUFRLElBQVksT0FBSSxFQUFLLE9BQVMsRUFBSyxFQUFFLFFBQVUsTUFBUSxJQUFZLE9BQUksRUFBSyxPQUFTLEVBQUUsS0FBTyxFQUFFLEtBQU8sR0FBSyxJQUNoTCxRQUFTLEtBQUssRUFBUyxLQUFLLENBQUcsRUFDM0IsR0FBTyxJQUNQLEVBQWEsRUFBRSxNQUFRLEVBRTNCLFFBQVMsS0FBVSxFQUFTLENBQ3hCLElBQU0sV0FBWSxFQUFPLFdBQ3pCLEdBQUksRUFDQSxFQUFPLE9BQVMsRUFBYSxPQUFPLEdBQVcsU0FBVyxFQUFVLEVBQVEsT0FHeEYsSUFBSSxFQUFTLENBQUMsRUFBRyxFQUFPLEtBQ3BCLEVBQVUsRUFBSyxtQkFDbkIsUUFBUyxLQUFPLEVBQVEsS0FBSyxDQUFDLEVBQUcsSUFBTyxFQUFFLE1BQVEsRUFBRSxPQUFVLEVBQVEsRUFBRSxXQUFZLEVBQUUsVUFBVSxDQUFDLEVBQUcsQ0FDaEcsSUFBSSxFQUFNLEVBQUksV0FDZCxJQUFLLEdBQVEsRUFBSyxPQUFTLEVBQUksT0FBUyxFQUFLLFFBQVUsRUFBSSxRQUN0RCxFQUFLLE1BQVEsTUFBUSxFQUFJLE1BQVEsTUFBUSxFQUFLLE1BQVEsRUFBSSxNQUMzRCxFQUFLLE9BQVMsRUFBSSxPQUFTLEVBQUssT0FBUyxFQUFJLE1BQzdDLEVBQU8sS0FBSyxDQUFHLFVBQ1YsR0FBTSxFQUFJLFVBQVUsRUFBSSxHQUFNLENBQUksRUFDdkMsRUFBTyxFQUFPLE9BQVMsR0FBSyxFQUNoQyxFQUFPLEVBQUksV0FFZixPQUFPLEVBOEVYLFNBQVMsRUFBVyxDQUFDLEVBQUcsRUFBRyxDQUN2QixHQUFJLEdBQUssRUFDTCxNQUFPLEdBQ1gsUUFBUyxFQUFLLEVBQUcsRUFBSyxJQUFLLENBQ3ZCLE1BQU8sRUFBSyxFQUFFLFNBQVcsRUFBRSxHQUFJLFVBQzNCLElBQ0osTUFBTyxFQUFLLEVBQUUsU0FBVyxFQUFFLEdBQUksVUFDM0IsSUFDSixJQUFJLEVBQU8sR0FBTSxFQUFFLE9BQVEsRUFBTyxHQUFNLEVBQUUsT0FDMUMsR0FBSSxHQUFRLEVBQ1IsT0FBTyxHQUFRLEVBQ25CLEdBQUksRUFBRSxLQUFNLFFBQVUsRUFBRSxLQUFNLE9BQzFCLE1BQU8sSUFPbkIsU0FBUyxFQUFTLENBQUMsRUFBSSxFQUFVLENBQzdCLElBQUksRUFBUyxDQUNULG9CQUFxQixPQUNyQixnQkFBaUIsVUFDakIsZ0JBQWlCLENBQ3JCLEVBQ0EsR0FBSSxFQUFXLEdBQ1gsRUFBTyx5QkFBMkIsRUFBSyxJQUFNLEVBQ2pELE9BQU8sRUFHWCxTQUFTLEVBQWEsQ0FBQyxFQUFJLEVBQU0sQ0FDN0IsR0FBSSxFQUFHLFlBQVksZ0JBQWdCLEVBQUcsQ0FDbEMsSUFBSSxFQUFhLEVBQUcsV0FBVyxFQUFnQixFQUMvQyxHQUFJLEdBQWMsRUFBSyxxQkFBcUIsQ0FBVSxFQUNsRCxNQUFPLElBRWYsSUFBSSxFQUFTLEVBQUcsWUFBWSxZQUFZLEVBQ3hDLE9BQU8sR0FBVSxFQUFLLGlCQUFtQixFQUNuQyxFQUFTLEVBQ0wsRUFBRyxZQUFZLGlCQUFpQixFQUFJLEVBQ2hDLEVBQUcsVUFBWSxFQUNYLEVBQUcsV0FBYSxHQUFzQyxFQTZFNUUsU0FBUyxFQUFVLENBQUMsRUFBVSxFQUFPLEVBQU0sRUFBSSxDQUMzQyxJQUFLLEVBQ0QsTUFBTyxHQUNYLElBQUksRUFBTyxFQUFNLFNBQVMsRUFBTSxDQUFFLEVBQ2xDLGNBQWMsR0FBWSxXQUFhLEVBQVMsRUFBTSxFQUFNLEVBQUksQ0FBSyxFQUFJLEdBQWEsRUFBVSxFQUFJLEVBQUUsS0FBSyxDQUFJLEVBY25ILFNBQVMsRUFBZSxDQUFDLEVBQU0sRUFBUSxDQUNuQyxNQUFNLEVBQVEsRUFBTyxXQUFXLE9BQVMsRUFBTyxXQUFXLE1BQzNELElBQUksRUFBUyxFQUFLLE1BQU0sTUFBTSxFQUFlLEVBQUUsT0FBTyxLQUFLLEtBQUssRUFBRSxRQUFVLEVBQU8sTUFBTSxFQUN6RixLQUFNLGFBQWtCLElBQ3BCLE1BQU8sR0FDWCxVQUFXLEdBQVMsU0FDaEIsRUFBSyxTQUFTLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQyxFQUFHLEdBQXFCLEVBQUssTUFBTyxFQUFPLEVBQU8sS0FBTSxFQUFPLEVBQUUsQ0FBQyxFQUFHLENBQUUsWUFBYSxHQUFpQixHQUFHLEVBQU8sVUFBVSxDQUFFLENBQUMsQ0FBQyxNQUV4SyxHQUFNLEVBQU0sRUFBTyxXQUFZLEVBQU8sS0FBTSxFQUFPLEVBQUUsRUFDekQsTUFBTyxHQVFYLFNBQVMsRUFBdUIsQ0FBQyxFQUFTLEVBQUssU0FBVSxDQUNyRCxNQUFPLENBQUMsSUFBUyxDQUNiLElBQUksRUFBUyxFQUFLLE1BQU0sTUFBTSxHQUFpQixFQUFLLEVBQ3BELElBQUssSUFBVyxFQUFPLE1BQVEsRUFBTyxLQUFLLFVBQ3ZDLEtBQUssSUFBSSxFQUFJLEVBQU8sS0FBSyxVQUFZLEVBQUssTUFBTSxNQUFNLEVBQWdCLEVBQUUsaUJBQ3hFLE1BQU8sR0FDWCxJQUFJLEVBQU8sRUFBRyxFQUNkLEdBQUksR0FBTSxTQUFXLEVBQVUsR0FBVyxFQUFNLEVBQU8sS0FBSyxPQUFPLEdBQy9ELEVBQU8sS0FBSyxJQUFJLEVBQUcsS0FBSyxNQUFNLEVBQVEsSUFBSSxhQUN0QyxFQUFRLElBQUksY0FBYyxJQUFJLEVBQUUsWUFBWSxFQUFJLENBQUMsRUFDekQsSUFBTSxVQUFXLEVBQU8sS0FBSyxRQUN6QixFQUFXLEVBQU8sS0FBSyxTQUFXLEdBQUssRUFBTyxLQUFLLFNBQVcsR0FBUSxFQUFVLEVBQUksSUFBTSxFQUFVLEVBQUksRUFBUyxFQUNySCxHQUFJLEVBQVcsRUFDWCxFQUFXLEdBQU0sT0FBUyxFQUFJLEVBQVMsVUFDbEMsR0FBWSxFQUNqQixFQUFXLEdBQU0sT0FBUyxFQUFTLEVBQUksRUFFM0MsT0FEQSxFQUFLLFNBQVMsQ0FBRSxRQUFTLEdBQWtCLEdBQUcsQ0FBUSxDQUFFLENBQUMsRUFDbEQsSUFvZGYsU0FBUyxFQUFjLENBQUMsRUFBUSxFQUFPLENBQ25DLE9BQU8sRUFBZ0IsT0FBTyxFQUFPLE9BQU8sS0FBSyxFQUFFLE9BQVMsQ0FBSyxFQUFFLElBQUksS0FBSyxFQUFnQixNQUFNLEVBQUUsS0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBZ0NwSCxTQUFTLEVBQU8sQ0FBQyxFQUFVLENBQ3ZCLElBQUksRUFBVSxHQUFRLE1BQU0sQ0FBUSxFQUNwQyxNQUFPLENBQUMsRUFBUSxFQUFZLEVBQU0sSUFBTyxDQUNyQyxJQUFNLE9BQU0sVUFBVyxFQUFRLFlBQVksRUFBTyxNQUFPLENBQUksRUFDekQsRUFBTyxDQUNQLFFBQVMsQ0FBRSxPQUFNLEtBQUksT0FBUSxFQUFLLEdBQUcsQ0FBSSxDQUFFLEVBQzNDLGVBQWdCLEdBQ2hCLFlBQWEsRUFBYSxDQUFDLEdBQWlCLEdBQUcsQ0FBVSxFQUFHLEVBQVksVUFBVSxHQUFHLGdCQUFnQixDQUFDLEVBQUksTUFDOUcsRUFDQSxHQUFJLEVBQU8sT0FDUCxFQUFLLFVBQVksR0FBZSxFQUFRLENBQUMsRUFDN0MsR0FBSSxFQUFPLEtBQUssS0FBSyxFQUFFLE1BQVEsQ0FBQyxFQUFHLENBQy9CLElBQUksRUFBUyxJQUFJLEdBQWMsRUFBUSxDQUFDLEVBQ3BDLEVBQVUsRUFBSyxRQUFVLENBQUMsR0FBVSxHQUFHLENBQU0sQ0FBQyxFQUNsRCxHQUFJLEVBQU8sTUFBTSxNQUFNLEdBQWMsRUFBSyxJQUFNLE9BQzVDLEVBQVEsS0FBSyxFQUFZLGFBQWEsR0FBRyxDQUFDLEdBQWMsR0FBa0IsR0FBdUIsRUFBUyxDQUFDLENBQUMsRUFFcEgsRUFBTyxTQUFTLEVBQU8sTUFBTSxPQUFPLENBQUksQ0FBQyxHQUdqRCxTQUFTLEVBQVMsQ0FBQyxFQUFLLENBQ3BCLE1BQU8sRUFBRyxRQUFPLGNBQWUsQ0FDNUIsSUFBSSxFQUFTLEVBQU0sTUFBTSxHQUFjLEVBQUssRUFDNUMsSUFBSyxHQUFVLEVBQU0sR0FBSyxFQUFPLFFBQVUsRUFDdkMsTUFBTyxHQUNYLElBQUksRUFBTyxFQUFPLE9BQVMsRUFBSyxFQUFPLEVBQU0sSUFBTSxFQUFPLE9BQU8sS0FBSyxLQUFLLEVBQUUsT0FBUyxFQUFPLENBQUcsRUFNaEcsT0FMQSxFQUFTLEVBQU0sT0FBTyxDQUNsQixVQUFXLEdBQWUsRUFBTyxPQUFRLENBQUksRUFDN0MsUUFBUyxHQUFVLEdBQUcsRUFBTyxLQUFPLElBQUksR0FBYyxFQUFPLE9BQVEsQ0FBSSxDQUFDLEVBQzFFLGVBQWdCLEVBQ3BCLENBQUMsQ0FBQyxFQUNLLElBeURmLFNBQVMsRUFBaUIsQ0FBQyxFQUFVLEVBQVksQ0FDN0MsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUMsRUFBRyxDQUFVLEVBQUcsQ0FBRSxNQUFPLEdBQVEsQ0FBUSxDQUFFLENBQUMsRUF5VnBGLFNBQVMsRUFBYyxDQUFDLEVBQVMsQ0FBQyxFQUFHLENBQ2pDLE1BQU8sQ0FDSCxHQUNBLEdBQ0EsR0FBaUIsR0FBRyxDQUFNLEVBQzFCLEdBQ0EsR0FDQSxFQUNKLEVBaDhESixNQUFNLEVBQWtCLENBTXBCLFdBQVcsQ0FJWCxFQUlBLEVBT0EsRUFRQSxFQUFNLENBQ0YsS0FBSyxNQUFRLEVBQ2IsS0FBSyxJQUFNLEVBQ1gsS0FBSyxTQUFXLEVBQ2hCLEtBQUssS0FBTyxFQUlaLEtBQUssZUFBaUIsQ0FBQyxFQUl2QixLQUFLLGlCQUFtQixHQU01QixXQUFXLENBQUMsRUFBTyxDQUNmLElBQUksRUFBUSxFQUFXLEtBQUssS0FBSyxFQUFFLGFBQWEsS0FBSyxJQUFLLEVBQUUsRUFDNUQsTUFBTyxHQUFTLEVBQU0sUUFBUSxFQUFNLElBQUksRUFBSSxFQUN4QyxFQUFRLEVBQU0sT0FDbEIsT0FBTyxFQUFRLENBQUUsS0FBTSxFQUFNLEtBQU0sR0FBSSxLQUFLLElBQ3hDLEtBQU0sS0FBSyxNQUFNLFNBQVMsRUFBTSxLQUFNLEtBQUssR0FBRyxFQUM5QyxLQUFNLEVBQU0sSUFBSyxFQUFJLEtBTTdCLFdBQVcsQ0FBQyxFQUFNLENBQ2QsSUFBSSxFQUFPLEtBQUssTUFBTSxJQUFJLE9BQU8sS0FBSyxHQUFHLEVBQ3JDLEVBQVEsS0FBSyxJQUFJLEVBQUssS0FBTSxLQUFLLElBQU0sR0FBRyxFQUMxQyxFQUFNLEVBQUssS0FBSyxNQUFNLEVBQVEsRUFBSyxLQUFNLEtBQUssSUFBTSxFQUFLLElBQUksRUFDN0QsRUFBUSxFQUFJLE9BQU8sR0FBYSxFQUFNLEVBQUssQ0FBQyxFQUNoRCxPQUFPLEVBQVEsRUFBSSxLQUFPLENBQUUsS0FBTSxFQUFRLEVBQU8sR0FBSSxLQUFLLElBQUssS0FBTSxFQUFJLE1BQU0sQ0FBSyxDQUFFLEtBTXRGLFFBQU8sRUFBRyxDQUFFLE9BQU8sS0FBSyxnQkFBa0IsS0FjOUMsZ0JBQWdCLENBQUMsRUFBTSxFQUFVLEVBQVMsQ0FDdEMsR0FBSSxHQUFRLFNBQVcsS0FBSyxnQkFFeEIsR0FEQSxLQUFLLGVBQWUsS0FBSyxDQUFRLEVBQzdCLEdBQVcsRUFBUSxZQUNuQixLQUFLLGlCQUFtQixJQUd4QyxDQTREQSxNQUFNLEVBQU8sQ0FDVCxXQUFXLENBQUMsRUFBWSxFQUFRLEVBQU8sRUFBTyxDQUMxQyxLQUFLLFdBQWEsRUFDbEIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxNQUFRLEVBQ2IsS0FBSyxNQUFRLEVBRXJCLENBZ0JBLElBQU0sR0FBZ0MsR0FBVyxPQUFPLEVBa0JsRCxHQUEyQixJQUFJLFFBUy9CLEdBQXFDLEVBQVksT0FBTyxFQUN4RCxHQUFxQyxFQUFZLE9BQU8sRUFLOUQsTUFBTSxFQUFhLENBQ2YsV0FBVyxDQUFDLEVBQVMsQ0FDakIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxNQUFRLENBQUMsRUFDZCxLQUFLLE9BQVMsQ0FBQyxFQUdmLEtBQUssSUFBTSxDQUFDLEVBQ1osS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxPQUFTLENBQUMsRUFDZixLQUFLLE1BQVEsRUFDYixLQUFLLFFBQVUsQ0FBQyxFQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVEsUUFBUyxDQUNqQyxJQUFJLEVBQU8sR0FBWSxFQUFTLENBQUMsRUFBRyxFQUFPLEdBQWMsQ0FBSSxFQUM3RCxLQUFLLE1BQU0sS0FBSyxDQUFJLEVBQ3BCLElBQUksRUFBTyxFQUFRLE1BQU0sRUFBRyxFQUFJLENBQUksRUFBRyxFQUFRLEVBQUssWUFBWSxFQUNoRSxLQUFLLE9BQU8sS0FBSyxHQUFZLEdBQVMsRUFBTyxFQUFLLFlBQVksRUFBSSxFQUFPLENBQUMsQ0FBQyxFQUMzRSxHQUFLLEVBRVQsS0FBSyxPQUFTLEVBQVEsUUFBVSxLQUFLLE1BQU0sT0FFL0MsR0FBRyxDQUFDLEVBQU8sRUFBUyxDQUdoQixPQUZBLEtBQUssTUFBUSxFQUNiLEtBQUssUUFBVSxFQUNSLEtBU1gsS0FBSyxDQUFDLEVBQU0sQ0FDUixHQUFJLEtBQUssUUFBUSxRQUFVLEVBQ3ZCLE9BQU8sS0FBSyxJQUFJLEtBQTRCLENBQUMsQ0FBQyxFQUNsRCxHQUFJLEVBQUssT0FBUyxLQUFLLFFBQVEsT0FDM0IsT0FBTyxLQUNYLElBQU0sUUFBTyxTQUFRLE1BQUssVUFBUyxVQUFXLEtBRzlDLEdBQUksRUFBTSxRQUFVLEVBQUcsQ0FDbkIsSUFBSSxFQUFRLEdBQVksRUFBTSxDQUFDLEVBQUcsRUFBWSxHQUFjLENBQUssRUFDN0QsRUFBUSxHQUFhLEVBQUssT0FBUyxFQUFJLEtBQzNDLEdBQUksR0FBUyxFQUFNLFlBQ1YsR0FBUyxFQUFPLEdBQ3JCLEdBQVMsU0FFVCxRQUFPLEtBQ1gsT0FBTyxLQUFLLElBQUksRUFBTyxDQUFDLEVBQUcsQ0FBUyxDQUFDLEVBRXpDLElBQUksRUFBUyxFQUFLLFFBQVEsS0FBSyxPQUFPLEVBQ3RDLEdBQUksR0FBVSxFQUNWLE9BQU8sS0FBSyxJQUFJLEVBQUssUUFBVSxLQUFLLFFBQVEsT0FBUyxFQUFJLEtBQTRCLENBQUMsRUFBRyxLQUFLLFFBQVEsTUFBTSxDQUFDLEVBQ2pILElBQUksRUFBTSxFQUFNLE9BQVEsRUFBUSxFQUNoQyxHQUFJLEVBQVMsRUFBRyxDQUNaLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxJQUFJLEVBQUssT0FBUSxHQUFHLEVBQUcsRUFBSSxHQUFLLEVBQVEsR0FBTSxDQUNuRSxJQUFJLEVBQU8sR0FBWSxFQUFNLENBQUMsRUFDOUIsR0FBSSxHQUFRLEVBQU0sSUFBVSxHQUFRLEVBQU8sR0FDdkMsRUFBSSxLQUFXLEVBQ25CLEdBQUssR0FBYyxDQUFJLEVBRzNCLEdBQUksRUFBUSxFQUNSLE9BQU8sS0FJZixJQUFJLEVBQVksRUFJWixFQUFXLEVBQUcsRUFBZSxHQUU3QixFQUFhLEVBQUcsRUFBZ0IsR0FBSSxFQUFjLEdBQ2xELEVBQVcsUUFBUSxLQUFLLENBQUksRUFBRyxFQUFlLEdBRWxELFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxJQUFJLEVBQUssT0FBUSxHQUFHLEVBQUcsRUFBVyxFQUFvQixFQUFJLEdBQUssRUFBVyxHQUFNLENBQ3JHLElBQUksRUFBTyxHQUFZLEVBQU0sQ0FBQyxFQUM5QixHQUFJLEVBQVMsRUFBRyxDQUNaLEdBQUksRUFBWSxHQUFPLEdBQVEsRUFBTSxHQUNqQyxFQUFRLEtBQWUsRUFDM0IsR0FBSSxFQUFhLEVBQ2IsR0FBSSxHQUFRLEVBQU0sSUFBZSxHQUFRLEVBQU8sR0FBYSxDQUN6RCxHQUFJLEdBQWMsRUFDZCxFQUFnQixFQUNwQixFQUFjLEVBQUksRUFDbEIsUUFHQSxHQUFhLEVBSXpCLElBQUksRUFBSSxFQUFPLEVBQU8sSUFDZixHQUFRLElBQU0sR0FBUSxJQUFNLEdBQVEsSUFBTSxHQUFRLElBQU0sRUFBbUIsR0FBUSxJQUFNLEdBQVEsR0FBSyxFQUFtQixHQUN4SCxFQUFLLEdBQWMsQ0FBSSxJQUFNLEVBQUcsWUFBWSxFQUFJLEVBQW1CLEdBQU0sRUFBRyxZQUFZLEVBQUksRUFBbUIsRUFDdkgsSUFBSyxHQUFLLEdBQVEsR0FBb0IsR0FBWSxHQUFZLEdBQXNCLEdBQVEsR0FDeEYsR0FBSSxFQUFNLElBQWEsR0FBUyxFQUFPLElBQWEsSUFBUyxFQUFlLElBQ3hFLEVBQU8sS0FBYyxVQUNoQixFQUFPLE9BQ1osRUFBZSxHQUV2QixFQUFXLEVBQ1gsR0FBSyxHQUFjLENBQUksRUFFM0IsR0FBSSxHQUFZLEdBQU8sRUFBTyxJQUFNLEdBQUssRUFDckMsT0FBTyxLQUFLLE9BQU8sTUFBNkIsRUFBZSxLQUE4QixHQUFJLEVBQVEsQ0FBSSxFQUNqSCxHQUFJLEdBQWMsR0FBTyxHQUFpQixFQUN0QyxPQUFPLEtBQUssSUFBSSxLQUE4QixFQUFLLFFBQVUsR0FBZSxFQUFLLE9BQVMsRUFBSSxNQUE2QixDQUFDLEVBQUcsQ0FBVyxDQUFDLEVBQy9JLEdBQUksRUFBUyxHQUNULE9BQU8sS0FBSyxJQUFJLEtBQThCLEVBQUssT0FBUSxDQUFDLEVBQVEsRUFBUyxLQUFLLFFBQVEsTUFBTSxDQUFDLEVBQ3JHLEdBQUksR0FBYyxFQUNkLE9BQU8sS0FBSyxJQUFJLEtBQTRELEVBQUssT0FBUSxDQUFDLEVBQWUsQ0FBVyxDQUFDLEVBQ3pILEdBQUksR0FBWSxFQUNaLE9BQU8sS0FBSyxPQUFPLE1BQTZCLEVBQWUsS0FBOEIsR0FBSyxNQUM3RixFQUFlLEVBQUksT0FBMEIsRUFBUSxDQUFJLEVBQ2xFLE9BQU8sRUFBTSxRQUFVLEVBQUksS0FDckIsS0FBSyxRQUFRLEVBQUksR0FBSyxLQUE4QixHQUFLLEtBQThCLE1BQXlCLEVBQUssQ0FBSSxFQUVuSSxNQUFNLENBQUMsRUFBTyxFQUFXLEVBQU0sQ0FDM0IsSUFBSSxFQUFTLENBQUMsRUFBRyxFQUFJLEVBQ3JCLFFBQVMsS0FBTyxFQUFXLENBQ3ZCLElBQUksRUFBSyxHQUFPLEtBQUssT0FBUyxHQUFjLEdBQVksRUFBTSxDQUFHLENBQUMsRUFBSSxHQUN0RSxHQUFJLEdBQUssRUFBTyxFQUFJLElBQU0sRUFDdEIsRUFBTyxFQUFJLEdBQUssTUFFaEIsR0FBTyxLQUFPLEVBQ2QsRUFBTyxLQUFPLEVBR3RCLE9BQU8sS0FBSyxJQUFJLEVBQVEsRUFBSyxPQUFRLENBQU0sRUFFbkQsQ0FDQSxNQUFNLEVBQWMsQ0FDaEIsV0FBVyxDQUFDLEVBQVMsQ0FDakIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxNQUFRLEVBQ2IsS0FBSyxPQUFTLEVBQVEsWUFBWSxFQUV0QyxLQUFLLENBQUMsRUFBTSxDQUNSLEdBQUksRUFBSyxPQUFTLEtBQUssUUFBUSxPQUMzQixPQUFPLEtBQ1gsSUFBSSxFQUFRLEVBQUssTUFBTSxFQUFHLEtBQUssUUFBUSxNQUFNLEVBQ3pDLEVBQVEsR0FBUyxLQUFLLFFBQVUsRUFBSSxFQUFNLFlBQVksR0FBSyxLQUFLLE9BQVMsS0FBOEIsS0FDM0csR0FBSSxHQUFTLEtBQ1QsT0FBTyxLQUdYLE9BRkEsS0FBSyxRQUFVLENBQUMsRUFBRyxFQUFNLE1BQU0sRUFDL0IsS0FBSyxNQUFRLEdBQVMsRUFBSyxRQUFVLEtBQUssUUFBUSxPQUFTLEVBQUksTUFDeEQsS0FFZixDQUVBLElBQU0sR0FBZ0MsRUFBTSxPQUFPLENBQy9DLE9BQU8sQ0FBQyxFQUFTLENBQ2IsT0FBTyxHQUFjLEVBQVMsQ0FDMUIsaUJBQWtCLEdBQ2xCLHFCQUFzQixJQUFNLEdBQzVCLHNCQUF1QixJQUN2QixhQUFjLEdBQ2QsU0FBVSxLQUNWLFlBQWEsR0FDYixtQkFBb0IsSUFDcEIsY0FBZSxHQUNmLGFBQWMsSUFBTSxHQUNwQixZQUFhLElBQU0sR0FDbkIsWUFBYSxHQUNiLE1BQU8sR0FDUCxhQUFjLENBQUMsRUFDZixhQUFjLEdBQ2QsYUFBYyxHQUNkLG1CQUFvQixDQUFDLEVBQUcsSUFBTSxFQUFFLE1BQU0sY0FBYyxFQUFFLEtBQUssRUFDM0QsaUJBQWtCLEdBQ2xCLGVBQWdCLEdBQ3BCLEVBQUcsQ0FDQyxjQUFlLENBQUMsRUFBRyxJQUFNLEdBQUssRUFDOUIsWUFBYSxDQUFDLEVBQUcsSUFBTSxHQUFLLEVBQzVCLE1BQU8sQ0FBQyxFQUFHLElBQU0sR0FBSyxFQUN0QixhQUFjLENBQUMsRUFBRyxJQUFNLEtBQUssR0FBVSxFQUFFLENBQUMsRUFBRyxFQUFFLENBQUMsQ0FBQyxFQUNqRCxZQUFhLENBQUMsRUFBRyxJQUFNLEtBQUssR0FBVSxFQUFFLENBQUMsRUFBRyxFQUFFLENBQUMsQ0FBQyxFQUNoRCxhQUFjLENBQUMsRUFBRyxJQUFNLEVBQUUsT0FBTyxDQUFDLEVBQ2xDLGFBQWMsQ0FBQyxFQUFHLElBQU0sR0FBSyxDQUNqQyxDQUFDLEVBRVQsQ0FBQyxFQStGRCxNQUFNLEVBQWtCLENBQ3BCLFdBQVcsQ0FBQyxFQUFNLEVBQVksRUFBaUIsQ0FDM0MsS0FBSyxLQUFPLEVBQ1osS0FBSyxXQUFhLEVBQ2xCLEtBQUssZ0JBQWtCLEVBQ3ZCLEtBQUssS0FBTyxLQUNaLEtBQUssWUFBYyxLQUNuQixLQUFLLGFBQWUsQ0FDaEIsS0FBTSxJQUFNLEtBQUssWUFBWSxFQUM3QixNQUFPLENBQUMsSUFBUSxLQUFLLFVBQVUsQ0FBRyxFQUNsQyxJQUFLLElBQ1QsRUFDQSxLQUFLLE1BQVEsS0FDYixLQUFLLGFBQWUsR0FDcEIsSUFBSSxFQUFTLEVBQUssTUFBTSxNQUFNLENBQVUsR0FDbEMsVUFBUyxZQUFhLEVBQU8sS0FDL0IsRUFBUyxFQUFLLE1BQU0sTUFBTSxFQUFnQixFQUM5QyxLQUFLLGNBQWdCLEdBQWMsQ0FBTSxFQUN6QyxLQUFLLFlBQWMsRUFBTyxZQUMxQixLQUFLLGFBQWUsRUFBTyxhQUMzQixLQUFLLE1BQVEsR0FBb0IsRUFBUSxPQUFRLEVBQVUsRUFBTyxrQkFBa0IsRUFDcEYsS0FBSyxJQUFNLFNBQVMsY0FBYyxLQUFLLEVBQ3ZDLEtBQUssSUFBSSxVQUFZLDBCQUNyQixLQUFLLG1CQUFtQixFQUFLLEtBQUssRUFDbEMsS0FBSyxJQUFJLGlCQUFpQixZQUFhLENBQUMsSUFBTSxDQUMxQyxJQUFNLFdBQVksRUFBSyxNQUFNLE1BQU0sQ0FBVSxFQUFFLEtBQy9DLFFBQVMsRUFBTSxFQUFFLE9BQVEsRUFBTyxHQUFPLEdBQU8sS0FBSyxJQUFLLEVBQU0sRUFBSSxXQUM5RCxHQUFJLEVBQUksVUFBWSxPQUFTLEVBQVEsVUFBVSxLQUFLLEVBQUksRUFBRSxLQUFPLEVBQU0sR0FBSyxFQUFRLE9BQVEsQ0FDeEYsS0FBSyxnQkFBZ0IsRUFBTSxFQUFRLENBQUMsRUFBTSxHQUFHLEVBQzdDLEVBQUUsZUFBZSxFQUNqQixRQUdYLEVBQ0QsS0FBSyxJQUFJLGlCQUFpQixXQUFZLENBQUMsSUFBTSxDQUN6QyxJQUFJLEVBQVEsRUFBSyxNQUFNLE1BQU0sS0FBSyxXQUFZLEVBQUssRUFDbkQsR0FBSSxHQUFTLEVBQU0sU0FBVyxFQUFLLE1BQU0sTUFBTSxFQUFnQixFQUFFLGFBQzdELEVBQUUsZUFBaUIsRUFBSyxXQUN4QixFQUFLLFNBQVMsQ0FBRSxRQUFTLEdBQXNCLEdBQUcsSUFBSSxDQUFFLENBQUMsRUFDaEUsRUFDRCxLQUFLLFlBQVksRUFBUyxFQUFPLEVBQUUsRUFFdkMsS0FBSyxFQUFHLENBQUUsS0FBSyxVQUFVLEVBQ3pCLFdBQVcsQ0FBQyxFQUFTLEVBQUksQ0FDckIsR0FBSSxLQUFLLEtBQ0wsS0FBSyxLQUFLLE9BQU8sRUFDckIsS0FBSyxLQUFPLEtBQUssSUFBSSxZQUFZLEtBQUssY0FBYyxFQUFTLEVBQUksS0FBSyxLQUFLLENBQUMsRUFDNUUsS0FBSyxLQUFLLGlCQUFpQixTQUFVLElBQU0sQ0FDdkMsR0FBSSxLQUFLLEtBQ0wsS0FBSyxLQUFLLGVBQWUsS0FBSyxZQUFZLEVBQ2pELEVBRUwsTUFBTSxDQUFDLEVBQVEsQ0FDWCxJQUFJLEVBQ0osSUFBSSxFQUFTLEVBQU8sTUFBTSxNQUFNLEtBQUssVUFBVSxFQUMzQyxFQUFZLEVBQU8sV0FBVyxNQUFNLEtBQUssVUFBVSxFQUV2RCxHQURBLEtBQUssbUJBQW1CLEVBQU8sS0FBSyxFQUNoQyxHQUFVLEVBQVcsQ0FDckIsSUFBTSxVQUFTLFdBQVUsWUFBYSxFQUFPLEtBQzdDLElBQUssRUFBVSxNQUFRLEVBQVUsS0FBSyxTQUFXLEVBQzdDLEtBQUssTUFBUSxHQUFvQixFQUFRLE9BQVEsRUFBVSxFQUFPLE1BQU0sTUFBTSxFQUFnQixFQUFFLGtCQUFrQixFQUNsSCxLQUFLLFlBQVksRUFBUyxFQUFPLEVBQUUsRUFHdkMsR0FEQSxLQUFLLFVBQVUsRUFDWCxLQUFjLEVBQUssRUFBVSxRQUFVLE1BQVEsSUFBWSxPQUFTLE9BQUksRUFBRyxVQUMzRSxLQUFLLElBQUksVUFBVSxPQUFPLHFDQUFzQyxDQUFRLEdBR3BGLGtCQUFrQixDQUFDLEVBQU8sQ0FDdEIsSUFBSSxFQUFNLEtBQUssYUFBYSxDQUFLLEVBQ2pDLEdBQUksR0FBTyxLQUFLLGFBQWMsQ0FDMUIsUUFBUyxLQUFLLEtBQUssYUFBYSxNQUFNLEdBQUcsRUFDckMsR0FBSSxFQUNBLEtBQUssSUFBSSxVQUFVLE9BQU8sQ0FBQyxFQUNuQyxRQUFTLEtBQUssRUFBSSxNQUFNLEdBQUcsRUFDdkIsR0FBSSxFQUNBLEtBQUssSUFBSSxVQUFVLElBQUksQ0FBQyxFQUNoQyxLQUFLLGFBQWUsR0FHNUIsVUFBVSxDQUFDLEVBQU8sQ0FFZCxHQURBLEtBQUssTUFBUSxFQUNULEtBQUssS0FDTCxLQUFLLEtBQUssZUFBZSxLQUFLLFlBQVksRUFFbEQsU0FBUyxFQUFHLENBQ1IsSUFBSSxFQUFTLEtBQUssS0FBSyxNQUFNLE1BQU0sS0FBSyxVQUFVLEVBQUcsRUFBTyxFQUFPLEtBQ25FLEdBQUksRUFBSyxTQUFXLElBQU0sRUFBSyxTQUFXLEtBQUssTUFBTSxNQUFRLEVBQUssVUFBWSxLQUFLLE1BQU0sR0FDckYsS0FBSyxNQUFRLEdBQW9CLEVBQUssUUFBUSxPQUFRLEVBQUssU0FBVSxLQUFLLEtBQUssTUFBTSxNQUFNLEVBQWdCLEVBQUUsa0JBQWtCLEVBQy9ILEtBQUssWUFBWSxFQUFLLFFBQVMsRUFBTyxFQUFFLEVBRTVDLEdBQUksS0FBSyxxQkFBcUIsRUFBSyxRQUFRLEVBQUcsQ0FDMUMsS0FBSyxZQUFZLEVBQ2pCLElBQU0sY0FBZSxFQUFLLFFBQVEsRUFBSyxXQUNqQyxRQUFTLEVBQ2YsSUFBSyxFQUNELE9BQ0osSUFBSSxTQUFvQixJQUFTLFNBQVcsU0FBUyxlQUFlLENBQUksRUFBSSxFQUFLLENBQVUsRUFDM0YsSUFBSyxFQUNELE9BQ0osR0FBSSxTQUFVLEVBQ1YsRUFBVyxLQUFLLEtBQU8sQ0FDbkIsR0FBSSxHQUFPLEtBQUssS0FBSyxNQUFNLE1BQU0sS0FBSyxXQUFZLEVBQUssR0FBSyxFQUN4RCxLQUFLLFlBQVksRUFBSyxDQUFVLEVBQ3ZDLEVBQUUsTUFBTSxLQUFLLEdBQWEsS0FBSyxLQUFLLE1BQU8sRUFBRyxpQkFBaUIsQ0FBQyxNQUdqRSxNQUFLLFlBQVksRUFBWSxDQUFVLEdBSW5ELFdBQVcsQ0FBQyxFQUFTLEVBQVksQ0FDN0IsS0FBSyxZQUFZLEVBQ2pCLElBQUksRUFBTyxLQUFLLEtBQU8sU0FBUyxjQUFjLEtBQUssRUFFbkQsR0FEQSxFQUFLLFVBQVksK0JBQ2IsRUFBUSxVQUFZLEtBQ3BCLEVBQUssWUFBWSxDQUFPLEVBQ3hCLEtBQUssWUFBYyxTQUVsQixDQUNELElBQU0sTUFBSyxXQUFZLEVBQ3ZCLEVBQUssWUFBWSxDQUFHLEVBQ3BCLEtBQUssWUFBYyxHQUFXLEtBRWxDLEtBQUssSUFBSSxZQUFZLENBQUksRUFDekIsS0FBSyxLQUFLLGVBQWUsS0FBSyxZQUFZLEVBRTlDLG9CQUFvQixDQUFDLEVBQVUsQ0FDM0IsSUFBSSxFQUFNLEtBQ1YsUUFBUyxFQUFNLEtBQUssS0FBSyxXQUFZLEVBQUksS0FBSyxNQUFNLEtBQU0sRUFBSyxFQUFNLEVBQUksWUFBYSxJQUNsRixHQUFJLEVBQUksVUFBWSxPQUFTLEVBQUksR0FDN0IsWUFFSyxHQUFLLEdBQ1YsSUFBSyxFQUFJLGFBQWEsZUFBZSxFQUNqQyxFQUFJLGFBQWEsZ0JBQWlCLE1BQU0sRUFDeEMsRUFBTSxVQUlOLEVBQUksYUFBYSxlQUFlLEVBQ2hDLEVBQUksZ0JBQWdCLGVBQWUsRUFHL0MsR0FBSSxFQUNBLEdBQWUsS0FBSyxLQUFNLENBQUcsRUFDakMsT0FBTyxFQUVYLFdBQVcsRUFBRyxDQUNWLElBQUksRUFBTSxLQUFLLElBQUksY0FBYyxpQkFBaUIsRUFDbEQsSUFBSyxJQUFRLEtBQUssS0FDZCxPQUFPLEtBQ1gsSUFBSSxFQUFXLEtBQUssSUFBSSxzQkFBc0IsRUFDMUMsRUFBVyxLQUFLLEtBQUssc0JBQXNCLEVBQzNDLEVBQVUsRUFBSSxzQkFBc0IsRUFDcEMsRUFBUSxLQUFLLE1BQ2pCLElBQUssRUFBTyxDQUNSLElBQUksRUFBTSxLQUFLLElBQUksY0FBYyxhQUFlLE9BQ2hELEVBQVEsQ0FBRSxLQUFNLEVBQUcsSUFBSyxFQUFHLE1BQU8sRUFBSSxXQUFZLE9BQVEsRUFBSSxXQUFZLEVBRTlFLEdBQUksRUFBUSxJQUFNLEtBQUssSUFBSSxFQUFNLE9BQVEsRUFBUyxNQUFNLEVBQUksSUFDeEQsRUFBUSxPQUFTLEtBQUssSUFBSSxFQUFNLElBQUssRUFBUyxHQUFHLEVBQUksR0FDckQsT0FBTyxLQUNYLE9BQU8sS0FBSyxLQUFLLE1BQU0sTUFBTSxFQUFnQixFQUFFLGFBQWEsS0FBSyxLQUFNLEVBQVUsRUFBUyxFQUFVLEVBQU8sS0FBSyxHQUFHLEVBRXZILFNBQVMsQ0FBQyxFQUFLLENBQ1gsR0FBSSxLQUFLLEtBQ0wsR0FBSSxFQUFLLENBQ0wsR0FBSSxFQUFJLE1BQ0osS0FBSyxLQUFLLE1BQU0sUUFBVSxFQUFJLE1BQ2xDLEtBQUssS0FBSyxVQUFZLGlDQUFtQyxFQUFJLE9BQVMsUUFHdEUsTUFBSyxLQUFLLE1BQU0sUUFBVSxjQUl0QyxhQUFhLENBQUMsRUFBUyxFQUFJLEVBQU8sQ0FDOUIsTUFBTSxFQUFLLFNBQVMsY0FBYyxJQUFJLEVBQ3RDLEVBQUcsR0FBSyxFQUNSLEVBQUcsYUFBYSxPQUFRLFNBQVMsRUFDakMsRUFBRyxhQUFhLGdCQUFpQixNQUFNLEVBQ3ZDLEVBQUcsYUFBYSxhQUFjLEtBQUssS0FBSyxNQUFNLE9BQU8sYUFBYSxDQUFDLEVBQ25FLElBQUksRUFBYSxLQUNqQixRQUFTLEVBQUksRUFBTSxLQUFNLEVBQUksRUFBTSxHQUFJLElBQUssQ0FDeEMsSUFBTSxhQUFZLFNBQVUsRUFBUSxJQUFNLFdBQVksRUFDdEQsR0FBSSxFQUFTLENBQ1QsSUFBSSxTQUFjLEdBQVcsU0FBVyxFQUFVLEVBQVEsS0FDMUQsR0FBSSxHQUFRLElBQWUsRUFBSSxFQUFNLE1BQVEsRUFBTSxNQUFRLEdBRXZELEdBREEsRUFBYSxTQUNGLEdBQVcsVUFBWSxFQUFRLE9BQ3RDLEVBQUcsWUFBWSxFQUFRLE9BQU8sQ0FBTyxDQUFDLE1BRXJDLENBQ0QsSUFBSSxFQUFTLEVBQUcsWUFBWSxTQUFTLGNBQWMsb0JBQW9CLENBQUMsRUFDeEUsRUFBTyxZQUFjLEdBSWpDLE1BQU0sRUFBSyxFQUFHLFlBQVksU0FBUyxjQUFjLElBQUksQ0FBQyxFQUN0RCxFQUFHLEdBQUssRUFBSyxJQUFNLEVBQ25CLEVBQUcsYUFBYSxPQUFRLFFBQVEsRUFDaEMsSUFBSSxFQUFNLEtBQUssWUFBWSxDQUFVLEVBQ3JDLEdBQUksRUFDQSxFQUFHLFVBQVksRUFDbkIsUUFBUyxLQUFVLEtBQUssY0FBZSxDQUNuQyxJQUFJLEVBQU8sRUFBTyxFQUFZLEtBQUssS0FBSyxNQUFPLEtBQUssS0FBTSxDQUFLLEVBQy9ELEdBQUksRUFDQSxFQUFHLFlBQVksQ0FBSSxHQUcvQixHQUFJLEVBQU0sS0FDTixFQUFHLFVBQVUsSUFBSSxnQ0FBZ0MsRUFDckQsR0FBSSxFQUFNLEdBQUssRUFBUSxPQUNuQixFQUFHLFVBQVUsSUFBSSxtQ0FBbUMsRUFDeEQsT0FBTyxFQUVYLFdBQVcsRUFBRyxDQUNWLEdBQUksS0FBSyxLQUFNLENBQ1gsR0FBSSxLQUFLLFlBQ0wsS0FBSyxZQUFZLEVBQ3JCLEtBQUssS0FBSyxPQUFPLEVBQ2pCLEtBQUssS0FBTyxNQUdwQixPQUFPLEVBQUcsQ0FDTixLQUFLLFlBQVksRUFFekIsQ0FnRkEsTUFBTSxFQUFpQixDQUNuQixXQUFXLENBQUMsRUFBUyxFQUFPLEVBQVMsRUFBVyxFQUFVLEVBQVUsQ0FDaEUsS0FBSyxRQUFVLEVBQ2YsS0FBSyxNQUFRLEVBQ2IsS0FBSyxRQUFVLEVBQ2YsS0FBSyxVQUFZLEVBQ2pCLEtBQUssU0FBVyxFQUNoQixLQUFLLFNBQVcsRUFFcEIsV0FBVyxDQUFDLEVBQVUsRUFBSSxDQUN0QixPQUFPLEdBQVksS0FBSyxVQUFZLEdBQVksS0FBSyxRQUFRLE9BQVMsS0FDaEUsSUFBSSxHQUFpQixLQUFLLFFBQVMsR0FBVSxFQUFJLENBQVEsRUFBRyxLQUFLLFFBQVMsS0FBSyxVQUFXLEVBQVUsS0FBSyxRQUFRLFFBRXBILE1BQUssQ0FBQyxFQUFRLEVBQU8sRUFBSSxFQUFNLEVBQU0sQ0FDeEMsSUFBSSxFQUFVLEdBQVksRUFBUSxDQUFLLEVBQ3ZDLElBQUssRUFBUSxPQUNULE9BQU8sR0FBUSxFQUFPLEtBQUssS0FBSyxFQUFFLE9BQVMsQ0FBcUIsRUFDNUQsSUFBSSxHQUFpQixFQUFLLFFBQVMsRUFBSyxNQUFPLEVBQUssUUFBUyxFQUFLLFVBQVcsRUFBSyxTQUFVLEVBQUksRUFBSSxLQUU1RyxJQUFJLEVBQVcsRUFBTSxNQUFNLEVBQWdCLEVBQUUsYUFBZSxFQUFJLEdBQ2hFLEdBQUksR0FBUSxFQUFLLFVBQVksR0FBWSxFQUFLLFVBQVksR0FBSSxDQUMxRCxJQUFJLEVBQWdCLEVBQUssUUFBUSxFQUFLLFVBQVUsV0FDaEQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFRLE9BQVEsSUFDaEMsR0FBSSxFQUFRLEdBQUcsWUFBYyxFQUFlLENBQ3hDLEVBQVcsRUFDWCxPQUdaLE9BQU8sSUFBSSxHQUFpQixFQUFTLEdBQVUsRUFBSSxDQUFRLEVBQUcsQ0FDMUQsSUFBSyxFQUFPLE9BQU8sQ0FBQyxFQUFHLElBQU0sRUFBRSxVQUFVLEVBQUksS0FBSyxJQUFJLEVBQUcsRUFBRSxJQUFJLEVBQUksRUFBRyxHQUFHLEVBQ3pFLE9BQVEsR0FDUixNQUFPLEVBQUssV0FDaEIsRUFBRyxFQUFPLEVBQUssVUFBWSxLQUFLLElBQUksRUFBRyxFQUFVLEVBQUssRUFFMUQsR0FBRyxDQUFDLEVBQVMsQ0FDVCxPQUFPLElBQUksR0FBaUIsS0FBSyxRQUFTLEtBQUssTUFBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUMsRUFBRyxLQUFLLE9BQU8sRUFBRyxDQUFFLElBQUssRUFBUSxPQUFPLEtBQUssUUFBUSxHQUFHLENBQUUsQ0FBQyxFQUFHLEtBQUssVUFBVyxLQUFLLFNBQVUsS0FBSyxRQUFRLEVBRXJNLENBQ0EsTUFBTSxFQUFnQixDQUNsQixXQUFXLENBQUMsRUFBUSxFQUFJLEVBQU0sQ0FDMUIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxHQUFLLEVBQ1YsS0FBSyxLQUFPLFFBRVQsTUFBSyxFQUFHLENBQ1gsT0FBTyxJQUFJLEdBQWdCLEdBQU0sU0FBVyxLQUFLLE1BQU0sS0FBSyxPQUFPLEVBQUksT0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFHLElBQUksRUFFbEcsTUFBTSxDQUFDLEVBQUksQ0FDUCxJQUFNLFNBQVUsRUFBSSxFQUFPLEVBQU0sTUFBTSxFQUFnQixFQUduRCxHQUZVLEVBQUssVUFDZixFQUFNLGVBQWUsZUFBZ0IsR0FBSSxDQUFLLENBQUMsRUFBRSxJQUFJLEVBQVEsR0FDNUMsSUFBSSxLQUFVLENBRy9CLE9BRlksS0FBSyxPQUFPLEtBQUssS0FBSyxFQUFFLFFBQVUsQ0FBTSxHQUNoRCxJQUFJLEdBQWEsRUFBUSxLQUFLLE9BQU8sS0FBSyxLQUFLLEVBQUUsT0FBUyxDQUFzQixFQUFJLEVBQXdCLENBQXNCLEdBQ3pILE9BQU8sRUFBSSxDQUFJLEVBQy9CLEVBQ0QsR0FBSSxFQUFPLFFBQVUsS0FBSyxPQUFPLFFBQVUsRUFBTyxNQUFNLENBQUMsRUFBRyxJQUFNLEdBQUssS0FBSyxPQUFPLEVBQUUsRUFDakYsRUFBUyxLQUFLLE9BQ2xCLElBQUksRUFBTyxLQUFLLEtBQ2hCLEdBQUksR0FBUSxFQUFHLFdBQ1gsRUFBTyxFQUFLLElBQUksRUFBRyxPQUFPLEVBQzlCLEdBQUksRUFBRyxXQUFhLEVBQU8sS0FBSyxLQUFLLEVBQUUsVUFBVSxHQUFLLEVBQUcsUUFBUSxhQUFhLEVBQUUsS0FBTSxFQUFFLEVBQUUsQ0FBQyxJQUN0RixHQUFZLEVBQVEsS0FBSyxNQUFNLEVBQ2hDLEVBQU8sR0FBaUIsTUFBTSxFQUFRLEVBQU8sS0FBSyxHQUFJLEVBQU0sQ0FBSSxVQUMzRCxHQUFRLEVBQUssV0FBYSxFQUFPLEtBQUssS0FBSyxFQUFFLE9BQVMsQ0FBcUIsRUFDaEYsRUFBTyxLQUNYLElBQUssR0FBUSxFQUFPLE1BQU0sS0FBSyxFQUFFLE9BQVMsQ0FBcUIsR0FBSyxFQUFPLEtBQUssS0FBSyxFQUFFLFVBQVUsQ0FBQyxFQUM5RixFQUFTLEVBQU8sSUFBSSxLQUFLLEVBQUUsVUFBVSxFQUFJLElBQUksR0FBYSxFQUFFLE9BQVEsQ0FBc0IsRUFBSSxDQUFDLEVBQ25HLFFBQVMsS0FBVSxFQUFHLFFBQ2xCLEdBQUksRUFBTyxHQUFHLEVBQWlCLEVBQzNCLEVBQU8sR0FBUSxFQUFLLFlBQVksRUFBTyxNQUFPLEtBQUssRUFBRSxFQUM3RCxPQUFPLEdBQVUsS0FBSyxRQUFVLEdBQVEsS0FBSyxLQUFPLEtBQU8sSUFBSSxHQUFnQixFQUFRLEtBQUssR0FBSSxDQUFJLEtBRXBHLFFBQU8sRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFPLEtBQUssS0FBSyxRQUFVLFFBQ25ELE1BQUssRUFBRyxDQUFFLE9BQU8sS0FBSyxLQUFPLEtBQUssS0FBSyxNQUFRLEtBQUssT0FBTyxPQUFTLEdBQVksR0FDeEYsQ0FnQkEsSUFBTSxHQUFZLENBQ2Qsb0JBQXFCLE1BQ3pCLEVBQ00sR0FBVSxDQUFDLEVBV1gsR0FBTyxDQUFDLEVBY2QsTUFBTSxFQUFhLENBQ2YsV0FBVyxDQUFDLEVBQVEsRUFBTyxFQUFjLEdBQUksQ0FDekMsS0FBSyxPQUFTLEVBQ2QsS0FBSyxNQUFRLEVBQ2IsS0FBSyxZQUFjLEVBRXZCLFNBQVMsRUFBRyxDQUFFLE1BQU8sR0FDckIsTUFBTSxDQUFDLEVBQUksRUFBTSxDQUNiLElBQUksRUFBTyxHQUFjLEVBQUksQ0FBSSxFQUFHLEVBQVEsS0FDNUMsR0FBSyxFQUFPLEdBQThCLEVBQU8sSUFBd0MsS0FBSyxRQUFRLENBQUUsRUFDcEcsRUFBUSxJQUFJLEdBQWEsRUFBTSxPQUFRLENBQXNCLEVBQ2pFLEdBQUssRUFBTyxHQUFnQyxFQUFNLE9BQVMsRUFDdkQsRUFBUSxJQUFJLEdBQWEsS0FBSyxPQUFRLENBQXFCLEVBQy9ELEVBQVEsRUFBTSxVQUFVLEVBQUksQ0FBSSxFQUNoQyxRQUFTLEtBQVUsRUFBRyxRQUNsQixHQUFJLEVBQU8sR0FBRyxFQUFxQixFQUMvQixFQUFRLElBQUksR0FBYSxFQUFNLE9BQVEsRUFBdUIsRUFBTyxNQUFRLEdBQUksRUFBRyxLQUFLLEVBQUksRUFBRSxVQUMxRixFQUFPLEdBQUcsRUFBcUIsRUFDcEMsRUFBUSxJQUFJLEdBQWEsRUFBTSxPQUFRLENBQXNCLFVBQ3hELEVBQU8sR0FBRyxFQUFlLEdBQzlCLFFBQVMsS0FBVSxFQUFPLE1BQ3RCLEdBQUksRUFBTyxRQUFVLEVBQU0sT0FDdkIsRUFBUSxFQUV4QixPQUFPLEVBRVgsU0FBUyxDQUFDLEVBQUksRUFBTSxDQUFFLE9BQU8sS0FBSyxJQUFJLEVBQUcsT0FBTyxFQUNoRCxHQUFHLENBQUMsRUFBUyxDQUNULE9BQU8sRUFBUSxPQUFTLEtBQUssWUFBYyxFQUFJLEtBQU8sSUFBSSxHQUFhLEtBQUssT0FBUSxLQUFLLE1BQU8sRUFBUSxPQUFPLEtBQUssV0FBVyxDQUFDLEVBRXBJLE9BQU8sQ0FBQyxFQUFJLENBQ1IsT0FBTyxFQUFHLFFBQVEsYUFBYSxHQUFJLEVBQUcsS0FBSyxDQUFDLEVBRXBELENBQ0EsTUFBTSxXQUFxQixFQUFhLENBQ3BDLFdBQVcsQ0FBQyxFQUFRLEVBQWEsRUFBUSxFQUFNLEVBQUksQ0FDL0MsTUFBTSxFQUFRLEVBQXNCLENBQVcsRUFDL0MsS0FBSyxPQUFTLEVBQ2QsS0FBSyxLQUFPLEVBQ1osS0FBSyxHQUFLLEVBRWQsU0FBUyxFQUFHLENBQUUsTUFBTyxHQUNyQixTQUFTLENBQUMsRUFBSSxFQUFNLENBQ2hCLElBQUksRUFDSixLQUFNLEVBQU8sR0FDVCxPQUFPLEtBQUssSUFBSSxFQUFHLE9BQU8sRUFDOUIsSUFBSSxFQUFTLEtBQUssT0FDbEIsR0FBSSxFQUFPLE1BQVEsRUFBRyxRQUFRLE1BQzFCLEVBQVMsRUFBTyxJQUFJLEVBQVEsRUFBRyxPQUFPLEVBQzFDLElBQUksRUFBTyxFQUFHLFFBQVEsT0FBTyxLQUFLLElBQUksRUFBRyxFQUFLLEVBQUcsUUFBUSxPQUFPLEtBQUssR0FBSSxDQUFDLEVBQ3RFLEVBQU0sR0FBSSxFQUFHLEtBQUssRUFDdEIsSUFBSyxLQUFLLFlBQWMsRUFBSSxHQUFPLEVBQU8sRUFBTSxLQUFLLE9BQ2pELEVBQU0sSUFBTyxHQUNaLEVBQU8sR0FBbUMsR0FBSSxFQUFHLFVBQVUsR0FBSyxLQUFLLEtBQ3RFLE9BQU8sSUFBSSxHQUFhLEtBQUssT0FBUSxFQUFPLEVBQThCLEVBQXdCLENBQXNCLEVBQzVILElBQUksRUFBYyxLQUFLLFlBQWMsRUFBSSxHQUFLLEVBQUcsUUFBUSxPQUFPLEtBQUssV0FBVyxFQUNoRixHQUFJLEdBQVcsRUFBTyxTQUFVLEVBQUcsTUFBTyxFQUFNLENBQUUsRUFDOUMsT0FBTyxJQUFJLEdBQWEsS0FBSyxPQUFRLEVBQWEsRUFBUSxFQUFNLENBQUUsRUFDdEUsR0FBSSxFQUFPLFNBQ04sRUFBUyxFQUFPLE9BQU8sRUFBUSxFQUFNLEVBQUksSUFBSSxHQUFrQixFQUFHLE1BQU8sRUFBSyxHQUFlLENBQUMsQ0FBQyxHQUNoRyxPQUFPLElBQUksR0FBYSxLQUFLLE9BQVEsRUFBYSxFQUFRLEVBQU8sTUFBTyxFQUFLLEVBQU8sTUFBUSxNQUFRLElBQVksT0FBSSxFQUFLLEdBQUksRUFBRyxLQUFLLENBQUMsRUFDMUksT0FBTyxJQUFJLEdBQWEsS0FBSyxPQUFRLEVBQXVCLENBQVcsRUFFM0UsR0FBRyxDQUFDLEVBQVMsQ0FDVCxHQUFJLEVBQVEsTUFDUixPQUFPLEtBRVgsS0FEYSxLQUFLLE9BQU8sSUFBTSxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQVEsQ0FBTyxFQUFJLEtBQUssUUFFeEUsT0FBTyxJQUFJLEdBQWEsS0FBSyxPQUFRLENBQXNCLEVBQy9ELE9BQU8sSUFBSSxHQUFhLEtBQUssT0FBUSxLQUFLLFlBQWMsRUFBSSxHQUFLLEVBQVEsT0FBTyxLQUFLLFdBQVcsRUFBRyxLQUFLLE9BQVEsRUFBUSxPQUFPLEtBQUssSUFBSSxFQUFHLEVBQVEsT0FBTyxLQUFLLEdBQUksQ0FBQyxDQUFDLEVBRXpLLE9BQU8sQ0FBQyxFQUFJLENBQ1IsT0FBTyxFQUFHLFFBQVEsYUFBYSxLQUFLLEtBQU0sS0FBSyxFQUFFLEVBRXpELENBT0EsSUFBTSxHQUErQixFQUFZLE9BQU8sQ0FDcEQsR0FBRyxDQUFDLEVBQVMsRUFBUyxDQUFFLE9BQU8sRUFBUSxJQUFJLEtBQUssRUFBRSxJQUFJLENBQU8sQ0FBQyxFQUNsRSxDQUFDLEVBQ0ssR0FBaUMsRUFBWSxPQUFPLEVBQ3BELEdBQStCLEdBQVcsT0FBTyxDQUNuRCxNQUFNLEVBQUcsQ0FBRSxPQUFPLEdBQWdCLE1BQU0sR0FDeEMsTUFBTSxDQUFDLEVBQU8sRUFBSSxDQUFFLE9BQU8sRUFBTSxPQUFPLENBQUUsR0FDMUMsUUFBUyxLQUFLLENBQ1YsR0FBWSxLQUFLLEVBQUcsS0FBTyxFQUFJLE9BQU8sRUFDdEMsRUFBVyxrQkFBa0IsS0FBSyxFQUFHLEtBQVMsRUFBTSxLQUFLLENBQzdELENBQ0osQ0FBQyxFQVlLLEdBQTZCLEdBQWtCLEdBQWlCLEVBQWUsRUE2Qi9FLEdBQW1CLENBQUMsSUFBUyxDQUMvQixJQUFJLEVBQVMsRUFBSyxNQUFNLE1BQU0sR0FBaUIsRUFBSyxFQUNwRCxHQUFJLEVBQUssTUFBTSxXQUFhLElBQVcsRUFBTyxNQUFRLEVBQU8sS0FBSyxTQUFXLEdBQUssRUFBTyxLQUFLLFVBQzFGLEtBQUssSUFBSSxFQUFJLEVBQU8sS0FBSyxVQUFZLEVBQUssTUFBTSxNQUFNLEVBQWdCLEVBQUUsaUJBQ3hFLE1BQU8sR0FDWCxPQUFPLEdBQWdCLEVBQU0sRUFBTyxLQUFLLFFBQVEsRUFBTyxLQUFLLFNBQVMsR0FLcEUsR0FBa0IsQ0FBQyxJQUFTLENBRTlCLElBRGEsRUFBSyxNQUFNLE1BQU0sR0FBaUIsRUFBSyxFQUVoRCxNQUFPLEdBRVgsT0FEQSxFQUFLLFNBQVMsQ0FBRSxRQUFTLEdBQXNCLEdBQUcsRUFBSSxDQUFFLENBQUMsRUFDbEQsSUFLTCxHQUFrQixDQUFDLElBQVMsQ0FDOUIsSUFBSSxFQUFTLEVBQUssTUFBTSxNQUFNLEdBQWlCLEVBQUssRUFDcEQsSUFBSyxJQUFXLEVBQU8sT0FBTyxLQUFLLEtBQUssRUFBRSxPQUFTLENBQXNCLEVBQ3JFLE1BQU8sR0FFWCxPQURBLEVBQUssU0FBUyxDQUFFLFFBQVMsR0FBc0IsR0FBRyxJQUFJLENBQUUsQ0FBQyxFQUNsRCxJQUVYLE1BQU0sRUFBYSxDQUNmLFdBQVcsQ0FBQyxFQUFRLEVBQVMsQ0FDekIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxRQUFVLEVBQ2YsS0FBSyxLQUFPLEtBQUssSUFBSSxFQUNyQixLQUFLLFFBQVUsQ0FBQyxFQUdoQixLQUFLLEtBQU8sT0FFcEIsQ0FDQSxJQUFNLEdBQWlCLEdBQUksR0FBZSxLQUNwQyxHQUFnQyxHQUFXLFVBQVUsS0FBTSxDQUM3RCxXQUFXLENBQUMsRUFBTSxDQUNkLEtBQUssS0FBTyxFQUNaLEtBQUssZUFBaUIsR0FDdEIsS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxlQUFpQixHQUN0QixLQUFLLGFBQWUsR0FDcEIsS0FBSyxVQUFZLEVBQ2pCLFFBQVMsS0FBVSxFQUFLLE1BQU0sTUFBTSxFQUFlLEVBQUUsT0FDakQsR0FBSSxFQUFPLE9BQVMsRUFDaEIsS0FBSyxXQUFXLENBQU0sRUFFbEMsTUFBTSxDQUFDLEVBQVEsQ0FDWCxJQUFJLEVBQVMsRUFBTyxNQUFNLE1BQU0sRUFBZSxFQUMzQyxFQUFPLEVBQU8sTUFBTSxNQUFNLEVBQWdCLEVBQzlDLElBQUssRUFBTyxlQUFpQixFQUFPLFlBQWMsRUFBTyxXQUFXLE1BQU0sRUFBZSxHQUFLLEVBQzFGLE9BQ0osSUFBSSxFQUFZLEVBQU8sYUFBYSxLQUFLLEtBQU0sQ0FDM0MsSUFBSSxFQUFPLEdBQWMsRUFBSSxDQUFJLEVBQ2pDLE9BQVEsRUFBTyxJQUE4QixFQUFHLFdBQWEsRUFBRyxlQUFpQixFQUFPLEdBQzNGLEVBQ0QsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLFFBQVEsT0FBUSxJQUFLLENBQzFDLElBQUksRUFBUSxLQUFLLFFBQVEsR0FDekIsR0FBSSxHQUNBLEVBQU0sUUFBUSxrQkFBb0IsRUFBTyxZQUN6QyxFQUFNLFFBQVEsT0FBUyxFQUFPLGFBQWEsT0FBUyxJQUFrQixLQUFLLElBQUksRUFBSSxFQUFNLEtBQU8sR0FBYyxDQUM5RyxRQUFTLEtBQVcsRUFBTSxRQUFRLGVBQzlCLEdBQUksQ0FDQSxFQUFRLFFBRUwsRUFBUCxDQUNJLEdBQWEsS0FBSyxLQUFLLE1BQU8sQ0FBQyxFQUd2QyxFQUFNLFFBQVEsZUFBaUIsS0FDL0IsS0FBSyxRQUFRLE9BQU8sSUFBSyxDQUFDLE1BRzFCLEdBQU0sUUFBUSxLQUFLLEdBQUcsRUFBTyxZQUFZLEVBR2pELEdBQUksS0FBSyxlQUFpQixHQUN0QixhQUFhLEtBQUssY0FBYyxFQUNwQyxHQUFJLEVBQU8sYUFBYSxLQUFLLEtBQU0sRUFBRyxRQUFRLEtBQUssS0FBSyxFQUFFLEdBQUcsRUFBcUIsQ0FBQyxDQUFDLEVBQ2hGLEtBQUssYUFBZSxHQUN4QixJQUFJLEVBQVEsS0FBSyxhQUFlLEdBQUssRUFBSyxzQkFHMUMsR0FGQSxLQUFLLGVBQWlCLEVBQU8sT0FBTyxLQUFLLEtBQUssRUFBRSxPQUFTLElBQTBCLEtBQUssUUFBUSxLQUFLLEtBQUssRUFBRSxPQUFPLFFBQVUsRUFBRSxNQUFNLENBQUMsRUFDaEksV0FBVyxJQUFNLEtBQUssWUFBWSxFQUFHLENBQUssRUFBSSxHQUNoRCxLQUFLLFdBQWEsR0FDbEIsUUFBUyxLQUFNLEVBQU8sYUFDbEIsR0FBSSxFQUFHLFlBQVksWUFBWSxFQUMzQixLQUFLLFVBQVksVUFDWixLQUFLLFdBQWEsR0FBb0MsRUFBRyxVQUM5RCxLQUFLLFVBQVksR0FHakMsV0FBVyxFQUFHLENBQ1YsS0FBSyxlQUFpQixHQUN0QixLQUFLLGFBQWUsR0FDcEIsSUFBTSxTQUFVLEtBQUssS0FBTSxFQUFTLEVBQU0sTUFBTSxFQUFlLEVBQy9ELFFBQVMsS0FBVSxFQUFPLE9BQ3RCLEdBQUksRUFBTyxPQUFTLElBQTBCLEtBQUssUUFBUSxLQUFLLEtBQUssRUFBRSxPQUFPLFFBQVUsRUFBTyxNQUFNLEVBQ2pHLEtBQUssV0FBVyxDQUFNLEVBR2xDLFVBQVUsQ0FBQyxFQUFRLENBQ2YsSUFBTSxTQUFVLEtBQUssS0FBTSxFQUFNLEdBQUksQ0FBSyxFQUN0QyxFQUFVLElBQUksR0FBa0IsRUFBTyxFQUFLLEVBQU8sYUFBZSxFQUFLLEtBQUssSUFBSSxFQUNoRixFQUFVLElBQUksR0FBYSxFQUFRLENBQU8sRUFDOUMsS0FBSyxRQUFRLEtBQUssQ0FBTyxFQUN6QixRQUFRLFFBQVEsRUFBTyxPQUFPLENBQU8sQ0FBQyxFQUFFLEtBQUssS0FBVSxDQUNuRCxJQUFLLEVBQVEsUUFBUSxRQUNqQixFQUFRLEtBQU8sR0FBVSxLQUN6QixLQUFLLGVBQWUsR0FFekIsS0FBTyxDQUNOLEtBQUssS0FBSyxTQUFTLENBQUUsUUFBUyxHQUFzQixHQUFHLElBQUksQ0FBRSxDQUFDLEVBQzlELEdBQWEsS0FBSyxLQUFLLE1BQU8sQ0FBRyxFQUNwQyxFQUVMLGNBQWMsRUFBRyxDQUNiLEdBQUksS0FBSyxRQUFRLE1BQU0sS0FBSyxFQUFFLE9BQVMsTUFBUyxFQUM1QyxLQUFLLE9BQU8sVUFDUCxLQUFLLGVBQWlCLEVBQzNCLEtBQUssZUFBaUIsV0FBVyxJQUFNLEtBQUssT0FBTyxFQUFHLEtBQUssS0FBSyxNQUFNLE1BQU0sRUFBZ0IsRUFBRSxjQUFjLEVBSXBILE1BQU0sRUFBRyxDQUNMLElBQUksRUFDSixHQUFJLEtBQUssZUFBaUIsR0FDdEIsYUFBYSxLQUFLLGNBQWMsRUFDcEMsS0FBSyxlQUFpQixHQUN0QixJQUFJLEVBQVUsQ0FBQyxFQUNYLEVBQU8sS0FBSyxLQUFLLE1BQU0sTUFBTSxFQUFnQixFQUNqRCxRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssUUFBUSxPQUFRLElBQUssQ0FDMUMsSUFBSSxFQUFRLEtBQUssUUFBUSxHQUN6QixHQUFJLEVBQU0sT0FBUyxPQUNmLFNBRUosR0FEQSxLQUFLLFFBQVEsT0FBTyxJQUFLLENBQUMsRUFDdEIsRUFBTSxLQUFNLENBQ1osSUFBSSxFQUFTLElBQUksR0FBYSxFQUFNLE9BQU8sT0FBUSxFQUFNLE9BQU8sWUFBYSxFQUFNLEtBQU0sRUFBTSxLQUFLLE1BQU8sRUFBSyxFQUFNLEtBQUssTUFBUSxNQUFRLElBQVksT0FBSSxFQUFLLEdBQUksRUFBTSxRQUFRLE9BQVMsRUFBTSxRQUFRLEdBQUcsV0FBYSxLQUFLLEtBQUssS0FBSyxDQUFDLEVBR3pPLFFBQVMsS0FBTSxFQUFNLFFBQ2pCLEVBQVMsRUFBTyxPQUFPLEVBQUksQ0FBSSxFQUNuQyxHQUFJLEVBQU8sVUFBVSxFQUFHLENBQ3BCLEVBQVEsS0FBSyxDQUFNLEVBQ25CLFVBR1IsSUFBSSxFQUFVLEtBQUssS0FBSyxNQUFNLE1BQU0sRUFBZSxFQUFFLE9BQU8sS0FBSyxLQUFLLEVBQUUsUUFBVSxFQUFNLE9BQU8sTUFBTSxFQUNyRyxHQUFJLEdBQVcsRUFBUSxPQUFTLEVBQzVCLEdBQUksRUFBTSxNQUFRLEtBQU0sQ0FHcEIsSUFBSSxFQUFTLElBQUksR0FBYSxFQUFNLE9BQU8sT0FBUSxDQUFzQixFQUN6RSxRQUFTLEtBQU0sRUFBTSxRQUNqQixFQUFTLEVBQU8sT0FBTyxFQUFJLENBQUksRUFDbkMsR0FBSSxFQUFPLE9BQVMsRUFDaEIsRUFBUSxLQUFLLENBQU0sTUFJdkIsTUFBSyxXQUFXLENBQU8sRUFJbkMsR0FBSSxFQUFRLE9BQ1IsS0FBSyxLQUFLLFNBQVMsQ0FBRSxRQUFTLEdBQWdCLEdBQUcsQ0FBTyxDQUFFLENBQUMsRUFFdkUsRUFBRyxDQUNDLGNBQWUsQ0FDWCxJQUFJLENBQUMsRUFBTyxDQUNSLElBQUksRUFBUSxLQUFLLEtBQUssTUFBTSxNQUFNLEdBQWlCLEVBQUssRUFDeEQsR0FBSSxHQUFTLEVBQU0sU0FBVyxLQUFLLEtBQUssTUFBTSxNQUFNLEVBQWdCLEVBQUUsWUFBYSxDQUMvRSxJQUFJLEVBQVMsRUFBTSxNQUFRLEdBQVcsS0FBSyxLQUFNLEVBQU0sS0FBSyxPQUFPLEVBQ25FLElBQUssSUFBVyxFQUFPLElBQUksU0FBUyxFQUFNLGFBQWEsRUFDbkQsV0FBVyxJQUFNLEtBQUssS0FBSyxTQUFTLENBQUUsUUFBUyxHQUFzQixHQUFHLElBQUksQ0FBRSxDQUFDLEVBQUcsRUFBRSxJQUdoRyxnQkFBZ0IsRUFBRyxDQUNmLEtBQUssVUFBWSxHQUVyQixjQUFjLEVBQUcsQ0FDYixHQUFJLEtBQUssV0FBYSxFQUdsQixXQUFXLElBQU0sS0FBSyxLQUFLLFNBQVMsQ0FBRSxRQUFTLEdBQXNCLEdBQUcsRUFBSyxDQUFFLENBQUMsRUFBRyxFQUFFLEVBRXpGLEtBQUssVUFBWSxFQUV6QixDQUNKLENBQUMsRUFDSyxVQUFpQixXQUFhLFVBQXlCLE1BQU0sS0FBSyxVQUFVLFFBQVEsRUFDcEYsR0FBZ0MsR0FBSyxRQUFxQixFQUFXLGlCQUFpQixDQUN4RixPQUFPLENBQUMsRUFBTyxFQUFNLENBQ2pCLElBQUksRUFBUSxFQUFLLE1BQU0sTUFBTSxHQUFpQixFQUFLLEVBQ25ELElBQUssSUFBVSxFQUFNLE1BQVEsRUFBTSxLQUFLLFVBQVksRUFBTSxLQUFLLFNBQVcsR0FDdEUsRUFBTSxJQUFJLE9BQVMsR0FBSyxFQUFNLFdBQWEsSUFBVyxFQUFNLFNBQVcsRUFBTSxRQUM3RSxNQUFPLEdBQ1gsSUFBSSxFQUFTLEVBQU0sS0FBSyxRQUFRLEVBQU0sS0FBSyxVQUN2QyxFQUFTLEVBQU0sT0FBTyxLQUFLLEtBQUssRUFBRSxRQUFVLEVBQU8sTUFBTSxFQUN6RCxFQUFjLEVBQU8sV0FBVyxrQkFBb0IsRUFBTyxPQUFPLGlCQUN0RSxHQUFJLEdBQWUsRUFBWSxRQUFRLEVBQU0sR0FBRyxFQUFJLEdBQ2hELEdBQWdCLEVBQU0sQ0FBTSxFQUNoQyxNQUFPLEdBRWYsQ0FBQyxDQUFDLEVBRUksR0FBeUIsRUFBVyxVQUFVLENBQ2hELHNDQUF1QyxDQUNuQyxTQUFVLENBQ04sV0FBWSxZQUNaLFdBQVksU0FDWixTQUFVLGNBQ1Ysa0JBQW1CLFFBQ25CLFNBQVUsbUJBQ1YsU0FBVSxRQUNWLFVBQVcsT0FDWCxPQUFRLE9BQ1IsVUFBVyxPQUNYLE9BQVEsRUFDUixRQUFTLEVBQ1QsaUNBQWtDLENBQzlCLFFBQVMsVUFDVCxXQUFZLEdBQ2hCLEVBQ0EsU0FBVSxDQUNOLFVBQVcsU0FDWCxhQUFjLFdBQ2QsT0FBUSxTQUNaLEVBQ0EseUJBQTBCLENBQ3RCLFFBQVMsWUFDVCxhQUFjLG1CQUNkLFlBQWEsUUFDYixRQUFTLEdBQ2IsQ0FDSixDQUNKLEVBQ0EsdURBQXdELENBQ3BELFdBQVksT0FDWixNQUFPLE9BQ1gsRUFDQSxnRUFBaUUsQ0FDN0QsV0FBWSxNQUNoQixFQUNBLHNEQUF1RCxDQUNuRCxXQUFZLE9BQ1osTUFBTyxPQUNYLEVBQ0EsK0RBQWdFLENBQzVELFdBQVksTUFDaEIsRUFDQSxtRkFBb0YsQ0FDaEYsUUFBUyxpQkFDVCxRQUFTLElBQ1QsUUFBUyxRQUNULFVBQVcsUUFDZixFQUNBLGdDQUFpQyxDQUM3QixTQUFVLFdBQ1YsUUFBUyxVQUNULE1BQU8sY0FDUCxTQUFVLFFBQ1YsVUFBVyxhQUNYLFdBQVksVUFDaEIsRUFDQSw0Q0FBNkMsQ0FBRSxNQUFPLE1BQU8sRUFDN0QsNkNBQThDLENBQUUsS0FBTSxNQUFPLEVBQzdELG1EQUFvRCxDQUFFLE1BQU8sTUFBNEIsRUFDekYsb0RBQXFELENBQUUsS0FBTSxNQUE0QixFQUN6RiwwQkFBMkIsQ0FBRSxnQkFBaUIsV0FBWSxFQUMxRCx5QkFBMEIsQ0FBRSxnQkFBaUIsV0FBWSxFQUN6RCwyQkFBNEIsQ0FDeEIsY0FBZSxXQUNmLE1BQU8sRUFDUCxPQUFRLFNBQ1IsUUFBUyxlQUNULE9BQVEsaUJBQ1IsV0FBWSxtQkFDaEIsRUFDQSw0QkFBNkIsQ0FDekIsZUFBZ0IsV0FDcEIsRUFDQSx1QkFBd0IsQ0FDcEIsV0FBWSxRQUNaLFVBQVcsUUFDZixFQUNBLHFCQUFzQixDQUNsQixTQUFVLE1BQ1YsTUFBTyxPQUNQLFFBQVMsZUFDVCxVQUFXLFNBQ1gsYUFBYyxPQUNkLFFBQVMsTUFDVCxVQUFXLGFBQ2YsRUFDQSx5REFBMEQsQ0FDdEQsVUFBVyxDQUFFLFFBQVMsVUFBSyxDQUMvQixFQUNBLDJCQUE0QixDQUN4QixVQUFXLENBQUUsUUFBUyxVQUFLLENBQy9CLEVBQ0EsK0JBQWdDLENBQzVCLFVBQVcsQ0FBRSxRQUFTLFVBQUssQ0FDL0IsRUFDQSw4QkFBK0IsQ0FDM0IsVUFBVyxDQUFFLFFBQVMsZ0JBQU0sQ0FDaEMsRUFDQSw4QkFBK0IsQ0FDM0IsVUFBVyxDQUFFLFFBQVMsZ0JBQU0sQ0FDaEMsRUFDQSwwQkFBMkIsQ0FDdkIsVUFBVyxDQUFFLFFBQVMsZ0JBQU0sQ0FDaEMsRUFDQSwwQkFBMkIsQ0FDdkIsVUFBVyxDQUFFLFFBQVMsVUFBSyxDQUMvQixFQUNBLDhCQUErQixDQUMzQixVQUFXLENBQUUsUUFBUyxVQUFLLENBQy9CLEVBQ0EsNkJBQThCLENBQzFCLFVBQVcsQ0FBRSxRQUFTLHNCQUFZLENBQ3RDLEVBQ0EsK0JBQWdDLENBQzVCLFVBQVcsQ0FBRSxRQUFTLFVBQUssQ0FDL0IsRUFDQSwwQkFBMkIsQ0FDdkIsVUFBVyxDQUFFLFFBQVMsUUFBUyxTQUFVLE1BQU8sY0FBZSxRQUFTLENBQzVFLENBQ0osQ0FBQyxFQUVELE1BQU0sRUFBUyxDQUNYLFdBQVcsQ0FBQyxFQUFPLEVBQU0sRUFBTSxFQUFJLENBQy9CLEtBQUssTUFBUSxFQUNiLEtBQUssS0FBTyxFQUNaLEtBQUssS0FBTyxFQUNaLEtBQUssR0FBSyxFQUVsQixDQUNBLE1BQU0sRUFBVyxDQUNiLFdBQVcsQ0FBQyxFQUFPLEVBQU0sRUFBSSxDQUN6QixLQUFLLE1BQVEsRUFDYixLQUFLLEtBQU8sRUFDWixLQUFLLEdBQUssRUFFZCxHQUFHLENBQUMsRUFBUyxDQUNULElBQUksRUFBTyxFQUFRLE9BQU8sS0FBSyxLQUFNLEdBQUksR0FBUSxRQUFRLEVBQ3JELEVBQUssRUFBUSxPQUFPLEtBQUssR0FBSSxFQUFHLEdBQVEsUUFBUSxFQUNwRCxPQUFPLEdBQVEsTUFBUSxHQUFNLEtBQU8sS0FBTyxJQUFJLEdBQVcsS0FBSyxNQUFPLEVBQU0sQ0FBRSxFQUV0RixDQUNBLE1BQU0sRUFBUSxDQUNWLFdBQVcsQ0FBQyxFQUFPLEVBQWdCLENBQy9CLEtBQUssTUFBUSxFQUNiLEtBQUssZUFBaUIsRUFFMUIsV0FBVyxDQUFDLEVBQU8sRUFBSyxDQUNwQixJQUFJLEVBQU8sQ0FBQyxFQUFHLEVBQVksQ0FBQyxDQUFHLEVBQzNCLEVBQVUsRUFBTSxJQUFJLE9BQU8sQ0FBRyxFQUFHLEVBQWEsT0FBTyxLQUFLLEVBQVEsSUFBSSxFQUFFLEdBQzVFLFFBQVMsS0FBUSxLQUFLLE1BQU8sQ0FDekIsR0FBSSxFQUFLLE9BQVEsQ0FDYixJQUFJLEVBQVMsRUFBWSxFQUFPLE9BQU8sS0FBSyxDQUFJLEVBQUUsR0FBRyxPQUNyRCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sSUFDdEIsR0FBVSxFQUFNLE1BQU0sRUFBVSxFQUNwQyxFQUFVLEtBQUssRUFBTSxFQUFPLE9BQVMsQ0FBSSxFQUN6QyxFQUFPLEVBQVMsRUFBSyxNQUFNLENBQUksRUFFbkMsRUFBSyxLQUFLLENBQUksRUFDZCxHQUFPLEVBQUssT0FBUyxFQUV6QixJQUFJLEVBQVMsS0FBSyxlQUFlLElBQUksS0FBTyxJQUFJLEdBQVcsRUFBSSxNQUFPLEVBQVUsRUFBSSxNQUFRLEVBQUksS0FBTSxFQUFVLEVBQUksTUFBUSxFQUFJLEVBQUUsQ0FBQyxFQUNuSSxNQUFPLENBQUUsT0FBTSxRQUFPLFFBRW5CLE1BQUssQ0FBQyxFQUFVLENBQ25CLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBUSxDQUFDLEVBQUcsRUFBWSxDQUFDLEVBQUcsRUFDaEMsUUFBUyxLQUFRLEVBQVMsTUFBTSxVQUFVLEVBQUcsQ0FDekMsTUFBTyxFQUFJLG9EQUFvRCxLQUFLLENBQUksRUFBRyxDQUN2RSxJQUFJLEVBQU0sRUFBRSxJQUFNLEVBQUUsR0FBSyxLQUFNLEVBQVUsRUFBRSxJQUFNLEVBQUUsSUFBTSxHQUFJLEVBQVEsR0FDakUsRUFBTyxFQUFRLFFBQVEsVUFBVyxLQUFLLEVBQUUsRUFBRSxFQUMvQyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUMvQixHQUFJLEdBQU8sS0FBTyxFQUFPLEdBQUcsS0FBTyxFQUFNLEVBQU8sRUFBTyxHQUFHLE1BQVEsRUFBTyxHQUNyRSxFQUFRLEVBRWhCLEdBQUksRUFBUSxFQUFHLENBQ1gsSUFBSSxFQUFJLEVBQ1IsTUFBTyxFQUFJLEVBQU8sU0FBVyxHQUFPLE1BQVMsRUFBTyxHQUFHLEtBQU8sTUFBUSxFQUFPLEdBQUcsSUFBTSxHQUNsRixJQUNKLEVBQU8sT0FBTyxFQUFHLEVBQUcsQ0FBRSxNQUFLLE1BQUssQ0FBQyxFQUNqQyxFQUFRLEVBQ1IsUUFBUyxLQUFPLEVBQ1osR0FBSSxFQUFJLE9BQVMsRUFDYixFQUFJLFFBRWhCLEVBQVUsS0FBSyxJQUFJLEdBQVMsRUFBTyxFQUFNLE9BQVEsRUFBRSxNQUFPLEVBQUUsTUFBUSxFQUFLLE1BQU0sQ0FBQyxFQUNoRixFQUFPLEVBQUssTUFBTSxFQUFHLEVBQUUsS0FBSyxFQUFJLEVBQVUsRUFBSyxNQUFNLEVBQUUsTUFBUSxFQUFFLEdBQUcsTUFBTSxFQUU5RSxFQUFPLEVBQUssUUFBUSxZQUFhLENBQUMsRUFBRyxFQUFPLElBQVUsQ0FDbEQsUUFBUyxLQUFPLEVBQ1osR0FBSSxFQUFJLE1BQVEsRUFBTSxRQUFVLEVBQUksS0FBTyxFQUN2QyxFQUFJLE9BQ0osRUFBSSxLQUVaLE9BQU8sRUFDVixFQUNELEVBQU0sS0FBSyxDQUFJLEVBRW5CLE9BQU8sSUFBSSxHQUFRLEVBQU8sQ0FBUyxFQUUzQyxDQUNBLElBQUksR0FBMkIsRUFBVyxPQUFPLENBQUUsT0FBcUIsSUFBSSxjQUFjLEVBQVcsQ0FDN0YsS0FBSyxFQUFHLENBQ0osSUFBSSxFQUFPLFNBQVMsY0FBYyxNQUFNLEVBRXhDLE9BREEsRUFBSyxVQUFZLDBCQUNWLEVBRVgsV0FBVyxFQUFHLENBQUUsTUFBTyxHQUMzQixDQUFFLENBQUMsRUFDSCxHQUEwQixFQUFXLEtBQUssQ0FBRSxNQUFPLGlCQUFrQixDQUFDLEVBQzFFLE1BQU0sRUFBYyxDQUNoQixXQUFXLENBQUMsRUFBUSxFQUFRLENBQ3hCLEtBQUssT0FBUyxFQUNkLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxFQUFXLElBQUksRUFBTyxJQUFJLE1BQU0sRUFBRSxNQUFRLEVBQUUsR0FBSyxHQUFjLElBQVksTUFBTSxFQUFFLEtBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUUvRyxHQUFHLENBQUMsRUFBUyxDQUNULElBQUksRUFBUyxDQUFDLEVBQ2QsUUFBUyxLQUFLLEtBQUssT0FBUSxDQUN2QixJQUFJLEVBQVMsRUFBRSxJQUFJLENBQU8sRUFDMUIsSUFBSyxFQUNELE9BQU8sS0FDWCxFQUFPLEtBQUssQ0FBTSxFQUV0QixPQUFPLElBQUksR0FBYyxFQUFRLEtBQUssTUFBTSxFQUVoRCxvQkFBb0IsQ0FBQyxFQUFLLENBQ3RCLE9BQU8sRUFBSSxPQUFPLE1BQU0sS0FBUyxLQUFLLE9BQU8sS0FBSyxLQUFLLEVBQUUsT0FBUyxLQUFLLFFBQVUsRUFBRSxNQUFRLEVBQU0sTUFBUSxFQUFFLElBQU0sRUFBTSxFQUFFLENBQUMsRUFFbEksQ0FDQSxJQUFNLEdBQXlCLEVBQVksT0FBTyxDQUM5QyxHQUFHLENBQUMsRUFBTyxFQUFTLENBQUUsT0FBTyxHQUFTLEVBQU0sSUFBSSxDQUFPLEVBQzNELENBQUMsRUFDSyxHQUEyQixFQUFZLE9BQU8sRUFDOUMsR0FBNEIsR0FBVyxPQUFPLENBQ2hELE1BQU0sRUFBRyxDQUFFLE9BQU8sTUFDbEIsTUFBTSxDQUFDLEVBQU8sRUFBSSxDQUNkLFFBQVMsS0FBVSxFQUFHLFFBQVMsQ0FDM0IsR0FBSSxFQUFPLEdBQUcsRUFBUyxFQUNuQixPQUFPLEVBQU8sTUFDbEIsR0FBSSxFQUFPLEdBQUcsRUFBVyxHQUFLLEVBQzFCLE9BQU8sSUFBSSxHQUFjLEVBQU0sT0FBUSxFQUFPLEtBQUssRUFFM0QsR0FBSSxHQUFTLEVBQUcsV0FDWixFQUFRLEVBQU0sSUFBSSxFQUFHLE9BQU8sRUFDaEMsR0FBSSxHQUFTLEVBQUcsWUFBYyxFQUFNLHFCQUFxQixFQUFHLFNBQVMsRUFDakUsRUFBUSxLQUNaLE9BQU8sR0FFWCxRQUFTLEtBQUssRUFBVyxZQUFZLEtBQUssRUFBRyxLQUFPLEVBQU0sRUFBSSxLQUFPLEVBQVcsSUFBSSxDQUN4RixDQUFDLEVBdUVLLEdBQWUsRUFBRyxRQUFPLGNBQWUsQ0FFMUMsSUFEYSxFQUFNLE1BQU0sR0FBYyxFQUFLLEVBRXhDLE1BQU8sR0FFWCxPQURBLEVBQVMsRUFBTSxPQUFPLENBQUUsUUFBUyxHQUFVLEdBQUcsSUFBSSxDQUFFLENBQUMsQ0FBQyxFQUMvQyxJQUtMLEdBQWdDLEdBQVUsQ0FBQyxFQUkzQyxHQUFnQyxHQUFVLEVBQUUsRUFpQjVDLEdBQXVCLENBQ3pCLENBQUUsSUFBSyxNQUFPLElBQUssR0FBa0IsTUFBTyxFQUFpQixFQUM3RCxDQUFFLElBQUssU0FBVSxJQUFLLEVBQWEsQ0FDdkMsRUFRTSxHQUE2QixFQUFNLE9BQU8sQ0FDNUMsT0FBTyxDQUFDLEVBQU0sQ0FBRSxPQUFPLEVBQUssT0FBUyxFQUFLLEdBQUssR0FDbkQsQ0FBQyxFQUNLLEdBQWdDLEdBQUssUUFBcUIsR0FBTyxRQUFRLENBQUMsRUFBYSxFQUFHLEtBQVMsRUFBTSxNQUFNLEVBQWEsQ0FBQyxDQUFDLEVBUzlILEdBQXFDLEVBQVcsaUJBQWlCLENBQ25FLFNBQVMsQ0FBQyxFQUFPLEVBQU0sQ0FDbkIsSUFBSSxFQUFTLEVBQUssTUFBTSxNQUFNLEdBQWMsRUFBSyxFQUFHLEVBQ3BELElBQUssSUFBVyxFQUFNLEVBQUssWUFBWSxDQUFFLEVBQUcsRUFBTSxRQUFTLEVBQUcsRUFBTSxPQUFRLENBQUMsSUFBTSxLQUMvRSxNQUFPLEdBQ1gsSUFBSSxFQUFRLEVBQU8sT0FBTyxLQUFLLEtBQUssRUFBRSxNQUFRLEdBQU8sRUFBRSxJQUFNLENBQUcsRUFDaEUsSUFBSyxHQUFTLEVBQU0sT0FBUyxFQUFPLE9BQ2hDLE1BQU8sR0FPWCxPQU5BLEVBQUssU0FBUyxDQUNWLFVBQVcsR0FBZSxFQUFPLE9BQVEsRUFBTSxLQUFLLEVBQ3BELFFBQVMsR0FBVSxHQUFHLEVBQU8sT0FBTyxLQUFLLEtBQUssRUFBRSxNQUFRLEVBQU0sS0FBSyxFQUM3RCxJQUFJLEdBQWMsRUFBTyxPQUFRLEVBQU0sS0FBSyxFQUFJLElBQUksRUFDMUQsZUFBZ0IsRUFDcEIsQ0FBQyxFQUNNLEdBRWYsQ0FBQyxFQTBGRCxJQUFNLEdBQTZCLElBQUksY0FBYyxFQUFXLENBQ2hFLEVBQ0EsR0FBYyxVQUFZLEVBQzFCLEdBQWMsUUFBVSxHQW1DeEIsSUFBTSxVQUFpQixXQUFhLFVBQXlCLFlBQVksS0FBSyxVQUFVLFNBQVMsRUE0TmpHLElBQU0sR0FBbUIsQ0FDckIsQ0FBRSxJQUFLLGFBQWMsSUFBSyxFQUFnQixFQUMxQyxDQUFFLElBQUssU0FBVSxJQUFLLEVBQWdCLEVBQ3RDLENBQUUsSUFBSyxZQUFhLElBQWtCLEdBQXdCLEVBQUksQ0FBRSxFQUNwRSxDQUFFLElBQUssVUFBVyxJQUFrQixHQUF3QixFQUFLLENBQUUsRUFDbkUsQ0FBRSxJQUFLLFdBQVksSUFBa0IsR0FBd0IsR0FBTSxNQUFNLENBQUUsRUFDM0UsQ0FBRSxJQUFLLFNBQVUsSUFBa0IsR0FBd0IsR0FBTyxNQUFNLENBQUUsRUFDMUUsQ0FBRSxJQUFLLFFBQVMsSUFBSyxFQUFpQixDQUMxQyxFQUNNLEdBQW1DLEdBQUssUUFBcUIsR0FBTyxTQUFTLENBQUMsRUFBZ0IsRUFBRyxLQUFTLEVBQU0sTUFBTSxFQUFnQixFQUFFLGNBQWdCLENBQUMsRUFBZ0IsRUFBSSxDQUFDLENBQUMsQ0FBQyxFQzczRHRMLFNBQVMsRUFBSyxDQUFDLEVBQU0sQ0FDakIsTUFBTyxDQUFDLEVBQU0sSUFBUSxDQUNsQixJQUFJLEVBQUssRUFBSyxLQUFLLFNBQVMsb0JBQW9CLEVBQ2hELEdBQUksRUFDQSxFQUFJLEVBQUksQ0FBSSxFQUNoQixNQUFPLElBZ0JmLFNBQVMsRUFBUSxDQUFDLEVBQUssRUFBTSxDQUN6QixJQUFJLEVBQVMsR0FBTSxJQUFJLENBQUksRUFDM0IsR0FBSSxFQUNBLE9BQU8sRUFDWCxJQUFJLEVBQWMsQ0FBQyxFQUFHLEVBQU0sR0FDNUIsU0FBUyxDQUFHLENBQUMsRUFBTSxFQUFNLENBQ3JCLElBQUksRUFBTyxFQUFJLFlBQVksRUFBSyxLQUFNLEVBQUssRUFBRSxFQUM3QyxFQUFZLEtBQUssQ0FBRSxNQUFPLEVBQU0sTUFBSyxDQUFDLEVBbUIxQyxPQWpCQSxFQUFLLE9BQU8sRUFBUyxnQkFBZ0IsRUFBRSxRQUFRLEtBQVEsQ0FDbkQsR0FBSSxFQUNBLEVBQU0sV0FFRCxFQUFLLEtBQU0sQ0FDaEIsSUFBSSxFQUFTLEdBQWtCLEVBQUssTUFDcEMsR0FBSSxHQUFVLEVBQU8sRUFBTSxDQUFHLEdBQUssR0FBVyxJQUFJLEVBQUssSUFBSSxFQUN2RCxNQUFPLFdBRU4sRUFBSyxHQUFLLEVBQUssS0FBTyxLQUFNLENBRWpDLFFBQVMsS0FBSyxHQUFTLEVBQUssRUFBSyxJQUFJLEVBQ2pDLEVBQVksS0FBSyxDQUFDLEVBQ3RCLE1BQU8sSUFFZCxFQUNELEdBQU0sSUFBSSxFQUFNLENBQVcsRUFDcEIsRUFlWCxTQUFTLEVBQXFCLENBQUMsRUFBUyxDQUNwQyxJQUFJLEVBQVEsRUFBVyxFQUFRLEtBQUssRUFBRSxhQUFhLEVBQVEsSUFBSyxFQUFFLEVBQ2xFLEdBQUksR0FBYSxRQUFRLEVBQU0sSUFBSSxFQUFJLEdBQ25DLE9BQU8sS0FDWCxJQUFJLEVBQVMsRUFBTSxNQUFRLGdCQUN2QixFQUFNLEdBQUssRUFBTSxLQUFPLElBQU0sR0FBVyxLQUFLLEVBQVEsTUFBTSxTQUFTLEVBQU0sS0FBTSxFQUFNLEVBQUUsQ0FBQyxFQUM5RixJQUFLLElBQVcsRUFBUSxTQUNwQixPQUFPLEtBQ1gsSUFBSSxFQUFVLENBQUMsRUFDZixRQUFTLEVBQU0sRUFBTyxFQUFLLEVBQU0sRUFBSSxPQUNqQyxHQUFJLEdBQVcsSUFBSSxFQUFJLElBQUksRUFDdkIsRUFBVSxFQUFRLE9BQU8sR0FBUyxFQUFRLE1BQU0sSUFBSyxDQUFHLENBQUMsRUFFakUsTUFBTyxDQUNILFVBQ0EsS0FBTSxFQUFTLEVBQU0sS0FBTyxFQUFRLElBQ3BDLFNBQVUsRUFDZCxFQXVMSixTQUFTLEVBQVUsQ0FBQyxFQUFTLENBQUMsRUFBRyxDQUM3QixJQUFJLEVBQU8sRUFBTyxJQUFPLEVBQU8sV0FBYSxHQUFjLEdBQ3JELEVBQU8sV0FBYSxHQUFxQixHQUMzQyxFQUFjLEVBQU8sV0FBYSxHQUFtQixPQUFPLEVBQWtCLEVBQUksR0FBUyxPQUFPLEVBQVEsRUFDOUcsT0FBTyxJQUFJLEdBQWdCLEVBQU0sQ0FDN0IsR0FBbUIsS0FBSyxHQUFHLENBQ3ZCLGFBQWMsR0FBUSxHQUFjLEdBQWlCLENBQVcsQ0FBQyxDQUNyRSxDQUFDLEVBQ0QsR0FBbUIsS0FBSyxHQUFHLENBQ3ZCLGFBQWMsRUFDbEIsQ0FBQyxFQUNELEVBQU8sSUFBTSxHQUFnQixDQUFDLENBQ2xDLENBQUMsRUFFTCxTQUFTLEVBQVcsQ0FBQyxFQUFNLENBQ3ZCLE9BQVMsQ0FDTCxHQUFJLEVBQUssTUFBUSxjQUFnQixFQUFLLE1BQVEscUJBQXVCLEVBQUssTUFBUSxpQkFDOUUsT0FBTyxFQUNYLEdBQUksRUFBSyxNQUFRLGNBQWdCLEVBQUssT0FDbEMsT0FBTyxLQUNYLEVBQU8sRUFBSyxRQUdwQixTQUFTLEVBQVcsQ0FBQyxFQUFLLEVBQU0sRUFBTSxFQUFJLE9BQVEsQ0FDOUMsUUFBUyxFQUFLLElBQVMsTUFBUSxJQUFjLE9BQVMsT0FBSSxFQUFLLFdBQVksRUFBSSxFQUFLLEVBQUcsWUFDbkYsR0FBSSxFQUFHLE1BQVEsaUJBQW1CLEVBQUcsTUFBUSxjQUFnQixFQUFHLE1BQVEscUJBQ3BFLEVBQUcsTUFBUSxzQkFDWCxPQUFPLEVBQUksWUFBWSxFQUFHLEtBQU0sS0FBSyxJQUFJLEVBQUcsR0FBSSxDQUFHLENBQUMsRUFFNUQsTUFBTyxHQXhYWCxJQUFNLEdBQVcsQ0FDQSxHQUFrQiwwQ0FBMkMsQ0FDdEUsTUFBTyxXQUNQLE9BQVEsYUFDUixLQUFNLFNBQ1YsQ0FBQyxFQUNZLEdBQWtCLHNFQUF1RSxDQUNsRyxNQUFPLE1BQ1AsT0FBUSxPQUNSLEtBQU0sU0FDVixDQUFDLEVBQ1ksR0FBa0IsaURBQWtELENBQzdFLE1BQU8sTUFDUCxPQUFRLFVBQ1IsS0FBTSxTQUNWLENBQUMsRUFDWSxHQUFrQiw2QkFBOEIsQ0FDekQsTUFBTyxLQUNQLE9BQVEsT0FDUixLQUFNLFNBQ1YsQ0FBQyxFQUNZLEdBQWtCLDBCQUEyQixDQUN0RCxNQUFPLFFBQ1AsT0FBUSxPQUNSLEtBQU0sU0FDVixDQUFDLEVBQ1ksR0FBa0IsK0NBQWdELENBQzNFLE1BQU8sTUFDUCxPQUFRLGdCQUNSLEtBQU0sU0FDVixDQUFDLEVBQ1ksR0FBa0IsdUJBQXdCLENBQ25ELE1BQU8sS0FDUCxPQUFRLFFBQ1IsS0FBTSxTQUNWLENBQUMsRUFDWSxHQUFrQix3Q0FBeUMsQ0FDcEUsTUFBTyxLQUNQLE9BQVEsZUFDUixLQUFNLFNBQ1YsQ0FBQyxFQUNZLEdBQWtCLCtEQUFnRSxDQUMzRixNQUFPLFFBQ1AsT0FBUSxhQUNSLEtBQU0sU0FDVixDQUFDLEVBQ1ksR0FBa0IsNENBQTZDLENBQ3hFLE1BQU8sU0FDUCxPQUFRLFFBQ1IsS0FBTSxTQUNWLENBQUMsRUFDWSxHQUFrQix5Q0FBMEMsQ0FDckUsTUFBTyxTQUNQLE9BQVEsVUFDUixLQUFNLFNBQ1YsQ0FBQyxDQUNMLEVBS00sR0FBa0MsR0FBUyxPQUFPLENBQ3ZDLEdBQWtCLGdDQUFpQyxDQUM1RCxNQUFPLFlBQ1AsT0FBUSxhQUNSLEtBQU0sU0FDVixDQUFDLEVBQ1ksR0FBa0IseUJBQTBCLENBQ3JELE1BQU8sT0FDUCxPQUFRLGFBQ1IsS0FBTSxTQUNWLENBQUMsRUFDWSxHQUFrQiwyQkFBNEIsQ0FDdkQsTUFBTyxPQUNQLE9BQVEsYUFDUixLQUFNLFNBQ1YsQ0FBQyxDQUNMLENBQUMsRUFFSyxHQUFxQixJQUFJLEdBQ3pCLEdBQTBCLElBQUksSUFBSSxDQUNwQyxTQUFVLFFBQ1YscUJBQXNCLHNCQUF1QixnQkFBaUIsb0JBQzlELGNBQ0osQ0FBQyxFQVNLLEdBQWtCLENBQUMscUJBQXFCLEVBQ3hDLEdBQW9CLENBQ3RCLG9CQUFrQyxHQUFNLFVBQVUsRUFDbEQsaUJBQStCLEdBQU0sT0FBTyxFQUM1QyxnQkFBaUIsSUFBTSxHQUN2QixnQkFBOEIsR0FBTSxVQUFVLEVBQzlDLHFCQUFtQyxHQUFNLE1BQU0sRUFDL0MscUJBQW1DLEdBQU0sV0FBVyxFQUNwRCxrQkFBa0IsQ0FBQyxFQUFNLEVBQUssQ0FBRSxJQUFLLEVBQUssYUFBYSxFQUFlLEVBQ2xFLEVBQUksRUFBTSxVQUFVLEdBQ3hCLGNBQWMsQ0FBQyxFQUFNLEVBQUssQ0FBRSxFQUFJLEVBQU0sTUFBTSxHQUM1QyxVQUFXLElBQ2YsRUE2Qk0sR0FBYSx3Q0FDYixHQUFlLENBQ2pCLGlCQUFrQixTQUFVLFNBQzVCLGNBQWUsZUFDZixxQkFBc0IsaUJBQWtCLFFBQ3hDLHFCQUFzQixlQUN0Qiw0QkFBNkIsc0JBQzdCLElBQUssSUFDVCxFQXVJTSxHQUFrQyxHQUFXLE9BQU8sQ0FDdEQsS0FBTSxhQUNOLE9BQXFCLEdBQU8sVUFBVSxDQUNsQyxNQUFPLENBQ1UsR0FBZSxJQUFJLENBQzVCLFlBQTBCLEdBQWdCLENBQUUsT0FBUSxnQkFBaUIsQ0FBQyxFQUN0RSxhQUEyQixHQUFnQixDQUFFLE9BQVEsMkJBQTRCLENBQUMsRUFDbEYsaUJBQWtCLEdBQ2xCLFdBQVksS0FBVyxDQUNuQixJQUFJLEVBQVEsRUFBUSxVQUFXLEVBQVMsU0FBUyxLQUFLLENBQUssRUFBRyxFQUFTLHVCQUF1QixLQUFLLENBQUssRUFDeEcsT0FBTyxFQUFRLFlBQWMsRUFBUyxFQUFJLEVBQVMsRUFBSSxHQUFLLEVBQVEsTUFFeEUsTUFBb0IsR0FBZ0IsQ0FBRSxRQUFTLEdBQUksQ0FBQyxFQUNwRCxjQUFlLEtBQU0sRUFBRyxXQUFhLEVBQUcsS0FDeEMsOEJBQStCLElBQU0sS0FDckMscUJBQW1DLEdBQWdCLENBQUUsT0FBUSxJQUFLLENBQUMsRUFDbkUsVUFBVSxDQUFDLEVBQVMsQ0FDaEIsSUFBSSxFQUFTLFVBQVUsS0FBSyxFQUFRLFNBQVMsRUFDN0MsT0FBTyxFQUFRLFdBQVcsRUFBUSxLQUFLLElBQUksR0FBSyxFQUFTLEVBQUksRUFBUSxPQUV6RSxTQUFTLENBQUMsRUFBUyxDQUNmLElBQUksRUFBUyxRQUFRLEtBQUssRUFBUSxTQUFTLEVBQzNDLE9BQU8sRUFBUSxXQUFXLEVBQVEsS0FBSyxJQUFJLEdBQUssRUFBUyxFQUFJLEVBQVEsT0FFekUsOEJBQThCLENBQUMsRUFBUyxDQUNwQyxPQUFPLEVBQVEsT0FBTyxFQUFRLEtBQUssSUFBSSxFQUFJLEVBQVEsS0FFM0QsQ0FBQyxFQUNZLEdBQWEsSUFBSSxDQUMxQixrRkFBbUYsR0FDbkYsWUFBWSxDQUFDLEVBQU0sQ0FBRSxNQUFPLENBQUUsS0FBTSxFQUFLLEtBQU8sRUFBRyxHQUFJLEVBQUssR0FBSyxDQUFFLEVBQ3ZFLENBQUMsQ0FDTCxDQUNKLENBQUMsRUFDRCxhQUFjLENBQ1YsY0FBZSxDQUFFLFNBQVUsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssR0FBRyxDQUFFLEVBQzFELGNBQWUsQ0FBRSxLQUFNLEtBQU0sTUFBTyxDQUFFLEtBQU0sS0FBTSxNQUFPLElBQUssQ0FBRSxFQUNoRSxjQUFlLG9DQUNmLFVBQVcsR0FDZixDQUNKLENBQUMsRUFDSyxHQUFpQixDQUNuQixLQUFNLEtBQVEsT0FBTyxLQUFLLEVBQUssSUFBSSxFQUNuQyxNQUFvQixHQUFvQixDQUFFLGNBQWUsQ0FBRSxNQUFPLENBQUUsS0FBTSxNQUFPLE1BQU8sS0FBTSxDQUFFLENBQUUsQ0FBQyxDQUN2RyxFQUlNLEdBQWtDLEdBQW1CLFVBQVUsQ0FBRSxRQUFTLElBQUssRUFBRyxZQUFZLEVBSTlGLEdBQTJCLEdBQW1CLFVBQVUsQ0FDMUQsUUFBUyxNQUNULE1BQU8sQ0FBYyxHQUFnQixJQUFJLEtBQUssRUFBRSxNQUFRLENBQUMsRUFBYyxFQUFJLE1BQVMsQ0FBQyxDQUN6RixDQUFDLEVBSUssR0FBMkIsR0FBbUIsVUFBVSxDQUMxRCxRQUFTLFNBQ1QsTUFBTyxDQUFjLEdBQWdCLElBQUksS0FBSyxFQUFFLE1BQVEsQ0FBQyxFQUFjLEVBQUksTUFBUyxDQUFDLENBQ3pGLEVBQUcsWUFBWSxFQUNYLEdBQWUsQ0FBQyxLQUFVLENBQUUsTUFBTyxFQUFNLEtBQU0sU0FBVSxHQUN2RCxHQUF3QiwwSkFBMEosTUFBTSxHQUFHLEVBQUUsSUFBSSxFQUFZLEVBQzdNLEdBQWtDLEdBQVMsT0FBb0IsQ0FBQyxVQUFXLGFBQWMsVUFBVyxZQUFhLFFBQVEsRUFBRSxJQUFJLEVBQVksQ0FBQyxFQW9DNUksVUFBaUIsV0FBYSxVQUF5QixZQUFZLEtBQUssVUFBVSxTQUFTLEVBSzNGLEdBQTZCLEVBQVcsYUFBYSxHQUFHLENBQUMsRUFBTSxFQUFNLEVBQUksRUFBTSxJQUFrQixDQUNuRyxJQUFLLEdBQVUsRUFBSyxVQUFZLEVBQUsscUJBQXVCLEVBQUssTUFBTSxVQUNuRSxHQUFRLEdBQU8sR0FBUSxLQUFPLEdBQVEsTUFDckMsR0FBbUIsV0FBVyxFQUFLLE1BQU8sRUFBTSxFQUFFLEVBQ25ELE1BQU8sR0FDWCxJQUFJLEVBQU8sRUFBYyxHQUFLLFNBQVUsRUFDcEMsRUFBWSxFQUFNLGNBQWMsS0FBUyxDQUN6QyxJQUFJLEVBQ0osSUFBTSxRQUFTLEVBQU8sRUFBUyxFQUFXLENBQUssRUFBRSxhQUFhLEVBQU8sRUFBRyxFQUFFLEVBQUcsRUFDN0UsR0FBSSxFQUFPLE1BQVEsY0FDZixFQUFTLEVBQU8sT0FDcEIsR0FBSSxFQUFNLElBQUksWUFBWSxFQUFPLEVBQUcsQ0FBSSxHQUFLLEdBQVEsRUFBTyxNQUFRLHFCQUF1QixFQUFPLEdBQUssV0FDOUYsR0FBUSxLQUFPLEVBQU8sTUFBUSxpQkFDbkMsTUFBTyxDQUFFLFFBQU8sUUFBUyxDQUFFLEtBQU0sRUFBTSxPQUFRLEtBQU0sQ0FBRSxVQUVsRCxHQUFRLEtBQU8sRUFBTyxNQUFRLG1CQUFvQixDQUN2RCxJQUFJLEVBQVEsRUFBTyxPQUFRLEVBQU8sRUFBTSxPQUN4QyxHQUFJLEdBQVEsRUFBTSxNQUFRLEVBQU8sS0FDM0IsRUFBTyxHQUFZLEVBQU0sSUFBSyxFQUFLLFdBQVksQ0FBSSxNQUFRLEVBQUssRUFBSyxjQUFnQixNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsT0FBUyxrQkFBbUIsQ0FDdkosSUFBSSxFQUFTLEdBQUcsS0FDaEIsTUFBTyxDQUFFLE1BQU8sRUFBZ0IsT0FBTyxFQUFPLEVBQU8sT0FBUSxFQUFFLEVBQUcsUUFBUyxDQUFFLEtBQU0sRUFBTSxRQUFPLENBQUUsV0FHakcsR0FBUSxJQUFLLENBQ2xCLElBQUksRUFBVSxHQUFZLENBQU0sRUFDaEMsR0FBSSxHQUFXLEVBQVEsTUFBUSxlQUMxQixhQUFhLEtBQUssRUFBTSxJQUFJLFlBQVksRUFBTSxFQUFPLENBQUMsQ0FBQyxJQUN2RCxFQUFPLEdBQVksRUFBTSxJQUFLLEVBQVMsQ0FBSSxHQUM1QyxNQUFPLENBQUUsUUFBTyxRQUFTLENBQUUsS0FBTSxFQUFNLE9BQVEsS0FBSyxJQUFRLENBQUUsRUFFdEUsTUFBTyxDQUFFLE9BQU0sRUFDbEIsRUFDRCxHQUFJLEVBQVUsUUFBUSxNQUNsQixNQUFPLEdBS1gsT0FKQSxFQUFLLFNBQVMsQ0FDVixFQUNBLEVBQU0sT0FBTyxFQUFXLENBQUUsVUFBVyxpQkFBa0IsZUFBZ0IsRUFBSyxDQUFDLENBQ2pGLENBQUMsRUFDTSxHQUNWLEVDM0VELFNBQVMsRUFBVyxDQUFDLEVBQUssRUFBTSxFQUFNLEVBQUksT0FBUSxDQUM5QyxJQUFLLEVBQ0QsTUFBTyxHQUNYLElBQUksRUFBTSxFQUFLLFdBQ1gsRUFBTyxHQUFPLEVBQUksU0FBUyxTQUFTLEVBQ3hDLE9BQU8sRUFBTyxFQUFJLFlBQVksRUFBSyxLQUFNLEtBQUssSUFBSSxFQUFLLEdBQUksQ0FBRyxDQUFDLEVBQUksR0FFdkUsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBTyxHQUFPLENBQzNDLEtBQU8sRUFBTSxFQUFPLEVBQUssT0FDckIsR0FBSSxFQUFLLE1BQVEsVUFDYixHQUFJLEVBQ0EsRUFBTyxPQUVQLFFBQU8sRUFFbkIsT0FBTyxLQUVYLFNBQVMsRUFBZSxDQUFDLEVBQUssRUFBTSxFQUFRLENBQ3hDLElBQUksRUFBYSxFQUFPLEtBQUssR0FBWSxFQUFLLEdBQWtCLENBQUksQ0FBQyxHQUNyRSxPQUFRLElBQWUsTUFBUSxJQUFvQixPQUFTLE9BQUksRUFBVyxXQUFhLEVBQU8sUUFFbkcsU0FBUyxFQUFRLENBQUMsRUFBSyxFQUFNLENBQ3pCLElBQUksRUFBTyxDQUFDLEVBQ1osUUFBUyxFQUFTLEdBQWtCLENBQUksRUFBRyxJQUFXLEVBQU8sS0FBSyxNQUFPLEVBQVMsR0FBa0IsRUFBTyxNQUFNLEVBQUcsQ0FDaEgsSUFBSSxFQUFVLEdBQVksRUFBSyxDQUFNLEVBQ3JDLEdBQUksR0FBVyxFQUFPLFVBQVUsTUFBUSxXQUNwQyxNQUNKLEdBQUksR0FBVyxFQUFLLFFBQVEsQ0FBTyxFQUFJLElBQU0sRUFBSyxNQUFRLFVBQVksRUFBSyxNQUFRLEVBQU8sV0FBVyxJQUNqRyxFQUFLLEtBQUssQ0FBTyxFQUV6QixPQUFPLEVBR1gsU0FBUyxFQUFXLENBQUMsRUFBTyxFQUFRLEVBQU0sRUFBTSxFQUFJLENBQ2hELElBQUksRUFBTSxPQUFPLEtBQUssRUFBTSxTQUFTLEVBQUksRUFBSyxDQUFDLENBQUMsRUFBSSxHQUFLLElBQ3JELEVBQVMsR0FBa0IsRUFBTSxFQUFJLEVBQ3pDLE1BQU8sQ0FBRSxPQUFNLEtBQ1gsUUFBUyxHQUFnQixFQUFNLElBQUssRUFBUSxDQUFNLEVBQUUsSUFBSSxNQUFZLENBQUUsTUFBTyxFQUFTLEtBQU0sTUFBTyxFQUFFLEVBQUUsT0FBTyxHQUFTLEVBQU0sSUFBSyxDQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUssS0FBTyxDQUFFLE1BQU8sSUFBTSxFQUFLLE1BQU8sSUFBTSxFQUFNLEVBQzVMLEtBQU0sT0FBUSxNQUFPLEdBQUssQ0FBRSxFQUFFLENBQUMsRUFDbkMsU0FBVSw4QkFBK0IsRUFFakQsU0FBUyxFQUFnQixDQUFDLEVBQU8sRUFBTSxFQUFNLEVBQUksQ0FDN0MsSUFBSSxFQUFNLE9BQU8sS0FBSyxFQUFNLFNBQVMsRUFBSSxFQUFLLENBQUMsQ0FBQyxFQUFJLEdBQUssSUFDekQsTUFBTyxDQUFFLE9BQU0sS0FDWCxRQUFTLEdBQVMsRUFBTSxJQUFLLENBQUksRUFBRSxJQUFJLENBQUMsRUFBSyxLQUFPLENBQUUsTUFBTyxFQUFLLE1BQU8sRUFBTSxFQUFLLEtBQU0sT0FBUSxNQUFPLEdBQUssQ0FBRSxFQUFFLEVBQ2xILFNBQVUsRUFBVyxFQUU3QixTQUFTLEVBQWdCLENBQUMsRUFBTyxFQUFRLEVBQU0sRUFBSyxDQUNoRCxJQUFJLEVBQVUsQ0FBQyxFQUFHLEVBQVEsRUFDMUIsUUFBUyxLQUFXLEdBQWdCLEVBQU0sSUFBSyxFQUFNLENBQU0sRUFDdkQsRUFBUSxLQUFLLENBQUUsTUFBTyxJQUFNLEVBQVMsS0FBTSxNQUFPLENBQUMsRUFDdkQsUUFBUyxLQUFRLEdBQVMsRUFBTSxJQUFLLENBQUksRUFDckMsRUFBUSxLQUFLLENBQUUsTUFBTyxLQUFPLEVBQU8sSUFBSyxLQUFNLE9BQVEsTUFBTyxHQUFLLEdBQVEsQ0FBQyxFQUNoRixNQUFPLENBQUUsS0FBTSxFQUFLLEdBQUksRUFBSyxVQUFTLFNBQVUsK0JBQWdDLEVBRXBGLFNBQVMsRUFBZ0IsQ0FBQyxFQUFPLEVBQVEsRUFBTSxFQUFNLEVBQUksQ0FDckQsSUFBSSxFQUFNLEdBQWtCLENBQUksRUFBRyxFQUFPLEVBQU0sRUFBTyxLQUFLLEdBQVksRUFBTSxJQUFLLENBQUcsR0FBSyxLQUN2RixFQUFhLEdBQVEsRUFBSyxNQUFRLE9BQU8sS0FBSyxFQUFLLEtBQUssRUFBSSxDQUFDLEVBQzdELEVBQVEsR0FBUSxFQUFLLGNBQWdCLEdBQVEsRUFDM0MsRUFBVyxPQUFTLEVBQVcsT0FBTyxFQUFPLGVBQWUsRUFBSSxFQUFPLGdCQUM3RSxNQUFPLENBQUUsT0FBTSxLQUNYLFFBQVMsRUFBTSxJQUFJLE1BQWEsQ0FBRSxNQUFPLEVBQVUsS0FBTSxVQUFXLEVBQUUsRUFDdEUsU0FBVSxFQUFXLEVBRTdCLFNBQVMsRUFBaUIsQ0FBQyxFQUFPLEVBQVEsRUFBTSxFQUFNLEVBQUksQ0FDdEQsSUFBSSxFQUNKLElBQUksR0FBWSxFQUFLLEVBQUssVUFBWSxNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsU0FBUyxlQUFlLEVBQzlGLEVBQVUsQ0FBQyxFQUFHLEVBQVEsT0FDMUIsR0FBSSxFQUFVLENBQ1YsSUFBSSxFQUFXLEVBQU0sU0FBUyxFQUFTLEtBQU0sRUFBUyxFQUFFLEVBQ3BELEVBQVEsRUFBTyxZQUFZLEdBQy9CLElBQUssRUFBTyxDQUNSLElBQUksRUFBTSxHQUFrQixDQUFJLEVBQUcsRUFBTyxFQUFNLEVBQU8sS0FBSyxHQUFZLEVBQU0sSUFBSyxDQUFHLEdBQUssS0FDM0YsR0FBUyxJQUFTLE1BQVEsSUFBYyxPQUFTLE9BQUksRUFBSyxRQUFVLEVBQUssTUFBTSxHQUVuRixHQUFJLEVBQU8sQ0FDUCxJQUFJLEVBQU8sRUFBTSxTQUFTLEVBQU0sQ0FBRSxFQUFFLFlBQVksRUFBRyxFQUFhLElBQUssRUFBVyxJQUNoRixHQUFJLFFBQVEsS0FBSyxDQUFJLEVBQ2pCLEVBQVEsRUFBSyxJQUFNLElBQU0sVUFBWSxVQUNyQyxFQUFhLEdBQ2IsRUFBVyxFQUFNLFNBQVMsRUFBSSxFQUFLLENBQUMsR0FBSyxFQUFLLEdBQUssR0FBSyxFQUFLLEdBQzdELEVBQU8sRUFBSyxNQUFNLENBQUMsRUFDbkIsUUFHQSxHQUFRLGdCQUVaLFFBQVMsS0FBUyxFQUNkLEVBQVEsS0FBSyxDQUFFLE1BQU8sRUFBTyxNQUFPLEVBQWEsRUFBUSxFQUFVLEtBQU0sVUFBVyxDQUFDLEdBR2pHLE1BQU8sQ0FBRSxPQUFNLEtBQUksVUFBUyxTQUFVLENBQU0sRUFFaEQsU0FBUyxFQUFpQixDQUFDLEVBQVEsRUFBUyxDQUN4QyxJQUFNLFFBQU8sT0FBUSxFQUFTLEVBQU8sRUFBVyxDQUFLLEVBQUUsYUFBYSxFQUFLLEVBQUUsRUFBRyxFQUFTLEVBQUssUUFBUSxDQUFHLEVBQ3ZHLFFBQVMsRUFBTyxFQUFLLEVBQVEsR0FBVSxJQUFTLEVBQVMsRUFBSyxZQUFZLENBQUksSUFBSyxDQUMvRSxJQUFJLEVBQU8sRUFBTyxVQUNsQixJQUFLLElBQVMsRUFBSyxLQUFLLFNBQVcsRUFBSyxLQUFPLEVBQUssR0FDaEQsTUFDSixFQUFTLEVBQU8sRUFDaEIsRUFBTyxFQUFLLEtBRWhCLEdBQUksRUFBSyxNQUFRLFVBQ2IsT0FBTyxFQUFLLFFBQVUsWUFBWSxLQUFLLEVBQUssT0FBTyxJQUFJLEVBQUksR0FBaUIsRUFBTyxFQUFNLEVBQUssS0FBTSxDQUFHLEVBQ2pHLEdBQVksRUFBTyxFQUFRLEVBQU0sRUFBSyxLQUFNLENBQUcsVUFFaEQsRUFBSyxNQUFRLFdBQ2xCLE9BQU8sR0FBWSxFQUFPLEVBQVEsRUFBTSxFQUFLLENBQUcsVUFFM0MsRUFBSyxNQUFRLGlCQUFtQixFQUFLLE1BQVEscUJBQ2xELE9BQU8sR0FBaUIsRUFBTyxFQUFNLEVBQUssQ0FBRyxVQUV4QyxFQUFLLE1BQVEsV0FBYSxFQUFLLE1BQVEsa0JBQW9CLEVBQUssTUFBUSxnQkFDN0UsT0FBTyxHQUFpQixFQUFPLEVBQVEsRUFBTSxFQUFLLE1BQVEsZ0JBQWtCLEVBQUssS0FBTyxFQUFLLENBQUcsVUFFM0YsRUFBSyxNQUFRLE1BQVEsRUFBSyxNQUFRLGtCQUFvQixFQUFLLE1BQVEseUJBQ3hFLE9BQU8sR0FBa0IsRUFBTyxFQUFRLEVBQU0sRUFBSyxNQUFRLEtBQU8sRUFBTSxFQUFLLEtBQU0sQ0FBRyxVQUVqRixFQUFRLFdBQWEsRUFBTyxNQUFRLFdBQWEsRUFBTyxNQUFRLFFBQVUsRUFBTyxNQUFRLFlBQzlGLE9BQU8sR0FBaUIsRUFBTyxFQUFRLEVBQU0sQ0FBRyxNQUdoRCxRQUFPLEtBY2YsU0FBUyxFQUF3QixDQUFDLEVBQVEsQ0FDdEMsSUFBTSxZQUFXLHNCQUF1QixHQUFlLEVBQ25ELEVBQVMsR0FBYyxFQUFZLElBQUksR0FBTyxFQUFXLENBQVUsRUFBSSxHQUFPLFFBQ2xGLE1BQU8sQ0FBQyxJQUFZLEdBQWtCLEVBQVEsQ0FBTyxFQXNHekQsU0FBUyxFQUFJLENBQUMsRUFBUyxDQUFDLEVBQUcsQ0FDdkIsSUFBSSxFQUFVLEdBQUksRUFDbEIsR0FBSSxFQUFPLG1CQUFxQixHQUM1QixFQUFVLFVBQ2QsR0FBSSxFQUFPLGtCQUFvQixHQUMzQixHQUFXLEVBQVUsRUFBVSxJQUFNLElBQU0sY0FDL0MsR0FBSSxFQUFPLGlCQUFtQixFQUFPLGdCQUFnQixRQUNqRCxFQUFPLGtCQUFvQixFQUFPLGlCQUFpQixPQUNuRCxFQUFPLElBQWtCLEVBQU8saUJBQW1CLENBQUMsR0FBRyxPQUFPLEVBQWMsR0FBSSxFQUFPLGtCQUFvQixDQUFDLEdBQUcsT0FBTyxFQUFZLENBQUMsRUFDdkksSUFBSSxFQUFPLEVBQU8sR0FBVSxVQUFVLENBQUUsT0FBTSxTQUFRLENBQUMsRUFBSSxFQUFVLEdBQWEsVUFBVSxDQUFFLFNBQVEsQ0FBQyxFQUFJLEdBQzNHLE9BQU8sSUFBSSxHQUFnQixFQUFNLENBQzdCLEdBQWEsS0FBSyxHQUFHLENBQUUsYUFBYyxHQUF5QixDQUFNLENBQUUsQ0FBQyxFQUN2RSxFQUFPLGdCQUFrQixHQUFRLEdBQWdCLENBQUMsRUFDbEQsR0FBVyxFQUFFLFFBQ2IsR0FBSSxFQUFFLE9BQ1YsQ0FBQyxFQS9sQkwsSUFBTSxHQUFVLENBQUMsU0FBVSxRQUFTLE9BQVEsU0FBUyxFQUMvQyxHQUFXLENBQUMsUUFBUyxRQUFTLFNBQVUsU0FBVSxRQUFRLEVBQzFELEdBQVUsQ0FBQyxNQUFPLE9BQVEsTUFBTyxRQUFRLEVBQ3pDLEdBQU8sQ0FBQyxvQ0FBcUMsc0JBQXVCLFlBQVksRUFDaEYsR0FBTyxDQUFDLE9BQVEsT0FBTyxFQUN2QixFQUFJLENBQUMsRUFDTCxHQUFPLENBQ1QsRUFBRyxDQUNDLE1BQU8sQ0FDSCxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FDOUIsTUFBTyxLQUNQLE9BQVEsR0FDUixTQUFVLElBQ2QsQ0FDSixFQUNBLEtBQU0sRUFDTixRQUFTLEVBQ1QsS0FBTSxDQUNGLE1BQU8sQ0FDSCxJQUFLLEtBQU0sT0FBUSxLQUFNLEtBQU0sS0FBTSxPQUFRLEtBQU0sS0FBTSxLQUN6RCxNQUFPLEtBQU0sU0FBVSxLQUFNLEtBQU0sS0FDbkMsTUFBTyxDQUFDLFVBQVcsT0FBUSxTQUFVLE1BQU0sQ0FDL0MsQ0FDSixFQUNBLFFBQVMsRUFDVCxNQUFPLEVBQ1AsTUFBTyxDQUNILE1BQU8sQ0FDSCxJQUFLLEtBQU0sV0FBWSxLQUN2QixZQUFhLENBQUMsWUFBYSxpQkFBaUIsRUFDNUMsUUFBUyxDQUFDLE9BQVEsV0FBWSxNQUFNLEVBQ3BDLFNBQVUsQ0FBQyxVQUFVLEVBQ3JCLEtBQU0sQ0FBQyxNQUFNLEVBQ2IsU0FBVSxDQUFDLFVBQVUsQ0FDekIsQ0FDSixFQUNBLEVBQUcsRUFDSCxLQUFNLENBQUUsTUFBTyxDQUFFLEtBQU0sS0FBTSxPQUFRLEVBQVEsQ0FBRSxFQUMvQyxJQUFLLEVBQ0wsSUFBSyxFQUNMLFdBQVksQ0FBRSxNQUFPLENBQUUsS0FBTSxJQUFLLENBQUUsRUFDcEMsS0FBTSxFQUNOLEdBQUksRUFDSixPQUFRLENBQ0osTUFBTyxDQUNILEtBQU0sS0FBTSxXQUFZLEtBQU0sS0FBTSxLQUFNLE1BQU8sS0FDakQsVUFBVyxDQUFDLFdBQVcsRUFDdkIsU0FBVSxDQUFDLFdBQVcsRUFDdEIsWUFBYSxHQUNiLFdBQVksR0FDWixlQUFnQixDQUFDLFlBQVksRUFDN0IsV0FBWSxHQUNaLEtBQU0sQ0FBQyxTQUFVLFFBQVMsUUFBUSxDQUN0QyxDQUNKLEVBQ0EsT0FBUSxDQUFFLE1BQU8sQ0FBRSxNQUFPLEtBQU0sT0FBUSxJQUFLLENBQUUsRUFDL0MsUUFBUyxFQUNULE9BQVEsRUFDUixLQUFNLEVBQ04sS0FBTSxFQUNOLElBQUssQ0FBRSxNQUFPLENBQUUsS0FBTSxJQUFLLENBQUUsRUFDN0IsU0FBVSxDQUFFLE1BQU8sQ0FBRSxLQUFNLElBQUssQ0FBRSxFQUNsQyxRQUFTLENBQ0wsTUFBTyxDQUNILEtBQU0sQ0FBQyxVQUFXLFdBQVksT0FBTyxFQUNyQyxNQUFPLEtBQU0sS0FBTSxLQUFNLFdBQVksS0FBTSxRQUFTLEtBQU0sTUFBTyxLQUNqRSxTQUFVLENBQUMsVUFBVSxFQUNyQixRQUFTLENBQUMsU0FBUyxDQUN2QixDQUNKLEVBQ0EsS0FBTSxDQUFFLE1BQU8sQ0FBRSxNQUFPLElBQUssQ0FBRSxFQUMvQixTQUFVLENBQUUsTUFBTyxDQUFFLFNBQVUsQ0FBQyxVQUFVLEVBQUcsU0FBVSxDQUFDLFVBQVUsQ0FBRSxDQUFFLEVBQ3RFLFNBQVUsQ0FBRSxNQUFPLENBQUUsS0FBTSxJQUFLLENBQUUsRUFDbEMsR0FBSSxFQUNKLElBQUssQ0FBRSxNQUFPLENBQUUsS0FBTSxLQUFNLFNBQVUsSUFBSyxDQUFFLEVBQzdDLFFBQVMsQ0FBRSxNQUFPLENBQUUsS0FBTSxDQUFDLE1BQU0sQ0FBRSxDQUFFLEVBQ3JDLElBQUssRUFDTCxJQUFLLEVBQ0wsR0FBSSxFQUNKLEdBQUksRUFDSixHQUFJLEVBQ0osTUFBTyxDQUFFLE1BQU8sQ0FBRSxJQUFLLEtBQU0sS0FBTSxLQUFNLE1BQU8sS0FBTSxPQUFRLElBQUssQ0FBRSxFQUNyRSxZQUFhLENBQUUsTUFBTyxDQUFFLElBQUssSUFBSyxDQUFFLEVBQ3BDLFNBQVUsQ0FBRSxNQUFPLENBQUUsU0FBVSxDQUFDLFVBQVUsRUFBRyxLQUFNLEtBQU0sS0FBTSxJQUFLLENBQUUsRUFDdEUsV0FBWSxFQUNaLE9BQVEsRUFDUixPQUFRLEVBQ1IsS0FBTSxDQUNGLE1BQU8sQ0FDSCxPQUFRLEtBQU0sS0FBTSxLQUNwQixpQkFBa0IsR0FDbEIsYUFBYyxDQUFDLEtBQU0sS0FBSyxFQUMxQixRQUFTLEdBQ1QsT0FBUSxHQUNSLFdBQVksQ0FBQyxZQUFZLEVBQ3pCLE9BQVEsRUFDWixDQUNKLEVBQ0EsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQ3ZDLEtBQU0sQ0FDRixTQUFVLENBQUMsUUFBUyxPQUFRLE9BQVEsUUFBUyxPQUFRLFNBQVUsV0FBWSxTQUFTLENBQ3hGLEVBQ0EsT0FBUSxFQUNSLE9BQVEsRUFDUixHQUFJLEVBQ0osS0FBTSxDQUNGLE1BQU8sQ0FBRSxTQUFVLElBQUssQ0FDNUIsRUFDQSxFQUFHLEVBQ0gsT0FBUSxDQUNKLE1BQU8sQ0FDSCxJQUFLLEtBQU0sT0FBUSxLQUFNLEtBQU0sS0FBTSxNQUFPLEtBQU0sT0FBUSxLQUMxRCxRQUFTLENBQUMsdUJBQXdCLG9CQUFxQixjQUFlLGVBQWUsRUFDckYsU0FBVSxDQUFDLFVBQVUsQ0FDekIsQ0FDSixFQUNBLElBQUssQ0FDRCxNQUFPLENBQ0gsSUFBSyxLQUFNLElBQUssS0FBTSxNQUFPLEtBQU0sT0FBUSxLQUFNLE1BQU8sS0FBTSxPQUFRLEtBQ3RFLFlBQWEsQ0FBQyxZQUFhLGlCQUFpQixDQUNoRCxDQUNKLEVBQ0EsTUFBTyxDQUNILE1BQU8sQ0FDSCxJQUFLLEtBQU0sUUFBUyxLQUFNLEtBQU0sS0FBTSxXQUFZLEtBQ2xELE9BQVEsS0FBTSxLQUFNLEtBQU0sSUFBSyxLQUFNLFVBQVcsS0FBTSxJQUFLLEtBQzNELEtBQU0sS0FBTSxRQUFTLEtBQU0sWUFBYSxLQUFNLEtBQU0sS0FBTSxJQUFLLEtBQy9ELEtBQU0sS0FBTSxNQUFPLEtBQU0sTUFBTyxLQUNoQyxPQUFRLENBQUMsVUFBVyxVQUFXLFNBQVMsRUFDeEMsYUFBYyxDQUFDLEtBQU0sS0FBSyxFQUMxQixVQUFXLENBQUMsV0FBVyxFQUN2QixRQUFTLENBQUMsU0FBUyxFQUNuQixTQUFVLENBQUMsVUFBVSxFQUNyQixZQUFhLEdBQ2IsV0FBWSxHQUNaLGVBQWdCLENBQUMsWUFBWSxFQUM3QixXQUFZLEdBQ1osU0FBVSxDQUFDLFVBQVUsRUFDckIsU0FBVSxDQUFDLFVBQVUsRUFDckIsU0FBVSxDQUFDLFVBQVUsRUFDckIsS0FBTSxDQUFDLFNBQVUsT0FBUSxTQUFVLE1BQU8sTUFBTyxRQUFTLFdBQVksV0FBWSxPQUFRLFFBQ3RGLE9BQVEsT0FBUSxpQkFBa0IsU0FBVSxRQUFTLFFBQVMsV0FBWSxRQUMxRSxPQUFRLFNBQVUsUUFBUyxRQUFTLFFBQVEsQ0FDcEQsQ0FDSixFQUNBLElBQUssQ0FBRSxNQUFPLENBQUUsS0FBTSxLQUFNLFNBQVUsSUFBSyxDQUFFLEVBQzdDLElBQUssRUFDTCxPQUFRLENBQ0osTUFBTyxDQUNILFVBQVcsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUNuQyxVQUFXLENBQUMsV0FBVyxFQUN2QixTQUFVLENBQUMsVUFBVSxFQUNyQixRQUFTLENBQUMsS0FBSyxDQUNuQixDQUNKLEVBQ0EsTUFBTyxDQUFFLE1BQU8sQ0FBRSxJQUFLLEtBQU0sS0FBTSxJQUFLLENBQUUsRUFDMUMsT0FBUSxFQUNSLEdBQUksQ0FBRSxNQUFPLENBQUUsTUFBTyxJQUFLLENBQUUsRUFDN0IsS0FBTSxDQUNGLE1BQU8sQ0FDSCxLQUFNLEtBQU0sS0FBTSxLQUNsQixTQUFVLEtBQ1YsTUFBTyxLQUNQLE1BQU8sQ0FBQyxNQUFPLFFBQVMsY0FBZSxtQkFBbUIsQ0FDOUQsQ0FDSixFQUNBLElBQUssQ0FBRSxNQUFPLENBQUUsS0FBTSxJQUFLLENBQUUsRUFDN0IsS0FBTSxFQUNOLEtBQU0sQ0FBRSxNQUFPLENBQUUsTUFBTyxLQUFNLEtBQU0sQ0FBQyxPQUFRLFVBQVcsU0FBUyxDQUFFLENBQUUsRUFDckUsS0FBTSxDQUNGLE1BQU8sQ0FDSCxRQUFTLEtBQ1QsUUFBUyxHQUNULEtBQU0sQ0FBQyxXQUFZLG1CQUFvQixTQUFVLGNBQWUsWUFBYSxVQUFVLEVBQ3ZGLGFBQWMsQ0FBQyxtQkFBb0IsZUFBZ0IsZ0JBQWlCLFNBQVMsQ0FDakYsQ0FDSixFQUNBLE1BQU8sQ0FBRSxNQUFPLENBQUUsTUFBTyxLQUFNLElBQUssS0FBTSxJQUFLLEtBQU0sS0FBTSxLQUFNLElBQUssS0FBTSxRQUFTLElBQUssQ0FBRSxFQUM1RixJQUFLLEVBQ0wsU0FBVSxFQUNWLE9BQVEsQ0FDSixNQUFPLENBQ0gsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sT0FBUSxLQUFNLEtBQU0sS0FBTSxNQUFPLEtBQU0sT0FBUSxLQUNuRixjQUFlLENBQUMsZUFBZSxDQUNuQyxDQUNKLEVBQ0EsR0FBSSxDQUFFLE1BQU8sQ0FBRSxTQUFVLENBQUMsVUFBVSxFQUFHLE1BQU8sS0FBTSxLQUFNLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxHQUFHLENBQUUsRUFDaEYsU0FBVSxDQUFDLEtBQU0sU0FBVSxXQUFZLEtBQU0sSUFBSSxDQUFFLEVBQ3ZELFNBQVUsQ0FBRSxNQUFPLENBQUUsU0FBVSxDQUFDLFVBQVUsRUFBRyxNQUFPLElBQUssQ0FBRSxFQUMzRCxPQUFRLENBQUUsTUFBTyxDQUFFLFNBQVUsQ0FBQyxVQUFVLEVBQUcsTUFBTyxLQUFNLFNBQVUsQ0FBQyxVQUFVLEVBQUcsTUFBTyxJQUFLLENBQUUsRUFDOUYsT0FBUSxDQUFFLE1BQU8sQ0FBRSxJQUFLLEtBQU0sS0FBTSxLQUFNLEtBQU0sSUFBSyxDQUFFLEVBQ3ZELEVBQUcsRUFDSCxNQUFPLENBQUUsTUFBTyxDQUFFLEtBQU0sS0FBTSxNQUFPLElBQUssQ0FBRSxFQUM1QyxJQUFLLEVBQ0wsU0FBVSxDQUFFLE1BQU8sQ0FBRSxNQUFPLEtBQU0sSUFBSyxJQUFLLENBQUUsRUFDOUMsRUFBRyxDQUFFLE1BQU8sQ0FBRSxLQUFNLElBQUssQ0FBRSxFQUMzQixHQUFJLEVBQ0osR0FBSSxFQUNKLEtBQU0sRUFDTixLQUFNLEVBQ04sT0FBUSxDQUNKLE1BQU8sQ0FDSCxLQUFNLENBQUMsaUJBQWlCLEVBQ3hCLElBQUssS0FDTCxNQUFPLENBQUMsT0FBTyxFQUNmLE1BQU8sQ0FBQyxPQUFPLEVBQ2YsUUFBUyxFQUNiLENBQ0osRUFDQSxRQUFTLEVBQ1QsT0FBUSxDQUNKLE1BQU8sQ0FDSCxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FDOUIsVUFBVyxDQUFDLFdBQVcsRUFDdkIsU0FBVSxDQUFDLFVBQVUsRUFDckIsU0FBVSxDQUFDLFVBQVUsQ0FDekIsQ0FDSixFQUNBLEtBQU0sQ0FBRSxNQUFPLENBQUUsS0FBTSxJQUFLLENBQUUsRUFDOUIsTUFBTyxFQUNQLE9BQVEsQ0FBRSxNQUFPLENBQUUsSUFBSyxLQUFNLEtBQU0sS0FBTSxNQUFPLElBQUssQ0FBRSxFQUN4RCxLQUFNLEVBQ04sT0FBUSxFQUNSLE1BQU8sQ0FDSCxNQUFPLENBQ0gsS0FBTSxDQUFDLFVBQVUsRUFDakIsTUFBTyxLQUNQLE9BQVEsSUFDWixDQUNKLEVBQ0EsSUFBSyxFQUNMLFFBQVMsRUFDVCxJQUFLLEVBQ0wsTUFBTyxFQUNQLE1BQU8sRUFDUCxHQUFJLENBQUUsTUFBTyxDQUFFLFFBQVMsS0FBTSxRQUFTLEtBQU0sUUFBUyxJQUFLLENBQUUsRUFDN0QsU0FBVSxFQUNWLFNBQVUsQ0FDTixNQUFPLENBQ0gsUUFBUyxLQUFNLEtBQU0sS0FBTSxVQUFXLEtBQU0sS0FBTSxLQUFNLFlBQWEsS0FDckUsS0FBTSxLQUFNLEtBQU0sS0FDbEIsVUFBVyxDQUFDLFdBQVcsRUFDdkIsU0FBVSxDQUFDLFVBQVUsRUFDckIsU0FBVSxDQUFDLFVBQVUsRUFDckIsU0FBVSxDQUFDLFVBQVUsRUFDckIsS0FBTSxDQUFDLE9BQVEsTUFBTSxDQUN6QixDQUNKLEVBQ0EsTUFBTyxFQUNQLEdBQUksQ0FBRSxNQUFPLENBQUUsUUFBUyxLQUFNLFFBQVMsS0FBTSxRQUFTLEtBQU0sTUFBTyxDQUFDLE1BQU8sTUFBTyxXQUFZLFVBQVUsQ0FBRSxDQUFFLEVBQzVHLE1BQU8sRUFDUCxLQUFNLENBQUUsTUFBTyxDQUFFLFNBQVUsSUFBSyxDQUFFLEVBQ2xDLE1BQU8sRUFDUCxHQUFJLEVBQ0osTUFBTyxDQUNILE1BQU8sQ0FDSCxJQUFLLEtBQU0sTUFBTyxLQUFNLFFBQVMsS0FDakMsS0FBTSxDQUFDLFlBQWEsV0FBWSxlQUFnQixXQUFZLFVBQVUsRUFDdEUsUUFBUyxJQUNiLENBQ0osRUFDQSxHQUFJLENBQUUsU0FBVSxDQUFDLEtBQU0sU0FBVSxXQUFZLEtBQU0sSUFBSSxDQUFFLEVBQ3pELElBQUssRUFDTCxNQUFPLENBQ0gsTUFBTyxDQUNILElBQUssS0FBTSxPQUFRLEtBQU0sTUFBTyxLQUFNLE9BQVEsS0FDOUMsWUFBYSxDQUFDLFlBQWEsaUJBQWlCLEVBQzVDLFFBQVMsQ0FBQyxPQUFRLFdBQVksTUFBTSxFQUNwQyxTQUFVLENBQUMsVUFBVSxFQUNyQixXQUFZLENBQUMsT0FBTyxFQUNwQixNQUFPLENBQUMsT0FBTyxFQUNmLFNBQVUsQ0FBQyxVQUFVLENBQ3pCLENBQ0osRUFDQSxJQUFLLENBQ1QsRUFDTSxHQUFjLENBQ2hCLFVBQVcsS0FDWCxNQUFPLEtBQ1AsZ0JBQWlCLEdBQ2pCLFlBQWEsS0FDYixJQUFLLENBQUMsTUFBTyxNQUFPLE1BQU0sRUFDMUIsVUFBVyxDQUFDLE9BQVEsUUFBUyxNQUFNLEVBQ25DLFNBQVUsQ0FBQyxPQUFRLE9BQVEsT0FBUSxVQUFXLE9BQU8sRUFDckQsT0FBUSxDQUFDLFFBQVEsRUFDakIsR0FBSSxLQUNKLE1BQU8sQ0FBQyxPQUFPLEVBQ2YsT0FBUSxLQUNSLFNBQVUsS0FDVixRQUFTLEtBQ1QsVUFBVyxDQUFDLFdBQVcsRUFDdkIsU0FBVSxLQUNWLEtBQU0sQ0FBQyxLQUFNLEtBQU0sS0FBTSxRQUFTLFFBQVMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sSUFBSSxFQUNyRyxXQUFZLEdBQ1osWUFBYSxHQUNiLGVBQWdCLEdBQ2hCLE1BQU8sS0FDUCxTQUFVLEtBQ1YsTUFBTyxLQUNQLFVBQVcsQ0FBQyxNQUFPLElBQUksRUFDdkIsSUFBSyxDQUFDLGFBQWMsWUFBYSxTQUFVLFdBQVksT0FBUSxVQUFXLE9BQVEsV0FBWSxhQUFjLFdBQVksT0FBUSxTQUFVLEtBQUssRUFDL0ksS0FBbUIsc1BBQXNQLE1BQU0sR0FBRyxFQUNsUix3QkFBeUIsS0FDekIsY0FBZSxHQUNmLG9CQUFxQixDQUFDLFNBQVUsT0FBUSxPQUFRLE1BQU0sRUFDdEQsWUFBYSxHQUNiLGVBQWdCLENBQUMsT0FBUSxRQUFTLFFBQVMsV0FBVyxFQUN0RCxnQkFBaUIsS0FDakIsbUJBQW9CLEtBQ3BCLGdCQUFpQixHQUNqQixrQkFBbUIsS0FDbkIsZ0JBQWlCLENBQUMsT0FBUSxRQUFTLFdBQVcsRUFDOUMsY0FBZSxLQUNmLGVBQWdCLENBQUMsT0FBUSxRQUFTLFdBQVcsRUFDN0MsZ0JBQWlCLEdBQ2pCLGNBQWUsR0FDZixlQUFnQixDQUFDLE9BQVEsUUFBUyxVQUFXLFVBQVUsRUFDdkQsYUFBYyxLQUNkLGtCQUFtQixLQUNuQixhQUFjLEtBQ2QsWUFBYSxDQUFDLE1BQU8sU0FBVSxXQUFXLEVBQzFDLGlCQUFrQixHQUNsQix1QkFBd0IsR0FDeEIsWUFBYSxLQUNiLGdCQUFpQixLQUNqQixlQUFnQixDQUFDLE9BQVEsUUFBUyxRQUFTLFdBQVcsRUFDdEQsZ0JBQWlCLEdBQ2pCLGdCQUFpQixLQUNqQixnQkFBaUIsR0FDakIsZ0JBQWlCLENBQUMsT0FBUSxRQUFTLFdBQVcsRUFDOUMsZUFBZ0IsS0FDaEIsWUFBYSxDQUFDLFlBQWEsYUFBYyxPQUFRLE9BQU8sRUFDeEQsZ0JBQWlCLEtBQ2pCLGdCQUFpQixLQUNqQixnQkFBaUIsS0FDakIsaUJBQWtCLElBQ3RCLEVBQ00sR0FBZ0MsMExBRVksTUFBTSxHQUFHLEVBQUUsSUFBSSxLQUFLLEtBQU8sQ0FBQyxFQUM5RSxRQUFTLEtBQUssR0FDVixHQUFZLEdBQUssS0FDckIsTUFBTSxFQUFPLENBQ1QsV0FBVyxDQUFDLEVBQVcsRUFBWSxDQUMvQixLQUFLLEtBQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFDLEVBQUcsRUFBSSxFQUFHLENBQVMsRUFDNUQsS0FBSyxZQUFjLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQyxFQUFHLEVBQVcsRUFBRyxDQUFVLEVBQzNFLEtBQUssUUFBVSxPQUFPLEtBQUssS0FBSyxJQUFJLEVBQ3BDLEtBQUssZ0JBQWtCLE9BQU8sS0FBSyxLQUFLLFdBQVcsRUFFM0QsQ0FDQSxHQUFPLFFBQXVCLElBQUksR0FpQ2xDLElBQU0sR0FBYSw0QkE4R2IsR0FBMEIsR0FBbUIsT0FBTyxVQUFVLENBQUUsSUFBSyxrQkFBbUIsQ0FBQyxFQUN6RixHQUFpQixDQUNuQixDQUFFLElBQUssU0FDSCxNQUFPLEtBQVMsRUFBTSxNQUFRLG1CQUFxQixFQUFNLE1BQVEsS0FDakUsT0FBUSxHQUFtQixNQUFPLEVBQ3RDLENBQUUsSUFBSyxTQUNILE1BQU8sS0FBUyxFQUFNLE1BQVEsY0FBZ0IsRUFBTSxNQUFRLFdBQzVELE9BQVEsR0FBWSxNQUFPLEVBQy9CLENBQUUsSUFBSyxTQUNILE1BQU8sS0FBUyxFQUFNLE1BQVEsc0JBQzlCLE9BQVEsR0FBWSxNQUFPLEVBQy9CLENBQUUsSUFBSyxTQUNILEtBQUssQ0FBQyxFQUFPLENBQ1QsTUFBTywyREFBMkQsS0FBSyxFQUFNLElBQUksR0FFckYsT0FBUSxFQUFXLEVBQ3ZCLENBQUUsSUFBSyxTQUNILEtBQUssQ0FBQyxFQUFPLENBQ1QsT0FBUSxFQUFNLE1BQVEsa0VBQWtFLEtBQUssRUFBTSxJQUFJLEdBRTNHLE9BQVEsR0FBbUIsTUFBTyxFQUN0QyxDQUFFLElBQUssUUFDSCxLQUFLLENBQUMsRUFBTyxDQUNULFFBQVMsRUFBTSxNQUFRLEVBQU0sTUFBUSxVQUFZLEVBQU0sTUFBUSxvQ0FBb0MsS0FBSyxFQUFNLElBQUksSUFFdEgsT0FBUSxHQUFZLE1BQU8sQ0FDbkMsRUFDTSxHQUE0QixDQUM5QixDQUFFLEtBQU0sUUFDSixPQUFxQixHQUFZLE9BQU8sVUFBVSxDQUFFLElBQUssUUFBUyxDQUFDLENBQUUsQ0FDN0UsRUFBRSxPQUFvQixHQUFnQixJQUFJLE1BQVMsQ0FBRSxPQUFNLE9BQVEsR0FBbUIsTUFBTyxFQUFFLENBQUMsRUFPMUYsR0FBeUIsR0FBVyxPQUFPLENBQzdDLEtBQU0sT0FDTixPQUFxQixHQUFPLFVBQVUsQ0FDbEMsTUFBTyxDQUNVLEdBQWUsSUFBSSxDQUM1QixPQUFPLENBQUMsRUFBUyxDQUNiLElBQUksRUFBUSxlQUFlLEtBQUssRUFBUSxTQUFTLEVBQ2pELEdBQUksRUFBUSxLQUFLLElBQU0sRUFBUSxJQUFNLEVBQU0sR0FBRyxPQUMxQyxPQUFPLEVBQVEsU0FBUyxFQUM1QixPQUFPLEVBQVEsV0FBVyxFQUFRLEtBQUssSUFBSSxHQUFLLEVBQU0sR0FBSyxFQUFJLEVBQVEsT0FFM0UsaUNBQWlDLENBQUMsRUFBUyxDQUN2QyxPQUFPLEVBQVEsT0FBTyxFQUFRLEtBQUssSUFBSSxFQUFJLEVBQVEsTUFFdkQsUUFBUSxDQUFDLEVBQVMsQ0FDZCxHQUFJLEVBQVEsSUFBTSxNQUFNLEtBQUssRUFBUSxTQUFTLEVBQUUsR0FBRyxPQUFTLEVBQVEsS0FBSyxHQUNyRSxPQUFPLEVBQVEsU0FBUyxFQUM1QixJQUFJLEVBQVMsS0FBTSxFQUNuQixRQUFTLEVBQU0sRUFBUSxPQUFRLENBQzNCLElBQUksRUFBTyxFQUFJLFVBQ2YsSUFBSyxHQUFRLEVBQUssTUFBUSxXQUFhLEVBQUssSUFBTSxFQUFJLEdBQ2xELE1BQ0osRUFBUyxFQUFNLEVBRW5CLEdBQUksTUFBYSxFQUFRLEVBQU8sYUFBZSxFQUFNLE1BQVEsWUFBYyxFQUFNLE1BQVEsbUJBQ3JGLE9BQU8sRUFBUSxXQUFXLEVBQU8sSUFBSSxFQUFJLEVBQVEsS0FDckQsT0FBTyxLQUVmLENBQUMsRUFDWSxHQUFhLElBQUksQ0FDMUIsT0FBTyxDQUFDLEVBQU0sQ0FDVixJQUFpQixXQUFiLEVBQXFDLFVBQVosR0FBTyxFQUNwQyxJQUFLLEdBQVMsRUFBTSxNQUFRLFVBQ3hCLE9BQU8sS0FDWCxNQUFPLENBQUUsS0FBTSxFQUFNLEdBQUksR0FBSSxFQUFLLE1BQVEsV0FBYSxFQUFLLEtBQU8sRUFBSyxFQUFHLEVBRW5GLENBQUMsRUFDWSxHQUFzQixJQUFJLENBQ25DLG1CQUFvQixLQUFRLEVBQUssU0FBUyxTQUFTLENBQ3ZELENBQUMsQ0FDTCxDQUNKLENBQUMsRUFDRCxhQUFjLENBQ1YsY0FBZSxDQUFFLE1BQU8sQ0FBRSxLQUFNLE9BQVEsTUFBTyxLQUFNLENBQUUsRUFDdkQsY0FBZSxnQkFDZixVQUFXLEtBQ2YsQ0FDSixDQUFDLEVBT0ssR0FBNEIsR0FBVSxVQUFVLENBQ2xELEtBQW1CLEdBQWlCLEdBQWdCLEVBQVksQ0FDcEUsQ0FBQyxFQXVCSyxHQUEyQixJQUFJLElBQWlCLHFHQUFxRyxNQUFNLEdBQUcsQ0FBQyxFQUsvSixHQUE2QixFQUFXLGFBQWEsR0FBRyxDQUFDLEVBQU0sRUFBTSxFQUFJLEVBQU0sSUFBc0IsQ0FDdkcsR0FBSSxFQUFLLFdBQWEsRUFBSyxNQUFNLFVBQVksR0FBUSxHQUFPLEdBQVEsS0FBTyxHQUFRLE1BQzlFLEdBQWEsV0FBVyxFQUFLLE1BQU8sRUFBTSxFQUFFLEVBQzdDLE1BQU8sR0FDWCxJQUFJLEVBQU8sRUFBa0IsR0FBSyxTQUFVLEVBQ3hDLEVBQVksRUFBTSxjQUFjLEtBQVMsQ0FDekMsSUFBSSxFQUFJLEVBQUksRUFDWixJQUFJLEVBQVUsRUFBTSxJQUFJLFlBQVksRUFBTSxLQUFPLEVBQUcsRUFBTSxFQUFFLEdBQUssR0FDM0QsUUFBUyxFQUFPLEVBQVEsRUFBVyxDQUFLLEVBQUUsYUFBYSxFQUFNLEVBQUUsRUFBRyxFQUN4RSxHQUFJLEdBQVcsR0FBUSxLQUFPLEVBQU0sTUFBUSxTQUFVLENBQ2xELElBQUksRUFBTSxFQUFNLE9BQ2hCLEtBQU0sR0FBTSxFQUFLLEVBQUksVUFBWSxNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsYUFBZSxNQUFRLElBQVksT0FBUyxPQUFJLEVBQUcsT0FBUyxhQUM1SCxFQUFPLEdBQVksRUFBTSxJQUFLLEVBQUksT0FBUSxDQUFJLEtBQzlDLEdBQVksSUFBSSxDQUFJLEVBQUcsQ0FDeEIsSUFBSSxFQUFLLEdBQVEsRUFBTSxJQUFJLFlBQVksRUFBTSxFQUFPLENBQUMsSUFBTSxJQUFNLEVBQUksR0FDakUsRUFBUyxLQUFLLEtBQ2xCLE1BQU8sQ0FBRSxRQUFPLFFBQVMsQ0FBRSxLQUFNLEVBQU0sS0FBSSxRQUFPLENBQUUsV0FHbkQsR0FBVyxHQUFRLEtBQU8sRUFBTSxNQUFRLHFCQUFzQixDQUNuRSxJQUFJLEVBQU0sRUFBTSxPQUNoQixHQUFJLEVBQU0sTUFBUSxFQUFPLEtBQU8sRUFBSyxFQUFJLGFBQWUsTUFBUSxJQUFZLE9BQVMsT0FBSSxFQUFHLE9BQVMsYUFDaEcsRUFBTyxHQUFZLEVBQU0sSUFBSyxFQUFLLENBQUksS0FBTyxHQUFZLElBQUksQ0FBSSxFQUFHLENBQ3RFLElBQUksRUFBSyxHQUFRLEVBQU0sSUFBSSxZQUFZLEVBQU0sRUFBTyxDQUFDLElBQU0sSUFBTSxFQUFJLEdBQ2pFLEVBQVMsR0FBRyxLQUNoQixNQUFPLENBQ0gsTUFBTyxFQUFnQixPQUFPLEVBQU8sRUFBTyxPQUFRLEVBQUUsRUFDdEQsUUFBUyxDQUFFLEtBQU0sRUFBTSxLQUFJLFFBQU8sQ0FDdEMsR0FHUixNQUFPLENBQUUsT0FBTSxFQUNsQixFQUNELEdBQUksRUFBVSxRQUFRLE1BQ2xCLE1BQU8sR0FRWCxPQVBBLEVBQUssU0FBUyxDQUNWLEVBQ0EsRUFBTSxPQUFPLEVBQVcsQ0FDcEIsVUFBVyxpQkFDWCxlQUFnQixFQUNwQixDQUFDLENBQ0wsQ0FBQyxFQUNNLEdBQ1YsRUNucEJELElBQU0sR0FBUyxVQUFXLEdBQVEsVUFBVyxHQUFPLFVBQVcsR0FBVSxVQUFXLEdBQVEsVUFBVyxHQUFRLFVBQy9HLEdBQVMsVUFBVyxHQUFPLFVBQVcsR0FBVSxVQUFXLEdBQVMsVUFBVyxHQUFpQixVQUFXLEdBQXNCLFVBQVcsR0FBYSxVQUFXLEdBQW9CLFVBQVcsR0FBWSxVQUFXLEdBQVMsVUF5Qm5PLElBQU0sR0FBNEIsRUFBVyxNQUFNLENBQy9DLElBQUssQ0FDRCxNQUFPLEdBQ1AsZ0JBQWlCLEVBQ3JCLEVBQ0EsY0FBZSxDQUNYLFdBQVksRUFDaEIsRUFDQSw2QkFBOEIsQ0FBRSxnQkFBaUIsRUFBTyxFQUN4RCw2SEFBOEgsQ0FBRSxnQkFBaUIsRUFBVSxFQUMzSixhQUFjLENBQUUsZ0JBQWlCLEdBQWdCLE1BQU8sRUFBTSxFQUM5RCwyQkFBNEIsQ0FBRSxhQUFjLGlCQUFrQixFQUM5RCw4QkFBK0IsQ0FBRSxVQUFXLGlCQUFrQixFQUM5RCxrQkFBbUIsQ0FDZixnQkFBaUIsWUFDakIsUUFBUyxtQkFDYixFQUNBLDBDQUEyQyxDQUN2QyxnQkFBaUIsV0FDckIsRUFDQSxpQkFBa0IsQ0FBRSxnQkFBaUIsV0FBWSxFQUNqRCxxQkFBc0IsQ0FBRSxnQkFBaUIsV0FBWSxFQUNyRCx3RUFBeUUsQ0FDckUsZ0JBQWlCLFdBQ3JCLEVBQ0EsY0FBZSxDQUNYLGdCQUFpQixHQUNqQixNQUFPLEdBQ1AsT0FBUSxNQUNaLEVBQ0EsdUJBQXdCLENBQ3BCLGdCQUFpQixFQUNyQixFQUNBLHNCQUF1QixDQUNuQixnQkFBaUIsY0FDakIsT0FBUSxPQUNSLE1BQU8sTUFDWCxFQUNBLGNBQWUsQ0FDWCxPQUFRLE9BQ1IsZ0JBQWlCLEVBQ3JCLEVBQ0EsdUNBQXdDLENBQ3BDLGVBQWdCLGNBQ2hCLGtCQUFtQixhQUN2QixFQUNBLHNDQUF1QyxDQUNuQyxlQUFnQixHQUNoQixrQkFBbUIsRUFDdkIsRUFDQSwyQkFBNEIsQ0FDeEIsNkJBQThCLENBQzFCLGdCQUFpQixHQUNqQixNQUFPLEVBQ1gsQ0FDSixDQUNKLEVBQUcsQ0FBRSxLQUFNLEVBQUssQ0FBQyxFQUlYLEdBQXFDLEdBQWUsT0FBTyxDQUM3RCxDQUFFLElBQUssRUFBSyxRQUNSLE1BQU8sRUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLEtBQU0sRUFBSyxRQUFTLEVBQUssVUFBVyxFQUFLLGFBQWMsRUFBSyxTQUFTLEVBQzlFLE1BQU8sRUFBTSxFQUNqQixDQUFFLElBQUssQ0FBYyxFQUFLLFNBQVMsRUFBSyxZQUFZLEVBQUcsRUFBSyxTQUFTLEVBQ2pFLE1BQU8sRUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLE1BQW9CLEVBQUssU0FBUyxFQUFLLElBQUksRUFBZ0IsRUFBSyxTQUFTLEVBQUssSUFBSSxDQUFDLEVBQzVGLE1BQU8sRUFBUSxFQUNuQixDQUFFLElBQUssQ0FBYyxFQUFLLFdBQVcsRUFBSyxJQUFJLEVBQUcsRUFBSyxTQUFTLEVBQzNELE1BQU8sRUFBTSxFQUNqQixDQUFFLElBQUssQ0FBQyxFQUFLLFNBQVUsRUFBSyxVQUFXLEVBQUssT0FBUSxFQUFLLFFBQVMsRUFBSyxXQUFZLEVBQUssU0FBVSxFQUFLLEtBQU0sRUFBSyxTQUFTLEVBQ3ZILE1BQU8sRUFBTyxFQUNsQixDQUFFLElBQUssQ0FBQyxFQUFLLFNBQVUsRUFBSyxnQkFBaUIsRUFBSyxJQUFLLEVBQUssT0FBUSxFQUFLLE9BQVEsRUFBSyxLQUFtQixFQUFLLFFBQVEsRUFBSyxNQUFNLENBQUMsRUFDOUgsTUFBTyxFQUFLLEVBQ2hCLENBQUUsSUFBSyxDQUFDLEVBQUssS0FBTSxFQUFLLE9BQU8sRUFDM0IsTUFBTyxFQUFNLEVBQ2pCLENBQUUsSUFBSyxFQUFLLE9BQ1IsV0FBWSxNQUFPLEVBQ3ZCLENBQUUsSUFBSyxFQUFLLFNBQ1IsVUFBVyxRQUFTLEVBQ3hCLENBQUUsSUFBSyxFQUFLLGNBQ1IsZUFBZ0IsY0FBZSxFQUNuQyxDQUFFLElBQUssRUFBSyxLQUNSLE1BQU8sR0FDUCxlQUFnQixXQUFZLEVBQ2hDLENBQUUsSUFBSyxFQUFLLFFBQ1IsV0FBWSxPQUNaLE1BQU8sRUFBTSxFQUNqQixDQUFFLElBQUssQ0FBQyxFQUFLLEtBQU0sRUFBSyxLQUFtQixFQUFLLFFBQVEsRUFBSyxZQUFZLENBQUMsRUFDdEUsTUFBTyxFQUFRLEVBQ25CLENBQUUsSUFBSyxDQUFDLEVBQUssc0JBQXVCLEVBQUssT0FBUSxFQUFLLFFBQVEsRUFDMUQsTUFBTyxFQUFLLEVBQ2hCLENBQUUsSUFBSyxFQUFLLFFBQ1IsTUFBTyxFQUFRLENBQ3ZCLENBQUMsRUFLSyxHQUFVLENBQUMsR0FBMkIsR0FBbUIsRUFBcUIsQ0FBQyxFQzdIckYsSUFBTSxHQUFxQixDQUN2QixtRkFDQSw0Q0FDSixFQUVJLEdBQVUsU0FBUyxlQUFlLE1BQU0sRUFDeEMsR0FBZ0IsU0FBUyxlQUFlLGtCQUFrQixFQUFFLGFBQWEsQ0FBRSxLQUFNLE1BQU8sQ0FBQyxFQUN6RixHQUVFLEdBQWtCO0FBQUE7QUFBQSxtR0FJeEIsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDaEQsSUFBSSxFQUFNLEdBQ1YsR0FDSSxHQUFpQixjQUFjLEdBQy9CLGFBQWEsUUFBUSxTQUFTLEdBQzlCLGFBQWEsUUFBUSxTQUFTLEVBQUUsS0FBSyxFQUFFLE9BQVMsRUFFaEQsRUFBTSxhQUFhLFFBQVEsU0FBUyxFQTRCeEMsR0F6QkEsR0FBTyxJQUFJLEVBQVcsQ0FDbEIsTUFDQSxXQUFZLENBQ1IsR0FBUSxFQUNSLEdBQU8sR0FBRyxDQUFDLEdBQUcsR0FBZSxHQUFHLEVBQWEsQ0FBQyxFQUM5QyxHQUFZLEVBQ1osR0FBSyxFQUNMLEVBQVcsYUFDWCxHQUNBLEdBQWUsQ0FBQyxDQUFDLEVBQ2pCLEVBQVcsZUFBZSxHQUFHLENBQUMsSUFBVyxDQUNyQyxHQUFJLEVBQU8sV0FBWSxDQUNuQixHQUFJLEdBQWlCLGNBQWMsRUFDL0IsYUFBYSxRQUFRLFVBQVcsRUFBTyxNQUFNLElBQUksU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUV0RSxHQUFhLEVBQU8sTUFBTSxJQUFJLFNBQVMsQ0FBQyxHQUUvQyxDQUNMLEVBQ0EsT0FBUSxTQUFTLGNBQWMsWUFBWSxDQUMvQyxDQUFDLEVBRUQsR0FBWSxFQUNaLEdBQWEsR0FBSyxNQUFNLElBQUksU0FBUyxDQUFDLEdBRWpDLEdBQWdCLEVBQ2pCLEdBQVEsTUFBTSxRQUFVLFdBRXhCLElBQVEsaUJBQWlCLFFBQVMsRUFBZSxFQUV4RCxFQUVELElBQU0sR0FBYyxJQUFNLENBQ3RCLElBQUksRUFBTyxTQUFTLGNBQWMsTUFBTSxFQUNwQyxFQUFPLFNBQVMsY0FBYyxNQUFNLEVBQ3BDLEVBQU8sU0FBUyxjQUFjLE1BQU0sRUFFeEMsRUFBSyxZQUFZLENBQUksRUFFckIsR0FBbUIsUUFBUSxDQUFDLElBQVksQ0FDcEMsSUFBSSxFQUFXLFNBQVMsY0FBYyxNQUFNLEVBQzVDLEVBQVMsYUFBYSxNQUFPLFlBQVksRUFDekMsRUFBUyxhQUFhLE9BQVEsQ0FBTyxFQUNyQyxFQUFLLFlBQVksQ0FBUSxFQUM1QixFQUVELElBQUksRUFBc0IsU0FBUyxjQUFjLEtBQUssRUFDdEQsRUFBb0IsVUFBVSxJQUFJLHFCQUFxQixFQUV2RCxJQUFJLEVBQWtCLEVBQW9CLFlBQVksU0FBUyxjQUFjLE1BQU0sQ0FBQyxFQUNwRixFQUFnQixhQUFhLEtBQU0sbUNBQW1DLEVBRXRFLEVBQW9CLFlBQVksQ0FBZSxFQUUvQyxFQUFLLFlBQVksQ0FBbUIsRUFFcEMsRUFBSyxZQUFZLENBQUksRUFFckIsR0FBYyxZQUFZLENBQUksR0FHNUIsR0FBZSxDQUFDLElBQVksQ0FLOUIsR0FBYyxlQUFlLG1DQUFtQyxFQUFFLFVBQVksR0FhNUUsR0FBbUIsQ0FBQyxJQUFTLENBQy9CLElBQUksRUFDSixHQUFJLENBQ0EsRUFBVSxPQUFPLEdBQ2pCLElBQUksRUFBSSxtQkFHUixPQUZBLEVBQVEsUUFBUSxFQUFHLENBQUMsRUFDcEIsRUFBUSxXQUFXLENBQUMsRUFDYixTQUNGLEVBQVAsQ0FDRSxPQUNJLGFBQWEsZUFFWixFQUFFLE9BQVMsc0JBQXdCLEVBQUUsT0FBUywrQkFDL0MsR0FDQSxFQUFRLFNBQVcsSUFLekIsR0FBa0IsSUFBTSxDQUMxQixPQUFPLFdBQWEsVUFBVSxXQUFhLFVBQVUsVUFBVSxXQUc3RCxHQUFrQixJQUFNLENBQzFCLFVBQVUsVUFBVSxVQUFVLEdBQUssTUFBTSxJQUFJLFNBQVMsQ0FBQyxFQUN2RCxTQUFTLGVBQWUsTUFBTSxFQUFFLFVBQVksdUJBQzVDLE9BQU8sV0FBVyxJQUFNLENBQ3BCLFNBQVMsZUFBZSxNQUFNLEVBQUUsVUFBWSxxQkFDN0MsSUFBSSxHQUdMLEdBQVMsU0FBUyxpQkFBaUIsY0FBYyxFQUN2RCxHQUFPLGdCQUFpQixDQUFDLEVBQVMsQ0FDOUIsRUFBUSxpQkFBaUIsZ0JBQWtCLENBQUMsRUFBTyxDQUMvQyxFQUFNLGVBQWUsRUFDckIsTUFBTSxFQUFRLFNBQVMsZUFBZSxFQUFRLFFBQVEsS0FBSyxFQUMzRCxFQUFNLFVBQVUsSUFBSSxZQUFZLEVBQ2xCLEVBQU0saUJBQWlCLGFBQWEsRUFDNUMsZ0JBQWlCLENBQUMsRUFBTSxDQUMxQixFQUFLLGlCQUFpQixnQkFBa0IsQ0FBQyxFQUFPLENBQzVDLEVBQU0sZUFBZSxFQUNyQixFQUFNLFVBQVUsT0FBTyxZQUFZLEVBQ3RDLEVBQ0osRUFDSixFQUNKIiwKICAiZGVidWdJZCI6ICI3NTgyMkIwN0RFRDVEOTc2NjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
